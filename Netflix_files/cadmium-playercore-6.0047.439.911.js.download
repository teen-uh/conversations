p$i87[533978]=(function(){var H1G=2;for(;H1G !== 9;){switch(H1G){case 2:H1G=typeof globalThis === '\x6f\x62\x6a\u0065\x63\x74'?1:5;break;case 1:return globalThis;break;case 5:var C8h;try{var B80=2;for(;B80 !== 6;){switch(B80){case 4:B80=typeof $O2nw === '\u0075\u006e\x64\x65\u0066\x69\x6e\u0065\x64'?3:9;break;case 5:C8h['\x24\x4f\x32\u006e\u0077']=C8h;B80=4;break;case 9:delete C8h['\x24\u004f\u0032\x6e\u0077'];var J64=Object['\x70\u0072\x6f\u0074\u006f\u0074\u0079\x70\u0065'];delete J64['\x6b\x39\u0071\u004f\u006b'];B80=6;break;case 2:Object['\x64\x65\u0066\u0069\x6e\u0065\x50\x72\x6f\u0070\x65\x72\x74\x79'](Object['\u0070\x72\u006f\x74\x6f\u0074\x79\u0070\u0065'],'\x6b\u0039\u0071\x4f\x6b',{'\x67\x65\x74':function(){return this;},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});C8h=k9qOk;B80=5;break;case 3:throw "";B80=9;break;}}}catch(p91){C8h=window;}return C8h;break;}}})();p$i87[549]=(function(C1I){return {B2myIXq:function(){var e3s,q9o=arguments;switch(C1I){case 6:e3s=q9o[0] / q9o[1] - q9o[2];break;case 20:e3s=q9o[0] / q9o[2] | q9o[1];break;case 13:e3s=q9o[1] * q9o[0];break;case 18:e3s=(q9o[0] + q9o[3]) / q9o[2] + q9o[1];break;case 7:e3s=q9o[1] === q9o[0];break;case 0:e3s=q9o[0] + q9o[1];break;case 24:e3s=q9o[3] + q9o[2] - q9o[1] - q9o[0];break;case 17:e3s=q9o[0] <= q9o[1];break;case 15:e3s=q9o[1] - q9o[2] + q9o[0];break;case 14:e3s=q9o[1] - q9o[2] - q9o[0];break;case 8:e3s=q9o[0] instanceof q9o[1];break;case 22:e3s=-q9o[3] - q9o[2] + q9o[0] + q9o[1];break;case 16:e3s=q9o[0] < q9o[1];break;case 1:e3s=q9o[4] + q9o[0] + q9o[2] + q9o[1] + q9o[3];break;case 3:e3s=q9o[1] * q9o[0] / q9o[2];break;case 5:e3s=q9o[1] / q9o[0];break;case 4:e3s=q9o[1] - q9o[0];break;case 11:e3s=-q9o[1] + q9o[0];break;case 9:e3s=(q9o[1] - q9o[4]) * q9o[0] * q9o[2] + q9o[3];break;case 23:e3s=-q9o[1] * q9o[2] + q9o[0];break;case 21:e3s=(q9o[2] / q9o[3] | q9o[1]) * q9o[0];break;case 2:e3s=q9o[1] + q9o[2] + q9o[0];break;case 25:e3s=-q9o[3] / q9o[1] / q9o[2] + q9o[0];break;case 12:e3s=-q9o[3] + q9o[2] + q9o[0] - q9o[1];break;case 10:e3s=q9o[2] * q9o[1] - q9o[0];break;case 19:e3s=q9o[2] + q9o[3] / q9o[0] * q9o[1];break;}return e3s;},Y7jRHZ3:function(A$2){C1I=A$2;}};})();p$i87[533978].i2oo=p$i87;p$i87[379626]=p$i87[533978];function p$i87(){}p$i87.U73=function(){return typeof p$i87[549].Y7jRHZ3 === 'function'?p$i87[549].Y7jRHZ3.apply(p$i87[549],arguments):p$i87[549].Y7jRHZ3;};p$i87[439350]="gih";p$i87.s$f=function(){return typeof p$i87[549].Y7jRHZ3 === 'function'?p$i87[549].Y7jRHZ3.apply(p$i87[549],arguments):p$i87[549].Y7jRHZ3;};p$i87[165125]=p$i87[549];p$i87[468734]="E3U";p$i87[440323]=false;p$i87.a0K=function(){return typeof p$i87[549].B2myIXq === 'function'?p$i87[549].B2myIXq.apply(p$i87[549],arguments):p$i87[549].B2myIXq;};p$i87[310727]=true;p$i87[140012]="Xwp";p$i87.g7m=function(){return typeof p$i87[549].B2myIXq === 'function'?p$i87[549].B2myIXq.apply(p$i87[549],arguments):p$i87[549].B2myIXq;};p$i87[412661]=550;(function(){(function(Ba,Mb){(function(){var bb,Ga,qb,Cb,ab,Db,tb,Wa,Eb;function nb(ja){var qa;qa=0;return function(){return qa < ja.length?{done:!1,value:ja[qa++]}:{done:!0};};}function Ma(ja,qa){var ta,b;if(qa)a:{ta=Ga;ja=ja.split(".");for(var r=0;r < ja.length - 1;r++){b=ja[r];if(!((b in ta)))break a;ta=ta[b];}ja=ja[ja.length - 1];r=ta[ja];qa=qa(r);qa != r && null != qa && bb(ta,ja,{configurable:!0,writable:!0,value:qa});}}function ob(ja){ja={next:ja};ja[Symbol.iterator]=function(){return this;};return ja;}function Ea(ja){var qa;qa="undefined" != typeof Symbol && Symbol.iterator && ja[Symbol.iterator];return qa?qa.call(ja):{next:nb(ja)};}function pb(ja){for(var qa,ta=[];!(qa=ja.next()).done;)ta.push(qa.value);return ta;}function xa(ja){return ja instanceof Array?ja:pb(Ea(ja));}function Ha(ja,qa){var r;ja.prototype=qb(qa.prototype);ja.prototype.constructor=ja;if(Wa)Wa(ja,qa);else for(var ta in qa)if("prototype" != ta)if(Object.defineProperties){r=Object.getOwnPropertyDescriptor(qa,ta);r && Object.defineProperty(ja,ta,r);}else ja[ta]=qa[ta];ja.zNc=qa.prototype;}function cb(){this.L3=!1;this.TI=null;this.NW=void 0;this.cq=1;this.Oeb=this.C0=0;this.JK=null;}function db(ja){if(ja.L3)throw new TypeError("Generator is already running");ja.L3=!0;}function Za(ja,qa,ta){ja.cq=ta;return {value:qa};}function zb(ja){ja.cq=2;ja.C0=0;}function rb(ja){var qa;ja.C0=0;qa=ja.JK.keb;ja.JK=null;return qa;}function eb(ja){this.tg=new cb();this.ymc=ja;}function Ab(ja,qa){var ta;db(ja.tg);ta=ja.tg.TI;if(ta)return fb(ja,("return" in ta)?ta["return"]:function(r){return {value:r,done:!0};},qa,ja.tg.return);ja.tg.return(qa);return $a(ja);}function fb(ja,qa,ta,r){var b,a;try{b=qa.call(ja.tg.TI,ta);if(!(b instanceof Object))throw new TypeError("Iterator result " + b + " is not an object");if(!b.done)return (ja.tg.L3=!1,b);a=b.value;}catch(c){return (ja.tg.TI=null,ja.tg.K7(c),$a(ja));}ja.tg.TI=null;r.call(ja.tg,a);return $a(ja);}function $a(ja){var qa;for(;ja.tg.cq;)try{qa=ja.ymc(ja.tg);if(qa)return (ja.tg.L3=!1,{value:qa.value,done:!1});}catch(ta){ja.tg.NW=void 0;ja.tg.K7(ta);}ja.tg.L3=!1;if(ja.tg.JK){qa=ja.tg.JK;ja.tg.JK=null;if(qa.Iac)throw qa.keb;return {value:qa.return,done:!0};}return {value:void 0,done:!0};}function Bb(ja){this.next=function(qa){return ja.W4(qa);};this.throw=function(qa){return ja.K7(qa);};this.return=function(qa){return Ab(ja,qa);};this[Symbol.iterator]=function(){return this;};}function Ua(ja,qa){qa=new Bb(new eb(qa));Wa && ja.prototype && Wa(qa,ja.prototype);return qa;}function Sa(ja,qa){return Object.prototype.hasOwnProperty.call(ja,qa);}function sb(ja,qa,ta){var a;ja instanceof String && (ja=String(ja));for(var r=ja.length,b=0;b < r;b++){a=ja[b];if(qa.call(ta,a,b,ja))return {gjb:b,Yma:a};}return {gjb:-1,Yma:void 0};}function gb(ja,qa,ta){if(null == ja)throw new TypeError("The 'this' value for String.prototype." + ta + " must not be null or undefined");if(qa instanceof RegExp)throw new TypeError("First argument to String.prototype." + ta + " must not be a regular expression");return ja + "";}function hb(ja,qa){var ta,r,b;ja instanceof String && (ja+="");ta=0;r=!1;b={next:function(){var a;if(!r && ta < ja.length){a=ta++;return {value:qa(a,ja[a]),done:!1};}r=!0;return {done:!0,value:void 0};}};b[Symbol.iterator]=function(){return b;};return b;}bb="function" == typeof Object.defineProperties?Object.defineProperty:function(ja,qa,ta){if(ja == Array.prototype || ja == Object.prototype)return ja;ja[qa]=ta.value;return ja;};Ga=(function(ja){var ta;ja=["object" == typeof globalThis && globalThis,ja,"object" == typeof Ba && Ba,"object" == typeof self && self,"object" == typeof global && global];for(var qa=0;qa < ja.length;++qa){ta=ja[qa];if(ta && ta.Math == Math)return ta;}throw Error("Cannot find global object");})(this);Ma("Symbol",function(ja){var r;function qa(b){if(this instanceof qa)throw new TypeError("Symbol is not a constructor");return new ta("jscomp_symbol_" + (b || "") + "_" + r++,b);}function ta(b,a){this.wAb=b;bb(this,"description",{configurable:!0,writable:!0,value:a});}if(ja)return ja;ta.prototype.toString=function(){return this.wAb;};r=0;return qa;});Ma("Symbol.iterator",function(ja){var r;if(ja)return ja;ja=Symbol("Symbol.iterator");for(var qa=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),ta=0;ta < qa.length;ta++){r=Ga[qa[ta]];"function" === typeof r && "function" != typeof r.prototype[ja] && bb(r.prototype,ja,{configurable:!0,writable:!0,value:function(){return ob(nb(this));}});}return ja;});qb="function" == typeof Object.create?Object.create:function(ja){function qa(){}qa.prototype=ja;return new qa();};Cb=(function(){var qa;function ja(){function ta(){}new ta();Reflect.construct(ta,[],function(){});return new ta() instanceof ta;}if("undefined" != typeof Reflect && Reflect.construct){if(ja())return Reflect.construct;qa=Reflect.construct;return function(ta,r,b){ta=qa(ta,r);b && Reflect.setPrototypeOf(ta,b.prototype);return ta;};}return function(ta,r,b){void 0 === b && (b=ta);b=qb(b.prototype || Object.prototype);return Function.prototype.apply.call(ta,b,r) || b;};})();if("function" == typeof Object.setPrototypeOf)ab=Object.setPrototypeOf;else {a:{Db={a:!0};tb={};try{tb.__proto__=Db;ab=tb.a;break a;}catch(ja){}ab=!1;}ab=ab?function(ja,qa){ja.__proto__=qa;if(ja.__proto__ !== qa)throw new TypeError(ja + " is not extensible");return ja;}:null;}Wa=ab;cb.prototype.W4=function(ja){this.NW=ja;};cb.prototype.K7=function(ja){this.JK={keb:ja,Iac:!0};this.cq=this.C0 || this.Oeb;};cb.prototype.return=function(ja){this.JK={return:ja};this.cq=this.Oeb;};eb.prototype.W4=function(ja){db(this.tg);if(this.tg.TI)return fb(this,this.tg.TI.next,ja,this.tg.W4);this.tg.W4(ja);return $a(this);};eb.prototype.K7=function(ja){db(this.tg);if(this.tg.TI)return fb(this,this.tg.TI["throw"],ja,this.tg.W4);this.tg.K7(ja);return $a(this);};Ma("Reflect",function(ja){return ja?ja:{};});Ma("Reflect.construct",function(){return Cb;});Ma("Reflect.setPrototypeOf",function(ja){return ja?ja:Wa?function(qa,ta){try{return (Wa(qa,ta),!0);}catch(r){return !1;}}:null;});Ma("WeakMap",function(ja){var c,n;function qa(d){this.j3=(n+=Math.random() + 1).toString();if(d){d=Ea(d);for(var g;!(g=d.next()).done;)(g=g.value,this.set(g[0],g[1]));}}function ta(){}function r(d){var g;g=typeof d;return "object" === g && null !== d || "function" === g;}function b(d){var g;if(!Sa(d,c)){g=new ta();bb(d,c,{value:g});}}function a(d){var g;g=Object[d];g && (Object[d]=function(e){if(e instanceof ta)return e;Object.isExtensible(e) && b(e);return g(e);});}if((function(){var d,g,e;if(!ja || !Object.seal)return !1;try{d=Object.seal({});g=Object.seal({});e=new ja([[d,2],[g,3]]);if(2 != e.get(d) || 3 != e.get(g))return !1;e.delete(d);e.set(g,4);return !e.has(d) && 4 == e.get(g);}catch(f){return !1;}})())return ja;c="$jscomp_hidden_" + Math.random();a("freeze");a("preventExtensions");a("seal");n=0;qa.prototype.set=function(d,g){if(!r(d))throw Error("Invalid WeakMap key");b(d);if(!Sa(d,c))throw Error("WeakMap key fail: " + d);d[c][this.j3]=g;return this;};qa.prototype.get=function(d){return r(d) && Sa(d,c)?d[c][this.j3]:void 0;};qa.prototype.has=function(d){return r(d) && Sa(d,c) && Sa(d[c],this.j3);};qa.prototype.delete=function(d){return r(d) && Sa(d,c) && Sa(d[c],this.j3)?delete d[c][this.j3]:!1;};return qa;});Ma("Map",function(ja){var a,c;function qa(){var n;n={};return n.Bo=n.next=n.head=n;}function ta(n,d){var g;g=n.nD;return ob(function(){if(g){for(;g.head != n.nD;)g=g.Bo;for(;g.next != g.head;)return (g=g.next,{done:!1,value:d(g)});g=null;}return {done:!0,value:void 0};});}function r(n,d){var g,e,f;g=d && typeof d;"object" == g || "function" == g?a.has(d)?g=a.get(d):(g="" + ++c,a.set(d,g)):g="p_" + d;e=n.UC[g];if(e && Sa(n.UC,g))for(n=0;n < e.length;n++){f=e[n];if(d !== d && f.key !== f.key || d === f.key)return {id:g,list:e,index:n,entry:f};}return {id:g,list:e,index:-1,entry:void 0};}function b(n){this.UC={};this.nD=qa();this.size=0;if(n){n=Ea(n);for(var d;!(d=n.next()).done;)(d=d.value,this.set(d[0],d[1]));}}if((function(){var n,d,g,e;if(!ja || "function" != typeof ja || !ja.prototype.entries || "function" != typeof Object.seal)return !1;try{n=Object.seal({x:4});d=new ja(Ea([[n,"s"]]));if("s" != d.get(n) || 1 != d.size || d.get({x:4}) || d.set({x:4},"t") != d || 2 != d.size)return !1;g=d.entries();e=g.next();if(e.done || e.value[0] != n || "s" != e.value[1])return !1;e=g.next();return e.done || 4 != e.value[0].x || "t" != e.value[1] || !g.next().done?!1:!0;}catch(f){return !1;}})())return ja;a=new WeakMap();b.prototype.set=function(n,d){var g;n=0 === n?0:n;g=r(this,n);g.list || (g.list=this.UC[g.id]=[]);g.entry?g.entry.value=d:(g.entry={next:this.nD,Bo:this.nD.Bo,head:this.nD,key:n,value:d},g.list.push(g.entry),this.nD.Bo.next=g.entry,this.nD.Bo=g.entry,this.size++);return this;};b.prototype.delete=function(n){n=r(this,n);return n.entry && n.list?(n.list.splice(n.index,1),n.list.length || delete this.UC[n.id],n.entry.Bo.next=n.entry.next,n.entry.next.Bo=n.entry.Bo,n.entry.head=null,this.size--,!0):!1;};b.prototype.clear=function(){this.UC={};this.nD=this.nD.Bo=qa();this.size=0;};b.prototype.has=function(n){return !!r(this,n).entry;};b.prototype.get=function(n){return (n=r(this,n).entry) && n.value;};b.prototype.entries=function(){return ta(this,function(n){return [n.key,n.value];});};b.prototype.keys=function(){return ta(this,function(n){return n.key;});};b.prototype.values=function(){return ta(this,function(n){return n.value;});};b.prototype.forEach=function(n,d){for(var g=this.entries(),e;!(e=g.next()).done;)(e=e.value,n.call(d,e[1],e[0],this));};b.prototype[Symbol.iterator]=b.prototype.entries;c=0;return b;});Ma("Set",function(ja){function qa(ta){this.oA=new Map();if(ta){ta=Ea(ta);for(var r;!(r=ta.next()).done;)this.add(r.value);}this.size=this.oA.size;}if((function(){var ta,r,b,a;if(!ja || "function" != typeof ja || !ja.prototype.entries || "function" != typeof Object.seal)return !1;try{ta=Object.seal({x:4});r=new ja(Ea([ta]));if(!r.has(ta) || 1 != r.size || r.add(ta) != r || 1 != r.size || r.add({x:4}) != r || 2 != r.size)return !1;b=r.entries();a=b.next();if(a.done || a.value[0] != ta || a.value[1] != ta)return !1;a=b.next();return a.done || a.value[0] == ta || 4 != a.value[0].x || a.value[1] != a.value[0]?!1:b.next().done;}catch(c){return !1;}})())return ja;qa.prototype.add=function(ta){ta=0 === ta?0:ta;this.oA.set(ta,ta);this.size=this.oA.size;return this;};qa.prototype.delete=function(ta){ta=this.oA.delete(ta);this.size=this.oA.size;return ta;};qa.prototype.clear=function(){this.oA.clear();this.size=0;};qa.prototype.has=function(ta){return this.oA.has(ta);};qa.prototype.entries=function(){return this.oA.entries();};qa.prototype.values=function(){return this.oA.values();};qa.prototype.keys=qa.prototype.values;qa.prototype[Symbol.iterator]=qa.prototype.values;qa.prototype.forEach=function(ta,r){var b;b=this;this.oA.forEach(function(a){return ta.call(r,a,a,b);});};return qa;});Ma("Array.prototype.find",function(ja){return ja?ja:function(qa,ta){return sb(this,qa,ta).Yma;};});Ma("Number.isFinite",function(ja){return ja?ja:function(qa){return "number" !== typeof qa?!1:!isNaN(qa) && Infinity !== qa && -Infinity !== qa;};});Ma("Promise",function(ja){var b,a;function qa(c){var n;this.VV=0;this.F6=void 0;this.zU=[];this.Akb=!1;n=this.lCa();try{c(n.resolve,n.reject);}catch(d){n.reject(d);}}function ta(){this.QF=null;}function r(c){return c instanceof qa?c:new qa(function(n){n(c);});}if(ja)return ja;ta.prototype.P9a=function(c){var n;if(null == this.QF){this.QF=[];n=this;this.Q9a(function(){n.A1b();});}this.QF.push(c);};b=Ga.setTimeout;ta.prototype.Q9a=function(c){b(c,0);};ta.prototype.A1b=function(){var c,d;for(;this.QF && this.QF.length;){c=this.QF;this.QF=[];for(var n=0;n < c.length;++n){d=c[n];c[n]=null;try{d();}catch(g){this.dQb(g);}}}this.QF=null;};ta.prototype.dQb=function(c){this.Q9a(function(){throw c;});};qa.prototype.lCa=function(){var n,d;function c(g){return function(e){d || (d=!0,g.call(n,e));};}n=this;d=!1;return {resolve:c(this.opc),reject:c(this.ONa)};};qa.prototype.opc=function(c){var n;if(c === this)this.ONa(new TypeError("A Promise cannot resolve to itself"));else if(c instanceof qa)this.msc(c);else {a:switch(typeof c){case "object":n=null != c;break a;case "function":n=!0;break a;default:n=!1;}n?this.npc(c):this.Cfb(c);}};qa.prototype.npc=function(c){var n;n=void 0;try{n=c.then;}catch(d){this.ONa(d);return;}"function" == typeof n?this.nsc(n,c):this.Cfb(c);};qa.prototype.ONa=function(c){this.yvb(2,c);};qa.prototype.Cfb=function(c){this.yvb(1,c);};qa.prototype.yvb=function(c,n){if(0 != this.VV)throw Error("Cannot settle(" + c + ", " + n + "): Promise already settled in state" + this.VV);this.VV=c;this.F6=n;2 === this.VV && this.iqc();this.B1b();};qa.prototype.iqc=function(){var c;c=this;b(function(){var n;if(c.jhc()){n=Ga.console;"undefined" !== typeof n && n.error(c.F6);}},1);};qa.prototype.jhc=function(){var c,n,d;if(this.Akb)return !1;c=Ga.CustomEvent;n=Ga.Event;d=Ga.dispatchEvent;if("undefined" === typeof d)return !0;"function" === typeof c?c=new c("unhandledrejection",{cancelable:!0}):"function" === typeof n?c=new n("unhandledrejection",{cancelable:!0}):(c=Ga.document.createEvent("CustomEvent"),c.initCustomEvent("unhandledrejection",!1,!0,c));c.promise=this;c.reason=this.F6;return d(c);};qa.prototype.B1b=function(){if(null != this.zU){for(var c=0;c < this.zU.length;++c)a.P9a(this.zU[c]);this.zU=null;}};a=new ta();qa.prototype.msc=function(c){var n;n=this.lCa();c.Xca(n.resolve,n.reject);};qa.prototype.nsc=function(c,n){var d;d=this.lCa();try{c.call(n,d.resolve,d.reject);}catch(g){d.reject(g);}};qa.prototype.then=function(c,n){var g,e,f;function d(l,h){return "function" == typeof l?function(k){try{g(l(k));}catch(m){e(m);}}:h;}f=new qa(function(l,h){g=l;e=h;});this.Xca(d(c,g),d(n,e));return f;};qa.prototype.catch=function(c){return this.then(void 0,c);};qa.prototype.Xca=function(c,n){var g;function d(){switch(g.VV){case 1:c(g.F6);break;case 2:n(g.F6);break;default:throw Error("Unexpected state: " + g.VV);}}g=this;null == this.zU?a.P9a(d):this.zU.push(d);this.Akb=!0;};qa.resolve=r;qa.reject=function(c){return new qa(function(n,d){d(c);});};qa.race=function(c){return new qa(function(n,d){for(var g=Ea(c),e=g.next();!e.done;e=g.next())r(e.value).Xca(n,d);});};qa.all=function(c){var n,d;n=Ea(c);d=n.next();return d.done?r([]):new qa(function(g,e){var l,h;function f(k){return function(m){l[k]=m;h--;0 == h && g(l);};}l=[];h=0;do (l.push(void 0),h++,r(d.value).Xca(f(l.length - 1),e),d=n.next());while(!d.done);});};return qa;});Eb="function" == typeof Object.assign?Object.assign:function(ja,qa){var r;for(var ta=1;ta < arguments.length;ta++){r=arguments[ta];if(r)for(var b in r)Sa(r,b) && (ja[b]=r[b]);}return ja;};Ma("Object.assign",function(ja){return ja || Eb;});Ma("Object.is",function(ja){return ja?ja:function(qa,ta){return qa === ta?0 !== qa || 1 / qa === 1 / ta:qa !== qa && ta !== ta;};});Ma("Array.prototype.includes",function(ja){return ja?ja:function(qa,ta){var r,b,a;r=this;r instanceof String && (r=String(r));b=r.length;ta=ta || 0;for(0 > ta && (ta=Math.max(ta + b,0));ta < b;ta++){a=r[ta];if(a === qa || Object.is(a,qa))return !0;}return !1;};});Ma("String.prototype.includes",function(ja){return ja?ja:function(qa,ta){return -1 !== gb(this,qa,"includes").indexOf(qa,ta || 0);};});Ma("Object.entries",function(ja){return ja?ja:function(qa){var ta,r;ta=[];for(r in qa)Sa(qa,r) && ta.push([r,qa[r]]);return ta;};});Ma("Object.values",function(ja){return ja?ja:function(qa){var ta,r;ta=[];for(r in qa)Sa(qa,r) && ta.push(qa[r]);return ta;};});Ma("Array.prototype.keys",function(ja){return ja?ja:function(){return hb(this,function(qa){return qa;});};});Ma("Array.prototype.entries",function(ja){return ja?ja:function(){return hb(this,function(qa,ta){return [qa,ta];});};});Ma("Array.prototype.findIndex",function(ja){return ja?ja:function(qa,ta){return sb(this,qa,ta).gjb;};});Ma("Promise.prototype.finally",function(ja){return ja?ja:function(qa){return this.then(function(ta){return Promise.resolve(qa()).then(function(){return ta;});},function(ta){return Promise.resolve(qa()).then(function(){throw ta;});});};});Ma("Number.parseInt",function(ja){return ja || parseInt;});Ma("String.prototype.startsWith",function(ja){return ja?ja:function(qa,ta){var r,b,a;r=gb(this,qa,"startsWith");qa+="";b=r.length;a=qa.length;ta=Math.max(0,Math.min(ta | 0,r.length));for(var c=0;c < a && ta < b;)if(r[ta++] != qa[c++])return !1;return c >= a;};});Ma("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});Ma("Array.prototype.values",function(ja){return ja?ja:function(){return hb(this,function(qa,ta){return ta;});};});Ma("String.prototype.endsWith",function(ja){return ja?ja:function(qa,ta){var r;r=gb(this,qa,"endsWith");qa+="";void 0 === ta && (ta=r.length);ta=Math.max(0,Math.min(ta | 0,r.length));for(var b=qa.length;0 < b && 0 < ta;)if(r[--ta] != qa[--b])return !1;return 0 >= b;};});Ma("Array.from",function(ja){return ja?ja:function(qa,ta,r){var b,a;ta=null != ta?ta:function(n){return n;};b=[];a="undefined" != typeof Symbol && Symbol.iterator && qa[Symbol.iterator];if("function" == typeof a){qa=a.call(qa);for(var c=0;!(a=qa.next()).done;)b.push(ta.call(r,a.value,c++));}else for((a=qa.length,c=0);c < a;c++)b.push(ta.call(r,qa[c],c));return b;};});Ma("Number.isNaN",function(ja){return ja?ja:function(qa){return "number" === typeof qa && isNaN(qa);};});Ma("Object.getOwnPropertySymbols",function(ja){return ja?ja:function(){return [];};});Ma("Reflect.apply",function(ja){var qa;if(ja)return ja;qa=Function.prototype.apply;return function(ta,r,b){return qa.call(ta,r,b);};});Ma("Object.setPrototypeOf",function(ja){return ja || Wa;});Ma("Math.tanh",function(ja){return ja?ja:function(qa){var ta;qa=Number(qa);if(0 === qa)return qa;ta=Math.exp(-2 * Math.abs(qa));ta=(1 - ta) / (1 + ta);return 0 > qa?-ta:ta;};});Ma("String.fromCodePoint",function(ja){return ja?ja:function(qa){var b;for(var ta="",r=0;r < arguments.length;r++){b=Number(arguments[r]);if(0 > b || 1114111 < b || b !== Math.floor(b))throw new RangeError("invalid_code_point " + b);65535 >= b?ta+=String.fromCharCode(b):(b-=65536,ta+=String.fromCharCode(b >>> 10 & 1023 | 55296),ta+=String.fromCharCode(b & 1023 | 56320));}return ta;};});(function(){var qa,ta;function ja(r){var b;b=ta[r];if(void 0 !== b)return b.exports;b=ta[r]={exports:{}};qa[r].call(b.exports,b,b.exports,ja);return b.exports;}qa={71501:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GYa="Injector";b.OB=145152E5;b.pQ="ProfileSymbol";},66523:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.muc=b.Vob=void 0;b.Ft=function(a,c){var n;n=Object.getOwnPropertyDescriptor(a,c);n && Object.defineProperty(a,c,{configurable:n.configurable,enumerable:!1,value:n.value,writable:n.writable});};b.flatten=function(a){return [].concat.apply([],xa(a));};b.Vob=function(a,c){return a - c;};b.muc=function(a,c){return a.localeCompare(c);};},24747:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.N8="ApiInfoSymbol";},99198:function(r,b,a){var c,n,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.t9a=void 0;c=a(7700);n=a(24747);r=a(22674);d=a(71501);g=a(4203);b.t9a=new r.Od(function(e){e(n.N8).to(c.Wna).ma();});b.profile=new r.Od(function(e){e(d.pQ).CI(function(f){return (f=f.tb.get(g.uc)()) && f.aD?"browsertest":"browser";});});},7700:function(r,b,a){var n,d,g,e,f,l;function c(h,k,m,p){h=e.zf.call(this,h,void 0 === p?"AppInfoConfigImpl":p) || this;h.config=k;h.Gma=m;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.Wna=void 0;r=a(5163);n=a(22674);d=a(34231);g=a(12501);e=a(64174);f=a(83767);a=a(70865);Ha(c,e.zf);c.prototype.R6b=function(h){return "" + this.Zdb + (this.Gma.Pla(h)?"/msl_v1":"");};c.prototype.g7b=function(h){return "" + this.host + (this.Gma.Pla(h)?"/msl":"") + "/playapi";};Ga.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},Zdb:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},Ydb:{configurable:!0,enumerable:!0,get:function(){var h;switch(this.config.EL){case d.Jy.awa:case d.Jy.Tqa:h="logs.test.netflix.com";break;default:h="logs.netflix.com";}return "https://" + h + "/log";}},host:{configurable:!0,enumerable:!0,get:function(){var h;switch(this.config.EL){case d.Jy.mJb:h="www.stage";break;case d.Jy.awa:h="www-qa.test";break;case d.Jy.Tqa:h="www-int.test";break;default:h="www";}return "https://" + h + ".netflix.com";}},t$a:{configurable:!0,enumerable:!0,get:function(){return "pbo_licenses";}}});l=c;b.Wna=l;r.__decorate([g.config(g.string,"apiEndpoint")],l.prototype,"endpoint",null);r.__decorate([g.config(g.string,"nqEndpoint")],l.prototype,"Zdb",null);r.__decorate([g.config(g.string,"logsEndpoint")],l.prototype,"Ydb",null);r.__decorate([g.config(g.string,"bindService")],l.prototype,"t$a",null);b.Wna=l=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(f.Tn)),r.__param(1,(0,n.l)(d.Fq)),r.__param(2,(0,n.l)(a.waa)),r.__param(3,(0,n.l)(f.g9)),r.__param(3,(0,n.optional)())],l);},85405:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xTa="AseIntegrationFactorySymbol";},31034:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.J0a="OpenConnectSideChannelSymbol";b.D_a="MediaRequestDownloaderSymbol";},13494:function(r,b){function a(n,d,g){var e,f,l,h;e=[];n.forEach(function(k){-1 == e.indexOf(k.$d) && e.push(k.$d);});f=null;l=null;d.forEach(function(k){null === f?l=f=k.bitrate:l < k.bitrate?l=k.bitrate:f > k.bitrate && (f=k.bitrate);});h=[];e.forEach(function(k){var m;m={ranges:[],profile:k};f && l && (m.ranges.push({min:f,max:l}),g && (m.disallowed=g.filter(function(p){return p.stream.$d === k;}).map(function(p){return {stream:{bitrate:p.stream.bitrate},disallowedBy:p.gea};})),h.push(m));});return h;}function c(n,d){var g;g=void 0;return {Leb:n.filter(function(e){var f;f=d(e);f && (g=g || [],g.push({stream:e,gea:f}));return !f;}),$Zb:g};}Object.defineProperty(b,"__esModule",{value:!0});b.F8b=function(n,d){d=c(n,d);return a(n,d.Leb,d.$Zb);};b.rHc=a;b.Fz=c;},92692:function(r,b,a){var c,n,d,g,e,f,l,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.cb=void 0;r=a(22674);c=a(67263);n=a(13005);d=a(24240);g=a(22806);e=a(31034);f=a(76457);l=a(77425);h=a(51790);k=a(89936);b.cb=new r.Od(function(m){m(c.wpa).to(n.vpa).ma();m(d.y_a).to(g.usa).ma();m(e.J0a).to(f.kta).ma();m(e.D_a).to(l.Asa).ma();m(h.C_a).to(k.zsa).ma();});},67263:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wpa=b.XVa=void 0;b.XVa=function(){this.X=0;this.V=1;this.gEb=2;this.ef=function(){};};b.wpa="DownloadTrackConstructorFactorySymbol";},24240:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.y_a="MediaHttpSymbol";},51790:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.C_a="MediaRequestConstructorFactorySymbol";},48220:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Ed=void 0;b.Ed=a;a.Pk={v0a:"mr1",u0a:"mr2",w0a:"mr3",cZ:"mr4",MGb:"mr5",ZE:"mr6"};a.od={UNSENT:0,OPENED:1,YB:2,Fl:3,DONE:5,nw:7,name:("UNSENT OPENED SENT RECEIVING PAUSED DONE FAILED ABORTED").split(" ")};a.ME={NO_ERROR:-1,PCb:0,yVa:1,aDb:2,TCb:3,dCb:4,MUa:5,KUa:6,eCb:7,fCb:8,gCb:9,aCb:10,cCb:11,LUa:12,bCb:13,$Bb:14,kEb:15,IXa:16,HXa:17,xqa:18,L9:19,yqa:20,M9:21,mEb:22,N9:23,JXa:24,lEb:25,WCb:26,QCb:27,$Ib:28,GCb:29,HCb:30,ICb:31,JCb:32,KCb:33,LCb:34,MCb:35,NCb:36,OCb:37,RCb:38,SCb:39,UCb:40,VCb:41,XCb:42,YCb:43,ZCb:44,$Cb:45,bDb:46,cDb:47,ZIb:48,TIMEOUT:49,FXa:50,wqa:51,jEb:52,LXa:53,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP HTTP_RESPONSE_452").split(" ")};a.Rf={rOa:{Qzc:!0,xva:!1,lDc:!0}};},92720:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z;function c(y,A,B,C,D){var E;E=this;this.Cb=y;this.j=A;this.debug=B;this.NPb=D;this.YZ=this.aj=this.hC=!1;this.q_=this.p_=void 0;y={};this.lA=(y[t.u.X]={},y[t.u.V]={},y[t.u.Ia]={},y[t.u.Kn]={},y);this.U6a=void 0;this.al=function(){var F,G,J,N,I,M;E.debug.assert(E.Da,"has access to asePlaygraph");E.debug.assert(E.Oc,"has access to internalLogger");E.debug.assert(E.Vx,"has access to mediaBufferGetLogFields");I=E.$q;M=null === (G=null === (F=E.Wc.get()) || void 0 === F?void 0:F.gb) || void 0 === G?void 0:G.xa;F={type:"logdata",target:"startplay",fields:{hasasereport:E.j.hS,hashindsight:!1,buffCompleteReason:I.reason,actualbw:M,initSelReason:null !== (J=I.initSelReason) && void 0 !== J?J:"unknown",bcVBufferLevelMs:I.vBufferLevelMs,bcABufferLevelMs:I.aBufferLevelMs}};(0,f.Kza)({eEa:F,Yp:E.Yp,loadTime:E.loadTime});E.Da.CRa("startplay",n.Cc.Ik);null !== (N=E.sb) && void 0 !== N && N.se?(E.Oc.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:I},E.Vx()),E.j.$q=I,E.j.Ts.set(l.Bg.cf),E.Z2b || (E.Z2b=!0,E.j.gf("pb")),E.Uf.value !== n.Sb.haa && E.Uf.value !== n.Sb.Bw && E.play()):E.Oc.error("Shim received buffering complete but player has no position (player " + (E.sb?"":"un") + "defined, state " + E.j.state + ")");};this.Mxb=function(){var F,G;E.debug.assert(E.Oc,"has access to internalLogger");!1;E.p_=void 0;E.q_=void 0;E.j.paused.value && E.zN && (E.zN=!1,E.j.paused.set(!1,{EH:!0}));null === (F=E.j.ie) || void 0 === F?void 0:F.wUb();null === (G=E.upb) || void 0 === G?void 0:G.call(E);E.upb=void 0;};this.events=new z();this.Le=new u.Gwa(this.Gz.bind(this),function(F,G){return E.j.UA(F,G);});}b.Tra=void 0;n=a(45247);d=a(90745);g=a(32219);e=a(36129);f=a(30326);l=a(85001);h=a(29204);k=a(32687);m=a(5021);p=a(64302);v=a(8825);q=a(81734);u=a(64213);a(2762);t=a(26388);w=a(45240);x=a(26668);z=a(17187).EventEmitter;c.prototype.ze=function(){var y;!1;this.YZ=!1;this.Wc.Hla(null);this.debug.assert(this.Qi,"has access to streamingEngine");this.Da && this.Qi.SA(this.Da);this.sb && this.Qi.QNa(this.sb);this.Qi.Wsb(this.Le.Jp(this.Cb.ea.N));this.Le.clear();null === (y=this.ig) || void 0 === y?void 0:y.Ep();};c.prototype.osc=function(y){var A,B,C,D,E,F,G,J,N,I,M,K,L;A=y.config;B=y.Os;C=y.Oc;D=y.$e;E=y.Vx;F=y.jl;G=y.a7;y=y.mO;this.Oc=C;this.log=C.JR("AseIntegrationImpl");!1;this.N9a=new x.KTa(this.Oc);this.Vx=E;this.a7=G;this.mO=y;E=this.j.ea;this.debug.assert(E,"has a playback segment");this.debug.assert(A,"has access to config");this.debug.assert(D,"has access to utils");this.debug.assert(F,"has access to getCategoryLog");this.debug.assert(B,"has access to aseGlobals");this.debug.assert(B.Qi,"has access to streamingEngine");this.debug.assert(E.Qc,"has access to parsedManifest");this.debug.assert(E.U,"has access to manifest");this.config=A;this.Qi=B.Qi;B.$k.set(a(87141)(A),!0,F("ASE"));B.$k.set({maxNumberTitlesScheduled:null !== (N=null === (J=A.jlc) || void 0 === J?void 0:J.maxNumberTitlesScheduled) && void 0 !== N?N:1},!0,C);A.fVb && !E.zd.fa && 3E5 > E.U.Ca.duration?B.$k.QLa({expandDownloadTime:!1},!0,C):B.$k.QLa({expandDownloadTime:B.$k.rkc().expandDownloadTime},!0,C);A=null === (L=null === (K=null === (M=null === (I=E.ca.wj) || void 0 === I?void 0:I.value) || void 0 === M?void 0:M.streams) || void 0 === K?void 0:K[0]) || void 0 === L?void 0:L.$d;B.$k.QLa((0,h.CUb)(!!E.lb.yh,!!E.lb.yT,A),!0,C);C=D.kN({},(0,h.GBa)(E.ue));E.zd.fa && (C=D.kN(C,(0,h.GBa)("live")));this.$k=B.$k.ar(C);n.platform.events.emit("networkchange",E.Qc.crc);this.hC=!0;};c.prototype.r3=function(y){var A,B;this.debug.assert(this.Qi,"has access to streamingEngine");A=this.j.wk(y.L);this.debug.assert(A.Qc,"has access to playback parsedManifest");!1;B=y.flags;this.Wc.reset();this.Zg=new Set([t.u.X,t.u.V]);(B.Dzb || B.mGc) && this.Zg.delete(B.Dzb?t.u.X:t.u.V);this.aP=[A.Qc.YYb,A.Qc.eZb,A.Qc.dZb];this.Gz(A.P,void 0,y.Hda);this.U$b(y);this.KR();};c.prototype.LI=function(y){var A;!1;null === (A=this.Da) || void 0 === A?void 0:A.LI(y);};c.prototype.dRb=function(y){var A,B,C;A=this;B=y.loadTime;C=y.Yp;this.debug.assert(this.Da,"has access to asePlaygraph");this.debug.assert(this.sb,"has access to asePlayer");!1;this.Yp=C;this.loadTime=B;y=this.Da.events;y.addListener("error",function(D){!1;"NFErr_MC_StreamingFailure" === D.error && (A.Oc.trace("receiving an unrecoverable streaming error: " + JSON.stringify(D)),A.Oc.trace("StreamingFailure, buffer status:" + JSON.stringify(A.Vx())),(0,g.Rg)(function(){var E,F,G;E=e.Y.FAb;F=D.nativeCode;G=D.context;"adBreakHydration" === (null === G || void 0 === G?void 0:G.type) && (E=e.Y.CJ,F=e.T.PAb);A.j.Gd(E,{Ja:F,tc:D.errormsg,io:D.httpCode,Hia:D.networkErrorCode,Af:D.httpCode});}));});y.addListener("logdata",function(D){var E;!1;"string" === typeof D.target && "object" === typeof D.fields && (D.fields.aseApiVersion=null === (E=A.Da) || void 0 === E?void 0:E.kPb,(0,f.Kza)({eEa:D,Yp:C,loadTime:B}));});y.addListener("bufferingStarted",function(){!1;A.j.Ts.set(l.Bg.lf);});y.addListener("bufferingComplete",function(D){!1;A.$q=D;});this.j.paused.addListener(function(D){var E;A.debug.assert(A.Oc,"has access to internalLogger");null !== (E=D.jj) && void 0 !== E && E.EH || !A.hC || (D.newValue && A.Uf.value === n.Sb.yf?(A.Uf.set(n.Sb.vi),A.Mh.emit("paused",{type:"paused",pts:A.Mh.sd})):D.newValue || A.Uf.value !== n.Sb.vi || (A.Uf.set(n.Sb.yf),A.Mh.emit("playing",{type:"playing",pts:A.Mh.sd})));D.newValue || (A.zN=!1);A.Oc.info("Paused changed",{From:D.oldValue,To:D.newValue,MediaTime:(0,v.Ui)(A.j.mediaTime.value)});});this.j.ca.Mc.addListener(function(D){var E,F,G,J;if(A.hC)if((A.debug.assert(A.Oc,"has access to internalLogger"),D.jj && D.jj.cca))A.Oc.trace("Not processing already applied track",null === (E=D.newValue) || void 0 === E?void 0:E.trackId);else {J=D.newValue;A.Zwb({Qs:J.trackId,toJSON:function(){return J.Ah;}})?A.Oc.trace("ASE accepted the audio track switch",null === (G=D.newValue) || void 0 === G?void 0:G.trackId):(A.Oc.trace("ASE rejected the audio track switch",null === (F=D.newValue) || void 0 === F?void 0:F.trackId),D.oldValue && D.oldValue.trackId !== J.trackId && A.j.ca.eu(D.oldValue,{cca:!0}));}});this.j.zd.fa && this.j.ca.Ic.addListener(function(D){var E,F,G,J;if(A.hC)if((A.debug.assert(A.Oc,"has access to internalLogger"),D.jj && D.jj.cca))A.Oc.trace("Not processing already applied track",null === (E=D.newValue) || void 0 === E?void 0:E.trackId);else {J=D.newValue;A.Zwb({hxb:J.trackId,toJSON:function(){return J.Ah;}})?A.Oc.trace("ASE accepted the text track switch",null === (G=D.newValue) || void 0 === G?void 0:G.trackId):(A.Oc.trace("ASE rejected the text track switch",null === (F=D.newValue) || void 0 === F?void 0:F.trackId),D.oldValue && D.oldValue.trackId !== J.trackId && A.j.ca.om(D.oldValue,{cca:!0}));}});y.addListener("serverSwitch",function(D){var E;!1;A.j.fireEvent(l.da.W6,D);if("video" === D.mediatype)E=t.u.V;else "audio" === D.mediatype && (E=t.u.X);(0,k.Zc)(E) && A.a7(D.segmentId,D.server,E);});y.addListener("streamSelected",function(D){var E,F,G,J;!1;if(A.YZ){F=D.manifest.de;if(!A.j.u9b(F) && A.config.a2b)return A.j.Gd(e.Y.pFb,{FL:F});F=(null === (E=A.Da) || void 0 === E?void 0:E.Zz(D.position)).fl.H;E=[];if(D.mediaType === t.u.V){G=A.j.Iib(D.streamId);J=A.j.Gf;E=A.j.IG();}else D.mediaType === t.u.X && (G=A.j.qib(D.streamId),J=A.j.Zh,E=A.j.o4b());G && J?(!1,J.set(G,{$K:F,m0:D.bandwidth})):D.mediaType !== t.u.Ia && A.Oc.error("no matching stream for streamSelected event",{streamId:D.streamId,mediaType:D.mediaType,streamList:E,cachedManifest:A.j.YK});}});y.addListener("segmentNormalized",function(D){var E,F,G;!1;E=D.segmentId;F=Math.floor(D.viewableContentEnd.H);D=Math.floor(D.viewableEarliestContentEnd.H);F=(0,m.bc)(F);D=(0,m.bc)(D);A.j.Eib(E) || (!1,A.LWb(E));G=A.j.wk(E);G && (A.debug.assert(G.L === E,"segmentNormalized: playbackViewableData segmentId should match the value in the event. playbackViewableData.segmentId: " + (G.L + " event.segmentId: ") + (E + " ")),G.PC=F,G.knb=D);A.j.St || (A.j.zd.fa && Infinity === F.ia(m.pa)?A.j.St=m.wa:A.j.St=F);});y.addListener("locationSelected",function(D){!1;A.j.fireEvent(l.da.i4,D);});y.addListener("aseReportEnabled",function(){!1;A.j.hS=!0;});y.addListener("aseReport",function(D){!1;A.j.fireEvent(l.da.RK,D);});y.addListener("liveReport",function(D){!1;A.j.fireEvent(l.da.Oha,D);});y.addListener("mediaRequestComplete",function(D){D=null === D || void 0 === D?void 0:D.Moc;(D=null === D || void 0 === D?void 0:D.cadmiumResponse) && A.j.fireEvent(l.da.uL,{response:D,P:A.j.ea.P});});y.addListener("transportReport",function(D){var E;(D=null === (E=D.t1b) || void 0 === E?void 0:E.cadmiumResponse) && A.j.fireEvent(l.da.uL,{response:D,P:A.j.ea.P});});y.addListener("liveEventTimesUpdated",function(D){var E,F;E=D.L;F=D.startTime;D=D.endTime;A.j.Eib(E) && (E=A.j.wk(E),E.zd.fa && E.zd.tPa(F,D));});y.addListener("liveLoggingInfoUpdated",function(D){var E,F,G;E=D.mediaType;D=D.info;F=A.lA[E];A.lA[E]=D;G=A.lA[E].pG !== F.pG && void 0 !== F.pG;(A.lA[E].nG !== F.nG && void 0 !== F.nG || G) && A.j.fireEvent(l.da.Nha,{mediaType:E,Bo:F,current:A.lA[E],XOa:D.XOa,Nb:D.Nb});});y.addListener("livePostplayUpdated",function(D){A.j.fireEvent(l.da.amb,{N:D.N,J5:D.J5,action:D.action});});this.r$a();};c.prototype.r$a=function(){var y,A;y=this;this.debug.assert(this.sb,"has access to asePlayer");!1;A=this.sb.events;A.addListener("logdata",function(B){!1;"string" === typeof B.target && "object" === typeof B.fields && (0,f.Kza)({eEa:B,Yp:y.Yp,loadTime:y.loadTime});});A.addListener("segmentPresenting",function(B){var C,D,E,F;!1;y.debug.assert(y.Da,"has access to asePlaygraph");y.debug.assert(y.sb,"has access to asePlayer");y.debug.assert(y.mO,"has access to segmentPresentingHandler");D=y.Da.Zz(B.position);E=void 0;F=null === (C=B.inner) || void 0 === C?void 0:C.position;F && y.Lj && (E=y.Lj.ba[F.L]);y.mO({N:D.N,dL:E,EM:!1});C=B.metrics;y.Xja && C && (D=C.segment,C.srcsegment !== y.Xja.d2.L || D !== y.Xja.Q7.L || "seamless" !== C.transitionType && "perfect" !== C.transitionType || (C.transitionType="long",y.Xja=void 0));y.j.fireEvent(l.da.lO,{type:"segmentPresenting",position:{segmentId:B.position.L,offset:B.position.offset},playerTimestamp:B.playerTimestamp,metrics:B.metrics});!1;y.U6a=y.sb.ur();});A.addListener("ptsChanged",function(B){var C;!1;y.j.ie.Lmc({VEa:null === (C=B.forcedTimestamp) || void 0 === C?void 0:C.hy,R$b:B.initialTimestamp.hy});y.Mh.emit("skipped");});A.addListener("fragmentsMissing",function(B){var C,D;D=null === (C=y.Da) || void 0 === C?void 0:C.Zz(B.nextAvailableGraphPosition);y.j.ie.seek(D.fl.H,l.yc.KX,B.nextAvailableGraphPosition.L);});};c.prototype.LWb=function(y){var A,B,C,D;if(this.Lj && this.Lj.ba[y]){A=this.Lj.ba[y];y=this.j.EJa;B=y.U;if(null === B || void 0 === B?0:B.Ss)C=null === B || void 0 === B?void 0:B.Ss.find(function(E){return E.Ca.P === A.N;});C || (C=this.j.zgb(A.N));if(!C && (null === B || void 0 === B?0:B.Ca.vc)){D=this.NPb.m7b({vc:null === B || void 0 === B?void 0:B.Ca.vc,je:y.P,N:A.N});D && (C=D.U);}C && C.Ca.vc === (null === B || void 0 === B?void 0:B.Ca.vc) && this.j.Rbb(A.N,{Cg:{vc:C.Ca.vc,je:y.P}},y.Ea,C);}};c.prototype.ur=function(){var y,A,B,C,D,E,F,G,J;G=null === (y=this.sb) || void 0 === y?void 0:y.pga();y=(null !== (A=this.U6a) && void 0 !== A?A:G && this.sb.ur()) || ({});A=y.M;G=y.Pd;J=y.HN;y=y.Mv;return {id:String(null === A || void 0 === A?void 0:A.id),lAa:null !== (B=null === G || void 0 === G?void 0:G.H) && void 0 !== B?B:0,rda:null !== (C=null === A || void 0 === A?void 0:A.Db.H) && void 0 !== C?C:Infinity,UUb:null !== (D=null === A || void 0 === A?void 0:A.kc.H) && void 0 !== D?D:0,Nkc:null !== (E=null === J || void 0 === J?void 0:J.H) && void 0 !== E?E:Infinity,HMa:null !== (F=null === y || void 0 === y?void 0:y.H) && void 0 !== F?F:0};};c.prototype.Wjb=function(){var y,A;this.debug.assert(this.Da,"has access to asePlaygraph");y={};A=this.Da.YL();y.vbuflmsec=A.totalvbuflmsecs;y.vbuflbytes=A.vbuflbytes;y.abuflmsec=A.totalabuflmsecs;y.abuflbytes=A.abuflbytes;y.tbuflmsec=A.totaltbuflmsecs;y.tbuflbytes=A.tbuflbytes;return y;};c.prototype.paused=function(){};c.prototype.Gkc=function(){!1;this.Mh.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.Mh.sd});};c.prototype.Rs=function(y,A){var B;this.debug.assert(this.j.U,"has access to playback manifest");this.debug.assert(this.N9a,"has access to ASE utils");B=this.aP[t.u.X];return y.P === this.j.U.Ca.P?B:this.N9a.C2b(this.j.U.Ca.cx[B],A);};c.prototype.gB=function(y,A){var B;this.debug.assert(this.j.U,"has access to playback manifest");if(this.j.zd.fa){this.debug.assert(y.P === this.j.U.Ca.P);B=this.aP[t.u.Ia];if((y=this.j.li.find(function(C){return C.trackId === A[B].Jg;})) && (!y.bn() || y.am()))return B;}};c.prototype.Zwb=function(y){var A,B,C,D,E,F;this.debug.assert(this.Oc,"has access to internalLogger");this.debug.assert(this.sb,"has access to asePlayer");this.debug.assert(this.j.U,"has access to playback manifest");if(this.tRa)return (!1,!1);B=y.Qs;C=this.aP[t.u.X];if(void 0 === B)D=C;else if(!this.j.U.Ca.audio_tracks.some(function(G,J){if(G.new_track_id === B)return (D=J,!0);}))return (!1,!1);E=y.hxb;y=this.aP[t.u.Ia];if(void 0 === E)F=y;else if(!this.j.U.Ca.timedtexttracks.some(function(G,J){if(G.new_track_id === E)return (F=J,!0);}))return (!1,!1);!1;this.p_=D;this.q_=F;null === (A=this.j.ie) || void 0 === A?void 0:A.Ptc();this.j.paused.value || (this.sb.pause([t.u.X,t.u.Ia]),this.zN=!0,this.j.paused.set(!0,{EH:!0}));this.debug.qca(this.p_,"has access to valid requestedAudioTrackIndex number");this.aP[t.u.X]=this.p_;this.debug.qca(this.q_,"has access to valid requestedTextTrackIndex number");this.aP[t.u.Ia]=this.q_;(this.eE() || this.zN) && this.sb.resume(this.zN?[t.u.X,t.u.Ia]:void 0);this.RI(this.Mxb);return !0;};c.prototype.eE=function(){var y;y=this;this.debug.assert(this.Da,"has access to asePlaygraph");return this.Da.eE({oO:this.Rs.bind(this)},{oO:function(){return y.aP[t.u.V];}},{oO:this.gB.bind(this)});};c.prototype.Po=function(){var y;!1;this.Uf.set(n.Sb.El);null === (y=this.Da) || void 0 === y?void 0:y.CRa("intrplay",n.Cc.Po);this.Mh.emit("underflow",{type:"underflow",pts:this.Mh.sd});this.RI(this.al);};c.prototype.Lla=function(y,A){this.hna.Lla(y,A);};c.prototype.open=function(){this.YZ || (this.debug.assert(this.Da,"has access to asePlaygraph"),this.debug.assert(this.sb,"has access to asePlayer"),!1,this.YZ=this.aj=!0,this.Da.open(),this.debug.assert(this.cB,"invalid start position relative to playgraph"),this.Da.jI(this.cB,n.K.Pa(this.j.ub)),this.Uf.set(n.Sb.lf),this.RI(this.al),this.Da.bx(this.sb),this.Vlb());};c.prototype.play=function(){this.debug.assert(this.Da,"has access to asePlaygraph");this.debug.assert(this.sb,"has access to asePlayer");!1;0 !== this.Da.state && (this.sb.resume(this.zN?[t.u.X,t.u.Ia]:void 0),this.Uf.set(n.Sb.yf),this.Mh.emit("playing",{type:"playing",pts:this.Mh.sd}));};c.prototype.stop=function(){var y;!1;this.Uf.set(n.Sb.haa);null === (y=this.sb) || void 0 === y?void 0:y.pause();this.events.emit("stop");this.Mh.emit("paused",{type:"paused",pts:this.Mh.sd});};c.prototype.flush=function(){this.debug.assert(this.Da,"has access to asePlaygraph");this.debug.assert(this.Qi,"has access to streamingEngine");!1;this.YZ && this.Uf.value !== n.Sb.Bw && this.Uf.value !== n.Sb.haa && this.stop();this.Da.CRa("endplay",n.Cc.Oj);this.Da.Eg();this.Qi.ml.save();this.Qi.CH.save();};c.prototype.kr=function(){var y;return null === (y=this.Da) || void 0 === y?void 0:y.Lc;};c.prototype.TBa=function(y){var A;this.debug.assert(this.Da,"has access to asePlaygraph");A=n.K.Pa(y);return (A=this.Da.lq(A,{ntc:!0,mtc:!0}))?this.Da.Z.ba[A.L].rb + Number(A.offset.H.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + y);};c.prototype.VBa=function(y,A){this.debug.assert(this.Da,"has access to asePlaygraph");this.debug.assert(this.Oc,"has access to internalLogger");!1;this.Da.Z.ba[y] || (y=this.yEa(A));this.debug.rca(y,"has access to segmentId");y={L:y,offset:n.K.Pa(A - this.Da.Z.ba[y].rb)};if(y=this.Da.KG(y))return y.H;!1;return A;};c.prototype.zSb=function(y,A){var B,C,D,E;this.debug.assert(this.Da,"has access to asePlaygraph");this.debug.assert(this.sb,"has access to asePlayer");!1;A && this.Da.Z.ba[A] || (A=null !== (B=this.yEa(y)) && void 0 !== B?B:null === (C=this.sb) || void 0 === C?void 0:C.th.L);A=this.j.wk(A);y={fl:n.K.Pa(y),N:A.P};return null === (E=null === (D=this.Da.hv(y)) || void 0 === D?void 0:D.Ba) || void 0 === E?void 0:E.H;};c.prototype.oea=function(y){var A;A=void 0 === A?!0:A;!1;this.aj?Number.isFinite(y) && (this.debug.assert(this.sb,"has access to asePlayer"),A?this.sb.Yub(y):this.sb.Xub(y)):this.fail("Must call open prior to drmReady");};c.prototype.Aib=function(){var y;return null !== (y=this.sb) && void 0 !== y && y.se?this.sb.C3(this.Cb.ea.N):!1;};c.prototype.Kj=function(y){var A,B;!1;if(!this.sb)return (!1,!1);A=this.kr();y=n.K.Pa(y);B=this.sb.Kj(y);return A && this.j.iT()?B && A.Kj(y):B;};c.prototype.qqc=function(y,A){var B;this.debug.assert(this.Da,"has access to asePlaygraph");this.debug.assert(this.sb,"has access to asePlayer");!1;A && this.Da.Z.ba[A] || (A=null !== (B=this.yEa(y)) && void 0 !== B?B:this.Cb.zi);this.debug.rca(A,"has access to segmentId");this.debug.assert(this.Da.Z.ba[A],"segment exists in playgraph map");A={L:A,offset:n.K.Pa(y - this.Da.Z.ba[A].rb)};this.Da.jI(A,n.K.Pa(y));this.sb.resume();this.Uf.set(n.Sb.lf);this.RI(this.al);y=this.Da.Ztb(A);this.debug.assert(y,"Valid position must be provided for seek");};c.prototype.addEventListener=function(y,A){this.events.addListener(y,A);return this;};c.prototype.removeEventListener=function(y,A){this.events.removeListener(y,A);return this;};c.prototype.Vwc=function(y,A){var B;!1;B={};this.Da.dk((B[y]=A,B));};c.prototype.bda=function(y,A){var B,C;this.debug.assert(this.Oc,"has access to internalLogger");this.debug.assert(this.Da,"has access to asePlaygraph");this.debug.assert(this.sb,"has access to asePlayer");!1;B=this.ur().id;C=this.Da.E2(B,y);if(A){if(!C.Vxc)return (this.Oc.warn("chooseNextSegment, seamless transition, invalid destination: " + (y + " for current segment: " + B)),!1);if(void 0 !== C.SKa && (!1,C.SKa !== y))return !1;this.Da.wl(B,y,!1,A);return !0;}if(void 0 !== C.SKa)return (!1,!1);C.r0 && (this.sb.reset(),this.Da.wl(B,y,!1,A),this.sb.resume(),this.Uf.set(n.Sb.lf),this.RI(this.al));return !!C.r0;};c.prototype.wl=function(y,A,B,C){this.debug.assert(this.Da,"has access to asePlaygraph");!1;this.Da.wl(y,A,B,C);};c.prototype.BO=function(){var y;this.debug.assert(this.Oc,"has access to internalLogger");!1;y=this.Mh.sd;!1;this.Mh.emit("skipped",{type:"skipped",pts:y});return new n.CZ(Promise.resolve()).upc;};c.prototype.Jfa=function(y,A){var B;return null === (B=this.Da) || void 0 === B?void 0:B.Jfa(y,A);};c.prototype.yEa=function(y){var A,B,C,D,E,F,G,J;this.debug.assert(this.Da,"has access to asePlaygraph");this.debug.assert(this.Oc,"has access to internalLogger");!1;A=this.Da.Z;B=[];C=Infinity;for(D in A.ba){E=A.ba[D];F=E.rb;E=E.yb;G=y < Number(null !== E && void 0 !== E?E:Infinity);if(F <= y && G)(!1,B.push(D));else if((F=Math.min(Math.abs(y - F),Math.abs(y - E)),F < C)){C=F;J=D;}}y=B[0] || J;this.debug.rca(y,"has access to locatedSegmentId");!1;return y;};c.prototype.Vlb=function(){var y,A;y=this;this.debug.assert(this.j.Fb,"has access to mediaElement");A=this.j.Fb.ha;this.debug.assert(A,"has access to videoElement");A.addEventListener("play",function(){y.Uf.value === n.Sb.vi && (y.Uf.set(n.Sb.yf),y.Mh.emit("playing",{type:"playing",pts:y.Mh.sd}));});A.addEventListener("pause",function(){y.Uf.value === n.Sb.yf && (y.Uf.set(n.Sb.vi),y.Mh.emit("paused",{type:"paused",pts:y.Mh.sd}));});};c.prototype.fail=function(y){var A;null === (A=this.Da) || void 0 === A?void 0:A.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:y});};c.prototype.RI=function(y){var A,B,C,D,E,F,G,J;A=this;if(y !== this.Mxb && this.tRa)(!1,this.upb=y);else {J=null === (B=this.sb) || void 0 === B?void 0:B.$p.value;B=null === (C=this.Da) || void 0 === C?void 0:C.Fd.value;C=!0 === J;J=B === n.wd.Qn;!1;null === (D=this.sb) || void 0 === D?void 0:D.$p.removeListener(this.onb);null === (E=this.Da) || void 0 === E?void 0:E.Fd.removeListener(this.I$a);C && J?y():(this.onb=function(){return A.RI(y);},this.I$a=function(){return A.RI(y);},null === (F=this.sb) || void 0 === F?void 0:F.$p.addListener(this.onb),null === (G=this.Da) || void 0 === G?void 0:G.Fd.addListener(this.I$a));}};c.prototype.Ifb=function(y){var A,B;A=this;y=this.j.$l(y);return Promise.resolve(null !== (B=y.U) && void 0 !== B?B:this.Ika(y)).then(function(C){C=C.Ca;return {U:C,Cz:C.iga && !C.NG,config:A.$k,Zg:[].concat(xa(A.Zg))};});};c.prototype.Ika=function(y){var A,B,C,D,E;A=this;!1;C=Promise.resolve();if(y.Dg){D=y.Dg.je;(E=null === (B=this.j.$l(D).U) || void 0 === B?void 0:B.Ca)?y.Dg.v5=E:C=this.Le.Jp(D).lu.then(function(F){return F.U;}).then(function(F){y.Dg.v5=F;}).catch(function(){return A.j.Gd(e.Y.CJ,e.T.QAb);});}return C.then(function(){return A.j.Ika(y);}).then(function(){return y.U;});};c.prototype.Gz=function(y,A,B){var C,D,E,F,G,J,N,I,M,K,L,H,O;C=this;this.debug.assert(this.Qi,"has access to streamingEngine");!1;M={N:y,je:null === (D=null === A || void 0 === A?void 0:A.Cg) || void 0 === D?void 0:D.je,vc:null === (E=null === A || void 0 === A?void 0:A.Cg) || void 0 === E?void 0:E.vc};if(!this.Le.has(M)){if(!this.j.oga(y) && (null === (F=null === A || void 0 === A?void 0:A.Cg) || void 0 === F?0:F.je) && this.j.oga(null === (G=null === A || void 0 === A?void 0:A.Cg) || void 0 === G?void 0:G.je)){D=this.j.$l(null === (J=A.Cg) || void 0 === J?void 0:J.je);J=null === (N=D.U) || void 0 === N?void 0:N.Ca.vc;N=this.j.zgb(y);(null === (I=null === N || void 0 === N?void 0:N.Ca) || void 0 === I?0:I.vc) && N.Ca.vc === J && (K=N);this.j.Rbb(y,A,D.Ea,K);}this.j.oga(y) && (L=this.j.$l(y));H=B?B.Ea:L?L.Ea:void 0;I=B?B.Nh:L?L.sf:void 0;this.Le.store(M,{yR:function(){},equals:function(P){return P && P.N === M.N && (H === P.Ea || !P.Ea || !H);},get lu() {O || (O=C.Ifb(y));return O;},set lu(P) {O=P;},events:new d.EventEmitter(),Ea:H,N:M.N,hr:!1,OQa:!1});this.$k.lS && this.Qi.IV(this.Le.Jp(M.N,A),{Ea:H,Nh:I,iDa:null === B || void 0 === B?void 0:B.lG});}};c.prototype.xW=function(y){var A,B,C;this.debug.assert(this.Qi,"has access to streamingEngine");!1;A=this.j.wk(y);B=A.Dg;y=this.Cb.pv(y).N;if(!this.Le.has({N:A.P,je:null === B || void 0 === B?void 0:B.je,vc:null === B || void 0 === B?void 0:B.vc}))return Promise.resolve();B && (C={Cg:{vc:null === B || void 0 === B?void 0:B.vc,je:B.je}});A=this.Le.Jp(y,C);A.lu=this.Ifb(y);return this.Qi.xW(A);};c.prototype.E2=function(y){var A;this.debug.assert(this.sb,"has access to asePlayer");this.debug.assert(this.Da,"has access to asePlaygraph");return this.Da.E2(null === (A=this.sb.ur().M) || void 0 === A?void 0:A.id,y);};c.prototype.endOfStream=function(){this.dla && this.dla.endOfStream();};c.prototype.st=function(y){var A;y=null === (A=this.Da) || void 0 === A?void 0:A.st(y);!1;return y;};c.prototype.U$b=function(y){var A,B;A=y.Hda;B=y.L;this.debug.assert(this.Qi,"has access to streamingEngine");this.debug.assert(this.Oc,"has access to internalLogger");!1;y=this.j.wk(B);y=this.Cb.Qfa(y);B=y.ba[B];this.debug.assert(B,"segment exists");this.cB=(0,p.X7b)(B.N,y,this.j.ub,B.rb);A=Object.create(this.$k,{lG:{value:A.lG},mS:{value:this.j.background.value}});this.Uf=new q.ic(n.Sb.Pn);this.Da=this.Qi.N_(y,this.$k.Vkc,A,this.Le);this.hna=new n.IZ(this.Oc);A=this.Da.Q0(this.hna);y=this.Da.P0();this.Da.DPa(y,A);this.eE();this.zN=!1;};c.prototype.KR=function(){var y,A,B;y=this;this.debug.assert(this.Qi,"has access to streamingEngine");this.debug.assert(this.j.U,"has access to playback manifest");!1;B=null === (A=this.j.U) || void 0 === A?void 0:A.Ca;A=void 0 !== this.gB(B,B.TO);B=[].concat(xa(this.Zg));A && B.push(t.u.Ia);A=Object.create(this.$k,{Zg:{value:B},C2:{value:function(){return y.X6b();}}});this.Mh=this.Y6b();this.sb=this.Qi.wOb(this.Mh,A);};c.prototype.Y6b=function(){var y,A;y=this;if(this.Mh)return this.Mh;A=Object.create(new d.EventEmitter(),{sd:{get:function(){y.debug.qca(y.j.mediaTime.value,"has access to mediaTime.value");return n.K.Pa(y.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(y.j.playbackRate.value,.01);}},z6b:{value:function(){y.debug.assert(y.j.Fb,"has access to mediaElement");return y.j.Fb;}}});this.config.B0b && (this.debug.assert(this.Oc,"has access to internalLogger"),this.dla=new w.c3a(this.j,A,this.config,this.Oc),Object.defineProperties(A,{lx:{value:function(B){var C;C=y.dla.lx(B);C.lx || (y.Xja={d2:B.d2,Q7:B.Q7});return C;}},Md:{value:function(B,C){return y.dla.Md(B,C);}}}));return A;};c.prototype.rpc=function(y){var A;A=this;return new Promise(function(B){A.Vlb();A.MZb();A.KR();A.debug.assert(A.sb,"asePlayer should have been re-created");A.r$a();A.Da.bx(A.sb);return y.then(function(){A.play();A.Uf.set(n.Sb.lf);A.RI(function(){A.j.paused.value && A.j.paused.set(!1,{EH:!0});A.al();!1;B();});}).catch(function(C){A.debug.assert(A.log,"log should exist");A.log.error("Restart player for non-seamless transition failed.",{error:C});return A.j.Gd(e.Y.R0a,C);});});};c.prototype.MZb=function(){var y;null === (y=this.Da) || void 0 === y?void 0:y.NZb();this.Qi.QNa(this.sb);this.sb=void 0;};c.prototype.X6b=function(){this.ig || (this.ig=new n.platform.MediaSource(this.Mh),this.ig.Rf || (this.ig.Rf=n.platform.MediaSource.Rf));return this.ig;};Ga.Object.defineProperties(c.prototype,{tRa:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.p_ && void 0 !== this.q_;}},Wc:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.Qi,"has access to streamingEngine");return this.Qi.Wc;}},Lj:{configurable:!0,enumerable:!0,get:function(){for(var y,A=null === (y=this.Da) || void 0 === y?void 0:y.Lj;null === A || void 0 === A?0:A.Lj;)A=A.Lj;return null === A || void 0 === A?void 0:A.Z;}},Yab:{configurable:!0,enumerable:!0,get:function(){for(var y=this.sb;null === y || void 0 === y?0:y.s3;)y=y.s3;return y;}},uYb:{configurable:!0,enumerable:!0,get:function(){var y,A,B;if(null === (y=this.Yab) || void 0 === y?0:y.se){B=(y=this.Yab.th) && (null === (A=this.Lj) || void 0 === A?void 0:A.ba[y.L]);if(B)return {fl:n.K.Pa(y.offset.H + B.rb),N:B.N};}}},D$a:{configurable:!0,enumerable:!0,get:function(){var y;return null === (y=this.sb) || void 0 === y?void 0:y.NM.value.H;}}});b.Tra=c;},13005:function(r,b,a){var n,d,g,e;function c(f){function l(h,k){this.bb=h;this.EKb=k;this.pEa=!1;this.emit=e.prototype.emit;this.addListener=e.prototype.addListener;this.on=e.prototype.on;this.once=e.prototype.once;this.removeListener=e.prototype.removeListener;this.removeAllListeners=e.prototype.removeAllListeners;this.listeners=e.prototype.listeners;this.listenerCount=e.prototype.listenerCount;e.call(this);this.nf=f.fb("DownloadTrack");}l.prototype.Ep=function(){!1;this.x_=void 0;this.emit("destroyed");};l.prototype.toString=function(){return "id:" + this.x_ + " config: " + JSON.stringify(this.bb);};l.prototype.toJSON=function(){return "Download Track id:" + this.x_ + " config: " + JSON.stringify(this.bb);};l.prototype.BT=function(){return void 0 === this.x_?!1:!0;};l.prototype.JNa=function(h){this.bb.connections !== h.connections && (this.bb=h);};Ga.Object.defineProperties(l.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.x_;}},fo:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.x_;}},config:{configurable:!0,enumerable:!0,get:function(){return this.bb;}},fka:{configurable:!0,enumerable:!0,get:function(){return this.nf;}},E4:{configurable:!0,enumerable:!0,get:function(){return this.EKb.E4;}},RQa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});this.EX=Object.assign(l,new g.XVa());}Object.defineProperty(b,"__esModule",{value:!0});b.vpa=void 0;r=a(5163);n=a(22674);d=a(87386);g=a(67263);e=a(17187).EventEmitter;b.vpa=c;b.vpa=c=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.kb))],c);},22806:function(r,b,a){var n,d,g,e,f,l,h,k,m;function c(p,v,q,u,t){this.eR=p;this.Bf=q;this.Ub=u;this.Oa=t;this.log=v.fb("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.usa=void 0;r=a(5163);n=a(48220);d=a(24550);g=a(36129);e=a(87386);f=a(22674);l=a(32934);h=a(42207);k=a(81918);m=a(5021);c.prototype.cM=function(){return this.Oa.$b().ia(m.pa);};c.prototype.$gc=function(p,v){p.chc({mediaRequest:p,timestamp:v});};c.prototype.pja=function(p){var v,q;q=p.mediaRequest.uH;q.Kob(Object.assign(Object.assign({},p),{timestamp:p.connect?p.timestamp:this.cM(),connect:null !== (v=p.connect) && void 0 !== v?v:!1,mediaRequest:q,readyState:q.readyState}));};c.prototype.vU=function(p){this.$gc(p.mediaRequest.uH,p.timestamp);};c.prototype.rN=function(p){var v,q;v=p.mediaRequest.uH;q=p.bytes;"undefined" === typeof v?!1:(v.readyState === n.Ed.od.YB && this.pja(p),this.Ub.Im(q) && (p.mediaRequest=v,p.timestamp=this.cM(),q > v.bytesReceived && (p.newBytes=q - v.bytesReceived,p.bytesLoaded=q,v.fhc(p))));};c.prototype.Kr=function(p){var v,q,u,t;v=p.mediaRequest;q=p.errorcode;u=p.httpcode;t=n.Ed.ME;if("undefined" === typeof v)!1;else if((v=v.uH,"undefined" === typeof v))!1;else if(q === g.T.qJ)(p.mediaRequest=v,p.readyState=v.readyState,v.Ygc(p));else {switch(q){case g.T.zY:u=t.KUa;break;case g.T.zqa:u=t.xqa;break;case g.T.wY:u=400 < u && 500 > u?452 === u?t.LXa:t.L9:500 <= u?t.M9:t.xqa;break;case g.T.xY:u=t.yqa;break;case g.T.vY:u=t.LUa;break;case g.T.yY:u=t.N9;break;case g.T.rJ:u=t.N9;break;case g.T.KXa:u=t.JXa;break;case g.T.GXa:u=t.L9;break;case g.T.eDb:u=t.yqa;break;default:u=t.N9;}p.mediaRequest=v;p.readyState=v.readyState;p.errorcode=u;p.nativecode=q;v.dLa(p);}};c.prototype.Iv=function(p,v){var q,u;q=v.request.uH;if(q)if(v.ta){if((!1,p.j && q.readyState !== n.Ed.od.DONE)){switch(q.readyState){case n.Ed.od.nw:!1;return;case n.Ed.od.Fl:break;case n.Ed.od.YB:this.pja({mediaRequest:v.request,responseHeaders:v.headers,httpCode:v.Op});break;default:!1;}if(!q.De){u={mediaRequest:q,readyState:q.readyState,timestamp:this.cM(),cadmiumResponse:v};p.j.rRa+=1;q.s8b();q.lbc() && (p.j.qOa+=1,v.wo.Fk=Math.ceil(q.FEa),v.wo.$t=Math.ceil(q.eL),v.wo.ZD=Math.floor(q.mH));q.yUb=u;q.qU(u);}}}else (!1,q.readyState === n.Ed.od.nw?!1:this.Kr({mediaRequest:v.request,errorcode:v.Ja,httpcode:v.io,responseHeaders:v.headers,cadmiumResponse:v}));};c.prototype.download=function(p,v){var q;q=this;v=this.Bf.download(p,v);p.uH && p.uH.readyState === n.Ed.od.OPENED && v.Krc(function(u){q.vU(u);});v.Uba(function(u){q.Iv(p,u);});v.Trc(function(u){q.rN(u);});return v;};a=c;b.usa=a;b.usa=a=r.__decorate([(0,f.W)(),r.__param(0,(0,f.l)(d.$W)),r.__param(1,(0,f.l)(e.kb)),r.__param(2,(0,f.l)(l.Ly)),r.__param(3,(0,f.l)(h.Eh)),r.__param(4,(0,f.l)(k.fd))],a);},77425:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v;function c(q,u,t,w,x,z){this.Oa=q;this.hD=u;this.config=t;this.Bf=x;this.lfc=z;this.log=w.fb("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.Asa=void 0;r=a(5163);n=a(22674);d=a(87386);g=a(32934);e=a(24240);f=a(51344);l=a(48220);h=a(81918);k=a(5021);m=a(34231);p=a(4203);v=a(26388);c.prototype.e2=function(q,u,t){var x,z,y,A;function w(){var B;q.removeEventListener(l.Ed.Pk.ZE,w);B=x.config().W1b;void 0 === q.AS?q.AS=0:q.AS++;q.AS >= B.length && (q.AS=B.length - 1);Ba.clearTimeout(q.oEa);q.oEa=Ba.setTimeout(function(){x.e2(q,u,t);},B[q.AS]);}x=this;q.rKc=!0;z=0 === u.start && -1 === u.end;z={url:q.url,responseType:this.Bf.Y$.ZTa,withCredentials:!1,gG:q.mediaType === v.u.X?"audio":"video",offset:z?void 0:u.start,length:z?void 0:q.Mo,track:{type:q.mediaType === v.u.X?f.Dl.audio:f.Dl.video},stream:{Nb:q.Jb,bitrate:q.bitrate},Tc:{id:q.vd},uH:q,aB:t,fw:this.hD.fw,Zv:q.Zv};y=q.oS;void 0 !== y && void 0 !== y.du && void 0 !== y.jA && void 0 !== y.Bv && (z.oS=[y.Bv,y.jA,y.du,y.Lab]);A=this.cM();z=this.lfc.download(z,function(B){B.ta && q.readyState !== l.Ed.od.DONE && (q.readyState === l.Ed.od.nw?!1:(q.readyState === l.Ed.od.YB?q.Kob({mediaRequest:q,readyState:q.readyState,timestamp:q.De?A:x.cM(),connect:!1,responseHeaders:B.headers,httpCode:B.Op}):q.readyState !== l.Ed.od.YB && q.readyState !== l.Ed.od.Fl && !1,B={mediaRequest:q,readyState:q.readyState,timestamp:x.cM(),cadmiumResponse:B,response:B.content},q.yUb=B,q.qU(B)));});q.addEventListener(l.Ed.Pk.ZE,w);q.pHa=z.abort;};c.prototype.IK=function(q){try{Ba.clearTimeout(q.oEa);q.oEa=void 0;q.AS=void 0;q.pHa();}catch(u){this.log.warn("exception aborting request");}};c.prototype.cM=function(){return this.Oa.$b().ia(k.pa);};a=c;b.Asa=a;b.Asa=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(h.fd)),r.__param(1,(0,n.l)(m.Fq)),r.__param(2,(0,n.l)(p.uc)),r.__param(3,(0,n.l)(d.kb)),r.__param(4,(0,n.l)(g.Ly)),r.__param(5,(0,n.l)(e.y_a))],a);},89936:function(r,b,a){var n,d,g,e,f,l,h,k,m,p;function c(v,q,u,t,w,x){function z(A,B){this.track=A;this.label=B;this.Lf=k.Ed.od.UNSENT;this.bytesReceived=0;this.A6=[];}function y(A,B,C){this.requestId=x.$F().toString();this.Ub=u;this.log=q.fb("MediaRequest");this.config=v;this.Xb=new h.Qk();this.label=B;"notification" === this.label?this.config().lS && (this.E4=t):this.E4=w;C && (this.mediaType=C.mediaType,this.Jb=C.Jb,this.bitrate=C.bitrate,this.vd=C.vd || 0,this.Ox=C.Ox,this.L=C.L);this.t3=this.Rca=this.Sca=void 0;this.track=A;this.pR=this.url=this.responseType=void 0;this.Lf=k.Ed.od.UNSENT;this.Uj=this.dD=this.Tg=this.status=void 0;this.bytesReceived=0;this.connect=this.FEa=this.eL=this.mH=this.PIa=this.Ii=this.EEa=this.loadTime=this.Wn=void 0;this.A6=[];this.fo=!1;!1;}z.prototype.addEventListener=function(A,B,C){this.Xb.addListener.call(this,A,B,C);};z.prototype.removeEventListener=function(A,B){this.Xb.removeListener.call(this,A,B);};z.prototype.emit=function(A,B,C){this.Xb.Pc.call(this,A,B,C);};z.prototype.chc=function(A){this.Lf === k.Ed.od.OPENED && (this.t3=!0,this.loadTime=this.Ii=A.timestamp,!1,this.Lf=k.Ed.od.YB,this.emit(k.Ed.Pk.v0a,A));};z.prototype.Kob=function(A){var B;A.responseHeaders && (this.bla=A.responseHeaders);A.httpCode && (this.status=A.httpCode);if(this.Lf < k.Ed.od.Fl){this.A6=[];B=A.timestamp - this.loadTime;!this.De && 0 < B && (this.connect=!0,this.A6.push(B));!0 === this.config().k$b?this.EEa=A.timestamp:this.EEa=this.Ii=A.timestamp;!1;this.Lf=k.Ed.od.Fl;200 <= this.status && 299 >= this.status && this.emit(k.Ed.Pk.u0a,A);}};z.prototype.fhc=function(A){this.Lf === k.Ed.od.Fl && (!1,this.PIa=this.Ii=A.timestamp,A.newBytes=A.bytesLoaded - this.bytesReceived,this.bytesReceived=A.bytesLoaded,this.Ub.vh(this.PIa) && 200 <= this.status && 299 >= this.status && this.emit(k.Ed.Pk.w0a,A));};z.prototype.qU=function(A){var B;if(-1 < [k.Ed.od.YB,k.Ed.od.Fl].indexOf(this.Lf)){this.t3=!1;!1;this.Ii=A.timestamp;this.Lf=k.Ed.od.DONE;B=this.bytesReceived;this.bytesReceived=A.cadmiumResponse.wo.Nl;(0,p.oa)(this.bytesReceived === this.Mo,"bytesReceived do not match expected totalBytes.");A.newBytes=this.Mo - B;this.Ub.vh(this.eL) && (this.Ii=this.eL,0 === A.newBytes && (this.PIa=this.eL));this.Ub.vh(this.mH) && (this.loadTime=this.mH);this.Wn=A.response;this.emit(k.Ed.Pk.cZ,A);this.track.emit("mediaRequestComplete",{type:"mediaRequestComplete",Moc:A});}};z.prototype.Ygc=function(A){this.t3=!1;!1;this.emit(k.Ed.Pk.MGb,A);};z.prototype.dLa=function(A){var B,C;this.Ii=A.timestamp;this.status=null !== (B=A.httpcode) && void 0 !== B?B:this.status;this.bla=null !== (C=A.responseHeaders) && void 0 !== C?C:this.bla;this.Tg=A.errorcode;this.dD=k.Ed.ME.name[this.Tg];this.Uj=A.nativecode;!1;this.track.emit("transportreport",{type:"transportreport",t1b:A});this.emit(k.Ed.Pk.ZE,A);this.t3=!1;};z.prototype.open=function(A,B,C,D,E,F,G,J,N){this.dB=!1;this.pR=B;this.aB=G;this.Zv=J;this.oS=N;this.url=A;this.responseType=C;!1;return this.url?this.KM():(!1,!1);};z.prototype.KM=function(){this.Lf=k.Ed.od.OPENED;this.status=this.bytesReceived=0;this.Uj=this.dD=this.Tg=this.bla=void 0;this.E4.e2(this,this.pR,this.aB);return !0;};z.prototype.ze=function(){!1;-1 !== [k.Ed.od.OPENED,k.Ed.od.YB,k.Ed.od.Fl].indexOf(this.Lf) && this.abort();return !0;};z.prototype.eW=function(A){!1;this.url=A;return this.Lf > k.Ed.od.UNSENT?(this.abort(),this.KM()):!0;};z.prototype.abort=function(){this.Lf=k.Ed.od.nw;this.E4.IK(this);return !0;};z.prototype.pause=function(){};z.prototype.getResponseHeader=function(A){var B,C;return null !== (C=null === (B=this.bla) || void 0 === B?void 0:B[A.toLowerCase()]) && void 0 !== C?C:null;};z.prototype.getAllResponseHeaders=function(){return "";};z.prototype.hV=function(){};z.prototype.Fi=function(){return this.requestId;};z.prototype.toString=function(){var A;A={requestId:this.Fi(),segmentId:this.L,isHeader:this.De,ptsStart:this.aV,ptsOffset:this.Eka,responseType:this.responseType,duration:this.ug,readystate:this.Lf,bitrate:this.bitrate};return JSON.stringify(A);};z.prototype.toJSON=function(){return this.toString();};z.prototype.s8b=function(){var A,B;if(this.config().lzb && e.Qy && e.Qy.getEntriesByType && (!this.Ub.vh(this.mH) || !this.Ub.vh(this.eL) && this.Ub.vh(this.url))){A="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.Sca + "-" + this.Rca + "*");B=new RegExp(A);A=e.Qy.getEntriesByType("resource").filter(function(C){return B.exec(C.name);})[0];this.Ub.vh(A) && (0 < A.startTime && (this.mH=A.startTime,0 < A.requestStart && (this.mH=Math.max(this.mH,A.requestStart))),0 < A.responseStart && (this.FEa=A.responseStart),0 < A.responseEnd && (this.eL=A.responseEnd));}};z.prototype.lbc=function(){return this.Ub.vh(this.mH) && this.Ub.vh(this.eL) && this.Ub.vh(this.FEa);};Ga.Object.defineProperties(z.prototype,{Mo:{configurable:!0,enumerable:!0,get:function(){return 0 === this.pR.start && -1 === this.pR.end?Number(this.getResponseHeader("content-length")) || this.bytesReceived:this.pR.end - this.pR.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.Rca - this.Sca + 1;}},o9b:{configurable:!0,enumerable:!0,get:function(){return !!(this.response && 0 < this.response.byteLength);}},De:{configurable:!0,enumerable:!0,get:function(){return !this.Ox;}},response:{configurable:!0,enumerable:!0,get:function(){return this.Wn;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.Lf;}}});Object.getOwnPropertyNames(z.prototype).forEach(function(A){var B;B=Object.getOwnPropertyDescriptor(z.prototype,A);Object.defineProperty(y.prototype,A,B);});this.Am=Object.assign(y,k.Ed);}Object.defineProperty(b,"__esModule",{value:!0});b.zsa=void 0;r=a(5163);n=a(22674);d=a(87386);g=a(4203);e=a(22365);f=a(42207);l=a(31034);h=a(94886);k=a(48220);m=a(62665);p=a(45146);b.zsa=c;b.zsa=c=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.uc)),r.__param(1,(0,n.l)(d.kb)),r.__param(2,(0,n.l)(f.Eh)),r.__param(3,(0,n.l)(l.J0a)),r.__param(4,(0,n.l)(l.D_a)),r.__param(5,(0,n.l)(m.LB))],c);},76457:function(r,b,a){var n,d,g;function c(e,f){this.Bf=f;this.log=e.fb("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.kta=void 0;r=a(5163);n=a(22674);d=a(87386);a=a(32934);c.prototype.e2=function(e,f,l){f={url:e.url,kqc:l};!1;e.pHa=this.Bf.Vsc(f);};c.prototype.IK=function(e){try{e.pHa();}catch(f){this.log.warn("exception aborting request");}};g=c;b.kta=g;b.kta=g=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.kb)),r.__param(1,(0,n.l)(a.Ly))],g);},45240:function(r,b,a){var n,d,g;function c(e,f,l,h){this.j=e;this.Mh=f;this.config=l;this.rMa=!1;this.cb=this.j.cb;this.log=h.JR("RestartManagerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.c3a=void 0;n=a(45247);d=a(85001);g=a(36129);c.prototype.endOfStream=function(){var e,f,l,h;e=this;if(!this.rMa){h=function(){var k,m;null === (m=null === (k=e.j.Fb) || void 0 === k?void 0:k.ha) || void 0 === m?void 0:m.removeEventListener("ended",h);k={type:"playbackEnding",cancel:function(){e.rMa=!0;}};e.Mh.emit(k.type,k);};null === (l=null === (f=this.j.Fb) || void 0 === f?void 0:f.ha) || void 0 === l?void 0:l.addEventListener("ended",h);}};c.prototype.lx=function(e){var f;f=e.mediaType;return f === n.u.X?{lx:!0}:f === n.u.V?this.PSb(e):{lx:!1,reason:"not-audio-not-video"};};c.prototype.Md=function(e,f){var l,h,k,m;l=this;this.rMa=!1;!1;void 0 === (null !== (h=f[n.u.V]) && void 0 !== h?h:f[n.u.X]) && this.log.warn("No fromSegment for audio/video given in playgraph restart");this.j.paused.value || this.j.paused.set(!0,{EH:!0});null === (k=this.j.ie) || void 0 === k?void 0:k.Gtc();this.cb.stop();m=new Promise(function(p){l.j.addEventListener(d.da.YIa,p);});return this.j.ync().then(function(){return l.cb.rpc(m);}).catch(function(p){l.log.error("Restart player for non-seamless transition failed.",{error:p,restartContext:{mediaAttributesRecord:e,fromSegments:f}});return l.j.Gd(g.Y.R0a,p);});};c.prototype.PSb=function(e){var f,l,h,k,m;f=!0;l=e.d2;h=e.Q7;k=e.from;m=e.to;if(this.config.n3b && l.L !== h.L){if(-1 < l.L.indexOf("ad-") && -1 === h.L.indexOf("ad-") || -1 === l.L.indexOf("ad-") && -1 < h.L.indexOf("ad-"))f=!1;return {lx:f,reason:f?void 0:"testing-forced-ads-content"};}e=this.config.oyc;return 0 < e.length?(e.some(function(p){p=new RegExp(p);if(p.test(k.profile) && !p.test(m.profile) || p.test(m.profile) && !p.test(k.profile))return (!1,f=!1,!0);}),{lx:f,reason:f?void 0:{mediaType:"video",Mb:"mismatch",details:"codec"}}):{lx:f};};b.c3a=c;},64213:function(r,b,a){var n,d,g,e;function c(f,l){this.Gz=void 0 === f?function(){}:f;this.bOa=l;this.qB=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.Gwa=void 0;n=a(5163);d=a(45247);g=a(45146);e=a(31149);c.prototype.store=function(f,l){var h,p;h=this.generateKey(f);this.qB.has(h) && this.aLa(this.qB.get(h),!0);if(!f.je)for(var k=Ea(this.qB),m=k.next();!m.done;m=k.next()){p=Ea(m.value);m=p.next().value;p=p.next().value;m.includes(":" + f.N + ":") && (this.aLa(p,!0),this.qB.delete(m));}this.qB.set(h,l);};c.prototype.Jp=function(f,l){var h,k,m;m=null === (h=null === l || void 0 === l?void 0:l.Cg) || void 0 === h?void 0:h.vc;h=null === (k=null === l || void 0 === l?void 0:l.Cg) || void 0 === k?void 0:k.je;k={N:f,je:h,vc:m};this.has(k) || this.Gz(f,l);return this.get(k);};c.prototype.UA=function(f,l){return n.__awaiter(this,void 0,void 0,function k(){var m,p,v;p=this;return Ua(k,function(q){if(1 == q.cq)return ((0,g.oa)(l.Cg,"auxiliaryOptions must exist if an adBreak hydration was requested"),(0,g.oa)(!!l.Cg.vc,"auxiliaryManifestToken must exist if an adBreak hydration was requested"),q.C0=2,Za(q,p.bOa(f,l),4));if(2 != q.cq)return q.return(q.NW);v=rb(q);throw new d.tua("Could not hydrate adBreak",{zp:0,xNc:0,errorCode:null !== (m=v.code) && void 0 !== m?m:0,context:{error:v instanceof e.ke?v.toJSON():v,type:"adBreakHydration"}});});});};c.prototype.has=function(f){f=this.generateKey(f);return this.qB.has(f) && !this.qB.get(f).hr;};c.prototype.clear=function(){var f;f=this;this.qB.forEach(function(l){f.aLa(l,!1);});this.qB.clear();};c.prototype.get=function(f){return this.qB.get(this.generateKey(f));};c.prototype.generateKey=function(f){var l,h;l=f.vc;h=f.je;return f.N.toString() + (h?":" + h:"") + (l?":" + l:"");};c.prototype.aLa=function(f,l){var h;null === (h=f.events) || void 0 === h?void 0:h.emit("viewableEvicted",{type:"viewableEvicted"});f.OQa=l;};b.Gwa=c;},30326:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Kza=function(n){var d,g,e,f;d=n.Yp;g=n.loadTime;n=n.eEa;e=(0,c.dc)(g)?g:0;f=d[n.target] || ({});d[n.target] !== f && (d[n.target]=f);Object.entries(n.fields).forEach(function(l){var h,k,m,p;h=Ea(l);l=h.next().value;h=h.next().value;if("object" !== typeof h || null === h)f[l]=h;else {k=h.type;if("count" === k)(void 0 === f[l] && (f[l]=0),++f[l]);else if(void 0 !== h.value){if("array" === k){k=f[l];m=h.adjust;p=h.value;k || (k=f[l]=[]);m && 0 < m.length && m.forEach(function(v){p[v]-=e || 0;});k.push(p);}else f[l]="sum" === k?(f[l] || 0) + h.value:h.value;}else f[l]=h;}});};c=a(32687);},64302:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.X7b=function(d,g,e,f){return g.ba[g.Cf].rb === f?(d=(0,c.$u)(g,d,c.K.Pa(e)),(0,n.oa)(d,"has valid start position relative to playgraph"),d):{L:g.Cf,offset:c.K.wa};};c=a(45247);n=a(45146);},26668:function(r,b){function a(c){this.log=c.JR("AseUtilsImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.KTa=void 0;a.prototype.C2b=function(c,n){var d,g,e;!1;d=n.slice(0).sort(function(f,l){var h,k;return (null !== (h=f.Fc) && void 0 !== h?h:0) - (null !== (k=l.Fc) && void 0 !== k?k:0);}).sort(function(f,l){var h,k,m;h=f.profile === c.profile?0:1;k=l.profile === c.profile?0:1;m=h - k;if(0 !== h && 0 !== k || 0 === m)h=m;else return m;0 === h && (h=(f.language === c.language || "zxx" === f.language?0:1) - (l.language === c.language || "zxx" === l.language?0:1));0 === h && (h=(f.Qh === c.Qh?0:1) - (l.Qh === c.Qh?0:1));return h;});g=0;e=Ea(d).next().value;e && n.some(function(f,l){if(f === e)return (g=l,!0);});!1;return g;};b.KTa=a;},11479:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xj="AsyncComponentLoaderSymbol";},87284:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.R9a=void 0;r=a(22674);c=a(31073);n=a(11479);b.R9a=new r.Od(function(d){d(n.xj).to(c.moa).ma();});},31073:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u;function c(t,w,x,z,y,A){var B;B=this;this.rm=t;this.config=x;this.Pr=z;this.debug=y;this.Oa=A;this.Bxb=[];this.ce={};this.log=w.fb("loadAsync");this.eec=(0,v.ZDb)(function(C){B.coc=!0;B.startTime=B.Oa.$b().ia(m.pa);B.load(B.Bxb).then(function(){B.endTime=B.Oa.$b().ia(m.pa);C(u.Vi);}).catch(function(D){B.endTime=B.Oa.$b().ia(m.pa);C(D);});});}Object.defineProperty(b,"__esModule",{value:!0});b.moa=void 0;r=a(5163);n=a(77134);d=a(36129);g=a(96813);e=a(63156);f=a(22674);l=a(87386);h=a(4203);k=a(59818);m=a(5021);p=a(90597);v=a(22894);q=a(81918);u=a(33096);c.prototype.g4=function(t){this.eec(t);};c.prototype.register=function(t,w){this.debug.assert(!this.coc);this.Bxb.push({Cdc:this.HSb(w),errorCode:t});};c.prototype.gf=function(t){this.debug.assert(void 0 === this.ce[t]);this.ce[t]=this.Oa.$b().ia(m.pa);};c.prototype.load=function(t){var w;w=this;return (0,g.Xlc)(t).then(function(x){w.rm.mark(e.wm.Gl.NAb);return x.reduce(function(z,y){return z.then(function(){return w.Adc(y);});},Promise.resolve()).then(function(){w.rm.mark(e.wm.Gl.LAb);});});};c.prototype.Adc=function(t){var w,x;w=this;x=t.Cdc;!1;return this.Pr.Zt((0,m.bc)(this.config().cQb),x()).catch(function(z){w.log.error("Failed to load component " + t.errorCode,z);w.rm.mark(e.wm.Gl.MAb);if(z instanceof k.Cu)throw {Ja:d.T.KAb,errorCode:t.errorCode};z.errorCode=z.errorCode || t.errorCode;z.Ja=z.Ja || d.T.JAb;throw z;});};c.prototype.HSb=function(t){return function(){return new Promise(function(w,x){t(function(z){z.ta?w():x(z);});});};};a=c;b.moa=a;b.moa=a=r.__decorate([(0,f.W)(),r.__param(0,(0,f.l)(n.xQ)),r.__param(1,(0,f.l)(l.kb)),r.__param(2,(0,f.l)(h.uc)),r.__param(3,(0,f.l)(k.aF)),r.__param(4,(0,f.l)(p.AB)),r.__param(5,(0,f.l)(q.fd))],a);},96813:function(r,b,a){var c,n,d;Object.defineProperty(b,"__esModule",{value:!0});b.Xlc=function(g){return new Promise(function(e,f){var l;l=d.HGb(g);l && f(l);(l=d.GGb(g)) && f(l);e(g.sort(function(h,k){return n.indexOf(h.errorCode) - n.indexOf(k.errorCode);}));});};c=a(36129);n=[c.Y.JEb,c.Y.oYa,c.Y.pYa,c.Y.tYa,c.Y.lYa,c.Y.jYa,c.Y.Jqa,c.Y.NEb,c.Y.mYa,c.Y.kYa,c.Y.RE,c.Y.gYa,c.Y.iYa,c.Y.qYa,c.Y.rYa,c.Y.sYa,c.Y.nYa,c.Y.hYa];(function(g){g.GGb=function(e){var h;for(var f={},l=0;l < e.length;l++){h=e[l];if(f[h.errorCode])return {errorCode:h.errorCode,Ja:c.T.HAb};f[h.errorCode]=1;}};g.HGb=function(e){var l;for(var f=0;f < e.length;f++){l=e[f];if(-1 === n.indexOf(l.errorCode))return {errorCode:l.errorCode,Ja:c.T.IAb};}};})(d || (d={}));},41674:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.AbortSignal=b.AbortController=void 0;b.AbortController=a.LS.AbortController;b.AbortSignal=a.LS.AbortSignal;b.AbortSignal.prototype.throwIfAborted || (b.AbortSignal.prototype.oxb=function(){if(this.aborted)throw this.reason;});},81918:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fd="ApplicationSymbol";},6405:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GE="Base16EncoderSymbol";},2248:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ti="Base64EncoderSymbol";},22816:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eJ="BrowserInfoSymbol";},33258:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Noa="CachedErrorsSymbol";},30869:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hh="ClockSymbol";},87061:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dVa="ClockConfigSymbol";},58098:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rVa="CsvEncoderSymbol";},34043:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.n9="DebouncerFactorySymbol";},90597:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FVa="DebugConfigSymbol";b.AB="DebugSymbol";},2762:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.eBc={};r.bEc="PboDebugEvent";r.dEc="PlaygraphEvent";b.dBc={SCc:"Manifest",Event:"Event",CCc:"Logblob"};b.eEc={sFc:"UX",OAc:"Combined_1",PAc:"Combined_2"};},28131:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A,B,C,D,E,F,G,J,N,I,M,K,L,H,O,P,Q,S,X,W,V,fa,ba,ca,ia,na,oa,T,Z,aa,R,Y,ea,ka,ha,U,da,la,pa,va,sa,ua,ma,ra,wa,ya,za,Aa,Ia;Object.defineProperty(b,"__esModule",{value:!0});b.Ez=void 0;r=a(22674);c=a(63368);n=a(30869);d=a(53085);g=a(62665);e=a(10306);f=a(61909);l=a(11629);h=a(67525);k=a(691);m=a(84408);p=a(6405);v=a(2248);q=a(74870);u=a(42207);t=a(15160);w=a(59818);x=a(67572);z=a(53399);y=a(33543);A=a(30033);B=a(24900);C=a(4734);D=a(76564);E=a(31811);F=a(55099);G=a(88490);J=a(57180);N=a(9002);I=a(81918);M=a(58098);K=a(76928);L=a(69997);H=a(90597);O=a(85125);P=a(87386);Q=a(87061);S=a(84183);X=a(77134);W=a(1639);V=a(91591);fa=a(69216);ba=a(49721);ca=a(45842);ia=a(22365);na=a(78789);oa=a(20483);T=a(77687);Z=a(6214);aa=a(31298);R=a(4203);Y=a(91581);ea=a(79274);ka=a(36582);ha=a(22816);U=a(66057);da=a(44720);la=a(95947);pa=a(4246);va=a(84130);sa=a(34043);ua=a(61453);ma=a(90030);ra=a(2010);wa=a(50093);ya=a(75236);za=a(76892);Aa=a(33258);Ia=a(19699);b.Ez=new r.Od(function(Da){Da(c.J$).CI(function(){return {};}).ma();Da(c.wJ).Cn(JSON);Da(c.N5a).Cn(Ba);Da(e.s4a).Cn(Math);Da(c.GZa).Cn(ia.s$);Da(c.H$).Cn(ia.Qy);Da(c.q5a).Cn(ia.JJ);Da(c.EVa).Cn(Date);Da(c.hQ).Cn(ia.xf);Da(c.dGb).Cn(ia.WE);Da(Q.dVa).to(S.Voa).ma();Da(I.fd).to(N.$na).ma();Da(n.hh).to(k.Woa).ma();Da(d.gk).to(f.Bva).ma();Da(g.LB).to(l.Mqa).ma();Da(w.aF).to(C.Wua).ma();Da(e.aaa).to(h.cva).ma();Da(ka.qsa).to(wa.psa).ma();Da(H.AB).to(L.kpa).ma();Da(H.FVa).to(O.jpa).ma();Da(m.Du).to(z.wwa).ma();Da(p.GE).to(y.U8).ma();Da(v.ti).to(A.soa).ma();Da(q.Wi).to(B.xwa).ma();Da(u.Eh).Cn(D.vJ);Da(da.JX).to(la.Ypa).ma();Da(t.Zpa).to(E.Qk).yHa();Da(t.o9).to(E.Qk).ma();Da(t.PVa).to(E.Qk).ma();Da(t.kqa).to(E.Qk).ma();Da(G.n4a).to(J.RJ).ma();Da(M.rVa).to(K.Zoa).ma();Da(X.xQ).to(W.taa).ma();Da(X.XY).to(W.taa).ma();Da("Factory<LoggerFactory>").Axb(P.kb);Da(V.npa).to(fa.mpa).ma();Da(ca.SJ).Ze(function(Ja){return function(Ka){return new ba.bwa(Ja.tb.get(I.fd),Ja.tb.get(d.gk),Ka);};});Da(sa.n9).Ze(function(Ja){return function(Ka){return new ua.ipa(Ja.tb.get(d.gk),Ka);};});Da(na.Uua).Mvc(oa.O$);Da(na.oIb).Ze(function(Ja){var Ka;Ka=Ja.tb.get(na.Uua);return function(){return new Ka(!1);};});Da(na.pIb).Ze(function(Ja){var Ka;Ka=Ja.tb.get(na.Uua);return function(){return new Ka(!0);};});Da(T.o5a).Ze(function(){return function(Ja){return new Z.p5a(Ja);};});Da(ea.hZ).Ze(function(Ja){return function(Ka,La,Na){return new aa.Y1a(Ja.tb.get(H.AB),Ja.tb.get(R.uc),Ja.tb.get(Y.ws),Ja.tb.get(ka.qsa),Ka,La,Na);};});Da(x.H0a).Ze(function(){return function(Ja){return new F.I0a(Ja);};});Da(ha.eJ).to(U.zoa);Da(ya.yaa).to(za.twa).ma();Da(pa.AZ).Ze(function(Ja){return function(Ka,La){return new va.ewa(Ja.tb.get(d.gk),Ka,La);};});Da(ma.EWa).to(ra.Upa).ma();Da(Aa.Noa).to(Ia.Loa).ma();});},90030:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aj="_ANY_";b.EWa="EnricherSymbol";},15160:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zpa="EventSourceSymbol";b.kqa="GlobalEventSourceSymbol";b.o9="DebugEventSourceSymbol";b.PVa="DiagnosticsEventSourceSymbol";},44720:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JX="EventSourceFactorySymbol";},62665:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LB="IdProviderSymbol";},42207:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eh="IsTypeSymbol";},43193:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.VP={};r[r.wAc=8]="Backspace";r[r.hFc=9]="Tab";r[r.DBc=13]="Enter";r[r.UEc=16]="Shift";r[r.SAc=17]="Ctrl";r[r.Vzc=18]="Alt";r[r.aEc=19]="PauseBreak";r[r.LAc=20]="CapsLock";r[r.FBc=27]="Escape";r[r.WEc=32]="Space";r[r.$Dc=33]="PageUp";r[r.ZDc=34]="PageDown";r[r.CBc=35]="End";r[r.iCc=36]="Home";r[r.ACc=37]="LeftArrow";r[r.uFc=38]="UpArrow";r[r.lEc=39]="RightArrow";r[r.iBc=40]="DownArrow";r[r.wCc=45]="Insert";r[r.gBc=46]="Delete";r[r.IFc=48]="Zero";r[r.NDc=49]="One";r[r.kFc=50]="Two";r[r.iFc=51]="Three";r[r.aCc=52]="Four";r[r.ZBc=53]="Five";r[r.VEc=54]="Six";r[r.TEc=55]="Seven";r[r.BBc=56]="Eight";r[r.wDc=57]="Nine";r[r.Kzc=65]="A";r[r.T8=66]="B";r[r.BAc=67]="C";r[r.uCb=68]="D";r[r.E=69]="E";r[r.GBc=70]="F";r[r.iqa=71]="G";r[r.gCc=72]="H";r[r.jCc=73]="I";r[r.xCc=74]="J";r[r.$qa=75]="K";r[r.fFb=76]="L";r[r.Tra=77]="M";r[r.XCc=78]="N";r[r.JDc=79]="O";r[r.PDc=80]="P";r[r.Q=81]="Q";r[r.gEc=82]="R";r[r.nEc=83]="S";r[r.qJb=84]="T";r[r.lFc=85]="U";r[r.vFc=86]="V";r[r.AFc=87]="W";r[r.DFc=88]="X";r[r.GFc=89]="Y";r[r.HFc=90]="Z";r[r.BCc=91]="LeftWindowKey";r[r.mEc=92]="RightWindowKey";r[r.REc=93]="SelectKey";r[r.zDc=96]="Numpad0";r[r.ADc=97]="Numpad1";r[r.BDc=98]="Numpad2";r[r.CDc=99]="Numpad3";r[r.DDc=100]="Numpad4";r[r.EDc=101]="Numpad5";r[r.FDc=102]="Numpad6";r[r.GDc=103]="Numpad7";r[r.HDc=104]="Numpad8";r[r.IDc=105]="Numpad9";r[r.WCc=106]="Multiply";r[r.Uzc=107]="Add";r[r.bFc=109]="Subtract";r[r.fBc=110]="DecimalPoint";r[r.hBc=111]="Divide";r[r.HBc=112]="F1";r[r.LBc=113]="F2";r[r.MBc=114]="F3";r[r.NBc=115]="F4";r[r.OBc=116]="F5";r[r.PBc=117]="F6";r[r.QBc=118]="F7";r[r.RBc=119]="F8";r[r.SBc=120]="F9";r[r.IBc=121]="F10";r[r.JBc=122]="F11";r[r.KBc=123]="F12";r[r.xDc=144]="NumLock";r[r.PEc=145]="ScrollLock";r[r.SEc=186]="SemiColon";r[r.EBc=187]="Equals";r[r.QAc=188]="Comma";r[r.cBc=189]="Dash";r[r.cEc=190]="Period";r[r.$Bc=191]="ForwardSlash";r[r.jFc=192]="Tilde";r[r.ODc=219]="OpenBracket";r[r.vAc=220]="BackSlash";r[r.NAc=221]="CloseBracket";r[r.fEc=222]="Quote";},67572:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.H0a="OneWayCounterFactorySymbol";},91591:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.npa="DecoderTimeoutPathologistSymbol";},91581:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ws="PlatformSymbol";b.K$="PlatformMutableSymbol";},63368:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.N5a="WindowTimersSymbol";b.wJ="JSONSymbol";b.q5a="UserAgentSymbol";b.hQ="NavigatorSymbol";b.dGb="MediaSourceSymbol";b.GZa="LocationSymbol";b.EVa="DateSymbol";b.H$="PerformanceSymbol";b.J$="PlatformExtraInfoSymbol";},79274:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hZ="PlayerErrorFactorySymbol";},78789:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uua="PrioritizedSetOfListsSymbol";b.oIb="PrioritizedSetOfListsFactorySymbol";b.pIb="PrioritizedSetOfSetsFactorySymbol";},59818:function(r,b){function a(c){var n;n=Error.call(this,"TimeoutError");this.message=n.message;("stack" in n) && (this.stack=n.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.aF=b.Cu=void 0;Ha(a,Error);b.Cu=a;b.aF="PromiseTimerSymbol";},10306:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.s4a="SystemRandomSymbol";b.aaa="RandomGeneratorSymbol";},53085:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gk="SchedulerSymbol";},88490:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.n4a="StringUtilsSymbol";},14423:function(r,b,a){var n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Wva=void 0;n=a(22365);c.thb=function(){var d;d=n.Ry && n.Ry.height;return d?1080 <= d?1080:720:720;};b.Wva=c;},45842:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SJ="ThrottleFactorySymbol";},4246:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AZ="TimeoutMonitorFactorySymbol";},77134:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xQ="TimingApiSymbol";b.XY="MilestoneTimingApiSymbol";},77687:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.o5a="UrlFactorySymbol";},84408:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Du="Utf8EncoderSymbol";},74870:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wi="UtilitiesSymbol";},36258:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.v1a="PboPlaydataValidatorSymbol";b.r1a="PboPlaydataArrayValidatorSymbol";b.s1a="PboPlaydataCollectionValidatorSymbol";},63156:function(r,b){var c,n,d,g;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.wm=b.Ya=b.Gl=void 0;(function(e){e[e.xs=0]="STANDARD";e[e.MB=1]="LIMITED";e[e.RDc=2]="PREVIEW";})(c || (c={}));(function(e){e[e.HAVE_NOTHING=0]="HAVE_NOTHING";e[e.HAVE_METADATA=1]="HAVE_METADATA";e[e.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";e[e.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";e[e.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(n || (n={}));(function(e){e.NAb="asl_start";e.LAb="asl_comp";e.Szc="asl_exc";e.MAb="asl_fail";e.cJb="stf_creat";e.zEb="idb_open";e.wEb="idb_block";e.GEb="idb_upgr";e.FEb="idb_succ";e.xEb="idb_error";e.yEb="idb_invalid_state";e.BEb="idb_open_timeout";e.DEb="idb_open_wrkarnd";e.EEb="idb_storelen_exc";e.AEb="idb_open_exc";e.CEb="idb_timeout_invalid_storelen";e.WFb="msl_load_data";e.YFb="msl_load_no_data";e.XFb="msl_load_failed";})(d || (b.Gl=d={}));(function(e){e.qta="PlaybackRequestStart";e.pta="PlaybackRequestEnd";e.X$="RequestPrefetchManifestStart";e.W$="RequestPrefetchManifestEnd";e.V$="RequestManifestStart";e.U$="RequestManifestEnd";e.T$="RequestLicenseStart";e.S$="RequestLicenseEnd";e.mX="RequestTimedTextUrlStart";e.lX="RequestTimedTextUrlEnd";e.kX="RequestAudioUrlStart";e.jX="RequestAudioUrlEnd";e.oX="RequestVideoUrlStart";e.nX="RequestVideoUrlEnd";e.xna="AppendBufferStart";e.wna="AppendBufferEnd";e.qva="SetMediaKeysStart";e.pva="SetMediaKeysEnd";e.F9="GenerateChallengeStart";e.E9="GenerateChallengeEnd";e.I8="ApplyLicenseStart";e.H8="ApplyLicenseEnd";})(g || (b.Ya=g={}));b.wm=a;a.bZa=c;a.tbb=function(e){return ["STANDARD","LIMITED","PREVIEW"][e];};a.Gl=d;a.QE=n;},36129:function(r,b){var a,c,n;Object.defineProperty(b,"__esModule",{value:!0});b.HB=b.IWa=b.HWa=b.Wpa=b.GWa=b.A9=b.o$=b.P9=b.QDb=b.T=b.Y=void 0;(function(d){d[d.Kq=7001]="UNKNOWN";d[d.d5a=7002]="UNHANDLED_EXCEPTION";d[d.JEb=7003]="INIT_COMPONENT_LOG_TO_REMOTE";d[d.hEb=7004]="HLS_NOT_SUPPORTED";d[d.Iqa=7010]="INIT_ASYNCCOMPONENT";d[d.NEb=7011]="INIT_HTTP";d[d.HEb=7014]="INIT_BADMOVIEID";d[d.vYa=7020]="INIT_PLAYBACK_LOCK";d[d.wYa=7022]="INIT_SESSION_LOCK";d[d.OEb=7029]="INIT_POSTAUTHORIZE";d[d.uYa=7031]="INIT_HEADER_MEDIA";d[d.PEb=7034]="INIT_TIMEDTEXT_TRACK";d[d.FAb=7037]="ASE_SESSION_ERROR";d[d.EAb=7038]="ASE_SEEK_THREW";d[d.GAb=7039]="ASE_SKIPPED_THREW";d[d.KEb=7041]="INIT_CORE_OBJECTS1";d[d.LEb=7042]="INIT_CORE_OBJECTS2";d[d.MEb=7043]="INIT_CORE_OBJECTS3";d[d.oYa=7053]="INIT_COMPONENT_STORAGE";d[d.pYa=7054]="INIT_COMPONENT_STORAGELOCK";d[d.lYa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";d[d.Jqa=7059]="INIT_COMPONENT_DEVICE";d[d.mYa=7063]="INIT_COMPONENT_MSL";d[d.kYa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";d[d.RE=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";d[d.tYa=7083]="INIT_COMPONENT_WEBCRYPTO";d[d.jYa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";d[d.hYa=7088]="INIT_COMPONENT_BATTERY_MANAGER";d[d.gYa=7089]="INIT_COMPONENT_ASE";d[d.mCc=7091]="INIT_COMPONENT_DRM_CACHE";d[d.IEb=7092]="INIT_COMPONENT_DRM";d[d.iYa=7094]="INIT_COMPONENT_FTL";d[d.nYa=7095]="INIT_COMPONENT_PREPARE_MODEL";d[d.qYa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";d[d.rYa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";d[d.sYa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";d[d.CJ=7111]="MANIFEST";d[d.pFb=7114]="MANIFEST_MISTMATCH";d[d.QZa=7117]="MANIFEST_VERIFY";d[d.bJb=7120]="START";d[d.GY=7121]="LICENSE";d[d.jEc=7122]="RELEASE";d[d.qZ=7123]="STOP";d[d.ara=7125]="KEEPALIVE";d[d.vHb=7131]="PING";d[d.KDb=7134]="ENGAGE";d[d.kFb=7137]="LOGBLOB";d[d.QDc=7138]="PAUSE";d[d.kEc=7139]="RESUME";d[d.q3a=7140]="SPLICE";d[d.hBb=7142]="BIND";d[d.iBb=7144]="BIND_DEVICE";d[d.aEb=7145]="GENERATE_SCREENSHOTS";d[d.ISa=7146]="AD_EVENT";d[d.R0a=7147]="PLAYER_RESTART";d[d.zHb=7202]="PLAY_INIT_EXCEPTION";d[d.rta=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";d[d.GHb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";d[d.U0a=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";d[d.HHb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";d[d.sta=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";d[d.FHb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";d[d.W0a=7351]="PLAY_MSE_NOTSUPPORTED";d[d.T0a=7353]="PLAY_MSE_DECODER_TIMEOUT";d[d.vta=7355]="PLAY_MSE_SOURCEADD";d[d.AHb=7356]="PLAY_MSE_CREATE_MEDIAKEYS";d[d.tta=7357]="PLAY_MSE_GENERATEKEYREQUEST";d[d.V0a=7361]="PLAY_MSE_EVENT_ERROR";d[d.E$=7362]="PLAY_MSE_SETMEDIAKEYS";d[d.$E=7363]="PLAY_MSE_EVENT_KEYERROR";d[d.LHb=7364]="PLAY_MSE_EME_SESSION_CLOSE";d[d.MHb=7365]="PLAY_MSE_GETCURRENTTIME";d[d.NHb=7367]="PLAY_MSE_SETCURRENTTIME";d[d.OHb=7371]="PLAY_MSE_SOURCEAPPEND";d[d.SHb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";d[d.RHb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";d[d.QHb=7377]="PLAY_MSE_UNEXPECTED_REWIND";d[d.PHb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";d[d.X0a=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";d[d.BHb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";d[d.CHb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";d[d.DHb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";d[d.IHb=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";d[d.JHb=7395]="PLAY_MSE_EME_MISSING_PSSH";d[d.KHb=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";d[d.EHb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";d[d.uta=7399]="PLAY_MSE_SET_LICENSE_ERROR";d[d.wWa=7400]="EXTERNAL";d[d.D$=7500]="PAUSE_TIMEOUT";d[d.S9=7502]="INACTIVITY_TIMEOUT";d[d.OAb=7510]="AUTHORIZATION_EXPIRED";d[d.ADb=7700]="EME_INVALID_KEYSYSTEM";d[d.jWa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";d[d.w9=7702]="EME_CREATE_MEDIAKEYS_FAILED";d[d.x9=7703]="EME_GENERATEREQUEST_FAILED";d[d.pWa=7704]="EME_UPDATE_FAILED";d[d.BDb=7705]="EME_KEYSESSION_ERROR";d[d.nWa=7706]="EME_KEYMESSAGE_EMPTY";d[d.FDb=7707]="EME_REMOVE_FAILED";d[d.DDb=7708]="EME_LOAD_FAILED";d[d.wDb=7709]="EME_CREATE_SESSION_FAILED";d[d.Fpa=7710]="EME_LDL_RENEWAL_ERROR";d[d.lWa=7711]="EME_INVALID_INITDATA_DATA";d[d.mWa=7712]="EME_INVALID_LICENSE_DATA";d[d.CDb=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";d[d.iWa=7716]="EME_CLOSE_FAILED";d[d.Gpa=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";d[d.HDb=7718]="EME_SET_SERVER_CERTIFICATE";d[d.wHb=7800]="PLAYDATA_STORE_FAILURE";d[d.dX=7900]="BRANCH_PLAY_FAILURE";d[d.eX=7901]="BRANCH_QUEUE_FAILURE";d[d.bUa=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";d[d.pBb=7903]="BRANCH_CHOICE_MAP_MISSING";d[d.gHb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a || (b.Y=a={}));(function(d){d[d.Kq=1001]="UNKNOWN";d[d.Vo=1003]="EXCEPTION";d[d.TEb=1004]="INVALID_DI";d[d.JAb=1011]="ASYNCLOAD_EXCEPTION";d[d.KAb=1013]="ASYNCLOAD_TIMEOUT";d[d.Rzc=1015]="ASYNCLOAD_BADCONFIG";d[d.HAb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";d[d.IAb=1017]="ASYNCLOAD_COMPONENT_MISSING";d[d.zY=1101]="HTTP_UNKNOWN";d[d.zqa=1102]="HTTP_XHR";d[d.wY=1103]="HTTP_PROTOCOL";d[d.vY=1104]="HTTP_OFFLINE";d[d.yY=1105]="HTTP_TIMEOUT";d[d.rJ=1106]="HTTP_READTIMEOUT";d[d.qJ=1107]="HTTP_ABORT";d[d.KXa=1108]="HTTP_PARSE";d[d.GXa=1110]="HTTP_BAD_URL";d[d.xY=1111]="HTTP_PROXY";d[d.$ra=1203]="MSE_AUDIO";d[d.bsa=1204]="MSE_VIDEO";d[d.RFb=1250]="MSE_MEDIA_ERR_BASE";d[d.JCc=1251]="MSE_MEDIA_ERR_ABORTED";d[d.MCc=1252]="MSE_MEDIA_ERR_NETWORK";d[d.KCc=1253]="MSE_MEDIA_ERR_DECODE";d[d.NCc=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";d[d.LCc=1255]="MSE_MEDIA_ERR_ENCRYPTED";d[d.LE=1260]="EME_MEDIA_KEYERR_BASE";d[d.sBc=1261]="EME_MEDIA_KEYERR_UNKNOWN";d[d.nBc=1262]="EME_MEDIA_KEYERR_CLIENT";d[d.rBc=1263]="EME_MEDIA_KEYERR_SERVICE";d[d.qBc=1264]="EME_MEDIA_KEYERR_OUTPUT";d[d.pBc=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";d[d.oBc=1266]="EME_MEDIA_KEYERR_DOMAIN";d[d.tBc=1269]="EME_MEDIA_UNAVAILABLE_CDM";d[d.zDb=1270]="EME_INTERNAL_ERROR";d[d.vDb=1271]="EME_CLOSED_BY_APPLICATION";d[d.EDb=1272]="EME_RELEASE_ACKNOWLEDGED";d[d.Epa=1273]="EME_HARDWARE_CONTEXT_RESET";d[d.GDb=1274]="EME_RESOURCE_EVICTED";d[d.yDb=1280]="EME_ERROR_NODRMSESSSION";d[d.xDb=1281]="EME_ERROR_NODRMREQUESTS";d[d.kBc=1282]="EME_ERROR_INDIV_FAILED";d[d.lBc=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";d[d.vBc=1284]="EME_TIMEOUT_MESSAGE";d[d.uBc=1285]="EME_TIMEOUT_KEYCHANGE";d[d.oWa=1286]="EME_UNDEFINED_DATA";d[d.IP=1287]="EME_INVALID_STATE";d[d.mBc=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";d[d.kWa=1289]="EME_EMPTY_DATA";d[d.FX=1290]="EME_TIMEOUT";d[d.eDc=1303]="NCCP_METHOD_NOT_SUPPORTED";d[d.hDc=1305]="NCCP_PARSEXML";d[d.VHb=1309]="PROCESS_EXCEPTION";d[d.gDc=1311]="NCCP_NETFLIXID_MISSING";d[d.iDc=1312]="NCCP_SECURENETFLIXID_MISSING";d[d.bDc=1313]="NCCP_HMAC_MISSING";d[d.aDc=1315]="NCCP_HMAC_MISMATCH";d[d.$Cc=1317]="NCCP_HMAC_FAILED";d[d.ZCc=1321]="NCCP_CLIENTTIME_MISSING";d[d.YCc=1323]="NCCP_CLIENTTIME_MISMATCH";d[d.aXa=1331]="GENERIC";d[d.nGb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";d[d.oGb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";d[d.jDc=1341]="NCCP_TRANSACTION";d[d.cDc=1343]="NCCP_INVALID_DRMTYPE";d[d.dDc=1344]="NCCP_INVALID_LICENCE_RESPONSE";d[d.fDc=1345]="NCCP_MISSING_PAYLOAD";d[d.WDc=1346]="PROTOCOL_NOT_INITIALIZED";d[d.VDc=1347]="PROTOCOL_MISSING_FIELD";d[d.UDc=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";d[d.ZB=1402]="STORAGE_NODATA";d[d.xEc=1403]="STORAGE_EXCEPTION";d[d.FEc=1405]="STORAGE_QUOTA_NOT_GRANTED";d[d.GEc=1407]="STORAGE_QUOTA_TO_SMALL";d[d.t3a=1411]="STORAGE_LOAD_ERROR";d[d.dJb=1412]="STORAGE_LOAD_TIMEOUT";d[d.u3a=1414]="STORAGE_SAVE_ERROR";d[d.gJb=1415]="STORAGE_SAVE_TIMEOUT";d[d.wva=1417]="STORAGE_DELETE_ERROR";d[d.s3a=1418]="STORAGE_DELETE_TIMEOUT";d[d.EEc=1421]="STORAGE_FS_REQUESTFILESYSTEM";d[d.BEc=1423]="STORAGE_FS_GETDIRECTORY";d[d.DEc=1425]="STORAGE_FS_READENTRIES";d[d.yEc=1427]="STORAGE_FS_FILEREAD";d[d.AEc=1429]="STORAGE_FS_FILEWRITE";d[d.zEc=1431]="STORAGE_FS_FILEREMOVE";d[d.CEc=1432]="STORAGE_FS_PARSEJSON";d[d.fJb=1451]="STORAGE_NO_LOCALSTORAGE";d[d.eJb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";d[d.tDc=1501]="NTBA_UNKNOWN";d[d.sDc=1502]="NTBA_EXCEPTION";d[d.oDc=1504]="NTBA_CRYPTO_KEY";d[d.qDc=1506]="NTBA_CRYPTO_OPERATION";d[d.pDc=1508]="NTBA_CRYPTO_KEYEXCHANGE";d[d.rDc=1515]="NTBA_DECRYPT_UNSUPPORTED";d[d.xVa=1553]="DEVICE_NO_ESN";d[d.DCb=1555]="DEVICE_ERROR_GETTING_ESN";d[d.WBc=1701]="FORMAT_UNKNOWN";d[d.VDb=1713]="FORMAT_XML";d[d.XBc=1715]="FORMAT_XML_CONTENT";d[d.UBc=1721]="FORMAT_BASE64";d[d.VBc=1723]="FORMAT_DFXP";d[d.uEb=1801]="INDEXDB_OPEN_EXCEPTION";d[d.eYa=1802]="INDEXDB_NOT_SUPPORTED";d[d.tEb=1803]="INDEXDB_OPEN_ERROR";d[d.fYa=1804]="INDEXDB_OPEN_NULL";d[d.sEb=1805]="INDEXDB_OPEN_BLOCKED";d[d.vEb=1807]="INDEXDB_OPEN_TIMEOUT";d[d.rEb=1808]="INDEXDB_INVALID_STORE_STATE";d[d.T9=1809]="INDEXDB_ACCESS_EXCEPTION";d[d.ZFb=1901]="MSL_UNKNOWN";d[d.QCc=1911]="MSL_INIT_NO_MSL";d[d.XZa=1913]="MSL_INIT_ERROR";d[d.VFb=1915]="MSL_INIT_NO_WEBCRYPTO";d[d.TFb=1931]="MSL_ERROR";d[d.ZZa=1933]="MSL_REQUEST_TIMEOUT";d[d.YZa=1934]="MSL_READ_TIMEOUT";d[d.UFb=1935]="MSL_ERROR_HEADER";d[d.OCc=1936]="MSL_ERROR_ENVELOPE";d[d.PCc=1937]="MSL_ERROR_MISSING_PAYLOAD";d[d.WZa=1957]="MSL_ERROR_REAUTH";d[d.Iwa=2103]="WEBCRYPTO_MISSING";d[d.BFc=2105]="WEBCRYPTOKEYS_MISSING";d[d.UJb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";d[d.CAc=2200]="CACHEDDATA_PARSEJSON";d[d.SBb=2201]="CACHEDDATA_UNSUPPORTED_VERSION";d[d.DAc=2202]="CACHEDDATA_UPGRADE_FAILED";d[d.Y8=2203]="CACHEDDATA_INVALID_FORMAT";d[d.Nzc=3E3]="ACCOUNT_CHANGE_INFLIGHT";d[d.Ozc=3001]="ACCOUNT_INVALID";d[d.bBc=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";d[d.aBc=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";d[d.ZAc=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";d[d.$Ac=3201]="DOWNLOADED_LICENSE_UNUSEABLE";d[d.YAc=3202]="DOWNLOADED_LICENSE_EXCEPTION";d[d.HEc=3300]="STORAGE_VA_LOAD_ERROR";d[d.IEc=3301]="STORAGE_VA_LOAD_TIMEOUT";d[d.LEc=3302]="STORAGE_VA_SAVE_ERROR";d[d.MEc=3303]="STORAGE_VA_SAVE_TIMEOUT";d[d.JEc=3304]="STORAGE_VA_REMOVE_ERROR";d[d.KEc=3305]="STORAGE_VA_REMOVE_TIMEOUT";d[d.nta=3077]="PBO_DEVICE_EOL_WARNING";d[d.L0a=3078]="PBO_DEVICE_EOL_FINAL";d[d.O0a=3100]="PBO_DEVICE_RESET";d[d.N0a=3101]="PBO_DEVICE_RELOAD";d[d.M0a=3102]="PBO_DEVICE_EXIT";d[d.tHb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";d[d.WGb=5005]="PBO_ACCOUNT_ON_HOLD";d[d.eHb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";d[d.ota=5007]="PBO_INCORRECT_PIN";d[d.qHb=5008]="PBO_MOBILE_ONLY";d[d.uHb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";d[d.XGb=5010]="PBO_ADS_UNAVAILABLE_VIEWABLE";d[d.$Gb=5011]="PBO_ADS_UNSUPPORTED_DEVICE";d[d.YGb=5012]="PBO_ADS_UNSUPPORTED_CLIENT_APP_VERSION";d[d.ZGb=5013]="PBO_ADS_UNSUPPORTED_COUNTRY";d[d.aHb=5014]="PBO_ADS_VPN_USE_DETECTED";d[d.nHb=5015]="PBO_LIVE_STREAMING_UNSUPPORTED_DEVICE";d[d.mHb=5016]="PBO_LIVE_STREAMING_UNSUPPORTED_APP_VERSION";d[d.fHb=5017]="PBO_CONTENT_PREVIEW_MFA_REQUIRED_EXCEPTION";d[d.kHb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";d[d.cHb=5059]="PBO_BLACKLISTED_IP";d[d.bHb=5070]="PBO_AGE_VERIFICATION_REQUIRED";d[d.dHb=5080]="PBO_CHOICE_MAP_ERROR";d[d.rHb=5090]="PBO_RESTRICTED_TO_TESTERS";d[d.oHb=5091]="PBO_MALFORMED_REQUEST";d[d.lHb=5092]="PBO_INVALID_SERVICE_VERSION";d[d.pHb=5093]="PBO_MDX_INVALID_CTICKET";d[d.jHb=5094]="PBO_FREE_PREVIEW_ENDED";d[d.sHb=5095]="PBO_STREAMING_LOCATION_DISALLOWED";d[d.iHb=5096]="PBO_EXTRA_MEMBER_STREAM_HOLD";d[d.hHb=5097]="PBO_EXTRA_MEMBER_REMOVED_STREAM_HOLD";d[d.xCb=5100]="DECODER_TIMEOUT_BUFFERING";d[d.zCb=5101]="DECODER_TIMEOUT_PRESENTING";d[d.yCb=5102]="DECODER_TIMEOUT_PLAYING";d[d.eDb=5200]="DOWNLOADER_IO_ERROR";d[d.aUa=5300]="BRANCHING_SEGMENT_NOTFOUND";d[d.lBb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";d[d.iAc=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";d[d.roa=5303]="BRANCHING_ASE_UNINITIALIZED";d[d.eAc=5304]="BRANCHING_ASE_FAILURE";d[d.fAc=5305]="BRANCHING_MOMENT_FAILURE";d[d.jBb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";d[d.hAc=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";d[d.mBb=5308]="BRANCHING_SEEK_THREW";d[d.gAc=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";d[d.kBb=5310]="BRANCHING_PLAY_TIMEDOUT";d[d.nBb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";d[d.oBb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";d[d.hJb=5500]="STUDIO_MUXED_MANIFEST";d[d.Vra=5600]="MANIFEST_HYDRATION_FAILURE";d[d.QAb=5700]="AUXILIARY_MANIFEST_ERROR_RETRIEVING_PARENT_MANIFEST";d[d.RAb=5701]="AUXILIARY_MANIFEST_NO_MATCHING_HEACC_AUDIO_STREAM_FOUND";d[d.PAb=5702]="AUXILIARY_MANIFEST_ADBREAK_HYDRATION_FATAL_ERROR";})(c || (b.T=c={}));(function(d){d[d.tAc=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";d[d.jAc=5005]="BR_ACCOUNT_ON_HOLD";d[d.nAc=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";d[d.qAc=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";d[d.mAc=5059]="BR_BLACKLISTED_IP";d[d.kAc=5070]="BR_AGE_VERIFICATION_REQUIRED";d[d.rAc=2204]="BR_PLAYBACK_CONTEXT_CREATION";d[d.oAc=2205]="BR_DRM_LICENSE_AQUISITION";d[d.sAc=2206]="BR_PLAYBACK_SERVICE_ERROR";d[d.pAc=2207]="BR_ENDPOINT_ERROR";d[d.lAc=2208]="BR_AUTHORIZATION_ERROR";})(n || (b.QDb=n={}));b.P9={wBb:"400",tFc:"401",e1a:"413"};b.o$={aa:1,ap:2,wf:3,ee:4,EY:5,ih:6,Jc:7,GX:8,ava:9,gaa:10};b.A9=function(d,g,e,f){return d == a.D$ || d == a.S9 || d == a.rta && 432E5 <= e || d == a.Gpa && g === c.Epa && 0 < Number(f);};b.GWa=function(d){return 1100 <= d && 1199 >= d;};b.Wpa=function(d,g){return 1 <= d && 9 >= d?g + d:g;};b.HWa=function(d){return (0,b.Wpa)(d,c.RFb);};b.IWa=function(d){return (0,b.Wpa)(d,c.LE);};b.HB=function(d){var g,e,f;g={};e=d.errorExternalCode || d.Af;f=d.errorDetails || d.tc;g.ErrorSubCode=d.errorSubCode || d.Ja || c.Kq;e && (g.ErrorExternalCode=e);f && (g.ErrorDetails=f);return g;};},9002:function(r,b,a){var n,d,g,e;function c(f,l){this.Aa=f;this.hfa=this.Aa.df.ia(g.pa) - 1;this.Qdc=this.zha=0;this.id="" + l.$F();}Object.defineProperty(b,"__esModule",{value:!0});b.$na=void 0;r=a(5163);n=a(22674);d=a(30869);g=a(5021);a=a(62665);c.prototype.$b=function(){var f,l;f=this.Aa.df.ia(g.pa) - this.hfa;if(f < this.zha){l=this.zha + 1;this.hfa-=l - f;f=l;}this.zha=f;return (0,g.bc)(this.zha);};c.prototype.o6b=function(){return this.Qdc++;};Ga.Object.defineProperties(c.prototype,{CD:{configurable:!0,enumerable:!0,get:function(){return (0,g.bc)(this.hfa);}}});e=c;b.$na=e;b.$na=e=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.hh)),r.__param(1,(0,n.l)(a.LB))],e);},33543:function(r,b,a){var n,d;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.U8=void 0;r=a(5163);a=a(22674);n={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(g){for(var e=new Uint8Array(g.length / 2),f=0;f < e.length;f++)e[f]=this.Dxb(g.substr(2 * f,2));return e;};c.prototype.encode=function(g){var h;for(var e="",f=g.length,l=0;l < f;l++){h=g[l];e+=("0123456789ABCDEF")[h >>> 4] + ("0123456789ABCDEF")[h & 15];}return e;};c.prototype.JS=function(g,e){var f;f="";for(e<<=1;e--;)(f=(("0123456789ABCDEF")[g & 15] || "0") + f,g>>>=4);return f;};c.prototype.Dxb=function(g){var e;e=g.length;if(7 < e)throw Error("hex to long");for(var f=0,l=0;l < e;l++)f=16 * f + n[g[l]];return f;};d=c;b.U8=d;b.U8=d=r.__decorate([(0,a.W)()],d);},30033:function(r,b,a){var n,d,g,e,f,l,h,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.soa=void 0;r=a(5163);a=a(22674);d=Array.prototype.slice;g=d.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");d=d.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");e={};f={};l={};h={};k=/\s+/g;[g,d].forEach(function(m){var v;for(var p=m.length;p--;){v=m[p];e[v]=p << 18;f[v]=p << 12;l[v]=p << 6;h[v]=p;}});c.prototype.encode=function(m){return n.HDa(m,g,"=");};c.prototype.decode=function(m){return n.GCa(m);};c.GCa=function(m){var p,v,q;m=m.replace(k,"");p=m.length;v=m.charAt(p - 1);"=" !== v && "." !== v || p--;v=m.charAt(p - 1);"=" !== v && "." !== v || p--;v=3 * (p >> 2);q=0;switch(p % 4){case 2:q=1;break;case 3:q=2;break;case 1:throw Error("bad base64");}p=new Uint8Array(v + q);for(var u=0,t=0,w;t < v;){w=e[m[u++]] + f[m[u++]] + l[m[u++]] + h[m[u++]];if(!(0 <= w && 16777215 >= w))throw Error("bad base64");p[t++]=w >>> 16;p[t++]=w >>> 8 & 255;p[t++]=w & 255;}if(0 < q && (w=e[m[u++]] + f[m[u++]],p[t++]=w >>> 16,1 < q && (w+=l[m[u++]],p[t++]=w >>> 8 & 255),!(0 <= w && 16776960 >= w && 0 === (w & (1 < q?255:65535)))))throw Error("bad base64");return p;};c.HDa=function(m,p,v){for(var q="",u=0,t=m.length,w=t - 2,x;u < w;){x=(m[u++] << 16) + (m[u++] << 8) + m[u++];if(!(0 <= x && 16777215 >= x))throw Error("not bytes");q+=p[x >>> 18] + p[x >>> 12 & 63] + p[x >>> 6 & 63] + p[x & 63];}if(u == w){x=(m[u++] << 8) + m[u++];if(!(0 <= x && 65535 >= x))throw Error("not bytes");q+=p[x >>> 10] + p[x >>> 4 & 63] + p[x << 2 & 63] + v;}else if(u == t - 1){x=m[u++];if(!(0 <= x && 255 >= x))throw Error("not bytes");q+=p[x >>> 2] + p[x << 4 & 63] + v + v;}return q;};d=n=c;b.soa=d;b.soa=d=n=r.__decorate([(0,a.W)()],d);},66057:function(r,b,a){var n,d,g,e,f,l;function c(h,k,m){this.userAgentData=m;this.Zd=this.Q1b(h,k.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.SJb=b.zoa=void 0;r=a(5163);n=a(22674);d=a(4203);g=a(83767);e=a(63368);a=a(75236);c.prototype.ega=function(h,k){var m;if(k=this.D8b(k))switch(h){case l.HD:m=0 < k.length?Number(k[0]):0;break;case l.gU:m=1 < k.length?Number(k[1]):0;break;case l.JU:m=2 < k.length?Number(k[2]):0;break;case l.hla:m=3 < k.length?Number(k[3]):0;}return void 0 === m || isNaN(m)?0:m;};c.prototype.D8b=function(h){return null === h || void 0 === h?void 0:h.split(".");};c.prototype.ZG=function(h){return this.Zd.name === h;};c.prototype.GM=function(h){return this.Zd.Dja.name === h;};c.prototype.Oac=function(h){return this.Zd.h9b === h;};c.prototype.Q1b=function(h,k){return Object.assign(Object.assign({h9b:this.S1b(h,k)},this.P1b(h,k)),{Dja:this.T1b(h,k)});};c.prototype.S1b=function(h,k){return k && k.hardware?k.hardware:(/Mobile|iPhone/).test(h)?d.O9.phone:(/Android/).test(h)?d.O9.cvc:d.O9.AUb;};c.prototype.P1b=function(h,k){return k && k.name && k.version?{name:k.name,version:k.version}:(/OPR/).test(h)?{name:d.vm.opera,version:""}:(/Tesla/).test(h)?{name:d.vm.fxb,version:""}:(/Quest/).test(h)?{name:d.vm.Zrb,version:""}:(k=h.match(/Edge\/(\d*)\./))?{name:d.vm.mt,version:k[1]}:(k=h.match(/Edg\/(\d*)\./))?{name:d.vm.wdb,version:k[1]}:(k=h.match(/Chrome\/(\d*)\./))?{name:d.vm.fBa,version:k[1]}:(k=h.match(/Firefox\/(\d*)\./))?{name:d.vm.ffb,version:k[1]}:(h=h.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:d.vm.Utb,version:h[1]}:{name:d.vm.fBa,version:""};};c.prototype.T1b=function(h,k){return k && k.os && k.os.name && k.os.version?{name:k.os.name,version:k.os.version}:(/CrOS/).test(h)?{name:d.Iq.wab,version:""}:(k=h.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:d.Iq.zmb,version:k[1] + "." + k[2] + "." + k[3]}:(/Windows NT/).test(h)?{name:d.Iq.DSa,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(h) || (/Android.*Chrome\/[.0-9]* /).test(h)?{name:d.Iq.tza,version:""}:(/Linux/).test(h)?{name:d.Iq.Tlb,version:""}:(/iPhone/).test(h)?{name:d.Iq.$jb,version:""}:{name:d.Iq.DSa,version:""};};Ga.Object.defineProperties(c.prototype,{hkb:{configurable:!0,enumerable:!0,get:function(){return this.ZG(d.vm.fBa);}},cIa:{configurable:!0,enumerable:!0,get:function(){return this.ZG(d.vm.mt);}},D3:{configurable:!0,enumerable:!0,get:function(){return this.ZG(d.vm.wdb);}},Yga:{configurable:!0,enumerable:!0,get:function(){return this.ZG(d.vm.ffb);}},nIa:{configurable:!0,enumerable:!0,get:function(){return this.ZG(d.vm.opera);}},M3:{configurable:!0,enumerable:!0,get:function(){return this.ZG(d.vm.Utb);}},Ckb:{configurable:!0,enumerable:!0,get:function(){return this.ZG(d.vm.fxb);}},gha:{configurable:!0,enumerable:!0,get:function(){return this.ZG(d.vm.Zrb);}},x3:{configurable:!0,enumerable:!0,get:function(){return this.GM(d.Iq.tza);}},FM:{configurable:!0,enumerable:!0,get:function(){return this.GM(d.Iq.$jb);}},Tga:{configurable:!0,enumerable:!0,get:function(){return this.GM(d.Iq.tza) && this.Oac(d.O9.phone);}},z3:{configurable:!0,enumerable:!0,get:function(){return this.GM(d.Iq.wab);}},jIa:{configurable:!0,enumerable:!0,get:function(){return this.GM(d.Iq.Tlb);}},fA:{configurable:!0,enumerable:!0,get:function(){return this.GM(d.Iq.zmb);}},Sx:{configurable:!0,enumerable:!0,get:function(){return this.GM(d.Iq.DSa);}},Vs:{configurable:!0,enumerable:!0,get:function(){return this.ega(l.HD,this.Zd.version);}},djc:{configurable:!0,enumerable:!0,get:function(){return this.ega(l.HD,this.Zd.Dja.version);}},ejc:{configurable:!0,enumerable:!0,get:function(){return this.ega(l.gU,this.Zd.Dja.version);}},fjc:{configurable:!0,enumerable:!0,get:function(){return this.ega(l.JU,this.Zd.Dja.version);}}});f=c;b.zoa=f;b.zoa=f=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(e.q5a)),r.__param(1,(0,n.l)(g.uJ)),r.__param(2,(0,n.l)(a.yaa))],f);(function(h){h[h.HD=0]="major";h[h.gU=1]="minor";h[h.JU=2]="patch";h[h.hla=3]="revision";})(l || (b.SJb=l={}));},19699:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v;function c(q,u,t,w,x,z){this.vq=q;this.config=t;this.Pr=w;this.Aa=x;this.is=z;this.log=u.fb("CachedErrors");}Object.defineProperty(b,"__esModule",{value:!0});b.Loa=b.Moa=void 0;r=a(5163);d=a(22674);g=a(36129);e=a(87386);f=a(5021);l=a(17892);h=a(4203);k=a(59818);m=a(30869);p=a(42207);v=a(17612);b.Moa="errors";c.prototype.load=function(){var q,u;q=this;if(!this.config().Hdb)return Promise.resolve([]);u=(0,f.bc)(this.config().aSb);return this.Pr.Zt(u,this.dmb([])).catch(function(t){q.log.error("Load failed.",t);return [];});};c.prototype.add=function(q,u,t,w,x){var z;z=this;return this.config().Hdb && u && t && v.mb.Sac(u)?this.dmb([{time:q,keySystem:u,code:t,subCode:w,extCode:x}]).then(function(){}).catch(function(y){z.log.error("Add failed.",y);}):Promise.resolve();};c.prototype.ydc=function(){var q;q=this;return this.vq.create().then(function(u){return u.load(b.Moa).then(function(t){var w;return (null === (w=t.value) || void 0 === w?void 0:w.errors) || [];}).catch(function(t){if(t.Ja === g.T.ZB)return (q.log.warn("No CachedErrors."),[]);throw t;});});};c.prototype.E3b=function(q){return {time:(0,f.Ch)(q[0]),keySystem:q[1],code:q[2],subCode:q[3],extCode:q[4]};};c.Kvc=function(q){return [q.time.ia(f.Jq),q.keySystem,q.code,q.subCode,q.extCode];};c.prototype.Zpc=function(q){var u;u={version:1,errors:q.map(n.Kvc)};return this.vq.create().then(function(t){return t.save(b.Moa,u,!1);}).then(function(){return q;});};c.prototype.r2b=function(q){var u,t;u=(0,f.Ch)(this.config().$Rb);t=this.Aa.df.ka(u);return q.filter(function(w){return w.time.ka(t).rIa();});};c.prototype.Xxc=function(q){return q.filter(this.wac.bind(this)).map(this.E3b);};c.prototype.wac=function(q){return this.is.Im(q[0]) && this.is.Js(q[1]) && this.is.Im(q[2]) && (this.is.Im(q[3]) || void 0 === q[3]) && (this.is.Js(q[4]) || void 0 === q[4])?!0:!1;};c.prototype.m2b=function(q){var u;u=this;return q.filter(function(t){return u.config().q1b.includes(t.code);});};c.prototype.n2b=function(q){return q.slice(-this.config().YRb);};c.prototype.dmb=function(q){var u;u=this;return this.ydc().then(function(t){return u.Xxc(t);}).then(function(t){return u.r2b(t);}).then(function(t){return t.concat(q);}).then(function(t){return u.m2b(t);}).then(function(t){return u.n2b(t);}).then(function(t){return u.Zpc(t);});};a=n=c;b.Loa=a;b.Loa=a=n=r.__decorate([(0,d.W)(),r.__param(0,(0,d.l)(l.DE)),r.__param(1,(0,d.l)(e.kb)),r.__param(2,(0,d.l)(h.uc)),r.__param(3,(0,d.l)(k.aF)),r.__param(4,(0,d.l)(m.hh)),r.__param(5,(0,d.l)(p.Eh))],a);},31149:function(r,b,a){var n;function c(d,g,e,f,l,h,k,m,p,v,q,u,t,w){this.code=void 0 === d?n.Y.Kq:d;this.subCode=g;this.extCode=e;this.m1=f;this.QD=l;this.message=h;this.details=k;this.data=m;this.sS=p;this.Hkc=v;this.alert=q;this.mza=u;this.de=t;this.w5=w;this.ta=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.ke=void 0;n=a(36129);c.Fg=function(d){var g,e,f;if(d){g=d.stack;e=d.number;f=d.message;f || (f="" + d);g?(d="" + g,0 !== d.indexOf(f) && (d=f + "\n" + d)):d=f;e && (d+="\nnumber:" + e);return d;}return "";};c.prototype.e1=function(d){this.details=c.Fg(d);this.data=d;};c.prototype.toString=function(){return JSON.stringify(this.toJSON());};c.prototype.toJSON=function(){return {code:this.code,subCode:this.subCode,extCode:this.extCode,edgeCode:this.m1,mslCode:this.QD,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.sS,playbackServiceError:this.Hkc};};c.bFa=function(d,g){return new c(d,n.T.Vo,void 0,void 0,void 0,void 0,g.message,g.stack);};c.gAb=function(d,g){return new c(d,g,void 0,void 0,void 0,void 0,void 0,void 0);};c.Wyc=function(d,g,e){return new c(d,g,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e);};b.ke=c;},84183:function(r,b,a){var n,d,g,e;function c(f){return d.tP.call(this,f,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Voa=void 0;r=a(5163);n=a(12501);d=a(64174);g=a(22674);a=a(83767);Ha(c,d.tP);Ga.Object.defineProperties(c.prototype,{jzb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});e=c;b.Voa=e;r.__decorate([n.config(n.xd,"usePerformanceApi")],e.prototype,"jzb",null);b.Voa=e=r.__decorate([(0,g.W)(),r.__param(0,(0,g.l)(a.Yoa))],e);},691:function(r,b,a){var n,d,g,e,f,l,h;function c(k,m,p,v){var q;q=this;this.config=k;this.BYb=m;this.Xb=p;this.performance=v;this.Jic=function(u){q.iPa=u.ka(q.df);};(0,n.Ft)(this,"date");(0,n.Ft)(this,"performance");this.iPb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.iPa=d.wa;this.Xb.addListener(h.Uqa.Kub,this.Jic);}Object.defineProperty(b,"__esModule",{value:!0});b.Woa=void 0;r=a(5163);n=a(66523);d=a(5021);g=a(22674);e=a(63368);f=a(87061);l=a(15160);h=a(85001);c.prototype.SOb=function(k){return k.add(this.iPa);};Ga.Object.defineProperties(c.prototype,{df:{configurable:!0,enumerable:!0,get:function(){return this.Ynb?(0,d.timestamp)(this.performance.timing.navigationStart + this.performance.now()):(0,d.bc)(this.BYb.now());}},qO:{configurable:!0,enumerable:!0,get:function(){return this.df.add(this.iPa);}},Ynb:{configurable:!0,enumerable:!0,get:function(){return this.config.jzb && this.iPb;}}});a=c;b.Woa=a;b.Woa=a=r.__decorate([(0,g.W)(),r.__param(0,(0,g.l)(f.dVa)),r.__param(1,(0,g.l)(e.EVa)),r.__param(2,(0,g.l)(l.kqa)),r.__param(3,(0,g.l)(e.H$)),r.__param(3,(0,g.optional)())],a);},76928:function(r,b,a){var n,d,g,e;function c(f,l){this.is=f;this.$e=l;}Object.defineProperty(b,"__esModule",{value:!0});b.Zoa=void 0;r=a(5163);d=a(22674);g=a(42207);a=a(74870);c.prototype.encode=function(f){var l,h;l=this;h="";this.$e.rG(f,function(k,m){k=l.Udb(k) + "=" + l.Udb(m);h=h?h + ("," + k):k;});return h;};c.prototype.Udb=function(f){return this.is.YR(f)?this.is.Im(f)?"" + f:this.is.Js(f)?(f=f.replace(n.Fsb,this.OJa.bind(this)),!n.Wmc.test(f) && n.vgc.test(f) && (f='"' + f + '"'),f):this.is.Hba(f)?"" + f:this.is.Fya(f)?"NaN":"":"";};c.prototype.OJa=function(f){return n.map[f];};e=n=c;b.Zoa=e;e.map={'"':'""',"\r":"","\n":" "};e.Fsb=/(?!^.+)["\r\n](?=.+$)/g;e.Wmc=/["].*["]/g;e.vgc=/[", ]/;b.Zoa=e=n=r.__decorate([(0,d.W)(),r.__param(0,(0,d.l)(g.Eh)),r.__param(1,(0,d.l)(a.Wi))],e);},61453:function(r,b,a){var n,d;function c(g,e){this.Rc=g;this.tda=e;}Object.defineProperty(b,"__esModule",{value:!0});b.ipa=void 0;r=a(5163);n=a(22674);a=a(53085);c.prototype.ah=function(g){this.Sg();this.Hk=this.Rc.xn(this.tda,g);};c.prototype.Sg=function(){this.Hk && this.Hk.cancel();this.Hk=void 0;};d=c;b.ipa=d;b.ipa=d=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.gk))],d);},85125:function(r,b,a){var n,d,g,e;function c(f){f=d.tP.call(this,f,"DebugConfigImpl") || this;f.wHc=function(){debugger;};return f;}Object.defineProperty(b,"__esModule",{value:!0});b.jpa=void 0;r=a(5163);n=a(12501);d=a(64174);g=a(22674);a=a(83767);Ha(c,d.tP);Ga.Object.defineProperties(c.prototype,{rRb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});e=c;b.jpa=e;r.__decorate([n.config(n.xd,"breakOnError")],e.prototype,"rRb",null);b.jpa=e=r.__decorate([(0,g.W)(),r.__param(0,(0,g.l)(a.Yoa))],e);},69997:function(r,b,a){var n,d,g,e;function c(f,l,h){this.config=f;this.Ub=l;this.qa=h.fb("General");}Object.defineProperty(b,"__esModule",{value:!0});b.kpa=void 0;r=a(5163);n=a(22674);d=a(42207);g=a(90597);a=a(87386);c.prototype.assert=function(){};c.prototype.TPb=function(f,l){this.assert(this.Ub.YR(f),l);};c.prototype.UPb=function(f,l){this.assert(this.Ub.vh(f),l);};c.prototype.rca=function(f,l){this.assert(this.Ub.Js(f),l);};c.prototype.$Pb=function(f,l){this.assert(this.Ub.Ks(f),l);};c.prototype.YPb=function(f,l){this.assert(this.Ub.Js(f) || null === f || void 0 === f,l);};c.prototype.qca=function(f,l){this.assert(this.Ub.Im(f),l);};c.prototype.WPb=function(f,l){this.assert(this.Ub.rza(f),l);};c.prototype.ZPb=function(f,l){this.assert(this.Ub.X_(f),l);};c.prototype.XPb=function(f,l){this.assert(this.Ub.B_(f),l);};c.prototype.SPb=function(f,l){this.assert(this.Ub.Hba(f),l);};c.prototype.VPb=function(f,l){this.assert(this.Ub.Jba(f),l);};c.prototype.iac=function(){this.assert(!1,"invalid operation, this method should not be called");};e=c;b.kpa=e;b.kpa=e=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.FVa)),r.__param(1,(0,n.l)(d.Eh)),r.__param(2,(0,n.l)(a.kb))],e);},69216:function(r,b,a){var n,d,g,e,f,l,h,k,m;function c(p,v){this.Oa=p;this.config=v;}Object.defineProperty(b,"__esModule",{value:!0});b.mpa=void 0;r=a(5163);d=a(22674);g=a(81918);e=a(31149);f=a(36129);l=a(85001);h=a(5021);k=a(22365);a=a(21801);c.prototype.Vcb=function(p){var v,q,u,t,w,x,z,y,A,B;v=this;t=p.mediaTime.value;w=p.Ts.value;x=p.Ib.value;z=p.state.value;y={segmentId:p.iGa(),mediaTime:t,segmentTime:p.DG(),bufferingState:n.BRb[w],presentingState:n.Nlc[x],playbackState:n.Ikc[z],mseBuffersBusy:this.V7b(p),intBuffersBusy:this.U5b(p),tabVisible:this.bvc(),decodedFrameCount:this.TYb(p),videoElementInDom:this.pyc(p),lastVideoSync:this.Oa.$b().ka((0,h.bc)(p.C7)).ia(h.pa)};A=x === l.wb.og?p.lb.yh?this.config.Apb:this.config.zpb:this.config.Qnb;if(w !== l.Bg.cf){if((w=f.T.xCb,this.B$a(y.mseBuffersBusy,y.intBuffersBusy)))B=n.cUa;}else (x !== l.wb.yf?w=f.T.zCb:(w=f.T.yCb,(x=p.ie) && 0 === x.yfa() && (B=n.ZJb)),(x=p.ie) && x.Fb.sourceBuffers.forEach(function(C){var D,E;D=n.Zg[C.mediaType];y[D + "Ranges"]=C.ofa();try{E=C.buffered();}catch(F){E=void 0;}E && 0 !== E.length?(C=1E3 * E.end(0) - t,y[D + "Undecoded"]=C,1 < E.length && (B=n.rBb),t < 1E3 * E.start(0) || t > 1E3 * E.end(0)?B=n.sBb:C < A.ia(h.pa)?B=n.tBb:v.B$a(y.mseBuffersBusy,y.intBuffersBusy) && (B=n.cUa)):(y[D + "Undecoded"]=0,B=n.qBb);}));x=p.itb.Qhb();z=t === (null === (q=x.repositionTrace) || void 0 === q?void 0:q[0].newMediaTime);y.lastRepositionCausedTimeout=z;y.trackChangeInProgress=null === (u=p.cb) || void 0 === u?void 0:u.tRa;Object.assign(y,x);p="";try{p=JSON.stringify(y);}catch(C){p="Cannot stringify details: " + C;}return new e.ke(f.Y.T0a,w,B,void 0,void 0,void 0,p,void 0);};c.prototype.V7b=function(p){var v;if(p.Fb){v={};p.Fb.sourceBuffers.forEach(function(q){v[0 === q.type?"audio":"video"]={updating:q.updating()};});return v;}};c.prototype.U5b=function(p){var v;if(p.Fb){v={};p.Fb.sourceBuffers.forEach(function(q){v[0 === q.type?"audio":"video"]={updating:q.Ei()};});return v;}};c.prototype.bvc=function(){return !k.Vh.hidden;};c.prototype.TYb=function(p){return (p=p.ie) && (p=p.Fb.ha) && void 0 !== p.webkitDecodedFrameCount?p.webkitDecodedFrameCount:NaN;};c.prototype.pyc=function(p){if(p=p.ie)if(p=p.Fb.ha)return k.Vh.body.contains(p);return !1;};c.prototype.B$a=function(p,v){var q,u,t,w;return !((null === (q=p.audio) || void 0 === q?void 0:q.updating) === (null === (u=v.audio) || void 0 === u?void 0:u.updating) && (null === (t=p.video) || void 0 === t?void 0:t.updating) === (null === (w=v.video) || void 0 === w?void 0:w.updating));};m=n=c;b.mpa=m;m.qBb="1";m.rBb="2";m.sBb="3";m.cUa="4";m.tBb="5";m.ZJb="6";m.Zg=["Audio","Video"];m.BRb=["","NORMAL","BUFFERING","STALLED"];m.Nlc=["","WAITING","PLAYING ","PAUSED","ENDED"];m.Ikc=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];b.mpa=m=n=r.__decorate([(0,d.W)(),r.__param(0,(0,d.l)(g.fd)),r.__param(1,(0,d.l)(a.Ksa))],m);},2010:function(r,b,a){var n,d;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Upa=void 0;r=a(5163);n=a(22674);d=a(90030);c.prototype.qS=function(g,e){var f;f=this;g && Object.entries(e).forEach(function(l){var h,k,m;h=Ea(l);l=h.next().value;h=h.next().value;if(f.xac(h)){k=Ea(h);h=k.next().value;m=k.next().value;k=g[h];Array.isArray(k)?(f.TCa(g,l,h),k.forEach(function(p){f.qS(p,m);})):h === d.Aj?Object.values(g).forEach(function(p){f.qS(p,m);}):(f.TCa(g,l,h),"object" === typeof k && f.qS(k,m));}else f.TCa(g,l,h);});};c.prototype.xac=function(g){return Array.isArray(g);};c.prototype.TCa=function(g,e,f){g.hasOwnProperty(e) || e === f || Object.defineProperty(g,e,{get:function(){return g[f];},set:function(l){return g[f]=l;},enumerable:!0});};a=c;b.Upa=a;b.Upa=a=r.__decorate([(0,n.W)()],a);},95947:function(r,b,a){var n,d;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.JX=b.Ypa=void 0;r=a(5163);n=a(31811);a=a(22674);c.prototype.create=function(){return new n.Qk();};d=c;b.Ypa=d;b.Ypa=d=r.__decorate([(0,a.W)()],d);b.JX="EventSourceFactorySymbol";},31811:function(r,b,a){var n,d;function c(){this.pt={};this.id="$es$" + n.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.Qk=void 0;r=a(5163);a=a(22674);c.prototype.addListener=function(g,e,f){var l,h;l="$netflix$player$order" + this.id + "$" + g;if(this.pt){h=this.pt[g]?this.pt[g].slice():[];f && (e[l]=f);0 > h.indexOf(e) && (h.push(e),h.sort(function(k,m){return (k[l] || 0) - (m[l] || 0);}));this.pt[g]=h;}};c.prototype.removeListener=function(g,e){if(this.pt && this.pt[g]){for(var f=this.pt[g].slice(),l;0 <= (l=f.indexOf(e));)f.splice(l,1);this.pt[g]=f;}};c.prototype.Pc=function(g,e,f){var l;if(this.pt){l=this.AFa(g);for(g={oP:0};g.oP < l.length;(g={oP:g.oP},g.oP++))f?(function(h){return function(){var k;k=l[h.oP];setTimeout(function(){k(e);},0);};})(g)():l[g.oP].call(this,e);}};c.prototype.Sg=function(){this.pt=void 0;};c.prototype.on=function(g,e,f){this.addListener(g,e,f);};c.prototype.AFa=function(g){var e;return null !== (e=this.pt && (this.pt[g] || (this.pt[g]=[]))) && void 0 !== e?e:[];};d=n=c;b.Qk=d;d.counter=0;b.Qk=d=n=r.__decorate([(0,a.W)()],d);},11629:function(r,b,a){var n,d,g,e,f;function c(l,h){this.Aa=l;this.random=h;}Object.defineProperty(b,"__esModule",{value:!0});b.Mqa=void 0;r=a(5163);d=a(22674);g=a(5021);e=a(30869);a=a(10306);c.prototype.$F=function(){return this.Aa.df.ia(g.Jq) * n.NUa + Math.floor(this.random.random() * n.NUa);};c.prototype.mXb=function(){for(var l=[],h=0;32 > h;h++)l.push(Math.floor(16 * this.random.random()).toString(16));return l.join("");};f=n=c;b.Mqa=f;f.NUa=1E8;b.Mqa=f=n=r.__decorate([(0,d.W)(),r.__param(0,(0,d.l)(e.hh)),r.__param(1,(0,d.l)(a.aaa))],f);},52657:function(r,b,a){var n;function c(d,g,e,f,l){this.version=d;this.BN=g;this.uQa=e;this.vq=f;this.T7=l;this.Yv=new n.BYa(d,g,e,f,l);this.yp=[];}Object.defineProperty(b,"__esModule",{value:!0});b.AYa=void 0;n=a(14494);c.prototype.load=function(d){var g;g=this;return this.Yv.load(d).then(function(){var e;g.yp=null !== (e=g.Yv.yp) && void 0 !== e?e:[];});};c.prototype.add=function(d){this.yp.push(d);return this.Yv.set(this.yp);};c.prototype.remove=function(d,g){d=this.Zfb(this.RS(d,g));return 0 <= d?(this.yp.splice(d,1),this.Yv.set(this.yp)):Promise.resolve();};c.prototype.update=function(d,g){g=this.Zfb(this.RS(d,g));return 0 <= g?(this.yp[g]=d,this.Yv.set(this.yp)):Promise.resolve();};c.prototype.RS=function(d,g){for(var e=0;e < this.yp.length;++e)if(g(this.yp[e],d))return this.yp[e];};c.prototype.Zfb=function(d){return d?this.yp.indexOf(d):-1;};b.AYa=c;},14494:function(r,b,a){var n,d;function c(g,e,f,l,h){this.version=g;this.BN=e;this.uQa=f;this.vq=l;this.T7=h;}Object.defineProperty(b,"__esModule",{value:!0});b.BYa=void 0;n=a(36129);d=a(31149);c.prototype.load=function(g){return this.xdc(g);};c.prototype.set=function(g){this.yp=g;return this.pkc();};c.prototype.xdc=function(g){var e;e=this;this.gmb || (this.gmb=new Promise(function(f,l){function h(k){e.tZb().then(function(){l(k);}).catch(function(){l(k);});}e.uGa().then(function(k){e.storage=k;return e.storage.load(e.BN);}).then(function(k){var m;k=k.value;try{m=g(k);e.version=m.version;e.yp=m.data;f();}catch(p){h(p);}}).catch(function(k){k.Ja !== n.T.ZB?l(k):f();});}));return this.gmb;};c.prototype.pkc=function(){var g,e,f,l,h;g=this;if(!this.uQa)return Promise.resolve();if(this.fma){l=new Promise(function(k,m){e=k;f=m;});h=function(){g.fma=l;g.xwb().then(function(){e();}).catch(function(k){f(k);});};this.fma.then(h).catch(h);return l;}return this.fma=this.xwb();};c.prototype.xwb=function(){var g,e;g=this;e=this.T7();return new Promise(function(f,l){g.uGa().then(function(h){return h.save(g.BN,e,!1);}).then(function(){f();}).catch(function(h){l(c.Lvc(n.Y.wHb,h));});});};c.prototype.tZb=function(){var g;g=this;return this.uQa?new Promise(function(e,f){g.uGa().then(function(l){return l.remove(g.BN);}).then(function(){e();}).catch(function(l){f(l);});}):Promise.resolve();};c.prototype.uGa=function(){return this.storage?Promise.resolve(this.storage):this.vq.create();};c.Lvc=function(g,e){var f;if(e.Ja && e.Mb)return new d.ke(g,e.Ja,void 0,void 0,void 0,void 0,void 0,e.Mb);if(void 0 !== e.subCode){f=e.message?e.message + " ":"";e.code=g;e.message="" === f?void 0:f;return e;}return e instanceof Error?new d.ke(g,n.T.Vo,void 0,void 0,void 0,void 0,e.stack,e):new d.ke(g,n.T.Kq,void 0,void 0,void 0,void 0,void 0,e);};b.BYa=c;},76564:function(r,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.vJ=void 0;c=/^\S+$/;a.prototype.YR=function(n){return void 0 !== n;};a.prototype.vh=function(n){return null !== n && void 0 !== n;};a.prototype.W_=function(n){return a.o9a(n);};a.prototype.Gya=function(n){return !(!n || !a.o9a(n));};a.prototype.QK=function(n){return Array.isArray(n);};a.prototype.p9a=function(n){return !(!n || n.constructor != Uint8Array);};a.prototype.Im=function(n,d,g){return a.k8a(n,d,g);};a.prototype.Fya=function(n){return a.Fya(n);};a.prototype.rza=function(n,d,g){return a.eca(n,d,g) && 0 === n % 1;};a.prototype.X_=function(n,d,g){return a.eca(n,d || 0,g);};a.prototype.B_=function(n){return a.eca(n,1);};a.prototype.vNb=function(n){return a.eca(n,0,255);};a.prototype.wNb=function(n){return n === +n && (0 === n || n !== (n | 0)) && !0;};a.prototype.q9a=function(n){return !(!n || !c.test(n));};a.prototype.Js=function(n){return a.l8a(n);};a.prototype.Ks=function(n){return !(!a.l8a(n) || !n);};a.prototype.Hba=function(n){return !0 === n || !1 === n;};a.prototype.Jba=function(n){return "function" == typeof n;};a.l8a=function(n){return "string" == typeof n;};a.k8a=function(n,d,g){return "number" == typeof n && !isNaN(n) && isFinite(n) && (void 0 === d || n >= d) && (void 0 === g || n <= g);};a.Fya=function(n){return "number" == typeof n && isNaN(n);};a.eca=function(n,d,g){return a.k8a(n,d,g) && 0 === n % 1;};a.o9a=function(n){return "object" == typeof n;};b.vJ=new a();},81734:function(r,b,a){var n,d,g;function c(e,f){this.dz=f?[f]:[];this.Axa="$op$" + g++;this.Wa=e;}Object.defineProperty(b,"__esModule",{value:!0});b.ic=void 0;n=a(33096);d=a(45146);g=0;c.prototype.addListener=function(e,f){var l;l=this;(0,d.CCa)(e);(0,d.oa)(0 > this.dz.indexOf(e));e[n.B$ + this.Axa]=f;this.dz=this.dz.slice();this.dz.push(e);this.dz.sort(function(h,k){return l.stc(h,k);});};c.prototype.removeListener=function(e){var f;(0,d.CCa)(e);this.dz=this.dz.slice();0 <= (f=this.dz.indexOf(e)) && this.dz.splice(f,1);};c.prototype.set=function(e,f){var l;if(this.Wa !== e){l={oldValue:this.Wa,newValue:e,jj:f};this.Wa=e;this.GKb=f;e=this.dz;f=e.length;for(var h=0;h < f;h++)e[h](l);}};c.prototype.when=function(e){var f;f=this;return new Promise(function(l){function h(k){if(e(k.newValue))return (f.removeListener(h),l(k.newValue));}if(e(f.Wa))return l(f.Wa);f.addListener(h);});};c.prototype.stc=function(e,f){return (e[n.B$ + this.Axa] || 0) - (f[n.B$ + this.Axa] || 0);};Ga.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.Wa;}},jj:{configurable:!0,enumerable:!0,get:function(){return this.GKb;}}});b.ic=c;},55099:function(r,b,a){var n;function c(d){this.d4b=d;this.kga=!1;this.xga=this.Mg=this.gW=0;this.m3=!1;this.yga=0;}Object.defineProperty(b,"__esModule",{value:!0});b.I0a=void 0;n=a(32687);c.prototype.bza=function(d){d < this.gW && (this.Mg+=this.gW);this.gW=d;this.kga=!0;};c.prototype.U4b=function(){if(this.kga)return this.m3?this.yga - this.xga:this.Mg + this.gW - this.xga;};c.prototype.refresh=function(){var d;d=this.d4b();(0,n.dc)(d) && this.bza(d);};c.prototype.Btc=function(){this.m3 || (this.kga && (this.yga=this.Mg + this.gW),this.m3=!0);};c.prototype.Utc=function(){this.m3 && (this.kga && (this.xga+=this.Mg + this.gW - this.yga),this.yga=0,this.m3=!1);};b.I0a=c;},72465:function(r,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.lta=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.lta=a;},20483:function(r,b,a){var n;function c(d){this.tLb=void 0 === d?!1:d;this.Mf={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.O$=void 0;r=a(5163);a=a(22674);c.prototype.add=function(d,g){var e;g=void 0 === g?0:g;e=this.Mf[g];e?this.tLb && -1 !== e.indexOf(d) || e.push(d):this.Mf[g]=[d];};c.prototype.remove=function(d,g){this.Vn(d,void 0 === g?0:g);};c.prototype.removeAll=function(d){this.Vn(d);};c.prototype.flatten=function(){var d;d=this;return Object.keys(this.Mf).sort().reduce(function(g,e){return g.concat(d.Mf[e]);},[]);};c.prototype.Vn=function(d,g){Object.entries(this.Mf).forEach(function(e){var f,l;f=Ea(e);e=f.next().value;f=f.next().value;if(void 0 === g || g === parseInt(e)){-1 < (l=f.indexOf(d)) && f.splice(l,1);}});};n=c;b.O$=n;b.O$=n=r.__decorate([(0,a.W)()],n);},94293:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q$=void 0;b.Q$=function(){var a;a=this;this.promise=new Promise(function(c,n){a.resolve=c;a.reject=n;});};},4734:function(r,b,a){var n,d,g;function c(e){this.Rc=e;}Object.defineProperty(b,"__esModule",{value:!0});b.Wua=void 0;r=a(5163);n=a(22674);d=a(53085);g=a(59818);c.prototype.Zt=function(e,f){var l;l=this;return new Promise(function(h,k){var m;m=l.Rc.xn(e,function(){k(new g.Cu(e));});f.then(function(p){h(p);m.cancel();}).catch(function(p){k(p);m.cancel();});});};a=c;b.Wua=a;b.Wua=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.gk))],a);},67525:function(r,b,a){var n,d;function c(g){this.avc=g;}Object.defineProperty(b,"__esModule",{value:!0});b.cva=void 0;r=a(5163);n=a(22674);a=a(10306);c.prototype.random=function(){return this.avc.random();};c.prototype.fsb=function(g,e){if("number" !== typeof g)(e=g.end,g=g.start);else if("undefined" === typeof e)throw Error("max must be provided for randomInteger API");return Math.round(g + this.random() * (e - g));};d=c;b.cva=d;b.cva=d=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.s4a))],d);},74267:function(r,b){function a(c,n,d){if(null != d){if(0 < d(c,n))throw a.Ybb(c,n);}else if(c.el && 0 < c.el(n))throw a.Ybb(c,n);this.start=c;this.end=n;}Object.defineProperty(b,"__esModule",{value:!0});b.dva=void 0;a.Ybb=function(c,n){return new RangeError("end [" + n + "] must be >= start [" + c + "]");};b.dva=a;},61909:function(r,b,a){var d,g,e,f;function c(l){this.zl=l;(0,g.Ft)(this,"timers");}function n(l,h){this.zl=l;this.RSb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.Bva=void 0;r=a(5163);d=a(22674);g=a(66523);e=a(63368);f=a(5021);n.prototype.cancel=function(){this.RSb(this.zl);};c.prototype.ah=function(l){return this.xn(f.wa,l);};c.prototype.xn=function(l,h){var k;k=this.zl.setTimeout(h,l.ia(f.pa));return new n(this.zl,function(m){m.clearTimeout(k);});};c.prototype.kO=function(l,h){var k;k=this.zl.setInterval(h,l.ia(f.pa));return new n(this.zl,function(m){m.clearInterval(k);});};a=c;b.Bva=a;b.Bva=a=r.__decorate([(0,d.W)(),r.__param(0,(0,d.l)(e.N5a))],a);},57180:function(r,b,a){var n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.RJ=void 0;r=a(5163);a=a(22674);c.prototype.format=function(d,g){var f;for(var e=1;e < arguments.length;++e);f=Array.prototype.slice.call(arguments,1);return d.replace(/{(\d+)}/g,function(l,h){return "undefined" != typeof f[h]?f[h]:l;});};c.prototype.nuc=function(d){for(var g=d.length,e=new Uint16Array(g),f=0;f < g;f++)e[f]=d.charCodeAt(f);return e.buffer;};c.prototype.tuc=function(d){return JSON.stringify(d,null,"  ");};n=c;b.RJ=n;b.RJ=n=r.__decorate([(0,a.W)()],n);},49721:function(r,b,a){var n,d,g,e;function c(f,l,h){var k;k=this;this.Qg=f;this.Rc=l;this.tda=h;this.AU=function(m){k.Hk=void 0;k.nwc(m || k.tda);};this.rlb=(0,g.bc)(-this.tda.ia(g.pa));}Object.defineProperty(b,"__esModule",{value:!0});b.bwa=void 0;r=a(5163);n=a(22674);d=a(81918);g=a(5021);a=a(53085);c.prototype.ah=function(f){this.JOa=f;this.Hk=this.Hk || this.Rg(this.AU);};c.prototype.Sg=function(){this.Hk && this.Hk.cancel();this.Hk=void 0;};c.prototype.nwc=function(f){var l,h;l=this.Qg.$b();if(this.JOa){h=f.ka(l.ka(this.rlb));0 >= h.el(g.wa)?(f=this.JOa,this.JOa=void 0,this.rlb=l,f()):this.Hk=this.Hk || this.Rc.xn(h,this.AU.bind(this,f));}};c.prototype.Rg=function(f){return this.Rc.xn(g.wa,f);};e=c;b.bwa=e;b.bwa=e=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.fd)),r.__param(1,(0,n.l)(a.gk))],e);},84130:function(r,b,a){var n,d,g;function c(e,f,l){this.Rc=e;this.kRa=f;this.$z=l;}Object.defineProperty(b,"__esModule",{value:!0});b.ewa=void 0;r=a(5163);n=a(53085);d=a(22674);g=a(5021);c.prototype.qG=function(){this.Hk || (this.Hk=this.Rc.xn((0,g.bc)(this.kRa),this.$z));};c.prototype.Xr=function(){this.Hk && this.Hk.cancel();this.Hk=void 0;};a=c;b.ewa=a;b.ewa=a=r.__decorate([(0,d.W)(),r.__param(0,(0,d.l)(n.gk))],a);},1639:function(r,b,a){var n,d,g,e;function c(f,l){this.Oa=f;this.entries=new Set();this.qa=l.fb("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.taa=void 0;r=a(5163);n=a(22674);d=a(81918);g=a(5021);a=a(87386);c.prototype.mark=function(f,l,h){f={name:f,cw:this.Oa.$b()};l && (f.Ea=l);h && (f.sf=h);this.entries.add(f);return f;};c.prototype.TFa=function(){var f;f=[];this.entries.forEach(function(l){return f.push(l);});return f;};c.prototype.Tgb=function(f){return this.TFa().filter(function(l){return l.Ea === f;});};c.prototype.s6b=function(){var f;f={};try{f=this.TFa().filter(function(l){return !l.Ea;}).reduce(function(l,h){l[h.name]=h.cw.ia(g.pa);return l;},{});}catch(l){this.qa.error(" getMapOfCommonMarks exception",l);}return f;};c.prototype.Rsb=function(f){var l;l=this;this.TFa().forEach(function(h){h.Ea === f && l.entries.delete(h);});};e=c;b.taa=e;b.taa=e=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.fd)),r.__param(1,(0,n.l)(a.kb))],e);},6214:function(r,b){function a(){this.searchParams={};}function c(n){this.xp=n;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.p5a=void 0;c.prototype.toString=function(){return this.href;};Ga.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.xp + this.searchParams.toString();}}});b.p5a=c;a.prototype.get=function(n){return this.searchParams[n];};a.prototype.set=function(n,d){this.searchParams[n]=d;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(n,d,g){var e;e=Ea(d);d=e.next().value;e=e.next().value;return "" + n + (0 == g?"?":"&") + d + "=" + e;},"");};},53399:function(r,b,a){var n,d;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.wwa=void 0;r=a(5163);a=a(22674);c.prototype.encode=function(g){return n.HDa(g);};c.prototype.decode=function(g){return n.GCa(g);};c.HDa=function(g){if(!g)throw new TypeError("Invalid byte array");for(var e=0,f,l=g.length,h="";e < l;){f=g[e++];if(!(0 <= f && 255 >= f))throw Error("bad utf8");if(f & 128)if(192 === (f & 224))f=((f & 31) << 6) + (g[e++] & 63);else if(224 === (f & 240))f=((f & 15) << 12) + ((g[e++] & 63) << 6) + (g[e++] & 63);else throw Error("unsupported utf8 character");h+=String.fromCharCode(f);}return h;};c.GCa=function(g){var e,f,l,h,k;e=g.length;f=0;h=0;if(!(0 <= e))throw Error("bad string");for(l=e;l--;){k=g.charCodeAt(l);128 > k?f++:f=2048 > k?f + 2:f + 3;}f=new Uint8Array(f);for(l=0;l < e;l++)(k=g.charCodeAt(l),128 > k?f[h++]=k:(2048 > k?f[h++]=192 | k >>> 6:(f[h++]=224 | k >>> 12,f[h++]=128 | k >>> 6 & 63),f[h++]=128 | k & 63));return f;};d=n=c;b.wwa=d;b.wwa=d=n=r.__decorate([(0,a.W)()],d);},24900:function(r,b,a){var n,d,g,e;function c(f,l){this.is=f;this.sk=l;}Object.defineProperty(b,"__esModule",{value:!0});b.xwa=void 0;r=a(5163);n=a(22674);a(36129);d=a(42207);g=a(6405);e=a(22365);c.prototype.kN=function(f,l,h){var k,m,p,v;k=this;if(l)if(h){m=h.q4;p=h.prefix;v=h.xja;this.rG(l,function(q,u){if(!v || k.is.vh(u))f[(p || "") + (m?q.toLowerCase():q)]=u;});}else this.rG(l,function(q,u){f[q]=u;});return f;};c.prototype.rG=function(f,l){for(var h in f)f.hasOwnProperty(h) && l(h,f[h]);};c.prototype.VF=function(f,l){if(f.length == l.length){for(var h=f.length;h--;)if(f[h] != l[h])return !1;return !0;}return !1;};c.prototype.SUb=function(f,l){if(f.length != l.length)return !1;f.sort();l.sort();for(var h=f.length;h--;)if(f[h] !== l[h])return !1;return !0;};c.prototype.Fg=function(f){var l,h,k;if(f){l=f.stack;h=f.number;k=f.message;k || (k="" + f);l?(f="" + l,0 !== f.indexOf(k) && (f=k + "\n" + f)):f=k;h && (f+="\nnumber:" + h);return f;}};c.prototype.getFunctionName=function(f){return (f=(/function (.{1,})\(/).exec(f.toString())) && 1 < f.length?f[1]:"";};c.prototype.fgb=function(f){return this.getFunctionName(f.constructor);};c.prototype.apb=function(f){var l,h;l=this;h="";this.is.QK(f) || this.is.p9a(f)?h=Array.prototype.reduce.call(f,function(k,m){return k + (32 <= m && 128 > m?String.fromCharCode(m):".");},""):this.is.Js(f)?h=f:this.rG(f,function(k,m){h+=(h?", ":"") + "{" + k + ": " + (l.is.Jba(m)?l.getFunctionName(m) || "function":m) + "}";});return "[" + this.fgb(f) + " " + h + "]";};c.prototype.createElement=function(f,l,h,k){var m;m=e.Vh.createElement(f);l && (m.style.cssText=l);h && (m.innerHTML=h);k && this.rG(k,function(p,v){m.setAttribute(p,v);});return m;};c.prototype.l2b=function(f,l){return function(h){return h[f] === l;};};c.prototype.Lja=function(f){var l;l={};(f || "").split("&").forEach(function(h){var k,m;h=h.trim();k=h.indexOf("=");if(0 <= k){m=decodeURIComponent(h.substr(0,k)).toLowerCase();l[m]=decodeURIComponent(h.substr(k + 1));}else l[h.toLowerCase()]=void 0;});return l;};a=c;b.xwa=a;b.xwa=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.Eh)),r.__param(1,(0,n.l)(g.GE))],a);},38385:function(r,b,a){var c,n,d,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.tmb=void 0;c=a(80401);n=a(76989);r=a(22674);d=a(36410);g=a(87386);e=a(42790);b.tmb=new r.Od(function(f){f(g.kb).to(n.Nra).ma();f(d.$P).to(c.Pra).ma();f(g.JZa).to(e.Fra).ma();});},87386:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.zm={};r[r.TDb=0]="FATAL";r[r.In=1]="ERROR";r[r.Hwa=2]="WARN";r[r.AY=3]="INFO";r[r.w4a=4]="TRACE";r[r.G=5]="DEBUG";b.JZa="LogFieldBuilderFactorySymbol";b.kb="LoggerFactorySymbol";b.t9={};},36410:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$P="LoggerSinksSymbol";},34126:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Ora=void 0;b.Ora=a;a.FCb="display";a.hCb="console";},22097:function(r,b,a){var n,d;function c(g,e,f,l,h,k,m){this.level=g;this.zp=e;this.timestamp=f;this.message=l;this.Hc=h;this.prefix=k;this.index=void 0 === m?0:m;this.puc=this.suc();}Object.defineProperty(b,"__esModule",{value:!0});b.zTa=void 0;n=a(5021);d={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.Cma=function(g){g=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (g?"":" " + this.puc);return (this.timestamp.ia(n.pa) / 1E3).toFixed(3) + "|" + this.index + "|" + (d[this.level] || this.level) + "|" + this.zp + "| " + g;};c.prototype.suc=function(){var l;for(var g=this.Hc.length,e="",f=0;f < g;++f){l=this.Hc[f].ky;f && e.length && (e+=" ");if("object" === typeof l){if(null === l)e+="null";else if(l instanceof Error)e+=this.ruc(l);else try{e+=JSON.stringify(l);}catch(h){e+=this.quc(l);}}else e+=l;}return e;};c.prototype.ruc=function(g){return g.toString() + (g.stack?"\n" + g.stack:"") + "\n";};c.prototype.quc=function(g){var e;e=[];return JSON.stringify(g,function(f,l){if("object" === typeof l && null !== l){if(-1 !== e.indexOf(l))return "<cycle>";e.push(l);}return l;});};b.zTa=c;},98895:function(r,b,a){var n,d;function c(g,e,f,l,h,k){g=n.ZP.call(this,g,e,f,l) || this;g.groups=h;Array.isArray(k)?g.prefix=k:k && "string" === typeof k && (g.prefix=[],g.prefix.push(k));return g;}Object.defineProperty(b,"__esModule",{value:!0});b.ATa=void 0;n=a(29045);d=a(22097);Ha(c,n.ZP);c.prototype.zF=function(g,e,f){g=new d.zTa(g,this.zp,this.Oa.$b(),e,f,this.prefix);e=Ea(this.qq.qq);for(f=e.next();!f.done;f=e.next())(f=f.value,f(g));};c.prototype.JR=function(g){return new c(this.Oa,this.Pca,this.qq,g,this.groups,this.prefix);};b.ATa=c;},37960:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DRb=function(a,c){var d;a=a.l6b();for(var n=0;n < c.length;++n){d=c[n];void 0 != d && null != d && (d.Ah && (d=d.Ah),d.constructor === Uint8Array?a.HOb(d):"MediaRequest" === d.constructor.name?a.nOb(d):"string" === typeof d?a.EOb(d):"function" === typeof d?a.gOb(d):d instanceof Error?a.eOb(d):d instanceof Object && "function" === typeof d.toJSON?a.S8a(d.toJSON()):d instanceof Object?a.S8a(d):a.JOb(d));}return a.ai();};},90694:function(r,b,a){var n;function c(d,g,e,f,l,h){this.level=d;this.zp=g;this.timestamp=e;this.message=f;this.Hc=l;this.index=void 0 === h?0:h;this.hFb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.Era=void 0;n=a(5021);c.prototype.Cma=function(d){var g;g="" + this.message;this.Hc.forEach(function(e){g+=e.WO(d);});return (this.timestamp.ia(n.pa) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.hFb[this.level] || this.level) + "|" + this.zp + "| " + g;};b.Era=c;},42790:function(r,b,a){var n,d,g,e;function c(f,l){this.Bc=f;this.$e=l;}Object.defineProperty(b,"__esModule",{value:!0});b.Fra=void 0;r=a(5163);n=a(22674);d=a(14600);g=a(2248);a=a(74870);c.prototype.l6b=function(){return new d.Gra(this.Bc,this.$e);};e=c;b.Fra=e;b.Fra=e=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.ti)),r.__param(1,(0,n.l)(a.Wi))],e);},14600:function(r,b,a){var m,p,v;function c(q,u){this.Bc=q;this.$e=u;this.Hc=[];}function n(q){return k.call(this,q,function(u){return {Details:u};}) || this;}function d(q){return k.call(this,q,function(u){return JSON.parse(u.toJSON());}) || this;}function g(q,u){u=k.call(this,u,function(t){return {Base64:q.encode(t)};}) || this;u.Bc=q;return u;}function e(q,u){u=k.call(this,u,function(t){return t();}) || this;u.$e=q;return u;}function f(q){return k.call(this,q,function(u){return {Exception:u.message || "" + u,StackTrace:u.stack || "nostack"};}) || this;}function l(q,u,t){u=k.call(this,u,t) || this;u.$e=q;return u;}function h(q){return k.call(this,q,function(u){return {Details:u};}) || this;}function k(q,u){this.ky=q;this.value=u?u(q):q;}Object.defineProperty(b,"__esModule",{value:!0});b.Gra=void 0;r=a(5163);m=a(22674);p=a(74870);a=a(2248);k.prototype.A1=function(q){return this.ky === q;};Ha(h,k);h.prototype.WO=function(){return "\r\n" + this.ky;};Ha(l,k);l.prototype.WO=function(){var q;q="";this.$e.rG(this.value,function(u,t){try{q+=", " + u + ": " + t;}catch(w){try{q+=", " + u + ": " + JSON.stringify(t);}catch(x){q+=", error stringifying " + u;}}});return q.replace(/[\r\n]+ */g," ");};Ha(f,k);f.prototype.WO=function(q){var u;u="\r\n" + this.ky.message;q || (u+="\r\n" + this.ky.stack);return u;};Ha(e,k);e.prototype.WO=function(){var q;q="";this.$e.rG(this.value,function(u,t){q+=", " + u + ": " + t;});return q.replace(/[\r\n]+ */g," ");};Ha(g,k);g.prototype.WO=function(){return this.ky?"\r\n" + this.Bc.encode(this.ky):"";};Ha(d,k);d.prototype.WO=function(){return this.ky?this.ky.toJSON():"";};Ha(n,k);n.prototype.WO=function(){return ", " + (this.ky.toString?"" + this.ky.toString():"");};c.prototype.EOb=function(q){this.Hc.push(new h(q));};c.prototype.S8a=function(q){this.Hc.push(new l(this.$e,q));};c.prototype.eOb=function(q){this.Hc.push(new f(q));};c.prototype.gOb=function(q){this.Hc.push(new e(this.$e,q));};c.prototype.HOb=function(q){this.Hc.push(new g(this.Bc,q));};c.prototype.nOb=function(q){this.Hc.push(new d(q));};c.prototype.JOb=function(q){this.Hc.push(new n(q));};c.prototype.ai=function(){return this.Hc;};v=c;b.Gra=v;b.Gra=v=r.__decorate([(0,m.W)(),r.__param(0,(0,m.l)(a.ti)),r.__param(1,(0,m.l)(p.Wi))],v);},76989:function(r,b,a){var n,d,g,e,f,l,h;function c(k,m,p){this.Oa=k;this.qq=m;this.oJa=p;}Object.defineProperty(b,"__esModule",{value:!0});b.Nra=void 0;r=a(5163);n=a(29045);d=a(22674);g=a(51742);e=a(81918);f=a(36410);l=a(87386);h=a(98895);c.prototype.fb=function(k,m,p,v,q){p=void 0 === p?this.qq:p;return m?new g.Q1a(this.Oa,this.oJa,p,m,k):q?new h.ATa(this.Oa,this.oJa,p,k,v || "",q):new n.ZP(this.Oa,this.oJa,p,k);};a=c;b.Nra=a;b.Nra=a=r.__decorate([(0,d.W)(),r.__param(0,(0,d.l)(e.fd)),r.__param(1,(0,d.l)(f.$P)),r.__param(2,(0,d.l)(l.JZa))],a);},29045:function(r,b,a){var n,d,g;function c(e,f,l,h){this.Oa=e;this.Pca=f;this.qq=l;this.zp=void 0 === h?"General":h;this.vBa={};}Object.defineProperty(b,"__esModule",{value:!0});b.ZP=void 0;n=a(87386);d=a(90694);g=a(37960);c.prototype.G8a=function(e,f){this.vBa[e]=f;};c.prototype.fatal=function(e,f){for(var l=[],h=1;h < arguments.length;++h)l[h - 1]=arguments[h];this.zF(n.zm.TDb,e,this.DW(e,l));};c.prototype.error=function(e,f){for(var l=[],h=1;h < arguments.length;++h)l[h - 1]=arguments[h];this.zF(n.zm.In,e,this.DW(e,l));};c.prototype.warn=function(e,f){for(var l=[],h=1;h < arguments.length;++h)l[h - 1]=arguments[h];this.zF(n.zm.Hwa,e,this.DW(e,l));};c.prototype.info=function(e,f){for(var l=[],h=1;h < arguments.length;++h)l[h - 1]=arguments[h];this.zF(n.zm.AY,e,this.DW(e,l));};c.prototype.trace=function(e,f){for(var l=[],h=1;h < arguments.length;++h)l[h - 1]=arguments[h];this.zF(n.zm.w4a,e,this.DW(e,l));};c.prototype.debug=function(e,f){for(var l=1;l < arguments.length;++l);!1;};c.prototype.log=function(e,f){for(var l=[],h=1;h < arguments.length;++h)l[h - 1]=arguments[h];this.debug.apply(this,[e].concat(xa(l)));};c.prototype.write=function(e,f,l){for(var h=[],k=2;k < arguments.length;++k)h[k - 2]=arguments[k];this.zF(e,f,this.DW(f,h));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.zp};};c.prototype.JR=function(e){return new c(this.Oa,this.Pca,this.qq,e);};c.prototype.zF=function(e,f,l){e=new d.Era(e,this.zp,this.Oa.$b(),f,l);f=Ea(this.qq.qq);for(l=f.next();!l.done;l=f.next())(l=l.value,l(e));};c.prototype.Q4b=function(e){return 0 < Object.keys(this.vBa).length?[this.vBa].concat(xa(e)):e;};c.prototype.DW=function(e,f){var l;e && "null" !== e && "undefined" !== e || f.push({StackTrace:null !== (l=Error("Empty message").stack) && void 0 !== l?l:"nostack"});return (0,g.DRb)(this.Pca,this.Q4b(f));};b.ZP=c;},80401:function(r,b,a){var n;function c(){this.Pvb={};this.qq=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Pra=void 0;r=a(5163);a=a(22674);c.prototype.Pka=function(d,g){g && (this.Pvb[d]=g,this.qq=Object.values(this.Pvb));};n=c;b.Pra=n;b.Pra=n=r.__decorate([(0,a.W)()],n);},51742:function(r,b,a){var n,d,g;function c(e,f,l,h,k){e=g.ZP.call(this,e,f,l,k) || this;e.j=h;(0,n.Ft)(e,"playback");return e;}Object.defineProperty(b,"__esModule",{value:!0});b.Q1a=void 0;n=a(66523);d=a(90694);g=a(29045);Ha(c,g.ZP);c.prototype.JR=function(e){return new c(this.Oa,this.Pca,this.qq,this.j,e);};c.prototype.zF=function(e,f,l){e=new d.Era(e,this.zp,this.Oa.$b(),f,l,this.j.index);f=Ea(this.qq.qq);for(l=f.next();!l.done;l=f.next())(l=l.value,l(e,this.j));};b.Q1a=c;},56371:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.Unb=void 0;r=a(22674);c=a(76193);n=a(25857);b.Unb=new r.Od(function(d){d(c.P_a).to(n.Isa).ma();});},76193:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.P_a="MomentObserverFactory";},25857:function(r,b,a){var n,d,g;function c(e){this.Rc=e;}Object.defineProperty(b,"__esModule",{value:!0});b.Isa=void 0;r=a(5163);n=a(22674);d=a(89350);a=a(53085);c.prototype.Nbb=function(e,f){return new d.Q_a(this.Rc,e,f);};g=c;b.Isa=g;b.Isa=g=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.gk))],g);},89350:function(r,b){function a(c,n,d){this.Rc=c;this.config=n;this.getTime=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Q_a=void 0;a.prototype.observe=function(c,n){var d;d=this;this.cancel();this.Hk=this.Rc.kO(this.config.phb(),function(){d.getTime() >= c && (d.cancel(),n());});};a.prototype.cancel=function(){this.Hk && (this.Hk.cancel(),this.Hk=void 0);};b.Q_a=a;},64274:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UKc=function(a){return a;};b.r4=function(a){return a;};b.VKc=function(a){return Object.assign({},a);};},33194:function(r,b,a){var c,n,d,g,e,f;Object.defineProperty(b,"__esModule",{value:!0});b.ba=void 0;r=a(22674);c=a(2911);n=a(93488);d=a(12242);g=a(71807);e=a(25830);f=a(49310);b.ba=new r.Od(function(l){l(c.Hva).to(d.Gva).ma();l(n.F3a).to(g.Eva).ma();l(e.U4a).to(f.hwa).ma();});},93488:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.F3a="SegmentConfigFactorySymbol";},2911:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hva="SegmentManagerFactorySymbol";},25830:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.U4a="TransitionLoggerSymbol";},61494:function(r,b,a){var g,e,f,l;function c(h,k,m,p,v,q,u){var t;t=this;this.$=k;this.j=m;this.hU=p;this.Rc=v;this.eR=q;this.config=u;this.xR=function(){t.FH && (t.FH.cancel(),t.FH=void 0);};this.log=h.fb("SegmentManager",this.j);this.ba=new Map();this.j.lb.yh && (this.j.addEventListener(f.da.lO,function(w){return t.ay(w);}),this.j.addEventListener(f.da.closed,this.xR));}function n(h,k){this.id=h;this.eBa=k;}function d(h,k,m,p){return e.ke.call(this,h,m,void 0,void 0,void 0,k,void 0,p) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.rUa=void 0;g=a(36129);e=a(31149);f=a(85001);l=a(5021);Ha(d,e.ke);d.prototype.toString=function(){return this.code + "-" + this.subCode + " : " + this.message + "\n" + JSON.stringify(this.data);};n.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.rb,contentEndPts:this.yb};};Ga.Object.defineProperties(n.prototype,{rb:{configurable:!0,enumerable:!0,get:function(){return this.eBa.startTimeMs;}},yb:{configurable:!0,enumerable:!0,get:function(){var h;return null !== (h=this.eBa.endTimeMs) && void 0 !== h?h:void 0;}},wA:{configurable:!0,enumerable:!0,get:function(){var h;return Object.keys(null !== (h=this.eBa.next) && void 0 !== h?h:{});}}});c.prototype.ay=function(h){var k;k=this;!1;h=h.position.segmentId;0 === this.ba.size && Object.entries(this.j.k2()).forEach(function(m){var p;p=Ea(m);m=p.next().value;p=p.next().value;k.ba.set(m,new n(m,p));});this.ea=this.ba.get(h);};c.prototype.play=function(h){this.bV && (this.bV=void 0);this.xR();this.log.trace("Playing segment",h);return this.skb(h)?this.Ekc(h):this.z5(h);};c.prototype.Bh=function(h){this.log.trace("Queueing segment",h);return this.skb(h)?this.Tmc(h):this.Umc(h);};c.prototype.dk=function(h,k){var m,p;m=this;p=this.j.cb;if(null === p || void 0 === p || !p.aj)return Promise.reject(this.getError(g.Y.bUa,"ASE session manager is not yet initialized",g.T.roa,{segmentId:h,updates:k}));this.log.trace("Updating next segment weights",h,k);return new Promise(function(v,q){try{p.Vwc(h,k);m.j.fireEvent(f.da.SRa,{L:h,Bxc:k});v();}catch(u){q(m.getError(g.Y.bUa,"updateNextSegmentWeights threw an exception",g.T.oBb,{segmentId:h,updates:k,error:u}));}});};c.prototype.skb=function(h){var k;return this.ea?void 0 !== (null === (k=this.j.k2()[this.ea.id].next) || void 0 === k?void 0:k[h]):!1;};c.prototype.mGa=function(){var h;h=this.j.cb;if(null === h || void 0 === h?0:h.aj)return h.ur().Nkc;};c.prototype.o7b=function(){var h;h=this.j.cb;if(null === h || void 0 === h?0:h.aj)return h.ur().id;};c.prototype.K4b=function(){var h;h=this.j.cb;if(null === h || void 0 === h?0:h.aj)return (h={lAa:0},h.lAa);};c.prototype.Ekc=function(h){var k,m;k=this;m=this.j.cb;return null !== m && void 0 !== m && m.aj?this.ea && 1 === this.ea.wA.length?this.z5(h):this.j.ie?void 0 === this.K4b()?(this.log.error("playNextSegment: branchOffset missing",{segment:h}),this.z5(h)):new Promise(function(p,v){var x,z,y,A,B,C;function q(){!y && z && x && (C.cancel(),y=!0,k.log.trace("Telling ASE to choose the next segment",{id:h,stopped:z,repositioned:x,completed:y}),m.bda(h,!1)?(p(),y=!0):(y=!0,k.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:h}),k.z5(h).then(p).catch(v)));}function u(){x=!0;k.log.trace("Player is repositioned",{id:h,stopped:z,repositioned:x,completed:y});k.j.removeEventListener(f.da.sl,u);q();}function t(){k.j.removeEventListener(f.da.fI,t);m.stop();}function w(){z=!0;k.log.trace("ASE is stopped",{id:h,stopped:z,repositioned:x,completed:y});m.removeEventListener("stop",w);q();}x=!1;z=!1;y=!1;A=k.ba.get(h);B=k.mGa();if(void 0 === B)return (k.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:h}),k.z5(h));k.log.trace("Seeking to next segment",JSON.stringify({segmentId:h,seekTo:B,currentSegment:k.ea,nextSegment:A},null,"  "));k.j.fireEvent(f.da.Nia,{zi:k.ea && k.ea.id,oU:h});m.addEventListener("stop",w);k.j.addEventListener(f.da.fI,t);k.j.addEventListener(f.da.sl,u);C=k.Rc.xn((0,l.Ch)(10),function(){y=!0;C.cancel();v(k.getError(g.Y.dX,"Timed out waiting for the player to be repositioned and ASE to be stopped",g.T.kBb,{id:h,stopped:z,repositioned:x,completed:y}));});k.$.seek(B,f.yc.PJ);}):(this.log.warn("MediaPresenter is not initialized",h),Promise.reject(this.getError(g.Y.dX,"MediaPresenter is not initialized",g.T.lBb,{id:h}))):Promise.reject(this.getError(g.Y.dX,"ASE session manager is not yet initialized",g.T.roa,{id:h}));};c.prototype.z5=function(h){var k;k=this.ba.get(h);return k?this.N6(k,g.Y.dX):Promise.reject(this.getError(g.Y.dX,"Unable to find the separated segment",g.T.aUa,{id:h}));};c.prototype.Tmc=function(h){var k;k=this.j.cb;if(null === k || void 0 === k || !k.aj)return Promise.reject(this.getError(g.Y.eX,"ASE session manager is not yet initialized",g.T.roa,{id:h}));this.j.fireEvent(f.da.Nia,{zi:this.ea && this.ea.id,oU:h});if(k.bda(h,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed - falling back to a delayed seek at the end of current segment",{segment:h});return this.Lcb(h);};c.prototype.Umc=function(h){this.log.error("calls to queueSeparatedSegment are deprecated",{segment:h,mid:this.j.P,srcsegment:this.o7b()});return this.Lcb(h);};c.prototype.Lcb=function(h){var k,m;k=this;if(this.bV)return Promise.reject(this.getError(g.Y.eX,"Unable to queue segment for delayed seek because there is currently already a segment queued for delayed seek",g.T.nBb,{currentSegment:this.ea?this.ea.id:void 0,queuedSegment:this.bV.id,failedSegment:h}));if(!this.ea)return Promise.reject(this.getError(g.Y.eX,"Unable to queue segment for delayed seek because there is no currently playing segment",g.T.jBb,{nextSegmentid:h}));m=this.ba.get(h);if(!m)return Promise.reject(this.getError(g.Y.eX,"Unable to find the separated segment",g.T.aUa,{nextSegmentid:h,currentSegmentId:this.ea.id}));this.bV={id:h,promise:new Promise(function(p,v){var q;k.FH=k.hU.Nbb({phb:function(){return (0,l.bc)(100);}},function(){return k.$.ov() || 0;});q=k.mGa() - k.config().bgc;k.log.trace("Adding moment for queued segment for delayed seek",{segment:h,pts:q});k.FH.observe(q,function(){k.log.trace("Moment has arrived, seek to segment",{segment:h,currentSegment:k.ea.id,playerEndPts:k.mGa(),pts:q});k.bV=void 0;k.xR();k.N6(m,g.Y.eX).then(p).catch(v);});})};this.bV.promise.catch(function(p){k.j.Gd(p.code,p);});return Promise.resolve();};c.prototype.N6=function(h,k){var m;m=this;return new Promise(function(p,v){var q;try{q=h.rb;!1;m.$.seek(q,f.yc.Bu);p();}catch(u){v(m.getError(k,"Seek threw an exception",g.T.mBb,{id:h.id,error:u}));}});};c.prototype.getError=function(h,k,m,p){this.log.warn(k,p);return new d(h,k,m,p);};b.rUa=c;},71807:function(r,b,a){var d,g;function c(){}function n(e,f,l,h,k){this.debug=e;this.version=f;this.Ubc=l;this.Bkc=h;this.config=k;}Object.defineProperty(b,"__esModule",{value:!0});b.Eva=void 0;r=a(5163);d=a(22674);g=a(5021);n.prototype.K5b=function(){return this.config().sM;};n.prototype.nFa=function(){return this.config().x$a;};n.prototype.phb=function(){return (0,g.bc)(this.config().blc);};n.prototype.Ngb=function(){return this.config().Edc;};n.prototype.Sgb=function(){return this.config().vec;};c.prototype.ZL=function(e,f,l,h,k){return new n(e,f,l,h,k);};a=c;b.Eva=a;b.Eva=a=r.__decorate([(0,d.W)()],a);},12242:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t;function c(w,x,z,y,A,B,C,D,E,F,G){this.Oa=w;this.wg=x;this.hU=z;this.tSa=y;this.B5=A;this.Rc=B;this.eR=C;this.Mi=D;this.bEa=E;this.Si=F;this.config=G;}Object.defineProperty(b,"__esModule",{value:!0});b.Gva=void 0;r=a(5163);n=a(22674);d=a(81918);g=a(87386);e=a(76193);f=a(79274);l=a(51038);h=a(58872);k=a(64181);m=a(61494);p=a(24550);v=a(53085);q=a(95947);u=a(74870);a=a(4203);c.prototype.zXb=function(w,x,z){return new k.I3a(this.Oa,this.wg,this.hU,this.tSa,x,w,this.Mi,this.B5,this.Si,this.bEa,z);};c.prototype.NWb=function(w,x){return new m.rUa(this.wg,w,x,this.hU,this.Rc,this.eR,this.config);};t=c;b.Gva=t;b.Gva=t=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.fd)),r.__param(1,(0,n.l)(g.kb)),r.__param(2,(0,n.l)(e.P_a)),r.__param(3,(0,n.l)(h.w5a)),r.__param(4,(0,n.l)(l.M1a)),r.__param(5,(0,n.l)(v.gk)),r.__param(6,(0,n.l)(p.$W)),r.__param(7,(0,n.l)(f.hZ)),r.__param(8,(0,n.l)(q.JX)),r.__param(9,(0,n.l)(u.Wi)),r.__param(10,(0,n.l)(a.uc))],t);},64181:function(r,b,a){var e,f,l;function c(h,k,m,p,v,q,u,t,w,x,z){var y;y=this;this.Oa=h;this.hU=m;this.FMa=p;this.config=v;this.Cb=q;this.Mi=u;this.B5=t;this.Si=w;this.Cl=z;this.z1b=Object.values(e.Ra).map(function(A){return {event:A,$z:function(B){return y.Xb.Pc(A,B);}};});this.Xb=x.create();this.$H=[];this.log=k.fb("SegmentManager");this.ML=!0;this.lm=this.Si.createElement("div",l.bva);}function n(h,k,m,p,v,q,u,t,w,x,z){var y;y=this;this.log=h;this.config=k;this.xhc=m;this.FMa=p;this.Mi=v;this.B5=q;this.Wv=u;this.M=t;this.lm=w;this.Cb=x;this.Cl=z;this.xR=function(){y.FH && (y.FH.cancel(),y.FH=void 0);};this.SGa=function(A){y.log.trace("Received the transition event",{movieId:A.P});y.hnc();};this.hJa=function(){};this.log.debug("Constructing session data",d(t));this.Hvc=new Promise(function(A){y.hnc=A;});}function d(h){return {movieId:h.P};}function g(h){return JSON.stringify({movieId:h.P,startPts:h.ub,logicalEnd:h.fi,params:h.Bb?{trackingId:h.Bb.Bl,authParams:h.Bb.Cca,sessionParams:h.Bb.Ho,disableTrackStickiness:h.Bb.fDa,uiPlayStartTime:h.Bb.HI,loadImmediately:h.Bb.Tha,playbackState:h.Bb.playbackState?{currentTime:h.Bb.playbackState.currentTime,volume:h.Bb.playbackState.volume,muted:h.Bb.playbackState.muted,playbackRate:h.Bb.playbackState.playbackRate}:void 0,pin:h.Bb.Gqb,heartbeatCooldown:h.Bb.cHa,uiLabel:h.Bb.ue,uxLabels:h.Bb.Xma}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.I3a=void 0;e=a(85001);f=a(5021);l=a(33096);n.prototype.load=function(h){var k,m;k=this;this.log.trace("Loading new segment",d(this.M));this.$=this.FMa.KR(this.config,this.B5,this.Mi,this.M,this.Cb,this.Cl);this.$.addEventListener(e.Ra.nT,function(p){k.log.trace("Segment is inactive",d(k.M));k.Wv.close(k.Mi(p.errorCode));});this.$.addEventListener(e.Ra.closed,this.xR);this.$.addEventListener(e.Ra.hRa,function(p){p.timecodes.forEach(function(v){"start" === v.type && h?(k.M.ub=v.n7,k.M.Bb.ub=v.n7):"ending" === v.type && (k.M.fi=v.n7,k.M.Bb.fi=v.n7);});k.M.id && k.M.fi && k.Cb.Qyb(k.M.id,k.M.fi);k.Wv.Nyb(k.M);});if(h)(this.log.debug("Pausing background segment",d(this.M)),this.$.addEventListener(e.Ra.vIa,this.SGa),this.$.rqb());else {this.lm.appendChild(this.$.Lp());m=function(p){k.SGa(p);k.$.removeEventListener(e.Ra.loaded,m);};this.$.addEventListener(e.Ra.loaded,m);}};n.prototype.observe=function(){var h,k,m;h=this;this.log.trace("Observing segment",g(this.M));if(this.FH)this.log.trace("Segment is currently observing",d(this.M));else if(this.M.Bb && this.M.Bb.Tha)this.hJa(this);else {k=this.xhc.Nbb(this.config,function(){var p;if(h.$){p=h.$.ov();if(p)return p;}return 0;});m=this.kSb(this.M);this.log.trace("Adding a moment to watch",{time:m});k.observe(m,function(){h.log.trace("Segment has reached its loading point",d(h.M));h.hJa(h);h.xR();});}};n.prototype.close=function(h){this.log.info("Closing segment",{segment:g(this.M),error:h});return this.$?(this.$.removeEventListener(e.Ra.vIa,this.SGa),this.$.close(h)):Promise.resolve();};n.prototype.Nic=function(h){this.hJa=h;};n.prototype.kSb=function(h){var k,m;k=h.fi;h=h.Bb?h.Bb.Tha:!1;m=0;k && !h && (m=k - this.config.Ngb(),m < this.config.Sgb() && (h=k - this.config.Sgb(),m=k - h / 2));return m;};c.prototype.y7b=function(){return this.bi && this.bi.$?this.bi.$.Sp():!1;};c.prototype.Lp=function(){return this.lm;};c.prototype.iM=function(){if(!this.bi || !this.bi.$)throw Error("Player not ready");return this.bi.$;};c.prototype.Nyb=function(h){var k,m;m=this.zEa(h);m?this.Pyb(m,h):this.Cb.pv(h.id) || this.log.error("Tried to update a non-existent segment",{segment:g(h),currentMovieId:this.bi.M.P,queuedMovieIds:this.$H.map(function(p){return p.M.P;}),xid:null === (k=this.bi.$) || void 0 === k?void 0:k.Dx()});};c.prototype.rf=function(h){var k;this.log.info("Adding segment",g(h));if(this.ML){this.log.trace("First segment, loading",d(h));k=this.hmb(h);this.ML=!1;}else (this.log.trace("Subsequent segment, caching",d(h)),(k=this.zEa(h))?this.Pyb(k,h):(k=this.createSession(h),this.$H.push(k),this.bi.observe()));return k?k.Hvc:null;};c.prototype.transition=function(h,k){var m,p,v;p=this.oN;v=null === p || void 0 === p?void 0:p.$;if(p && v)return (this.oN=void 0,this.log.info("Transitioning segment",g(p.M)),v.LPa(this.Oa.$b().ia(f.pa)),this.Xxb(p,k));k=null === p || void 0 === p?void 0:p.M;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.bi.M.P,xid:null === (m=this.bi.$) || void 0 === m?void 0:m.Dx(),nextSegmentId:h,currentSegment:g(this.bi.M),nextSegment:k?g(k):void 0,queuedMovieIds:this.$H.map(function(q){return q.M.P;})});return Promise.reject();};c.prototype.close=function(h){var k;k=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(d(this.bi.M)),nextSession:this.oN?JSON.stringify(d(this.oN.M)):void 0});h=[this.bi.close(h)];this.oN && h.push(this.oN.close());return Promise.all(h).then(function(){k.oN=void 0;k.$H=[];k.ML=!0;});};c.prototype.addListener=function(h,k,m){this.Xb.addListener(h,k,m);};c.prototype.removeListener=function(h,k){this.Xb.removeListener(h,k);};c.prototype.Pyb=function(h,k){this.mjc(h.M,k);this.log.trace("Overwrote existing segment data",g(h.M));};c.prototype.hmb=function(h){var k,m;k=this;this.log.info("Loading the next episode",d(h));if(this.bi){this.config.nFa()[h.P]=h.ub;m=this.zEa(h);}else m=this.createSession(h);if(m)return (this.log.trace("Found the next session",d(h)),m.Nic(function(p){k.rxb(p);}),this.bi?(this.log.trace("Subsequent playback, caching player and pausing",d(h)),this.oN=m,m.load(!0)):(this.log.trace("First playback transitioning immediately",d(h)),m.load(!1),this.Xxb(m)),m);this.log.warn("Unable to find the session, make sure to add it before loading",d(h));};c.prototype.Xxb=function(h,k){var m,p,v,q,u;k=void 0 === k?{}:k;q=h.$?null === (m=h.$) || void 0 === m?void 0:m.getError():"missing player";if(q)return (null === (p=h.$) || void 0 === p?void 0:p.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.bi.M.P,mid:h.M.P,error:q,xid:null === (v=h.$) || void 0 === v?void 0:v.Dx()}),Promise.reject());this.log.trace("Playing episode",d(h.M));m=this.bi;this.bi=h;h=this.bi.$;h.oPa(!1);this.nP(h,m?m.$:void 0);if(m && m.$){u=m.$.Lp();p=h.Lp();u.style.display="none";m=m.close();this.lm.appendChild(p);m.then(function(){u.parentElement && u.parentElement.removeChild(u);});p.style.display="block";h.Qma(k);h.TV();h.play();}return Promise.resolve();};c.prototype.rxb=function(h){var k,m,p,v,q;if(this.$H.length && h.$){k=h.$.ov();m=this.$H[0];p=this.bi.M.fi;v=this.bi.M.Bb?this.bi.M.Bb.Tha:!1;if(p || v){v?q=0:p && (q=p - this.config.Ngb());null !== k && k >= q && (this.log.info("Got a time change, loading the next player",d(m.M)),this.hmb(m.M),this.$H.splice(0,1),this.rxb(h));}}};c.prototype.zEa=function(h){return this.bi.M.P === h.P?this.bi:this.$H.find(function(k){return k.M.P === h.P;});};c.prototype.mjc=function(h,k){h.ub=k.ub || h.ub;h.fi=k.fi || h.fi;h.Bb=k.Bb || h.Bb;h.U=k.U || h.U;};c.prototype.createSession=function(h){return new n(this.log,this.config,this.hU,this.FMa,this.Mi,this.B5,this,h,this.lm,this.Cb,this.Cl);};c.prototype.nP=function(h,k){this.z1b.forEach(function(m){k && k.removeEventListener(m.event,m.$z);h.addEventListener(m.event,m.$z);});this.Xb.Pc(e.oQ.S6);};b.I3a=c;},49310:function(r,b,a){var n,d,g;function c(e){this.config=e;}Object.defineProperty(b,"__esModule",{value:!0});b.hwa=void 0;r=a(5163);n=a(22674);d=a(4203);g=a(3887);c.prototype.xmc=function(e,f,l,h){this.config().Tqc && (e=e.metrics,void 0 !== e && e.segment !== e.srcsegment && (l={isBranching:h || void 0,isPlaygraph:!h || void 0,mid:f.P,xid:f.Ea,srcxid:l.Ea,srcmid:l.P,segment:e.segment,srcsegment:e.srcsegment,srcsegmentduration:e.srcsegmentduration,srcoffset:e.srcoffset,srcvbitrate:e.srcvbitrate,srcvmaf:e.srcvmaf,destvbitrate:e.destvbitrate,destvmaf:e.destvmaf,auxMid:e.auxMid,auxMidType:e.auxMidType,auxSrcmid:e.auxSrcmid,auxSrcmidType:e.auxSrcmidType,seamlessRequested:e.seamlessRequested,transitionType:e.transitionType,transitionTypeAtRequest:e.transitionTypeAtRequest,nextExitPositionAtRequest:e.nextExitPositionAtRequest,delayToTransition:e.delayToTransition,durationOfTransition:e.durationOfTransition,atRequest:e.atRequest,atTransition:e.atTransition,discard:e.discard,adBreakLocationMs:e.adBreakLocationMs,srcadBreakLocationMs:e.srcadBreakLocationMs},!h && e.auxMid && e.auxMid !== f.P && (l.moffms=(0,g.xh)(f.RR)),f.OT.Za.transition(l)));};a=c;b.hwa=a;b.hwa=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.uc))],a);},24550:function(r,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.$W=b.$Ab=b.aBb=b.bBb=void 0;(function(n){n[n.v_b=0]="downloading";n[n.u_b=1]="downloaded";n[n.IF=2]="appended";n[n.buffered=3]="buffered";n[n.ly=4]="removed";n[n.cOc=5]="unused";})(a || (b.bBb=a={}));(function(n){n[n.waiting=1]="waiting";n[n.WLc=2]="ondeck";n[n.v_b=4]="downloading";n[n.u_b=8]="downloaded";n[n.t3=6]="inprogress";})(c || (b.aBb=c={}));b.$Ab="AseBufferViewSymbol";b.$W="AseBufferAccountingSymbol";},1891:function(r,b,a){var n,d,g,e,f,l,h,k;function c(m){return function(){return new Promise(function(p,v){var q;q=m.tb.get(d.eWa);q.Pb().then(function(){p(q);}).catch(function(u){v(u);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.tdb=void 0;r=a(22674);n=a(2413);d=a(31701);g=a(98281);e=a(24550);f=a(64372);l=a(52476);h=a(14188);k=a(33633);b.tdb=new r.Od(function(m){m(l.IZa).to(h.Cra).ma();m(n.cWa).to(k.Dra);m(e.$W).to(f.coa).ma();m(d.eWa).to(g.Cpa).ma();m(d.dWa).R7(c);});},2413:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cWa="DxDisplaySymbol";},31701:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eWa="DxManagerSymbol";b.dWa="DxManagerProviderSymbol";},52476:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IZa="LogDisplayConfigSymbol";},64372:function(r,b,a){var n;function c(){this.xqc="";this.zyc=[[],[],[]];this.Ha=[[],[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.coa=void 0;r=a(5163);n=a(22674);a(5021);a(24550);c.prototype.update=function(d){this.zyc[d.mediaType].forEach(function(g){g.dOc(d);});};Ga.Object.defineProperties(c.prototype,{L:{configurable:!0,enumerable:!0,get:function(){return this.xqc;}}});a=c;b.coa=a;b.coa=a=r.__decorate([(0,n.W)()],a);},44133:function(r,b,a){var n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.cVa=void 0;n=a(22365);c.eVb=function(d){var g;if(n.Vh.queryCommandSupported && n.Vh.queryCommandSupported("copy")){g=n.Vh.createElement("textarea");g.textContent=d;g.style.position="fixed";n.Vh.body.appendChild(g);g.select();try{n.Vh.execCommand("copy");}catch(e){console.warn("Copy to clipboard failed.",e);}finally{n.Vh.body.removeChild(g);}}};b.cVa=c;},98281:function(r,b,a){var n,d;function c(g){this.d_b=g;}Object.defineProperty(b,"__esModule",{value:!0});b.Cpa=void 0;r=a(5163);n=a(22674);a=a(2413);c.prototype.Pb=function(){var g;g=this;this.SG || (this.SG=new Promise(function(e,f){var l;l=[];g.d_b.forEach(function(h){l.push(h.Pb());});Promise.all(l).then(function(){e();}).catch(function(h){f(h);});}));return this.SG;};d=c;b.Cpa=d;b.Cpa=d=r.__decorate([(0,n.W)(),r.__param(0,(0,n.AH)(a.cWa))],d);},14188:function(r,b,a){var n,d,g,e,f;function c(l,h){l=g.zf.call(this,l,"LogDisplayConfigImpl") || this;l.kj=h;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.Cra=void 0;r=a(5163);n=a(22674);d=a(12501);g=a(64174);e=a(83767);a=a(5614);Ha(c,g.zf);Ga.Object.defineProperties(c.prototype,{k6:{configurable:!0,enumerable:!0,get:function(){return !0;}},NT:{configurable:!0,enumerable:!0,get:function(){return this.kj.NT;}},qmb:{configurable:!0,enumerable:!0,get:function(){return -1;}}});f=c;b.Cra=f;r.__decorate([d.config(d.xd,"renderDomDiagnostics")],f.prototype,"k6",null);r.__decorate([d.config(d.WG,"logDisplayMaxEntryCount")],f.prototype,"NT",null);r.__decorate([d.config(d.WG,"logDisplayAutoshowLevel")],f.prototype,"qmb",null);b.Cra=f=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(e.Tn)),r.__param(1,(0,n.l)(a.nQ))],f);},33633:function(r,b,a){var g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y;function c(A,B,C,D,E,F,G,J,N,I){var M;M=this;this.Aa=A;this.Qg=B;this.Si=C;this.Rc=D;this.qq=E;this.config=F;this.qL=G;this.$Qa=J;this.BCa=N;this.vq=I;this.uvc=function(){M.g8.ah(function(){M.update();});};this.clear=function(){M.entries=[];M.update();};this.Jnb=function(){M.Ff.zT=!M.Ff.zT;M.pH && M.wH && (M.Ff.zT?(M.pH.style.display="inline-block",M.wH.style.display="none"):(M.wH.style.display="inline-block",M.pH.style.display="none"));M.vO(!1);};this.Tdc=function(K){var L;M.entries.push(K);L=M.config.NT;0 <= L && M.entries.length > L && M.entries.shift();void 0 === M.Ff.HC[K.zp] && (M.Ff.HC[K.zp]=!0,M.vO(!1));M.Ff.isVisible && !M.ixb?M.uvc():M.g8.ah();};this.m_b=function(){d.download("all",M.entries.map(function(K){return K.Cma(!1);})).catch(function(K){console.error("Unable to download all logs to the file",K);});};this.UG=!1;this.Ff={isVisible:!1,zT:!0,gDa:!0,pJa:q.zm.AY,HC:{}};this.g8=this.$Qa((0,m.Ch)(1));this.o2b=this.BCa((0,m.bc)(250));this.entries=[];!1;!1;}function n(A){var B;this.elements=[];B=document.createElementNS(n.B7,"svg");B.setAttribute("viewBox",A);this.elements.push(B);}function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.Dra=void 0;r=a(5163);g=a(22674);e=a(74870);f=a(45842);l=a(34043);h=a(53085);k=a(30869);m=a(5021);p=a(81918);v=a(33554);q=a(87386);u=a(36410);t=a(34126);w=a(52476);x=a(17892);z=a(43193);y=a(44133);d.download=function(A,B){return d.y5b(A).then(function(C){return d.n8b(C,B.join("\r\n")).then(function(D){return d.j_b(D.filename,D.text);});});};d.y5b=function(A){return new Promise(function(B,C){var D,E,F,G,J,N,I;try{D=new Date();E=D.getDate().toString();F=(D.getMonth() + 1).toString();G=D.getFullYear().toString();J=D.getHours().toString();N=D.getMinutes().toString();I=D.getSeconds().toString();1 === E.length && (E="0" + E);1 === F.length && (F="0" + F);1 === J.length && (J="0" + J);1 === N.length && (N="0" + N);1 === I.length && (I="0" + I);B(G + F + E + J + N + I + "." + A + ".log");}catch(M){C(M);}});};d.n8b=function(A,B){return new Promise(function(C,D){try{C({filename:A,text:URL.createObjectURL(new Blob([B],{type:"text/plain"}))});}catch(E){D(E);}});};d.j_b=function(A,B){var C;try{C=document.createElement("a");C.setAttribute("href",B);C.setAttribute("download",A);C.style.display="none";document.body.appendChild(C);C.click();document.body.removeChild(C);return Promise.resolve();}catch(D){return Promise.reject(D);}};n.prototype.SV=function(){var A;A=document.createElementNS(n.B7,"g");A.setAttribute("stroke","none");A.setAttribute("stroke-width",(1).toString());A.setAttribute("fill","none");A.setAttribute("fill-rule","evenodd");A.setAttribute("stroke-linecap","round");this.addElement(A);return this;};n.prototype.UV=function(A,B,C){var D;D=document.createElementNS(n.B7,"path");D.setAttribute("d",A);B && D.setAttribute("fill",B);C && D.setAttribute("fill-rule",C);this.addElement(D);return this;};n.prototype.o7=function(A,B,C,D,E){var F;E=void 0 === E?"#000000":E;F=document.createElementNS(n.B7,"rect");F.setAttribute("x",A.toString());F.setAttribute("y",B.toString());F.setAttribute("height",C.toString());F.setAttribute("width",D.toString());E && F.setAttribute("fill",E);this.addElement(F);return this;};n.prototype.Ktc=function(){var A;A=document.createElementNS(n.B7,"polygon");A.setAttribute("points","0 0 24 0 24 24 0 24");A.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(A);return this;};n.prototype.end=function(){this.elements.pop();return this;};n.prototype.ai=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};n.prototype.addElement=function(A){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(A);this.elements.push(A);};Ga.Object.defineProperties(n,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},mL:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});n.B7="http://www.w3.org/2000/svg";c.prototype.Pb=function(){var A;A=this;this.SG || (this.SG=new Promise(function(B){Ba.addEventListener("keydown",function(C){C.ctrlKey && C.altKey && C.shiftKey && (C.keyCode == z.VP.fFb?A.toggle():C.keyCode == z.VP.E && y.cVa.eVb(A.qL().Sl));});A.qq.Pka(t.Ora.FCb,A.Tdc);B();}));return this.SG;};c.prototype.show=function(){document.body && (this.element || (this.VWb(),this.UG=!0),!this.Ff.isVisible && this.element && (document.body.appendChild(this.element),this.Ff.isVisible=!0,this.update(!0)));};c.prototype.cA=function(){this.UG && this.Ff.isVisible && this.element && (document.body.removeChild(this.element),this.Ff.isVisible=!1);};c.prototype.toggle=function(){this.Ff.isVisible?this.cA():this.show();this.vO(!1);};c.prototype.VWb=function(){var A,B;try{A=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});B=this.createElement("style");B.type="text/css";B.appendChild(document.createTextNode("button:focus { outline: none; }"));A.appendChild(B);A.appendChild(this.Yr=this.bYb());A.appendChild(this.dYb());A.appendChild(this.PWb());this.element=A;}catch(C){console.error("Unable to create the log console",C);}};c.prototype.bYb=function(){var A,B;A=this;B=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");B.setAttribute("wrap","off");B.setAttribute("readonly","readonly");B.addEventListener("focus",function(){A.ixb=!0;A.update();A.Yr && (A.Yr.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});B.addEventListener("blur",function(){A.ixb=!1;A.update();A.Yr && (A.Yr.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return B;};c.prototype.dYb=function(){var A;A=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");A.appendChild(this.wXb());A.appendChild(this.eXb());A.appendChild(this.ZWb());A.appendChild(this.eYb());A.appendChild(this.TWb());A.appendChild(this.FXb());A.appendChild(this.CXb());A.appendChild(this.$Wb());A.appendChild(this.UWb());return A;};c.prototype.PWb=function(){var A,B,C,D,E,F;A=this;B=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");C=this.createElement("div","padding:2px");D=this.createElement("select",this.Vz(22,160,1,2),"<option>Select categories</option>");E=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");B.appendChild(C);B.appendChild(E);C.appendChild(D);C.addEventListener("mousedown",function(G){G.preventDefault();});F=!1;C.addEventListener("click",function(){F?E.style.display="none":(E.innerHTML="",["all","none"].concat(Object.keys(A.Ff.HC).sort()).forEach(function(G){E.appendChild(A.QWb(G,C));}),E.style.display="block");F=!F;});return B;};c.prototype.QWb=function(A,B){var C,D,E;C=this;D=this.createElement("label","display: block;margin:1px");D.htmlFor=A;E=this.createElement("input","margin:1px");E.type="checkbox";E.id=A;E.checked=this.Ff.HC[A];E.addEventListener("click",function(){"all" === A || "none" === A?(Object.keys(C.Ff.HC).forEach(function(F){C.Ff.HC[F]="all" === A;}),B.click()):C.Ff.HC[A]=!C.Ff.HC[A];C.vO(!0);});D.appendChild(E);D.insertAdjacentText("beforeend",18 < A.length?A.slice(0,15) + "...":A);return D;};c.prototype.wXb=function(){var A,B;A=this;B=this.createElement("select",this.Vz(22,NaN,1,2),'<option value="' + q.zm.In + '">Error</option><option value="' + (q.zm.Hwa + '">Warn</option><option value="') + (q.zm.AY + '">Info</option><option value="') + (q.zm.w4a + '">Trace</option><option value="') + (q.zm.G + '">Debug</option>'));B.value=this.Ff.pJa.toString();B.addEventListener("change",function(C){A.Ff.pJa=parseInt(C.target.value);A.vO(!0);},!1);return B;};c.prototype.eXb=function(){var B,C;function A(D){return B.o2b.ah(function(){var E;E=D.target.value;B.Ff.filter=E?new RegExp(E):void 0;B.vO(!0);});}B=this;C=this.createElement("input",this.Vz(14,150,1,2));C.value=this.Ff.filter?this.Ff.filter.source:"";C.title="Filter (RegEx)";C.placeholder="Filter (RegEx)";C.addEventListener("keydown",A,!1);C.addEventListener("change",A,!1);return C;};c.prototype.ZWb=function(){var A,B,C,D;A=this;B=this.createElement("div",this.Vz(NaN,NaN));C=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");C.id="details";C.type="checkbox";C.title="Details";C.checked=this.Ff.gDa;C.addEventListener("change",function(E){A.Ff.gDa=E.target.checked;A.vO(!0);},!1);D=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");D.setAttribute("for","details");D.innerHTML="View details";B.appendChild(C);B.appendChild(D);return B;};c.prototype.eYb=function(){var A,B,C;A=this;B=this.createElement("button",this.Vz());C=new n("0 0 24 24").SV().Ktc().end().UV("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",n.mL,"nonzero").end().end().ai();B.appendChild(C);B.addEventListener("click",function(){A.update();},!1);B.setAttribute("title","Refresh the log console");return B;};c.prototype.TWb=function(){var A,B;A=this.createElement("button",this.Vz());B=new n("0 0 24 24").SV().o7(0,0,24,24,n.background).end().UV("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",n.mL).end().end().ai();A.appendChild(B);A.addEventListener("click",this.clear,!1);A.setAttribute("title","Remove all log messages");return A;};c.prototype.FXb=function(){var A;this.wH=this.createElement("button",this.Vz());this.wH.style.display=this.Ff.zT?"none":"inline-block";A=new n("0 0 24 24").SV().o7(0,0,24,24,n.background).end().UV("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",n.mL,"nonzero").end().end().ai();this.wH.addEventListener("click",this.Jnb,!1);this.wH.appendChild(A);this.wH.setAttribute("title","Shrink the log console");return this.wH;};c.prototype.CXb=function(){var A;this.pH=this.createElement("button",this.Vz());this.pH.style.display=this.Ff.zT?"inline-block":"none";A=new n("0 0 24 24").SV().o7(4,4,16,16,n.background).end().UV("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",n.mL,"nonzero").end().end().ai();this.pH.addEventListener("click",this.Jnb,!1);this.pH.appendChild(A);this.pH.setAttribute("title","Expand the log console");return this.pH;};c.prototype.$Wb=function(){var A,B;A=this.createElement("button",this.Vz());B=new n("0 0 26 26").SV().o7(0,0,24,24,n.background).end().UV("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",n.mL,"nonzero").end().end().ai();A.appendChild(B);A.addEventListener("click",this.m_b,!1);A.setAttribute("title","Download all log messages");return A;};c.prototype.UWb=function(){var A,B,C;A=this;B=this.createElement("button",this.Vz());C=new n("0 0 24 24").SV().o7(0,0,24,24,n.background).end().UV("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",n.mL,"nonzero").end().end().ai();B.appendChild(C);B.addEventListener("click",function(){A.toggle();},!1);B.setAttribute("title","Close the log console");return B;};c.prototype.vO=function(A){var B;A=void 0 === A?!1:A;B=void 0 === B?!1:B;!1;A && this.update(B);};c.prototype.update=function(A){var B;B=this;A=void 0 === A?!1:A;this.element && this.config.k6 && Promise.resolve(this.FRb() + this.A5b().join("\r\n")).then(function(C){B.element && B.Yr && (B.Yr.value=C,B.element.style.cssText=B.Ff.zT?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",A && B.Rc.xn(m.wa,function(){B.Yr.scrollTop=B.Yr.scrollHeight;}));}).catch(function(C){console.error("Unable to update the log console",C);});};c.prototype.A5b=function(){var A,B;A=this;B=[];this.entries.forEach(function(C){(C.level || C.level) <= A.Ff.pJa && A.Ff.HC[C.zp] && (C=C.Cma(!A.Ff.gDa),A.Ff.filter && !A.Ff.filter.test(C) || B.push(C));});return B;};c.prototype.FRb=function(){var A;A=this.qL();return "Version: 6.0047.439.911 \n" + ((A?"Esn: " + A.Sl:"") + "\nJsSid: ") + (this.Qg.id + ", Epoch: " + this.Aa.df.ia(m.Jq) + ", Start: " + this.Qg.CD.ia(m.Jq) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(A,B,C,D){return this.Si.createElement(A,B,C,D);};c.prototype.Vz=function(A,B,C,D){A=void 0 === A?26:A;B=void 0 === B?26:B;return "display:inline-block;border:" + (void 0 === C?0:C) + "px solid " + n.mL + ";padding:3px;" + (isNaN(A)?"":"height:" + A + "px") + ";" + (isNaN(B)?"":"width:" + B + "px") + ";margin:0px 3px;background-color:transparent;" + (D?"border-radius:" + D + "px;":"");};a=c;b.Dra=a;a.Ztc="logDxDisplay";b.Dra=a=r.__decorate([(0,g.W)(),r.__param(0,(0,g.l)(k.hh)),r.__param(1,(0,g.l)(p.fd)),r.__param(2,(0,g.l)(e.Wi)),r.__param(3,(0,g.l)(h.gk)),r.__param(4,(0,g.l)(u.$P)),r.__param(5,(0,g.l)(w.IZa)),r.__param(6,(0,g.l)(v.CB)),r.__param(7,(0,g.l)(f.SJ)),r.__param(8,(0,g.l)(l.n9)),r.__param(9,(0,g.l)(x.DE))],a);},72574:function(r,b,a){var d;function c(){return d.EZ.apply(this,arguments) || this;}function n(g){return new d.vw(g,b.cJ);}Object.defineProperty(b,"__esModule",{value:!0});b.wa=b.I_a=b.kra=b.qw=b.cJ=b.RBb=void 0;b.hx=n;b.la=function(g){return new d.vw(g,b.qw);};b.FKc=function(g){return new d.vw(g,b.kra);};b.tLc=function(g){return new d.vw(g,b.I_a);};d=a(35201);Ha(c,d.EZ);b.RBb=c;b.cJ=new c(1,"b");b.qw=new c(8 * b.cJ.Ng,"B",b.cJ);b.kra=new c(1024 * b.qw.Ng,"KB",b.cJ);b.I_a=new c(1024 * b.kra.Ng,"MB",b.cJ);b.wa=n(0);},5021:function(r,b,a){var d;function c(){return d.EZ.apply(this,arguments) || this;}function n(g){return new d.vw(g,b.pa);}Object.defineProperty(b,"__esModule",{value:!0});b.wa=b.VXa=b.Hsa=b.Jq=b.pa=b.GJ=b.sJb=void 0;b.vLc=function(g){return new d.vw(g,b.GJ);};b.llc=function(g){return new d.vw(g * b.Jq.Ng,b.GJ);};b.bc=n;b.Ch=function(g){return new d.vw(g,b.Jq);};b.DKa=function(g){return new d.vw(g,b.Hsa);};b.SJc=function(g){return new d.vw(g,b.VXa);};b.timestamp=function(g){return n(g);};d=a(35201);Ha(c,d.EZ);b.sJb=c;b.GJ=new c(1,"\u03bcs");b.pa=new c(1E3,"ms",b.GJ);b.Jq=new c(1E3 * b.pa.Ng,"s",b.GJ);b.Hsa=new c(60 * b.Jq.Ng,"min",b.GJ);b.VXa=new c(60 * b.Hsa.Ng,"hr",b.GJ);b.wa=n(0);},35201:function(r,b,a){var d;function c(g,e){this.Ng=e;this.GD=Math.floor(g);this.display=this.GD + " " + this.Ng.name;}function n(g,e,f){this.Ng=g;this.name=e;this.xp=f?f:this;(0,d.Ft)(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.vw=b.EZ=void 0;d=a(66523);n.prototype.A1=function(g){return this.Ng == g.Ng;};n.prototype.toJSON=function(){return this.name;};b.EZ=n;c.prototype.ia=function(g){return this.Ng.A1(g)?this.GD:Math.floor(this.GD * this.Ng.Ng / g.Ng);};c.prototype.SMa=function(g){return this.Ng.A1(g)?this.GD:this.GD * this.Ng.Ng / g.Ng;};c.prototype.as=function(g){return new c(this.ia(g),g);};c.prototype.to=function(g){return new c(this.ia(g),g);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.GD,units:this.Ng.name};};c.prototype.add=function(g){return this.Xab(g);};c.prototype.ka=function(g){return this.Xab(g,function(e){return -e;});};c.prototype.scale=function(g){return new c(this.ia(this.Ng.xp) * g,this.Ng.xp);};c.prototype.el=function(g){return this.ia(this.Ng.xp) - g.ia(this.Ng.xp);};c.prototype.A1=function(g){return 0 == this.el(g);};c.prototype.Kkb=function(){return 0 == this.GD;};c.prototype.mIa=function(){return 0 > this.GD;};c.prototype.rIa=function(){return 0 < this.GD;};c.prototype.Xab=function(g,e){e=void 0 === e?function(f){return f;}:e;return new c(this.ia(this.Ng.xp) + e(g.ia(this.Ng.xp)),this.Ng.xp);};b.vw=c;},4203:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vm={NGc:"casttv",fBa:"chrome",UGc:"chromecast",mt:"edge",wdb:"edgeoss",ffb:"firefox",$Jc:"ie",opera:"opera",Zrb:"quest",Utb:"safari",fxb:"tesla"};b.Iq={tza:"android",$jb:"ios",wab:"chromeos",Tlb:"linux",zmb:"mac",DSa:"windows"};b.O9={AUb:"computer",phone:"phone",cvc:"tablet"};b.uc="ConfigSymbol";},12501:function(r,b,a){var g,e,f;function c(l){return function(h,k){return h.ENa(k,l);};}function n(l,h){return l.Hka.Rmc[h] || d(l,h);}function d(l,h){l=l.Kx.data[h];switch(typeof l){case "undefined":break;case "string":case "number":case "boolean":return l.toString();default:return JSON.stringify(l);}}Object.defineProperty(b,"__esModule",{value:!0});b.url=b.la=b.ol=b.IRa=b.hac=b.aW=b.string=b.rE=b.xd=b.WG=void 0;b.config=function(l,h,k){k=void 0 === k?!1:k;return function(m,p,v){var q,u;q=void 0 !== h?h:p;u=v.get;void 0 !== u && (v.get=function(){var t;if(!this.kbc(p))return this.G7b(p);a:{t=(this.dPb || k?n:d)(this,q.toString());if(void 0 !== t)if((t=l(this.d5,t),t instanceof f.ss))this.xfb(q,t);else break a;t=u.bind(this)();}this.sV(p,t);return t;});return v;};};b.oIc=function(l){return function(h,k){return h.jsb(k,l);};};b.object=function(){return function(l,h){return l.lsb(h);};};b.Fsb=c;b.ax=function(l,h){return function(k,m){return k.rl(m,l,h);};};g=a(72574);e=a(5021);f=a(37187);b.WG=function(l,h){return l.ksb(h);};b.xd=function(l,h){return l.ANa(h);};b.rE=function(l,h){return l.Wt(h);};b.string=function(l,h){return l.ENa(h);};b.aW=function(l,h){return l.rl(h,b.string);};b.hac=function(l,h){return l.rl(h,b.WG);};b.IRa=function(l,h){return l.rl(h,b.rE);};b.ol=function(l,h){l=l.Wt(h);return l instanceof f.ss?l:(0,e.bc)(l);};b.la=function(l,h){l=l.Wt(h);return l instanceof f.ss?l:(0,g.la)(l);};b.url=c(/^\S+$/);},83767:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yoa="ConfigurableInputsSymbol";b.Tn="ValidatingConfigurableInputsSymbol";b.g9="ConfigNameSymbol";b.uJ="InitParamsSymbol";},34231:function(r,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.Fq=b.TB=b.Jy=void 0;(function(n){n[n.awa=0]="Test";n[n.Tqa=1]="Int";n[n.mJb=2]="Staging";n[n.qIb=3]="Prod";})(a || (b.Jy=a={}));(function(n){n[n.kZ=0]="PreferMsl";n[n.p2a=1]="PreferNoMsl";n[n.IGb=2]="NoMsl";})(c || (b.TB=c={}));b.Fq="GeneralConfigSymbol";},5614:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nQ="PlatformConfigDefaultsSymbol";},27081:function(r,b,a){var c,n,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.hua=void 0;c=a(5021);n=a(72574);d=a(75568);g={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.hua=function(){this.fPa=!0;this.LF=[];this.fh=[];this.en=[];this.iS=!1;this.yDa=!0;this.yy=[d.cp.pEb,d.cp.bpa,d.cp.XIb,d.cp.fQ];this.Tp=void 0;this.PDa=!0;this.Eea=!1;this.lca=(0,n.la)(288E4);this.pca=(0,n.la)(335544320);this.oca=(0,n.la)(1E4);this.JD=(0,c.bc)(15E3);this.Jec=(0,n.la)(6291456);this.NT=1E3;this.HAa=!0;this.zma=g;this.jW=(0,n.la)(0);this.Dga=("ro zh-Hans zh-Hant vi ar he hi th ta te").split(" ");this.Ega=("ro zh-Hans zh-Hant ko vi ar he hi th ta te").split(" ");this.Iha=["th","ta"];(0,c.bc)(0);this.k3=!0;this.Uma=!1;this.kS=!0;this.gP=this.mG=this.Dz=!1;this.iL=["start"];};},52033:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.A1a="PlatformConfigOverridesSymbol";},83810:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;r=a(22674);c=a(4203);n=a(80217);d=a(83767);g=a(34231);e=a(33823);f=a(48004);l=a(40158);h=a(69484);k=a(34731);m=a(23563);p=a(18135);b.config=new r.Od(function(v){v(c.uc).Ze(function(){return function(){return Ba._cad_global.config;};});v(d.Yoa).to(n.Xoa).ma();v(d.Tn).to(n.Awa).ma();v(d.uJ).to(n.Sqa).ma();v(g.Fq).to(e.jqa).ma();v(f.h0a).to(l.Wsa).ma();v(h.ZWa).to(k.gqa).ma();v(m.rw).to(p.Ppa).ma();});},64174:function(r,b,a){var d,g,e,f;function c(l,h){var k;k=f.call(this,l,h) || this;k.lbb=h;k.debug=l.debug;k.qa=l.wg.fb(k.lbb);return k;}function n(l,h){this.lbb=h;this.jNa={};this.Kx=l.Kx;this.d5=l.d5;this.Hka=l.Hka;}Object.defineProperty(b,"__esModule",{value:!0});b.zf=b.tP=b.v4a=void 0;r=a(5163);d=a(72465);g=a(22674);e=a(37187);b.v4a="isTestAccount";n.prototype.xfb=function(){};n.prototype.sV=function(l,h){this.jNa[l]=[h,this.Kx.hla];};n.prototype.kbc=function(l){return d.lta.of(this.jNa[l]).map(function(h){return h[1];}).or(-1) < this.Kx.hla;};n.prototype.G7b=function(l){return d.lta.of(this.jNa[l]).map(function(h){return h[0];}).or(function(){throw Error("Invalid State Error");});};Ga.Object.defineProperties(n.prototype,{dPb:{configurable:!0,enumerable:!0,get:function(){var l,h;if(this && this.Kx && this.Kx.data){l=this.Kx.data[b.v4a];"undefined" !== typeof l && (h=l.toString());l=this.d5.ANa(h);l=l instanceof e.ss?!1:l;}else l=!1;return l;}}});f=n;b.tP=f;b.tP=f=r.__decorate([(0,g.W)(),r.__param(0,(0,g.$r)()),r.__param(1,(0,g.$r)())],f);Ha(c,f);c.prototype.xfb=function(l,h){this.qa.error("Invalid configuration value.",{name:l},h);this.debug.assert(!1);};a=c;b.zf=a;b.zf=a=r.__decorate([r.__param(0,(0,g.$r)()),r.__param(1,(0,g.$r)())],a);},80217:function(r,b,a){var g,e,f,l,h;function c(){this.UC={};this.Mtb=0;}function n(k,m,p,v,q){this.debug=k;this.Kx=m;this.d5=p;this.wg=v;this.Hka=q;}function d(k,m,p){this.Kx=k;this.d5=m;this.Hka=p;}Object.defineProperty(b,"__esModule",{value:!0});b.Sqa=b.Awa=b.Xoa=void 0;r=a(5163);g=a(22674);e=a(90597);f=a(87386);l=a(37187);h=a(17842);a=a(83767);b.Xoa=d;b.Xoa=d=r.__decorate([(0,g.W)(),r.__param(0,(0,g.l)(a.uJ)),r.__param(1,(0,g.l)(l.paa)),r.__param(2,(0,g.l)(h.Yua))],d);b.Awa=n;b.Awa=n=r.__decorate([(0,g.W)(),r.__param(0,(0,g.l)(e.AB)),r.__param(1,(0,g.l)(a.uJ)),r.__param(2,(0,g.l)(l.paa)),r.__param(3,(0,g.l)(f.kb)),r.__param(4,(0,g.l)(h.Yua))],n);c.prototype.sfc=function(k){this.UC=Object.assign({},this.UC,k);this.Mtb++;};Ga.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.UC;}},hla:{configurable:!0,enumerable:!0,get:function(){return this.Mtb;}}});a=c;b.Sqa=a;b.Sqa=a=r.__decorate([(0,g.W)()],a);},33823:function(r,b,a){var n,d,g,e,f,l,h,k;function c(m,p,v){m=e.zf.call(this,m,void 0 === v?"GeneralConfigImpl":v) || this;m.kj=p;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.jqa=b.EL=void 0;r=a(5163);n=a(5021);d=a(22674);g=a(12501);e=a(64174);f=a(34231);l=a(83767);a=a(5614);h={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.EL=function(m,p){return m.jsb(h[p] || p,f.Jy);};Ha(c,e.zf);Ga.Object.defineProperties(c.prototype,{EL:{configurable:!0,enumerable:!0,get:function(){return f.Jy.qIb;}},wwb:{configurable:!0,enumerable:!0,get:function(){return (0,n.Ch)(8);}},sM:{configurable:!0,enumerable:!0,get:function(){return "";}},wR:{configurable:!0,enumerable:!0,get:function(){return "";}},a8:{configurable:!0,enumerable:!0,get:function(){return "";}},jca:{configurable:!0,enumerable:!0,get:function(){return !0;}},k3:{configurable:!0,enumerable:!0,get:function(){return this.kj.k3;}},C1b:{configurable:!0,enumerable:!0,get:function(){return !1;}},Zd:{configurable:!0,enumerable:!0,get:function(){return {};}},AIa:{configurable:!0,enumerable:!0,get:function(){return !1;}},fw:{configurable:!0,enumerable:!0,get:function(){return !1;}},w1:{configurable:!0,enumerable:!0,get:function(){return !0;}},uI:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},aD:{configurable:!0,enumerable:!0,get:function(){return 0 <= [f.Jy.awa,f.Jy.Tqa].indexOf(this.EL);}}});k=c;b.jqa=k;r.__decorate([g.config(b.EL,"environment")],k.prototype,"EL",null);r.__decorate([g.config(g.ol,"storageTimeout")],k.prototype,"wwb",null);r.__decorate([g.config(g.string,"groupName")],k.prototype,"sM",null);r.__decorate([g.config(g.string,"canaryGroupName",!0)],k.prototype,"wR",null);r.__decorate([g.config(g.string,"uiGroupName")],k.prototype,"a8",null);r.__decorate([g.config(g.xd,"applyIndexedDbOpenWorkaround")],k.prototype,"jca",null);r.__decorate([g.config(g.xd,"ignoreIdbOpenError")],k.prototype,"k3",null);r.__decorate([g.config(g.xd,"executeStorageMigration")],k.prototype,"C1b",null);r.__decorate([g.config(g.object(),"browserInfo")],k.prototype,"Zd",null);r.__decorate([g.config(g.xd,"isTestAccount")],k.prototype,"AIa",null);r.__decorate([g.config(g.xd,"useRangeHeader")],k.prototype,"fw",null);r.__decorate([g.config(g.xd,"enableMilestoneEventList")],k.prototype,"w1",null);r.__decorate([g.config(g.object,"storageRules")],k.prototype,"uI",null);b.jqa=k=r.__decorate([(0,d.W)(),r.__param(0,(0,d.l)(l.Tn)),r.__param(1,(0,d.l)(a.nQ)),r.__param(2,(0,d.l)(l.g9)),r.__param(2,(0,d.optional)())],k);},41605:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RUa="CapabilityDetectorFactorySymbol";},22210:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.kd=void 0;b.kd=a;a.zXa=/^hevc-/;a.AXa=/^hevc-main/;a.vXa=/^hevc-hdr-|hevc-dv/;a.Rk=/^hevc-hdr-/;a.Ok=/^hevc-dv/;a.xm=/h264mpl/;a.IB=/h264mpl30/;a.OE=/h264mpl31/;a.L8=/h264hpl.*-dash$/;a.TSa=/h264hpl.*-live$/;a.Aaa=/^vp9-/;a.ri=/^av1-main/;a.K8=/^av1-hdr10plus/;a.UDb=/[l|L]4[0-1]-/;a.b5a=/-L5[0-1]-/;a.cZa=/-live/;a.yAb=/^heaac-2-/;a.iEb=/^heaac-2hq-dash/;a.Dm=/^xheaac-dash/;a.vCb=/ddplus-2/;a.sVa=/ddplus-5/;a.wCb=/ddplus-atmos/;},73796:function(r,b,a){function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.y5a=b.VTa=b.zc=void 0;r=a(75568);b.zc=c;c.tKa='video/mp4; codecs="avc1.4d0028"';c.Ifc='video/mp4; codecs="hev1.1.6.L93.B0"';c.Hfc='video/mp4;codecs="avc1,mp4a";features="audio-endpoint-codec=DD+JOC"';c.xm="avc1.4d0028";c.Dh="hev1.1.6.L93.B0";c.dpa="dvhe.05.01";c.CVa="dvhe.05.04";c.epa="dvhe.05.05";c.fpa="dvhe.05.06";c.gpa="dvhe.05.07";c.hpa="dvhe.05.09";c.Ok=c.dpa;c.Rk=c.Dh;c.ym="mp4a.40.5";c.Dm="mp4a.40.42";c.DP="ec-3";c.cF="vp09.00.40.08";c.ri="av01.0.04M.08";c.ou="av01.0.04M.10.0.112.09.16.09.0";a={};b.VTa=(a[r.mc.ym]=c.ym,a[r.mc.G9]=c.ym,a[r.mc.JB]=c.ym,a[r.mc.Dm]=c.Dm,a[r.mc.CP]=c.DP,a[r.mc.jJ]=c.DP,a[r.mc.kJ]=c.DP,a[r.mc.lJ]=c.DP,a);a={};b.y5a=(a[r.v.IB]=c.xm,a[r.v.OE]=c.xm,a[r.v.PE]=c.xm,a[r.v.qqa]=c.xm,a[r.v.rqa]=c.xm,a[r.v.sqa]=c.xm,a[r.v.oqa]=c.xm,a[r.v.KP]=c.xm,a[r.v.LP]=c.xm,a[r.v.NE]=c.xm,a[r.v.pqa]=c.xm,a[r.v.MX]=c.xm,a[r.v.NX]=c.xm,a[r.v.MP]=c.xm,a[r.v.Baa]=c.cF,a[r.v.GZ]=c.cF,a[r.v.HZ]=c.cF,a[r.v.dF]=c.cF,a[r.v.H9]=c.Dh,a[r.v.I9]=c.Dh,a[r.v.J9]=c.Dh,a[r.v.K9]=c.Dh,a[r.v.QP]=c.Dh,a[r.v.RP]=c.Dh,a[r.v.gY]=c.Dh,a[r.v.jY]=c.Dh,a[r.v.mY]=c.Dh,a[r.v.pY]=c.Dh,a[r.v.hY]=c.Dh,a[r.v.kY]=c.Dh,a[r.v.nY]=c.Dh,a[r.v.qY]=c.Dh,a[r.v.sY]=c.Dh,a[r.v.uY]=c.Dh,a[r.v.fY]=c.Dh,a[r.v.iY]=c.Dh,a[r.v.lY]=c.Dh,a[r.v.oY]=c.Dh,a[r.v.rY]=c.Dh,a[r.v.tY]=c.Dh,a[r.v.rX]=c.Ok,a[r.v.tX]=c.Ok,a[r.v.EP]=c.Ok,a[r.v.wX]=c.Ok,a[r.v.yX]=c.Ok,a[r.v.AX]=c.Ok,a[r.v.j9]=c.Ok,a[r.v.k9]=c.Ok,a[r.v.l9]=c.Ok,a[r.v.m9]=c.Ok,a[r.v.sX]=c.Ok,a[r.v.uX]=c.Ok,a[r.v.vX]=c.Ok,a[r.v.xX]=c.Ok,a[r.v.zX]=c.Ok,a[r.v.BX]=c.Ok,a[r.v.QX]=c.Rk,a[r.v.TX]=c.Rk,a[r.v.PP]=c.Rk,a[r.v.YX]=c.Rk,a[r.v.aY]=c.Rk,a[r.v.dY]=c.Rk,a[r.v.RX]=c.Rk,a[r.v.UX]=c.Rk,a[r.v.WX]=c.Rk,a[r.v.ZX]=c.Rk,a[r.v.bY]=c.Rk,a[r.v.eY]=c.Rk,a[r.v.PX]=c.Rk,a[r.v.SX]=c.Rk,a[r.v.VX]=c.Rk,a[r.v.XX]=c.Rk,a[r.v.$X]=c.Rk,a[r.v.cY]=c.Rk,a[r.v.Fna]=c.ri,a[r.v.Gna]=c.ri,a[r.v.pu]=c.ri,a[r.v.qu]=c.ri,a[r.v.ru]=c.ri,a[r.v.su]=c.ri,a[r.v.XW]=c.ri,a[r.v.YW]=c.ri,a[r.v.VI]=c.ou,a[r.v.WI]=c.ou,a[r.v.XI]=c.ou,a[r.v.YI]=c.ou,a[r.v.VW]=c.ou,a[r.v.WW]=c.ou,a);},51259:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A,B,C;Object.defineProperty(b,"__esModule",{value:!0});b.rx=void 0;r=a(22674);c=a(56800);n=a(4203);d=a(98960);g=a(1079);e=a(95162);f=a(57718);l=a(16152);h=a(79974);k=a(57657);m=a(41605);p=a(43466);v=a(22365);q=a(12931);u=a(43551);t=a(28185);w=a(6600);x=a(94800);z=a(74742);y=a(18580);A=a(63368);B=a(33430);C=a(78866);b.rx=new r.Od(function(D){D(e.tZ).to(f.Lva).ma();D(c.GP).to(d.qpa).ma();D(l.LYa).to(h.Vqa).ma();D(m.RUa).to(p.Poa).ma();D(l.B1a).Cn({isTypeSupported:v.WE && v.WE.isTypeSupported});D(k.MWa).CI(function(E){return {v5b:function(){return E.tb.get(A.J$);}};});D(g.FP).CI(function(E){return E.tb.get(n.uc);});D(q.o_a).to(u.nsa).ma();D(B.m_a).to(C.msa).ma();D(t.n_a).to(w.osa).ma();D(x.aqa).to(z.$pa).ma();D(y.z2a).Cn(Ba);});},56800:function(r,b){var a,c,n,d;Object.defineProperty(b,"__esModule",{value:!0});b.GP=b.vu=b.hp=b.yB=b.u=void 0;(function(g){g[g.Audio=0]="Audio";g[g.t5a=1]="Video";})(a || (b.u=a={}));(function(g){g[g.BB=0]="Default";g[g.QB=1]="Microsoft";})(c || (b.yB=c={}));(function(g){g[g.BB=0]="Default";g[g.BP=1]="Chrome";g[g.QB=2]="Microsoft";})(n || (b.hp=n={}));(function(g){g[g.c$=0]="Level_1_4";g[g.zJ=1]="Level_2_2";})(d || (b.vu=d={}));b.GP="DeviceCapabilitiesSymbol";},1079:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.FP=b.lDb=void 0;c=a(56800);b.lDb=function(){this.LF=[];this.fh=[];this.en=[];this.d9a=[];this.Pza=c.yB.BB;this.cna=c.hp.BB;};b.FP="DeviceCapabilitiesConfigSymbol";},94800:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aqa=void 0;r=b.oJ={};r.QJb="unknown";r.USa="absent";r.y2a="present";r.Error="error";b.aqa="ExternalDisplayLogHelperSymbol";},57657:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MWa="ExtraPlatformInfoProviderSymbol";},16152:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LYa="IsTypeSupportedProviderFactorySymbol";b.B1a="PlatformIsTypeSupportedSymbol";},17612:function(r,b,a){var n,d,g,e;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.mb=void 0;n=a(53921);d=a(31149);g=a(36129);e=a(82100);c.q2=function(f){if(f){if(f.includes("playready"))return n.Uo.RU;if(f.includes("fps"))return n.Uo.BS;if(f.includes("widevine"))return n.Uo.bAb;}throw new d.ke(g.Y.ADb,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + f);};c.wFa=function(f){switch(f){case n.Uo.RU:return "playready";case n.Uo.BS:return "fairplay";default:return "widevine";}};c.Sac=function(f){return f.includes("3000") || f.includes(e.e3a.KB);};b.mb=c;c.NJ="com.microsoft.playready";c.nd="com.microsoft.playready.hardware";c.lua="com.microsoft.playready.software";c.WDb="com.apple.fps.2_0";c.Eaa="com.widevine.alpha";c.VJb="com.widevine.alpha.experiment";c.E1a="com.microsoft.playready.recommendation";c.kua="com.microsoft.playready.recommendation.3000";c.G1a="com.microsoft.playready.recommendation.2000";c.F1a="com.microsoft.playready.recommendation.3000.clearlead";c.R9=[c.kua,c.F1a];},12931:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.o_a="MediaCapabilitiesSymbol";},33430:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.m_a="MediaCapabilitiesDetectorSymbol";},28185:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.n_a="MediaCapabilitiesLogHelperSymbol";},75568:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.v={IB:"playready-h264mpl30-dash",OE:"playready-h264mpl31-dash",PE:"playready-h264mpl40-dash",qqa:"h264mpl30-dash-playready-prk-qc",rqa:"h264mpl31-dash-playready-prk-qc",sqa:"h264mpl40-dash-playready-prk-qc",oqa:"playready-h264hpl22-dash",KP:"playready-h264hpl30-dash",LP:"playready-h264hpl31-dash",NE:"playready-h264hpl40-dash",pqa:"h264hpl22-dash-playready-live",MX:"h264hpl30-dash-playready-live",NX:"h264hpl31-dash-playready-live",MP:"h264hpl40-dash-playready-live",Baa:"vp9-profile0-L21-dash-cenc",GZ:"vp9-profile0-L30-dash-cenc",HZ:"vp9-profile0-L31-dash-cenc",dF:"vp9-profile0-L40-dash-cenc",H9:"hevc-main10-L30-dash-cenc",I9:"hevc-main10-L31-dash-cenc",J9:"hevc-main10-L40-dash-cenc",K9:"hevc-main10-L41-dash-cenc",QP:"hevc-main10-L50-dash-cenc",RP:"hevc-main10-L51-dash-cenc",gY:"hevc-main10-L30-dash-cenc-prk",jY:"hevc-main10-L31-dash-cenc-prk",mY:"hevc-main10-L40-dash-cenc-prk",pY:"hevc-main10-L41-dash-cenc-prk",hY:"hevc-main10-L30-dash-cenc-prk-do",kY:"hevc-main10-L31-dash-cenc-prk-do",nY:"hevc-main10-L40-dash-cenc-prk-do",qY:"hevc-main10-L41-dash-cenc-prk-do",sY:"hevc-main10-L50-dash-cenc-prk-do",uY:"hevc-main10-L51-dash-cenc-prk-do",fY:"hevc-main10-L30-dash-cenc-live",iY:"hevc-main10-L31-dash-cenc-live",lY:"hevc-main10-L40-dash-cenc-live",oY:"hevc-main10-L41-dash-cenc-live",rY:"hevc-main10-L50-dash-cenc-live",tY:"hevc-main10-L51-dash-cenc-live",rX:"hevc-dv5-main10-L30-dash-cenc-prk",tX:"hevc-dv5-main10-L31-dash-cenc-prk",EP:"hevc-dv5-main10-L40-dash-cenc-prk",wX:"hevc-dv5-main10-L41-dash-cenc-prk",yX:"hevc-dv5-main10-L50-dash-cenc-prk",AX:"hevc-dv5-main10-L51-dash-cenc-prk",j9:"hevc-dv5-main10-L40-dash-cenc-prk-qc",k9:"hevc-dv5-main10-L41-dash-cenc-prk-qc",l9:"hevc-dv5-main10-L50-dash-cenc-prk-qc",m9:"hevc-dv5-main10-L51-dash-cenc-prk-qc",sX:"hevc-dv5-main10-L30-dash-cenc-prk-do",uX:"hevc-dv5-main10-L31-dash-cenc-prk-do",vX:"hevc-dv5-main10-L40-dash-cenc-prk-do",xX:"hevc-dv5-main10-L41-dash-cenc-prk-do",zX:"hevc-dv5-main10-L50-dash-cenc-prk-do",BX:"hevc-dv5-main10-L51-dash-cenc-prk-do",QX:"hevc-hdr-main10-L30-dash-cenc-prk",TX:"hevc-hdr-main10-L31-dash-cenc-prk",PP:"hevc-hdr-main10-L40-dash-cenc-prk",YX:"hevc-hdr-main10-L41-dash-cenc-prk",aY:"hevc-hdr-main10-L50-dash-cenc-prk",dY:"hevc-hdr-main10-L51-dash-cenc-prk",RX:"hevc-hdr-main10-L30-dash-cenc-prk-do",UX:"hevc-hdr-main10-L31-dash-cenc-prk-do",WX:"hevc-hdr-main10-L40-dash-cenc-prk-do",ZX:"hevc-hdr-main10-L41-dash-cenc-prk-do",bY:"hevc-hdr-main10-L50-dash-cenc-prk-do",eY:"hevc-hdr-main10-L51-dash-cenc-prk-do",PX:"hevc-hdr-main10-L30-dash-cenc-live",SX:"hevc-hdr-main10-L31-dash-cenc-live",VX:"hevc-hdr-main10-L40-dash-cenc-live",XX:"hevc-hdr-main10-L41-dash-cenc-live",$X:"hevc-hdr-main10-L50-dash-cenc-live",cY:"hevc-hdr-main10-L51-dash-cenc-live",Fna:"av1-main-L20-dash-cbcs-prk",Gna:"av1-main-L21-dash-cbcs-prk",pu:"av1-main-L30-dash-cbcs-prk",qu:"av1-main-L31-dash-cbcs-prk",ru:"av1-main-L40-dash-cbcs-prk",su:"av1-main-L41-dash-cbcs-prk",XW:"av1-main-L50-dash-cbcs-prk",YW:"av1-main-L51-dash-cbcs-prk",VI:"av1-hdr10plus-main-L30-dash-cbcs-prk",WI:"av1-hdr10plus-main-L31-dash-cbcs-prk",XI:"av1-hdr10plus-main-L40-dash-cbcs-prk",YI:"av1-hdr10plus-main-L41-dash-cbcs-prk",VW:"av1-hdr10plus-main-L50-dash-cbcs-prk",WW:"av1-hdr10plus-main-L51-dash-cbcs-prk"};b.Tb={pX:[b.v.IB,b.v.OE,b.v.PE],UW:[b.v.KP,b.v.LP,b.v.NE],TW:[b.v.MX,b.v.NX,b.v.MP],G8:[b.v.GZ,b.v.HZ,b.v.dF],qX:[b.v.H9,b.v.I9,b.v.J9,b.v.K9,b.v.QP,b.v.RP],xP:[b.v.gY,b.v.jY,b.v.mY,b.v.pY,b.v.QP,b.v.RP],yP:[b.v.hY,b.v.kY,b.v.nY,b.v.qY,b.v.sY,b.v.uY],c9:[b.v.fY,b.v.iY,b.v.lY,b.v.oY,b.v.rY,b.v.tY],vP:[b.v.QX,b.v.TX,b.v.PP,b.v.YX,b.v.aY,b.v.dY],wP:[b.v.RX,b.v.UX,b.v.WX,b.v.ZX,b.v.bY,b.v.eY],b9:[b.v.PX,b.v.SX,b.v.VX,b.v.XX,b.v.$X,b.v.cY],CUa:[b.v.rX,b.v.EP,b.v.yX,b.v.tX,b.v.wX,b.v.AX],DUa:[b.v.sX,b.v.vX,b.v.zX,b.v.uX,b.v.xX,b.v.BX],Foa:[b.v.pu,b.v.qu,b.v.ru,b.v.su,b.v.XW,b.v.YW],VBb:[b.v.VI,b.v.WI,b.v.XI,b.v.YI,b.v.VW,b.v.WW]};b.mc={ym:"heaac-2-dash",G9:"heaac-5.1-dash",JB:"heaac-2hq-dash",Dm:"xheaac-dash",CP:"ddplus-2.0-dash",jJ:"ddplus-5.1-dash",kJ:"ddplus-5.1hq-dash",lJ:"ddplus-atmos-dash"};b.cp={XIb:"simplesdh",bpa:"dfxp-ls-sdh",Daa:"webvtt-lssdh-ios8",pEb:"imsc1.1",fQ:"nflx-cmisc"};},18580:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.z2a="PresentationAPISymbol";},95162:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tZ="SourceBufferTypeProviderSymbol";},43466:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x;function c(z,y,A,B,C,D,E,F,G){this.Fkb=z;this.config=y;this.Rc=A;this.Aa=B;this.is=C;this.Hr=D;this.uo=E;this.Bc=F;this.LD=G;}Object.defineProperty(b,"__esModule",{value:!0});b.Poa=void 0;r=a(5163);n=a(22674);d=a(56800);g=a(16152);e=a(1079);f=a(92049);l=a(75456);h=a(46286);k=a(31741);m=a(53085);p=a(30869);v=a(42207);q=a(5180);u=a(21103);t=a(87386);w=a(2248);a=a(33430);c.prototype.JWb=function(z){var y;y=this.Fkb.Wbb();switch(z){case d.yB.QB:return new f.O_a(this.config,y,this.is,this.LD);default:return new k.p9(this.config,y,this.LD);}};c.prototype.hYb=function(z){var y;y=this.Fkb.Wbb();switch(z){case d.hp.BP:z=new q.WUa(this.config,y,this.is,this.Hr,this.uo,this.Aa,this.LD);break;case d.hp.QB:z=new l.$Za(this.config,y,this.is,this.Rc,this.Aa,this.uo,this.Bc,this.LD,this.Hr);break;default:z=new h.mJ(this.config,y,this.is,this.LD);}return z;};x=c;b.Poa=x;b.Poa=x=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.LYa)),r.__param(1,(0,n.l)(e.FP)),r.__param(2,(0,n.l)(m.gk)),r.__param(3,(0,n.l)(p.hh)),r.__param(4,(0,n.l)(v.Eh)),r.__param(5,(0,n.l)(u.Ny)),r.__param(6,(0,n.l)(t.kb)),r.__param(7,(0,n.l)(w.ti)),r.__param(8,(0,n.l)(a.m_a))],x);},65264:function(r,b,a){var n,d,g,e,f;function c(l,h,k,m){this.config=l;this.ig=h;this.mediaType=k;this.LD=m;this.mKa={};this.mKa[n.u.Audio]="audio";this.mKa[n.u.t5a]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.gJ=void 0;n=a(56800);r=a(57180);d=a(22210);g=a(22365);e=a(7802);f=new r.RJ().format;c.prototype.Shb=function(l){return this.PZb(this.r7b(this.whb(),l));};c.prototype.vR=function(l){return this.ig.isTypeSupported(l);};c.prototype.X4b=function(){return [d.kd.yAb,d.kd.iEb,d.kd.IB,d.kd.OE];};c.prototype.W$b=function(){this.Co=[];this.Rv=[];this.config().ljc && this.Rv.push(d.kd.Dm);this.config().Ppb && this.Rv.push(d.kd.AXa);this.config().Opb && this.Rv.push(d.kd.vXa);this.config().Npb && this.Rv.push(d.kd.Ok);this.config().Lpb && this.Rv.push(d.kd.L8);this.config().Mpb && this.Rv.push(d.kd.TSa);this.config().Qpb && this.Rv.push(d.kd.Aaa);this.config().Jpb && this.Rv.push(d.kd.ri);this.config().Kpb && this.Rv.push(d.kd.K8);this.Rv=this.Rv.concat(this.X4b());!this.config().R0b && this.Co.push(d.kd.Dm);!this.config().i0b && this.Co.push(d.kd.vCb);!this.config().h0b && this.Co.push(d.kd.sVa);!this.config().q1 && this.Co.push(d.kd.sVa);!this.config().r1 && this.Co.push(d.kd.wCb);!this.config().C0b && this.Co.push(/prk$/);this.config().Npb || this.config().j0b || this.Co.push(d.kd.Ok);this.config().Ppb || this.config().q0b || this.Co.push(d.kd.AXa);this.config().Opb || this.config().CDa || this.Co.push(d.kd.vXa);this.config().Lpb || this.config().iS || this.Co.push(d.kd.L8);this.config().Mpb || this.config().yDa || this.Co.push(d.kd.TSa);this.config().Qpb || this.config().N0b || this.Co.push(d.kd.Aaa);this.config().Jpb || this.config().Y_b || this.Co.push(d.kd.ri);this.config().Kpb || this.config().Z_b || this.Co.push(d.kd.K8);!this.config().M0b && this.Co.push(d.kd.b5a);};c.prototype.r7b=function(l,h){var k;k=g.xf.hardwareConcurrency && g.xf.hardwareConcurrency;return l.filter(function(m){return void 0 !== m.minimumCores && k < m.minimumCores || void 0 !== m.restrictToUILabels && (void 0 === (null === h || void 0 === h?void 0:h.ue) || !m.restrictToUILabels.includes(h.ue))?!1:!0;}).map(function(m){return m.name;});};c.prototype.N1=function(l){var h,k;h=this;k=l.map(function(m){for(var p=Ea(h.Rv),v=p.next();!v.done;v=p.next())if(v.value.test(m))return Promise.resolve({supported:!0});p=Ea(h.Co);for(v=p.next();!v.done;v=p.next())if(v.value.test(m))return Promise.resolve({supported:!1,reason:"excluded"});return h.M1(m).catch(function(){return {supported:!1,reason:"exception"};});});return Promise.all(k).then(function(m){return new e.P$(l,m);});};c.prototype.M1=function(l){var h;h=this;return this.tIa(l).then(function(k){return k.supported?h.config().y0b?h.LD.M1(l):h.vEa(l):k;});};c.prototype.vEa=function(l){var h;l=this.Q5[l];h="";return l?(Array.isArray(l) && (h=1 < l.length?" " + l[1]:"",l=l[0]),l=f("{0}/mp4;codecs={1};{2}",this.mKa[this.mediaType],l,h),this.vR(l)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"can-present-type"})):Promise.resolve({supported:!1,reason:"no-codec-info"});};c.prototype.PZb=function(l){this.W$b();return this.N1(l);};c.prototype.tIa=function(){return Promise.resolve({supported:!0});};Ga.Object.defineProperties(c.prototype,{Q5:{configurable:!0,enumerable:!0,get:function(){this.x7a || (this.x7a=this.bv());return this.x7a;}}});b.gJ=c;},5180:function(r,b,a){var n,d,g,e,f,l;function c(h,k,m,p,v,q,u){h=n.mJ.call(this,h,k,m,u) || this;h.Hr=p;h.uo=v;h.Aa=q;h.LD=u;h.type=d.hp.BP;h.log=h.uo.fb("ChromeVideoCapabilityDetector");return h;}Object.defineProperty(b,"__esModule",{value:!0});b.WUa=void 0;n=a(46286);d=a(56800);g=a(5021);e=a(82100);f=a(22210);l=a(17612);Ha(c,n.mJ);c.prototype.KO=function(h){switch(h){case d.vu.zJ:return this.Ruc;default:return Promise.resolve(!1);}};c.prototype.I2=function(){var h;h=this;return this.KO(d.vu.zJ).then(function(k){return k?d.vu.zJ:void 0;}).then(function(k){return h.xda(k);});};c.prototype.Tya=function(h){this.Nt=h;};c.prototype.Hbc=function(h){var k;return !(null === (k=h.getConfiguration().videoCapabilities) || void 0 === k || !k.some(function(m){return (null === m || void 0 === m?void 0:m.robustness) === e.KB;}));};c.prototype.Lyb=function(){var h;if(this.Nt){h=this.Mib && this.Nib && this.Mib.ka(this.Nib).ia(g.pa);this.Nt.itshdcp=JSON.stringify({hdcp2:this.Hx,time2:h});}};c.prototype.tIa=function(h){var k;k=this;return this.Hr.zG().then(function(m){var p;p=(0,e.WFa)(m);m=l.mb.R9.includes(m.keySystem);p=p === e.KB || m;return [f.kd.L8,f.kd.Aaa,f.kd.ri,f.kd.K8].some(function(v){return v.test(h);}) && !f.kd.cZa.test(h) && k.config().Bnb && p?{supported:!1,reason:"mcclearen-restricted"}:!p && f.kd.zXa.test(h) || f.kd.UDb.test(h) && !(k.config().p0b || k.config().o0b && p) || f.kd.b5a.test(h) && !p?{supported:!1,reason:"robustness-restricted"}:{supported:!0};});};Ga.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.snb || (this.snb=this.Hr.zG().then(function(h){return h.createMediaKeys();}));return this.snb;}},Ruc:{configurable:!0,enumerable:!0,get:function(){var h;h=this;this.QQa || (this.config().s0b?this.QQa=Promise.all([this.Hr.zG(),this.mediaKeys]).then(function(k){var m,p;m=Ea(k);k=m.next().value;m=m.next().value;p=l.mb.R9.includes(k.keySystem);if(!h.Hbc(k) && !p)return (h.Hx="not HW_SECURE_ALL",h.log.trace("hdcpStatus: " + h.Hx),!1);if(m && m.getStatusForPolicy)return (h.Nib=h.Aa.df,m.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(v){h.Mib=h.Aa.df;h.Hx=v;h.log.trace("hdcpStatus: " + h.Hx);return "usable" === h.Hx;}));h.Hx="not available";h.log.trace("hdcpStatus: " + h.Hx);return !1;}).catch(function(k){h.Hx="exception";h.log.error("Exception in supportsHdcpLevel",{hdcpStatus:h.Hx},k);return !1;}).then(function(k){h.Lyb();return k;}):(this.Hx="not enabled",this.log.trace("hdcpStatus: " + this.Hx),this.Lyb(),this.QQa=Promise.resolve(!1)));return this.QQa;}}});b.WUa=c;},31741:function(r,b,a){var n,d,g,e,f,l;function c(h,k,m){m=d.gJ.call(this,h,k,n.u.Audio,m) || this;m.config=h;m.ig=k;m.type=n.yB.BB;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.p9=void 0;n=a(56800);d=a(65264);g=a(73796);r=a(57180);e=a(12187);f=a(7802);l=new r.RJ().format;Ha(c,d.gJ);c.prototype.pma=function(){var h;h=l(c.Kma,g.zc.DP);return Promise.resolve(this.config().q1 && this.ig.isTypeSupported(h));};c.prototype.x7=function(){var h;h=l(c.Kma,g.zc.DP);return Promise.resolve(this.config().r1 && this.ig.isTypeSupported(h));};c.prototype.bv=function(){return e.opa.bv();};c.prototype.whb=function(){return this.config().LF;};c.prototype.N1=function(h){return this.config().jjc?Promise.resolve(new f.P$(h,h.map(function(){return {supported:!0};}))):d.gJ.prototype.N1.call(this,h);};b.p9=c;c.Kma="audio/mp4;codecs={0};";},12187:function(r,b,a){var n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.opa=void 0;n=a(75568);c.bv=function(){var d;d={};return (d[n.mc.ym]="mp4a.40.2",d[n.mc.G9]="mp4a.40.2",d[n.mc.JB]="mp4a.40.2",d[n.mc.Dm]="mp4a.40.42",d[n.mc.CP]="ec-3",d[n.mc.jJ]="ec-3",d[n.mc.kJ]="ec-3",d[n.mc.lJ]="ec-3",d);};b.opa=c;},46286:function(r,b,a){var n,d,g,e,f,l;function c(h,k,m,p){var v;v=g.gJ.call(this,h,k,n.u.t5a,p) || this;v.config=h;v.ig=k;v.is=m;v.jia=p;v.type=n.hp.BB;return v;}Object.defineProperty(b,"__esModule",{value:!0});b.mJ=void 0;n=a(56800);d=a(75568);g=a(65264);e=a(48617);f=a(45266);l=a(7802);Ha(c,g.gJ);c.prototype.KO=function(){return Promise.resolve(!1);};c.prototype.v2=function(){return Promise.resolve("");};c.prototype.y7=function(){return this.config().CDa?this.jia.fIa()?this.jia.M1(d.v.PP).then(function(h){return {result:h.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.qma=function(){return this.config().CDa?this.jia.fIa()?this.jia.M1(d.v.EP).then(function(h){return {result:h.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.z7=function(){return Promise.resolve(!1);};c.prototype.Tya=function(){};c.prototype.nec=function(h){switch(h){case n.vu.c$:return "1.4";case n.vu.zJ:return "2.2";}};c.prototype.bv=function(){return e.r9.bv();};c.prototype.whb=function(){var k;function h(m,p){return (0,f.qyb)(function(v,q){return v.name === q.name;},m,p);}k=h(this.config().d9a,this.config().fh);return h(k,this.config().en);};c.prototype.I2=function(){return Promise.resolve(void 0);};c.prototype.xda=function(h){var k;k=[];this.is.vh(h) && k.push(this.nec(h));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:k,isHdcpEngaged:!!k.length}];};c.prototype.N1=function(h){return this.config().kjc?Promise.resolve(new l.P$(h,h.map(function(){return {supported:!0};}))):g.gJ.prototype.N1.call(this,h);};b.mJ=c;},48617:function(r,b,a){var n,d;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.r9=void 0;n=a(75568);d=a(73796);c.bv=function(){var g;g={};return (g[n.v.IB]="avc1.4D401E",g[n.v.OE]="avc1.4D401F",g[n.v.PE]="avc1.4D4028",g[n.v.qqa]="avc1.4D401E",g[n.v.rqa]="avc1.4D401F",g[n.v.sqa]="avc1.4D4028",g[n.v.H9]="hev1.2.6.L90.B0",g[n.v.I9]="hev1.2.6.L93.B0",g[n.v.J9]="hev1.2.6.L120.B0",g[n.v.K9]="hev1.2.6.L123.B0",g[n.v.gY]="hev1.2.6.L90.B0",g[n.v.jY]="hev1.2.6.L93.B0",g[n.v.mY]="hev1.2.6.L120.B0",g[n.v.pY]="hev1.2.6.L123.B0",g[n.v.QP]="hev1.2.6.L150.B0",g[n.v.RP]="hev1.2.6.L153.B0",g[n.v.hY]="hev1.2.6.L90.B0",g[n.v.kY]="hev1.2.6.L93.B0",g[n.v.nY]="hev1.2.6.L120.B0",g[n.v.qY]="hev1.2.6.L123.B0",g[n.v.sY]="hev1.2.6.L150.B0",g[n.v.uY]="hev1.2.6.L153.B0",g[n.v.fY]="hev1.2.6.L90.B0",g[n.v.iY]="hev1.2.6.L93.B0",g[n.v.lY]="hev1.2.6.L120.B0",g[n.v.oY]="hev1.2.6.L123.B0",g[n.v.rY]="hev1.2.6.L150.B0",g[n.v.tY]="hev1.2.6.L153.B0",g[n.v.QX]="hev1.2.6.L90.B0",g[n.v.TX]="hev1.2.6.L93.B0",g[n.v.PP]="hev1.2.6.L120.B0",g[n.v.YX]="hev1.2.6.L123.B0",g[n.v.aY]="hev1.2.6.L150.B0",g[n.v.dY]="hev1.2.6.L153.B0",g[n.v.RX]="hev1.2.6.L90.B0",g[n.v.UX]="hev1.2.6.L93.B0",g[n.v.WX]="hev1.2.6.L120.B0",g[n.v.ZX]="hev1.2.6.L123.B0",g[n.v.bY]="hev1.2.6.L150.B0",g[n.v.eY]="hev1.2.6.L153.B0",g[n.v.PX]="hev1.2.6.L90.B0",g[n.v.SX]="hev1.2.6.L93.B0",g[n.v.VX]="hev1.2.6.L120.B0",g[n.v.XX]="hev1.2.6.L123.B0",g[n.v.$X]="hev1.2.6.L150.B0",g[n.v.cY]="hev1.2.6.L153.B0",g[n.v.rX]=d.zc.dpa,g[n.v.tX]=d.zc.CVa,g[n.v.EP]=d.zc.epa,g[n.v.wX]=d.zc.fpa,g[n.v.yX]=d.zc.gpa,g[n.v.AX]=d.zc.hpa,g[n.v.j9]=d.zc.epa,g[n.v.k9]=d.zc.fpa,g[n.v.l9]=d.zc.gpa,g[n.v.m9]=d.zc.hpa,g[n.v.sX]=d.zc.dpa,g[n.v.uX]=d.zc.CVa,g[n.v.vX]=d.zc.epa,g[n.v.xX]=d.zc.fpa,g[n.v.zX]=d.zc.gpa,g[n.v.BX]=d.zc.hpa,g[n.v.oqa]="avc1.640016",g[n.v.KP]="avc1.64001E",g[n.v.LP]="avc1.64001F",g[n.v.NE]="avc1.640028",g[n.v.pqa]="avc1.640016",g[n.v.MX]="avc1.64001E",g[n.v.NX]="avc1.64001F",g[n.v.MP]="avc1.640028",g[n.v.Baa]=d.zc.cF,g[n.v.GZ]=d.zc.cF,g[n.v.HZ]=d.zc.cF,g[n.v.dF]=d.zc.cF,g[n.v.Fna]=d.zc.ri,g[n.v.Gna]=d.zc.ri,g[n.v.pu]=d.zc.ri,g[n.v.qu]=d.zc.ri,g[n.v.ru]=d.zc.ri,g[n.v.su]=d.zc.ri,g[n.v.XW]=d.zc.ri,g[n.v.YW]=d.zc.ri,g[n.v.VI]=d.zc.ou,g[n.v.WI]=d.zc.ou,g[n.v.XI]=d.zc.ou,g[n.v.YI]=d.zc.ou,g[n.v.VW]=d.zc.ou,g[n.v.WW]=d.zc.ou,g);};b.r9=c;},98960:function(r,b,a){var n,d,g,e;function c(f,l,h){this.config=f;this.W$a=l;this.Akc=h;}Object.defineProperty(b,"__esModule",{value:!0});b.qpa=void 0;r=a(5163);n=a(1079);d=a(22674);g=a(57657);a=a(41605);c.prototype.Rhb=function(f){return this.hFa().Shb(f);};c.prototype.Thb=function(f){return this.HG().Shb(f);};c.prototype.hFa=function(){this.Oza && this.Oza.type == this.config().Pza || (this.Oza=this.W$a.JWb(this.config().Pza));return this.Oza;};c.prototype.HG=function(){this.bna && this.bna.type == this.config().cna || (this.bna=this.W$a.hYb(this.config().cna),this.bna.Tya(this.Akc.v5b()));return this.bna;};c.prototype.KO=function(f){return this.HG().KO(f);};c.prototype.vR=function(f){return this.HG().vR(f);};c.prototype.v2=function(){return this.HG().v2();};c.prototype.y7=function(){return this.HG().y7();};c.prototype.pma=function(){return this.hFa().pma();};c.prototype.x7=function(){return this.hFa().x7();};c.prototype.qma=function(){return this.HG().qma();};c.prototype.z7=function(){return this.HG().z7();};c.prototype.I2=function(){return this.HG().I2();};e=c;b.qpa=e;b.qpa=e=r.__decorate([(0,d.W)(),r.__param(0,(0,d.l)(n.FP)),r.__param(1,(0,d.l)(a.RUa)),r.__param(2,(0,d.l)(g.MWa))],e);},74742:function(r,b,a){var n,d,g;function c(e){this.Ilc=e;}Object.defineProperty(b,"__esModule",{value:!0});b.$pa=void 0;r=a(5163);n=a(22674);d=a(94800);a=a(18580);c.prototype.f2b=function(){var e,f;e={yS:d.oJ.QJb};try{f=this.Ilc.PresentationRequest;f && (new f("https://netflix.com").getAvailability() || Promise.reject()).then(function(l){var h;e.yS=l.value?d.oJ.y2a:d.oJ.USa;if(e.yS === d.oJ.USa){h=function(){l.value && (e.yS=d.oJ.y2a);l.removeEventListener("change",h);};l.addEventListener("change",h);}}).catch(function(){e.yS=d.oJ.Error;});}catch(l){e.yS=d.oJ.Error;}return e;};g=c;b.$pa=g;b.$pa=g=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.z2a))],g);},79974:function(r,b,a){var n,d,g,e,f;function c(l,h){this.config=l;this.aZb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.Vqa=void 0;r=a(5163);n=a(22674);d=a(16152);g=a(1079);e=a(56800);f=a(40290);c.prototype.Wbb=function(){switch(this.config().cna){case e.hp.QB:return f.TE.pXb();default:return this.aZb;}};a=c;b.Vqa=a;b.Vqa=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.FP)),r.__param(1,(0,n.l)(d.B1a))],a);},75456:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A,B,C,D;function c(E,F,G,J,N,I,M,K,L){E=d.mJ.call(this,E,F,G,K) || this;E.Rc=J;E.Aa=N;E.uo=I;E.Bc=M;E.LD=K;E.Hr=L;E.type=g.hp.QB;E.AP="hvc1";E.Ioa="avc1";E.Oqb={};E.log=E.uo.fb("MicrosoftVideoCapabilityDetector");E.Jtc();E.sma && E.config().xfc?E.w_b=E.bXb():(E.w_b=Promise.resolve(""),E.config().zfc?E.jXb():E.config().yfc && E.iXb());return E;}Object.defineProperty(b,"__esModule",{value:!0});b.$Za=void 0;n=a(75568);d=a(46286);g=a(56800);r=a(57180);e=a(17612);f=a(5021);l=a(33543);h=a(73796);k=a(40290);m=a(82100);p=a(22210);v=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");q=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");u=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");t=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");w=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");y=["hdcp=1"];A=["hdcp=2"];B=("decode-bpp=8 decode-res-x=1920 decode-res-y=1080 decode-bitrate=10000000 decode-fps=30 encryption-type=cenc-clearlead encryption-iv-size=8").split(" ");C=new r.RJ();D=new l.U8();Ha(c,d.mJ);c.prototype.KO=function(E){switch(E){case g.vu.c$:return this.Suc();case g.vu.zJ:return this.S5;default:return Promise.resolve(!1);}};c.prototype.v2=function(){return this.Hr.zG().then(function(E){return E.keySystem;});};c.prototype.y7=function(){return Promise.resolve({result:this.Uwb(),reason:"is-type-supported"});};c.prototype.z7=function(){return this.sma && this.Vwb()?this.S5:Promise.resolve(!1);};c.prototype.qma=function(){return Promise.resolve(this.Twb()).then(function(E){return {result:E,reason:"isTypeSupportedWithFeatures"};});};c.prototype.Tya=function(E){this.Nt=E;Object.assign(this.Nt,this.Oqb);E.itshwdrm=this.sma;E.itsqhd=this.Tuc();E.itshevc=this.Vwb();E.itshdr=this.Uwb();E.itsdv=this.Twb();E.itsav1=this.Quc();E.itshevccl=this.Wwb();E.itsavccl=this.Ouc();E.itsdd=this.PQa("DD");E.itsddjoc=this.PQa("DD+JOC");E.itspcm51=this.PQa("PCM5.1");this.TRa();};c.prototype.M_=function(E,F){(this.Nt?this.Nt:this.Oqb)[E]=F;};c.prototype.I2=function(){var E;E=this;return this.KO(g.vu.zJ).then(function(F){return F?E.xda(g.vu.zJ):E.KO(g.vu.c$).then(function(G){return G?E.xda(g.vu.c$):E.xda(void 0);});});};c.prototype.vEa=function(E){var F;F=this;return this.v2().then(function(G){var J,N,I;J=F.Q5[E];if(J){N=[];if(F.is.Js(J))I=J;else (N=J.features,I=J.yd,G=J.keySystem);return F.Ys(G,I,N)?{supported:!0}:{supported:!1,reason:"ms-can-present-codec-with-features"};}return {supported:!1,reason:"ms-no-properties"};});};c.prototype.bv=function(){var E;E=d.mJ.prototype.bv.call(this);E[n.v.dF]=E[n.v.HZ]=E[n.v.GZ]=E[n.v.Baa]={yd:"vp09.00.11.08.02",keySystem:e.mb.nd,features:v};E[n.v.hY]=E[n.v.gY]=E[n.v.fY]={yd:"hev1.2.6.L90.B0",keySystem:e.mb.nd,features:q};E[n.v.kY]=E[n.v.jY]=E[n.v.iY]={yd:"hev1.2.6.L93.B0",keySystem:e.mb.nd,features:q};E[n.v.nY]=E[n.v.mY]=E[n.v.lY]={yd:"hev1.2.6.L120.B0",keySystem:e.mb.nd,features:q};E[n.v.qY]=E[n.v.pY]=E[n.v.oY]={yd:"hev1.2.6.L123.B0",keySystem:e.mb.nd,features:q};E[n.v.sY]=E[n.v.QP]=E[n.v.rY]={yd:"hev1.2.6.L150.B0",keySystem:e.mb.nd,features:q};E[n.v.uY]=E[n.v.RP]=E[n.v.tY]={yd:"hev1.2.6.L153.B0",keySystem:e.mb.nd,features:q};E[n.v.RX]=E[n.v.QX]=E[n.v.PX]={yd:"hev1.2.6.L90.B0",keySystem:e.mb.nd,features:t};E[n.v.UX]=E[n.v.TX]=E[n.v.SX]={yd:"hev1.2.6.L93.B0",keySystem:e.mb.nd,features:t};E[n.v.WX]=E[n.v.PP]=E[n.v.VX]={yd:"hev1.2.6.L120.B0",keySystem:e.mb.nd,features:t};E[n.v.ZX]=E[n.v.YX]=E[n.v.XX]={yd:"hev1.2.6.L123.B0",keySystem:e.mb.nd,features:w};E[n.v.bY]=E[n.v.aY]=E[n.v.$X]={yd:"hev1.2.6.L150.B0",keySystem:e.mb.nd,features:w};E[n.v.eY]=E[n.v.dY]=E[n.v.cY]={yd:"hev1.2.6.L153.B0",keySystem:e.mb.nd,features:w};E[n.v.sX]=E[n.v.rX]={yd:"hev1.2.6.L90.B0",keySystem:e.mb.nd,features:x};E[n.v.uX]=E[n.v.tX]={yd:"hev1.2.6.L93.B0",keySystem:e.mb.nd,features:x};E[n.v.vX]=E[n.v.j9]=E[n.v.EP]={yd:"hev1.2.6.L120.B0",keySystem:e.mb.nd,features:x};E[n.v.xX]=E[n.v.k9]=E[n.v.wX]={yd:"hev1.2.6.L123.B0",keySystem:e.mb.nd,features:z};E[n.v.zX]=E[n.v.l9]=E[n.v.yX]={yd:"hev1.2.6.L150.B0",keySystem:e.mb.nd,features:z};E[n.v.BX]=E[n.v.m9]=E[n.v.AX]={yd:"hev1.2.6.L153.B0",keySystem:e.mb.nd,features:z};E[n.v.pu]={yd:"av01.0.04M.10",keySystem:e.mb.nd,features:v};E[n.v.qu]={yd:"av01.0.05M.10",keySystem:e.mb.nd,features:v};E[n.v.ru]={yd:"av01.0.08M.10",keySystem:e.mb.nd,features:v};E[n.v.su]={yd:"av01.0.09M.10",keySystem:e.mb.nd,features:v};E[n.v.XW]={yd:"av01.0.12M.10",keySystem:e.mb.nd,features:u};E[n.v.YW]={yd:"av01.0.13M.10",keySystem:e.mb.nd,features:u};E[n.v.VI]={yd:"av01.0.04M.10.0.112.09.16.09.0",keySystem:e.mb.nd,features:v};E[n.v.WI]={yd:"av01.0.05M.10.0.112.09.16.09.0",keySystem:e.mb.nd,features:v};E[n.v.XI]={yd:"av01.0.08M.10.0.112.09.16.09.0",keySystem:e.mb.nd,features:v};E[n.v.YI]={yd:"av01.0.09M.10.0.112.09.16.09.0",keySystem:e.mb.nd,features:v};E[n.v.VW]={yd:"av01.0.12M.10.0.112.09.16.09.0",keySystem:e.mb.nd,features:u};E[n.v.WW]={yd:"av01.0.13M.10.0.112.09.16.09.0",keySystem:e.mb.nd,features:u};return E;};c.prototype.Ys=function(E,F,G){E=k.TE.yda(E,F,G);return this.vR(E);};c.prototype.Tuc=function(){return this.Ys(e.mb.nd,this.AP,q);};c.prototype.Uwb=function(){return this.Ys(e.mb.nd,this.AP,t);};c.prototype.Twb=function(){return this.Ys(e.mb.nd,this.AP,x);};c.prototype.Quc=function(){return this.Ys(e.mb.nd,h.zc.ri,v);};c.prototype.Vwb=function(){return this.Ys(e.mb.nd,this.AP,u);};c.prototype.Wwb=function(){return this.Ys(e.mb.nd,this.AP,B);};c.prototype.Ouc=function(){return this.Ys(e.mb.nd,this.Ioa,B);};c.prototype.PQa=function(E){return this.Ys(e.mb.NJ,this.Ioa,["audio-endpoint-codec=" + E]);};c.prototype.Suc=function(){var E;E=this;return this.S5.then(function(F){return F?Promise.resolve(F):E.Qrb;});};c.prototype.TRa=function(){this.Nt && (this.Nt.itshdcp=JSON.stringify({hdcp1:this.Kib,time1:this.pxb - this.mwb,hdcp2:this.Lib,time2:this.qxb - this.nwb}));};c.prototype.Jtc=function(){var E;E=this;this.sma?(this.S5=this.ohb(this.config().Cnb,this.config().Bfc,function(){var F;F=E.M5b();return ["maybe" !== F,F];}).then(function(F){return "probably" === F;}),this.Qrb=this.S5.then(function(F){return F?!0:E.ohb(E.config().Cnb,E.config().Afc,function(){var G;G=E.L5b();return ["maybe" !== G,G];}).then(function(G){return "probably" === G;});})):(this.Qrb=Promise.resolve(!0),this.S5=Promise.resolve(!1));};c.prototype.ohb=function(E,F,G){var J;J=this;return new Promise(function(N){var I,M,K,L;I=Ea(G());M=I.next().value;I=I.next().value;if(M)return N(I);K=J.Rc.kO((0,f.bc)(E),function(){var H,O;H=Ea(G());O=H.next().value;H=H.next().value;O && (K.cancel(),L.cancel(),N(H));});L=J.Rc.xn((0,f.bc)(F),function(){K.cancel();L.cancel();N("timeout");});});};c.prototype.L5b=function(){var E;E=k.TE.yda(e.mb.lua,this.Ioa,y).split("|");this.Kib=k.TE.rma(E[0],E[1]);this.pxb=this.Aa.df.ia(f.pa);this.mwb=this.mwb || this.pxb;this.TRa();return this.Kib;};c.prototype.M5b=function(){var E;E=k.TE.yda(e.mb.nd,this.AP,A).split("|");this.Lib=k.TE.rma(E[0],E[1]);this.qxb=this.Aa.df.ia(f.pa);this.nwb=this.nwb || this.qxb;this.TRa();return this.Lib;};c.prototype.bXb=function(){var E;E=this;return this.iCa(e.mb.nd,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (m.S0a + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(F){E.log.debug("DriverInfo: " + F);return F;}).catch(function(F){E.M_("itsDriverInfo","exception");E.log.error("DriverInfo exception",F);throw F;});};c.prototype.iXb=function(){var E;E=this;this.iCa(e.mb.NJ,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(F){var G;G=String.fromCharCode.apply(void 0,E.Bc.decode(F));E.M_("itsHardwareInfo",G);E.log.debug("HardwareInfo: " + G);return F;}).catch(function(F){E.M_("itsHardwareInfo","exception");E.log.error("HardwareInfo exception",F);throw F;});};c.prototype.jXb=function(){var E;E=this;this.iCa(e.mb.NJ,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(F){var G;G=String.fromCharCode.apply(void 0,E.Bc.decode(F));E.M_("itsHardwareReset",G);E.log.debug("ResetHardwareDRMDisabled: " + G);return F;}).catch(function(F){E.M_("itsHardwareReset","exception");E.log.error("ResetHardwareDRMDisabled exception",F);throw F;});};c.prototype.iCa=function(E,F){var G;G=this;return new Promise(function(J,N){var O,P,Q;function I(S){try{L(S.target,"Unexpectedly got an mskeyerror event: 0x" + D.JS(S && S.target && S.target.error && S.target.error.ENc || 0,4));}catch(X){L(S.target,X);}}function M(S){L(S.target,"Unexpectedly got an mskeyadded event");}function K(S){var X;try{X=G.nEa(S.message,"PlayReadyKeyMessage","Challenge");H(S.target);J(X);}catch(W){L(S.target,W);}}function L(S,X){G.log.error("PlayReadyChallenge error",{cdmData:F});H(S);N(X);}function H(S){S.removeEventListener("mskeymessage",K);S.removeEventListener("mskeyadded",M);S.removeEventListener("mskeyerror",I);Q && Q.cancel();}try{O=new Uint8Array(C.nuc(F));P=new Ba.MSMediaKeys(E).createSession("video/mp4",new Uint8Array(0),O);P.addEventListener("mskeymessage",K);P.addEventListener("mskeyadded",M);P.addEventListener("mskeyerror",I);Q=G.Rc.xn((0,f.bc)(1E3),function(){L(P,Error("timeout"));});}catch(S){N(S);}});};c.prototype.nEa=function(E,F){var J,N,I;for(var G=1;G < arguments.length;++G);G="";N=E.length;for(J=0;J < N;J++){I=E[J];0 < I && (G+=String.fromCharCode(I));}N="\\s*(.*)\\s*";for(J=arguments.length - 1;0 < J;J--){I=arguments[J];if(0 > G.search(I))return;I="(?:[^:].*:|)" + I;N="[\\s\\S]*<" + I + "[^>]*>" + N + "</" + I + ">[\\s\\S]*";}if(G=G.match(new RegExp(N)))return G[1];};c.prototype.tIa=function(E){var F;F=this;return this.v2().then(function(G){var J;if(p.kd.zXa.test(E) && !F.Wwb())return {supported:!1,reason:"ms-restricted"};J=[e.mb.lua,e.mb.G1a].some(function(N){return N === G;});J=F.config().Bnb && !J;return [p.kd.L8,p.kd.Aaa,p.kd.ri,p.kd.K8].some(function(N){return N.test(E);}) && !p.kd.cZa.test(E) && J?{supported:!1,reason:"ms-restricted"}:{supported:!0};});};Ga.Object.defineProperties(c.prototype,{sma:{configurable:!0,enumerable:!0,get:function(){try{return this.vR(e.mb.nd + "|" + h.zc.tKa);}catch(E){return !1;}}}});b.$Za=c;},78866:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v;function c(q,u,t,w,x){this.config=q;this.navigator=u;this.uo=t;this.tH=w;this.wz=x;this.Qza={};this.zzb={};this.fza={};this.log=this.uo.fb("MediaCapabilityDetector");this.Qza=this.IWb();this.zzb=this.gYb();q={};this.X8a=(q[this.Qza[d.mc.Dm].contentType]=this.wz.decode(v.XTa),q);}Object.defineProperty(b,"__esModule",{value:!0});b.msa=void 0;r=a(5163);n=a(22674);d=a(75568);g=a(87386);e=a(63368);f=a(21103);l=a(1079);h=a(82100);k=a(22365);m=a(73796);p=a(2248);v=a(33096);c.prototype.M1=function(q){var u;u=this;return this.tH.zG().then(function(t){return u.u2b(q,t);}).catch(function(){return {supported:!1,reason:"mc-ksa-exception"};});};c.prototype.Pac=function(q){return !!q.colorGamut || !!q.hdrMetadataType || !!q.transferFunction;};c.prototype.fIa=function(){return Ba.matchMedia("(dynamic-range: high)").matches;};c.prototype.u2b=function(q,u){var t,w,x;try{t={type:"media-source"};w=this.Qza[q];x=this.zzb[q];if(w)t.audio=w;else if(x){t.video=x;if(this.Pac(x) && !this.fIa())return Promise.resolve({supported:!1,reason:"mc-non-hdr-display"});u && (t.keySystemConfiguration=this.b6b(u));}else return Promise.resolve({supported:!1,reason:"mc-missing-config"});return Promise.all([this.lTb(t),this.jTb((w || x).contentType)]).then(function(z){var y;y=Ea(z);z=y.next().value;y=y.next().value;return z?y?{supported:!0}:{supported:!1,reason:"mc-add-source-buffer"}:{supported:!1,reason:"mc-decoding-info"};});}catch(z){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",z),Promise.resolve({supported:!1,reason:"mc-exception"}));}};c.prototype.lTb=function(q){var u;u=this;return this.navigator.mediaCapabilities.decodingInfo(q).then(function(t){var w;t.configuration || (t.configuration=q);w=u.ybc(q,t);w?u.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(t)):u.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(t));return w;}).catch(function(t){u.log.error("mediaCapabilities.decodingInfo failed",t);return !1;});};c.prototype.jTb=function(q){var u;u=this;if(!this.config().z0b)return Promise.resolve(!0);this.fza[q] || (this.fza[q]=new Promise(function(t){var w;try{w=new k.WE();document.createElement("video").src=URL.createObjectURL(w);w.addEventListener("sourceopen",function(){var x;try{x=w.addSourceBuffer(q);u.X8a[q]?(x.addEventListener("updateend",function(){u.log.trace("addSourceBuffer updateend for " + q);t(!0);}),x.addEventListener("error",function(){u.log.warn("addSourceBuffer error for " + q);t(!1);}),x.appendBuffer(u.X8a[q])):(u.log.trace("addSourceBuffer succeeded for " + q),t(!0));}catch(z){u.log.warn("addSourceBuffer failed",z);t(!1);}});}catch(x){u.log.warn("addSourceBuffer failed",x);t(!1);}}));return this.fza[q];};c.prototype.b6b=function(q){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:q.keySystem},(q=(0,h.WFa)(q)) && (this.keySystemConfiguration.video={robustness:q}));return this.keySystemConfiguration;};c.prototype.IWb=function(){var q,u;q={};u={contentType:"audio/mp4;codecs=" + m.zc.ym};q[d.mc.ym]=u;q[d.mc.G9]=u;q[d.mc.JB]=u;q[d.mc.Dm]={contentType:"audio/mp4;codecs=" + m.zc.Dm};u={contentType:"audio/mp4;codecs=ec-3",spatialRendering:!0};q[d.mc.CP]=u;q[d.mc.jJ]=u;q[d.mc.kJ]=u;q[d.mc.lJ]=u;return q;};c.prototype.gYb=function(){var q,u,t,w,x,z,y,A,B,C,D,E,F,G,J,N,I,M,K,L,H,O,P,Q;q={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};u={contentType:'video/mp4; codecs="dvh1.05.04"'};t={width:1920,height:1080};w={width:3840,height:2160};x=Object.assign(Object.assign({},t),{bitrate:12E6,framerate:30});z=Object.assign(Object.assign({},t),{bitrate:2E7,framerate:60});y=Object.assign(Object.assign({},w),{bitrate:25E6,framerate:30});A=Object.assign(Object.assign({},w),{bitrate:4E7,framerate:60});B={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};C={colorGamut:"rec2020",transferFunction:"pq"};w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.4D4028"'}),x);t=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),x);D=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),x);E=Object.assign(Object.assign({},q),x);F=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),z);G=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),y);J=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),A);N=Object.assign(Object.assign(Object.assign({},q),x),B);I=Object.assign(Object.assign(Object.assign({},q),z),B);M=Object.assign(Object.assign(Object.assign({},q),y),B);q=Object.assign(Object.assign(Object.assign({},q),A),B);B=Object.assign(Object.assign(Object.assign({},u),x),C);K=Object.assign(Object.assign(Object.assign({},u),z),C);L=Object.assign(Object.assign(Object.assign({},u),y),C);u=Object.assign(Object.assign(Object.assign({},u),A),C);C=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),x);H=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),z);O=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),y);P=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),A);x=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10.0.112.09.16.09.0"'}),x);z=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10.0.112.09.16.09.0"'}),z);y=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10.0.112.09.16.09.0"'}),y);A=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10.0.112.09.16.09.0"'}),A);Q={};return (Q[d.v.IB]=w,Q[d.v.OE]=w,Q[d.v.PE]=w,Q[d.v.qqa]=w,Q[d.v.rqa]=w,Q[d.v.sqa]=w,Q[d.v.oqa]=t,Q[d.v.KP]=t,Q[d.v.LP]=t,Q[d.v.NE]=t,Q[d.v.pqa]=t,Q[d.v.MX]=t,Q[d.v.NX]=t,Q[d.v.MP]=t,Q[d.v.Baa]=D,Q[d.v.GZ]=D,Q[d.v.HZ]=D,Q[d.v.dF]=D,Q[d.v.H9]=E,Q[d.v.I9]=E,Q[d.v.J9]=E,Q[d.v.K9]=F,Q[d.v.gY]=E,Q[d.v.jY]=E,Q[d.v.mY]=E,Q[d.v.pY]=F,Q[d.v.QP]=G,Q[d.v.RP]=J,Q[d.v.hY]=E,Q[d.v.kY]=E,Q[d.v.nY]=E,Q[d.v.qY]=F,Q[d.v.sY]=G,Q[d.v.uY]=J,Q[d.v.fY]=E,Q[d.v.iY]=E,Q[d.v.lY]=E,Q[d.v.oY]=F,Q[d.v.rY]=G,Q[d.v.tY]=J,Q[d.v.QX]=N,Q[d.v.TX]=N,Q[d.v.PP]=N,Q[d.v.YX]=I,Q[d.v.aY]=M,Q[d.v.dY]=q,Q[d.v.RX]=N,Q[d.v.UX]=N,Q[d.v.WX]=N,Q[d.v.ZX]=I,Q[d.v.bY]=M,Q[d.v.eY]=q,Q[d.v.PX]=N,Q[d.v.SX]=N,Q[d.v.VX]=N,Q[d.v.XX]=I,Q[d.v.$X]=M,Q[d.v.cY]=q,Q[d.v.rX]=B,Q[d.v.tX]=B,Q[d.v.EP]=B,Q[d.v.wX]=K,Q[d.v.yX]=L,Q[d.v.AX]=u,Q[d.v.j9]=B,Q[d.v.k9]=K,Q[d.v.l9]=L,Q[d.v.m9]=u,Q[d.v.sX]=B,Q[d.v.uX]=B,Q[d.v.vX]=B,Q[d.v.xX]=K,Q[d.v.zX]=L,Q[d.v.BX]=u,Q[d.v.Fna]=C,Q[d.v.Gna]=C,Q[d.v.pu]=C,Q[d.v.qu]=C,Q[d.v.ru]=C,Q[d.v.su]=H,Q[d.v.XW]=O,Q[d.v.YW]=P,Q[d.v.VI]=x,Q[d.v.WI]=x,Q[d.v.XI]=x,Q[d.v.YI]=z,Q[d.v.VW]=y,Q[d.v.WW]=A,Q);};c.prototype.ybc=function(q,u){return q.video && this.config().ilc?u.supported && u.powerEfficient:u.supported;};a=c;b.msa=a;b.msa=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(l.FP)),r.__param(1,(0,n.l)(e.hQ)),r.__param(2,(0,n.l)(g.kb)),r.__param(3,(0,n.l)(f.Ny)),r.__param(4,(0,n.l)(p.ti))],a);},43551:function(r,b,a){var n,d;function c(g){this.navigator=g;this.pnb=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.nsa=void 0;r=a(5163);n=a(22674);a=a(63368);c.prototype.uEa=function(g){return this.pnb?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:g.contentType,width:g.width,height:g.height,bitrate:g.bitrate,framerate:g.framerate}}).then(function(e){return {supported:e.supported,smooth:e.smooth,powerEfficient:e.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};d=c;b.nsa=d;b.nsa=d=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.hQ))],d);},6600:function(r,b,a){var n,d,g,e;function c(f,l){this.mediaCapabilities=f;this.log=l.fb("MediaCapabilities");this.Q5=e.r9.bv();}Object.defineProperty(b,"__esModule",{value:!0});b.osa=void 0;r=a(5163);n=a(12931);d=a(87386);g=a(22674);e=a(48617);c.prototype.uEa=function(f){var l,h,k,m;l=this;k={Rf:void 0};if(this.mediaCapabilities.pnb){m={contentType:'video/mp4;codecs="' + (null !== (h=this.Q5[f.$d]) && void 0 !== h?h:"avc1.640028") + '"',width:f.width,height:f.height,bitrate:1E3 * f.bitrate,framerate:24};this.mediaCapabilities.uEa(m).then(function(p){return k.Rf=Object.assign(Object.assign({},p),m);}).catch(function(p){return l.log.error("Error calling MediaCapabilities API",p);});}return k;};a=c;b.osa=a;b.osa=a=r.__decorate([(0,g.W)(),r.__param(0,(0,g.l)(n.o_a)),r.__param(1,(0,g.l)(d.kb))],a);},92049:function(r,b,a){var n,d,g,e,f,l;function c(h,k,m,p){h=e.p9.call(this,h,k,p) || this;h.is=m;h.type=n.yB.QB;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.O_a=void 0;n=a(56800);d=a(75568);g=a(17612);e=a(31741);f=a(40290);l=a(73796);Ha(c,e.p9);c.prototype.pma=function(){return Promise.resolve(this.config().q1 && this.Ys(g.mb.NJ,"avc1",["audio-endpoint-codec=DD+JOC"]));};c.prototype.x7=function(){return Promise.resolve(this.config().r1 && this.Ys(g.mb.NJ,"avc1",["audio-endpoint-codec=DD+JOC"]));};c.prototype.bv=function(){var h,k;h={yd:"avc1",keySystem:g.mb.E1a,features:["audio-endpoint-codec=DD+JOC"]};k={};return (k[d.mc.ym]=l.zc.ym,k[d.mc.JB]=l.zc.ym,k[d.mc.G9]=void 0,k[d.mc.Dm]=l.zc.Dm,k[d.mc.CP]=this.config().r1?h:void 0,k[d.mc.jJ]=this.config().q1?h:void 0,k[d.mc.kJ]=this.config().q1?h:void 0,k[d.mc.lJ]=this.config().r1?h:void 0,k);};c.prototype.vEa=function(h){var k,m,p;h=this.Q5[h];k=[];m=g.mb.NJ;if(h){if(this.is.Js(h))p=h;else (k=h.features,p=h.yd,m=h.keySystem);return this.Ys(m,p,k)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"ms-can-present-codec-with-features"});}return Promise.resolve({supported:!1,reason:"ms-no-properties"});};c.prototype.Ys=function(h,k,m){h=f.TE.yda(h,k,m);return this.vR(h);};b.O_a=c;},40290:function(r,b,a){var n,d,g;function c(){this.type=n.yB.QB;}Object.defineProperty(b,"__esModule",{value:!0});b.TE=void 0;n=a(56800);r=a(57180);d=a(17612);g=new r.RJ();c.pXb=function(){return {isTypeSupported:function(e){var f;try{if(-1 == e.toLowerCase().indexOf("codec"))return Ba.MSMediaKeys.isTypeSupported(e,"video/mp4");f=e.split("|");return 1 === f.length?Ba.MSMediaKeys.isTypeSupported(d.mb.NJ,e):"probably" === c.rma(f[0],f[1]);}catch(l){return !1;}}};};c.yda=function(e,f,l){f=g.format(c.Kma,f);if(0 === l.length)return f;l=g.format('features="{0}"',l.join());return g.format("{0}|{1}{2}",e,f,l);};c.rma=function(e,f){var l;try{l=Ba.MSMediaKeys.isTypeSupportedWithFeatures?Ba.MSMediaKeys.isTypeSupportedWithFeatures(e,f):"";}catch(h){l="exception";}return l;};b.TE=c;c.Kma='video/mp4;codecs="{0},mp4a";';},7802:function(r,b){function a(c,n){var d;d=this;this.status={};c.forEach(function(g,e){d.status[g]=n[e];});}Object.defineProperty(b,"__esModule",{value:!0});b.P$=void 0;a.prototype.eT=function(){return this.status;};a.prototype.Yfa=function(){return Object.entries(this.status).filter(function(c){c=Ea(c);c.next();return c.next().value.supported;}).map(function(c){var n;c=Ea(c);n=c.next().value;c.next();return n;});};b.P$=a;},57718:function(r,b,a){var n,d,g;function c(e){this.Jwb=e;this.nNb="video/mp4;codecs={0}";this.gKb="audio/mp4;codecs={0}";}Object.defineProperty(b,"__esModule",{value:!0});b.Lva=void 0;r=a(5163);n=a(22674);d=a(73796);a=a(88490);c.prototype.Fda=function(e){var f;e=d.y5a[null === (f=e[0]) || void 0 === f?void 0:f.$d] || d.zc.xm;return this.Jwb.format(this.nNb,e);};c.prototype.wda=function(e){var f;e=d.VTa[null === (f=e[0]) || void 0 === f?void 0:f.$d] || d.zc.ym;return this.Jwb.format(this.gKb,e);};g=c;b.Lva=g;b.Lva=g=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.n4a))],g);},82656:function(r,b,a){var c,n,d,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.Pm=void 0;r=a(22674);c=a(33554);n=a(58393);d=a(48723);g=a(68703);e=a(99662);b.Pm=new r.Od(function(f){f(c.CB).Ze(function(){return function(){return Ba._cad_global.device;};});f(g.OVa).to(e.spa).ma();f(n.MVa).to(d.rpa).ma();});},33554:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CB="DeviceFactorySymbol";},58393:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MVa="DeviceIdGeneratorSymbol";},68703:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OVa="DeviceProviderSymbol";},48723:function(r,b,a){var n,d,g,e,f,l;function c(h,k){this.Aa=h;this.wNa=k;}Object.defineProperty(b,"__esModule",{value:!0});b.rpa=void 0;r=a(5163);n=a(30869);d=a(5021);g=a(10306);e=a(74267);f=a(66523);a=a(22674);c.prototype.S3b=function(){for(var h="",k=this.Aa.df.ia(d.pa),m=6;m--;)(h=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[k % 32] + h,k=Math.floor(k / 32));for(;30 > h.length;)h+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.wNa.fsb(new e.dva(0,31,f.Vob))];return h;};l=c;b.rpa=l;b.rpa=l=r.__decorate([(0,a.W)(),r.__param(0,(0,a.l)(n.hh)),r.__param(1,(0,a.l)(g.aaa))],l);},66085:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NVa=void 0;b.NVa=function(a,c,n,d){this.Sl=a;this.er=c;this.Hea=d;};},99662:function(r,b,a){var n,d,g,e,f,l,h,k;function c(m,p,v,q,u){this.QZb=m;this.vq=p;this.Ub=q;this.ekc=u;this.rWa=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=v.fb("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.spa=void 0;r=a(5163);n=a(36129);d=a(42207);g=a(66085);e=a(87386);f=a(58393);l=a(22674);h=a(17892);a=a(70285);c.prototype.veb=function(m){try{return m.match(this.rWa)[2];}catch(p){}};c.prototype.U1b=function(m){try{return m.match(this.rWa)[1];}catch(p){}};c.prototype.create=function(m){var p;p=this;return new Promise(function(v,q){p.vq.create().then(function(u){var w,x,z,y,A,B;function t(C){p.Ub.Ks(C) && p.Ub.Ks(w)?(x=new g.NVa(C,w,void 0,z,m.f1 || "cadmium"),v(x)):q({Ja:n.T.xVa});}w=m.er;if(m.uFa){z="bind_device";p.ekc.ef({log:p.log},{}).then(function(C){t(C.esn);}).catch(function(C){q(C);});}else if(m.NS){A=m.Sl;if(p.Ub.Ks(A)){B=p.U1b(A);B != m.er && p.log.error("esn prefix from ui is different",{ui:B,cad:m.er,ua:m.userAgent});}else m.nJa && p.log.error("esn from ui is missing");!m.AW && p.Ub.Ks(A)?(z="config",t(A)):u.load(m.Ucb).then(function(C){y=C.value;p.Ub.Ks(y) && (!1,p.Ub.Ks(A)?(C=p.veb(A),z=C === y?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):z="storage_esn_not_in_config",t(w + y));}).catch(function(C){var F;function D(){u.save(m.Ucb,F,!1).then(function(){t(w + F);}).catch(function(G){q(G);});}function E(){F=p.QZb.S3b();!1;D();}if(C.Ja === n.T.ZB){if(p.Ub.Ks(m.Sl)){F=p.veb(m.Sl);p.Ub.Ks(F)?(z="config_since_not_in_storage",D()):(z="generated_since_invalid_in_config_and_not_in_storage",p.log.error("invalid esn passed from UI",m.Sl),E());}else (z="generated_since_not_in_config_and_storage",E());}else q(C);});}else t();}).catch(function(u){q(u);});});};k=c;b.spa=k;b.spa=k=r.__decorate([(0,l.W)(),r.__param(0,(0,l.l)(f.MVa)),r.__param(1,(0,l.l)(h.DE)),r.__param(2,(0,l.l)(e.kb)),r.__param(3,(0,l.l)(d.Eh)),r.__param(4,(0,l.l)(a.h1a))],k);},2492:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.f9="CannedChallengeProvider";},49594:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x;Object.defineProperty(b,"__esModule",{value:!0});b.fS=b.ydb=void 0;r=a(22674);c=a(47737);n=a(97485);d=a(21103);g=a(92395);e=a(66372);f=a(2492);l=a(77228);h=a(34008);k=a(17250);m=a(41980);p=a(90581);v=a(91490);q=a(38231);u=a(22266);t=a(48691);w=a(18647);x=a(61738);b.ydb=new r.Od(function(z){z(c.u9).R7(n.Dmc);z(u.$Ya).to(t.hra).ma();z(w.jra).to(x.ira).ma();z(d.Ny).CI(function(y){b.fS.parent=y.tb;return b.fS.get(d.Ny);});z(g.TY).Ze(function(){return function(){return new e.B_a();};});z(f.f9).to(l.Ooa).ma();z(h.Opa).to(k.Npa).ma();z(m.Apa).to(p.zpa).ma();z(v.z_a).to(q.wsa).ma();});b.fS=new r.h9({zO:!0});},28048:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.DB=void 0;b.kkb=function(c){return !!c && !!c.keyStatuses;};(function(c){c.bzb="usable";c.hr="expired";c.released="released";c.Fpb="output-restricted";c.hjc="output-downscaled";c.Rtc="status-pending";c.fac="internal-error";})(a || (b.DB=a={}));},28289:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.Hy=void 0;b.x_b=function(c){switch(c){case a.Nlb:return "lg";case a.wsb:return "lc";case a.usb:return "lr";case a.xsb:return "renew_lc";case a.ysb:return "renew_lr";case a.zsb:return "renew_lr_failed";case a.snc:return "ilc";case a.tnc:return "ilr";case a.N8a:return "ld";case a.U8a:return "renew_ld";case a.V8a:return "renew_ld_failed";default:return "unknown";}};(function(c){c[c.Nlb=0]="licenseStarted";c[c.wsb=1]="receivedLicenseChallenge";c[c.usb=2]="receivedLicense";c[c.xsb=3]="receivedRenewalChallengeComplete";c[c.ysb=4]="receivedRenewalLicenseComplete";c[c.zsb=5]="receivedRenewalLicenseFailed";c[c.snc=6]="receivedIndivChallengeComplete";c[c.tnc=7]="receivedIndivLicenseComplete";c[c.N8a=8]="addLicenseComplete";c[c.U8a=9]="addRenewalLicenseComplete";c[c.V8a=10]="addRenewalLicenseFailed";})(a || (b.Hy=a={}));},47737:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZVa="DrmServicesSymbol";b.u9="DrmServicesProviderSymbol";},41980:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Apa="DrmTraitsFactorySymbol";},53921:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.Uo={};r[r.RU=0]="playready";r[r.bAb=1]="widevine";r[r.BS=2]="fairplay";},27995:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.FZ={};r[r.Request=0]="Request";r[r.Q2a=1]="Renewal";},34008:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Opa="EmeApiFactorySymbol";},23563:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rw="EmeConfigSymbol";},10060:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yWa="EmeSessionFactorySymbol";},22266:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ya="KeySystemProviderSymbol";},18647:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jra="KeySystemRestrictorSymbol";},91490:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.z_a="MediaKeySystemAccessInternalFactorySymbol";},21103:function(r,b){function a(c){return c?{supported:!1,reason:c}:{supported:!0};}Object.defineProperty(b,"__esModule",{value:!0});b.Ny=void 0;b.Fbb=function(c){return a(c);};b.QRa=function(c,n,d){d && c[n].status.supported && (c[n].status=a(d));};b.Igb=function(c){for(var n,d=c.length - 1;0 <= d;d--)if(c[d].status.supported){n=d;break;}return n;};b.Ny="MediaKeySystemAccessServicesSymbol";},92395:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TY="MediaKeysStorageFactorySymbol";},51120:function(r,b,a){var c,n,d,g,e,f;Object.defineProperty(b,"__esModule",{value:!0});b.zdb=void 0;r=a(22674);c=a(47737);n=a(80075);d=a(21103);g=a(9717);e=a(10060);f=a(74946);b.zdb=new r.Od(function(l){l(c.ZVa).to(n.ypa).ma();l(d.Ny).to(g.xsa).ma();l(e.yWa).to(f.Qpa);});},77228:function(r,b,a){var n,d,g,e,f,l,h,k;function c(m,p,v,q,u){this.bS=m;this.Bc=p;this.$T=q;this.Hr=u;this.log=v.fb("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Ooa=void 0;r=a(5163);n=a(22674);d=a(47737);g=a(2248);e=a(87386);f=a(92395);l=a(21103);h=a(53921);k=a(84218);c.prototype.qGa=function(m){var p;p=this;return Promise.all([this.bS(),this.IFa()]).then(function(v){var q;q=Ea(v);v=q.next().value;q=q.next().value;return v.T3b({type:m,initData:q,Vga:!1},p.$T());}).then(function(v){var q;q=Ea(v);v=q.next().value;q=q.next().value;q=p.Bc.encode(q.data[0]);p.log.trace("Challenge generated",q);return {cE:v,RAa:q};});};c.prototype.IFa=function(){var m;m=this;return this.Hr.zG().then(function(p){return p.xx();}).then(function(p){switch(p){case h.Uo.BS:return k.UWa;case h.Uo.RU:return k.D1a;default:return k.M5a;}}).then(function(p){return p.map(m.Bc.decode);});};a=c;b.Ooa=a;b.Ooa=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.u9)),r.__param(1,(0,n.l)(g.ti)),r.__param(2,(0,n.l)(e.kb)),r.__param(3,(0,n.l)(f.TY)),r.__param(4,(0,n.l)(l.Ny))],a);},80075:function(r,b,a){var n,d,g,e,f,l,h,k,m;function c(p,v,q,u,t,w){var x;x=this;this.TN=v;this.config=q;this.Q_b=u;this.$T=t;this.zo=w;this.yuc=function(z,y){var A;x.zo.mark(m.Ya.F9,z.Ot.Ea,"generate-challenge");A=!1;y.Irc(function(B){A || (A=!0,x.zo.mark(m.Ya.E9,z.Ot.Ea,"generate-challenge"));x.y2(z,y,B).then(function(C){y.M8a(C);}).catch(function(C){return y.mOb(C);});});};this.log=p.fb("DrmServices");this.config.Gjb && this.ZF(t(),f.Xo.xs).then(function(z){return z.close();});}Object.defineProperty(b,"__esModule",{value:!0});b.ypa=void 0;r=a(5163);n=a(22674);d=a(87386);g=a(69493);e=a(77134);f=a(24735);l=a(23563);h=a(10060);k=a(92395);m=a(63156);c.prototype.T3b=function(p,v){return this.ZF(v,p.type,p.context).then(function(q){return q.W3b(p.initData,p.Vga).then(function(u){return [q,{ev:q.xx(),data:u.Ml}];});});};c.prototype.ll=function(p,v){var q;q=this;this.log.info("Requesting challenges",this.Kgb(p,p.type));return this.ZF(v,p.type,p.context).then(function(u){q.Vnb(p,u);return u.X3b(p.initData,p.Vga).then(function(){return u;});});};c.prototype.Vnb=function(p,v){v.Rrc(p.Ot);this.yuc(p,v);};c.prototype.Kgb=function(p,v){return {movieId:p.Ot.P,xid:p.Ot.Ea,type:(0,f.Olb)(v)};};c.prototype.y2=function(p,v,q){this.log.info("Sending license request",this.Kgb(p,q.gg));return this.TN.ll({Ea:p.Ot.Ea,de:p.Ot.de,nea:[p.Ot.Rm],Ml:[{sessionId:v.fM() || "session",data:q.Ml}],gg:q.gg,ev:v.xx(),cab:q.cab,Sj:p.Ot.Sj,Je:p.Ot.Je,N:p.Ot.P});};c.prototype.ZF=function(p,v,q){return this.Q_b.create().then(function(u){return u.createSession(p,v,q).then(function(){return u;});});};a=c;b.ypa=a;b.ypa=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.kb)),r.__param(1,(0,n.l)(g.YVa)),r.__param(2,(0,n.l)(l.rw)),r.__param(3,(0,n.l)(h.yWa)),r.__param(4,(0,n.l)(k.TY)),r.__param(5,(0,n.l)(e.XY))],a);},97485:function(r,b,a){var c,n,d,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.Dmc=function(f){g.fS.parent=f.tb;return function(){e || (e=new Promise(function(l,h){try{l(g.fS.get(d.ZVa));}catch(k){h(new n.Rh(c.Y.IEb,c.T.TEb,void 0,"Unable to extract the DRM services from the dependency injector",k));}}));return e;};};c=a(36129);n=a(70999);d=a(47737);g=a(49594);},90581:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v;function c(q,u,t,w,x,z){this.oi=q;this.sk=u;this.Bc=t;this.config=w;this.Rl=x;this.Oh=z;}Object.defineProperty(b,"__esModule",{value:!0});b.zpa=void 0;r=a(5163);n=a(22674);d=a(6405);g=a(2248);e=a(84408);f=a(4203);l=a(7605);h=a(53921);k=a(23563);m=a(65315);p=a(20674);v=a(8265);c.prototype.create=function(q){switch(q){case h.Uo.RU:return new p.Lpa(this.sk,this.Bc);case h.Uo.BS:return new v.zva(this.sk,this.Bc,this.oi,this.Oh);default:return new m.Soa(this.sk,this.Bc,this.Rl,this.config);}};a=c;b.zpa=a;b.zpa=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(e.Du)),r.__param(1,(0,n.l)(d.GE)),r.__param(2,(0,n.l)(g.ti)),r.__param(3,(0,n.l)(f.uc)),r.__param(4,(0,n.l)(k.rw)),r.__param(5,(0,n.l)(l.Sy))],a);},17250:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v;function c(q,u,t,w,x,z){this.$e=q;this.oi=u;this.Bc=t;this.is=w;this.R4=x;this.Rl=z;}Object.defineProperty(b,"__esModule",{value:!0});b.Npa=void 0;r=a(5163);n=a(22674);d=a(2248);g=a(42207);e=a(63368);f=a(84408);l=a(74870);h=a(53921);k=a(23563);m=a(81471);p=a(963);v=a(90349);c.prototype.create=function(q){switch(q){case h.Uo.RU:return new p.Sua(this.R4,this.is,this.Bc,this.$e,this.Rl,this.oi);case h.Uo.BS:return new m.cqa(this.R4,this.is,this.Bc,this.$e,this.Rl,this.oi);default:return new v.zw(this.R4,this.is,this.Bc,this.$e,this.Rl,this.oi);}};a=c;b.Npa=a;b.Npa=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(l.Wi)),r.__param(1,(0,n.l)(f.Du)),r.__param(2,(0,n.l)(d.ti)),r.__param(3,(0,n.l)(g.Eh)),r.__param(4,(0,n.l)(e.hQ)),r.__param(5,(0,n.l)(k.rw))],a);},18135:function(r,b,a){var n,d,g,e,f,l;function c(h,k,m){h=d.zf.call(this,h,void 0 === m?"EmeConfigImpl":m) || this;h.Zd=k;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.Ppa=void 0;r=a(5163);n=a(22674);d=a(64174);g=a(83767);e=a(5021);f=a(12501);a=a(22816);Ha(c,d.zf);Ga.Object.defineProperties(c.prototype,{Eqb:{configurable:!0,enumerable:!0,get:function(){return !0;}},Gjb:{configurable:!0,enumerable:!0,get:function(){return this.Zd.hkb || this.Zd.Yga || this.Zd.M3?!0:!1;}},hH:{configurable:!0,enumerable:!0,get:function(){return (0,e.Ch)(5);}},Dqb:{configurable:!0,enumerable:!0,get:function(){return (0,e.Ch)(10);}},nDa:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},cfa:{configurable:!0,enumerable:!0,get:function(){return !1;}},eDa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Nv:{configurable:!0,enumerable:!0,get:function(){return !0;}},r9a:{configurable:!0,enumerable:!0,get:function(){return (0,e.Ch)(30);}},s9a:{configurable:!0,enumerable:!0,get:function(){return (0,e.Ch)(30);}},u9a:{configurable:!0,enumerable:!0,get:function(){return (0,e.Ch)(30);}},hca:{configurable:!0,enumerable:!0,get:function(){return (0,e.Ch)(30);}},v9a:{configurable:!0,enumerable:!0,get:function(){return (0,e.Ch)(30);}},hPa:{configurable:!0,enumerable:!0,get:function(){return "";}},Gpb:{configurable:!0,enumerable:!0,get:function(){return this.Zd.D3?!1:!0;}},Hpb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});l=c;b.Ppa=l;r.__decorate([f.config(f.xd,"persistentStateRequired")],l.prototype,"Eqb",null);r.__decorate([f.config(f.xd,"initializeKeySystemAtStartup")],l.prototype,"Gjb",null);r.__decorate([f.config(f.ol,"licenseRenewalRequestDelay")],l.prototype,"hH",null);r.__decorate([f.config(f.ol,"persistedReleaseDelay")],l.prototype,"Dqb",null);r.__decorate([f.config(f.string,"drmPersistKey")],l.prototype,"nDa",null);r.__decorate([f.config(f.xd,"forceLimitedDurationLicense")],l.prototype,"cfa",null);r.__decorate([f.config(f.xd,"disableLicenseRenewal")],l.prototype,"eDa",null);r.__decorate([f.config(f.xd,"prepareCadmium")],l.prototype,"Nv",null);r.__decorate([f.config(f.ol,"apiCloseTimeout")],l.prototype,"r9a",null);r.__decorate([f.config(f.ol,"apiCreateMediaKeysTimeout")],l.prototype,"s9a",null);r.__decorate([f.config(f.ol,"apiSetServerCertificateTimeout")],l.prototype,"u9a",null);r.__decorate([f.config(f.ol,"apiGenerateRequestTimeout")],l.prototype,"hca",null);r.__decorate([f.config(f.ol,"apiUpdateTimeout")],l.prototype,"v9a",null);r.__decorate([f.config(f.string,"serverCertificate")],l.prototype,"hPa",null);r.__decorate([f.config(f.xd,"outputRestrictedIsFatal")],l.prototype,"Gpb",null);r.__decorate([f.config(f.xd,"outputRestrictedIsFatalForUhd")],l.prototype,"Hpb",null);b.Ppa=l=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.Tn)),r.__param(1,(0,n.l)(a.eJ)),r.__param(2,(0,n.l)(g.g9)),r.__param(2,(0,n.optional)())],l);},70999:function(r,b,a){var n,d;function c(g,e,f,l,h){g=void 0 === g?n.Y.Kq:g;return d.ke.call(this,g,e,f,void 0,void 0,l,d.ke.Fg(h),h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Rh=void 0;n=a(36129);d=a(31149);Ha(c,d.ke);b.Rh=c;},74946:function(r,b,a){var n,d,g,e,f,l,h,k;function c(m,p,v,q,u,t){this.uo=m;this.Oa=p;this.Bc=v;this.config=q;this.Pr=u;this.Hr=t;}Object.defineProperty(b,"__esModule",{value:!0});b.Qpa=void 0;r=a(5163);n=a(22674);d=a(87386);g=a(81918);e=a(2248);f=a(23563);l=a(59818);h=a(97737);a=a(21103);c.prototype.create=function(){var m;m=this;return this.Hr.zG().then(function(p){return new h.zWa(m.uo,m.Oa,m.Bc,m.config,m.Pr,p);});};k=c;b.Qpa=k;b.Qpa=k=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.kb)),r.__param(1,(0,n.l)(g.fd)),r.__param(2,(0,n.l)(e.ti)),r.__param(3,(0,n.l)(f.rw)),r.__param(4,(0,n.l)(l.aF)),r.__param(5,(0,n.l)(a.Ny))],k);},97737:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t;function c(w,x,z,y,A,B){var C;C=this;this.Oa=x;this.wz=z;this.config=y;this.Pr=A;this.xH=B;this.keyStatuses=new m.ic({});this.tLa=function(D){var E,F,G,J,N,I;try{F=C.En.WBa(D);G=F.hN;J=F.messageType;N=F.sessionId;C.MM=C.MM || F.MM;C.Y6(N);C.log.trace("Received " + D.type + " event",{sessionId:N,messageType:J,keyIds:C.MM});if(J === b.Xra){if(C.config.eDa){C.log.trace("Disabling license renewal");return;}C.log.trace("Received a renewal request");C.gg=g.Xo.xs;C.Lr=q.ZN;}C.Lr === q.ll && C.Ms(e.Hy.wsb);C.Lr === q.ZN && C.Ms(e.Hy.xsb);I={Ml:G,cab:J,gg:C.gg};null === (E=C.mpb) || void 0 === E?void 0:E.call(C,I);C.XGa(G)?C.eH(new k.ke(d.Y.nWa)):C.Wl && !C.Wl.Tzb && C.Mkb(I);}catch(M){C.eH(M);}};this.sLa=function(D){var E,F,G,J,N,K,L,H,O,P,Q,S,V,fa,ba,ca,ia;F=D.target;G=F.keyStatuses;C.Y6(F.sessionId);C.log.trace("Received event: " + D.type);try{N=null === (E=C.context) || void 0 === E?void 0:E.tha;D=[];for(var I=Ea(G),M=I.next();!M.done;M=I.next()){K=Ea(M.value);L=K.next().value;H=K.next().value;O=C.wz.encode(new Uint8Array(L));D.push({so:O,status:H,height:null === N || void 0 === N?void 0:N[O]});}D.sort(function(na,oa){return (na.height || 0) - (oa.height || 0);});P=D.map(function(na){return na.so;});Q=D.map(function(na){return na.height;});S=D.map(function(na){return na.status;});C.JIa=P + ", " + Q + ", " + S;C.log.trace("KeyStatus: " + C.JIa);N={};for(var X=Ea(G),W=X.next();!W.done;W=X.next()){V=Ea(W.value);fa=V.next().value;ba=V.next().value;ca=C.wz.encode(new Uint8Array(fa));ia=u[ba];N[ca]=ia.status;C.EM(ca,ia.error) && (J=new l.Rh(ia.error));}C.keyStatuses.set(N);}catch(na){J=new l.Rh(d.Y.HHb);J.e1(na);}J?C.Dv?C.kha(J):C.Q3(J):(C.En.jda() || C.Nkb(),C.gg !== g.Xo.MB || C.En.Tza() || (C.config.eDa?C.log.trace("Disabling license renewal"):C.woc()));};this.Kr=function(D){var E;E=C.En.RC(D);C.log.error("Received event: " + D.type,E);C.eH(E);C.kha(E);C.Wl || C.Dv || C.Q3(E);};this.aic=function(D){C.log.error("MediaKeySession closed unexpectedly: " + D);C.Q3(new k.ke(d.Y.Gpa,t[D]));};this.eH=function(D){C.close().then(function(){var E;C.log.trace("Issuing a generate challenge error");null === (E=C.Wl) || void 0 === E?void 0:E.bW.reject(D);C.Wl=void 0;},function(E){var F;C.log.error("EmeSession closed with an error.",C.En.RC(E));null === (F=C.Wl) || void 0 === F?void 0:F.bW.reject(D);C.Wl=void 0;});};this.Mkb=function(D){var E;null === (E=C.Wl) || void 0 === E?void 0:E.bW.resolve(D);C.Wl=void 0;};this.kha=function(D){C.log.error("Failed to add license",D);C.close().then(function(){var E,F;C.log.trace("Issuing a license error");null === (E=C.Wl) || void 0 === E?void 0:E.bW.reject(D);C.Wl=void 0;null === (F=C.Dv) || void 0 === F?void 0:F.reject(D);C.Dv=void 0;},function(E){var F,G;C.log.error("EmeSession closed with an error.",C.En.RC(E));C.Lr === q.ZN && C.Ms(e.Hy.V8a);null === (F=C.Wl) || void 0 === F?void 0:F.bW.reject(D);C.Wl=void 0;null === (G=C.Dv) || void 0 === G?void 0:G.reject(D);C.Dv=void 0;});};this.Nkb=function(){C.Dv && (C.log.info("Successfully added license"),C.Lr === q.ll?C.Ms(e.Hy.N8a):C.Lr === q.ZN && C.Ms(e.Hy.U8a),C.Dv.resolve(),C.Dv=void 0);};this.Q3=function(D){C.close().then(function(){var E;C.log.trace("Issuing a CDM error");C.Wl=void 0;C.Dv=void 0;null === (E=C.oLa) || void 0 === E?void 0:E.call(C,D);},function(E){var F;C.log.error("EmeSession closed with an error.",C.En.RC(E));C.Wl=void 0;C.Dv=void 0;null === (F=C.oLa) || void 0 === F?void 0:F.call(C,D);});};this.Ms=function(D){C.ce.push({time:C.Oa.$b(),J4:D});};this.atb=!1;this.log=w.fb("EmeSession");this.Lr=q.Dwc;this.Yh=B.Dbb();this.En=B.Cbb();this.ce=[];this.oLa=function(D){C.YNa=D;};}Object.defineProperty(b,"__esModule",{value:!0});b.zWa=b.Xra=b.Yra=void 0;n=a(5021);d=a(36129);g=a(24735);e=a(28289);r=a(28048);f=a(27995);l=a(70999);h=a(59818);k=a(31149);m=a(81734);p=a(94293);v=a(82100);(function(w){w[w.Dwc=0]="unknown";w[w.create=1]="create";w[w.load=2]="load";w[w.ll=3]="license";w[w.ZN=4]="renewal";w[w.stop=5]="stop";w[w.closed=6]="closed";})(q || (q={}));b.Yra="license-request";b.Xra="license-renewal";u={usable:{status:r.DB.bzb},expired:{status:r.DB.hr,error:d.Y.rta},released:{status:r.DB.released},"output-not-allowed":{status:r.DB.Fpb,error:d.Y.U0a},"output-restricted":{status:r.DB.Fpb,error:d.Y.sta},"output-downscaled":{status:r.DB.hjc},"status-pending":{status:r.DB.Rtc},"internal-error":{status:r.DB.fac,error:d.Y.GHb}};t={"internal-error":d.T.zDb,"closed-by-application":d.T.vDb,"release-acknowledged":d.T.EDb,"hardware-context-reset":d.T.Epa,"resource-evicted":d.T.GDb};c.prototype.w2=function(){return this.xH.wha;};c.prototype.Ggb=function(){return this.JIa;};c.prototype.fM=function(){return this.sessionId;};c.prototype.close=function(){var w;w=this;this.mpb=this.context=void 0;this.Lr=q.closed;this.ce=[];void 0 !== this.Tka && (Ba.clearTimeout(this.Tka),this.Tka=void 0);return this.Yh.tbc()?(this.log.trace("Closing the session"),this.Yh.Ssb(this.tLa),this.Yh.Psb(this.sLa),this.Yh.Nsb(this.Kr),this.mediaKeys=void 0,this.Pr.Zt(this.config.r9a,this.Yh.close()).then(function(){w.log.info("Closed the session");}).catch(function(x){w.log.error("Close failed",x);w.En.RC(x).code=d.Y.LHb;throw x;})):Promise.resolve(void 0);};c.prototype.xx=function(){return this.xH.xx();};c.prototype.Aib=function(){return void 0 !== this.Vp;};c.prototype.createSession=function(w,x,z){var y;y=this;this.context=z;this.gg=x;this.Lr=q.create;this.Ms(e.Hy.Nlb);return (w.p9b()?Promise.resolve():this.Pr.Zt(this.config.s9a,this.Yh.createMediaKeys(this.xH)).then(function(A){y.log.trace("Created media keys");return y.BPb(A).then(function(){return w.O8a(A);}).catch(function(B){return Promise.reject(y.cNa(B,d.Y.HDb));});})).then(function(){y.mediaKeys=w.mediaKeys;try{y.Yh.createSession(y.mediaKeys,v.TEMPORARY);y.Yh.P8a(y.tLa);y.Yh.L8a(y.sLa);y.Yh.J8a(y.Kr);y.Yh.ZNb(y.aic);y.Y6(y.Yh.fM());}catch(A){return Promise.reject(y.cNa(A,d.Y.wDb));}}).catch(function(A){return Promise.reject(y.cNa(A,d.Y.w9));});};c.prototype.Rrc=function(w){this.Ot=w;this.log.G8a("xid",w.Ea);};c.prototype.W3b=function(w,x){return this.generateRequest(w,x,!1).then(function(z){return z;});};c.prototype.X3b=function(w,x){return this.generateRequest(w,x,!0).then(function(){});};c.prototype.M8a=function(w){this.fH=w.fH;w=w.Vp.map(function(x){return x.data;});this.XGa(w)?(this.log.error("The license buffer is empty"),this.eH(new l.Rh(d.Y.mWa,d.T.kWa))):(this.Lr === q.ll && (this.Ms(e.Hy.usb),this.Vp=w,this.rdb=this.En.US(this.MM,w),this.Wl && this.Wl.Tzb && this.Mkb()),this.Lr === q.ZN && (this.Ms(e.Hy.ysb),this.Vp=w,this.rdb=this.En.US(this.MM,w),this.Aza()));};c.prototype.mOb=function(w){this.Lr === q.ZN?(this.Ms(e.Hy.zsb),this.Q3(w)):this.eH(w);};c.prototype.Aza=function(){var w,x;w=this;if(!this.Vp){x=new l.Rh(d.Y.mWa,d.T.oWa);this.kha(x);return Promise.reject(x);}this.Dv=new p.Q$();x=this.Vp;this.Vp=void 0;this.Pr.Zt(this.config.v9a,this.Yh.update(x,this.Lr === q.ll?f.FZ.Request:f.FZ.Q2a,this.MM)).then(function(){w.En.jda() && w.Nkb();}).catch(function(z){z=w.En.RC(z);z.code=d.Y.uta;z.message="Unable to update the EME";w.log.error(z.message,z);w.kha(z);});return this.Dv.promise;};c.prototype.Irc=function(w){this.mpb=w;};c.prototype.wrc=function(w){this.oLa=w;this.YNa && (w(this.YNa),this.YNa=void 0);};c.prototype.US=function(){return this.rdb;};c.prototype.generateRequest=function(w,x,z){var y;y=this;this.Lr=q.ll;this.log.trace("Generating a license challenge");if(!w)return (w=new l.Rh(d.Y.lWa,d.T.oWa),this.eH(w),Promise.reject(w));if(this.XGa(w))return (w=new l.Rh(d.Y.lWa,d.T.kWa),this.eH(w),Promise.reject(w));this.Wl={bW:new p.Q$(),Tzb:z};this.Pr.Zt(this.config.hca,this.Yh.generateRequest(this.En.JFa(),w,x)).then(function(){y.Y6(y.Yh.fM());}).catch(function(A){var B,C;B=new l.Rh(d.Y.x9,A instanceof h.Cu?d.T.FX:d.T.Vo);try{C=y.En.RC(A);B.extCode=C.extCode;B.message="Unable to generate request.";B.e1(A);}catch(D){}y.log.error("Unable to generate a license request",B);y.eH(B);});return this.Wl.bW.promise;};c.prototype.BPb=function(w){return this.Pr.Zt(this.config.u9a,this.Yh.setServerCertificate(w,this.En.qfa()));};c.prototype.Y6=function(w){w && w !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + w),this.sessionId=w,this.log.G8a("sessionId",w));};c.prototype.woc=function(){var w;w=this;this.atb || (this.atb=!0,this.log.info("Kicking off license renewal",{timeout:this.config.hH}),this.Tka=Ba.setTimeout(function(){w.Tka=void 0;w.kV();},this.config.hH.ia(n.pa)));};c.prototype.Abc=function(w){var x,z,y;return 1080 < (null !== (y=null === (z=null === (x=this.context) || void 0 === x?void 0:x.tha) || void 0 === z?void 0:z[w]) && void 0 !== y?y:0);};c.prototype.EM=function(w,x){var z;z=this.Yh.Cgb();return z && !z.includes(w)?!1:x === d.Y.sta?this.Abc(w)?this.config.Hpb:this.config.Gpb:!!x;};c.prototype.kV=function(){this.log.trace("Initiating a renewal request");this.gg=g.Xo.xs;this.Lr=q.ZN;this.En.IAa()?this.En.UHa(this.Yh):this.Cda();};c.prototype.Cda=function(){var w;w=this;this.Yh.Cda(this.mediaKeys,v.TEMPORARY,this.tLa,this.sLa,this.Kr).then(function(){w.log.debug("Creating session to renew license");w.Y6(w.Yh.fM());}).catch(function(){w.Q3(new l.Rh(d.Y.x9));});};c.prototype.XGa=function(w){return 0 === w.length || w.reduce(function(x,z){return x || 0 === z.length;},!1);};c.prototype.cNa=function(w,x){var z,y;if((null === w || void 0 === w?0:w.code) && (null === w || void 0 === w?0:w.subCode))return w;y=(0,v.ihb)(null === w || void 0 === w?void 0:w.message);return new l.Rh(x,w instanceof h.Cu?d.T.FX:d.T.Vo,null === (z=null === y || void 0 === y?void 0:y.toString(16)) || void 0 === z?void 0:z.toUpperCase(),null === w || void 0 === w?void 0:w.message,w);};b.zWa=c;},84218:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.M5a=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.UWa=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.D1a=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},48691:function(r,b,a){var n,d,g,e,f,l,h,k,m;function c(p,v,q,u){this.uo=p;this.config=v;this.l1=q;this.iA=u;this.log=this.uo.fb("KeySystemProvider");}Object.defineProperty(b,"__esModule",{value:!0});b.hra=void 0;r=a(5163);n=a(22674);d=a(66523);g=a(87386);e=a(4203);f=a(17612);l=a(82100);h=a(41980);k=a(18647);m=a(21103);c.prototype.get=function(){var p,v,q,u;p=this;try{v=(this.config().glb || [this.config().Tp]).map(function(t){var w;w=f.mb.q2(t);w=p.l1.create(w).pGa();return (0 < w.length?w:[void 0]).map(function(x){return {keySystem:t,robustness:x};});});q=(0,d.flatten)(v).map(function(t){return {vha:t,status:(0,m.Fbb)(void 0)};});q.forEach(function(t){var w;w=p.s2b(t.vha);t.status=(0,m.Fbb)(w);});u=(0,m.Igb)(q);return this.iA.get().then(function(t){return q.forEach(function(w,x){var z;z=x === u;w.status.supported && !z && (w=p.v2b(w.vha,t),(0,m.QRa)(q,x,w));});}).then(function(){return q;});}catch(t){throw (this.log.error("KeySystemProvider failed.",t),t);}};c.prototype.s2b=function(p){var v;if(f.mb.R9.includes(p.keySystem) || l.bYa.includes(null !== (v=p.robustness) && void 0 !== v?v:"")){if(!this.config().r0b)return "hwdrm-not-enabled";if(this.config().Dfc && 1440 > Ba.screen.height * Ba.devicePixelRatio)return "hwdrm-screen-height";}};c.prototype.v2b=function(p,v){p=(0,l.ibb)(p);if(v.includes(p))return "too-many-errors";};a=c;b.hra=a;b.hra=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.kb)),r.__param(1,(0,n.l)(e.uc)),r.__param(2,(0,n.l)(h.Apa)),r.__param(3,(0,n.l)(k.jra))],a);},61738:function(r,b,a){var n,d,g,e;function c(f,l,h){this.config=f;this.uo=l;this.AAa=h;this.E6=[];this.sOa={};this.ela={};this.log=this.uo.fb("KeySystemRestrictor");this.Bdc=this.config().Ldb?this.AAa.load():Promise.resolve([]);}Object.defineProperty(b,"__esModule",{value:!0});b.ira=void 0;r=a(5163);n=a(22674);d=a(87386);g=a(4203);a=a(33258);c.prototype.get=function(){var f;f=this;try{return this.config().Ldb?this.Bdc.then(function(l){return f.B2b(l);}):Promise.resolve([]);}catch(l){return (this.log.error("KeySystemRestrictor failed.",l),Promise.resolve([]));}};c.prototype.B2b=function(f){var h;this.E6=[];this.sOa={};this.ela={};f=f.reduce(function(k,m){k[m.keySystem] || (k[m.keySystem]=[]);k[m.keySystem].push(m);return k;},{});this.log.debug("KeySystemErrorCounts: " + JSON.stringify(f));f=Ea(Object.entries(f));for(var l=f.next();!l.done;l=f.next()){h=Ea(l.value);l=h.next().value;h=h.next().value;if(h=this.C9b(h))(this.E6.push(l),this.ela[l]=h);}this.E6.some(function(){return !0;}) && this.log.warn("Restricted KeySystems: " + this.ela);return this.E6;};c.prototype.C9b=function(f){var l,h,k;l=this;k=f.reduce(function(m,p){l.config().r1b.includes(p.code) && (p=l.dXb(p),m[p] || (m[p]=0),m[p]++);return m;},{});this.sOa[f[0].keySystem]=k;return null === (h=Object.entries(k).find(function(m){m=Ea(m);m.next();return m.next().value >= l.config().s1b;})) || void 0 === h?void 0:h[0];};c.prototype.dXb=function(f){return [f.code,f.subCode,f.extCode].filter(Boolean).join(".");};Ga.Object.defineProperties(c.prototype,{ilb:{configurable:!0,enumerable:!0,get:function(){return this.E6;}},jlb:{configurable:!0,enumerable:!0,get:function(){return this.sOa;}},hlb:{configurable:!0,enumerable:!0,get:function(){return this.ela;}}});e=c;b.ira=e;b.ira=e=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.uc)),r.__param(1,(0,n.l)(d.kb)),r.__param(2,(0,n.l)(a.Noa))],e);},38231:function(r,b,a){var n,d,g,e;function c(f,l){this.l1=f;this.o1=l;}Object.defineProperty(b,"__esModule",{value:!0});b.wsa=void 0;r=a(5163);n=a(22674);d=a(41980);g=a(34008);e=a(52428);c.prototype.create=function(f,l,h){return new e.A_a(f,this.l1,this.o1,l,h);};a=c;b.wsa=a;b.wsa=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.Apa)),r.__param(1,(0,n.l)(g.Opa))],a);},52428:function(r,b,a){var n,d;function c(g,e,f,l,h){this.keySystem=g;this.l1=e;this.o1=f;this.xH=l;this.ev=h;}Object.defineProperty(b,"__esModule",{value:!0});b.A_a=void 0;n=a(17612);d=a(82100);c.prototype.createMediaKeys=function(){return this.xH.createMediaKeys();};c.prototype.getConfiguration=function(){return this.xH.getConfiguration();};c.prototype.xx=function(){return n.mb.q2(this.xH.keySystem);};c.prototype.Dbb=function(){return this.o1.create(this.ev);};c.prototype.Cbb=function(){return this.l1.create(this.ev);};Ga.Object.defineProperties(c.prototype,{wha:{configurable:!0,enumerable:!0,get:function(){var g,e;g=this.keySystem;e=(0,d.WFa)(this.xH);e && (g+="." + e);return g;}}});b.A_a=c;},9717:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x;function c(z,y,A,B,C,D,E){this.uo=z;this.Bc=y;this.config=A;this.Rl=B;this.dgc=C;this.o1=D;this.bcc=E;this.log=this.uo.fb("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.xsa=void 0;r=a(5163);n=a(22674);d=a(36129);g=a(87386);e=a(70999);f=a(21103);l=a(53921);h=a(2248);k=a(4203);m=a(17612);p=a(82100);v=a(84218);q=a(91490);u=a(34008);t=a(22266);w=a(23563);x=a(73796);c.prototype.zG=function(){this.promise || (this.promise=this.Opc());return this.promise;};c.prototype.DXb=function(z,y,A){A="video/mp4;codecs=" + ((y === p.KB || m.mb.R9.includes(A)) && this.config().Cfc?x.zc.Dh:x.zc.xm);A={initDataTypes:[p.Fy],videoCapabilities:[{contentType:A}],sessionTypes:[p.TEMPORARY]};z === l.Uo.bAb && this.Rl.Eqb && (A.persistentState="required");z=A.videoCapabilities[0];y && (z.robustness=y);return [A];};c.prototype.uXb=function(z,y){var A;A=this;return new Promise(function(B,C){var D;D=m.mb.q2(z);A.o1.create(D).Loc(z,A.DXb(D,y,z)).then(function(E){A.log.trace("Created the media keys system access",{keySystem:z,supportedconfig:E.getConfiguration?JSON.stringify(E.getConfiguration()):void 0});E=A.dgc.create(z,E,D);A.wha=E.wha;B(E);}).catch(function(E){A.log.warn("Unable to create the media key system access object",{keySystem:z,error:E.message});C(new e.Rh(d.Y.jWa,d.T.Vo,void 0,"Unable to create media keys system access. " + E.message,E));});});};c.prototype.j5b=function(){var z;z=this.config().glb || [this.config().Tp];if(1 < z.length)return (z=z.map(function(y){return m.mb.wFa(m.mb.q2(y));}),1 === new Set(z).size?Promise.resolve(z[0]):this.zG().then(function(y){return y.xx();}).then(function(y){return m.mb.wFa(y);}));z=m.mb.q2(z[0]);return Promise.resolve(m.mb.wFa(z));};c.prototype.pSa=function(z){var y,A,B,C;y=this;A=z.xx();B=z.Dbb();C=z.Cbb();return z.createMediaKeys().then(function(D){B.createSession(D,p.TEMPORARY);return B.setServerCertificate(D,C.qfa());}).then(function(){return B.generateRequest(p.Fy,y.IFa(A),!1);}).then(function(){return B.close();}).then(function(){return z;}).catch(function(D){y.log.error("validateKeySystemAccess failed",D);return Promise.reject(D);});};c.prototype.IFa=function(z){switch(z){case l.Uo.BS:z=v.UWa;break;case l.Uo.RU:z=v.D1a;break;default:z=v.M5a;}return z.map(this.Bc.decode);};c.prototype.Opc=function(){var z;z=this;try{return this.bcc.get().then(function(y){var A;z.wLb=y;A=(0,f.Igb)(y);return y.map(function(B,C){var D,E;D=B.vha;E=B.status;return function(){var F,G;if(!E.supported)return Promise.reject(Error(D.keySystem + ": " + E.reason));F=C === A;G=z.config().pSa && !F;return z.uXb(D.keySystem,D.robustness).catch(function(J){(0,f.QRa)(y,C,"not-supported");throw J;}).then(function(J){return G?z.pSa(J):Promise.resolve(J);}).catch(function(J){(0,f.QRa)(y,C,"validation-failed");throw J;});};});}).then(function(y){return z.Ppc(y);});}catch(y){return Promise.reject(y);}};c.prototype.Ppc=function(z){return z.reduce(function(y,A){return y.then(function(B){return Promise.resolve(B);}).catch(function(){return A();});},Promise.reject(Error("keySystem missing")));};Ga.Object.defineProperties(c.prototype,{flb:{configurable:!0,enumerable:!0,get:function(){return this.wha;}},klb:{configurable:!0,enumerable:!0,get:function(){return this.wLb;}}});a=c;b.xsa=a;b.xsa=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.kb)),r.__param(1,(0,n.l)(h.ti)),r.__param(2,(0,n.l)(k.uc)),r.__param(3,(0,n.l)(w.rw)),r.__param(4,(0,n.l)(q.z_a)),r.__param(5,(0,n.l)(u.Opa)),r.__param(6,(0,n.l)(t.$Ya))],a);},66372:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.B_a=void 0;a.prototype.p9b=function(){return void 0 !== this.mediaKeys;};a.prototype.O8a=function(c){this.mediaKeys=c;};b.B_a=a;},77699:function(r,b){function a(c,n,d){var g;g=this;this.Bc=c;this.Si=n;this.oi=d;this.a6b=function(e){var f;e=e.subarray(14,30);e=String.fromCharCode.apply(null,e);e=g.Bc.decode(e);e=e.subarray(4);f=new Uint8Array(16);f.set(e);return f;};this.XWa={Fy:1667591779,UBb:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.TWa=void 0;a.prototype.PUb=function(c,n){n=n?this.XWa.UBb:this.XWa.Fy;c=c.map(function(d){return {EKc:"",ccc:d,Iza:d,ztc:d,fyc:[1]};});return this.dec(n,c);};a.prototype.cec=function(c){var n;n=new Uint8Array(4);new DataView(n.buffer).setUint32(0,c);return this.GJa("fpsi",[n]);};a.prototype.bec=function(c,n,d,g){c=[this.GJa("fkri",[c])];n.byteLength && c.push(this.p4("fkai",[n]));d.byteLength && c.push(this.p4("fkcx",[d]));g.length && c.push(this.p4("fkvl",[new Uint8Array(new Uint32Array(g).buffer)]));return this.p4("fpsk",c);};a.prototype.dec=function(c,n){var d,e;d=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.cec(c)];for(var g in n){e=n[g];c.push(this.bec(e.ccc,e.Iza,e.ztc,e.fyc));}n=this.p4("fpsd",c);g=new Uint8Array(4);new DataView(g.buffer).setUint32(0,n.byteLength);return this.GJa("pssh",[d,g,n]);};a.prototype.GJa=function(c,n){var d,g,e;d=0;for(e in n)d+=n[e].byteLength;d=new Uint8Array(12 + d);g=new DataView(d.buffer);e=0;g.setUint32(e,d.byteLength);e+=4;d.set(this.oi.decode(c),e);e+=4;g.setUint32(e,0);e+=4;for(var f in n)(c=n[f],d.set(c,e),e+=c.byteLength);return d;};a.prototype.p4=function(c,n){var d,g;d=0;for(g in n)d+=n[g].byteLength;d=new Uint8Array(8 + d);g=0;new DataView(d.buffer).setUint32(g,d.byteLength);g+=4;d.set(this.oi.decode(c),g);g+=4;for(var e in n)(c=n[e],d.set(c,g),g+=c.byteLength);return d;};b.TWa=a;},81471:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v;function c(q,u,t,w,x,z){q=d.zw.call(this,q,u,t,w,x,z) || this;q.Bc=t;q.Si=w;q.Rl=x;q.oi=z;q.Rib=new g.TWa(q.Bc,q.Si,q.oi);return q;}Object.defineProperty(b,"__esModule",{value:!0});b.cqa=void 0;r=a(5163);n=a(22674);d=a(90349);g=a(77699);e=a(63368);f=a(42207);l=a(2248);h=a(74870);k=a(23563);m=a(84408);p=a(27995);v=a(47450);Ha(c,d.zw);c.prototype.generateRequest=function(q,u,t){var w,x,z;w=this;try{x=u.map(function(y){return w.Rib.a6b(y);});this.yjb=x.map(function(y){return w.Bc.encode(y);});z=this.Rib.PUb(x,t);return d.zw.prototype.generateRequest.call(this,q,[z],!1);}catch(y){return Promise.reject(y);}};c.prototype.update=function(q,u,t){var w,x,z,y,A;w=this;if(t)try{x=this.oi.encode(q[0]);z=JSON.parse(x).RESPONSES.map(function(B){var C;C=v.laa.Iwb(B.ID);return {keyID:u === p.FZ.Q2a?w.yjb[w.yjb.length - 1]:t[C],payload:B.PAYLOAD};});if(u === p.FZ.Request){y=z.map(function(B){return B.keyID;});this.bac=y;t.forEach(function(B){-1 === y.indexOf(B) && z.push({keyID:B,error:1});});}A=JSON.stringify(z);q=[this.oi.decode(A)];}catch(B){return Promise.reject(B);}return d.zw.prototype.update.call(this,q,u);};c.prototype.kV=function(){return d.zw.prototype.update.call(this,[this.oi.decode("renew")],p.FZ.Request);};c.prototype.Cgb=function(){return this.bac;};a=c;b.cqa=a;b.cqa=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(e.hQ)),r.__param(1,(0,n.l)(f.Eh)),r.__param(2,(0,n.l)(l.ti)),r.__param(3,(0,n.l)(h.Wi)),r.__param(4,(0,n.l)(k.rw)),r.__param(5,(0,n.l)(m.Du))],a);},963:function(r,b,a){var n,d,g,e;function c(){return d.zw.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Sua=void 0;r=a(5163);n=a(22674);d=a(90349);g=a(70999);e=a(36129);Ha(c,d.zw);c.prototype.Cda=function(f,l,h,k,m){this.Ssb(h);this.Psb(k);this.Nsb(m);this.Y6a=this.pf;this.pf=f.createSession(l);this.P8a(h);this.L8a(k);this.J8a(m);return this.generateRequest(this.initDataType,this.initData,!1);};c.prototype.close=function(){var l;function f(h){return h && h.sessionId?h.close():Promise.resolve();}l=this;this.sBa=void 0;return this.pf?Promise.all([f(this.pf),f(this.Y6a)]).then(function(){}).finally(function(){l.pf=void 0;l.Y6a=void 0;}):Promise.reject(new g.Rh(e.Y.iWa,e.T.IP,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(f,l,h){this.initDataType=f;this.initData=l;return d.zw.prototype.generateRequest.call(this,f,l,h);};a=c;b.Sua=a;b.Sua=a=r.__decorate([(0,n.W)()],a);},90349:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v;function c(q,u,t,w,x,z){this.R4=q;this.is=u;this.Bc=t;this.Si=w;this.Rl=x;this.oi=z;(0,g.Ft)(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.zw=void 0;r=a(5163);d=a(22674);g=a(66523);e=a(36129);f=a(63368);l=a(42207);h=a(70999);k=a(74870);m=a(2248);p=a(23563);a=a(84408);c.prototype.fM=function(){if(this.pf)return this.pf.sessionId;};c.prototype.Loc=function(q,u){return this.R4.requestMediaKeySystemAccess(q,u);};c.prototype.createMediaKeys=function(q){return q.createMediaKeys();};c.prototype.createSession=function(q,u){this.pf=q.createSession(u);};c.prototype.Cda=function(){return Promise.reject(new h.Rh(e.Y.x9));};c.prototype.tbc=function(){return !!this.pf;};c.prototype.setServerCertificate=function(q,u){return this.is.Jba(q.setServerCertificate) && u?q.setServerCertificate(u):Promise.resolve();};c.prototype.generateRequest=function(q,u){return this.pf?this.pf.generateRequest(q,u[0]):Promise.reject(new h.Rh(e.Y.x9,e.T.IP,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(q){return this.pf?this.pf.update(q[0]):Promise.reject(new h.Rh(e.Y.pWa,e.T.IP,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(q){return this.pf?this.pf.load(q):Promise.reject(new h.Rh(e.Y.DDb,e.T.IP,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var q;this.sBa=void 0;if(!this.pf)return Promise.reject(new h.Rh(e.Y.iWa,e.T.IP,void 0,"Unable to close a key session, key session is not valid"));q=Promise.resolve();this.fM() && (q=this.pf.close());this.pf=void 0;return q;};c.prototype.remove=function(){return this.pf?this.pf.remove():Promise.reject(new h.Rh(e.Y.FDb,e.T.IP,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.kV=function(){return Promise.reject(new h.Rh(e.Y.Fpa,void 0,"Unable to renew a key session, not supported"));};c.prototype.P8a=function(q){if(!this.pf)throw ReferenceError("Unable to add message handler, key session is not valid");this.pf.addEventListener(n.uWa,q);};c.prototype.L8a=function(q){if(!this.pf)throw ReferenceError("Unable to add key status handler, key session is not valid");this.pf.addEventListener(n.tWa,q);};c.prototype.J8a=function(q){if(!this.pf)throw ReferenceError("Unable to add error handler, key session is not valid");this.pf.addEventListener(n.sWa,q);};c.prototype.ZNb=function(q){var u;u=this;if(!this.pf)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.sBa=q;this.pf.closed.then(function(t){var w;return null === (w=u.sBa) || void 0 === w?void 0:w.call(u,t);});};c.prototype.Ssb=function(q){if(!this.pf)throw ReferenceError("Unable to remove message handler, key session is not valid");this.pf.removeEventListener(n.uWa,q);};c.prototype.Psb=function(q){if(!this.pf)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.pf.removeEventListener(n.tWa,q);};c.prototype.Nsb=function(q){if(!this.pf)throw ReferenceError("Unable to remove error handler, key session is not valid");this.pf.removeEventListener(n.sWa,q);};c.prototype.Cgb=function(){};v=n=c;b.zw=v;v.uWa="message";v.tWa="keystatuseschange";v.sWa="error";b.zw=v=n=r.__decorate([(0,d.W)(),r.__param(0,(0,d.l)(f.hQ)),r.__param(1,(0,d.l)(l.Eh)),r.__param(2,(0,d.l)(m.ti)),r.__param(3,(0,d.l)(k.Wi)),r.__param(4,(0,d.l)(p.rw)),r.__param(5,(0,d.l)(a.Du))],v);},65315:function(r,b,a){var n,d,g,e,f,l,h,k,m,p;function c(v,q,u,t){this.sk=v;this.Bc=q;this.Rl=u;this.config=t;}Object.defineProperty(b,"__esModule",{value:!0});b.Soa=void 0;r=a(5163);n=a(22674);d=a(36129);g=a(6405);e=a(2248);f=a(70999);l=a(59818);h=a(23563);k=a(4203);m=a(31149);p=a(82100);c.prototype.jda=function(){return !1;};c.prototype.Tza=function(){return !0;};c.prototype.IAa=function(){return !0;};c.prototype.JFa=function(){return p.Fy;};c.prototype.qfa=function(){return this.Rl.hPa?this.Bc.decode(this.Rl.hPa):this.Bc.decode(p.G5a);};c.prototype.pGa=function(){return [p.KB,p.kaa,p.jaa];};c.prototype.UHa=function(){Promise.reject(new m.ke(d.Y.Fpa));};c.prototype.WBa=function(v){var q;return {type:v.type,sessionId:null === (q=v.target) || void 0 === q?void 0:q.sessionId,hN:[new Uint8Array(v.message)],messageType:v.messageType};};c.prototype.RC=function(v){var q,u,t;q=new f.Rh(d.Y.$E);u=null === v || void 0 === v?void 0:v.code;null != u && void 0 !== u?(u=parseInt(u,10),q.subCode=1 <= u && 9 >= u?d.T.LE + u:d.T.LE):q.subCode=v instanceof l.Cu?d.T.FX:d.T.Vo;try{t=v.message.match(/\((\d*)\)/)[1];q.extCode=this.sk.JS(t,4);}catch(w){}q.e1(v);return q;};c.prototype.US=function(){};a=c;b.Soa=a;b.Soa=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.GE)),r.__param(1,(0,n.l)(e.ti)),r.__param(2,(0,n.l)(h.rw)),r.__param(3,(0,n.l)(k.uc))],a);},20674:function(r,b,a){var n,d,g,e,f,l,h,k;function c(m,p){this.sk=m;this.Bc=p;}Object.defineProperty(b,"__esModule",{value:!0});b.Lpa=void 0;r=a(5163);n=a(22674);d=a(36129);g=a(6405);e=a(2248);f=a(70999);l=a(59818);h=a(31149);k=a(82100);c.prototype.jda=function(){return !0;};c.prototype.Tza=function(){return !1;};c.prototype.IAa=function(){return !1;};c.prototype.JFa=function(){return k.Fy;};c.prototype.qfa=function(){};c.prototype.pGa=function(){return [];};c.prototype.UHa=function(){Promise.reject(new h.ke(d.Y.Fpa));};c.prototype.WBa=function(m){var p;p=new Uint8Array(m.message);p=this.nEa(p,"PlayReadyKeyMessage","Challenge");p=this.Bc.decode(p);return {type:m.type,sessionId:m.target.sessionId,hN:[p],messageType:m.messageType};};c.prototype.RC=function(m){var p,v,q;p=new f.Rh(d.Y.$E);v=m.code;null != v && void 0 !== v?(v=parseInt(v,10),p.subCode=1 <= v && 9 >= v?d.T.LE + v:d.T.LE):p.subCode=m instanceof l.Cu?d.T.FX:d.T.Vo;try{q=(/\((\d+)\)/).exec(m.message);p.extCode=this.sk.JS(Number(q && q[1]),4);}catch(u){}p.e1(m);return p;};c.prototype.nEa=function(m,p){var q,u,t;for(var v=1;v < arguments.length;++v);for(v=1;v < arguments.length;v++);v="";u=m.length;for(q=0;q < u;q++){t=m[q];0 < t && (v+=String.fromCharCode(t));}u="\\s*(.*)\\s*";for(q=arguments.length - 1;0 < q;q--){t=arguments[q];if(0 > v.search(t))return "";t="(?:[^:].*:|)" + t;u="[\\s\\S]*<" + t + "[^>]*>" + u + "</" + t + ">[\\s\\S]*";}return (v=v.match(new RegExp(u)))?v[1]:"";};c.prototype.US=function(){};a=c;b.Lpa=a;b.Lpa=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.GE)),r.__param(1,(0,n.l)(e.ti))],a);},47450:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.laa=void 0;a.D$b=function(c){return "ID" + (c + 1);};a.Iwb=function(c){return Number(c.substr(2)) - 1;};b.laa=a;},8265:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q;function c(u,t,w,x){this.sk=u;this.Bc=t;this.oi=w;this.Oh=x;}Object.defineProperty(b,"__esModule",{value:!0});b.zva=void 0;r=a(5163);n=a(22674);d=a(36129);g=a(6405);e=a(84408);f=a(70999);l=a(59818);h=a(2248);k=a(82100);m=a(97737);p=a(31149);v=a(7605);q=a(47450);c.prototype.jda=function(){return !1;};c.prototype.Tza=function(){return !1;};c.prototype.IAa=function(){return !0;};c.prototype.JFa=function(){return k.Fy;};c.prototype.qfa=function(){return this.Bc.decode(k.C9);};c.prototype.pGa=function(){return [];};c.prototype.UHa=function(u){u.kV();};c.prototype.WBa=function(u){var t,w;t=[];if(u.messageType === m.Yra || u.messageType === m.Xra){if(u.messageType === m.Yra){w=this.oi.encode(new Uint8Array(u.message));t=JSON.parse(w);w=t.map(function(x){return x.keyID;});t=t.map(function(x){return x.payload;});}else t=[this.Bc.encode(new Uint8Array(u.message))];if(0 === t.length || !t.every(function(x){return x && x.length;}))throw new p.ke(d.Y.nWa);t=this.Jvc(t);t=this.oi.decode(JSON.stringify(t));}else t=new Uint8Array(u.message);return {type:u.type,sessionId:u.target.sessionId,hN:[t],messageType:u.messageType,MM:w};};c.prototype.RC=function(u){var t,w,x,z;w=null === (t=u.target) || void 0 === t?void 0:t.error;if(w)(x=w.systemCode,z=w.code);t=new f.Rh(d.Y.$E,u instanceof l.Cu?d.T.FX:d.T.LE,x?this.sk.JS(x,4):z,"",w);t.e1(u);return t;};c.prototype.Jvc=function(u){u=u.map(function(t,w){return {ID:q.laa.D$b(w),PAYLOAD:t};});return {VERSION:this.Oh.Dz?3:1,CHALLENGES:u};};c.prototype.US=function(u,t){var w,x;w=this;if(t && this.Oh.Dz)try{x=this.oi.encode(t[0]);return JSON.parse(x).RESPONSES.sort(function(z,y){return z.ID > y.ID?1:-1;}).map(function(z){var y;y=q.laa.Iwb(z.ID);z=w.Bc.decode(z.DHB).subarray(4,12);y=w.Bc.decode(u[y]).subarray(0,8);return {from:z,to:y};});}catch(z){throw new f.Rh(d.Y.FHb,void 0,void 0,void 0,z);}};a=c;b.zva=a;b.zva=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.GE)),r.__param(1,(0,n.l)(h.ti)),r.__param(2,(0,n.l)(e.Du)),r.__param(3,(0,n.l)(v.Sy))],a);},63341:function(r,b,a){var c,n,d,g,e,f,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.Bfb=void 0;r=a(22674);c=a(62502);n=a(15031);d=a(76691);g=a(69936);e=a(33399);f=a(14318);l=a(75447);h=a(69484);b.Bfb=new r.Od(function(k){k(h.$Wa).to(c.hqa).ma();k(h.S2a).to(n.hva).ma();k(h.R2a).to(d.fva).ma();k(f.YWa).to(g.fqa).ma();k(l.$Xa).to(e.Gqa).ma();});},14318:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YWa="FtlDataParserSymbol";},69484:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.S2a="ReportSyncSymbol";b.R2a="ReportApiErrorSyncSymbol";b.ZWa="FtlProbeConfigSymbol";b.$Wa="FtlProbeSymbol";},75447:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Xa="HttpRequesterSymbol";},69936:function(r,b,a){var n,d,g,e,f;function c(l,h){this.is=l;this.json=h;(0,d.Ft)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.fqa=void 0;r=a(5163);n=a(22674);d=a(66523);g=a(63368);e=a(5021);a=a(42207);c.prototype.parse=function(l){var k;l=this.json.parse(l);if(!this.is.Gya(l))throw Error("FtlProbe: param: not an object");if(l.next && !this.is.B_(l.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.B_(l.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(l.pulse_delays && !this.is.QK(l.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.B_(l.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.QK(l.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Ks(l.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.W_(l.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var h=0;h < l.urls.length;++h){k=l.urls[h];if(!this.is.Gya(k))throw Error("FtlProbe: param.urls[" + h + "]: not an object");if(!this.is.Js(k.name))throw Error("FtlProbe: param.urls[" + h + "].name: not a string");if(!this.is.Js(k.url))throw Error("FtlProbe: param.urls[" + h + "].url: not a string");}return {Nmc:l.pulses,Xrb:l.pulse_delays?l.pulse_delays.map(e.bc):[],Mmc:(0,e.bc)(l.pulse_timeout),Ykb:l.next?(0,e.bc)(l.next):void 0,urls:l.urls,uJa:l.logblob,context:l.ctx};};f=c;b.fqa=f;b.fqa=f=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.Eh)),r.__param(1,(0,n.l)(g.wJ))],f);},34731:function(r,b,a){var n,d,g,e,f,l,h;function c(k,m,p){k=e.zf.call(this,k,"FtlProbeConfigImpl") || this;k.Yh=m;k.Aa=p;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.gqa=void 0;r=a(5163);n=a(30869);d=a(22674);g=a(5021);e=a(64174);f=a(24747);l=a(12501);a=a(83767);Ha(c,e.zf);Ga.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return !0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.dFa + (-1 === this.dFa.indexOf("?")?"?":"&") + "monotonic=" + this.Aa.Ynb + "&device=web";}},fwb:{configurable:!0,enumerable:!0,get:function(){return g.wa;}},SEa:{configurable:!0,enumerable:!0,get:function(){return "";}},dFa:{configurable:!0,enumerable:!0,get:function(){return this.Yh.endpoint + "/ftl/probe" + (this.SEa?"?force=" + this.SEa:"");}}});h=c;b.gqa=h;r.__decorate([l.config(l.xd,"ftlEnabled")],h.prototype,"enabled",null);r.__decorate([l.config(l.ol,"ftlStartDelay")],h.prototype,"fwb",null);r.__decorate([l.config(l.string,"ftlEndpointForceParam")],h.prototype,"SEa",null);r.__decorate([l.config(l.url,"ftlEndpoint")],h.prototype,"dFa",null);b.gqa=h=r.__decorate([(0,d.W)(),r.__param(0,(0,d.l)(a.Tn)),r.__param(1,(0,d.l)(f.N8)),r.__param(2,(0,d.l)(n.hh))],h);},62502:function(r,b,a){var n,d,g,e,f,l,h,k;function c(m,p,v,q,u,t,w){this.config=m;this.ajb=p;this.Rc=v;this.te=q;this.Hoc=u;this.ZNa=t;this.Nbc=0;this.qa=w.fb("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.hqa=void 0;r=a(5163);d=a(22674);g=a(5021);e=a(53085);f=a(87386);l=a(14318);h=a(75447);a=a(69484);c.prototype.start=function(){this.config.enabled && !this.Vv && (this.Vv=this.Rc.xn(this.config.fwb,this.xV.bind(this)));};c.prototype.stop=function(){this.Vv && (this.Vv.cancel(),this.Vv=void 0);};c.prototype.xV=function(){var m,p;m=this;p="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.Nbc++;this.l8b(p).then(function(v){return Promise.all(v.urls.map(function(q){return m.g9b(v,q.url,q.name);})).then(function(q){0 < q.length && m.Hoc.m6({data:q,context:v.context,uJa:v.uJa});}).then(function(){return v;});}).then(function(v){m.Vv && (v.Ykb?m.Vv=m.Rc.xn(v.Ykb,m.xV.bind(m)):m.stop());}).catch(function(v){return m.qa.error("FTL run failed",v);});};c.prototype.l8b=function(m){var p;p=this;return this.ajb.get(m,!1).then(function(v){var q;if(200 != v.status || null == v.body)return (p.ZNa.m6({url:m,status:v.status,wMa:"FTL API request failed",xo:v.xo}),Promise.reject(Error("FTL API request failed: " + v.status)));q=p.te.parse(v.body);return q instanceof Error?(p.ZNa.m6({url:m,status:4,wMa:"FTL Probe API JSON parsing error",xo:v.xo}),Promise.reject(q)):Promise.resolve(q);}).catch(function(v){v instanceof Error && (p.ZNa.m6({url:m,status:0,wMa:v.message}),p.qa.error("FTL API call failed",v.message));return Promise.reject(v);});};c.prototype.g9b=function(m,p,v){var q;q=this;return new Promise(function(u,t){var E;for(var w,x,z,y,A,B=[],C={},D=0;D < m.Nmc;(C={tna:C.tna,una:C.una},++D)){C.tna=D < m.Xrb.length?m.Xrb[D]:g.wa;C.una="" + p + (-1 === p.indexOf("?")?"?":"&") + "pulse=" + (D + 1);E=(function(F){return function(){return new Promise(function(G,J){q.Rc.xn(F.tna,function(){n.emc(q.ajb,F.una,m.Mmc).then(function(N){function I(M,K,L){M || (M=L.headers[K]);return M;}w=I(w,"via",N);x=I(x,"x-ftl-probe-data",N);z=I(z,"x-ftl-error",N);y=I(y,"x-ftl-probe-recv-ts",N);A=I(A,"latency-trace",N);N={status:N.status,xo:N.xo,iyc:w || "",DTb:x || "",C1:z || "",Xqc:y || "",wcc:q.Rjc(A)};G(N);}).catch(function(N){J(N);});});});};})(C);B.push(0 < D?B[D - 1].then(E):E());}Promise.all(B).then(function(F){u({url:p,name:v,data:F});}).catch(function(F){t(F);});});};c.prototype.Rjc=function(m){var p;if(m){p={};m=Ea(m.split(";"));for(var v=m.next();!v.done;v=m.next())if((v=v.value.trim().split("=")) && 2 == v.length)try{p[v[0].trim()]=Number.parseInt(v[1]);}catch(q){}return p;}};c.emc=function(m,p,v){return m.get(p,!1,v).then(function(q){return Object.assign({},q);});};k=n=c;b.hqa=k;b.hqa=k=n=r.__decorate([(0,d.W)(),r.__param(0,(0,d.l)(a.ZWa)),r.__param(1,(0,d.l)(h.$Xa)),r.__param(2,(0,d.l)(e.gk)),r.__param(3,(0,d.l)(l.YWa)),r.__param(4,(0,d.l)(a.S2a)),r.__param(5,(0,d.l)(a.R2a)),r.__param(6,(0,d.l)(f.kb))],k);},33399:function(r,b,a){var n,d,g,e,f,l,h,k,m;function c(p,v,q){this.Aa=p;this.gzc=v;this.performance=q;(0,d.Ft)(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.Gqa=void 0;r=a(5163);d=a(66523);g=a(64274);e=a(72574);f=a(63368);l=a(30869);h=a(22674);k=a(81438);m=a(5021);c.prototype.get=function(p,v,q){var u;u=this;return new Promise(function(t,w){var x,z,y;try{x=u.gzc.create();("withCredentials" in x) || w(Error("Missing CORS support"));x.open("GET",p,!0);v && (x.withCredentials=!0);q && (x.timeout=q.ia(m.pa));z=u.Aa.df;y=void 0;x.onreadystatechange=function(){var A;switch(x.readyState){case XMLHttpRequest.HEADERS_RECEIVED:y=u.Aa.df.ka(z);break;case XMLHttpRequest.DONE:A=u.Aa.df.ka(z);A={body:x.responseText,status:x.status,headers:n.bMa(x.getAllResponseHeaders()),xo:u.YFa(p,(0,e.la)(x.responseText.length),A,y)};t(A);}};x.send();}catch(A){w(A);}});};c.bMa=function(p){var v,u,t;v={};p=p.split("\r\n");for(var q=0;q < p.length;q++){u=p[q];t=u.indexOf(": ");0 < t && (v[u.substring(0,t).toLowerCase()]=u.substring(t + 2));}return v;};c.prototype.YFa=function(p,v,q,u){v={size:v,duration:q,fRa:u};if(!this.performance || !this.performance.getEntriesByName)return v;q=this.performance.getEntriesByName(p);if(0 == q.length && (q=this.performance.getEntriesByName(p + "/"),0 == q.length))return v;p=q[q.length - 1];v=(0,g.r4)(v);p.decodedBodySize && (v.size=(0,e.la)(p.decodedBodySize));0 < p.duration?v.duration=(0,m.timestamp)(p.duration):0 < p.startTime && 0 < p.responseEnd && (v.duration=(0,m.timestamp)(p.responseEnd - p.startTime));0 < p.requestStart && (v.ddb=(0,m.timestamp)(p.domainLookupEnd - p.domainLookupStart),v.WQa=(0,m.timestamp)(p.connectEnd - p.connectStart),v.fRa=(0,m.timestamp)(p.responseStart - p.startTime),0 === p.secureConnectionStart?v.nRa=(0,m.timestamp)(0):void 0 !== p.secureConnectionStart && (q=p.connectEnd - p.secureConnectionStart,v.nRa=(0,m.timestamp)(q),v.WQa=(0,m.timestamp)(p.connectEnd - p.connectStart - q)),0 < this.performance.timeOrigin && 0 < p.responseStart && (v.otb=(0,m.timestamp)(this.performance.timeOrigin + p.requestStart),v.Ctb=(0,m.timestamp)(this.performance.timeOrigin + p.responseStart)));return v;};a=n=c;b.Gqa=a;b.Gqa=a=n=r.__decorate([(0,h.W)(),r.__param(0,(0,h.l)(l.hh)),r.__param(1,(0,h.l)(k.R5a)),r.__param(2,(0,h.l)(f.H$)),r.__param(2,(0,h.optional)())],a);},76691:function(r,b,a){var n,d,g,e,f,l;function c(h,k){this.Xg=h;this.oKa=k;}Object.defineProperty(b,"__esModule",{value:!0});b.fva=void 0;r=a(5163);d=a(22674);g=a(72574);e=a(5021);f=a(45118);a=a(31850);c.prototype.m6=function(h){h=this.oKa.ht("ftlProbeError","info",n.Xyc({url:h.url,sc:h.status,pf_err:h.wMa},h));this.Xg.Ec(h);};c.Xyc=function(h,k){k.xo && (k=k.xo,n.Vq(h,"d",k.duration),n.Vq(h,"dns",k.ddb),n.Vq(h,"tcp",k.WQa),n.Vq(h,"tls",k.nRa),n.Vq(h,"ttfb",k.fRa),n.Vq(h,"client_send_ts",k.otb),n.Vq(h,"client_recv_ts",k.Ctb),h.sz=k.size.ia(g.qw));return h;};c.Vq=function(h,k,m){m && (h[k]=m.ia(e.pa));};l=n=c;b.fva=l;b.fva=l=n=r.__decorate([(0,d.W)(),r.__param(0,(0,d.l)(f.Jn)),r.__param(1,(0,d.l)(a.NB))],l);},15031:function(r,b,a){var n,d,g,e,f,l;function c(h,k){this.Xg=h;this.oKa=k;}Object.defineProperty(b,"__esModule",{value:!0});b.hva=void 0;r=a(5163);d=a(22674);g=a(72574);e=a(5021);f=a(45118);a=a(31850);c.prototype.m6=function(h){var k;k={ctx:h.context,data:h.data.map(function(m){return {name:m.name,url:m.url,data:m.data.map(function(p){return n.Yyc({d:p.xo.duration.ia(e.pa),sc:p.status,sz:p.xo.size.ia(g.qw),via:p.iyc,cip:p.DTb,err:p.C1,server_recv_ts:p.Xqc},p);})};})};h=this.oKa.ht(h.uJa,"info",k);this.Xg.Ec(h);};c.Yyc=function(h,k){n.Vq(h,"dns",k.xo.ddb);n.Vq(h,"tcp",k.xo.WQa);n.Vq(h,"tls",k.xo.nRa);n.Vq(h,"ttfb",k.xo.fRa);n.rOb(h,k.wcc);n.Vq(h,"client_send_ts",k.xo.otb);n.Vq(h,"client_recv_ts",k.xo.Ctb);return h;};c.rOb=function(h,k){k && (h.rtts=k);};c.Vq=function(h,k,m){m && (h[k]=m.ia(e.pa));};l=n=c;b.hva=l;b.hva=l=n=r.__decorate([(0,d.W)(),r.__param(0,(0,d.l)(f.Jn)),r.__param(1,(0,d.l)(a.NB))],l);},43367:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.Gr=void 0;r=a(22674);c=a(80012);n=a(26971);b.Gr=new r.Od(function(d){d(c.hZa).to(n.rra);});},80012:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hZa="LicenseBrokerFactorySymbol";},20124:function(r,b,a){var n,d,g,e,f;function c(l,h){this.Fb=l;this.j=h;this.Z3=[];}Object.defineProperty(b,"__esModule",{value:!0});b.uP=void 0;r=a(5163);n=a(36129);d=a(22674);g=a(32687);e=a(3887);f=a(31276);c.prototype.Vea=function(l){this.Z3.forEach(function(h){return h(l);});};c.prototype.Gd=function(l,h,k){this.j.Gd(l,h,k);};c.prototype.lOb=function(l){-1 === this.Z3.indexOf(l) && this.Z3.push(l);};c.prototype.poc=function(l){l=this.Z3.indexOf(l);0 <= l && this.Z3.splice(l,1);};c.prototype.cib=function(l){var h,k;h={};(0,g.Zc)(l.code)?h.Ja=(0,n.IWa)(l.code):h.Ja=n.T.Vo;try{k=l.message.match(/\((\d*)\)/)[1];h.Af=(0,f.bAa)(k,4);}catch(m){}h.tc=(0,e.Fg)(l);return h;};a=c;b.uP=a;b.uP=a=r.__decorate([(0,d.W)()],a);},94951:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q;function c(u,t,w,x,z){x=m.uP.call(this,x,z) || this;x.config=u;x.Rl=t;x.Nd=w;x.log=(0,d.lj)(x.j,"LegacyLicenseBroker");x.Tp=x.config().Tp;x.config().Prb?(0,e.ibc)()?x.Wma=!0:x.log.error("Promise based eme requested but platform does not support it",{browserua:f.JJ}):x.Wma=!1;return x;}Object.defineProperty(b,"__esModule",{value:!0});b.ora=void 0;r=a(5163);n=a(36129);d=a(31276);g=a(95162);e=a(52569);f=a(22365);l=a(22674);h=a(99037);k=a(91581);m=a(20124);p=a(5021);v=a(54973);Ha(c,m.uP);c.prototype.Bbb=function(u){var t;t=void 0 === t?this.j:t;return new this.Lv.HP(u,function(w){return t.bVb.y2(w);},{yk:!1,xD:!1});};c.prototype.ZF=function(u){var t,w,x,z,y,A;t=this;u=void 0 === u?this.j:u;w=a(24066).$s;this.Lv.HP || this.Gd(n.Y.GY,n.T.xDb);x=(0,d.lj)(u,"Eme");z=this.Bbb(x);y=d.La.get(g.tZ);A=y.wda(u.ca.Mc.value.streams);y=y.Fda(u.ca.wj.value.streams);return this.Lv.JP(x,function(B){return u.gf(B);},{yk:!1,xD:!1,Aa:{getTime:w},Va:z,iNa:!!this.Wma,ha:this.Fb.ha,NI:this.config().Idb,onerror:function(B,C,D){return t.Gd(B,C,D);},bLa:function(){},eka:!0,mQb:A,nyc:y,Ecc:this.Rl.hca.ia(p.pa)});};c.prototype.setMediaKeys=function(u){var t;t=this;return this.Wma?new Promise(function(w,x){if(t.Fb.ha)t.Fb.ha.setMediaKeys(u).then(function(){w();}).catch(function(z){var y;y=t.cib(z);x({ta:!1,code:n.Y.E$,subCode:y.Ja,extCode:y.Af,tc:y.tc,message:"Set media keys is a failure",Mb:z});});else return Promise.resolve();}):Promise.resolve();};c.prototype.heb=function(u){return {code:u.code,subCode:u.subCode,extCode:u.extCode,edgeCode:u.m1,message:u.message,errorDetails:u.tc,errorData:u.FL,state:u.state};};c.prototype.sPa=function(u,t,w){var z,y,A;function x(){y.kV().catch(function(B){z.log.error("Unable to set the license",z.heb(B));B.Mb && B.Mb.tc && (B.tc=B.tc?B.tc + B.Mb.tc:B.Mb.tc);z.Gd(B.code,B,B.extCode);});}z=this;w=void 0 === w?this.j:w;y=w.bg;this.log.info("Setting the license");A=t?function(){return Promise.resolve();}:function(){return y.ll((0,v.gM)(z.config(),!1),u);};return (t?function(){return y.zza(z.Fb.ha);}:function(){return y.create(z.Tp).then(function(){return Promise.resolve();});})().then(A).then(function(){return z.setMediaKeys(y.mediaKeys);}).then(function(){z.log.info("license set");z.Vea(w.P);z.Fb.Uzb.then(function(){z.config().hH && (t || z.config().cfa) && (z.xoc=Ba.setTimeout(x,z.config().hH));});}).catch(function(B){z.log.error("Unable to set the license",z.heb(B));B.Mb && B.Mb.tc && (B.tc=B.tc?B.tc + B.Mb.tc:B.Mb.tc);if(t)throw Error(B && B.message?B.message:"failed to set license");z.Gd(B.code,B,B.extCode);});};c.prototype.sja=function(){var t;function u(){var w;t.j.bg=t.ZF();w=[];t.j.jy.forEach(function(x){w.push((0,d.Vu)(x));});t.sPa(w);}t=this;this.a4 || (this.a4=!0,this.Lv.JP?this.j.jy?this.config().t1 && this.config().Nv?this.Nd.Yfb(this.j.P).then(function(w){var x;x=w.cE;t.j.bg=x;return x.Gyc.then(function(){var z;z=[];t.j.jy.forEach(function(y){z.push((0,d.Vu)(y));});return t.sPa(z,!0).then(function(){var y;if(x.ZGc)t.Gd(n.Y.CDb);else {y=(0,d.lj)(t.j,"Eme");x.oxc({log:y,pN:function(A){return t.j.gf(A);}},{Va:t.Bbb(y),onerror:function(A,B,C){return t.Gd(A,B,C);}});t.j.oD(x.ce || ({}));t.j.XK=w.b4;}});});}).catch(function(w){t.log.warn("eme not in cache",w);u();}):u():(this.log.error("Missing the PSSH on the video track, closing the player"),this.Gd(n.Y.JHb)):this.Gd(n.Y.GY,n.T.yDb));};c.prototype.ktb=function(u){var t;u=void 0 === u?this.j:u;u.bg=this.ZF();t=[];u.jy.forEach(function(w){t.push((0,d.Vu)(w));});return this.sPa(t,!1,u);};Ga.Object.defineProperties(c.prototype,{Lv:{configurable:!0,enumerable:!0,get:function(){return d.La.get(k.K$);}},BH:{configurable:!0,enumerable:!0,get:function(){return this.Wma?"encrypted":this.Fb.vWa + "needkey";}}});q=c;b.ora=q;r.__decorate([h.IT],q.prototype,"Lv",null);r.__decorate([h.IT],q.prototype,"BH",null);b.ora=q=r.__decorate([(0,l.W)()],q);},26971:function(r,b,a){var n,d,g,e,f,l,h,k;function c(m,p,v,q,u){this.bS=m;this.Rl=p;this.config=v;this.$T=q;this.Nd=u;}Object.defineProperty(b,"__esModule",{value:!0});b.rra=void 0;r=a(5163);n=a(22674);d=a(47737);g=a(128);e=a(94951);f=a(23563);l=a(4203);h=a(92395);a=a(66476);c.prototype.create=function(m,p,v){return m?new g.sra(this.config(),this.Nd,p,v,this.bS,this.$T()):new e.ora(this.config,this.Rl,this.Nd,p,v);};k=c;b.rra=k;b.rra=k=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.u9)),r.__param(1,(0,n.l)(f.rw)),r.__param(2,(0,n.l)(l.uc)),r.__param(3,(0,n.l)(h.TY)),r.__param(4,(0,n.l)(a.UJ))],k);},128:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v;function c(q,u,t,w,x,z){t=h.uP.call(this,t,w) || this;t.config=q;t.Nd=u;t.bS=x;t.lKa=z;t.log=(0,d.lj)(t.j,"LicenseBroker");t.a4=new Set();t.kKa=!1;return t;}Object.defineProperty(b,"__esModule",{value:!0});b.sra=void 0;r=a(5163);n=a(36129);d=a(31276);g=a(28289);e=a(5021);f=a(22674);l=a(99037);h=a(20124);k=a(85001);m=a(82100);p=a(56039);v=a(54973);Ha(c,h.uP);c.prototype.sja=function(){var q,u;q=this;u=this.j.ea;this.a4.has(u.P) || (this.a4.add(u.P),this.APb(u).catch(function(){return q.ltb(u);}).then(function(){return q.E9a(u);}).catch(function(t){return q.D9a(u,t);}).catch(function(t){return q.Gd(t.code,t,t.extCode);}));};c.prototype.APb=function(q){var u;u=this;return Promise.all([this.Nd.Yfb(q.P),this.bS()]).then(function(t){var w,x;t=Ea(t);w=t.next().value;x=t.next().value;return w.Ela.then(function(z){var y;y=u.lKa.mediaKeys;if(y && y !== z.mediaKeys)return (u.log.warn("Cannot use cached license session as its uses different MediaKeys"),Promise.reject());"manifest" === w.b4.source && (y=u.Lgb(q),x.Vnb(y,z));return z;}).then(function(z){return u.zza(z,q,w.b4);});}).catch(function(t){u.log.warn("eme not in cache",t);throw t;});};c.prototype.zza=function(q,u,t){this.Frb(q,u);u.XK=t;this.lKa.O8a(q.mediaKeys);return q.Aza();};c.prototype.s3b=function(q){var u;u={};q.forEach(function(t){u[(0,g.x_b)(t.J4)]=t.time.ia(e.pa);});return u;};c.prototype.Frb=function(q,u){var t;t=this;u.bg=q;q.wrc(function(w){t.Gd(w.code,w,w.extCode);});};c.prototype.E9a=function(q){this.log.info("Successfully applied license for xid: " + q.Ea + ", viewable: " + q.P + ", segment: " + q.L);this.oD(q);this.kKa?this.Vea(q.P):this.setMediaKeys(q);};c.prototype.D9a=function(q,u){this.oD(q);throw u;};c.prototype.oD=function(q){q.bg && q.oD(this.s3b(q.bg.ce));};c.prototype.Lgb=function(q){var u,t;u=q.pB[0];t=u.streams[0].$d;t=(0,m.ikb)(t);u=(0,p.Fgb)(u.streams);return {type:(0,v.gM)(this.config,!1),initData:q.jy.map(function(w){return (0,d.Vu)(w);}),Vga:t,context:{ha:this.Fb.ha,tha:u},Ot:{P:q.P,Ea:q.Ea,de:q.de,Rm:q.Rm,Sj:q.U.Sj,Je:q.U.Ca.Je}};};c.prototype.ltb=function(q){var u;u=this;return this.bS().then(function(t){var w;w=u.Lgb(q);u.a4.add(q.P);return t.ll(w,u.lKa).then(function(x){u.Frb(x,q);u.j.fireEvent(k.da.Kha,{P:q.P});return x.Aza();});});};c.prototype.setMediaKeys=function(q){var u;u=this;if(this.kKa)this.log.trace("Media Keys already set");else try{this.Fb.ha?(this.kKa=!0,this.Fb.ha.setMediaKeys(q.bg.mediaKeys).then(function(){u.Vea(q.P);}).catch(function(t){t=u.cib(t);u.Gd(n.Y.E$,t,t.Af);})):this.Vea(q.P);}catch(t){this.Gd(n.Y.E$,t,void 0);}};c.prototype.ktb=function(q){var u;u=this;q=void 0 === q?this.j:q;return this.ltb(q).then(function(){return u.E9a(q);}).catch(function(t){return u.D9a(q,t);});};Ga.Object.defineProperties(c.prototype,{BH:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},Tp:{configurable:!0,enumerable:!0,get:function(){return this.config.Tp;}}});a=c;b.sra=a;r.__decorate([l.IT],a.prototype,"BH",null);b.sra=a=r.__decorate([(0,f.W)()],a);},13847:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qTa="AppLogSinkSymbol";},21009:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A,B,C,D,E,F;Object.defineProperty(b,"__esModule",{value:!0});b.smb=void 0;r=a(22674);c=a(97996);n=a(31966);d=a(79428);g=a(50723);e=a(33345);f=a(74621);l=a(4203);h=a(41320);k=a(69124);m=a(74031);p=a(53085);v=a(33554);q=a(13847);u=a(53234);t=a(33945);w=a(31850);x=a(81829);z=a(45118);y=a(98326);A=a(52025);B=a(30895);C=a(36792);D=a(74714);E=a(73449);F=a(26158);b.smb=new r.Od(function(G){G(z.Jn).to(d.Bra).ma();G(u.M_a).to(g.Dsa).ma();G(t.NZa).to(e.Mra).ma();G(x.LZa).to(f.Jra).ma();G(z.Ara).to(h.zra).ma();G(w.NB).to(k.Hra).ma();G(x.KZa).to(m.Ira).ma();G(y.MY).to(A.AJ).ma();G(y.Lra).to(D.Kra).ma();G(E.OY).to(F.BJ).ma();G(B.WVa).to(C.upa).ma();G(q.qTa).to(n.Xna).ma();G(z.HZa).R7(function(J){return function(){return J.tb.get(c.ZY)().then(function(N){return new Promise(function(I){var K,L,H;function M(){L() && H() && N.lU?I(J.tb.get(z.Jn)):K.ah(M);}K=J.tb.get(p.gk);L=J.tb.get(l.uc);H=J.tb.get(v.CB);K.ah(M);});});};});});},30895:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WVa="DownloadReportBuilderSymbol";},45118:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ara="LogBatcherConfigSymbol";b.Jn="LogBatcherSymbol";b.HZa="LogBatcherProviderSymbol";},33945:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NZa="LogblobSenderSymbol";},31850:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NB="LogMessageFactorySymbol";},81829:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KZa="LogMessageRulerConfigSymbol";b.LZa="LogMessageRulerSymbol";},98326:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MY="LogblobBuilderFactorySymbol";b.Lra="LogblobBuilderCommonSymbol";},18169:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.md={};r.hRb="bitraterestriction";r.$$a="cdnsel";r.JC="chgstrm";r.debug="debug";r.f_b="dlreport";r.Nz="endplay";r.w3="intrplay";r.MD="midplay";r.PU="playbackaborted";r.l6="renderstrmswitch";r.eI="repos";r.ny="resumeplay";r.$qc="serversel";r.aw="startplay";r.r7="statechanged";r.transition="transition";r.WOa="segmentdropped";r.QPb="asereport";r.Sha="livereport";r.vdc="livepipelinefailover";r.X9a="audioswitch";r.w$a="blockedautoplay";r.config="config";r.WIc="ftlProbeError";r.Guc="subtitleerror";r.Huc="subtitleqoe";r.Fvc="timedtextrebuffer";r.vxb="timedtextswitch";r.awb="speedchanged";},73449:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OY="LogblobMonitorFactorySymbol";},53234:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.M_a="MessageQueueSymbol";},31966:function(r,b,a){var n,d,g,e,f,l,h;function c(k,m,p,v){var q;q=this;this.Udc=k;this.DD=m;this.config=v;this.KNa=[];this.Udc.Pka(n.zAb,this.V8b.bind(this));p().then(function(u){var t;t=v().mt.i3b;q.Mec=t?h.zm[t.toUpperCase()]:h.zm.In;q.Xg=u;q.Qqc();});}Object.defineProperty(b,"__esModule",{value:!0});b.Xna=void 0;r=a(5163);d=a(22674);g=a(4203);e=a(36410);f=a(45118);l=a(31850);h=a(87386);c.prototype.V8b=function(k,m){this.Xg?this.$rb(k,m):this.KNa.push([k,m]);};c.prototype.Qqc=function(){var k,m;k=this;m=this.KNa;this.KNa=[];m.forEach(function(p){k.$rb(p[0],p[1]);});};c.prototype.$rb=function(k,m){var p;if(this.Xg && this.Bsc(k)){p={debugMessage:k.message,debugCategory:k.zp};k.Hc.forEach(function(v){return p=Object.assign(Object.assign({},p),v.value);});p=Object.assign(Object.assign({},p),{prefix:"debug"});k=this.DD.ht("debug",h.zm[k.level].toLowerCase(),p,m);this.Xg.Ec(k);}};c.prototype.Bsc=function(k){var m;m=this.Mec;return void 0 !== m && k.level <= m && !k.Hc.find(function(p){return p.A1(h.t9);});};a=n=c;b.Xna=a;a.zAb="adaptorAll";b.Xna=a=n=r.__decorate([(0,d.W)(),r.__param(0,(0,d.l)(e.$P)),r.__param(1,(0,d.l)(l.NB)),r.__param(2,(0,d.l)(f.HZa)),r.__param(3,(0,d.l)(g.uc))],a);},36792:function(r,b,a){var n,d,g,e,f,l,h,k;function c(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.upa=void 0;r=a(5163);n=a(82956);d=a(51344);g=a(3887);e=a(36129);f=a(45146);l=a(22365);h=a(22674);a=a(4203);c.prototype.construct=function(m,p){var v,q,u;v=this;q={};m.forEach(function(t){var w;w=t.url;q[w] || (q[w]=[]);q[w].push(t);});u=[];(0,g.wh)(q,function(t,w){u.push(v.B8b(w,p));});return {urls:u};};c.prototype.B8b=function(m,p){var v,q,u,t,w;v=this;u=m[0];t={url:u.url,bitrate:u.bitrate,cdnid:null === (q=u.Tc) || void 0 === q?void 0:q.id,dltype:u.h_b,id:u.Nb};w={};m.forEach(function(x){var z;z=v.Jac(x)?"fail":"success";w[z] || (w[z]=[]);w[z].push(x);});(0,g.wh)(w,function(x,z){"fail" === x?t.failures=v.w5b(z,p):"success" === x && (t.downloads=v.i5b(z,p));});return t;};c.prototype.i5b=function(m,p){var v,q,u;v=this;q={};m.forEach(function(t){var w;w=t.$Tb;q[w] || (q[w]=[]);q[w].push(t);});u=[];(0,g.wh)(q,function(t,w){var x;x=[];w.forEach(function(z){x.push(z);v.nac(z) && (u.push(v.ngb(x,p,t)),x=[]);});0 < x.length && u.push(v.ngb(x,p,t));});return u;};c.prototype.ngb=function(m,p,v){var q,u,t,w,z;q=m.sort(function(y,A){return y.wo.Fk < A.wo.Fk?-1:y.wo.Fk > A.wo.Fk?1:0;});u=q[0].wo;t=u.ZD;w=u.Fk;u=u.$t;for(var x=1;x < m.length;x++){z=m[x].wo;z.ZD < t && (t=z.ZD);z.Fk < w && (w=z.Fk);z.$t > u && (u=z.$t);}x=this.w7b(q);z=q[q.length - 1];return {time:t - p,tcpid:v?parseInt(v):-1,tresp:w - t,first:x,ranges:this.x7b(q,x),dur:u - w,trace:this.GG(m),status:this.eT(z),enctimeinfo:z.JDa};};c.prototype.w7b=function(m){var p;p=0;m.forEach(function(v){v.NA && (p=(0,l.PB)(p,v.NA[0]));});return p;};c.prototype.x7b=function(m,p){var v;v=[];m.forEach(function(q){q.NA?v.push([q.NA[0] - p,q.NA[1] - p]):v.push([0,-1]);});return v;};c.prototype.GG=function(m){var p,v;p=[];m.forEach(function(q){var u;q=q.wo;if(v){u=q.ZD - v.$t;0 < u && p.push([u,-2]);u=(0,l.uw)(v.$t,q.ZD);u=q.Fk - u;0 < u && p.push([u,-3]);}p.push([q.$t - q.Fk,q.Nl || 0]);v=q;});return p;};c.prototype.nac=function(m){if(m.Ja === e.T.qJ || m.Ja === e.T.rJ)return !0;};c.prototype.eT=function(m){if(m.ta)return "complete";if(m.Ja === e.T.qJ)return "abort";if(m.Ja === e.T.rJ)return "stall";(0,f.oa)(!1,"download status should never be: other");return "other";};c.prototype.w5b=function(m,p){var v,q;v=this;q=[];m.forEach(function(u){var t;t=u.wo;u={time:t.Fk - p,tresp:t.Fk - t.ZD,dur:t.$t - t.Fk,range:u.NA,reason:v.z7b(u),httpcode:u.io,nwerr:(0,n.H6b)(u.Ja),enctimeinfo:u.JDa};q.push(u);});return q;};c.prototype.z7b=function(m){return m.io || m.Ja === e.T.wY?"http":m.Ja === e.T.yY?"timeout":"network";};c.prototype.Jac=function(m){return m.ta || void 0 === m.ta || m.Ja === e.T.qJ || m.Ja === e.T.rJ?!1:!0;};c.prototype.dVb=function(m){var p,v,q,u,t,w;p=m.request;v=p.stream;q=p.track;u=p.url;t=this.f5b(q,u);switch(t){case d.Dl.audio:case d.Dl.video:w=p.stream.Nb;break;case d.Dl.jRa:case d.Dl.BRa:w=q.Nb;}m={bitrate:v && v.bitrate,h_b:t,Nb:w,wo:m.wo,Tc:p.Tc,url:u,Af:m.Af,io:m.io,Ja:m.Ja,ta:m.ta,$Tb:this.R1b(m),JDa:p.oS};void 0 !== p.offset && void 0 != p.length && (m.NA=[p.offset,p.offset + p.length - 1]);return m;};c.prototype.f5b=function(m,p){if(m)return m.type;if(0 <= p.indexOf("netflix.com")){if(0 <= p.indexOf("nccp"))return "nccp";if(0 <= p.indexOf("api"))return "api";}return "other";};c.prototype.R1b=function(m){if(m.headers && (m=m.headers["x-tcp-info"]))return (m=m.split(";").filter(function(p){return 0 == p.indexOf("port=");}).map(function(p){return p.split("=")[1];})[0])?(0,g.Ck)(m):m;};k=c;b.upa=k;b.upa=k=r.__decorate([(0,h.W)(),r.__param(0,(0,h.l)(a.uc))],k);},41320:function(r,b,a){var n,d,g,e,f,l,h;function c(k,m){k=l.zf.call(this,k,"LogBatcherConfigImpl") || this;k.config=m;k.Gec=(0,n.la)(5E5);k.Nqc=(0,d.DKa)(1);k.cnb=(0,n.la)(1E6);return k;}Object.defineProperty(b,"__esModule",{value:!0});b.zra=void 0;r=a(5163);n=a(72574);d=a(5021);g=a(22674);e=a(4203);f=a(12501);l=a(64174);a=a(83767);Ha(c,l.zf);Ga.Object.defineProperties(c.prototype,{Uya:{configurable:!0,enumerable:!0,get:function(){return this.config().Uya;}},Cvb:{configurable:!0,enumerable:!0,get:function(){return [];}},Bvb:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});h=c;b.zra=h;r.__decorate([f.config(f.object(),"shedLogblobTypes")],h.prototype,"Cvb",null);r.__decorate([f.config(f.ax("string"),"shedDebugTypes")],h.prototype,"Bvb",null);b.zra=h=r.__decorate([(0,g.W)(),r.__param(0,(0,g.l)(a.Tn)),r.__param(1,(0,g.l)(e.uc))],h);},79428:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v;function c(q,u,t,w,x,z){this.config=q;this.json=u;this.Rc=t;this.Ldc=w;this.H4=z;this.aha=this.UG=!1;this.listeners=[];(0,d.Ft)(this,"json");this.qa=x.fb("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.Bra=void 0;r=a(5163);n=a(22674);d=a(66523);g=a(63368);e=a(33945);f=a(53085);l=a(87386);h=a(45118);k=a(53234);m=a(36129);p=a(15160);a(2762);v=a(18169);c.prototype.Pb=function(){this.UG=!0;};c.prototype.Ec=function(q){var u;u=this;this.Msc(q) || (!1,0 < q.size.el(this.config.Gec)?this.qa.error("Logblob is too large, dropping from the queue",{logblobType:q.type,logblobSize:q.size.toString()}):(this.listeners.forEach(function(t){return t.vfc(q);}),!1,this.H4.$ya(q),this.Rc.ah(function(){u.P2b();})));};c.prototype.flush=function(q){var u;u=this;q=void 0 === q?!1:q;return this.aha?(this.qa.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(t,w){u.qa.trace("Flushing",l.t9);u.Xr();u.Rc.ah(function(){u.bPa(q).then(function(){t();}).catch(function(x){w(x);});});});};c.prototype.addListener=function(q){this.listeners.push(q);};c.prototype.removeListener=function(q){q=this.listeners.indexOf(q);0 <= q && this.listeners.splice(q,1);};c.prototype.bPa=function(q){var u,t;u=this;q=void 0 === q?!1:q;if(!this.UG)return (this.qa.trace("LogBatcher is not initialized"),Promise.resolve());if(this.aha)return (this.qa.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());t=this.H4.w4b();if(0 === t.length && !q)return (this.qa.trace("No logblobs to send"),Promise.resolve());!1;this.Xr();this.listeners.forEach(function(){});q=Promise.resolve();for(var w={},x=Ea(t),z=x.next();!z.done;(w={sna:w.sna},z=x.next()))(w.sna=z.value,q=q.then((function(y){return function(){return u.Mqc(y.sna);};})(w)));return q.then(function(){return u.qG();}).catch(function(y){t.filter(function(A){return !A.Nx;}).forEach(function(A){return A.gv();});u.qG();throw Error("Send failure. " + y);});};c.prototype.Mqc=function(q){var u;u=this;this.qa.trace("Sending batch: " + q.size,l.t9);return Promise.resolve(this.H4.joc(q)).then(function(){return u.Ldc.send(q.hN);}).then(function(){return q.dW();}).catch(function(t){u.qa.warn("Failed to send batch of logblobs.",t,l.t9);q.gv();u.ysc(t) && u.H4.YNb(q);u.Osc(t) && (u.aha=!0);throw t;});};c.prototype.ysc=function(q){return q.extCode === m.P9.e1a?!1:this.config.Uya;};c.prototype.Osc=function(q){return q.subCode === m.T.aXa || q.subCode === m.T.vY || q.subCode === m.T.zY?!0:!1;};c.prototype.P2b=function(){var q;q=this;0 < this.H4.size.el(this.config.cnb)?this.bPa().catch(function(u){return q.qa.warn("Failed to send log messages on size threshold. " + u);}):this.qG();};c.prototype.Xr=function(){this.qha && (!1,this.qha.cancel(),this.qha=void 0);};c.prototype.qG=function(){this.qha || (!1,this.qha=this.Rc.xn(this.config.Nqc,this.AU.bind(this)));};c.prototype.AU=function(){var q;q=this;this.aha=!1;this.Xr();this.bPa().catch(function(u){return q.qa.warn("Failed to send log messages on timer. " + u);});};c.prototype.stringify=function(q){var u;u="";try{u=this.json.stringify(q.data,void 0,"  ");}catch(t){}return u;};c.prototype.Msc=function(q){return 0 <= this.config.Cvb.indexOf(q.type)?!0:q.type === v.md.debug?0 <= this.config.Bvb.indexOf(q.data.debugCategory):!1;};a=c;b.Bra=a;b.Bra=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(h.Ara)),r.__param(1,(0,n.l)(g.wJ)),r.__param(2,(0,n.l)(f.gk)),r.__param(3,(0,n.l)(e.NZa)),r.__param(4,(0,n.l)(l.kb)),r.__param(5,(0,n.l)(k.M_a)),r.__param(6,(0,n.l)(p.o9))],a);},69124:function(r,b,a){var d,g,e,f,l,h,k,m,p,v;function c(q,u,t,w,x,z,y,A,B,C,D){this.platform=u;this.qCa=t;this.userAgentData=w;this.type=x;this.severity=z;this.timestamp=y;this.Oa=B;this.data=A;this.data.type=x;this.data.sev=z;this.data.devmod=this.platform.fG;this.data.clver=this.platform.version;q && q.Zd && (q.Zd.os && (this.data.osplatform=q.Zd.os.name,this.data.osver=w.platformVersion.T3?w.platformVersion.version:q.Zd.os.version),this.data.browsername=q.Zd.name,this.data.browserver=q.Zd.version);q.AIa && (this.data.tester=!0);q.sM && !this.data.groupname && (this.data.groupname=q.sM);q.wR && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + q.wR:q.wR);q.a8 && (this.data.uigroupname=q.a8);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Oa.o6b();this.data.uniqueLogId=C.Hfb();this.data.appId=this.Oa.id;D && (q=this.Oa.$b(),this.data.soffms=q.ka(D.rj).ia(f.pa),this.data.mid=this.data.mid || D.P,this.data.lvpi=D.rmb,this.data.uiLabel=D.ue,this.data.uxLabels=D.Xma,x="startup" === x?"playbackxid":"xid",this.data[x]="xid" === x && this.data.xid || D.Ea,D.rO && (x=D.rO,(D=D.rO.split(".")) && 1 < D.length && "S" !== D[0][0] && (x="SABTest" + D[0] + ".Cell" + D[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + x:x));}function n(q,u,t,w,x,z,y){this.Aa=q;this.qCa=u;this.config=t;this.Oa=w;this.Sxc=x;this.platform=z;this.userAgentData=y;}Object.defineProperty(b,"__esModule",{value:!0});b.Hra=void 0;r=a(5163);d=a(72574);g=a(22674);e=a(30869);f=a(5021);l=a(58098);h=a(34231);k=a(81918);m=a(96723);p=a(91581);a=a(75236);n.prototype.ht=function(q,u,t,w){return new c(this.config,this.platform,this.qCa,this.userAgentData,q,u,this.Aa.df,t,this.Oa,this.Sxc,w);};v=n;b.Hra=v;b.Hra=v=r.__decorate([(0,g.W)(),r.__param(0,(0,g.l)(e.hh)),r.__param(1,(0,g.l)(l.rVa)),r.__param(2,(0,g.l)(h.Fq)),r.__param(3,(0,g.l)(k.fd)),r.__param(4,(0,g.l)(m.s5a)),r.__param(5,(0,g.l)(p.ws)),r.__param(6,(0,g.l)(a.yaa))],v);Ga.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.O$a || (this.O$a=(0,d.la)(this.qCa.encode(this.data).length));return this.O$a;}}});},74031:function(r,b,a){var n,d,g;function c(e){this.Pm=e;}Object.defineProperty(b,"__esModule",{value:!0});b.Ira=void 0;r=a(5163);n=a(22674);d=a(72574);a=a(33554);c.prototype.Odc=function(){var e;e=this.Pm()?this.Pm().Sl.length:40;return (0,d.la)(e + 33);};g=c;b.Ira=g;b.Ira=g=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.CB))],g);},74621:function(r,b,a){var n,d,g;function c(e){this.config=e;}Object.defineProperty(b,"__esModule",{value:!0});b.Jra=void 0;r=a(5163);n=a(22674);d=a(81829);g=a(72574);c.prototype.measure=function(e){var f;f=this;return e.map(function(l){return l.size.add(f.config.Odc());}).reduce(function(l,h){return l.add(h);},(0,g.la)(0));};a=c;b.Jra=a;b.Jra=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.KZa))],a);},74714:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v;function c(q,u,t,w){this.platform=q;this.config=u;this.Oa=t;this.userAgentData=w;this.z5a=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.Kra=void 0;r=a(5163);n=a(22674);d=a(81918);g=a(36129);e=a(91581);f=a(5021);l=a(4203);h=a(3887);k=a(22365);m=a(82956);p=a(75236);v=a(26388);c.prototype.At=function(q,u,t){t && (q.adlid=t.Nb,q.abitrate=t.bitrate);u && (q.vdlid=u.Nb,q.vbitrate=u.bitrate);};c.prototype.pjb=function(q,u,t){t?q=Object.assign(q,(0,m.k7b)(this.platform.fv,t)):q.errorcode=g.Y.Kq;q.errorcode === this.platform.fv + g.Y.T0a && (q.lastSyncWithVideoElement=this.getTime() - u.C7);};c.prototype.ujb=function(q,u){var t;try{Object.assign(q,(0,m.Fhb)());t=u.getBoundingClientRect();q.rendersize=t.width + "x" + t.height;q.renderpos=t.left + "x" + t.top;}catch(w){}};c.prototype.tjb=function(q,u){var t,w,x;t=u.Tc[v.u.V].value;w=u.Tc[v.u.X].value;x=u.hf.value;u=u.Ue.value;t && (q.cdnid=t.id,q.cdnname=t.name);w && (q.acdnid=w.id,q.acdnname=w.name);if(null === x || void 0 === x?0:x.stream)(q.adlid=x.stream.Nb,q.abitrate=x.stream.bitrate);if(null === u || void 0 === u?0:u.stream)(q.vdlid=u.stream.Nb,q.vbitrate=u.stream.bitrate,q.vheight=u.stream.height,q.vwidth=u.stream.width);};c.prototype.rjb=function(q,u,t){0 <= u.mediaTime.value && (u=t && !u.lb.yh?u.RR:u.mediaTime.value,q.moff=(0,h.Ip)(u),q.moffms=(0,h.xh)(u));};c.prototype.njb=function(q,u){u.sf && (q.pbcid=u.sf);u.de && (q.playbackcontextid=u.de);};c.prototype.DHa=function(q){var u,t;q.browserua=k.JJ;q.browseruad=null === (t=null === (u=k.xf.userAgentData) || void 0 === u?void 0:u.brands) || void 0 === t?void 0:t.map(function(w){return [w.brand,w.version];});q.browseruadpv=this.userAgentData.platformVersion.T3?this.userAgentData.platformVersion.version:this.userAgentData.platformVersion.reason;q.browserhref=location.href;(u=k.xf && k.xf.connection && k.xf.connection.type) && (q.nettype=u);};c.prototype.qT=function(q){var u,t,w,x,z;if(this.config().G0b){z=null === (u=null === k.xf || void 0 === k.xf?void 0:k.xf.connection) || void 0 === u?void 0:u.effectiveType;u=null === k.xf || void 0 === k.xf?void 0:k.xf.deviceMemory;z && (q.effectiveType=z);u && (q.deviceMemory=u);}(z=null === (t=null === k.xf || void 0 === k.xf?void 0:k.xf.connection) || void 0 === t?void 0:t.type) && (q.connectionType=z);t=null === (w=null === k.xf || void 0 === k.xf?void 0:k.xf.connection) || void 0 === w?void 0:w.downlink;"number" === typeof t && isFinite(t) && (q.downlink=t);w=null === (x=null === k.xf || void 0 === k.xf?void 0:k.xf.connection) || void 0 === x?void 0:x.rtt;"number" === typeof w && isFinite(w) && (q.rtt=w);};c.prototype.Cga=function(q,u){if(u=u.lb.Ho)(u.isUIAutoPlay && (q.isUIAutoPlay=!0),u.clLogId && (q.cl_log_id=u.clLogId));};c.prototype.rT=function(q,u,t,w){var x,z,y,A,B;x=this;if(t=t && t.streams){y=new Set();A=new Set();B=new Set();t.forEach(function(C){C=C.$d;y.add(C);A.add(C.replace(x.z5a,""));(C=C.match(x.z5a)) && 0 < C.length && B.add(C[1]);});q.videoProfiles=[].concat(xa(y));q.videoProfile=0 === A.size?"none":[].concat(xa(A))[0];q.videoProfileLevels=[].concat(xa(B));t && t.length && (q.isMcClearen=!!t[0].tj.find(function(C){return 0 <= C.toLowerCase().indexOf("mcclearen");}));}u && (null === (z=w.U) || void 0 === z?0:z.r8) && (q.videoProfilesStatus=this.Omb(w.U.r8));};c.prototype.Omb=function(q){return this.uec(q.eT(),function(u){return u.supported?!0:u.reason;});};c.prototype.uec=function(q,u){return Object.entries(q).reduce(function(t,w){var x;x=Ea(w);w=x.next().value;x=x.next().value;t[w]=u(x);return t;},{});};c.prototype.pT=function(q,u,t,w){var x,z;if(t=t && t.streams){z={};t.forEach(function(y){z[y.$d]=void 0;});q.audioProfiles=Object.keys(z);}u && (null === (x=w.U) || void 0 === x?0:x.e0) && (q.audioProfilesStatus=this.Omb(w.U.e0));};c.prototype.ojb=function(q){q.configversion=this.config().version;this.config().endpoint || (q.configendpoint="error");};c.prototype.getTime=function(){return this.Oa.$b().ia(f.pa);};a=c;b.Kra=a;b.Kra=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(e.ws)),r.__param(1,(0,n.l)(l.uc)),r.__param(2,(0,n.l)(d.fd)),r.__param(3,(0,n.l)(p.yaa))],a);},52025:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A,B,C,D;function c(E,F,G,J,N,I,M,K,L,H,O,P,Q,S,X,W,V,fa,ba,ca){this.nxb=E;this.Xg=F;this.gKa=G;this.mEa=J;this.$e=N;this.kea=I;this.Bf=M;this.config=K;this.Nd=L;this.Aa=H;this.Oa=O;this.platform=P;this.Nt=Q;this.DD=S;this.Xj=X;this.hD=W;this.iN=V;this.xc=fa;this.tH=ba;this.iA=ca;}Object.defineProperty(b,"__esModule",{value:!0});b.AJ=void 0;r=a(5163);n=a(87549);d=a(45118);g=a(74870);e=a(28185);f=a(94800);l=a(22674);h=a(98326);k=a(74098);m=a(30895);p=a(32934);v=a(4203);q=a(30869);u=a(81918);t=a(91581);w=a(31850);x=a(66476);z=a(52531);y=a(63368);A=a(34231);B=a(2160);C=a(21103);a=a(18647);c.prototype.create=function(E,F){return new k.NY(E,F,this.nxb,this.Xg,this.gKa,this.mEa,this.$e,this.kea,this.Bf,this.config,this.Nd,this.Aa,this.Oa,this.Nt,this.DD,this.Xj,this.hD,this.iN,this.xc,this.tH,this.iA);};D=c;b.AJ=D;b.AJ=D=r.__decorate([(0,l.W)(),r.__param(0,(0,l.l)(n.G4a)),r.__param(1,(0,l.l)(d.Jn)),r.__param(2,(0,l.l)(e.n_a)),r.__param(3,(0,l.l)(f.aqa)),r.__param(4,(0,l.l)(g.Wi)),r.__param(5,(0,l.l)(m.WVa)),r.__param(6,(0,l.l)(p.Ly)),r.__param(7,(0,l.l)(v.uc)),r.__param(8,(0,l.l)(x.UJ)),r.__param(9,(0,l.l)(q.hh)),r.__param(10,(0,l.l)(u.fd)),r.__param(11,(0,l.l)(t.ws)),r.__param(12,(0,l.l)(y.J$)),r.__param(13,(0,l.l)(w.NB)),r.__param(14,(0,l.l)(z.OJ)),r.__param(15,(0,l.l)(A.Fq)),r.__param(16,(0,l.l)(B.Gsa)),r.__param(17,(0,l.l)(h.Lra)),r.__param(18,(0,l.l)(C.Ny)),r.__param(19,(0,l.l)(a.jra))],D);},74098:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A,B,C,D,E,F,G,J,N;function c(I,M,K,L,H,O,P,Q,S,X,W,V,fa,ba,ca,ia,na,oa,T,Z,aa){var R;R=this;this.j=I;this.Fa=M;this.nxb=K;this.Xg=L;this.gKa=H;this.mEa=O;this.$e=P;this.kea=Q;this.Bf=S;this.config=X;this.Nd=W;this.Aa=V;this.Oa=fa;this.Nt=ba;this.DD=ca;this.Xj=ia;this.hD=na;this.iN=oa;this.xc=T;this.tH=Z;this.iA=aa;this.L7=[];this.rKa=this.XG=this.q6=0;this.aS=[];this.dza=!1;this.aw=function(Y){var ea,ka,ha,U,da,la,pa,va,sa,ua,ma,ra,wa,ya,za;ua={};try{ua={playdelaysdk:(0,k.xh)(R.j.x0()),applicationPlaydelay:(0,k.xh)(R.j.DAa()),playdelay:(0,k.xh)(R.j.EAa()),trackid:R.j.Bl,bookmark:(0,k.xh)(R.j.ao || 0),pbnum:R.j.index,endianness:(0,f.r5b)(),isStandaloneDisplay:R.config().dwb};R.config().O0b && (ua.transitiontime=R.j.No,ua.uiplaystarttime=R.j.lb.HI,ua.playbackrequestedat=R.j.rj.ia(m.pa),ua.clockgettime=R.getTime(),ua.clockgetpreciseepoch=R.Aa.df.ia(m.pa),ua.clockgetpreciseappepoch=R.Oa.CD.ia(m.pa),ua.absolutestarttime=R.j.VL(),ua.relativetime=R.j.zhb());ma=R.j.ca.Mc.value;ra=null === (ka=null === (ea=R.j.hf.value) || void 0 === ea?void 0:ea.stream) || void 0 === ka?void 0:ka.Nb;ua.audiotrackinfo=R.WL(ma,ra);ua.texttrackinfo=R.qM(R.j.ca.Ic.value);R.ifa(ua,"startplay");}catch(Aa){R.log.error("error in startplay log fields",Aa);}R.j.ej && (ua.blocked=R.j.ej);R.xc.ojb(ua);(0,x.dc)(R.j.z$a) && (ua.bookmarkact=(0,k.xh)(R.j.z$a));(ea=R.j.ce.at && R.j.ce.ats?R.j.ce.at - R.j.ce.ats:void 0) && (ua.nccpat=ea);(ea=R.j.ce.lr && R.j.ce.lc?R.j.ce.lr - R.j.ce.lc:void 0) && (ua.nccplt=ea);(ea=R.j.ce.lc && R.j.ce.lg?R.j.ce.lc - R.j.ce.lg:void 0) && (ua.lct=ea);(ea=R.wL()) && (ua.downloadables=ea);Ba._cad_global.device && (0,x.Zc)(Ba._cad_global.device.Hea) && (ua.esnSource=Ba._cad_global.device.Hea);(0,k.Re)(ua,R.Nt,{prefix:"pi_"});R.j.$q && R.j.$q.initBitrate && (ua.initvbitrate=R.j.$q.initBitrate);R.j.$q && R.j.$q.selector && (ua.selector=R.j.$q.selector);ua.fullDlreports=R.fzb;if(R.j.state.value >= w.qc.cf)try{wa=R.j.Fz();if(wa){R.maxBitrate=(0,f.O8)(wa.map(function(Aa){return Aa.bitrate;}));R.inb=(0,f.O8)(wa.map(function(Aa){return Aa.height;}));ya=0 < wa.length?(0,B.kib)(function(Aa,Ia){return Aa.height === Ia.height;},wa).map(function(Aa){return (0,z.Wmb)(Aa,function(Ia){return Ia.bitrate;});}):void 0;ua.maxbitrate=R.maxBitrate;ua.maxresheight=R.inb;}}catch(Aa){R.log.error("Exception computing max bitrate",Aa);}try{za=(0,f.bT)();za && (ua.pdltime=za);}catch(Aa){}try{(0,k.Re)(ua,R.j.ce,{prefix:"sm_"});(0,k.Re)(ua,R.j.fga(),{prefix:"vd_"});}catch(Aa){}Y && R.j.jy && (ua.pssh=R.j.jy);R.sjb(R.j,ua);ua.avtp=R.QO.Np().cRa;(null === (ha=R.j.cb) || void 0 === ha?0:ha.hC) && R.Bga(ua);if(R.j.ca.Ic.value)try{ua.ttTrackFields=R.j.ca.Ic.value.Ah;}catch(Aa){}ua.itsxheaac=MediaSource.isTypeSupported('audio/mp4; codecs="mp4a.40.42"');R.xc.pT(ua,!0,R.j.ca.Mc.value,R.Fa);R.xc.rT(ua,!0,R.j.ca.wj.value,R.Fa);R.j.U && (ua.packageId=R.j.U.Ca.hq);if(null === (U=R.j.U) || void 0 === U?0:U.Ca.Zs)ua.hasChoiceMap=!0;R.config().DDa && (ua.reusedManifest=null !== (la=null === (da=R.j.U) || void 0 === da?void 0:da.mSa) && void 0 !== la?la:!1);if(null === (sa=null === (va=null === (pa=R.j.U) || void 0 === pa?void 0:pa.Ca.tI) || void 0 === va?void 0:va.WV) || void 0 === sa?0:sa.N3)ua.isSteeringSticky=!0;R.ecc(ya);R.dcc();Y && (R.EHa(ua),R.GHa(ua));R.mjb(R.j,ua);R.wM(R.j,ua);R.xM(R.j,ua);R.uv(R.j,ua);R.PG(R.j,ua,R.dza);R.p3(R.j,ua);R.r$b(R.j,ua);R.FHa(ua);R.IHa(ua);R.xc.qT(ua);R.ljb(ua);R.xc.Cga(ua,R.Fa);R.HHa(ua);R.Ec(y.md.aw,Y,N.Me | N.zu | N.ek | N.Aw | N.fJ | N.a9 | N.pJ | N.ks,ua);};this.ny=function(Y,ea,ka){ea={playdelay:(0,k.xh)(Y),reason:ka,intrplayseq:R.XG - 1,skipped:ea};"repos" === ka && (ea.prstate=!0 === R.j.paused.value?"paused":"playing");R.oT(ea,d.Th.ny);R.xM(R.j,ea);R.uv(R.j,ea);R.Ec(y.md.ny,!1,N.Me | N.zu | N.ek,ea);"rebuffer" !== ka && "force_rebuffer" !== ka || R.j.qn.iOb(Number((0,k.xh)(Y)));};this.JC=function(Y,ea,ka,ha){Y={moff:(0,k.Ip)(ka),moffms:(0,k.xh)(ka),vbitrate:ea.bitrate,vbitrateold:Y.bitrate,vdlid:ea.Nb,vdlidold:Y.Nb,vheight:ea.height,vheightold:Y.height,vwidth:ea.width,vwidthold:Y.width,bw:ha};R.xM(R.j,Y);R.uv(R.j,Y);R.PG(R.j,Y);R.oT(Y,d.Th.JC);R.Ec(y.md.JC,!1,N.ek,Y);};this.UNa=function(Y,ea,ka){Y={moff:(0,k.Ip)(ka),moffms:(0,k.xh)(ka),vdlidold:Y.Nb,vbitrateold:Y.bitrate};R.xM(R.j,Y);R.uv(R.j,Y);R.PG(R.j,Y);R.xc.At(Y,ea,R.j.hf.value && R.j.hf.value.stream);R.oT(Y,d.Th.l6);R.Ec(y.md.l6,!1,N.ek,Y);};this.zMa=function(){var Y,ea;Y={waittime:(0,k.xh)(R.j.zhb()),abortedevent:"startplay",trackid:R.j.Bl,prstate:R.lD(),paustate:R.j.paused.value};R.ifa(Y,"endplay");R.oT(Y,d.Th.PU);R.hD.w1 && (Y.eventlist_version=1,Y.eventlist=R.iN.jhb(R.j));R.j.$q && R.j.$q.initBitrate && (Y.initvbitrate=R.j.$q.initBitrate);try{ea=(0,f.bT)();ea && (Y.pdltime=ea);(0,k.Re)(Y,R.j.ce,{prefix:"sm_"});}catch(ka){}R.BHa(Y);R.xc.Cga(Y,R.Fa);Y.itsxheaac=MediaSource.isTypeSupported('audio/mp4; codecs="mp4a.40.42"');R.xc.pT(Y,!1,R.j.ca.Mc.value,R.Fa);R.xc.rT(Y,!1,R.j.ca.wj.value,R.Fa);R.EHa(Y);R.xc.At(Y,R.j.Gf.value,R.j.Zh.value);R.sjb(R.j,Y);R.wM(R.j,Y);R.p3(R.j,Y);R.HHa(Y);R.GHa(Y);R.uv(R.j,Y);R.Ec(y.md.PU,!1,N.Me | N.ek | N.fJ | N.Aw | N.ks,Y);};this.yMa=function(Y,ea){Y={waittime:(0,k.xh)(Y),abortedevent:"resumeplay",resumeplayreason:ea};R.j.$q && R.j.$q.initBitrate && (Y.initvbitrate=R.j.$q.initBitrate);R.xc.At(Y,R.j.Gf.value,R.j.Zh.value);R.p3(R.j,Y);R.uv(R.j,Y);R.Ec(y.md.PU,!1,N.Me | N.ek | N.ks,Y);};this.qQa=function(Y,ea,ka){Y={newstate:ea?"Paused":"Playing",oldstate:Y?"Paused":"Playing",reason:ka};R.xM(R.j,Y);R.uv(R.j,Y);R.PG(R.j,Y);R.xc.At(Y,R.j.Ue.value && R.j.Ue.value.stream,R.j.hf.value && R.j.hf.value.stream);R.oT(Y,d.Th.r7);R.Ec(y.md.r7,!1,N.Me | N.ek,Y);};this.w3=function(Y,ea,ka){var ha,U;Y=(0,k.Re)({vdlid:R.j.Gf.value.Nb,playingms:Y,pausedms:ea,intrplayseq:R.XG++,prstate:R.lD(),paustate:R.j.paused.value},ka);R.ifa(Y,"intrplay");ea=R.j.Tc[C.u.V].value;ka=R.j.Tc[C.u.X].value;Y.cdnid=Y.vcdnid=ea && ea.id;Y.acdnid=ka && ka.id;Y.locid=R.U3 && R.U3.mJa;Y.loclv=R.U3 && R.U3.omb;Y.avtp=R.QO.Np().cRa;Y.mediabuffered=null === (ha=R.j.ie) || void 0 === ha?void 0:ha.nfa();Y.hidden=document.hidden;Y.volume=R.j.Jda;if(null === (U=R.j.cb) || void 0 === U?0:U.hC)(R.BHa(Y),R.Bga(Y),R.qjb(Y));try{(0,k.Re)(Y,R.j.fga(),{prefix:"vd_"});}catch(da){}R.xM(R.j,Y);R.uv(R.j,Y);R.PG(R.j,Y);R.xc.At(Y,R.j.Ue.value && R.j.Ue.value.stream,R.j.hf.value && R.j.hf.value.stream);R.Ec(y.md.w3,!1,N.Me | N.ek,Y);};this.eI=function(Y,ea,ka,ha){Y={moffold:(0,k.Ip)(Y),reposseq:R.q6++,prstate:R.lD(),paustate:R.j.paused.value};ha === w.yc.KX && (Y.reason="missing_segments");R.PG(R.j,Y);R.xc.At(Y,ka && ka.stream,ea && ea.stream);R.oT(Y,d.Th.eI);R.Ec(y.md.eI,!1,N.Me | N.ek,Y);};this.Rza=function(){var Y,ea,ka,ha;ea=R.WL(R.j.ca.Mc.value,R.j.Zh.value.Nb);ka=R.AD;ha=null === (Y=R.LIa) || void 0 === Y?void 0:Y.Nb;Y=R.WL(ka,ha);R.Ec(y.md.X9a,!1,N.Me | N.ek,{switchdelay:(0,k.xh)(R.getTime() - R.MIa),track:ea,oldtrack:Y});};this.l7=function(Y){R.Ec(y.md.awb,!1,N.Me | N.ek,{speedold:Math.floor(1E3 * Y.oldValue),speed:Math.floor(1E3 * Y.newValue)});};this.iW=function(){R.Ec(y.md.Fvc,!1,N.Me | N.ek,{track:R.j.ca.Ic.value.Ah});};this.nE=function(Y){var ea,ka;ka=R.j.ca.Ic.value;if(Y.newValue || ka && ka.bn() && !ka.am())(Y=null !== (ea=Y.newValue) && void 0 !== ea?ea:ka,ea=R.qM(Y),Y=R.qM(R.VIa),ea={switchdelay:(0,k.xh)(R.getTime() - R.UIa),track:ea,oldtrack:Y},R.xc.At(ea,R.j.Ue.value && R.j.Ue.value.stream,R.j.hf.value && R.j.hf.value.stream),R.Ec(y.md.vxb,!1,N.Me | N.ek,ea));};this.Us=function(Y){R.Ec(y.md.hRb,!1,N.Me | N.ek,Y.newValue);};this.YSb=function(Y,ea){var ka,ha;ka=ea.serverid;ha={locid:ea.location,loclv:ea.locationlv,selocaid:ka,selcdnid:ka,selocaname:ea.servername};ha.mediatype=ea.mediatype;ha.selreason=ea.selreason || "unknown";ha.seldetail=ea.seldetail;ha.cdnbwdata=JSON.stringify([{id:ka}]);Y && (ha.oldlocid=Y.mJa,ha.oldloclv=Y.omb,ha.oldocaid=Y.Yqc,ha.oldocaname=Y.X6);R.Ec(y.md.$$a,!1,N.a9,ha);};this.cdb=function(){var Y,ea,ka;if(R.j.rh)try{Y=!1;R.fzb || (Y=!0,R.aS=R.aS.filter(function(ha){return !ha.ta;}));if(0 < R.aS.length){ea=R.kea.construct(R.aS,R.j.rj.ia(m.pa));R.aS=[];ea.erroronly=Y;ka={};(0,k.wh)(ea,function(ha,U){ka[ha]=JSON.stringify(U);});R.Ec(y.md.f_b,!1,N.ek,ka);}}catch(ha){R.log.error("Exception in dlreport.",ha);}};this.lD=function(){var Y;Y=R.j.Ib.value;return Y === w.wb.yf?"playing":Y === w.wb.vi?"paused":Y === w.wb.uu?"ended":"waiting";};this.MD=function(){var Y,ea,ka;if(R.j.state.value == w.qc.cf){ka=R.D5();R.config().aOa && (ka.avtp=R.QO.Np().cRa,(null === (Y=R.j.cb) || void 0 === Y?0:Y.hC) && R.Bga(ka));ka.mediabuffered=null === (ea=R.j.ie) || void 0 === ea?void 0:ea.nfa();ka.midplayseq=R.rKa++;ka.prstate=R.lD();ka.paustate=R.j.paused.value;R.config().Sqc && R.Mwb("midplay");R.config().Nv && R.JHa(ka);R.FHa(ka);R.IHa(ka);R.uv(R.j,ka);R.xc.qT(ka);R.Ec(y.md.MD,!1,N.Me | N.ek | N.fJ | N.Aw,ka);}};this.Mwb=function(Y){var ea,ka;ea={};ea.trigger=Y;try{ka=R.j.hGa();ea.subtitleqoescore=R.j.Bq.k8b(ka);ea.metrics=JSON.stringify(R.j.Bq.zGa(ka));}catch(ha){R.log.error("error getting subtitle qoe data",ha);}R.Ec(y.md.Huc,!1,N.Me | N.fJ | N.zu,ea);};this.transition=function(Y){R.PG(R.j,Y);R.p3(R.j,Y);R.Ec(y.md.transition,!1,0,Y);};this.WOa=function(Y,ea){R.Ec(y.md.WOa,ea,0,Y);};this.Nz=function(Y){var ea,ka,ha,U,da,la,pa;ka=R.D5();R.ifa(ka,"endplay");ka.prstate=R.lD();ka.paustate=R.j.paused.value;ka.muted=R.j.muted.value;ka.isStandaloneDisplay=R.config().dwb;R.j.pE && "downloaded" === R.j.pE.eT() && (ka.trickplay_ms=R.j.Y7.offset,ka.trickplay_res=R.j.Y7.qtb);R.config().lzb && (ka.rtinfo=R.j.H7b());R.config().aOa && (null === (ea=R.j.cb) || void 0 === ea?0:ea.hC) && R.Bga(ka);ka.endreason=Y?"error":R.j.Ib.value === w.wb.uu?"ended":"stopped";(ea=R.Nt) && (0,k.Re)(ka,ea,{prefix:"pi_"});try{(0,k.Re)(ka,R.j.ce,{prefix:"sm_"});}catch(ua){}R.j.AHa && (ka.inactivityTime=R.j.AHa);R.BHa(ka);R.qjb(ka);if(R.j.Lca){ea=R.j.Lca;ha=R.config().xRb;U=R.j.loadTime;da={iv:ha,seg:[]};la=function(ua,ma,ra){return 0 === ma || void 0 === ra[ma - 1]?ua:ua - ra[ma - 1];};pa=ea.tQb.map(la);la=ea.uyc.map(la);for(var va,sa=0;sa < pa.length;sa++){if(pa[sa] || la[sa])va?(va.ams.push(pa[sa]),va.vms.push(la[sa])):va={ams:[ea.tQb[sa]],vms:[ea.uyc[sa]],soffms:ea.startTime + sa * ha - U};sa !== pa.length - 1 && pa[sa] && la[sa] || !va || (da.seg.push(va),va=void 0);}ka.bt=JSON.stringify(da);}Y && (R.EHa(ka),R.GHa(ka));R.Mwb("endplay");R.config().Nv && R.JHa(ka);R.xc.pT(ka,!1,R.j.ca.Mc.value,R.Fa);R.xc.rT(ka,!1,R.j.ca.wj.value,R.Fa);R.mjb(R.j,ka);R.wM(R.j,ka);R.xM(R.j,ka);R.PG(R.j,ka,R.dza);R.uv(R.j,ka);R.p3(R.j,ka);R.FHa(ka);R.IHa(ka);R.xc.qT(ka);R.t$b(ka);R.ljb(ka);R.v$b(ka);R.u$b(ka);R.y$b(ka);R.HHa(ka);R.z$b(ka);R.Ec(y.md.Nz,Y,N.Me | N.zu | N.ek | N.fJ | N.Aw | N.pJ | N.ks,ka);};this.n_b=function(Y){R.aS.push(R.kea.dVb(Y.response));};this.ej=function(){R.Ec(y.md.w$a,!1,N.Me | N.fJ | N.ks,{});};this.lUb=function(Y){var ea,ka;ea=Y.response.wo;Y=(0,m.bc)(ea.Fk);ka=(0,m.bc)(ea.$t);ea=(0,v.la)(ea.Nl || 0);ea.Kkb() || ea.mIa() || (Y=new q.dva(Y,ka),R.QO.aOb(new u.VVa(Y,ea)));};this.Tja=function(Y){var ea,ka,ha;ha=Y.newValue;Y.jj && Y.jj.EH && ha && (null === (ea=Y.jj) || void 0 === ea || !ea.reason) || ha == R.TM || (R.qQa(R.TM,ha,null === (ka=Y.jj) || void 0 === ka?void 0:ka.reason),R.TM=ha);};this.EC=function(Y){function ea(ka){var ha;if(R.j.Fb && R.j.Fb.sourceBuffers){ha=R.j.Fb.sourceBuffers.filter(function(U){return U.type === ka;}).pop();if(ha)return {busy:ha.Ei(),updating:ha.updating(),ranges:ha.ofa()};}}Y={cause:Y.Mb};Y.cause && Y.cause === e.nua && (Y.mediaTime=R.j.mediaTime.value,Y.buf_audio=ea(g.i$),Y.buf_video=ea(g.RY));R.w3(R.L7[w.wb.yf] || 0,R.L7[w.wb.vi] || 0,Y);};this.Nxb=function(Y){var ea;Y=Y.oldValue;ea=R.getTime();Y === w.wb.og?R.L7=[]:R.L7[Y]=(R.L7[Y] || 0) + (ea - R.pcc);R.pcc=ea;};this.$n=function(Y){R.MIa=R.getTime();R.AD=Y.oldValue;};this.Bn=function(Y){R.UIa=R.getTime();R.VIa=Y.oldValue;};this.f0=function(Y){R.LIa=Y.oldValue;};this.i4=function(Y){function ea(ka,ha){var U;if(!ka || ka.mJa !== ha.location){U={mJa:ha.location,omb:ha.locationlv,Yqc:ha.serverid,X6:ha.servername};R.YSb(ka,ha);return U;}}if("audio" === Y.mediatype){if(Y=ea(R.hcc,Y))R.hcc=Y;}else if(Y=ea(R.U3,Y))R.U3=Y;};this.W6=function(Y){var ea,ka;ea=Y.mediatype;ka=Y.reason;"video" === ea?"serverswitchaway" === ka?(R.Lk.summary.Ozb++,R.Lk.Eha=R.Aa.df.ia(m.pa)):"serverswitchback" === ka && (R.Lk.summary.Pzb++,R.Lk.Eha && (R.Lk.summary.Qzb.push(R.Aa.df.ia(m.pa) - R.Lk.Eha),R.Lk.Eha=void 0)):"audio" === ea && ("serverswitchaway" === ka?(R.Lk.summary.J9a++,R.Lk.xha=R.Aa.df.ia(m.pa)):"serverswitchback" === ka && (R.Lk.summary.K9a++,R.Lk.xha && (R.Lk.summary.L9a.push(R.Aa.df.ia(m.pa) - R.Lk.xha),R.Lk.xha=void 0)));R.Ec(y.md.$qc,!1,N.Me | N.ek,{mediatype:Y.mediatype,server:Y.server,selreason:Y.reason,location:Y.location,bitrate:Y.bitrate,confidence:Y.confidence,throughput:Y.throughput,oldserver:Y.oldserver});};this.RK=function(Y){R.Ec(y.md.QPb,!1,N.ek,{strmsel:Y.strmsel});};this.Oha=function(Y){Y=n.__rest(Y,["type"]);R.uv(R.j,Y);R.Ec(y.md.Sha,!1,N.Me | N.zu,Y);};this.Nha=function(Y){var ea,ka,ha,U;ea=Y.mediaType;ka=Y.current;ha=Y.Bo;U=Y.XOa;Y=Y.Nb;ea={mediatype:(0,F.vH)(ea),curr:{enc:ka.pG,origin:ka.nG},prev:{enc:ha.pG,origin:ha.nG},segmentnumber:U,dlid:Y};R.uv(R.j,ea);R.Ec(y.md.vdc,!1,N.Me,ea);};this.cW=function(Y){Y=Object.assign({},Y);Y.details && (Y.details=JSON.stringify(Y.details));R.Ec(y.md.Guc,!0,N.Me | N.zu | N.a9,Y);};this.dza=ia.kSa || ia.Vma || ia.tfb;this.QO=K();this.log=(0,l.lj)(I,"LogblobBuilder");this.TM=I.paused.value;this.Ea=this.Fa.Ea;this.Lk={summary:{Ozb:0,Pzb:0,Qzb:[],J9a:0,K9a:0,L9a:[]},Eha:void 0,xha:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.NY=void 0;n=a(5163);d=a(45247);g=a(33096);e=a(13044);f=a(52569);l=a(31276);h=a(45146);k=a(3887);m=a(5021);p=a(36129);v=a(72574);q=a(74267);u=a(70826);t=a(22365);w=a(85001);x=a(32687);z=a(79342);y=a(18169);A=a(32573);B=a(45266);C=a(26388);D=a(30873);E=a(79542);F=a(45247);G=a(82100);J=a(24735);c.prototype.sjb=function(I,M){var K,L,H,O,P,Q,S,X,W,V,fa,ba,ca,ia,na,oa,T;if(this.config().Nv)try{K={};L=this.Nd.getStats(void 0,void 0,I.P);H=I.VL();O=L.PO.xUb || [];K.attempts=L.rka || 0;K.num_completed_tasks=O.length;P=this.$e.l2b;Q={};S=A.On.dW;X=A.On.gv;W=A.On.MAa;L.Um && (Q.scheduled=L.Um - H);V=I.U;V && (0,x.dc)(V.bO) && (Q.preauthsent=V.bO - I.loadTime,Q.preauthreceived=V.pV - I.loadTime);fa=O.filter(function(Z){return "manifest" === Z.type;});K.mf_succ=fa.filter(P("status",S)).length;K.mf_fail=fa.filter(P("status",X)).length;ba=I.ce;(0,x.Zc)(ba.lg) && 0 > ba.lg && I.loadTime && (Q.ldlsent=ba.lc,Q.ldlreceived=ba.lr);ca=O.filter(function(Z){return "license" === Z.type;});K.ldl_succ=ca.filter(P("status",S)).length;K.ldl_fail=ca.filter(P("status",X)).length;L=!0;H=[];"notcached" === I.YK && (L=!1,H.push("Missing cached manifest"));this.config().t1 || (L=!1,H.push("LDL prefetch disabled"));ia=ca.filter(P("status",W)).length;this.config().t1 && 0 === ia && (!Q.ldlreceived || 0 <= Q.ldlreceived) && (L=!1,H.push("LDL received after start"));if(this.config().Pdb)if(M.isPrefetchItem){na=M.prefetchedAudioMs / M.bcABufferLevelMs;if(1 > M.prefetchedVideoMs / M.bcVBufferLevelMs || 1 > na)(L=!1,H.push("Insufficient media fetched"));}else (L=!1,H.push("aseStats not initialized"));oa=O.filter(function(Z){return "getHeaders" === Z.type;});K.header_succ=oa.filter(P("status",S)).length;K.header_fail=oa.filter(P("status",X)).length;T=O.filter(function(Z){return "getMedia" === Z.type;});K.media_succ=T.filter(P("status",S)).length;K.media_fail=T.filter(P("status",X)).length;K.hm_succ=K.header_succ + K.media_succ;K.hm_fail=K.header_fail + K.media_fail;(0,k.Re)(M,K,{prefix:"pr_"});this.hD.w1 && (M.eventlist_version=1,M.eventlist=this.iN.jhb(I));(M.prefetchCompleted=L) || (M.prefetchFailed=H,(0,k.Re)(M,Q,{prefix:"pe_"}));this.JHa(M);}catch(Z){this.log.warn("error in collecting video prepare data",Z);}};c.prototype.WL=function(I,M){return I?{trackId:I.trackId,bcp47:I.rg,downloadableId:M,rank:I.Fc,chan:I.channels}:{};};c.prototype.qM=function(I){return I?{trackId:I.trackId,bcp47:I.rg,downloadableId:I.Nb,rank:I.Fc,isImageBased:I.ro,profile:I.profile}:{};};c.prototype.Q7b=function(I,M){if(I=I.k2())if(M=I[M])return M.rb;};c.prototype.mjb=function(I,M){I.lb.yh && (M.isBranching=!0);};c.prototype.wM=function(I,M){M.cachedManifest=I.YK;M.cachedLicense=I.XK.source;M.usedldl=this.config().t1?(I.XK.type === J.Xo.MB).toString():"not_capable";};c.prototype.xM=function(I,M){var K,L;if(this.config().x$b){K=I.iGa();L=I.ea.U;K && L && (M.segment=K,L=I.DG(),M.segmenttime=L,I=this.Q7b(I,K),null !== L && void 0 !== I && (M.segmentoffset=L - I));}};c.prototype.PG=function(I,M,K){M.pxid=I.lka;(void 0 === K?0:K) && (M.playgraph_trace=I.grb);};c.prototype.p3=function(I,M){M.hasContentPlaygraph=I.jga();};c.prototype.r$b=function(I,M){var K,L;if(I.jga()){K=I.cG;L=I.U.Ca.Cp.Z;M.auxViewables=Object.keys(L.ba).map(function(H){return L.ba[H].N;}).filter(function(H,O,P){return H !== K && P.indexOf(H) === O;});}};c.prototype.qjb=function(I){var M,K;M=this.j.OJc;K=M && M.Ioc;M && M.X9b && (I.htwbr=M.X9b,I.pbtwbr=M.iMc,I.hptwbr=M.TJc);M && M.Mpc && (I.rr=M.Mpc,I.ra=M.AMc);M && K && 0 < (K.length || 0) && (I.qe=JSON.stringify(K));};c.prototype.EHa=function(I){var M,K,L;try{M=this.$e.createElement("canvas");K=M.getContext("webgl") || M.getContext("experimental-webgl");if(K){L=K.getExtension("WEBGL_debug_renderer_info");L && (I.WebGLRenderer=K.getParameter(L.UNMASKED_RENDERER_WEBGL),I.WebGLVendor=K.getParameter(L.UNMASKED_VENDOR_WEBGL));}}catch(H){}};c.prototype.y$b=function(I){I.switchAwaySummary={vsa:this.Lk.summary.Ozb,vsb:this.Lk.summary.Pzb,vsbt:this.Lk.summary.Qzb,asa:this.Lk.summary.J9a,asb:this.Lk.summary.K9a,asbt:this.Lk.summary.L9a};};c.prototype.WKb=function(I){var M;M=[];return I?Object.keys(I).map(function(K){return +K;}):M;};c.prototype.wL=function(){var I,M;I=this;if(this.j.pB && this.j.Jj){M=[];this.j.pB.concat(this.j.Jj).forEach(function(K){K.streams.forEach(function(L){M.push({dlid:L.Nb,type:L.type,bitrate:L.bitrate,vmaf:L.Gb,cdn_ids:I.WKb(L.kDa)});});});return JSON.stringify(M);}};c.prototype.XSb=function(){var M,K,L;function I(H,O){var P,Q,S;P=H.cdnId + "$" + H.correlationId;Q=L[P];Q || (Q={cdnid:H.cdnId,pbcid:H.correlationId,dls:[]},L[P]=Q,K.push(Q));(0,h.WR)(H.bitrate);(0,h.WR)(H.duration);P={bitrate:H.bitrate,tm:(0,t.Hq)(H.duration)};S=H.vmaf;S && ((0,h.WR)(H.vmaf),P.vf=S);P[O]=(0,k.Ck)(H.downloadableId);Q.dls.push(P);}M=this.j.qn.r4b();K=[];L={};M.audio.forEach(function(H){I(H,"adlid");});M.video.forEach(function(H){I(H,"dlid");});return JSON.stringify(K);};c.prototype.D5=function(){var I,M,K,L,H,O,P,Q,S,X,W,V,fa;I=this.j.qn;M={totaltime:(0,k.Ip)(I.tt("content")),totalcontenttime:(0,k.Ip)(I.U2("content")),totaladtime:(0,k.Ip)(I.tt("ads")),totalothertime:(0,k.Ip)(I.tt("other")),cdndldist:this.XSb(),reposcount:this.q6,intrplaycount:this.XG};try{K={numskip:0,numlowqual:0};L=this.j.ie;H=L.yx();(0,x.dc)(H) && (M.totfr=H,K.numren=H);H=L.bM();(0,x.dc)(H) && (M.totdfr=H,K.numrendrop=H);H=L.o2();(0,x.dc)(H) && (M.totcfr=H,K.numrenerr=H);M.playqualvideo=JSON.stringify(K);O=this.j.Gf.value;O && (M.videofr=O.framerate.toFixed(3));P=I.kFa();P && (M.abrdel=P);Q=I.rga() && I.Rfb();Q && (M.tw_vmaf=Q);S=I.Pfb();S && (0,k.Re)(M,S);M.rbfrs=this.XG;M.maxbitrate=this.maxBitrate;M.maxresheight=this.inb;X=this.j.IG();for(I=0;I < X.length;I++){W=X[I];V=this.Fa.bU.fE(W);if(V){(0,h.oa)(fa);M.maxbitrate=fa?fa.bitrate:0;M.maxresheight=fa?fa.height:0;M.bitratefilters=V.join("|");break;}fa=W;}this.j.pE && (M.trickplay=this.j.pE.eT());null !== this.j.Bq.h$a && (M.avg_subt_delay=this.j.Bq.h$a);}catch(ba){this.log.error("Exception reading some of the endplay fields",ba);}(0,k.Re)(M,this.j.fga(),{prefix:"vd_"});return M;};c.prototype.getTime=function(){return this.Oa.$b().ia(m.pa);};c.prototype.rGa=function(){return this.getTime() - this.Fa.rj.ia(m.pa);};c.prototype.JHa=function(I){var M;try{M=this.Nd.getStats();I.pr_cache_size=JSON.stringify(M.cache);I.pr_stats=JSON.stringify(M.L3b);}catch(K){}};c.prototype.FHa=function(I){this.log.debug("httpstats",this.Bf.ng);(0,k.Re)(I,this.Bf.ng,{prefix:"http_"});};c.prototype.uv=function(I,M){I=I.zd;I.fa && (M.intenttoplayatedge=I.c3(),I=I.BG(),M.livestage=this.j6b(I));};c.prototype.j6b=function(I){switch(I){case D.tw.pZ:case D.tw.lra:case D.tw.Ipa:return I.toLowerCase();default:return (0,E.wS)(I);}};c.prototype.BHa=function(I){var M,K,L;M=this.config().wcb && !(this.Ea % this.config().wcb);K=this.j.cb;L=null === K || void 0 === K?void 0:K.aj;M && L && (I.ASEstats=JSON.stringify(K.Wjb()));};c.prototype.Bga=function(I){Object.assign(I,this.j.cb.Wc.r8b());};c.prototype.IHa=function(I){var M;try{M=t.Qy.memory;(0,x.Ikb)(M) && (I.totalJSHeapSize=M.totalJSHeapSize,I.usedJSHeapSize=M.usedJSHeapSize,I.jsHeapSizeLimit=M.jsHeapSizeLimit);}catch(K){}};c.prototype.ljb=function(I){var M;try{if(this.config().B0){M=this.j.y4b();I.battery=M;this.log.trace("batterystatuses",M);}}catch(K){}};c.prototype.t$b=function(I){this.j.Pda && (I.dqec=this.j.Pda);};c.prototype.HHa=function(I){var M,K,L;(null === (M=this.j.bg) || void 0 === M?0:M.w2)?I.keySystem=this.j.bg.w2():(null === (L=null === (K=this.j.bg) || void 0 === K?void 0:K.mediaKeys) || void 0 === L?0:L.keySystem)?I.keySystem=this.j.bg.mediaKeys.keySystem:this.tH.flb && (I.keySystem=this.tH.flb);I.keySystem && (I.keysys=I.keySystem);this.tH.klb && (I.keySystemStatuses=this.oec(this.tH.klb));0 < this.iA.ilb.length && (I.keySystemRestrictions=this.iA.ilb);0 < Object.keys(this.iA.jlb).length && (I.keySystemRestrictionsDebug=this.iA.jlb);0 < Object.keys(this.iA.hlb).length && (I.keySystemRestrictionReasons=this.iA.hlb);};c.prototype.oec=function(I){var M;M=this;return I.reduce(function(K,L){var H;H=(0,G.ibb)(L.vha);K[H]=M.sec(L.status);return K;},{});};c.prototype.sec=function(I){return I.supported?!0:I.reason;};c.prototype.GHa=function(I){var M;if(null === (M=this.j.bg) || void 0 === M?0:M.Ggb)I.keystatus=this.j.bg.JIa;};c.prototype.u$b=function(I){this.lEa && (I.externaldisplay=this.lEa.yS);};c.prototype.v$b=function(I){var M,K;if(this.sSa){M=this.sSa.map(function(L){return L.Rf;}).filter(function(L){return void 0 !== L;});K=(0,z.Wmb)(M,function(L){return L.height;});K && (I.media_capabilities_smooth=K.smooth,I.media_capabilities_efficient=K.powerEfficient,I.media_capabilities_bitrate=K.bitrate,I.media_capabilities_height=K.height,I.media_capabilities_width=K.width);I.media_capabilities=M.map(function(L){return {smooth:L.smooth,efficient:L.powerEfficient,bitrate:L.bitrate,height:L.height,width:L.width};});}};c.prototype.z$b=function(I){I.didHydrateTracks=this.j.dea;};c.prototype.dcc=function(){void 0 === this.lEa && (this.lEa=this.mEa.f2b());};c.prototype.ecc=function(I){var M;M=this;void 0 === this.sSa && void 0 !== I && (this.sSa=I.map(function(K){return M.gKa.uEa(K);}));};c.prototype.ifa=function(I,M){(M=this.j.YS(M)) && Object.entries(M).forEach(function(K){var L;L=Ea(K);K=L.next().value;L=L.next().value;I[K]=L;});};c.prototype.oT=function(I,M){var K;(M=null === (K=this.j.cb) || void 0 === K?void 0:K.Jfa(void 0,M)) && Object.entries(M).forEach(function(L){var H;H=Ea(L);L=H.next().value;H=H.next().value;I[L]=H;});};c.prototype.Ec=function(I,M,K,L){var H,O;O=M?"error":"info";M && this.j.Di && (0,p.A9)(this.j.Di.errorCode,this.j.Di.Ja,this.rGa(),null === (H=this.j.ie) || void 0 === H?void 0:H.yx()) && (O="info");this.j.lH.Mdc(I) || (this.Qya(L,this.j,M,K),I=this.DD.ht(I,O,L,this.Fa),this.Xg.Ec(I));};c.prototype.s$b=function(I,M){var K,L;L=null === (K=M.cb) || void 0 === K?void 0:K.uYb;L && (null === L || void 0 === L?void 0:L.N) !== M.cG && (I.auxMid || (I.auxMid=L.N),I.auxPlaybackcontextid || (I.auxPlaybackcontextid=M.$l(L.N).de));};c.prototype.Qya=function(I,M,K,L){var H,O,P,Q,S,X,W;this.xc.njb(I,M);this.s$b(I,M);L & N.Me && ((0,h.oa)(!I || void 0 === I.moff),this.xc.rjb(I,M,M.jga()));L & N.zu && this.xc.tjb(I,M);L & N.ek && (null === (H=M.cb) || void 0 === H?0:H.aj) && (I.abuflbytes=null !== (O=I.abuflbytes) && void 0 !== O?O:M.Lza(),I.abuflmsec=null !== (P=I.abuflmsec) && void 0 !== P?P:M.c0(),I.vbuflbytes=null !== (Q=I.vbuflbytes) && void 0 !== Q?Q:M.qSa(),I.vbuflmsec=null !== (S=I.vbuflmsec) && void 0 !== S?S:M.p8(),I.tbuflbytes=null !== (X=I.tbuflbytes) && void 0 !== X?X:M.nvc(),I.tbuflmsec=null !== (W=I.tbuflmsec) && void 0 !== W?W:M.ovc());L & N.Aw && this.xc.ujb(I,M.lm);L & N.fJ && (H=t.xf.hardwareConcurrency,0 <= H && (I.numcores=H),H=this.Fa.qDa) && (O=H.lFa(),I.droppedFrames=JSON.stringify(O),H=H.H2(this.config().G_b),(0,k.wh)(H,function(V,fa){I["droppedFramesP" + V]=JSON.stringify(fa);}));if(L & N.a9)try{M.rh && (I.cdninfo=JSON.stringify(M.rh.map(function(V){return {id:V.id,nm:V.name,rk:V.Fc,wt:V.location.weight,lv:V.location.level};})));}catch(V){}K && L & N.pJ && ((0,h.oa)(M.Di),this.xc.pjb(I,M,M.Di));L & N.ks && this.xc.DHa(I);};Ga.Object.defineProperties(c.prototype,{fzb:{configurable:!0,enumerable:!0,get:function(){return this.j.lG || this.j.hS;}}});b.NY=c;(function(I){I[I.Me=1]="MOFF";I[I.zu=2]="PRESENTEDSTREAMS";I[I.ek=4]="BUFFER";I[I.Aw=8]="SCREEN";I[I.fJ=16]="CPU";I[I.a9=32]="CDN";I[I.pJ=64]="FATALERROR";I[I.ks=128]="BROWSERINFO";})(N || (N={}));},26158:function(r,b,a){var n,d,g,e,f,l,h;function c(k,m,p,v,q){this.Xg=k;this.config=m;this.Aa=p;this.Oa=v;this.tJa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.BJ=void 0;r=a(5163);n=a(45118);d=a(22674);g=a(98326);e=a(4203);f=a(30869);l=a(81918);h=a(99400);c.prototype.create=function(k,m,p,v){var q;q=this.tJa.create(k,m);return new h.PY(k,m,p,v,this.Xg,this.config,this.Oa,q);};a=c;b.BJ=a;b.BJ=a=r.__decorate([(0,d.W)(),r.__param(0,(0,d.l)(n.Jn)),r.__param(1,(0,d.l)(e.uc)),r.__param(2,(0,d.l)(f.hh)),r.__param(3,(0,d.l)(l.fd)),r.__param(4,(0,d.l)(g.MY))],a);},99400:function(r,b,a){var n,d,g,e,f;function c(l,h,k,m,p,v,q,u){var t;t=this;this.j=l;this.Fa=h;this.nM=m;this.Xg=p;this.config=v;this.Oa=q;this.Za=u;this.iH=function(w,x){return function(z){var y;y=x(z);if("number" !== typeof y)throw Error("Event " + JSON.stringify(z) + " does not have movie Id");y === t.P && w(z);};};this.Mmb=this.iH(function(w){t.Yla(w.EM);},function(w){return w.P;});this.Kmb=this.iH(function(){t.D0();},function(w){return w.P;});this.Qab=this.iH(function(){t.D0();},function(w){return w.movieId;});this.XAa=this.iH(function(){t.j.Ib.value === e.wb.yf && (t.j.Ib.removeListener(t.XAa),t.dy());},function(){return t.j.P;});this.nE=function(w){t.Pt && t.Za.nE(w);};this.Vab=this.iH(this.Za.lUb,function(w){return w.P;});this.kdb=this.iH(this.Za.n_b,function(w){return w.P;});this.lmb=this.iH(this.Za.i4,function(w){return t.j.wk(w.segmentId).P;});this.Jub=this.iH(this.Za.W6,function(w){return t.j.wk(w.segmentId).P;});this.sl=function(w){w.skip && (t.BO=!0);switch(w.Mb){case e.yc.Bu:case e.yc.WP:case e.yc.yZ:case e.yc.KX:case e.yc.Wra:t.uV && t.fs && t.Za.yMa(t.getTime() - t.fs,t.uV);t.uV="repos";t.Za.eI(w.kLa,w.hf,w.Ue);t.fs=t.getTime();(0,g.Rg)(t.Bz);break;case e.yc.D9:t.uV="force_rebuffer";t.fs=t.getTime();(0,g.Rg)(t.Bz);break;case e.yc.PJ:case e.yc.Wo:break;default:return (0,f.wS)(w.Mb);}};this.$n=function(w){t.AD=w.oldValue;t.Za.$n(w);};this.Bz=function(){var w;if(t.fs && t.j.Ib.value !== e.wb.og){w=t.getTime() - t.fs;t.Za.ny(w,t.BO,t.uV);t.AD && t.AD != t.j.ca.Mc.value && t.Za.Rza();t.fs=void 0;t.uV=void 0;t.BO=void 0;}};this.dy=function(){t.Pt || (t.Pt=!0,t.Za.aw(!1),t.MHa(),t.config().Iga && (t.sD=Ba.setTimeout(function(){t.Xg.flush(!1).catch(function(){return t.log.warn("failed to flush log batcher on initialLogFlushTimeout");});t.sD=void 0;},t.config().Iga)));};this.sg=function(){t.sD && (Ba.clearTimeout(t.sD),t.sD=void 0);if(t.rfb() || t.config().b0)(t.jDa && (Ba.clearInterval(t.jDa),t.jDa=void 0),t.Za.cdb());t.c8 && t.c8();t.Pt?t.Za.Nz(!!t.j.Di):t.j.Di?t.Za.aw(!0):t.Fa.background.value || t.Za.zMa();};this.t8=function(w){w.oldValue && w.jj && w.jj.$K && t.Za.JC(w.oldValue,w.newValue,w.jj.$K,w.jj.m0);};this.N5=function(w){var x;if(w.newValue){x=w.newValue.stream;t.UM != x && (t.UM && x && t.Za.UNa(t.UM,x,t.nM(w.newValue.AR.startTime)),t.UM=x);}};this.P=h.P;this.log=(0,n.lj)(l,"LogblobBuilder");this.Pb();k && this.Yla();}Object.defineProperty(b,"__esModule",{value:!0});b.PY=void 0;n=a(31276);d=a(5021);g=a(32219);e=a(85001);f=a(79542);c.prototype.Pb=function(){this.j.addEventListener(e.da.nA,this.Mmb);this.j.addEventListener(e.da.KJa,this.Kmb);this.j.addEventListener(e.da.i4,this.lmb);this.j.addEventListener(e.da.W6,this.Jub);this.j.addEventListener(e.da.sg,this.Qab);if(this.rfb() || this.config().b0)(this.j.addEventListener(e.da.uL,this.kdb),this.jDa=Ba.setInterval(this.Za.cdb,this.config().r_b));this.config().aOa && this.j.addEventListener(e.da.uL,this.Vab);};c.prototype.Yla=function(l){var h;h=this;this.Wnb || (this.j.Ib.value !== e.wb.yf || (void 0 === l?0:l)?this.j.Ib.addListener(this.XAa):this.dy(),this.j.Gj.addListener(this.nE),this.j.ca.Ic.addListener(this.Za.Bn),this.j.ca.Mc.addListener(this.$n),this.j.Zh.addListener(this.Za.f0),this.j.paused.addListener(this.Za.Tja),this.j.Ue.addListener(this.N5),this.j.Ib.addListener(this.Bz),this.j.Ib.addListener(this.Za.Nxb),this.j.Gf.addListener(this.t8),this.j.playbackRate.addListener(this.Za.l7),this.j.addEventListener(e.da.ej,this.Za.ej),this.j.addEventListener(e.da.RK,this.Za.RK),this.j.addEventListener(e.da.Oha,this.Za.Oha),this.j.addEventListener(e.da.Nha,this.Za.Nha),this.j.addEventListener(e.da.cW,this.Za.cW),this.j.addEventListener(e.da.EC,function(k){h.uV="rebuffer";h.Za.EC(k);h.fs=h.getTime();(0,g.Rg)(h.Bz);}),this.j.addEventListener(e.da.sl,this.sl),this.j.addEventListener(e.da.iW,this.Za.iW),this.Fa.Us && this.Fa.Us.addListener(this.Za.Us),this.Wnb=!0);};c.prototype.D0=function(){this.sg();this.Wnb && (this.j.removeEventListener(e.da.nA,this.Mmb),this.j.removeEventListener(e.da.KJa,this.Kmb),this.j.removeEventListener(e.da.i4,this.lmb),this.j.removeEventListener(e.da.W6,this.Jub),this.j.Gj.removeListener(this.nE),this.j.ca.Ic.removeListener(this.Za.Bn),this.j.ca.Mc.removeListener(this.$n),this.j.Zh.removeListener(this.Za.f0),this.j.paused.removeListener(this.Za.Tja),this.j.Ue.removeListener(this.N5),this.j.Ib.removeListener(this.Bz),this.j.Ib.removeListener(this.XAa),this.j.Ib.removeListener(this.Za.Nxb),this.j.Gf.removeListener(this.t8),this.j.playbackRate.removeListener(this.Za.l7),this.j.removeEventListener(e.da.sg,this.Qab),this.j.removeEventListener(e.da.ej,this.Za.ej),this.j.removeEventListener(e.da.RK,this.Za.RK),this.j.removeEventListener(e.da.cW,this.Za.cW),this.j.removeEventListener(e.da.EC,this.Za.EC),this.j.removeEventListener(e.da.sl,this.sl),this.j.removeEventListener(e.da.iW,this.Za.iW),this.Fa.Us && this.Fa.Us.removeListener(this.Za.Us),this.j.removeEventListener(e.da.uL,this.kdb),this.j.removeEventListener(e.da.uL,this.Vab));};c.prototype.getTime=function(){return this.Oa.$b().ia(d.pa);};c.prototype.MHa=function(){var l,h,k;l=this;k=[];this.config().Dnb && (this.config().Enb.forEach(function(m){k.push(Ba.setTimeout(l.Za.MD,m));}),this.config().sia && (h=Ba.setInterval(this.Za.MD,this.config().sia)),this.c8=function(){k.forEach(function(m){Ba.clearTimeout(m);});h && Ba.clearInterval(h);});};c.prototype.rfb=function(){var l,h,k;k=null === (h=null === (l=this.Fa.U) || void 0 === l?void 0:l.Ca.tI) || void 0 === h?void 0:h.jma;if(void 0 !== k && void 0 !== k.downloadReportDenominator)try{return parseInt(k.downloadReportDenominator,10);}catch(m){this.log.error("Unable to parse manifest config override:" + k.downloadReportDenominator);}return this.config().ndb;};b.PY=c;},33345:function(r,b,a){var d,g,e,f,l,h,k,m,p,v,q;function c(u,t,w,x,z,y,A,B){this.Oa=u;this.platform=w;this.Pm=x;this.json=z;this.Si=y;this.Oh=A;this.Sdc=B;(0,g.Ft)(this,"json");this.qa=t.fb("LogblobSender");}function n(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Mra=void 0;r=a(5163);d=a(22674);g=a(66523);e=a(63368);f=a(5021);l=a(74870);h=a(81918);k=a(91581);m=a(33554);p=a(87386);v=a(40953);a=a(7605);c.prototype.send=function(u){var t;t=this;return new Promise(function(w,x){var z;try{z=u.reduce(function(y,A){y.entries.push(t.yXb(A));return y;},new n());w(t.V3b(z));}catch(y){t.qa.error(y.message);x(y);}}).then(function(w){return t.dPa(w);});};c.prototype.yXb=function(u){return this.Si.kN(this.Si.kN({},u.data),{esn:this.Pm().Sl,sev:u.severity,type:u.type,lver:this.platform.rJa,jssid:this.Oa.id,devmod:this.platform.fG,jsoffms:u.timestamp.ka(this.Oa.CD).ia(f.pa),clienttime:u.timestamp.ia(f.pa),client_utc:u.timestamp.ia(f.Jq),uiver:this.Oh.lB});};c.prototype.V3b=function(u){var t;t=this;try{return this.json.stringify(u);}catch(z){for(var w={},x=0;x < u.entries.length;(w={RW:w.RW,Ey:w.Ey},++x)){w.Ey=Object.assign({},u.entries[x]);try{this.json.stringify(w.Ey);}catch(y){w.RW=void 0;this.Si.rG(w.Ey,(function(A){return function(B,C){try{t.json.stringify(C);}catch(D){A.RW=D.message;A.Ey[B]=A.RW;}};})(w));w.Ey.stringifyException=w.RW;w.Ey.originalType=w.Ey.type;w.Ey.type="debug";w.Ey.sev="error";}}return this.json.stringify(u);}};c.prototype.dPa=function(u){var t;t=this;return this.Sdc.ef({log:this.qa},{logblobs:u}).then(function(){!1;}).catch(function(w){t.qa.error("PBO logblob failed",w);return Promise.reject(w);});};q=c;b.Mra=q;b.Mra=q=r.__decorate([(0,d.W)(),r.__param(0,(0,d.l)(h.fd)),r.__param(1,(0,d.l)(p.kb)),r.__param(2,(0,d.l)(k.ws)),r.__param(3,(0,d.l)(m.CB)),r.__param(4,(0,d.l)(e.wJ)),r.__param(5,(0,d.l)(l.Wi)),r.__param(6,(0,d.l)(a.Sy)),r.__param(7,(0,d.l)(v.p1a))],q);},82956:function(r,b,a){var n,d;function c(g){switch(g){case n.T.wY:return "http";case n.T.yY:return "connectiontimeout";case n.T.rJ:return "readtimeout";case n.T.KXa:return "corruptcontent";case n.T.qJ:return "abort";case n.T.zY:case n.T.zqa:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.H6b=c;b.k7b=function(g,e){var f;g={errorcode:g + (e.errorCode || n.Y.Kq)};e.Ja && (g.errorsubcode=e.Ja);e.Af && (g.errorextcode=e.Af);e.D1 && (g.erroredgecode=e.D1);e.tc && (g.errordetails=e.tc);e.io && (g.httperr=e.io);e.Hia && (g.aseneterr=e.Hia);e.FL && (g.errordata=e.FL);e.F4 && (g.mediaerrormessage=e.F4);f=c(Number(e.Ja));f && (g.nwerr=f);e.de && (g.playbackcontextid=e.de);return g;};b.Fhb=function(){return {screensize:d.Ry.width + "x" + d.Ry.height,screenavailsize:d.Ry.availWidth + "x" + d.Ry.availHeight,clientsize:Ba.innerWidth + "x" + Ba.innerHeight,devicePixelRatio:d.Y_a};};n=a(36129);d=a(22365);},50723:function(r,b,a){var d,g,e,f,l,h,k;function c(m){this.uF=e.wa;this.Oxa=[];this.IQ=this.dba=!1;m && (this.uF=m.size,this.Oxa=m.hN);}function n(m,p,v,q){this.wfc=m;this.config=p;this.wg=v;this.json=q;(0,g.Ft)(this,"json");this.qa=this.wg.fb("MessageQueue");this.gx=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Dsa=void 0;r=a(5163);d=a(22674);g=a(66523);e=a(72574);f=a(81829);l=a(87386);h=a(63368);a=a(45118);n.prototype.$ya=function(m){var p,v;0 === this.gx.length && this.gx.push(this.yFa());if(m=this.N7b(m)){p=this.wfc.measure([m]);v=this.gx[this.gx.length - 1];0 < v.size.add(p).el(this.config.cnb) && (v=this.yFa(),this.gx.push(v));v.$ya(m);}};n.prototype.w4b=function(){var m;m=this.gx.filter(function(p){return p.OSb;});this.gx.push(this.yFa());m.forEach(function(p){return p.xec();});return m;};n.prototype.YNb=function(m){m.Nx || this.gx.unshift(new c(m));};n.prototype.joc=function(m){m=this.gx.indexOf(m);0 <= m && this.gx.splice(m,1);};n.prototype.N7b=function(m){try{return {data:this.json.parse(this.json.stringify(m.data)),severity:m.severity,size:m.size,timestamp:m.timestamp,type:m.type};}catch(q){var p,v;p={};m=m.data;v=m.debugMessage;v && "string" === typeof v && (p.originalDebugMessage=v);(m=m.debugCategory) && "string" === typeof m && (p.originalDebugCategory=m);this.qa.error("JSON.stringify error: " + q.message,p);}};n.prototype.yFa=function(){return new c();};Ga.Object.defineProperties(n.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.gx.reduce(function(m,p){return m.add(p.size);},e.wa);}}});k=n;b.Dsa=k;b.Dsa=k=r.__decorate([(0,d.W)(),r.__param(0,(0,d.l)(f.LZa)),r.__param(1,(0,d.l)(a.Ara)),r.__param(2,(0,d.l)(l.kb)),r.__param(3,(0,d.l)(h.wJ))],k);c.prototype.dW=function(){this.dba=!1;this.IQ=!0;};c.prototype.gv=function(){this.dba=!1;};c.prototype.$ya=function(m){this.Oxa.push(m);this.uF=this.uF.add(m.size);};c.prototype.xec=function(){this.dba=!0;};Ga.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.uF;}},hN:{configurable:!0,enumerable:!0,get:function(){return this.Oxa;}},OSb:{configurable:!0,enumerable:!0,get:function(){return 0 < this.hN.length && !1 === this.dba;}},Nx:{configurable:!0,enumerable:!0,get:function(){return this.IQ;}}});},29670:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eBb={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-5.1hq-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},51770:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.Lmb=void 0;r=a(22674);c=a(37104);n=a(83081);d=a(43185);g=a(23176);e=a(17950);f=a(24273);l=a(44236);h=a(17398);k=a(47930);m=a(60042);p=a(97791);b.Lmb=new r.Od(function(v){v(d.c_a).to(g.hsa).ma();v(c.jsa).to(n.isa).ma();v(e.b2a).Cn(function(q){for(var u=[],t=0;t < arguments.length;++t)u[t - 0]=arguments[t];t=a(26159).TJ;return new (Function.prototype.bind.apply(t,[null].concat(xa(u))))();});v(f.f_a).Ze(function(){return function(q){return new l.g_a(q);};});v(h.bQ).to(k.fsa).ma();v(m.b_a).to(p.esa).ma();});},43185:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.c_a="ManifestProviderConfigSymbol";},37104:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jsa="ManifestParserFactorySymbol";},24273:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.f_a="ManifestVerifyErrorFactorySymbol";},17950:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.b2a="PlayerTextTrackFactorySymbol";},77939:function(r,b,a){var n,d,g,e,f,l,h;function c(k,m,p){k=d.UY.call(this,k) || this;k.config=m;k.j=p;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.WTa=void 0;n=a(29670);d=a(28518);g=a(45266);e=a(51344);f=a(35128);l=a(36129);h=a(31149);Ha(c,d.UY);c.prototype.Xpb=function(k,m,p){var v,q;v=this;q=this.config.oma;m=m.filter(function(u){var t,w;t=u.Px || !u.Vg || u.streams && 0 < u.streams.length;t || v.log.warn("Audio track is missing streams",v.Zfa(u));w=0 === q.length || 0 <= q.indexOf(u.Qh);w || v.log.warn("Audio track is not supported",v.Zfa(u));return t && w;});if(!m.length)throw Error("no valid audio tracks");m=m.map(function(u){return v.Wpb(k,u,v.k4b(u,p));});this.log.trace("Parsed audio tracks",{Count:m.length});return m;};c.prototype.Hjc=function(k,m,p,v){var q,u,t,w;q=this;u=Ea((0,g.LH)(function(x){return x.Px;},m));m=u.next().value;u=u.next().value;u=Ea((0,g.LH)(function(x){return x.streams && 0 < x.streams.length;},u));t=u.next().value;u.next().value.forEach(function(x){return q.log.warn("Audio track is missing streams",q.Zfa(x));});w=this.config.oma;u=Ea((0,g.LH)(function(x){return 0 === w.length || 0 <= w.indexOf(x.Qh);},t));t=u.next().value;u.next().value.forEach(function(x){return q.log.warn("Audio track is not supported",q.Zfa(x));});m=[].concat(xa(t),xa(m)).map(function(x){return q.Wpb(k,x,q.f6b(x.Jg,p,v));});if(!m.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:m.length});return m;};c.prototype.BQb=function(k){var m,p;m=this;p=this.config.PEa;if(p){if(k=Ea(k.filter(function(v){return v.rg == p || v.trackId == p;})).next().value)return k;}else if(this.j.bfa && (k=Ea(k.filter(function(v){return v.trackId == m.j.bfa;})).next().value))return k;};c.prototype.t2b=function(k,m){this.config.f$a.forEach(function(p){var v,q,u;v=m.cx.filter(function(t){return t.profile === p;}).reduce(function(t,w){w.streams.map(function(x){return x.bitrate;}).forEach(function(x){t.add(x);});return t;},new Set());q=!1;u=k.Ca.cx.map(function(t){var w;if(t.profile === p){w=t.streams.filter(function(x){return v.has(x.bitrate);});if(w.length === t.streams.length)return t;q=!0;if(0 === w.length)throw new h.ke(l.Y.QZa,l.T.RAb);return Object.assign(Object.assign({},t),{streams:w});}return t;});q && (k.Ca=Object.assign(Object.assign({},k.Ca),{cx:u}));});return k;};c.prototype.Wpb=function(k,m,p){var v,q,u,t;t=m.Qh;k=Object.assign(Object.assign({},k),{type:e.Dl.audio,JO:m.JO,variant:m.variant,trackId:m.Jg,AM:m.bP,Qh:f.uaa[t.toLowerCase()] || f.ys.kQ,bI:t,rg:m.language,displayName:m.gH,Fc:null !== (v=m.Fc) && void 0 !== v?v:-1,Vg:null !== (q=m.Vg) && void 0 !== q?q:!0,channels:m.channels,SGc:m.channels,li:p,Ah:{Bcp47:m.language,TrackId:m.Jg},streams:[],isNative:m.isNative,bn:m.Px,A7:m.A7});k.streams=this.Txb(m.streams,k);this.log.trace("Transformed audio track",k,{StreamCount:k.streams.length,AllowedTimedTextTracks:k.li.length});k.hUb=n.eBb[null === (u=k.streams[0]) || void 0 === u?void 0:u.$d];return k;};c.prototype.Zfa=function(k){return {language:k.gH,bcp47:k.language,type:k.Qh};};c.prototype.k4b=function(k,m){var p;p=this;return m.filter(function(v){if(0 <= k.a_b.indexOf(v.AM))return !1;if(!p.config.qza || !v.bn() || v.am())if(k.Fcb){if(k.Fcb !== v.AM && (v.bn() || v.am()))return !1;}else if(k.Fhc){if(v.bn() || v.am())return !1;}else if(v.am())return !1;return !0;});};c.prototype.f6b=function(k,m,p){var v;m=m.filter(function(q){return q.ca.X === k;}).map(function(q){return q.ca.Ia;}).map(function(q){return p.find(function(u){return u.trackId === q;});}).filter(Boolean);if(this.config.qza && !m.find(function(q){return q.bn() && !q.am();})){v=p.find(function(q){return q.bn() && !q.am();});v && m.push(v);}return m;};b.WTa=c;},82409:function(r,b,a){var n,d;function c(g,e){this.log=g;this.config=e;}Object.defineProperty(b,"__esModule",{value:!0});b.UUa=void 0;n=a(45266);d=a(64274);c.prototype.Ypb=function(g,e){var f,l,h,k;f=this;l=this.config.PAa;h=this.config.OAa;g=Ea((0,n.LH)(function(m){return (!l.length || 0 <= l.indexOf(m.id)) && 0 > h.indexOf(m.id);},g || []));k=g.next().value;g.next().value.forEach(function(m){return f.log.warn("Cdn is not allowed",{Id:m.id});});g=k.map(function(m){var p;p=(e?e.find(function(v){return v.key === m.key;}):void 0) || ({});return {id:m.id,name:m.name,Fc:m.Fc,type:m.type,kmb:m.key,Xac:m.xmb,location:{id:p.key,Fc:p.Fc,level:p.level,weight:p.weight}};});g.sort(function(m,p){return m.Fc - p.Fc;});this.log.trace("Transformed cdns",{Count:g.length});if(!g.length)throw Error("no valid cdns");return g;};c.prototype.a$b=function(g,e,f,l){var h;h=g.filter(function(k){return -1 === f.findIndex(function(m){return m.id === k.id;});}).map(function(k){return {Bpb:!0,pc:k};}).concat(f.map(function(k){return {Bpb:!1,pc:k};})).sort(function(k,m){return k.pc.Fc === m.pc.Fc?k.Bpb?-1:1:k.pc.Fc - m.pc.Fc;}).map(function(k,m){(0,d.r4)(k.pc).Fc=m + 1;return k.pc;});g=e.filter(function(k){return -1 === l.findIndex(function(m){return m.key === k.key;});}).concat(l).map(function(k){var m;m=h.findIndex(function(p){return p.key === k.key;});if(-1 !== m)return (m=h[m],(0,d.r4)(k).Fc=m.Fc,k);}).filter(function(k){return void 0 !== k;});return {Wqc:h,Idc:g};};b.UUa=c;},23176:function(r,b,a){var n,d,g,e,f,l;function c(h,k){h=d.zf.call(this,h,"ManifestParserConfigImpl") || this;h.kj=k;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.hsa=void 0;r=a(5163);n=a(22674);d=a(64174);g=a(83767);e=a(12501);f=a(5614);l=a(72574);Ha(c,d.zf);Ga.Object.defineProperties(c.prototype,{oma:{configurable:!0,enumerable:!0,get:function(){return [];}},PEa:{configurable:!0,enumerable:!0,get:function(){return "";}},PAa:{configurable:!0,enumerable:!0,get:function(){return [];}},OAa:{configurable:!0,enumerable:!0,get:function(){return [];}},TEa:{configurable:!0,enumerable:!0,get:function(){return "";}},tHa:{configurable:!0,enumerable:!0,get:function(){return 0;}},jW:{configurable:!0,enumerable:!0,get:function(){return this.kj.jW.ia(l.qw);}},yy:{configurable:!0,enumerable:!0,get:function(){return this.kj.yy;}},f$a:{configurable:!0,enumerable:!0,get:function(){return ["heaac-2-dash"];}},qza:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;b.hsa=a;r.__decorate([e.config(e.aW,"supportedAudioTrackTypes")],a.prototype,"oma",null);r.__decorate([e.config(e.string,"forceAudioTrack")],a.prototype,"PEa",null);r.__decorate([e.config(e.IRa,"cdnIdWhiteList")],a.prototype,"PAa",null);r.__decorate([e.config(e.IRa,"cdnIdBlackList")],a.prototype,"OAa",null);r.__decorate([e.config(e.string,"forceTimedTextTrack")],a.prototype,"TEa",null);r.__decorate([e.config(e.rE,"imageSubsResolution")],a.prototype,"tHa",null);r.__decorate([e.config(e.rE,"timedTextSimpleFallbackThreshold")],a.prototype,"jW",null);r.__decorate([e.config(e.aW,"timedTextProfiles")],a.prototype,"yy",null);r.__decorate([e.config(e.aW,"auxiliaryManifestAudioProfileNeedsBitrateMatching")],a.prototype,"f$a",null);r.__decorate([e.config(e.xd,"alwaysIncludeOffTimedTextTrack")],a.prototype,"qza",null);b.hsa=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.Tn)),r.__param(1,(0,n.l)(f.nQ))],a);},83081:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v;function c(q,u,t,w){this.wg=q;this.config=u;this.KMa=t;this.zRa=w;}Object.defineProperty(b,"__esModule",{value:!0});b.isa=void 0;r=a(5163);n=a(22674);d=a(87386);g=a(43185);e=a(82409);f=a(71420);l=a(85696);h=a(6795);k=a(77939);m=a(44858);p=a(17950);a=a(77601);c.prototype.create=function(q){var u,t;u=this.wg.fb("ManifestParser",q);t=new e.UUa(u,this.config);return new l.d_a(t,new f.E4a(u,this.config,q,this.KMa),new h.X4a(u,q,this.zRa),new k.WTa(u,this.config,q),new m.B5a(u));};v=c;b.isa=v;b.isa=v=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.kb)),r.__param(1,(0,n.l)(g.c_a)),r.__param(2,(0,n.l)(p.b2a)),r.__param(3,(0,n.l)(a.W4a))],v);},85696:function(r,b,a){var n;function c(d,g,e,f,l){this.QAa=d;this.ZQa=g;this.fwc=e;this.i0=f;this.Hzb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.d_a=void 0;n=a(64274);c.prototype.fqb=function(d){var g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A;f=d.Ca;l={sf:null !== (e=null === (g=f.zz) || void 0 === g?void 0:g.Nh) && void 0 !== e?e:"",Nr:f.YHa?"ads":"content"};h=!!f.e6;g=this.QAa.Ypb(f.mm,f.nj);e=this.ZQa.nqb(l,f.TO);d=this.fwc.Zjc(f.iwc);k=h?this.i0.Xpb(l,f.cx,e):this.i0.Hjc(l,f.cx,f.media,e);l=this.Hzb.akc(l,f.hw);m=l[0];p=this.i0.BQb(k) || k.find(function(B){return h?B.trackId === f.e6.Qs:B.AM === f.Sda[0].Qs;}) || k[0];v=this.ZQa.Evc(p.li) || e.find(function(B){return h?B.trackId === f.e6.kW:B.AM === f.Sda[0].Nwb;}) || p.li[0];q=this.Hzb.Njc(f.hw);u=f.de;t=f.ZTb;w=f.NG;x=f.Rm;z=f.cx.findIndex(function(B){return B.Jg == p.trackId;});y=f.hw.findIndex(function(B){return B.Jg == m.trackId;});A=f.TO.findIndex(function(B){return B.Jg == v.trackId;});return {jy:q,rh:g,Jj:k,pB:l,li:e,qE:d,de:u,crc:t,JM:w,Rm:x,YYb:z,eZb:y,dZb:A,Tda:m,Z0:p,a1:v};};c.prototype.b$b=function(d,g,e){var f,l,h,k,m,p;f=this;k=this.QAa.a$b(d.Ca.mm,d.Ca.nj,e.Ca.mm,e.Ca.nj);m=k.Wqc;k=k.Idc;(0,n.r4)(d.Ca).mm=m;(0,n.r4)(d.Ca).nj=k;g.rh=this.QAa.Ypb(m,k);p={sf:null !== (h=null === (l=e.Ca.zz) || void 0 === l?void 0:l.Nh) && void 0 !== h?h:"",Nr:e.Ca.YHa?"ads":"content"};e=e.Ca;l=e.cx;e.TO.forEach(function(v){var q;if(v.Vg){q=f.dtb(d.Ca.TO,g.li,v,function(u){return f.ZQa.nqb(p,[u])[0];});q && g.Jj.forEach(function(u){var t;u=u.li;t=u.findIndex(function(w){return w.trackId === q.trackId;});-1 !== t && (u[t]=q);});}});l.forEach(function(v){v.Vg && f.dtb(d.Ca.cx,g.Jj,v,function(q){return f.i0.Xpb(p,[q],g.li)[0];});});return {U:d,Qc:g};};c.prototype.Xpc=function(d,g){return this.i0.t2b(d,g);};c.prototype.dtb=function(d,g,e,f){var l,h,k,m;l=d.findIndex(function(p){return p.Jg === e.Jg;});h=-1 !== l?d[l]:void 0;k=g.findIndex(function(p){return p.trackId === e.Jg;});m=-1 !== k?g[k]:void 0;if(h && !h.Vg && m && !m.Vg)return (f=f(e),d[l]=e,g[k]=f);};b.d_a=c;},44236:function(r,b){function a(c){this.Qc=c;this.tc=JSON.stringify(this.r6b());}Object.defineProperty(b,"__esModule",{value:!0});b.g_a=void 0;a.prototype.r6b=function(){var c;c=[];(!this.Qc.rh || 0 >= this.Qc.rh.length) && c.push({error:"No CDN."});this.Qc.Z0 || c.push({error:"No default audio track.",foundTracks:this.CFa(this.Qc.Jj)});this.Qc.Tda || c.push({error:"No default video track.",foundTracks:this.CFa(this.Qc.pB)});this.Qc.a1 || c.push({error:"No default subtitle track.",foundTracks:this.CFa(this.Qc.li)});return c;};a.prototype.CFa=function(c){return c && 0 < c.length?c.map(function(n){return n.trackId;}):"No tracks found.";};b.g_a=a;},28518:function(r,b,a){var n;function c(d){this.log=d;}Object.defineProperty(b,"__esModule",{value:!0});b.UY=void 0;n=a(6305);c.prototype.Txb=function(d,g){var e,f;e=this;if(!d)return (this.log.warn("There are no media streams for " + g.type + " track - " + g.trackId),[]);f=d.map(function(l){var h,k,m,p,v,q,u,t;t=new n.MediaStream(g,g.type,l.Qm,l.bitrate,l.Gb,l.size,e.g5b(l.urls),l.QC,l.zfb / l.yfb,l.Hi,l.tj);t.lsc(l.rtb,l.nOa,l.Jqb,l.Iqb);t.orc(null !== (h=l.rYb) && void 0 !== h?h:void 0,null !== (k=l.sYb) && void 0 !== k?k:void 0,null !== (m=l.qYb) && void 0 !== m?m:void 0,null !== (p=l.pYb) && void 0 !== p?p:void 0,null !== (v=l.Jqb) && void 0 !== v?v:void 0,null !== (q=l.Iqb) && void 0 !== q?q:void 0);g.Rm && (t.Rm=g.Rm);l.xL && (t.xL=null !== (u=l.xL) && void 0 !== u?u:void 0);l.QC && (t.$d=l.QC);return t;});f.sort(function(l,h){return l.bitrate - h.bitrate;});f.forEach(function(l,h){l.lower=f[h - 1];l.NJc=f[h + 1];});return f;};c.prototype.g5b=function(d){return d.reduce(function(g,e){g[e.sh]=e.url;return g;},{});};b.UY=c;},71420:function(r,b,a){var n,d,g,e;function c(f,l,h,k){this.log=f;this.config=l;this.j=h;this.KMa=k;}Object.defineProperty(b,"__esModule",{value:!0});b.E4a=void 0;n=a(75568);d=a(22365);g=a(35128);e=a(14423);c.prototype.nqb=function(f,l){var h;h=this;l=l.map(function(k){var m,p,v,q;v=h.Xvc(k);k.Px || !k.Vg || v && 0 < v.length || h.log.error("track without downloadables",h.n6b(k));q={};0 < v.length && (q=v[0],q.profile == n.cp.fQ && (q=h.Hqc(v),!1));k=h.KMa(h.j,k.Jg,k.id,null !== (m=k.Fc) && void 0 !== m?m:-1,null !== (p=k.Vg) && void 0 !== p?p:!0,f,q.Nb,q.urls || [],k.language,k.gH,g.uaa[k.Qh.toLowerCase()] || g.ys.kQ,k.JO,k.variant,k.bI.toUpperCase(),q.profile,h.B6b(q) || ({}),k.Px,k.$ga,k.cha,k.Ix);h.log.trace("Transformed timed text track",k);return k;});this.log.trace("Transformed timed text tracks",{Count:l.length});return l;};c.prototype.Evc=function(f){var l,h;l=this;h=this.config.TEa;if(h){if(f=Ea(f.filter(function(k){return k.rg == h || k.trackId == h;})).next().value)return f;}else if(this.j.dfa && (f=Ea(f.filter(function(k){return k.trackId == l.j.dfa;})).next().value))return f;};c.prototype.Xvc=function(f){var l,h;l=this;h=f.qdb;f=Object.entries(f.HRa || ({})).map(function(k){var m;m=Ea(k);k=m.next().value;m=m.next().value;return {Nb:h[k],profile:k,size:m.size || 0,priority:l.h5b(k,m),offset:m.sKa || 0,ukc:m.width,Hqb:m.height,urls:m.urls};});f.sort(function(k,m){return k.priority - m.priority;});return f;};c.prototype.h5b=function(f,l){var h,k;h=this.config.yy.indexOf(f);l=l.size;k=this.config.jW;return f === n.cp.bpa && 0 < k && l > k?this.config.yy.length + 1:0 <= h?h:this.config.yy.length;};c.prototype.B6b=function(f){if(f.profile === n.cp.fQ)return {offset:f.offset,length:f.size,jm:{width:f.ukc,height:f.Hqb}};};c.prototype.Hqc=function(f){var l,h;l=this.config.tHa || e.Wva.thb();h=Ea(f.filter(function(k){return k.profile === n.cp.fQ;}).filter(function(k){return k.Hqb === l;})).next().value;if(h)return h;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:d.Ry.height,intendedResolution:l});return f[0];};c.prototype.n6b=function(f){return {isNone:f.Px,isForced:f.$ga,bcp47:f.language,id:f.Jg};};b.E4a=c;},6795:function(r,b){function a(c,n,d){this.log=c;this.j=n;this.zRa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.X4a=void 0;a.prototype.Zjc=function(c){var n;n=this;c=(c || []).filter(function(d){return d.urls && 0 < d.urls.length;}).map(function(d){return n.zRa(n.j,d.id,d.height,d.width,d.xkc,d.ykc,d.size,d.Ix,{unknown:d.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(d,g){return d.size - g.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.X4a=a;},44858:function(r,b,a){var n,d,g,e;function c(f){return d.UY.call(this,f) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.B5a=void 0;n=a(45266);d=a(28518);g=a(51344);e=a(35128);Ha(c,d.UY);c.prototype.akc=function(f,l){var h,k;h=this;l=Ea((0,n.LH)(function(m){return m.streams && 0 < m.streams.length;},l));k=l.next().value;l.next().value.forEach(function(m){return h.log.warn("Video track is missing streams",{trackId:m.Jg});});l=k.map(function(m){var p;p=m.Qh;p=Object.assign(Object.assign({},f),{type:g.Dl.video,trackId:m.Jg,AM:m.bP,Qh:e.uaa[p.toLowerCase()] || e.ys.kQ,bI:p,streams:[],Ah:{},O5:m.O5});p.streams=h.Txb(m.streams,p);h.log.trace("Transformed video track",{StreamCount:p.streams.length});return p;});if(!l.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:l.length});return l;};c.prototype.Njc=function(f){var l;l=f.map(function(h){return h.O5;}).filter(Boolean);l=[].concat.apply([],xa(l)).map(function(h){return h.la;});f=f.map(function(h){return h.mDa;}).filter(Boolean).map(function(h){return h.la;});return 0 < l.length?l:f;};b.B5a=c;},81737:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.U=void 0;r=a(22674);c=a(99070);n=a(49745);b.U=new r.Od(function(d){d(n.FJ).to(c.gsa).ma();});},60042:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.b_a="ManifestEnricherSymbol";},17398:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bQ="ManifestFactorySymbol";},49745:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FJ="ManifestFetcherSymbol";},91622:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kUa="BookmarkSymbol";},72516:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jUa="BookmarkConfigSymbol";},81364:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iUa="BookmarkConfigParserSymbol";},66393:function(r,b,a){var c,n,d,g,e,f;Object.defineProperty(b,"__esModule",{value:!0});b.kR=void 0;r=a(22674);c=a(91622);n=a(72516);d=a(81364);g=a(63143);e=a(25293);f=a(12563);b.kR=new r.Od(function(l){l(c.kUa).to(g.xoa).ma();l(n.jUa).to(e.voa).ma();l(d.iUa).to(f.woa).ma();});},25293:function(r,b,a){var n,d;function c(g){this.config=g;}Object.defineProperty(b,"__esModule",{value:!0});b.voa=void 0;r=a(5163);n=a(22674);a=a(4203);c.prototype.GFa=function(){return this.ZL().jRb;};c.prototype.HFa=function(){return this.ZL().kRb;};c.prototype.R5b=function(){return this.ZL().lRb;};c.prototype.nFa=function(){return this.ZL().x$a;};c.prototype.ZL=function(){return this.config();};d=c;b.voa=d;b.voa=d=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.uc))],d);},12563:function(r,b,a){var n,d,g;function c(e){this.Ub=e;}Object.defineProperty(b,"__esModule",{value:!0});b.woa=void 0;r=a(5163);n=a(22674);d=a(42207);g=a(5021);c.prototype.ouc=function(e,f){var l,h;l=parseFloat(e);h=0;"%" === e[e.length - 1] && this.Ub.Im(l)?h=Math.round(l * f.ia(g.pa) / 100):(e=parseInt(e),this.Ub.X_(e) && (h=e));return (0,g.bc)(Math.min(h,f.ia(g.pa)));};a=c;b.woa=a;b.woa=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.Eh))],a);},63143:function(r,b,a){var n,d,g,e,f,l;function c(h,k,m,p){this.Hca=k;this.Ub=m;this.iRb=p;this.qa=h.fb("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.xoa=void 0;r=a(5163);n=a(22674);d=a(72516);g=a(81364);e=a(87386);f=a(42207);l=a(5021);c.prototype.TOb=function(h){var k,m;k=h.lb.playbackState && h.lb.playbackState.currentTime;m=this.R4b(h.P);k=this.Ub.YR(k)?(0,l.bc)(k):m;m=0;this.Ub.vh(k)?(this.qa.info("Overriding bookmark",{From:h.vE.ia(l.pa),To:k.ia(l.pa)}),k=Object.assign({},h,{vE:k})):k=h;h.zd.fa && (h=h.zd.RFa(h.vE.ia(l.pa)),k=Object.assign({},k,{vE:(0,l.bc)(h.ao),QH:(0,l.bc)(h.QH)}),m=h.Ccb);return k.vE.mIa()?(this.qa.trace("Ignoring bookmark because it's negative"),(0,l.bc)(m)):this.j$b(k)?(this.qa.trace("Ignoring bookmark because it's too close to beginning"),(0,l.bc)(m)):this.i$b(k)?(this.qa.trace("Ignoring bookmark because it's too close to end"),(0,l.bc)(m)):this.h$b(k)?(this.qa.trace("Ignoring bookmark because it's too close to the end to start decoding"),(0,l.bc)(m)):k.vE;};c.prototype.j$b=function(h){return 0 > h.vE.el(this.GFa(h));};c.prototype.GFa=function(h){return this.y$a(this.Hca.GFa(),h.QH);};c.prototype.i$b=function(h){return 0 < h.vE.el(this.HFa(h));};c.prototype.HFa=function(h){var k;k=h.lb.yh?this.Hca.R5b():this.Hca.HFa();return h.QH.ka(this.y$a(k,h.QH));};c.prototype.h$b=function(h){return 0 < h.vE.el(this.q5b(h));};c.prototype.q5b=function(h){return h.QH.ka((0,l.bc)(h.KH));};c.prototype.R4b=function(h){var k;h=this.Hca.nFa()[h];k=-1;this.Ub.Js(h)?k=parseInt(h):this.Ub.Im(h) && (k=h);if(this.Ub.X_(k))return (0,l.bc)(k);};c.prototype.y$a=function(h,k){return this.iRb.ouc(h,k);};a=c;b.xoa=a;b.xoa=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(e.kb)),r.__param(1,(0,n.l)(d.jUa)),r.__param(2,(0,n.l)(f.Eh)),r.__param(3,(0,n.l)(g.iUa))],a);},34029:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BUa="CDMAttestedDescriptorProvider";},6498:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.P$a=void 0;r=a(22674);c=a(34029);n=a(28419);b.P$a=new r.Od(function(d){d(c.BUa).to(n.Eoa).ma();});},28419:function(r,b,a){var n,d,g,e,f,l,h,k,m;function c(p,v,q,u,t,w){this.config=p;this.zH=q;this.profile=u;this.Gma=t;this.A0=w;this.log=v.fb("CDMAttestedDescriptor");this.bgb(k.TB.kZ);}Object.defineProperty(b,"__esModule",{value:!0});b.Eoa=void 0;r=a(5163);n=a(22674);d=a(4203);g=a(87386);e=a(97996);f=a(70865);l=a(71501);h=a(2492);k=a(34231);m=a(24735);c.prototype.bgb=function(p){var v;v=this;return this.Gma.Pla(p)?this.config().d0b?this.$fb().then(function(q){if(q)return (!1,Promise.resolve(void 0));v.Klb || (!1,v.Klb=v.A0.qGa(m.Xo.MB));return v.Klb;}).catch(function(q){v.log.error("Failed to generate challenge",q);}).then(function(q){null === q || void 0 === q?void 0:q.cE.close();return null === q || void 0 === q?void 0:q.RAa;}).then(function(q){return Promise.all([Promise.resolve(q),v.$fb()]);}).then(function(q){var u;q=Ea(q);u=q.next().value;if(q.next().value)!1;else return u;}):this.zH().then(function(q){q.lU.toc();}):Promise.resolve(void 0);};c.prototype.$fb=function(){var p;p=this;return this.zH().then(function(v){return (v=v.lU.FG(p.profile)) && v.find(function(q){return "cad" === q.name;});});};a=c;b.Eoa=a;b.Eoa=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.uc)),r.__param(1,(0,n.l)(g.kb)),r.__param(2,(0,n.l)(e.ZY)),r.__param(3,(0,n.l)(l.pQ)),r.__param(4,(0,n.l)(f.waa)),r.__param(5,(0,n.l)(h.f9))],a);},97791:function(r,b,a){var n,d;function c(g){this.g1b=g;this.lub={N:"viewableId",rb:"startTimeMs",yb:"endTimeMs",next:["next",{Aj:[d.Aj,{weight:"weight",jd:"transitionType"}]}],Gc:"defaultNext",Sm:"exitZones",type:"type",jd:"transitionType",playbackRate:"playbackRate",weight:"weight"};this.brb={Zg:"mediaTypes",Cf:"initialSegment",ba:["segments",{Aj:[d.Aj,Object.assign(Object.assign({},this.lub),{next:["next",{Aj:[d.Aj,{weight:"weight",jd:"transitionType",Vxb:"transitionHint",pNc:"skipRegionOffset",qNc:"skipRegionWeight",I_b:"earliestSkipRequestOffset"}]}],Vxb:"transitionHint",I_b:"earliestSkipRequestOffset"})]}]};this.Hmb={ev:"drmType",aIc:"drmVersion",expiration:"expiration",P:"movieId",hq:"packageId",duration:"duration",de:"playbackContextId",Sda:["defaultTrackOrderList",{ZT:"mediaId",FW:"videoTrackId",Nwb:"subtitleTrackId",Qs:"audioTrackId",rMc:"preferenceOrder"}],pLc:["mediaEventTracks",{id:"id",Jg:"new_track_id",profile:"profile",Nrb:"profileType",swb:"stereo",bP:"track_id",Qh:"trackType",type:"type",streams:["streams",{Qm:"downloadable_id",Nb:"downloadableId",size:"size",QC:"content_profile",Qh:"trackType",bitrate:"bitrate",Hi:"isDrm",urls:["urls",{sh:"cdn_id",url:"url",LT:"liveOcaCapabilities"}],qob:"new_stream_id",type:"type",Znb:["moov",{size:"size",offset:"offset"}],xl:["sidx",{size:"size",offset:"offset"}],bwb:["ssix",{size:"size",offset:"offset"}],tj:"tags",jtb:"representationId"}]}],fIc:["eligibleABTestMap",{Aj:d.Aj}],uGc:["badgingInfo",{VHc:"dolbyDigitalAudio",LJc:"hdrVideo",WHc:"dolbyVisionVideo",aOc:"ultraHdVideo","3dVideo":"3dVideo",UHc:"dolbyAtmosAudio",iGc:"assistiveAudio",XMc:"sdVideo",KJc:"hdVideo"}],type:"type",nGc:["audioTextShortcuts",{id:"id",Qs:"audioTrackId",hxb:"textTrackId"}],hMc:"partiallyHydrated",gnb:"maxRecommendedAudioRank",hnb:"maxRecommendedTextRank",Rm:"drmContextId",wib:"hasDrmProfile",k9b:"hasClearProfile",NG:"hasDrmStreams",iga:"hasClearStreams",nj:["locations",{Fc:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],mm:["servers",{id:"id",name:"name",type:"type",Fc:"rank",xmb:"lowgrade",i_b:["dns",{host:"host",kac:"ipv4",lac:"ipv6",m3b:"forceLookup"}],key:"key"}],cx:["audio_tracks",{type:"type",JO:"subType",variant:"variant",Qh:"trackType",Jg:"new_track_id",bP:"track_id",Nrb:"profileType",swb:"stereo",profile:"profile",channels:"channels",language:"language",gTb:"channelsFormat",A7:"surroundFormatLabel",gH:"languageDescription",a_b:"disallowedSubtitleTracks",Fcb:"defaultTimedText",isNative:"isNative",Px:"isNoneTrack",streams:["streams",{Qm:"downloadable_id",Nb:"downloadableId",size:"size",QC:"content_profile",Qh:"trackType",bitrate:"bitrate",Hi:"isDrm",urls:["urls",{sh:"cdn_id",url:"url",LT:"liveOcaCapabilities"}],qob:"new_stream_id",type:"type",channels:"channels",gTb:"channelsFormat",A7:"surroundFormatLabel",language:"language",lGc:"audioKey",Znb:["moov",{size:"size",offset:"offset"}],xl:["sidx",{size:"size",offset:"offset"}],bwb:["ssix",{size:"size",offset:"offset"}],tj:"tags",jtb:"representationId"}],hUb:"codecName",bI:"rawTrackType",id:"id",Fc:"rank",Vg:"hydrated",Fhc:"offTrackDisallowed"}],hw:["video_tracks",{Qh:"trackType",Jg:"new_track_id",type:"type",bP:"track_id",wib:"hasDrmProfile",k9b:"hasClearProfile",NG:"hasDrmStreams",iga:"hasClearStreams",sM:"groupName",streams:["streams",{Qm:"downloadable_id",Nb:"downloadableId",size:"size",QC:"content_profile",Qh:"trackType",xL:"drmHeaderId",bitrate:"bitrate",Hi:"isDrm",urls:["urls",{sh:"cdn_id",url:"url",LT:"liveOcaCapabilities"}],qob:"new_stream_id",type:"type",jMc:"peakBitrate",WZb:"dimensionsCount",XZb:"dimensionsLabel",Jqb:"pix_w",Iqb:"pix_h",rtb:"res_w",nOa:"res_h",rYb:"crop_x",sYb:"crop_y",qYb:"crop_w",pYb:"crop_h",zfb:"framerate_value",yfb:"framerate_scale",ewb:"startByteOffset",Gb:"vmaf",Znb:["moov",{size:"size",offset:"offset"}],xl:["sidx",{size:"size",offset:"offset"}],bwb:["ssix",{size:"size",offset:"offset"}],nO:["segmentVmaf",{offset:"offset",Gb:"vmaf"}],tj:"tags",jtb:"representationId"}],Nrb:"profileType",swb:"stereo",profile:"profile",WZb:"dimensionsCount",XZb:"dimensionsLabel",sNc:["snippets",{Aj:[d.Aj,{rNc:"snippetSpec",rb:"startTimeMs",yb:"endTimeMs"}]}],mDa:["drmHeader",{la:"bytes",ATb:"checksum",xL:"drmHeaderId",so:"keyId",jm:["resolution",{height:"height",width:"width"}]}],O5:["prkDrmHeaders",{la:"bytes",ATb:"checksum",xL:"drmHeaderId",so:"keyId",jm:["resolution",{height:"height",width:"width"}]}],ux:"flavor",YJc:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",Mqb:"pixelAspectX",Nqb:"pixelAspectY",fLc:"maxCroppedWidth",eLc:"maxCroppedHeight",gLc:"maxCroppedX",hLc:"maxCroppedY",cKa:"max_framerate_value",bKa:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",ALc:"minCroppedWidth",zLc:"minCroppedHeight",BLc:"minCroppedX",CLc:"minCroppedY",ll:["license",{Fcc:"licenseResponseBase64",xMc:"providerSessionToken",aNc:"secureStopExpected",$Hc:"drmSessionId",links:["links",{}]}]}],zz:["cdnResponseData",{rO:"sessionABTestCell",Nh:"pbcid"}],Zs:["choiceMap",Object.assign(Object.assign({},this.brb),{type:"type",N:"viewableId",jd:"transitionType",Vxb:"transitionHint",Txc:"uxlabel",dMc:["parallelGraphs",{Aj:[d.Aj,this.brb]}]})],Cp:["contentPlaygraph",{Z:["playgraph",{Cf:"initialSegment",jd:"transitionType",Txc:"uxlabel",ba:["segments",{Aj:[d.Aj,this.lub]}]}],tNc:["startIdent",{ZJc:"identToken",N:"viewableId"}]}],media:["media",{id:"id",ca:["tracks",{X:"AUDIO",Ia:"TEXT",V:"VIDEO"}]}],e6:["recommendedMedia",{FW:"videoTrackId",Qs:"audioTrackId",kW:"timedTextTrackId"}],TO:["timedtexttracks",{Qh:"trackType",Jg:"new_track_id",type:"type",JO:"subType",variant:"variant",bI:"rawTrackType",gH:"languageDescription",language:"language",id:"id",Px:"isNoneTrack",$ga:"isForcedNarrative",qdb:["downloadableIds",{}],OGc:["cdnlist",{id:"id",name:"name",type:"type",Fc:"rank",xmb:"lowgrade",i_b:["dns",{host:"host",kac:"ipv4",lac:"ipv6",m3b:"forceLookup"}],key:"key"}],HRa:["ttDownloadables",{Aj:[d.Aj,{id:"id",size:"size",KNc:"textKey",JJc:"hashValue",IJc:"hashAlgo",lKc:"isImage",sKa:"midxOffset",Fnb:"midxSize",height:"height",width:"width",kDa:["downloadUrls",{}],urls:["urls",{url:"url",sh:"cdn_id",LT:"liveOcaCapabilities"}]}]}],cha:"isLanguageLeftToRight",Ix:"headIdentDuration",Fc:"rank",Vg:"hydrated"}],iwc:["trickplays",{Qm:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",ykc:"pixelsAspectY",xkc:"pixelsAspectX",width:"width",height:"height",Ix:"headIdentDuration"}],Yzb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],ZHc:"dpsid",yh:"isBranching",qOc:"viewableType",YHa:"isAd",AT:"isSupplemental",ZTb:"clientIpAddress",eOc:"urlExpirationDuration",YKc:"manifestExpirationDuration",tI:["steeringAdditionalInfo",{uNc:"steeringId",aGc:"additionalGroupNames",jma:["streamingClientConfig",{}],WV:["stickySteeringMetadata",{N3:"isSteeringSticky",cma:"stickySteeringToken"}],ktc:"slowInitialBufferingSignal"}],vc:"auxiliaryManifestToken",Wg:["liveMetadata",{lea:["downloadableIdToSegmentTemplateId",{Aj:d.Aj}],R6:["segmentTemplateIdToSegmentTemplate",{Aj:[d.Aj,{iR:"availabilityStartTime",S$b:"initialization",media:"media",Jlc:"presentationTimeOffset",hwb:"startNumber",duration:"duration",O:"timescale"}]}],Ehc:"ocLiveWindowDurationSeconds",H1:"eventAvailabilityOffsetMs",J1:"eventStartTime",I1:"eventEndTime",$cb:"disableLiveUi",maxBitrate:"maxBitrate"}],jfc:["mediaEventHistory",{O:"timescale",YQb:"baseTimeMs",zYb:"cutoffTimeMs",kfc:["mediaEvents",{type:"type",id:"id",timestamp:"timestamp",duration:"duration",yn:"segmentationTypeId"}]}],Je:"streamingType",gRa:["timecodeAnnotations",{$0b:"endOffsetMs",n7:"startOffsetMs",type:"type"}],urb:"prefetchTtl"};this.iec=Object.assign(Object.assign({},this.Hmb),{Ss:["auxiliaryManifests",this.Hmb],Jm:["adverts",{Sc:["adBreaks",{gn:"locationMs",yi:"adBreakToken",qg:["ads",{id:"id",rb:"startTimeMs",yb:"endTimeMs",yma:["timedAdEvents",{event:"event",oz:"adEventToken",hu:"timeMs"}],CF:["actionAdEvents",{start:["start",{event:"event",oz:"adEventToken"}],complete:["complete",{event:"event",oz:"adEventToken"}],stop:["stop",{event:"event",oz:"adEventToken"}]}],Mx:"is3pVerificationEnabled",fW:"thirdPartyVerificationToken"}],Lba:["actionAdBreakEvents",{complete:["complete",{event:"event",oz:"adEventToken"}]}],hR:"auditPingUrl"}],hR:"auditPingUrl",ypc:"retainAdBreaks"}]});}Object.defineProperty(b,"__esModule",{value:!0});b.esa=void 0;r=a(5163);n=a(22674);d=a(90030);c.prototype.qS=function(g){this.g1b.qS(g,this.iec);};a=c;b.esa=a;b.esa=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.EWa))],a);},47930:function(r,b,a){var n,d,g,e,f;function c(l,h){this.Slb=l;this.hec=h;}Object.defineProperty(b,"__esModule",{value:!0});b.fsa=void 0;r=a(5163);n=a(22674);d=a(81025);g=a(60042);e=a(31149);f=a(36129);c.prototype.create=function(l){var h,k,m,p;h=this;if(l && !this.Vac(l)){if(this.$ac(l))throw e.ke.Wyc(f.Y.CJ,f.T.hJb,l);p=this.Slb();p.Wya(l.links);this.hec.qS(l);return {Ca:l,Sj:p,iIa:!1,Ss:null !== (m=null === (k=l.Ss) || void 0 === k?void 0:k.map(function(v){var q;q=h.Slb();q.Wya(v.links);return {Ca:v,Sj:q,iIa:!1,Ss:[]};})) && void 0 !== m?m:[]};}};c.prototype.$ac=function(l){return ("type" in l) && "muxed" === l.type;};c.prototype.Vac=function(l){return ("runtime" in l) && !!l.runtime;};a=c;b.fsa=a;b.fsa=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.n1a)),r.__param(1,(0,n.l)(g.b_a))],a);},99070:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v;function c(q,u,t,w,x,z,y){this.Qg=u;this.gec=w;this.config=x;this.t4=z;this.Aa=y;this.h6=new Map();this.log=q.fb("ManifestFetcher");this.Pf=t.Pf;}Object.defineProperty(b,"__esModule",{value:!0});b.gsa=void 0;n=a(5163);r=a(22674);d=a(81918);g=a(30869);e=a(31149);f=a(87386);l=a(5021);h=a(4203);k=a(72639);m=a(18148);p=a(17398);v=a(13044);c.prototype.sr=function(q,u,t,w){var x;x=this;t=void 0 === t?!0:t;w && this.yOb(q.N,w);return t && this.tv(q.N)?this.j2(q.N).catch(function(){return x.mtb(q,u,t);}):this.mtb(q,u,t);};c.prototype.tv=function(q){return this.Pf.b3(q,"manifest");};c.prototype.u7=function(q,u){var t,w;t=this;if(this.config().x0b){w=u?Promise.resolve(u):void 0;this.Pf.setData(q,"manifest",u,function(){return t.W8b(q,w);});null === w || void 0 === w?void 0:w.then(function(x){var z,y;(0,v.sua)() && (null === (y=null === (z=x.Ca.tI) || void 0 === z?void 0:z.WV) || void 0 === y?0:y.N3) && t.Pf.Byb(q,"manifest",void 0,m.dZa);});}};c.prototype.j2=function(q,u){var t;t=this;u=void 0 === u?!1:u;return this.Pf.getData(q,"manifest").then(function(w){if(!w)throw Error("Manifest not found");if(w.Ca.expiration <= t.Aa.df.ia(l.pa))throw (t.Pf.clearData(q,"manifest"),Error("Manifest has expired"));if(!u && "LIVE" === w.Ca.Je && w.mSa)throw Error("Cached live manifest not available for reuse");return w;});};c.prototype.W8b=function(q,u){var t;null === (t=this.h6.get(q)) || void 0 === t?void 0:t.forEach(function(w){return w(u);});this.h6.delete(q);};c.prototype.yOb=function(q,u){this.h6.has(q) || this.h6.set(q,[]);this.h6.get(q).push(u);};c.prototype.mtb=function(q,u,t){return n.__awaiter(this,void 0,void 0,function x(){var z,y,A,B,C,D,E,F,G,J;z=this;return Ua(x,function(N){switch(N.cq){case 1:y=z;z.log.trace("Requesting a new manifest",q.N);D=z.Qg.$b().ia(l.pa);if(!(t && z.config().DDa && z.tv(q.N))){N.cq=2;break;}N.C0=3;return Za(N,z.j2(q.N,!0),5);case 5:E=N.NW;"LIVE" === E.Ca.Je && E.mSa && (q.tv=!0);zb(N);break;case 3:rb(N);case 2:if(F=(0,v.sua)())q.cma=null === (C=null === (B=null === (A=F.U) || void 0 === A?void 0:A.Ca.tI) || void 0 === B?void 0:B.WV) || void 0 === C?void 0:C.cma;G=function(){return y.gec.ef({log:y.log,bj:u,N:q.N},q).catch(function(I){if(E)return E;throw I;});};J=(q.Dg && !q.Dg.yi?z.swc(q).catch(function(I){y.log.warn(I.message);return G();}):G()).then(function(I){var M,K,L,H,O;if(I.XC && (null === (M=q.Dg) || void 0 === M || !M.yi)){H=I.XC;M={Ela:Promise.resolve(H),b4:{source:"manifest",type:q.gg}};delete I.XC;O=(0,v.sua)() && (null === (L=null === (K=I.Ca.tI) || void 0 === K?void 0:K.WV) || void 0 === L?0:L.N3)?m.dZa:void 0;y.Pf.setData(q.N,"ldl",M,function(){H.close().catch(function(P){y.log.info("Unable to cleanup LDL session.",P);});},void 0,O);}q.ux === k.qs.fZ && (I.bO=D,I.pV=y.Qg.$b().ia(l.pa));return I;}).catch(function(I){t && y.u7(q.N,void 0);y.log.error("Failed to fetch manifest",e.ke.Fg(I));throw I;});t && z.u7(q.N,J);return N.return(J);}});});};c.prototype.swc=function(q){var u;u=this;return new Promise(function(t,w){var x,z,y,A,B;u.log.trace("Trying to retrieve an auxiliary manifest from parent manifest",q.N);A=null === (x=q.Dg) || void 0 === x?void 0:x.v5;if(!A)return w(Error("Parent manifest does not exist."));B=null === (z=q.Dg) || void 0 === z?void 0:z.vc;x=null === (y=A.Ss) || void 0 === y?void 0:y.find(function(C){return C.P === q.N && (void 0 === B || C.vc === B);});if(!x)return w(Error("Auxiliary manifest not found in parent manifest."));t(u.t4.create(x));});};a=c;b.gsa=a;b.gsa=a=n.__decorate([(0,r.W)(),n.__param(0,(0,r.l)(f.kb)),n.__param(1,(0,r.l)(d.fd)),n.__param(2,(0,r.l)(m.Koa)),n.__param(3,(0,r.l)(k.Sta)),n.__param(4,(0,r.l)(h.uc)),n.__param(5,(0,r.l)(p.bQ)),n.__param(6,(0,r.l)(g.hh))],a);},16520:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.fk={};r[r.hQa=1]="sourceopen";r[r.cr=2]="currentTimeChanged";r[r.O6=3]="seeked";r[r.Plb=5]="licenseadded";r[r.Zvb=6]="sourceBufferAdded";r[r.sja=7]="onNeedKey";r[r.psb=8]="readyStateChanged";},12653:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.cob=void 0;r=a(22674);c=a(21801);n=a(59586);b.cob=new r.Od(function(d){d(c.Ksa).to(n.Jsa).ma();});},21801:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ksa=b.hGb=void 0;b.hGb=function(){};b.Ksa="MseConfigSymbol";},59586:function(r,b,a){var n,d,g,e,f;function c(l){return d.zf.call(this,l,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Jsa=void 0;r=a(5163);n=a(12501);d=a(64174);g=a(22674);e=a(83767);f=a(5021);Ha(c,d.zf);Ga.Object.defineProperties(c.prototype,{Qnb:{configurable:!0,enumerable:!0,get:function(){return (0,f.bc)(5E3);}},zpb:{configurable:!0,enumerable:!0,get:function(){return (0,f.bc)(1E3);}},Apb:{configurable:!0,enumerable:!0,get:function(){return (0,f.bc)(1E3);}}});a=c;b.Jsa=a;r.__decorate([n.config(n.ol,"minDecoderBufferMilliseconds")],a.prototype,"Qnb",null);r.__decorate([n.config(n.ol,"optimalDecoderBufferMilliseconds")],a.prototype,"zpb",null);r.__decorate([n.config(n.ol,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"Apb",null);b.Jsa=a=r.__decorate([(0,g.W)(),r.__param(0,(0,g.l)(e.Tn))],a);},7826:function(r,b,a){var c,n,d;Object.defineProperty(b,"__esModule",{value:!0});b.zH=void 0;r=a(22674);c=a(50681);n=a(63390);d=a(97996);b.zH=new r.Od(function(g){g(c.Nsa).to(n.Msa).ma();g(d.ZY).R7(function(e){return function(){return e.tb.get(c.Nsa).rgc;};});});},97996:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZY="MslProviderSymbol";},50681:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nsa="MslReadyNotifierSymbol";},63390:function(r,b,a){var n;function c(){var d;d=this;this.ready=!1;this.rgc=new Promise(function(g){d.lpc=g;});}Object.defineProperty(b,"__esModule",{value:!0});b.Msa=void 0;r=a(5163);a=a(22674);c.prototype.sgc=function(d){this.ready || (this.lpc(d),this.ready=!0);};c.prototype.Sp=function(){return this.ready;};n=c;b.Msa=n;b.Msa=n=r.__decorate([(0,a.W)()],n);},30698:function(r,b,a){var c,n,d,g,e,f,l,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.mob=void 0;r=a(22674);c=a(76698);n=a(32934);d=a(81438);g=a(59806);e=a(21941);f=a(55823);l=a(27E3);h=a(2571);k=a(17559);b.mob=new r.Od(function(m){m(d.R5a).to(c.Mwa).ma();m(n.Ly).CI(function(){return Ba._cad_global.http;});m(e.i0a).to(g.Xsa).ma();m(f.j0a).Cn(l.default);m(h.WXa).to(k.Fqa).ma();});},2571:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WXa="HttpDispatcherSymbol";},32934:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ly=b.bZ=b.ResponseType=void 0;b.ResponseType={Text:1,FFc:2,xBb:3};b.bZ="OPEN_CONNECT_APPLIANCE";b.Ly="LegacyHttpSymbol";},55823:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.j0a="NetworkMonitorSymbol";},48004:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.h0a="NetworkMonitorConfigSymbol";},21941:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.i0a="NetworkMonitorFactorySymbol";},81438:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.R5a="XhrFactorySymbol";},17559:function(r,b,a){var n,d,g;function c(e,f){this.Bf=f;this.qa=e.fb("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Fqa=void 0;r=a(5163);n=a(22674);d=a(87386);a=a(32934);c.prototype.download=function(e,f){var l;l=this;f=void 0 === f?{VT:0}:f;return new Promise(function(h,k){var p;function m(v){if(v.ta)return h(v.content);if(p === f.VT)return k({Ja:v.Ja,Op:v.io});p++;!1;l.Bf.download(e,m);}p=0;l.Bf.download(e,m);});};g=c;b.Fqa=g;b.Fqa=g=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.kb)),r.__param(1,(0,n.l)(a.Ly))],g);},40158:function(r,b,a){var n,d,g,e;function c(f,l){return g.zf.call(this,f,void 0 === l?"NetworkMonitorConfigImpl":l) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Wsa=void 0;r=a(5163);n=a(22674);d=a(12501);g=a(64174);a=a(83767);Ha(c,g.zf);Ga.Object.defineProperties(c.prototype,{izb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});e=c;b.Wsa=e;r.__decorate([d.config(d.xd,"useNetworkMonitor")],e.prototype,"izb",null);b.Wsa=e=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.Tn)),r.__param(1,(0,n.l)(a.g9)),r.__param(1,(0,n.optional)())],e);},59806:function(r,b,a){var n,d,g,e;function c(f,l,h){this.config=f;this.Gdc=l;this.Wc=h;}Object.defineProperty(b,"__esModule",{value:!0});b.Xsa=void 0;r=a(5163);n=a(48004);d=a(22674);g=a(48159);a=a(55823);c.prototype.JXb=function(){if(this.config.izb)return this.Wc(this.Gdc());};e=c;b.Xsa=e;b.Xsa=e=r.__decorate([(0,d.W)(),r.__param(0,(0,d.l)(n.h0a)),r.__param(1,(0,d.l)(g.c0a)),r.__param(2,(0,d.l)(a.j0a))],e);},76698:function(r,b,a){var n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Mwa=void 0;r=a(5163);a=a(22674);c.prototype.create=function(){return new XMLHttpRequest();};n=c;b.Mwa=n;b.Mwa=n=r.__decorate([(0,a.W)()],n);},10256:function(r,b,a){var n,d,g,e,f,l;function c(h,k,m){this.log=h;this.y2=k;this.context=m;}Object.defineProperty(b,"__esModule",{value:!0});n=a(36129);d=a(31276);g=a(74870);e=a(84408);f=a(2248);l=a(82100);c.prototype.ll=function(h){var k,m;k=this;(this.context.yk || this.context.xD) && this.log.debug("Requesting a license",h);if(d.La.get(g.Wi).VF(d.La.get(e.Du).decode("certificate"),h.Ml[0].data)){k.log.trace("Requesting Fairplay cert data.");m=Promise.resolve({Vp:[{sessionId:h.Ml[0].sessionId,data:d.La.get(f.ti).decode(l.C9)}]});}else m=d.La.get(g.Wi).VF(d.La.get(e.Du).decode("content"),h.Ml[0].data)?Promise.resolve({Vp:[{sessionId:h.Ml[0].sessionId,data:h.so}]}):(function(){k.log.trace("Requesting license",{drmType:h.ev});return k.y2(h).catch(function(p){k.log.error("Unable to get the Fairplay license",p);throw {code:n.Y.GY,subCode:p.subCode,extCode:p.extCode,m1:p.m1,sS:p.message || p.sS,FL:p.data,message:"Unable to send the Fairplay license request. " + (p.message || p.sS),Mb:p};});})();return m;};r.exports=c;},99813:function(r,b,a){var t,w,x,z,y,A,B,C,D,E,F,G;function c(J,N,I){var M;M=this;this.log=J;this.pN=N || u.bind(this);this.context=I;this.Aqb=this.challenge=this.keySystem=this.Ybc=this.mediaKeys=void 0;this.ce={};this.ig=void 0;this.url="";this.Rlb=this.Vtc=!1;this.gpb=h.bind(this);this.lm=this.Aqb=void 0;this.Gyc=new Promise(function(K,L){M.kpc=K;M.foc=L;});this.Kr=function(K,L){M.foc(K,L);M.context.onerror(K,L);};this.iic=function(){M.kpc();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function n(){return t.La.get(y.Du);}function d(){return t.La.get(z.ti);}function g(){return t.La.get(w.Wi);}function e(J){return (/com.apple.fps/).test(J) && !(/com.apple.fps.2_0/).test(J);}function f(J){var N;J=(function(I){var K,L;function M(H,O,P,Q){var S,X;S=new Uint8Array("piff" == O?88:72);X=new E.CX(S);X.CE(12);X.BE("frma");X.BE(H);X.CE(20);X.BE("schm");X.B8(0);X.B8(0);X.BE(O);X.CE(P);"piff" == O?(X.CE(56),X.BE("schi"),X.CE(48),X.BE("uuid"),X.A8([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(X.CE(40),X.BE("schi"),X.CE(32),X.BE("tenc"));X.B8(0);X.B8(0);X.CE(264);X.A8(Q);return S;}K=M("avc1","piff",65537,I);K=n().decode(d().encode(K));I=M("avc1",F.Fy,65536,I);I=n().decode(d().encode(I));L=new Uint8Array(7 + K.length + 8 + I.length + 5);L.set([91,10,32,32,32,32,34],0);L.set(K,7);L.set([34,44,10,32,32,32,32,34],7 + K.length);L.set(I,7 + K.length + 8);L.set([34,10,32,32,93],7 + K.length + 8 + I.length);return L;})(J);N=new Uint8Array(13 + J.length + 2);N.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);N.set(J,13);N.set([10,125],13 + J.length);return N;}function l(J){var N;J=J.subarray(14,30);J=String.fromCharCode.apply(null,J);J=d().decode(J);J=J.subarray(4);N=new Uint8Array(16);N.set(J);return N;}function h(J){var N;N=k(J);this.log.error("LICENSE Error: Received event: " + J.type,{sessionId:this.Ee?this.Ee.sessionId:void 0,keySystem:J.target.keySystem,systemCode:N.$wb,code:N.jeb});this.Kr && this.Kr(G.tu.$E,N);this.Ee=void 0;}function k(J){var N,I;if(J.target.error)(N=J.target.error.systemCode,I=J.target.error.code);return {code:G.tu.$E,subCode:G.p4a.LE,extCode:N?t.La.get(x.GE).JS(N,4):I,details:g().Fg(J),Mb:J.target.error,$wb:N,jeb:I};}function m(J,N,I,M){var K,L,H;K=J.target.sessionId;L=J.message;H=g().VF(L,n().decode("certificate"));I.Rlb=N === D.wm.bZa.MB;I.state=H?2:12;I.log.trace("LICENSE: Received event: " + J.type,{keySystem:J.target.keySystem,sessionId:K});(I.context.yk || I.context.xD || I.context.NI) && I.log.debug("LICENSE: License challenge",d().encode(L));I.Ybc=K;J={so:I.so,gg:N,messageType:"license-request",ev:(/clearkey/i).test(I.keySystem)?"clearkey":"fps",Ml:[{data:L,sessionId:K}]};12 === I.state && (I.pN("lc"),L={data:L,ev:(/clearkey/i).test(I.keySystem)?"clearkey":"fps"},I.context.eka || (I.Aqb=L));I.context.Va.ll(J).then(function(O){if(12 === I.state && (I.pN("lr"),I.iic(),!I.context.eka))(I.Bqb=O.Vp[0].data,I.state=13,M({ta:!0,state:I.state}));else if(I.Ee)return (O=q(I,H,O.Vp[0].data,I.Ee),2 === I.state?O:O.then(function(){I.state=30;M({ta:!0,state:I.state});}));}).catch(function(O){M(g().kN(O,{state:I.state}));});}function p(J,N,I){N.log.trace("LICENSE: Received event: " + J.type,{keySystem:J.target.keySystem,sessionId:J.target.sessionId});I({ta:!0});}function v(J,N,I){var M;M=k(J);N.Kr && N.Kr(G.tu.$E,M);N.log.error("LICENSE Error: Received event: " + J.type,{sessionId:N.Ee?N.Ee.sessionId:void 0,keySystem:J.target.keySystem,systemCode:M.$wb,code:M.jeb});I({ta:!1,code:G.tu.$E,subCode:G.p4a.LE,extCode:M.extCode,message:"Received a key error.",tc:M.details,Mb:M.Mb});}function q(J,N,I,M){M={sessionId:M.sessionId};J.zac() && (M.license=d().encode(I));J.log.trace("calling keysession update",M);return new Promise(function(K,L){function H(){J.Ee.removeEventListener("webkitkeyadded",H);K(void 0);}try{N || J.Ee.addEventListener("webkitkeyadded",H);J.Ee.update(I);N && K(void 0);}catch(O){L({ta:!1,code:G.tu.uta,message:"Unable to update the EME.",e:O});}});}function u(J){this.ce[J]=t.La.get(A.fd).$b().ia(B.pa);this.log.trace("Milestone: " + J + ", " + this.ce[J]);}Object.defineProperty(b,"__esModule",{value:!0});t=a(31276);b=a(36129);w=a(74870);x=a(6405);z=a(2248);y=a(84408);A=a(81918);B=a(5021);C=a(22365);D=a(63156);E=a(70834);F=a(82100);G={tu:b.Y,p4a:b.T};c.prototype.w2=function(){return this.keySystem;};c.prototype.oxc=function(J,N){J.log && (this.log=J.log);J.pN && (this.pN=J.pN);N.Va && (this.context.Va=N.Va);N.onerror && (this.context.onerror=N.onerror);};c.prototype.create=function(J){var N;N=this;N.pN("lg");N.log.trace("CREATE: Creating the media keys",{keySystem:J});N.keySystem=J;return N.context.iNa?Promise.reject({ta:!1,code:G.tu.w9,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function I(){var M,K;M=g().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");K=M.lastChild;N.lm=M;N.context.ha=C.Vh.createElement("VIDEO");K?N.lm.insertBefore(N.context.ha,K):N.lm.appendChild(N.context.ha);}return new Promise(function(M,K){function L(H){(N.context.yk || N.context.xD || N.context.NI) && N.log.trace("CREATE: Received event: " + H.type,{readyState:H.target.readyState,duration:H.target.duration});try{N.mediaKeys=new Ba.WebKitMediaKeys(J);N.context.ha.webkitSetMediaKeys(N.mediaKeys);M({ta:!0,mediaKeys:N.mediaKeys});}catch(O){N.log.error("CREATE: Exception on webkitSetMediaKeys",O);K({ta:!1,code:G.tu.tta,tc:g().Fg(O)});}}if(e(N.keySystem))try{N.mediaKeys=new Ba.WebKitMediaKeys(J);N.context.ha && (N.log.trace("LICENSE: calling setmediakeys on video element"),N.context.ha.webkitSetMediaKeys(N.mediaKeys));M({ta:!0,mediaKeys:N.mediaKeys});}catch(H){K({ta:!1,code:G.tu.tta,tc:g().Fg(H)});}else (N.mediaKeys=new Ba.WebKitMediaKeys(J),N.context.ha?(N.log.trace("LICENSE: calling setmediakeys on video element"),N.context.ha.webkitSetMediaKeys(N.mediaKeys)):(I(),N.ig=new C.WE(),N.ig.addEventListener("sourceopen",L),N.url=URL.createObjectURL(N.ig),N.context.ha.src=N.url),M({ta:!0,mediaKeys:N.mediaKeys}));});})();};c.prototype.close=function(){this.Ee && (this.log.info("Closing the session",{sessionId:this.Ee.sessionId}),this.Ee.removeEventListener("webkitkeyerror",this.gpb),this.Ee.close(),this.Ee=void 0);};c.prototype.ll=function(J,N){var I;if(1 < N.length)return Promise.reject({code:G.tu.KHb});if(0 === N.length)return Promise.reject({code:G.tu.IHb});N=N[0];I=this;I.context.yk && I.log.trace("LICENSE: Setting license",{initData:d().encode(N)});return I.context.iNa?Promise.reject({ta:!1,code:G.tu.BDb,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(M,K){var H,O,P;function L(Q){I.Ee && (I.Ee.removeEventListener("webkitkeymessage",H),I.Ee.removeEventListener("webkitkeyadded",O),I.Ee.removeEventListener("webkitkeyerror",P),I.Ee.addEventListener("webkitkeyerror",I.gpb));Q.ta?M(Q):(I.close(),K(Q));}H=function(Q){m(Q,J,I,L);};O=function(Q){p(Q,I,L);};P=function(Q){v(Q,I,L);};e(I.keySystem) && (I.so=l(N),N=f(I.so));I.log.trace("LICENSE: Executing prefix based EME");I.context.yk | I.context.xD && I.log.debug("LICENSE: PSSH",d().encode(N));I.Ee=I.mediaKeys.createSession("video/mp4",N,null);(I.context.yk || I.context.xD) && I.log.debug("LICENSE: Created the media keys sessions",{keySystem:I.Ee.keySystem,sessionId:I.Ee.sessionId});I.Ee.addEventListener("webkitkeymessage",H);I.Ee.addEventListener("webkitkeyadded",O);I.Ee.addEventListener("webkitkeyerror",P);});})();};c.prototype.kV=function(){var J;J=this;return J.Vtc?Promise.resolve({ta:!0}):new Promise(function(N,I){var K,L,H;function M(O){J.Ee && (J.Ee.removeEventListener("webkitkeymessage",K),J.Ee.removeEventListener("webkitkeyadded",L),J.Ee.removeEventListener("webkitkeyerror",H));O.ta?N(O):(I(O),J.close());}K=function(O){m(O,D.wm.bZa.xs,J,M);};L=function(O){p(O,J,M);N({ta:!0});};H=function(O){v(O,J,M);};J.Rlb=!1;J.Ee.addEventListener("webkitkeymessage",K);J.Ee.addEventListener("webkitkeyadded",L);J.Ee.addEventListener("webkitkeyerror",H);J.Ee.update(n().decode("renew"));});};c.prototype.zza=function(J){this.Bqb || this.log.error("pending license must exist at this point");this.context.eka=!0;try{J && (this.context.ha=J,this.log.trace("calling setmediakeys on video element"),this.context.ha.webkitSetMediaKeys(this.mediaKeys));}catch(N){return new Promise(function(I,M){M({ta:!1,code:G.tu.E$,message:"setMediaKeys failed",tc:g().Fg(N)});});}return q(this,!1,this.Bqb,this.Ee);};c.prototype.zac=function(){return this.context.yk || this.context.xD;};r.exports=c;},31360:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u;Object.defineProperty(b,"__esModule",{value:!0});b.uqb=void 0;r=a(22674);c=a(30650);n=a(71976);d=a(7605);g=a(17705);e=a(31071);f=a(91918);l=a(81025);h=a(23632);k=a(15348);m=a(17108);p=a(82229);v=a(97361);q=a(17391);u=a(85432);b.uqb=new r.Od(function(t){t(d.Sy).to(g.Hta).ma();t(c.j1a).to(n.Ita).ma();t(l.o1a).to(h.Pta);t(l.n1a).Ze(function(w){return function(){return w.tb.get(l.o1a);};});t(e.w1a).to(f.dua).ma();t(k.cua).to(m.bua).ma();t(p.S5a).to(v.Nwa).ma();t(q.f1a).to(u.Bta).ma();});},7605:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sy="PboConfigSymbol";},30650:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.j1a="PboDispatcherSymbol";},81025:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.o1a="PboLinksManagerSymbol";b.n1a="PboLinksManagerFactorySymbol";},15348:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cua="PboPublisherSymbol";},31071:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.w1a="PboRequestFactorySymbol";},82229:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.S5a="ZuulRetryPolicyParserSymbol";},49917:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kna="AdEventPboCommandSymbol";b.Ina="AdBreakEventPboCommandSymbol";},18880:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A,B,C,D,E,F,G,J,N,I,M,K,L,H,O,P,Q,S;Object.defineProperty(b,"__esModule",{value:!0});b.Zab=void 0;r=a(22674);c=a(40953);n=a(30543);d=a(72639);g=a(86563);e=a(81378);f=a(13158);l=a(16257);h=a(46303);k=a(829);m=a(45830);p=a(87607);v=a(84860);q=a(35329);u=a(31149);t=a(36129);w=a(25546);x=a(69740);z=a(88951);y=a(83998);A=a(54949);B=a(62898);C=a(15153);D=a(70285);E=a(76427);F=a(36642);G=a(15614);J=a(95738);N=a(82306);I=a(7605);M=a(67658);K=a(3035);L=a(46320);H=a(595);O=a(49917);P=a(49449);Q=a(41332);S=a(20424);b.Zab=new r.Od(function(X){X(y.Zo).to(A.Gta);X(c.p1a).to(n.Qta);X(B.g1a).to(C.Cta);X(D.h1a).to(E.Dta);X(d.Sta).to(g.Rta);X(M.q1a).Ze(function(W){return function(){var V;V=W.tb.get(I.Sy);return V && V.nzb?W.tb.resolve(L.eua):W.tb.resolve(K.Tta);};});X(e.Ata).to(f.zta);X(l.m1a).to(h.Mta);X(k.Ota).to(m.Nta);X(p.a4a).to(v.Ova);X(p.g4a).to(q.Sva);X(p.VYa).to(w.gra);X(p.Y3a).to(x.Mva);X(p.CWa).to(z.Tpa);X(G.$Hb).to(F.Uta);X(J.l1a).to(N.Lta);X(O.Kna).to(H.Jna);X(O.Ina).to(P.Hna);X(p.Xpa).Ze(function(W){return function(V){switch(V){case p.ps.start:return W.tb.get(p.a4a);case p.ps.stop:return W.tb.get(p.g4a);case p.ps.S3:return W.tb.get(p.VYa);case p.ps.splice:return W.tb.get(p.Y3a);case p.ps.pS:return W.tb.get(p.CWa);}throw new u.ke(t.Y.gHb,void 0,void 0,void 0,void 0,"The event key was invalid - " + V);};});X(Q.e_a).to(S.vra);});},87607:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ps={start:"start",stop:"stop",S3:"keepAlive",pS:"engage",splice:"splice"};b.Xpa="EventPboCommandFactorySymbol";b.a4a="StartEventPboCommandSymbol";b.g4a="StopEventPboCommandSymbol";b.VYa="KeepAliveEventPboCommandSymbol";b.Y3a="SpliceEventPboCommandSymbol";b.CWa="EngageEventPboCommandSymbol";},41332:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.e_a="ManifestPostProcessorSymbol";},81378:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ata=b.oTa=void 0;b.hIb=["prefetch/license","prefetch/license/live"];b.mFb=["license","license/live"];b.oTa=[].concat(xa(b.hIb),xa(b.mFb));b.Ata="PboAcquireLicenseCommandSymbol";},17391:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.f1a="PboBackoffManagerSymbol";},62898:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.g1a="PboBindCommandSymbol";},70285:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.h1a="PboBindDeviceCommandSymbol";},19114:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wh={sJa:"logblob",U:"manifest",Hcc:"licensedmanifest",ll:"license",events:"events",bind:"bind",ping:"ping",config:"config"};b.DIb={X2a:"X-Netflix.Request.Id",V2a:"X-Netflix.Request.Attempt",lva:"X-Netflix.Client.Request.Name",sUa:"x-netflix.browsername",tUa:"x-netflix.browserversion",z0a:"x-netflix.osname",A0a:"x-xetflix.osversion",bVa:"x-netflix.clienttype",c5a:"x-netflix.uiversion"};b.XB={X2a:"reqId",V2a:"reqAttempt",lva:"reqName",sUa:"browsername",tUa:"browserversion",z0a:"osname",A0a:"osversion",bVa:"clienttype",c5a:"uiversion"};},83998:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zo="PboCommandContextSymbol";},95738:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.l1a="PboGenerateScreenshotsCommandSymbol";},16257:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.m1a="PboLicenseRequestTransformerSymbol";},829:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ota="PboLicenseResponseTransformerSymbol";},40953:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.p1a="PboLogblobCommandSymbol";},72639:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sta=b.pTa=void 0;r=b.qs={};r.fZ="PRE_FETCH";r.rIb="QC";r.xs="STANDARD";r.iaa="SUPPLEMENTAL";r.XAc="DOWNLOAD";b.iIb=["prefetch/licensedManifest","prefetch/manifest","prefetch/licensedManifest/live","prefetch/manifest/live"];b.bGb=["licensedManifest","manifest","licensedManifest/live","manifest/live","adBreakHydration"];b.pTa=[].concat(xa(b.iIb),xa(b.bGb));b.Sta="PboManifestCommandSymbol";},67658:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.q1a="PboManifestRequestTransformerSymbol";},15614:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Hb="PboPingCommandSymbol";},49449:function(r,b,a){var n,d,g,e,f;function c(l){return e.Ti.call(this,l,d.Y.ISa) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Hna=void 0;r=a(5163);n=a(22674);d=a(36129);g=a(19114);e=a(51658);f=a(83998);a(2762);Ha(c,e.Ti);c.prototype.kM=function(l){return "LIVE" === l.Je?g.Wh.events + "/live/" + l.event:g.Wh.events + "/" + l.event;};c.prototype.ef=function(l,h){var k,m;k=this;m=this.VK(h);!1;!1;return this.send(l,{url:h.href,name:g.Wh.events,im:this.kM(h),km:2},m).then(function(){return h;}).catch(function(p){throw k.mv(p);});};c.prototype.VK=function(l){return {xid:l.Ea,event:l.event,adEventToken:l.oz,adBreakLocationMs:l.wC,position:l.position,clientTime:l.KC,sessionStartTime:l.Io,appId:l.appId,sessionId:l.sessionId,playTimes:{},adBreakStartTime:l.H_,playbackOffsetRefAdBreakStart:l.C5,adBreakStartOffset:l.Qba};};a=c;b.Hna=a;b.Hna=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(f.Zo))],a);},595:function(r,b,a){var n,d,g,e,f;function c(l){return e.Ti.call(this,l,d.Y.ISa) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Jna=void 0;r=a(5163);n=a(22674);d=a(36129);g=a(19114);e=a(51658);f=a(83998);a(2762);Ha(c,e.Ti);c.prototype.kM=function(l){return "LIVE" === l.Je?g.Wh.events + "/live/" + l.event:g.Wh.events + "/" + l.event;};c.prototype.ef=function(l,h){var k,m;k=this;m=this.VK(h);!1;!1;return this.send(l,{url:h.href,name:g.Wh.events,im:this.kM(h),km:2},m).then(function(){return h;}).catch(function(p){throw k.mv(p);});};c.prototype.VK=function(l){return {xid:l.Ea,event:l.event,adEventToken:l.oz,adBreakLocationMs:l.wC,position:l.position,clientTime:l.KC,sessionStartTime:l.Io,appId:l.appId,sessionId:l.sessionId,playTimes:this.uAa(l.CA),mainManifestPlaybackContextId:l.$dc,thirdPartyAdVerificationMetadata:l.svc};};c.prototype.uAa=function(l){return {total:l.total,audio:l.audio.map(function(h){return {duration:h.duration,downloadableId:h.Nb,cdnId:h.Ap};}),video:l.video.map(function(h){return {duration:h.duration,downloadableId:h.Nb,cdnId:h.Ap};}),text:l.text.map(function(h){return {duration:h.duration,downloadableId:h.Nb,cdnId:h.Ap};})};};a=c;b.Jna=a;b.Jna=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(f.Zo))],a);},88496:function(r,b,a){var n,d,g;function c(e,f,l,h){f=g.Ti.call(this,e,f) || this;f.context=e;f.$Da=l;f.km=h;return f;}Object.defineProperty(b,"__esModule",{value:!0});b.ls=void 0;r=a(5163);n=a(22674);d=a(19114);g=a(51658);a(2762);Ha(c,g.Ti);c.prototype.kM=function(e){return "LIVE" === e.Je?d.Wh.events + "/live/" + this.$Da:d.Wh.events + "/" + this.$Da;};c.prototype.ef=function(e,f){var l,h,k,m,p;l=this;k=e.links;m=this.VK(f);!1;!1;p={url:null !== (h=null === k || void 0 === k?void 0:k.XS("events").href) && void 0 !== h?h:f.href,name:d.Wh.events,im:this.kM(f),km:this.km};return this.send(e,p,m).then(function(v){null === k || void 0 === k?void 0:k.Wya(v.result.links);return f;}).catch(function(v){throw l.mv(v);});};c.prototype.VK=function(e){return {event:this.$Da,xid:e.Ea,position:e.position || 0,clientTime:e.KC,sessionStartTime:e.Io,videoTrackId:e.FW,audioTrackId:e.Qs,timedTextTrackId:e.kW,mediaId:e.ZT,trackId:e.trackId,sessionId:e.sessionId,appId:e.appId,playTimes:this.uAa(e.CA),sessionParams:e.Ho};};c.prototype.tAa=function(e){return {downloadableId:e.Nb,duration:e.duration};};c.prototype.uAa=function(e){var f;f={total:e.total,audio:e.audio.map(this.tAa),video:e.video.map(this.tAa),text:e.text.map(this.tAa)};e.total !== e.XO && (f.totalContentTime=e.XO);0 !== e.DI && (f.totalAdDuration=e.DI);0 !== e.EI && (f.totalOtherDuration=e.EI);if(0 !== e.EI || 0 !== e.DI)f.totalCombinedDuration=e.mW;0 !== e.YO && (f.totalLiveEdgeDuration=e.YO);0 !== e.ZO && (f.totalStartSlateDuration=e.ZO);return f;};a=c;b.ls=a;b.ls=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.$r)()),r.__param(1,(0,n.$r)()),r.__param(2,(0,n.$r)()),r.__param(3,(0,n.$r)())],a);},51658:function(r,b,a){var n,d,g,e;function c(f,l){this.context=f;this.errorCode=l;}Object.defineProperty(b,"__esModule",{value:!0});b.Ti=void 0;r=a(5163);n=a(22674);d=a(71977);g=a(31149);e=a(34231);c.prototype.send=function(f,l,h,k,m){var p;p=this;m=void 0 === m?e.TB.kZ:m;return this.e5b(f,l,h,m,k).then(function(v){return p.context.b_b.send(v.context,v.request);});};c.prototype.e5b=function(f,l,h,k,m){var p,v;try{p=this.context.Ooc.create(this.context.dA.$F(),l.url,h,m,k);v=this.CRb(l,f,k);return Promise.resolve({context:v,request:p});}catch(q){return Promise.reject(q);}};c.prototype.CRb=function(f,l,h){var k;return {Bf:this.context.Bf,Bp:f.name,url:this.context.Fxc((0,d.HRb)(this.context.Yh,this.context.Oh,f.name,h)),km:f.km,timeout:this.context.Oh.timeout,headers:Object.assign(Object.assign({},(0,d.GRb)(this.context.Oh,this.context.qL)),null !== (k=f.Poc) && void 0 !== k?k:{}),im:f.im,log:l.log,fAa:l.fAa,bj:l.bj,N:l.N,requestId:this.context.dA.mXb()};};c.prototype.mv=function(f){return f instanceof g.ke?f:(0,d.mv)(this.errorCode,f);};a=c;b.Ti=a;b.Ti=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.$r)()),r.__param(1,(0,n.$r)())],a);},88951:function(r,b,a){var n,d,g,e,f;function c(l){return g.ls.call(this,l,d.Y.KDb,e.ps.pS,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Tpa=void 0;r=a(5163);n=a(22674);d=a(36129);g=a(88496);e=a(87607);a=a(83998);Ha(c,g.ls);c.prototype.VK=function(l){return Object.assign(Object.assign({},g.ls.prototype.VK.call(this,l)),{action:l.action});};f=c;b.Tpa=f;b.Tpa=f=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.Zo))],f);},82306:function(r,b,a){var n,d,g,e,f;function c(l){return e.Ti.call(this,l,d.Y.aEb) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Lta=void 0;r=a(5163);n=a(22674);d=a(36129);g=a(19114);e=a(51658);a=a(83998);Ha(c,e.Ti);c.prototype.ef=function(l,h){var k,m,p;k=this;p=l.links;p={url:null !== (m=null === p || void 0 === p?void 0:p.XS("generateScreenshots").href) && void 0 !== m?m:"/generateScreenshots",name:g.Wh.U,im:"generateScreenshots",km:2};return this.send(l,p,h).then(function(v){return v.result;}).catch(function(v){throw k.mv(v);});};f=c;b.Lta=f;b.Lta=f=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.Zo))],f);},25546:function(r,b,a){var n,d,g,e,f;function c(l){return g.ls.call(this,l,d.Y.ara,e.ps.S3,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.gra=void 0;r=a(5163);n=a(22674);d=a(36129);g=a(88496);e=a(87607);a=a(83998);Ha(c,g.ls);f=c;b.gra=f;b.gra=f=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.Zo))],f);},20424:function(r,b,a){var n,d;function c(g){this.config=g;}Object.defineProperty(b,"__esModule",{value:!0});b.vra=void 0;r=a(5163);n=a(4203);a=a(22674);c.prototype.process=function(g){var e,f,l;if("LIVE" === g.streamingType && this.config().YM){e=Object.assign(Object.assign({},this.config().YM),this.config().YM.video);g.video_tracks.forEach(function(h){h.streams.forEach(function(k){k.urls=[k.urls[0]];k.urls[0].url=e.baseUrl + "/" + e.packageId + "/" + e.encoder + "/" + e.feed + "/" + e.mediaOutputGroup + "/" + k.downloadable_id;});});f=Object.assign(Object.assign({},this.config().YM),this.config().YM.audio);g.audio_tracks.forEach(function(h){h.streams.forEach(function(k){k.urls=[k.urls[0]];k.urls[0].url=f.baseUrl + "/" + f.packageId + "/" + f.encoder + "/" + f.feed + "/" + f.mediaOutputGroup + "/" + k.downloadable_id;});});l=Object.assign(Object.assign({},this.config().YM),this.config().YM.text);g.timedtexttracks.forEach(function(h){Object.values(h.ttDownloadables).forEach(function(k){var m;k.urls && 0 < (null === (m=k.urls) || void 0 === m?void 0:m.length) && (k.urls=[k.urls[0]],k.urls[0].url=l.baseUrl + "/" + l.packageId + "/" + l.encoder + "/" + l.feed + "/" + l.mediaOutputGroup + "/" + k.id);});});}};d=c;b.vra=d;b.vra=d=r.__decorate([(0,a.W)(),r.__param(0,(0,a.l)(n.uc))],d);},13158:function(r,b,a){var n,d,g,e,f;function c(l){return e.Ti.call(this,l,d.Y.GY) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.zta=void 0;r=a(5163);n=a(22674);d=a(36129);g=a(19114);e=a(51658);a=a(83998);Ha(c,e.Ti);c.prototype.kM=function(l){var h;h="ldl" === l.$Ia?"prefetch/license":"license";"LIVE" === l.Je && (h+="/live");return h;};c.prototype.ef=function(l,h){var k,m;k=this;m={url:l.links.XS(h.$Ia).href,name:g.Wh.ll,im:this.kM(h),km:"ldl" === h.$Ia?0:3};return this.send(l,m,h.inputs,"drmSessionId").then(function(p){p=p.result;k.mTb(p);return p;}).catch(function(p){throw k.mv(p);});};c.prototype.mTb=function(l){l.forEach(function(h){if(!h.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};f=c;b.zta=f;b.zta=f=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.Zo))],f);},15153:function(r,b,a){var n,d,g,e,f;function c(l){return e.Ti.call(this,l,d.Y.hBb) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Cta=void 0;r=a(5163);n=a(22674);d=a(36129);g=a(19114);e=a(51658);a=a(83998);Ha(c,e.Ti);c.prototype.ef=function(l,h){var k;k=this;return this.send(l,{url:"/" + g.Wh.bind,name:g.Wh.bind,im:g.Wh.bind,km:2},h).then(function(m){return m.result;}).catch(function(m){throw k.mv(m);});};f=c;b.Cta=f;b.Cta=f=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.Zo))],f);},76427:function(r,b,a){var n,d,g,e,f;function c(l){return e.Ti.call(this,l,d.Y.iBb) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Dta=void 0;r=a(5163);n=a(22674);d=a(36129);g=a(19114);e=a(51658);a=a(83998);Ha(c,e.Ti);c.prototype.ef=function(l,h){var k;k=this;return this.send(l,{url:"/bindDevice",name:g.Wh.bind,im:g.Wh.bind,km:2},h).then(function(m){return m.result;}).catch(function(m){throw k.mv(m);});};f=c;b.Dta=f;b.Dta=f=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.Zo))],f);},54949:function(r,b,a){var n,d,g,e,f,l,h,k,m;function c(p,v,q,u,t,w,x,z,y){this.Yh=p;this.Bf=v;this.Oh=q;this.b_b=u;this.dA=t;this.Fxc=w;this.Ooc=z;this.qL=y;}Object.defineProperty(b,"__esModule",{value:!0});b.Gta=void 0;r=a(5163);n=a(22674);d=a(24747);g=a(7605);e=a(31071);f=a(30650);l=a(62665);h=a(32934);k=a(77687);m=a(15160);a=a(33554);b.Gta=c;b.Gta=c=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.N8)),r.__param(1,(0,n.l)(h.Ly)),r.__param(2,(0,n.l)(g.Sy)),r.__param(3,(0,n.l)(f.j1a)),r.__param(4,(0,n.l)(l.LB)),r.__param(5,(0,n.l)(k.o5a)),r.__param(6,(0,n.l)(m.o9)),r.__param(7,(0,n.l)(e.w1a)),r.__param(8,(0,n.l)(a.CB))],c);},71977:function(r,b,a){var l,h;function c(k){return !(!k || !k.MH && !k.pboc || !k.code && !k.code);}function n(k){return !(!k || !k.subCode);}function d(k){return !!(k instanceof Error);}function g(k){switch(k){case "ACCOUNT_ON_HOLD":return h.T.WGb;case "STREAM_QUOTA_EXCEEDED":return h.T.eHb;case "INSUFFICICENT_MATURITY":return h.T.kHb;case "TITLE_OUT_OF_WINDOW":return h.T.tHb;case "CHOICE_MAP_ERROR":return h.T.dHb;case "BadRequest":return h.T.oHb;case "Invalid_SemVer_Format":return h.T.lHb;case "RESTRICTED_TO_TESTERS":return h.T.rHb;case "AGE_VERIFICATION_REQUIRED":return h.T.bHb;case "BLACKLISTED_IP":return h.T.cHb;case "DEVICE_EOL_WARNING":return h.T.nta;case "DEVICE_EOL_FINAL":return h.T.L0a;case "INCORRECT_PIN":return h.T.ota;case "MOBILE_ONLY":return h.T.qHb;case "MDX_CONTROLLER_CTICKET_INVALID":return h.T.pHb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return h.T.uHb;case "RESET_DEVICE":return h.T.O0a;case "RELOAD_DEVICE":return h.T.N0a;case "EXIT_DEVICE":return h.T.M0a;case "FREE_PREVIEW_ENDED":return h.T.jHb;case "STREAMING_LOCATION_DISALLOWED":return h.T.sHb;case "EXTRA_MEMBER_STREAM_HOLD":return h.T.iHb;case "EXTRA_MEMBER_REMOVED_STREAM_HOLD":return h.T.hHb;case "ADS_UNAVAILABLE_VIEWABLE":return h.T.XGb;case "ADS_UNSUPPORTED_DEVICE":return h.T.$Gb;case "ADS_UNSUPPORTED_CLIENT_APP_VERSION":return h.T.YGb;case "ADS_UNSUPPORTED_COUNTRY":return h.T.ZGb;case "ADS_VPN_USE_DETECTED":return h.T.aHb;case "LIVE_STREAMING_UNSUPPORTED_DEVICE":return h.T.nHb;case "LIVE_STREAMING_UNSUPPORTED_APP_VERSION":return h.T.mHb;case "CONTENT_PREVIEW_MFA_REQUIRED":return h.T.fHb;default:return h.T.aXa;}}function e(k,m){var p;p=g(m.code);return new l.ke(k,p,"BadRequest" === m.code?h.P9.wBb:void 0,m.code,void 0,m.display,void 0,m.detail,m.display,m.bladeRunnerCode?Number(m.bladeRunnerCode):void 0,m.alert,m.alertTag,m.playbackContextId,m.displayCode);}function f(k,m){return new l.ke(k,m.subCode,m.extCode,void 0,m.QD,m.message,m.details,m.data);}Object.defineProperty(b,"__esModule",{value:!0});b.fha=c;b.hKc=n;b.$G=d;b.UIc=g;b.mv=function(k,m){return n(m)?f(k,m):c(m)?e(k,m):d(m)?l.ke.bFa(k,m):new l.ke(k,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,m);};b.VIc=e;b.TIc=f;b.HRb=function(k,m,p,v,q){var u,t,w,x;q=void 0 === q?"router":q;u=m.mPa[p];if(void 0 === u)throw {MH:!0,code:"FAIL",display:"Unable to build the URL for " + p + " because there was no configuration information",detail:m};t=u.version;if(void 0 === t)throw {MH:!0,code:"FAIL",display:"Unable to build the URL for " + p + " because there was no version information",detail:m};w=u.service;if(void 0 === w)throw {MH:!0,code:"FAIL",display:"Unable to build the URL for " + p + " because there was no service information",detail:m};x=u.orgOverride;if(void 0 === x && (x=m.organization,void 0 === x))throw {MH:!0,code:"FAIL",display:"Unable to build the URL for " + p + " because there was no organization information",detail:m};return u.isLogsApiDirect?k.Ydb + "/" + x + "/" + w + "/" + encodeURIComponent(t):u.isPlayApiDirect?k.g7b(v) + "/" + x + "/" + w + "/" + encodeURIComponent(t):k.R6b(v) + "/" + x + "/" + w + "/" + encodeURIComponent(t) + "/" + q;};b.GRb=function(k,m){var p;p={"Content-Type":"text/plain"};m=m();k.a9a && m && (p["X-Esn"]=m.Sl);return p;};l=a(31149);h=a(36129);},46303:function(r,b,a){var n,d,g,e,f;function c(l,h,k){this.Aa=l;this.platform=h;this.config=k;}Object.defineProperty(b,"__esModule",{value:!0});b.Mta=void 0;r=a(5163);n=a(22674);d=a(30869);g=a(5021);e=a(91581);a=a(4203);c.prototype.Wvc=function(l){var h,k;h=this;k=this.Aa.df.ia(g.Jq);return {inputs:l.Ml.map(function(m){var p,v,q,u,t;return {drmSessionId:m.sessionId,clientTime:k,challengeBase64:m.dataBase64,xid:l.Ea.toString(),clientVersion:h.platform.version,platform:null === (p=h.config().Zd) || void 0 === p?void 0:p.version,osVersion:null === (q=null === (v=h.config().Zd) || void 0 === v?void 0:v.os) || void 0 === q?void 0:q.version,osName:null === (t=null === (u=h.config().Zd) || void 0 === u?void 0:u.os) || void 0 === t?void 0:t.name};}),$Ia:"standard" === l.gg.toLowerCase()?"license":"ldl",Je:l.Je,N:l.N};};f=c;b.Mta=f;b.Mta=f=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.hh)),r.__param(1,(0,n.l)(e.ws)),r.__param(2,(0,n.l)(a.uc))],f);},45830:function(r,b,a){var n,d,g;function c(e,f){this.Si=e;this.wz=f;}Object.defineProperty(b,"__esModule",{value:!0});b.Nta=void 0;r=a(5163);n=a(22674);d=a(74870);a=a(2248);c.prototype.Sxb=function(e){var f,l;f=this;l=e.map(function(h){return h.links.releaseLicense.href;}).map(function(h){return f.Si.Lja(h.substring(h.indexOf("?") + 1));});return {ta:!0,fH:e.map(function(h,k){return {id:h.drmSessionId,Llb:l[k].drmlicensecontextid,Mlb:l[k].licenseid};}),Vp:e.map(function(h){return {data:f.wz.decode(h.licenseResponseBase64),sessionId:h.drmSessionId};})};};g=c;b.Nta=g;b.Nta=g=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.Wi)),r.__param(1,(0,n.l)(a.ti))],g);},30543:function(r,b,a){var n,d,g,e,f;function c(l){return e.Ti.call(this,l,d.Y.kFb) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Qta=void 0;r=a(5163);n=a(22674);d=a(36129);g=a(19114);e=a(51658);a=a(83998);Ha(c,e.Ti);c.prototype.ef=function(l,h){var k;k=this;return this.send(l,{url:"/" + g.Wh.sJa,name:g.Wh.sJa,im:g.Wh.sJa,Poc:this.context.Oh.mPa.logblob.isLogsApiDirect?{"content-encoding":"msl_v1"}:{},km:1},h).then(function(m){return m.result;}).catch(function(m){throw k.mv(m);});};f=c;b.Qta=f;b.Qta=f=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.Zo))],f);},86563:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q;function c(u,t,w,x,z,y){u=e.Ti.call(this,u,d.Y.CJ) || this;u.platform=t;u.t4=w;u.Gcc=x;u.jec=z;u.hlc=y;return u;}Object.defineProperty(b,"__esModule",{value:!0});b.Rta=void 0;r=a(5163);n=a(72639);d=a(36129);g=a(19114);a(2762);e=a(51658);f=a(83998);l=a(91581);h=a(34231);k=a(17398);m=a(829);p=a(22674);v=a(67658);a=a(41332);Ha(c,e.Ti);c.prototype.E7b=function(u,t){var w,x,z;x=t?g.Wh.Hcc:g.Wh.U;t=t?"licensedManifest":"manifest";z=u.ux === n.qs.fZ;z && (t="prefetch/" + t);"live" === u.lb.ue && (t+="/live");if(null === (w=u.Dg) || void 0 === w?0:w.yi)t="adBreakHydration";u=!!u.tv;return {im:t,qUb:x,km:z || u?0:3};};c.prototype.ef=function(u,t){var w,x;w=this;x=t.ux === n.qs.iaa?h.TB.p2a:h.TB.kZ;return this.jec().transform(t,x).then(function(z){var y,A;y=Ea(z);z=y.next().value;A=y.next().value;!1;y=w.E7b(t,"licensedManifest" === A.Bp);return w.send(u,{url:A.Bp,name:y.qUb,im:y.im,km:y.km},z,void 0,x).then(function(B){var C,D;C=B.result;w.hlc.forEach(function(E){return E.process(C);});B=w.t4.create(C);D=B.Ca;A.XC && (D=D.hw.map(function(E){return E.ll;}).filter(Boolean),0 < D.length?(D=w.Gcc.Sxb(D),A.XC.M8a(D),B.XC=A.XC,B.iIa=!0):A.XC.close());B.e0=A.e0;B.r8=A.r8;!1;return B;});}).catch(function(z){!1;throw w.mv(z);});};q=c;b.Rta=q;b.Rta=q=r.__decorate([(0,p.W)(),r.__param(0,(0,p.l)(f.Zo)),r.__param(1,(0,p.l)(l.ws)),r.__param(2,(0,p.l)(k.bQ)),r.__param(3,(0,p.l)(m.Ota)),r.__param(4,(0,p.l)(v.q1a)),r.__param(5,(0,p.optional)()),r.__param(5,(0,p.AH)(a.e_a))],q);},3035:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t,w;function c(x,z,y,A,B,C,D,E,F,G){this.Oh=x;this.platform=z;this.config=y;this.VSb=A;this.Fkc=B;this.Hr=C;this.A0=D;this.Aa=E;this.lia=F;this.rx=G;}Object.defineProperty(b,"__esModule",{value:!0});b.Tta=void 0;r=a(5163);n=a(22674);d=a(72639);g=a(4203);e=a(14423);f=a(34029);l=a(67650);h=a(21103);k=a(91581);m=a(30869);p=a(5021);v=a(2492);q=a(7605);u=a(36582);t=a(56800);w=a(24735);c.prototype.transform=function(x,z){var y,A,B,C,D,E,F;y=this;A=x.lb;B=Object.assign({},A.Cca,A.Ho);C={};D=x.N;E=this.config();C[D]={unletterboxed:!!B.preferUnletterboxed || E.olc};E=E.l8?this.Hr.j5b():Promise.resolve(this.lia.xx());F={ue:null === A || void 0 === A?void 0:A.ue};return Promise.all([this.rx.Rhb(F),this.rx.Thb(F),this.rx.I2(),this.F4b(x.Ea,z),this.o5b(x),E]).then(function(G){var J,N,I,M,K,L,H,O,P,Q,S,X,W,V,fa,ba;J=Ea(G);N=J.next().value;I=J.next().value;M=J.next().value;K=J.next().value;G=J.next().value;L=J.next().value;J=N.Yfa().concat(I.Yfa()).concat(y.config().yy).concat(["iso_23001_18-dash-live"]).concat(["BIF240","BIF320"]).filter(Boolean);ba="postplay" === A.ue?!0:!!B.isUIAutoPlay;M={type:"standard",manifestVersion:y.Oh.Sdb?"v2":"v1",viewableId:D,profiles:J,flavor:x.ux,drmType:L,drmVersion:"playready" === L?30:0,usePsshBox:!0,isBranching:!!x.lb.yh,useHttpsStreams:!0,supportsUnequalizedDownloadables:y.config().Vuc,imageSubtitleHeight:e.Wva.thb(),uiVersion:y.Oh.lB,uiPlatform:y.Oh.Lma,clientVersion:y.platform.version,platform:null === (H=y.config().Zd) || void 0 === H?void 0:H.version,osVersion:null === (P=null === (O=y.config().Zd) || void 0 === O?void 0:O.os) || void 0 === P?void 0:P.version,osName:null === (S=null === (Q=y.config().Zd) || void 0 === Q?void 0:Q.os) || void 0 === S?void 0:S.name,supportsPreReleasePin:y.config().mt.Muc,supportsWatermark:y.config().mt.Nuc,packageId:y.b7b(A),videoOutputInfo:M,titleSpecificData:C,preferAssistiveAudio:!!B.assistiveAudioPreferred,preferredTextLocale:B.preferredTextLocale,preferredAudioLocale:B.preferredAudioLocale,isUIAutoPlay:ba,challenge:K,isNonMember:y.Oh.tkb,pin:A.Gqb,desiredVmaf:y.config().hzb?y.config().Rcb:y.config().Scb,desiredSegmentVmaf:y.config().hzb?y.config().Rcb:y.config().Scb,requestSegmentVmaf:y.config().Voc,supportsPartialHydration:y.Oh.kS,contentPlaygraph:x.lb.yh?[]:y.Oh.iL,supportsAdBreakHydration:!0,auxiliaryManifestToken:x.lb.yh?void 0:null === (X=x.Dg) || void 0 === X?void 0:X.vc,adBreakToken:x.lb.yh?void 0:null === (W=x.Dg) || void 0 === W?void 0:W.yi,originalPlaybackContextId:!x.lb.yh && (null === (V=x.Dg) || void 0 === V?0:V.vc)?null === (fa=x.Dg) || void 0 === fa?void 0:fa.o5:void 0,liveMetadataFormat:"INDEXED_SEGMENT_TEMPLATE",useBetterTextUrls:!0,liveAdsCapability:y.config().v1?y.config().$cc:void 0};A.ueb && (M.extraParams=A.ueb);A.Pcb && (M.desiredDownloadables=A.Pcb);A.gOa && (M.requestReference=A.gOa);H={Bp:M.adBreakToken?"adBreakHydration":G?"licensedManifest":"manifest",XC:null === G || void 0 === G?void 0:G.cE,e0:N,r8:I};G && (G={drmSessionId:G.cE.fM() || "session",clientTime:y.Aa.qO.ia(p.Jq),challengeBase64:G.RAa},M.challenges={"default":[G]},M.profileGroups=[{name:"default",profiles:J}],M.licenseType=x.gg == w.Xo.MB?"limited":"standard",x.Ea && (M.xid=x.Ea.toString()));y.Oh.kS || (M.showAllSubDubTracks=y.config().mt.Ssc || !!B.showAllSubDubTracks);y.Oh.Mdb && x.ux === d.qs.iaa && (M.maxSupportedLanguages=2);x.qW && (M.originalPlaybackContextId=x.qW.o5,M.requiredAudioTrackId=x.qW.apc,M.requiredTextTrackId=x.qW.dpc);x.tv && (M.hasCachedManifest=x.tv);x.cma && (M.stickySteeringToken=x.cma);return [M,H];});};c.prototype.b7b=function(x){if(this.config().Gka.enabled){if(void 0 !== x.hq)return x.hq;if(void 0 !== this.config().Gka.hq)return Number(this.config().Gka.hq);}};c.prototype.F4b=function(x,z){var y;y=this;return this.VSb.bgb(z).then(function(A){var B;B=x && y.Fkc.i7b(x);B && B.Ms("cad");return A;});};c.prototype.o5b=function(x){var z;if(void 0 === x.gg || !this.config().l8)return Promise.resolve(void 0);z=x.gg === w.Xo.xs && this.Oh.Dz;return x.gg === w.Xo.MB && this.Oh.mG || z?this.A0.qGa(x.gg):Promise.resolve(void 0);};a=c;b.Tta=a;b.Tta=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(q.Sy)),r.__param(1,(0,n.l)(k.ws)),r.__param(2,(0,n.l)(g.uc)),r.__param(3,(0,n.l)(f.BUa)),r.__param(4,(0,n.l)(l.xua)),r.__param(5,(0,n.l)(h.Ny)),r.__param(6,(0,n.l)(v.f9)),r.__param(7,(0,n.l)(m.hh)),r.__param(8,(0,n.l)(u.qsa)),r.__param(9,(0,n.l)(t.GP))],a);},36642:function(r,b,a){var n,d,g,e,f;function c(l){return e.Ti.call(this,l,d.Y.vHb) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Uta=void 0;r=a(5163);n=a(22674);d=a(36129);g=a(19114);e=a(51658);a=a(83998);Ha(c,e.Ti);c.prototype.ef=function(l,h){var k;k=this;return this.send(l,{url:"/" + g.Wh.ping,name:g.Wh.ping,im:g.Wh.ping,km:1},h).then(function(m){return m.result;}).catch(function(m){throw k.mv(m);});};f=c;b.Uta=f;b.Uta=f=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.Zo))],f);},46320:function(r,b,a){var n,d,g,e,f,l;function c(h,k,m,p){this.platform=h;this.config=k;this.A0=m;this.rx=p;}Object.defineProperty(b,"__esModule",{value:!0});b.eua=void 0;r=a(5163);n=a(22674);d=a(4203);g=a(91581);e=a(2492);f=a(56800);l=a(24735);c.prototype.transform=function(h){var k,m,p;k=this;m=h.lb;p={ue:void 0};return Promise.all([this.rx.Rhb(p),this.rx.Thb(p),this.A0.qGa(l.Xo.xs)]).then(function(v){var q,u;q=Ea(v);v=q.next().value;u=q.next().value;q=q.next().value;return [{viewableId:h.N,packageId:m.hq,assetId:m.Iza,challenge:q.RAa,audioProfiles:v.Yfa(),textProfiles:k.config().yy,trickplayProfiles:["BIF240","BIF320"],videoProfiles:u.Yfa(),audioLanguages:m.nQb,textLanguages:m.pvc,videoLanguages:m.Bzb?[m.Bzb]:void 0,videoAspectRatios:m.yzb?[m.yzb]:void 0,requestReference:m.gOa,additionalAudioAssets:m.LOb,additionalTextAssets:m.POb,useBetterTextUrls:!0},{XC:null === q || void 0 === q?void 0:q.cE,Bp:"studioManifest",e0:v,r8:u}];});};a=c;b.eua=a;b.eua=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.ws)),r.__param(1,(0,n.l)(d.uc)),r.__param(2,(0,n.l)(e.f9)),r.__param(3,(0,n.l)(f.GP))],a);},69740:function(r,b,a){var n,d,g,e,f;function c(l){return g.ls.call(this,l,d.Y.q3a,e.ps.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Mva=void 0;r=a(5163);n=a(22674);d=a(36129);g=a(88496);e=a(87607);a=a(83998);Ha(c,g.ls);f=c;b.Mva=f;b.Mva=f=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.Zo))],f);},84860:function(r,b,a){var n,d,g,e,f;function c(l){return g.ls.call(this,l,d.Y.bJb,e.ps.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Ova=void 0;r=a(5163);n=a(22674);d=a(36129);g=a(88496);e=a(87607);a=a(83998);Ha(c,g.ls);f=c;b.Ova=f;b.Ova=f=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.Zo))],f);},35329:function(r,b,a){var n,d,g,e,f;function c(l){return g.ls.call(this,l,d.Y.qZ,e.ps.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Sva=void 0;r=a(5163);n=a(22674);d=a(36129);g=a(88496);e=a(87607);a=a(83998);Ha(c,g.ls);f=c;b.Sva=f;b.Sva=f=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.Zo))],f);},85432:function(r,b,a){var n,d,g,e,f,l,h,k;function c(m,p,v){this.performance=m;this.config=v;this.l0=[];this.log=p.fb("PboBackoffManager");}Object.defineProperty(b,"__esModule",{value:!0});b.Bta=void 0;r=a(5163);n=a(22674);d=a(87386);g=a(63368);e=a(5021);f=a(79542);l=a(81378);h=a(72639);a=a(7605);k=[].concat(xa(l.oTa),xa(h.pTa));c.prototype.eNa=function(m,p){var v;if(this.config.FDa && (0,f.osb)(k,p) && (m=(null !== m && void 0 !== m?m:{})["x-netflix.playapi.backoff"]))try{v=JSON.parse(m);this.$xc(v);this.log.debug("Adding backoff",v);this.l0.push({uOa:v.retryAfterSeconds,Xoc:v.requestTypes,zE:v.viewableIds,OQb:this.performance.now()});}catch(q){}};c.prototype.t4b=function(m,p){var v,q,u;v=this;if(this.config.FDa){q=this.performance.now();this.QTb(q);u=this.l0.filter(function(t){return (0,f.osb)(t.Xoc,m);}).filter(function(t){return void 0 === t.zE || 0 === t.zE.length || t.zE.includes(p);});if(0 !== u.length){if(m.startsWith("prefetch"))return (this.log.debug("getBackoff: cancelling " + m + " request for " + p),{yR:!0});u=u.map(function(t){return v.Ahb(t,q);}).reduce(function(t,w){return 0 < w.el(t)?w:t;},(0,e.Ch)(0));this.log.debug("getBackoff: delaying " + m + " request for " + p + " for " + u.ia(e.pa) + "ms");return {yR:!1,zpc:u};}}};c.prototype.$xc=function(m){if("number" !== typeof m.retryAfterSeconds)throw Error("retryAfterSeconds is not a number");if(!Array.isArray(m.requestTypes))throw Error("requestTypes is not an array");if(0 === m.requestTypes.length)throw Error("requestTypes is empty");if(!m.requestTypes.every(function(p){return "string" === typeof p;}))throw Error("requestTypes contains a non-string element");if(void 0 !== m.viewableIds){if(!Array.isArray(m.viewableIds))throw Error("viewableIds is not an array");if(!m.viewableIds.every(function(p){return "number" === typeof p;}))throw Error("viewableIds contains a non-number element");}};c.prototype.QTb=function(m){for(var p=this.l0.length - 1;0 <= p;)(this.Ahb(this.l0[p],m).rIa() || this.l0.splice(p,1),--p);};c.prototype.Ahb=function(m,p){p=(0,e.bc)(p).ka((0,e.bc)(m.OQb));return (0,e.Ch)(m.uOa).ka(p);};l=c;b.Bta=l;b.Bta=l=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.H$)),r.__param(1,(0,n.l)(d.kb)),r.__param(2,(0,n.l)(a.Sy))],l);},17705:function(r,b,a){var n,d,g,e,f,l,h,k;function c(m,p,v,q){m=d.zf.call(this,m,"PboConfigImpl") || this;m.config=p;m.jPb=v;m.kj=q;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.Hta=void 0;r=a(5163);n=a(22674);d=a(64174);g=a(83767);e=a(12501);f=a(4203);l=a(24747);h=a(5614);k=a(5021);Ha(c,d.zf);Ga.Object.defineProperties(c.prototype,{lB:{configurable:!0,enumerable:!0,get:function(){return this.config().mt.lB || "";}},Lma:{configurable:!0,enumerable:!0,get:function(){return this.config().mt.Lma || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().mt.TMa;}},tkb:{configurable:!0,enumerable:!0,get:function(){return !1;}},mPa:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isLogsApiDirect:!0,version:"1"},manifest:{service:"manifest",isPlayApiDirect:!0,version:"1"},licensedmanifest:{service:"licensedmanifest",isPlayApiDirect:!0,version:"1"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.jPb.t$a,version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.Mub);}},Mub:{configurable:!0,enumerable:!0,get:function(){return {};}},Bsb:{configurable:!0,enumerable:!0,get:function(){return !1;}},kHa:{configurable:!0,enumerable:!0,get:function(){return 10;}},a9a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Dz:{configurable:!0,enumerable:!0,get:function(){return this.kj.Dz;}},mG:{configurable:!0,enumerable:!0,get:function(){return this.kj.mG;}},gP:{configurable:!0,enumerable:!0,get:function(){return this.kj.gP;}},nzb:{configurable:!0,enumerable:!0,get:function(){return !1;}},Mdb:{configurable:!0,enumerable:!0,get:function(){return !0;}},gzb:{configurable:!0,enumerable:!0,get:function(){return [];}},Sdb:{configurable:!0,enumerable:!0,get:function(){return !0;}},kS:{configurable:!0,enumerable:!0,get:function(){return this.kj.kS;}},iL:{configurable:!0,enumerable:!0,get:function(){return this.kj.iL;}},timeout:{configurable:!0,enumerable:!0,get:function(){return (0,k.Ch)(59);}},FDa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;b.Hta=a;r.__decorate([e.config(e.string,"uiVersion")],a.prototype,"lB",null);r.__decorate([e.config(e.string,"uiPlatform")],a.prototype,"Lma",null);r.__decorate([e.config(e.rE,"pboVersion")],a.prototype,"version",null);r.__decorate([e.config(e.string,"pboOrganization")],a.prototype,"organization",null);r.__decorate([e.config(e.aW,"pboLanguages")],a.prototype,"languages",null);r.__decorate([e.config(e.xd,"hasLimitedPlaybackFunctionality")],a.prototype,"tkb",null);r.__decorate([e.config(e.object(),"pboCommands")],a.prototype,"mPa",null);r.__decorate([e.config(e.object(),"pboCommandsOverride")],a.prototype,"Mub",null);r.__decorate([e.config(e.xd,"pboRecordHistory")],a.prototype,"Bsb",null);r.__decorate([e.config(e.rE,"pboHistorySize")],a.prototype,"kHa",null);r.__decorate([e.config(e.xd,"pboAddXEsnHeader")],a.prototype,"a9a",null);r.__decorate([e.config(e.xd,"combineManifestAndLicense")],a.prototype,"Dz",null);r.__decorate([e.config(e.xd,"enableLicensedManifestForPrefetch")],a.prototype,"mG",null);r.__decorate([e.config(e.xd,"useLdlForPrefetchLicensedManifest")],a.prototype,"gP",null);r.__decorate([e.config(e.xd,"pboUseStudioManifest")],a.prototype,"nzb",null);r.__decorate([e.config(e.xd,"pboEnableLeanManifest")],a.prototype,"Mdb",null);r.__decorate([e.config(e.xd,"useHeaderForRequestNames")],a.prototype,"gzb",null);r.__decorate([e.config(e.xd,"pboEnableV2OptimizedManifest")],a.prototype,"Sdb",null);r.__decorate([e.config(e.xd,"pboEnableManifestPartialHydrationSupport")],a.prototype,"kS",null);r.__decorate([e.config(e.aW,"pboContentPlaygraphTypes")],a.prototype,"iL",null);r.__decorate([e.config(e.ol,"pboTimeout")],a.prototype,"timeout",null);r.__decorate([e.config(e.xd,"enablePboBackoff")],a.prototype,"FDa",null);b.Hta=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.Tn)),r.__param(1,(0,n.l)(f.uc)),r.__param(2,(0,n.l)(l.N8)),r.__param(3,(0,n.l)(h.nQ))],a);},71976:function(r,b,a){var g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A,B,C,D;function c(E){this.config=E;this.LC=[];}function n(E,F,G){this.Oa=E;this.sW=F;this.context=G;this.startTime=this.Oa.$b();}function d(E,F,G,J,N,I,M,K,L,H,O,P){this.ayb=F;this.json=G;this.Oa=J;this.hD=N;this.wNa=I;this.Rc=M;this.config=K;this.Xb=L;this.receiver=H;this.mzc=O;this.vqb=P;this.log=E.fb("Pbo");K.Bsb && (this.LC=new c(K));this.sW=this.ayb();}Object.defineProperty(b,"__esModule",{value:!0});b.Ita=void 0;r=a(5163);g=a(22674);e=a(5021);f=a(14543);l=a(87386);h=a(63368);k=a(81918);m=a(34231);p=a(10306);v=a(53085);q=a(71977);u=a(7605);t=a(15160);w=a(85001);x=a(19114);z=a(45385);y=a(15348);A=a(91176);B=a(82229);a=a(17391);C={"shakti-":"akira"};d.prototype.send=function(E,F){var G;G=new n(this.Oa,this.sW,E);this.LC && this.LC.append(G);return this.dPa(E,F,G);};d.prototype.dPa=function(E,F,G){var J;J=this;return new Promise(function(N,I){J.retry(E,F).then(function(M){var K,L;J.Rqc(M);K=Ea(J.cyc(M));L=K.next().value;K=K.next().value;L && (J.receiver.qNa({command:E.Bp,inputs:F,outputs:L}),J.gUb(G),N(M));K && (J.Rab(G,K),I(K));}).catch(function(M){var K;J.receiver.qNa({command:E.Bp,inputs:F,outputs:M});K=J.Rab(G,M);M.tc && (M.tc=[M.tc," ",K].join(""));I(M);});});};d.prototype.Rqc=function(E){(E=E.serverTime) && this.Xb.Pc(w.Uqa.Kub,(0,e.bc)(E));};d.prototype.cyc=function(E){var F;!1;F=E.result;if(("deviceCommand" in E)){E=E.deviceCommand;this.log.trace("Received device command '" + E + "'");switch(E){case "reset":F="RESET_DEVICE";break;case "reload":F="RELOAD_DEVICE";break;case "exit":F="EXIT_DEVICE";break;default:(F="FAIL",this.log.error("Unhandled device command '" + E + "'"));}return [,{MH:!0,code:F,detail:{message:"Server sent device action to '" + E + "' device"}}];}if(F)return (!1,[F,void 0]);if(E.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",E),[,{code:E.code,detail:{message:E.message}}]);this.log.error("Response did not contain a result or an error",E);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};d.prototype.hQb=function(E,F,G){var J,N;J=this;this.Axc(F,E);this.sW=this.ayb(G);return this.sW.send(F,G).then(function(I){N=I.headers;return {retry:!1,xqb:z.F$.Pjc(J.json,I.body),headers:N};}).catch(function(I){var M,K;N=null !== N && void 0 !== N?N:I.headers;M=J.mzc.J7b(N);K=z.F$.v6b(I,M);K=void 0 !== K?Math.min(K,F.km):F.km;return J.oq(F,I,E,K)?(M=J.wSb(M,E,K),J.log.warn("Method failed, retrying",Object.assign({Method:F.Bp,Attempt:E + 1,WaitTime:M,MaxRetries:K},J.FCa(I))),Promise.resolve({retry:!0,delay:M,error:I,headers:N})):Promise.resolve({retry:!1,error:I,headers:N});});};d.prototype.a4b=function(E){var F,G;if(!this.Hya || this.Hya.cjc !== E){F="";G=E;Object.entries(C).find(function(J){var N;N=Ea(J);J=N.next().value;N=N.next().value;if(0 === E.indexOf(J))return (F=N,E=E.slice(J.length),!0);});this.Hya={Mab:F,lB:E,cjc:G};}return this.Hya;};d.prototype.Axc=function(E,F){var G,J,N,I;I=E.url.searchParams;I.set(x.XB.V2a,(F + 1).toString());this.config.gzb.includes(E.im)?E.headers[x.DIb.lva]=E.im:I.set(x.XB.lva,E.im);I.set(x.XB.X2a,E.requestId);E=this.a4b(null !== (G=this.config.lB) && void 0 !== G?G:"");E.Mab && (I.set(x.XB.bVa,E.Mab),E.lB && I.set(x.XB.c5a,encodeURIComponent(E.lB)),G=this.hD.Zd,(null === G || void 0 === G?0:G.name) && I.set(x.XB.sUa,encodeURIComponent(G.name)),(null === G || void 0 === G?0:G.version) && I.set(x.XB.tUa,encodeURIComponent(G.version)),(null === (J=null === G || void 0 === G?void 0:G.os) || void 0 === J?0:J.name) && I.set(x.XB.z0a,encodeURIComponent(G.os.name)),(null === (N=null === G || void 0 === G?void 0:G.os) || void 0 === N?0:N.version) && I.set(x.XB.A0a,encodeURIComponent(G.os.version)));};d.prototype.retry=function(E,F,G){var J,N;J=this;G=void 0 === G?0:G;if(void 0 !== E.N){N=this.vqb.t4b(E.im,E.N);if(N){if(N.yR)throw {pboc:!1,code:"FAIL",detail:{message:"The request is cancelled because of the backoff"}};return this.wait(E.bj,N.zpc).then(function(){return J.retry(E,F,G);});}}return this.hQb(G++,E,F).then(function(I){J.receiver.qNa({command:E.Bp + "-attempt",inputs:F,outputs:I});J.vqb.eNa(I.headers,E.im);if(I.retry)return J.wait(E.bj,I.delay).then(function(){return J.retry(E,F,G);});if(I.error)throw I.error;if(void 0 === I.xqb)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return I.xqb;});};d.prototype.oq=function(E,F,G,J){var N;N=z.F$.mbc(F);if(N && G < J)return !0;N?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:E.Bp,Attempt:G + 1,MaxRetries:J},this.FCa(F))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:E.Bp},this.FCa(F)));return !1;};d.prototype.wSb=function(E,F,G){E=null === E || void 0 === E?void 0:E.uOa;if(void 0 !== E)return (0,e.Ch)(E);E=1E3 * (0 === F?1:F);F=1E3 * Math.pow(2,Math.min(F,G));return (0,e.bc)(this.wNa.fsb(E,F));};d.prototype.wait=function(E,F){var G,J;G=this;J=new Promise(function(N){G.Rc.xn(F || e.wa,N);});return E?(0,A.dsb)(E,J,!0):J;};d.prototype.FCa=function(E){return (0,q.fha)(E)?E:{message:E.message,subCode:E.subCode,extCode:E.extCode,mslCode:E.QD,data:E.data};};d.prototype.gUb=function(E){E.dW();};d.prototype.Rab=function(E,F){var G;E.gv(F);if(this.LC)try{G=this.json.stringify(this.LC);this.log.error("PBO command history",G);return G;}catch(J){}return "";};D=d;b.Ita=D;b.Ita=D=r.__decorate([(0,g.W)(),r.__param(0,(0,g.l)(l.kb)),r.__param(1,(0,g.l)(f.V4a)),r.__param(2,(0,g.l)(h.wJ)),r.__param(3,(0,g.l)(k.fd)),r.__param(4,(0,g.l)(m.Fq)),r.__param(5,(0,g.l)(p.aaa)),r.__param(6,(0,g.l)(v.gk)),r.__param(7,(0,g.l)(u.Sy)),r.__param(8,(0,g.l)(t.kqa)),r.__param(9,(0,g.l)(y.cua)),r.__param(10,(0,g.l)(B.S5a)),r.__param(11,(0,g.l)(a.f1a))],D);n.prototype.dW=function(){this.ta=!0;this.elapsedTime=this.Oa.$b().ka(this.startTime);};n.prototype.gv=function(E){this.ta=!1;this.elapsedTime=this.Oa.$b().ka(this.startTime);this.vuc=E.subCode || E.subCode;this.M1b=E.extCode || E.extCode;};n.prototype.toString=function(){return JSON.stringify(this);};n.prototype.toJSON=function(){var E;E=Object.assign({success:this.ta,method:this.context.Bp,startTime:this.startTime.ia(e.pa),elapsedTime:this.elapsedTime?this.elapsedTime.ia(e.pa):"in progress"},this.sW.MBa());return this.ta?E:Object.assign(Object.assign(Object.assign({},E),this.sW.MBa()),{subcode:this.vuc,extcode:this.M1b});};c.prototype.append=function(E){this.LC.push(E);0 < this.config.kHa && this.LC.length > this.config.kHa && this.LC.shift();};c.prototype.toJSON=function(){return this.LC;};},45385:function(r,b,a){var n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.F$=void 0;n=a(36129);c.mbc=function(d){var g,e;g=d && d.code;e=d && (d.Ja || d.subCode);d=d.extCode !== n.P9.e1a;e=!!e && e >= n.T.zY && e <= n.T.xY && d;return !("RETRY" !== g && "FAIL" !== g) || e;};c.v6b=function(d,g){g=null === g || void 0 === g?void 0:g.VT;return void 0 !== g?g:"FAIL" === (null === d || void 0 === d?void 0:d.code)?1:void 0;};c.Pjc=function(d,g){var e;if(g){try{e=d.parse(g);}catch(f){throw {MH:!0,code:"FAIL",message:"Unable to parse the response body",data:g};}if(e.error)throw e.error;if(e.result){if(Array.isArray(e.result) && (d=e.result.find(function(f){return f.error;})))throw d.error;return e;}throw {MH:!0,code:"FAIL",message:"There is no result property on the response"};}throw {MH:!0,code:"FAIL",message:"There is no body property on the response"};};b.F$=c;},23632:function(r,b,a){var n,d,g;function c(e,f){this.qL=f;this.log=e.fb("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.Pta=void 0;r=a(5163);n=a(22674);d=a(87386);a=a(33554);c.prototype.Wya=function(e){e && (!1,this.links=Object.assign(Object.assign({},this.links),e));};c.prototype.XS=function(e){!1;return this.links[e];};g=c;b.Pta=g;b.Pta=g=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.kb)),r.__param(1,(0,n.l)(a.CB))],g);},17108:function(r,b,a){var n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.bua=void 0;r=a(5163);a=a(22674);c.prototype.Jrc=function(d){this.listener=d;};c.prototype.qNa=function(d){var g;null === (g=this.listener) || void 0 === g?void 0:g.call(this,d);};n=c;b.bua=n;b.bua=n=r.__decorate([(0,a.W)()],n);},91918:function(r,b,a){var d,g;function c(e,f,l,h,k,m,p){this.version=e;this.url=f;this.id=l;this.languages=h;this.Bb=k;this.J_b=m;this.pgc=p;}function n(e){this.Oh=e;}Object.defineProperty(b,"__esModule",{value:!0});b.dua=void 0;r=a(5163);d=a(22674);a=a(7605);n.prototype.create=function(e,f,l,h,k){return new c(this.Oh.version,f,e,this.Oh.languages,l,h,k);};g=n;b.dua=g;b.dua=g=r.__decorate([(0,d.W)(),r.__param(0,(0,d.l)(a.Sy))],g);c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.Bb,echo:this.J_b};};},97361:function(r,b,a){var n,d;function c(g){this.log=g.fb("ZuulRetryPolicyParser");}Object.defineProperty(b,"__esModule",{value:!0});b.Nwa=void 0;r=a(5163);n=a(22674);a=a(87386);c.prototype.J7b=function(g){var e,f;try{e=g["x-netflix.retry.server.policy"];if(e){f=JSON.parse(e);this.dyc(f);return {uOa:f.retryAfterSeconds,VT:f.maxRetries};}}catch(l){!1;}};c.prototype.dyc=function(g){if(void 0 !== g.retryAfterSeconds && "number" !== typeof g.retryAfterSeconds)throw Error("retryAfterSeconds is not a number");if(void 0 !== g.maxRetries && "number" !== typeof g.maxRetries)throw Error("maxRetries is not a number");};d=c;b.Nwa=d;b.Nwa=d=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.kb))],d);},5652:function(r,b,a){var c,n,d,g,e,f;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;r=a(22674);c=a(70865);n=a(14543);d=a(60204);g=a(89146);e=a(74429);f=a(34231);b.transports=new r.Od(function(l){l(c.waa).to(e.jwa).ma();l(n.U_a).to(d.Psa);l(n.Z3a).to(g.Nva);l(n.V4a).Ze(function(h){return function(k){var m;return h.tb.get(c.waa).Pla(null !== (m=null === k || void 0 === k?void 0:k.pgc) && void 0 !== m?m:f.TB.kZ)?h.tb.get(n.U_a):h.tb.get(n.Z3a);};});});},14543:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.V4a="TransportFactorySymbol";b.U_a="MslTransportSymbol";b.Z3a="SslTransportSymbol";},70865:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.waa="TransportConfigSymbol";},60204:function(r,b,a){var n,d,g,e,f,l;function c(h,k,m){var p;p=this;this.zH=k;this.profile=m;this.log=h.fb("MslTransport");this.zH().then(function(v){return p.Dia=v;});}Object.defineProperty(b,"__esModule",{value:!0});b.Psa=void 0;r=a(5163);n=a(22674);d=a(87386);g=a(97996);e=a(5021);a=a(71501);f={license:!0};c.prototype.send=function(h,k){var m,p;m=this;p={mN:Object.assign({Bf:h.Bf,log:h.log,profile:this.profile},h.fAa),method:h.Bp,url:h.url.href,body:JSON.stringify(k),timeout:h.timeout.ia(e.pa),qzb:this.profile,Boc:!f[h.Bp],Dob:!!f[h.Bp],sx:!0,gla:h.km,headers:h.headers};!1;return this.zH().then(function(v){return v.send(p).catch(function(q){var u;if(!q.error)throw (q.subCode=q.Ja || q.subCode,q);u=q.error;u.headers=q.headers;m.log.error("Error sending MSL request",{mslCode:u.QD,subCode:u.subCode,data:u.data,message:u.message});throw u;});});};c.prototype.MBa=function(){var h;return {userTokens:null === (h=this.Dia) || void 0 === h?void 0:h.lU.JGa()};};l=c;b.Psa=l;b.Psa=l=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.kb)),r.__param(1,(0,n.l)(g.ZY)),r.__param(2,(0,n.l)(a.pQ))],l);},89146:function(r,b,a){var n,d,g,e;function c(f,l){this.Bf=l;this.log=f.fb("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.Nva=void 0;r=a(5163);n=a(22674);d=a(5021);g=a(87386);a=a(32934);c.prototype.send=function(f,l){var h,k;h=this;k={url:f.url.href,gG:"nq-" + f.Bp,krb:JSON.stringify(l),nda:f.timeout.ia(d.pa),headers:f.headers,withCredentials:!0,Zv:"pbo"};!1;return new Promise(function(m,p){h.Bf.download(k,function(v){v.ta?m(v):p(v);});}).then(function(m){return {body:m.content,headers:m.headers};}).catch(function(m){var p;if(!m.error)throw (m.subCode=m.Ja || m.subCode,m);p=m.error;p.headers=m.headers;h.log.error("Error sending SSL request",{subCode:p.subCode,data:p.content,message:p.message});throw p;});};c.prototype.MBa=function(){return {};};e=c;b.Nva=e;b.Nva=e=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.kb)),r.__param(1,(0,n.l)(a.Ly))],e);},74429:function(r,b,a){var n,d,g,e,f;function c(l){return d.zf.call(this,l,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.jwa=void 0;r=a(5163);n=a(22674);d=a(64174);g=a(83767);e=a(12501);f=a(34231);Ha(c,d.zf);c.prototype.Pla=function(l){var h,k;h=this.AW;k=this.l9a;switch(l){case f.TB.kZ:return h;case f.TB.p2a:return h && !k;case f.TB.IGb:return !1;}};Ga.Object.defineProperties(c.prototype,{AW:{configurable:!0,enumerable:!0,get:function(){return !0;}},l9a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;b.jwa=a;r.__decorate([e.config(e.xd,"usesMsl")],a.prototype,"AW",null);r.__decorate([e.config(e.xd,"allowRequestsWithoutMsl")],a.prototype,"l9a",null);b.jwa=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.Tn))],a);},21892:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iua="PlatformEmeSymbol";},75236:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yaa="UserAgentDataPlatformVersionProviderSymbol";},92623:function(r,b,a){var f,l,h,k,m,p,v,q,u,t,w,x,z,y,A,B;function c(C,D,E){this.zp=C;this.groups=D;this.qF=E;C=t(C,D,E);this.info=C.info.bind(C);this.fatal=C.fatal.bind(C);this.error=C.error.bind(C);this.warn=C.warn.bind(C);this.trace=C.trace.bind(C);this.debug=C.debug.bind(C);this.log=C.log.bind(C);}function n(){}function d(){}function g(){return u?u:"0.0.0.0";}function e(C){C({$Lc:0,FNc:0,MJc:0,AIc:0});}f=a(90745);n.prototype.set=function(C,D){k[C]=D;m.save(C,D);};n.prototype.get=function(C,D){if(k.hasOwnProperty(C))return k[C];q.trace("key: " + C + ", is not available in storage cache and needs to be retrieved asynchronously");m.load(C,function(E){E.ta?(k[C]=E.data,D && D(E.data)):k[C]=void 0;});};n.prototype.remove=function(C){m.remove(C);};n.prototype.clear=function(){q.info("WARNING: Calling unimplemented function Storage.clear()");};d.prototype.now=function(){return p();};d.prototype.ya=function(){return v();};d.prototype.Aia=function(C){return C + p() - v();};d.prototype.dja=function(C){return C + v() - p();};c.prototype.acb=function(C){var D;D=[];this.qF && Array.isArray(this.qF)?D.push.apply(D,xa(this.qF)):this.qF && D.push(this.qF);D.push(C);return new c(this.zp,this.groups,D);};Ga.Object.defineProperties(c.prototype,{prefix:{configurable:!0,enumerable:!0,get:function(){return Array.isArray(this.qF)?this.qF.join(" "):this.qF;}}});w=(function(){var C;C=Promise;C.prototype.fail=Promise.prototype.catch;return C;})();r.exports=function(C){l=C.fka;t=C.jl;m=C.storage;k=C.XM;p=C.Q6b;v=C.getTime;q=C.LPb;x=C.Am;B=C.Tk;z=C.EX;y=C.SourceBuffer;A=C.MediaSource;u=C.eKc;h=C.Fz;return {name:"cadmium",Fz:h,fka:l,storage:new n(),Storage:n,time:new d(),events:new f.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:w,Am:x,EX:z,TCc:y,MediaSource:A,Tk:B,Jr:{name:g},memory:{lJc:e},ZS:C.ZS,Mda:C.Mda,HCa:C.HCa,ping:function(D){fetch(D).catch(function(){});}};};},87141:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r.exports=function(a){return {minInitVideoBitrate:a.rA,maxInitVideoBitrate:a.KD,minInitAudioBitrate:a.ND,maxInitAudioBitrate:a.Gv,switchableAudioProfiles:a.yq,switchableAudioProfilesOverride:a.LO,minAcceptableVideoBitrate:a.L4,minRequiredBuffer:a.sA,minPrebufSize:a.aq,minCheckBufferingCompleteInterval:a.xKa,rebufferingFactor:a.FNa,useMaxPrebufSize:a.iSa,maxPrebufSize:a.qH,maxRebufSize:a.$Ja,maxBufferingTime:a.Ht,minAudioMediaRequestSizeBytes:a.wKa,minVideoMediaRequestSizeBytes:a.AKa,initialBitrateSelectionCurve:a.tT,throughputPercentForAudio:a.I7,bandwidthMargin:a.Zza,bandwidthMarginContinuous:a.$za,bandwidthMarginCurve:a.aAa,conservBandwidthMargin:a.IBa,switchConfigBasedOnInSessionTput:a.SQa,conservBandwidthMarginTputThreshold:a.KBa,conservBandwidthMarginCurve:a.JBa,maxTotalBufferLevelPerSession:a.A4,skipBitrateInUpswitch:a.dQa,watermarkLevelForSkipStart:a.BSa,highStreamRetentionWindow:a.eHa,lowStreamTransitionWindow:a.yJa,highStreamRetentionWindowUp:a.gHa,lowStreamTransitionWindowUp:a.AJa,highStreamRetentionWindowDown:a.fHa,lowStreamTransitionWindowDown:a.zJa,highStreamInfeasibleBitrateFactor:a.dHa,lowestBufForUpswitch:a.ED,lockPeriodAfterDownswitch:a.j4,lowWatermarkLevel:a.CJa,lowestWaterMarkLevel:a.FD,lowestWaterMarkLevelBufferRelaxed:a.DJa,mediaRate:a.G4,maxTrailingBufferLen:a.fN,audioBufferTargetAvailableSize:a.Mza,videoBufferTargetAvailableSize:a.rSa,fastUpswitchFactor:a.Pea,fastDownswitchFactor:a.sEa,maxMediaBufferAllowed:a.eN,simulatePartialBlocks:a.Ovb,considerConnectTime:a.LBa,connectTimeMultiplier:a.HBa,maxAttemptsOnFailure:a.$ha,enableMaxAttemptsOnFailure:a.EDa,maxNetworkErrorsDuringBuffering:a.dnb,maxBufferingTimeAllowedWithNetworkError:a.aia,locationStatisticsUpdateInterval:a.kJa,probeServerWhenError:a.RN,allowSwitchback:a.V_,probeDetailDenominator:a.Crb,maxDelayToReportFailure:a.bia,maxActiveRequestsSABCell100:a.Tmb,headerRequestSize:a.tga,estimateHeaderSize:a.G1,minBufferLenForHeaderDownloading:a.M4,pipelineEnabled:a.jq,maxParallelConnections:a.YJa,socketReceiveBufferSize:a.Xvb,audioSocketReceiveBufferSize:a.yca,videoSocketReceiveBufferSize:a.fna,headersSocketReceiveBufferSize:a.bHa,aseReportDenominator:a.b0,aseReportIntervalMs:a.Gza,prebufferTimeLimit:a.K5,penaltyFactorForLongConnectTime:a.pMa,longConnectTimeThreshold:a.vJa,additionalBufferingLongConnectTime:a.hza,additionalBufferingPerFailure:a.iza,rebufferCheckDuration:a.a6,enableOCSideChannel:a.lS,OCSCBufferQuantizationConfig:a.x$,defaultHeaderCacheSize:a.PCa,defaultHeaderCacheDataPrefetchMs:a.OCa,networkFailureResetWaitMs:a.KKa,networkFailureAbandonMs:a.JKa,maxThrottledNetworkFailures:a.gia,throttledNetworkFailureThresholdMs:a.uma,lowThroughputThreshold:a.BJa,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.fEa,requireAudioStreamToEncompassVideo:a.qV,enableManagerDebugTraces:a.Odb,netIntrStoreWindow:a.wgc,minNetIntrDuration:a.Rfc,fastHistoricBandwidthExpirationTime:a.Y1b,bandwidthExpirationTime:a.PQb,failureExpirationTime:a.X1b,historyTimeOfDayGranularity:a.O9b,expandDownloadTime:a.F1b,minimumMeasurementTime:a.agc,minimumMeasurementBytes:a.$fc,throughputMeasurementTimeout:a.vvc,initThroughputMeasureDataSize:a.O$b,historicBandwidthUpdateInterval:a.M9b,ase_stream_selector:a.PPb,liveStreamSelectorAlgorithm:a.Qha,jointStreamSelectorEnabled:a.rha,enableFilters:a.l0b,filterDefinitionOverrides:a.p2b,defaultFilter:a.$Yb,secondaryFilter:a.pqc,defaultFilterDefinitions:a.Dcb,bufferingSelectorAlgorithm:a.Oca,ase_dump_fragments:a.DCa,ase_location_history:a.ECa,historicByLocationOrGlobal:a.N9b,secondThroughputEstimator:a.SOa,marginPredictor:a.PJa,networkMeasurementGranularity:a.LKa,maxIQRSamples:a.bnb,minIQRSamples:a.Inb,periodicHistoryPersistMs:a.Zja,saveBitrateMs:a.pla,needMinimumNetworkConfidence:a.IKa,biasTowardHistoricalThroughput:a.eAa,maxFastPlayBufferInMs:a.WJa,minAudioMediaRequestDuration:a.qA,minVideoMediaRequestDuration:a.OD,minAudioMediaRequestDurationCache:a.qA,minVideoMediaRequestDurationCache:a.OD,addHeaderDataToNetworkMonitor:a.Vya,hindsightDenominator:a.Uib,hindsightDebugDenominator:a.Tib,hindsightParam:a.Vib,minimumTimeBeforeBranchDecision:a.fU,maxNumSessionHistoryStored:a.eia,minSessionHistoryDuration:a.xia,waitForDrmToAppendMedia:a.xSa,forceAppendHeadersAfterDrm:a.OEa,startMonitorOnLoadStart:a.mQa,reportFailedRequestsToNetworkMonitor:a.$Na,maxActiveRequestsPerSession:a.x4,limitAudioDiscountByMaxAudioBitrate:a.ZIa,appendFirstHeaderOnComplete:a.wza,applyProfileTimestampOffset:a.$_,profileTimestampOffsets:a.Bka,applyProfileStreamingOffset:a.vp,mediaSourceSupportsNegativePts:a.nia,requireDownloadDataAtBuffering:a.jOa,requireSetupConnectionDuringBuffering:a.kOa,selectStartingVMAFMethod:a.DV,activateSelectStartingVMAF:a.Mba,minStartingVideoVMAF:a.Yx,minAcceptableVMAF:a.K4,minAllowedVmaf:a.jN,enableCombinedPlaygraphs:a.p1,enableAdPlaygraphs:a.jS,enableLiveAdPlaygraphs:a.zea,retainSbrOnFade:a.fla,excludedContentPlaygraphIds:a.gEa,enableDiscontiguousBuffering:a.xea,forceImmediateTransitionTypeForTitles:a.REa,forceImmediateTransitionExitZone:a.QEa,useBufferSizeLimiter:a.i8,maxAllowedOutstandingRequests:a.Zha,minStreamableConcurrencyWindow:a.yKa,streamableConcurrencyFactor:a.BQa,bufferingConcurrencyWindow:a.s0,enableResolutionVMAFStreamFilter:a.Bea,resolutionVMAFCappingRuleList:a.ala,percentCapTitlesForResolutionVMAFStreamFilter:a.tMa,useExitZones:a.hSa,perFragmentVMAFConfig:a.MU,paddingDurationMs:a.WLa,paddingMediaType:a.XLa,paddingCodecSelector:a.HU,supportsPtsChanged:a.Xwb,ciPredictorSource:a.gBa,experimentalFilter:a.G1b,simulationDurationStrategy:a.aQa,pipelineHealthThresholdCriticalMs:a.aka,pipelineHealthThresholdLowMs:a.bka,enableRequestAbandonment:a.zL,requestAbandonmentLockIntervalMs:a.Wka,streamModeAppendAttachThreshold:a.wQa,liveTargetBufferDuration:a.Ak,liveTargetBufferDurationInStableNetwork:a.Rha,enableLiveTargetBufferDurationHeuristics:a.Aea,liveEdgeCushion:a.KT,liveStreamSelectorUseLatency:a.f4,latencyMultiplierForLive:a.Fha,liveStrictBufferRatioCalculation:a.fJa,liveMaxUpswitchSteps:a.Lha,enableConditionalServerTimeUpdate:a.uea,negligibleServerTimeDeltaDifference:a.Gia,liveSwitchStreamsOnErrorInPipeline:a.gJa,enableMissingSegmentsReplacement:a.x1,simulateLiveEdge:a.MV,liveShouldAccountForPlayDelay:a.cmb,livePrefetchEnabled:a.dJa,decryptOCSideChannelMinInterval:a.LCa,decryptOCSideChannelMinIntervalAfterCompleted:a.MCa,enableLiveOCSideChannelRefresh:a.u1,liveOCSideChannelRefreshInterval:a.e4,useLiveEdgeUpdateTask:a.j8,liveRequestSpreadMs:a.Pha,enableTwoPartLiveFragmentEditing:a.GDa,liveSlowBufferFilling:a.ZM,liveEarlyRequestProbability:a.bJa,liveEarlyRequestDefaultOffsetMs:a.aJa,ignoreRetainAdBreaksWhenLive:a.l3,alwaysRetainAds:a.dca,enableMediaEventsTrack:a.v1};};},31594:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A,B,C,D,E,F,G,J,N,I,M,K,L,H;Object.defineProperty(b,"__esModule",{value:!0});b.zdc=function(O){O.load(c.Ez,l.QO,n.tmb,h.rx,d.Unb,g.ba,e.Fzb,f.Xib,k.storage,m.kR,p.P$a,v.Lmb,q.zH,u.Pm,t.smb,w.mob,x.Bfb,z.Urb,y.GN,A.tdb,B.ydb,C.$e,D.Nd,E.cb,F.cob,G.uqb,J.j,N.Zab,I.transports,M.Gr,K.Ph,L.R9a,H.U);};c=a(28131);n=a(38385);d=a(56371);g=a(33194);e=a(36149);f=a(75950);l=a(40076);h=a(51259);k=a(62945);m=a(66393);p=a(6498);v=a(51770);q=a(7826);u=a(82656);t=a(21009);w=a(30698);x=a(63341);z=a(32754);y=a(72614);A=a(1891);B=a(49594);C=a(28838);D=a(99584);E=a(92692);F=a(12653);G=a(31360);J=a(65945);N=a(18880);I=a(5652);M=a(43367);K=a(87886);L=a(87284);H=a(81737);},83989:function(r,b,a){var c,n,d,g,e,f;Object.defineProperty(b,"__esModule",{value:!0});b.Nc=void 0;r=a(22674);c=a(71501);n=a(88351);d=a(49594);g=a(83810);e=a(51120);f=a(31594);a=a(99198);b.Nc=new r.h9({zO:!0});(0,f.zdc)(b.Nc);b.Nc.load(n.platform);b.Nc.load(g.config);d.fS.load(e.zdb);b.Nc.load(a.t9a);b.Nc.load(a.profile);b.Nc.bind(c.GYa).Cn(b.Nc);},76892:function(r,b,a){var n,d,g,e;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.twa=void 0;r=a(5163);g=a(22674);a=a(22365);e={T3:!1,reason:"uninitialized"};null === (d=null === (n=null === a.xf || void 0 === a.xf?void 0:a.xf.userAgentData) || void 0 === n?void 0:n.getHighEntropyValues) || void 0 === d?void 0:d.call(n,["platformVersion"]).then(function(f){e=(f=f.platformVersion)?{T3:!0,version:f}:{T3:!1,reason:"undefined"};}).catch(function(){e={T3:!1,reason:"exception"};});Ga.Object.defineProperties(c.prototype,{platformVersion:{configurable:!0,enumerable:!0,get:function(){return e;}}});n=c;b.twa=n;b.twa=n=r.__decorate([(0,g.W)()],n);},25066:function(r,b,a){var c,n,d,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.P4b=function(f){return Object.assign(Object.assign({},(0,e.m2)()),{fv:f.Ckb?"T":f.gha?"Q":f.z3?"C":"M",er:f.Ckb?"NFCDTS-01-":f.gha?"NFCDQS-01-":f.Sx?"NFCDCH-02-":f.fA?"NFCDCH-MC-":f.z3?"NFCDCH-01-":f.Tga?"NFCDCH-AP-":f.x3?"NFCDCH-AT-":f.FM?"NFCDCH-PH-":"NFCDCH-LX-",fG:f.z3?"chromeos-cadmium":"chrome-cadmium"});};b.N4b=function(f){var l,h,k,m,p,v;l=(0,e.l2)();h=Object.assign(Object.assign({},l),{iS:!0,Dz:!0,mG:!0,gP:!0});k=[d.v.PE,d.v.NE,d.v.dF];m=[d.v.MP];p={minimumCores:3};v={minimumCores:5};f.Sx && (h.fh=[].concat(xa((0,g.$x).apply(null,[l.fh].concat(xa(k)))),xa((0,g.Df)([d.v.pu,d.v.qu,d.v.VI,d.v.WI].concat(xa(k),[d.v.ru,d.v.su,d.v.XI,d.v.YI]),v))),h.en=[].concat(xa((0,g.$x).apply(null,[l.en].concat(xa(m)))),xa((0,g.Df)([].concat(xa(m)),v))),115 <= f.Vs && (h.fh=[].concat(xa(h.fh),xa((0,g.Df)([].concat(xa(d.Tb.qX),xa(d.Tb.yP),xa(d.Tb.xP),xa(d.Tb.wP),xa(d.Tb.vP)))))));f.fA && (h.fh=[].concat(xa((0,g.$x).apply(null,[l.fh].concat(xa(k)))),xa((0,g.Df)([d.v.pu,d.v.qu,d.v.VI,d.v.WI].concat(xa(k),[d.v.ru,d.v.su,d.v.XI,d.v.YI]),p))),h.en=[].concat(xa((0,g.$x).apply(null,[l.en].concat(xa(m)))),xa((0,g.Df)([].concat(xa(m)),p))));f.z3 && (h.fh=(0,g.Df)([].concat(xa(d.Tb.pX),xa(d.Tb.UW),xa(d.Tb.G8),xa(d.Tb.qX),xa(d.Tb.xP),xa(d.Tb.yP),xa(d.Tb.vP),xa(d.Tb.wP))),h.en=(0,g.Df)([].concat(xa(d.Tb.TW),xa(d.Tb.c9),xa(d.Tb.b9))));f.jIa && (h.fh=[].concat(xa((0,g.$x).apply(null,[l.fh].concat(xa(k)))),xa((0,g.Df)([d.v.pu,d.v.qu].concat(xa(k),[d.v.ru,d.v.su]),v))));f.gha && (h.LF=(0,g.Df)([d.mc.ym,d.mc.JB,d.mc.Dm,d.mc.jJ,d.mc.kJ,d.mc.lJ]),h.fh=(0,g.Df)([].concat(xa(d.Tb.pX),xa(d.Tb.UW),xa(d.Tb.G8),xa(d.Tb.qX),xa(d.Tb.xP),xa(d.Tb.yP),xa(d.Tb.vP),xa(d.Tb.wP),xa(d.Tb.Foa))),h.en=(0,g.Df)([].concat(xa(d.Tb.TW),xa(d.Tb.c9),xa(d.Tb.b9))));return h;};b.O4b=function(f){var l;l={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.hp.BP,preciseSeeking:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,useEncryptedEvent:!1,applyProfileStreamingOffset:!0};80 <= f.Vs && (l=Object.assign(Object.assign({},l),{enableMediaCapabilities:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));f.x3 && (l=Object.assign(Object.assign({},l),{enableFullHdForHWDRM:!0}));f.z3 && (l=Object.assign(Object.assign({},l),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,enableFullHdForHWDRM:!0}),89 <= f.Vs && (l=Object.assign(Object.assign({},l),{enableHEVC:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0})));115 <= f.Vs && f.Sx && (l=Object.assign(Object.assign({},l),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,microsoftClearLeadRequiresSwdrm:!0,microsoftHwdrmRequiresHevc:!0,microsoftHwdrmRequiresQHD:!0,enableKeySystemRestrictor:!0,enableCachedErrors:!0,enableHEVC:!0,enableHdcp:!0,enableHDR:!0,validateKeySystemAccess:!0,keySystemList:[n.mb.VJb,n.mb.Eaa]}));if(f.Sx || f.fA)l=Object.assign(Object.assign({},l),{enableFullHdForSWDRM:!0});f.Sx && 99 <= f.Vs && (l=Object.assign(Object.assign({},l),{enableAV1:!0}));f.fA && 113 <= f.Vs && (l=Object.assign(Object.assign({},l),{enableAV1:!0}));f.jIa && 113 <= f.Vs && (l=Object.assign(Object.assign({},l),{enableAV1:!0}));(f.fA || f.Sx) && 113 <= f.Vs && (l=Object.assign(Object.assign({},l),{enableXHEAAC:!0}));f.gha && (l=Object.assign(Object.assign({},l),{enableHWDRM:!0,prepareCadmium:!1,prepareLdlCacheMaxCount:10,enableFullHdForHWDRM:!0,enableSeamless:!1,enableDDPlus51:!0,enableDDPlusAtmos:!0}));return l;};c=a(56800);n=a(17612);d=a(75568);g=a(88195);e=a(64232);},30837:function(r,b,a){var h,k,m,p,v,q;function c(u,t){var w,x,z;if(u)(x=1440 <= Ba.screen.height * Ba.devicePixelRatio,z=(u=(null === (z=Ba.MSMediaKeys) || void 0 === z?void 0:z.isTypeSupported(k.mb.nd,v.zc.Ifc)) && (x || e() || n())) || g());else z=(u=null === (w=Ba.MSMediaKeys) || void 0 === w?void 0:w.isTypeSupported(k.mb.nd,v.zc.tKa)) || (null === (x=Ba.MSMediaKeys) || void 0 === x?void 0:x.isTypeSupported(k.mb.lua,v.zc.tKa));t && (u=z=!1);return {xkb:u,wkb:z};}function n(){var u;return !(null === (u=Ba.matchMedia) || void 0 === u || !u.call(Ba,"(dynamic-range: high)").matches);}function d(u,t){var w,x;try{return "probably" === (null === (x=null === (w=Ba.MSMediaKeys) || void 0 === w?void 0:w.isTypeSupportedWithFeatures) || void 0 === x?void 0:x.call(w,u,t));}catch(z){return !1;}}function g(){return d(k.mb.E1a,v.zc.Hfc);}function e(){return d(k.mb.kua,"video/mp4;codecs=" + v.zc.Dh + ";features=decode-res-x=1920,decode-res-y=1080,decode-bpc=10,decode-bitrate=5800,decode-fps=30,display-res-x=1920,display-res-y=1080,display-bpc=8,hdr=1");}function f(u){var t;u=u.data;return "false" !== (null !== (t=null === u || void 0 === u?void 0:u.enableHWDRMForHEVCAndQHDOnly) && void 0 !== t?t:"true").toString().toLowerCase();}function l(u){var t;u=u.data;return "true" === (null !== (t=null === u || void 0 === u?void 0:u.disablePlayReady) && void 0 !== t?t:"false").toString().toLowerCase();}Object.defineProperty(b,"__esModule",{value:!0});b.n5b=function(u){return Object.assign(Object.assign({},(0,p.m2)()),{fv:"D",er:u.fA?"NFCDIE-04-":u.jIa?"NFCDIE-LX-":u.Tga?"NFCDIE-AP-":u.x3?"NFCDIE-AT-":u.FM?"NFCDIE-PH-":"NFCDIE-03-",fG:"edge-cadmium"});};b.l5b=function(u){var t,w;t=Object.assign(Object.assign({},(0,p.l2)()),{LF:(0,q.Df)([m.mc.ym,m.mc.JB,m.mc.CP,m.mc.jJ,m.mc.kJ,m.mc.lJ,m.mc.Dm]),fh:(0,q.Df)([].concat(xa(m.Tb.pX),xa(m.Tb.UW),xa(m.Tb.G8),xa(m.Tb.qX),xa(m.Tb.xP),xa(m.Tb.yP),xa(m.Tb.vP),xa(m.Tb.wP),xa(m.Tb.CUa),xa(m.Tb.DUa),xa(m.Tb.Foa))),en:(0,q.Df)([].concat(xa(m.Tb.TW),xa(m.Tb.c9),xa(m.Tb.b9))),Tp:void 0,k3:!1});w=f(u);u=l(u);w=c(w,u);u=w.xkb;w.wkb || (t.Dz=!0,t.mG=!0,t.gP=!0);t.iL=u?[]:["start"];return t;};b.iJc=c;b.GJc=n;b.rma=d;b.x7=g;b.CNc=e;b.m5b=function(u,t){var w,x,z,y,A;w=u.Sx;x=f(t);t=l(t);t=c(x,t);x=t.wkb;z=t.xkb;y=(0,q.Df)([m.v.IB,m.v.OE,m.v.KP,m.v.LP]);A=(0,q.Df)([m.v.IB,m.v.OE,m.v.KP,m.v.LP,m.v.PE,m.v.NE]);t={nudgeSourceBuffer:!0,audioCapabilityDetectorType:h.yB.QB,videoCapabilityDetectorType:h.hp.QB,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000",enableCombinedPlaygraphs:z?!1:!0,enableAdPlaygraphs:z?!1:!0,forceAppendEncryptedStreamHeaderFirst:!0,retainSbrOnFade:!0};z={prepareCadmium:!0,enableLdlPrefetch:!x || z,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};y={audioCapabilityDetectorType:h.yB.BB,videoCapabilityDetectorType:h.hp.BP,microsoftScreenSizeFilterEnabled:!1,keySystemList:[k.mb.Eaa],licenseRenewalRequestDelay:0,audioProfiles:(0,q.Df)([m.mc.ym,m.mc.JB,m.mc.Dm]),videoProfiles:w?A:y,liveVideoProfiles:(0,q.Df)([m.v.MX,m.v.NX]),enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0,enableFullHdForSWDRM:w?!0:!1};t=Object.assign(Object.assign(Object.assign({},t),z),{useEncryptedEvent:!1});w && (t=Object.assign(Object.assign({},t),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4}));x?(t=Object.assign(Object.assign({},t),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlus51:!0,enableDDPlusAtmos:!0,keySystemList:[k.mb.kua,k.mb.G1a],validateKeySystemAccess:!0,enableCDMAttestedDescriptors:!0,enableCachedErrors:!0,enableKeySystemRestrictor:!0}),94 === u.Vs && (t=Object.assign(Object.assign({},t),{enableHWDRM:!1}))):t=Object.assign(Object.assign({},t),y);114 <= u.Vs && (t=Object.assign(Object.assign({},t),{enableXHEAAC:!0}));return t;};h=a(56800);k=a(17612);m=a(75568);p=a(64232);v=a(73796);q=a(88195);},54534:function(r,b,a){var c,n,d,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.E5b=function(f){return Object.assign(Object.assign({},(0,g.m2)()),{fv:"F",er:f.fA?"NFCDFF-MC-":f.Sx?"NFCDFF-02-":f.Tga?"NFCDFF-AP-":f.x3?"NFCDFF-AT-":f.FM?"NFCDFF-PH-":"NFCDFF-LX-",fG:"firefox-cadmium"});};b.C5b=function(f){var l,h,k;l=(0,g.l2)();h=Object.assign(Object.assign({},l),{iS:!0,Dz:!0,mG:!0,gP:!0});k=[n.v.PE,n.v.NE,n.v.dF];f.Sx && (h.fh=[].concat(xa((0,d.$x).apply(null,[l.fh].concat(xa(k)))),xa((0,d.Df)([n.v.pu,n.v.qu].concat(xa(k),[n.v.ru,n.v.su]),{minimumCores:5}))),h.fh=[].concat(xa(h.fh),xa((0,d.Df)([].concat(xa(n.Tb.yP),xa(n.Tb.xP),xa(n.Tb.wP),xa(n.Tb.vP))))));f.fA && (h.fh=[].concat(xa((0,d.$x).apply(null,[l.fh].concat(xa(k)))),xa((0,d.Df)([n.v.pu,n.v.qu].concat(xa(k),[n.v.ru,n.v.su]),{minimumCores:3}))));return h;};b.D5b=function(f){var l;l={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,videoCapabilityDetectorType:c.hp.BP,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,preciseSeeking:!0,useEncryptedEvent:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0,applyProfileStreamingOffset:!0};f.Sx && (l=Object.assign(Object.assign({},l),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,microsoftClearLeadRequiresSwdrm:!0,microsoftHwdrmRequiresHevc:!0,microsoftHwdrmRequiresQHD:!0,enableKeySystemRestrictor:!0,enableCachedErrors:!0,enableHEVC:!0,enableHdcp:!0,enableHDR:!0,validateKeySystemAccess:!0,enableFullHdForHWDRM:!0,keySystemList:[e.mb.F1a,e.mb.Eaa]}));(f.Sx || f.fA) && 125 <= f.Vs && (l=Object.assign(Object.assign({},l),{enableFullHdForSWDRM:!0,enableAV1:!0}));return l;};c=a(56800);n=a(75568);d=a(88195);g=a(64232);e=a(17612);},64232:function(r,b,a){var n,d,g,e;function c(f,l){var h,k,m,p,v,q;h=f.HD;k=f.gU;f=f.JU;m=l.HD;p=l.gU;l=l.JU;v=void 0 === h || void 0 === m;q=v || void 0 === k || void 0 === p;return v || h > m || h === m && (q || k > p) || h === m && k === p && (q || void 0 === f || void 0 === l || f >= l);}Object.defineProperty(b,"__esModule",{value:!0});b.I3=function(f,l,h,k){return c({HD:f.djc,gU:f.ejc,JU:f.fjc},{HD:l,gU:h,JU:k});};b.y3=function(f,l){return c({HD:f.Vs},{HD:l});};b.yKc=c;b.m2=function(){return {version:"6.0047.439.911",Dia:!0,NS:!0,Ecb:["en-US"],rJa:"",f1:"cadmium",tzb:!0,pza:!0};};b.l2=function(){return {LF:(0,e.Df)([g.mc.ym,g.mc.JB,g.mc.Dm]),fh:(0,e.Df)([].concat(xa(g.Tb.pX),xa(g.Tb.UW),xa(g.Tb.G8))),en:(0,e.Df)([].concat(xa(g.Tb.TW))),Tp:d.mb.Eaa,JD:(0,n.bc)(31E3),l8:!0};};n=a(5021);d=a(17612);g=a(75568);e=a(88195);},20447:function(r,b,a){var c,n,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.V6b=function(e){return Object.assign(Object.assign({},(0,g.m2)()),{fv:"O",er:e.Tga?"NFCDOP-AP-":e.x3?"NFCDOP-AT-":e.FM?"NFCDOP-PH-":"NFCDOP-01-",fG:"opera-cadmium"});};b.T6b=function(e){var f,l,h,k,m,p;f=(0,g.l2)();l=Object.assign(Object.assign({},f),{iS:!0,Dz:!0,mG:!0,gP:!0});h=[n.v.PE,n.v.NE,n.v.dF];k=[n.v.MP];m={minimumCores:3};p={minimumCores:5};e.fA?(l.fh=[].concat(xa((0,d.$x).apply(null,[f.fh].concat(xa(h)))),xa((0,d.Df)([n.v.pu,n.v.qu].concat(xa(h),[n.v.ru,n.v.su]),m))),l.en=[].concat(xa((0,d.$x).apply(null,[f.en].concat(xa(k)))),xa((0,d.Df)([].concat(xa(k)),m)))):(l.fh=[].concat(xa((0,d.$x).apply(null,[f.fh].concat(xa(h)))),xa((0,d.Df)([n.v.pu,n.v.qu].concat(xa(h),[n.v.ru,n.v.su]),p))),l.en=[].concat(xa((0,d.$x).apply(null,[f.en].concat(xa(k)))),xa((0,d.Df)([].concat(xa(k)),p))));return l;};b.U6b=function(e){var f;f={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.hp.BP,preciseSeeking:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,useEncryptedEvent:!1,retainSbrOnFade:!0,enableFullHdForSWDRM:!0};67 <= e.Vs && (f=Object.assign(Object.assign({},f),{enableVP9:!0,enableAV1:!0,enablePRK:!0}));return f;};c=a(56800);n=a(75568);d=a(88195);g=a(64232);},22224:function(r,b,a){var n,d,g,e,f,l;function c(h){var k;k=Object.assign(Object.assign({},(0,l.l2)()),{LF:(0,f.Df)([e.mc.ym,e.mc.JB,e.mc.Dm]),fh:(0,f.Df)([].concat(xa(e.Tb.pX),xa(e.Tb.UW),xa(e.Tb.qX),xa(e.Tb.xP),xa(e.Tb.yP),xa(e.Tb.vP),xa(e.Tb.wP),xa(e.Tb.CUa),xa(e.Tb.DUa),xa(e.Tb.Foa),xa(e.Tb.VBb))),en:(0,f.Df)([].concat(xa(e.Tb.TW),xa(e.Tb.c9),xa(e.Tb.b9))),Tp:g.mb.WDb,JD:(0,n.bc)(7E3),iL:[]});(0,l.y3)(h,14) && (k.iL=["start"]);return k;}Object.defineProperty(b,"__esModule",{value:!0});b.M7b=function(h){return Object.assign(Object.assign({},(0,l.m2)()),{fv:"S",er:h.FM?"NFCDSF-PH-":"NFCDSF-01-",fG:"safari-cadmium"});};b.O5b=function(h){return Object.assign(Object.assign({},c(h)),{Uma:!0,kS:!1,yy:[e.cp.Daa]});};b.K7b=c;b.L7b=function(h){var k;k={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:d.hp.BB,enableSeamless:!0,enableCombinedPlaygraphs:!1,enableAdPlaygraphs:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0,enableMissingSegmentsReplacement:!1};(0,l.y3)(h,14) && (k=Object.assign(Object.assign({},k),{enableCombinedPlaygraphs:!0,enableAdPlaygraphs:!0,forceAppendEncryptedStreamHeaderFirst:!1}));(0,l.I3)(h,10,12,2) && (k=Object.assign(Object.assign({},k),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));(0,l.I3)(h,10,13,6) && (k=Object.assign(Object.assign({},k),{enableLdlPrefetch:!0}));(0,l.I3)(h,10,15,5) || (k=Object.assign(Object.assign({},k),{useTypescriptEme:!1}));(0,l.I3)(h,10,15,5) && (k=Object.assign(Object.assign({},k),{useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));(0,l.I3)(h,10,15,6) && (k=Object.assign(Object.assign({},k),{keyStatusFilterEnabled:!0,enableUHD:!0}));(0,l.y3)(h,9) && (k=Object.assign(Object.assign({},k),{maxDecoderBufferMilliseconds:31E3}));(0,l.y3)(h,16) && (k=Object.assign(Object.assign({},k),{enableAV1:!0}));(0,l.y3)(h,16) && !h.FM && (k=Object.assign(Object.assign({},k),{enableXHEAAC:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));return k;};n=a(5021);d=a(56800);g=a(17612);e=a(75568);f=a(88195);l=a(64232);},89397:function(r,b,a){var e,f,l,h,k,m,p,v,q;function c(){}function n(u,t){this.Zd=u;this.Kx=t;}function d(u,t){var w;w=f.hua.call(this) || this;u.FM?Object.assign(w,(0,v.O5b)(u)):u.Yga?Object.assign(w,(0,p.C5b)(u)):u.nIa?Object.assign(w,(0,m.T6b)(u)):u.D3 || u.cIa?Object.assign(w,(0,k.l5b)(t)):u.M3?Object.assign(w,(0,v.K7b)(u)):Object.assign(w,(0,h.N4b)(u));return w;}function g(u){this.data=u.Yga?(0,p.E5b)(u):u.nIa?(0,m.V6b)(u):u.D3 || u.cIa?(0,k.n5b)(u):u.M3?(0,v.M7b)(u):(0,h.P4b)(u);}Object.defineProperty(b,"__esModule",{value:!0});b.Doa=b.Coa=b.Boa=b.Aoa=void 0;r=a(5163);e=a(22674);f=a(27081);l=a(22816);h=a(25066);k=a(30837);m=a(20447);p=a(54534);v=a(22224);a=a(83767);Ga.Object.defineProperties(g.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},Dia:{configurable:!0,enumerable:!0,get:function(){return this.data.Dia;}},fv:{configurable:!0,enumerable:!0,get:function(){return this.data.fv;}},er:{configurable:!0,enumerable:!0,get:function(){return this.data.er;}},NS:{configurable:!0,enumerable:!0,get:function(){return this.data.NS;}},fG:{configurable:!0,enumerable:!0,get:function(){return this.data.fG;}},Ecb:{configurable:!0,enumerable:!0,get:function(){return this.data.Ecb;}},rJa:{configurable:!0,enumerable:!0,get:function(){return this.data.rJa;}},f1:{configurable:!0,enumerable:!0,get:function(){return this.data.f1;}},tzb:{configurable:!0,enumerable:!0,get:function(){return this.data.tzb;}},pza:{configurable:!0,enumerable:!0,get:function(){return this.data.pza;}}});q=g;b.Aoa=q;b.Aoa=q=r.__decorate([(0,e.W)(),r.__param(0,(0,e.l)(l.eJ))],q);Ha(d,f.hua);q=d;b.Boa=q;b.Boa=q=r.__decorate([(0,e.W)(),r.__param(0,(0,e.l)(l.eJ)),r.__param(1,(0,e.l)(a.uJ))],q);n.prototype.apply=function(){this.Zd.Yga?Object.assign(this,(0,p.D5b)(this.Zd)):this.Zd.nIa?Object.assign(this,(0,m.U6b)(this.Zd)):this.Zd.D3 || this.Zd.cIa?Object.assign(this,(0,k.m5b)(this.Zd,this.Kx)):this.Zd.M3?Object.assign(this,(0,v.L7b)(this.Zd)):Object.assign(this,(0,h.O4b)(this.Zd));return this;};q=n;b.Coa=q;b.Coa=q=r.__decorate([(0,e.W)(),r.__param(0,(0,e.l)(l.eJ)),r.__param(1,(0,e.l)(a.uJ))],q);b.Doa=c;b.Doa=c=r.__decorate([(0,e.W)()],c);},88351:function(r,b,a){var c,n,d,g,e,f;Object.defineProperty(b,"__esModule",{value:!0});b.platform=void 0;r=a(22674);c=a(22816);n=a(91581);d=a(5614);g=a(52033);e=a(89397);f=a(21892);b.platform=new r.Od(function(l){l(n.ws).to(e.Aoa).ma();l(d.nQ).to(e.Boa);l(g.A1a).to(e.Coa);l(n.K$).to(e.Doa).ma();l(f.iua).Ze(function(h){return function(){return h.tb.get(c.eJ).M3?{cE:function(k,m,p){return new (a(99813))(k,m,p);},request:a(10256)}:{};};});});},80966:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lna={WNb:"adStart",A8a:"adProgress",ZFc:"adComplete",XNb:"adStop"};b.WSa={DF:"adBreakComplete",XFc:"adBreakStart",YFc:"adBreakStop"};b.Rna={error:"error",E1b:"exit",ryb:"unload"};b.cTa="AdImpressionLoggerrFactorySymbol";},70068:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ona=b.VAb=void 0;c=a(45247);Object.defineProperty(b,"AdBreakResult",{enumerable:!0,get:function(){return c.VAb;}});b.Ona="AdManagerFactorySymbol";},1200:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZW="AdTrackerBaseSymbol";},25540:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mTa="AdFocusMonitorSymbol";},12826:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dUa="BandwidthMeterFactorySymbol";},65945:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A,B,C,D,E,F,G,J,N,I,M,K,L,H,O,P,Q,S,X,W,V,fa,ba,ca,ia,na,oa,T,Z,aa,R,Y,ea,ka,ha,U,da,la,pa,va,sa,ua,ma,ra,wa;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;r=a(22674);c=a(77601);n=a(78388);d=a(18181);g=a(12826);e=a(31085);f=a(41106);l=a(51038);h=a(24722);k=a(27104);m=a(4203);p=a(81918);v=a(90597);q=a(42207);u=a(87386);t=a(65090);w=a(61861);x=a(37025);z=a(5021);y=a(89561);A=a(25837);B=a(65106);C=a(13889);D=a(15160);E=a(92205);F=a(52200);G=a(45842);J=a(74870);N=a(95162);I=a(33554);M=a(2160);K=a(67650);L=a(25138);H=a(77134);O=a(34231);P=a(93367);Q=a(82557);S=a(85405);X=a(56800);W=a(39551);V=a(69334);fa=a(70068);ba=a(89540);ca=a(30869);ia=a(49917);na=a(80966);oa=a(72160);T=a(54952);Z=a(97635);aa=a(74834);R=a(25540);Y=a(38508);ea=a(30873);ka=a(78312);ha=a(53085);U=a(63013);da=a(14177);la=a(56386);pa=a(1200);va=a(24711);sa=a(13673);ua=a(31099);ma=a(67590);ra=a(6823);wa=a(95735);b.j=new r.Od(function(ya){ya(K.xua).to(L.wua).ma();ya(S.xTa).Ze(function(za){var Aa;Aa=za.tb;return function(Ia,Da){return new (a(92720).Tra)(Ia,Da,Aa.get(v.AB),Aa.get(D.o9),Aa.get(ma.loa));};});ya(c.W4a).Ze(function(za){var Aa;Aa=za.tb;return function(Ia,Da,Ja,Ka,La,Na,Ra,Oa,Ta){return new (a(37517).z)(Aa.get(y.Z4a),Ia,Da,Ja,Ka,La,Na,Ra,Oa,Ta);};});ya(y.Z4a).to(A.lwa).ma();ya(n.Y4a).to(d.kwa).ma();ya(l.M1a).to(h.uua).ma();ya(Z.H3a).to(aa.Fva).ma();ya(P.U2a).to(Q.jva);ya(P.T2a).Axb(P.U2a);ya(f.QVa).Ze(function(za){var Aa;Aa=za.tb;return function(Ia){return new (a(11372).iqa)(Aa.get(D.PVa),Aa.get(v.AB),Aa.get(p.fd),Ia);};});ya(g.dUa).Ze(function(){return function(za){return new e.eUa(za);};});ya(W.Bua).Ze(function(za){var Aa;Aa=za.tb;return function(Ia){return new V.Cua(Ia,Aa.get(u.kb),Aa.get(q.Eh));};});ya(na.cTa).Ze(function(za){var Aa;Aa=za.tb;return function(Ia){return new oa.Mna(Ia,Aa.get(u.kb).fb("AdImpressionLogger"),Aa.get(ca.hh),Aa.get(m.uc),Aa.get(p.fd),Aa.get(ia.Kna),Aa.get(ia.Ina));};});ya(R.mTa).to(Y.Sna);ya(pa.ZW).to(U.Pna);ya(pa.ZW).to(la.Qna);ya(pa.ZW).to(va.Tna);ya(pa.ZW).to(da.Una);ya(fa.Ona).Ze(function(za){var Aa;Aa=za.tb;return function(Ia,Da){return new ba.gTa(Ia,Da,Aa.get(u.kb).fb("AdManager"),Aa.get(m.uc),Aa.get(Z.H3a),Aa.getAll(pa.ZW),Aa.get(na.cTa),function(Ja){return new T.fTa(Ja);},Aa.get(R.mTa));};});ya(t.H1a).Ze(function(za){var Aa;Aa=za.tb;return function(Ia){return new k.mua(Ia,Aa.get(u.kb),Aa.get(m.uc),Aa.get(q.Eh),Aa.get(v.AB),Aa.get(W.Bua));};});ya(ea.rZa).Ze(function(za){var Aa;Aa=za.tb;return function(Ia,Da){return new ka.sZa(Aa.get(m.uc),Aa.get(sa.tZa),Aa.get(ha.gk),Aa.get(u.kb),Ia,Da);};});ya(sa.tZa).Ze(function(za){var Aa;Aa=za.tb;return function(Ia){return new ua.uZa(Aa.get(m.uc),Aa.get(u.kb),Aa.get(G.SJ),Ia);};});ya(w.zua).Ze(function(za){var Aa;Aa=za.tb;return function(Ia,Da,Ja,Ka,La,Na,Ra,Oa,Ta,ib,jb){return new x.S1a(Ia,Da,Ja,Ka,La,Na,Ra,Oa,Ta,Aa.get(t.H1a),Aa.get(K.xua),Aa.get(ea.rZa),ib,jb);};});ya(B.D3a).Ze(function(za){return function(Aa){var Ia,Da;Ia=za.tb.get(m.uc);Da=za.tb.get(u.kb);return new C.E3a(Ia,Aa,Da);};});ya(E.O1a).Ze(function(za){return function(Aa){var Ia,Da,Ja,Ka,La;Ia=za.tb.get(I.CB);Da=za.tb.get(G.SJ);Ja=za.tb.get(J.Wi);Ka=za.tb.get(N.tZ);La=za.tb.get(X.GP);return new F.P1a(Aa,Ia,Da((0,z.Ch)(1)),Ja,Ka,La);};});ya(M.Gsa).CI(function(za){return new (a(51149).Fsa)(za.tb.get(H.XY),za.tb.get(O.Fq));}).ma();ya(ra.h$).to(wa.Qra).ma();});},41106:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QVa="DiagnosticsFactorySymbol";},30873:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tw={pZ:"START_SLATE",lra:"LIVE_EVENT",Ipa:"END_SLATE"};b.rZa="LivePlaybackManagerFactorySymbol";},13673:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tZa="LivePlaybackRateControllerFactorySymbol";},6823:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.IY={};r[r.BXa=1]="HIGH";r[r.MEDIUM=2]="MEDIUM";r[r.KY=3]="LOW";b.h$="LowNetworkActivityManagerSymbol";},45526:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},2160:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gsa="MilestonesEventBuilderSymbol";},65090:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.H1a="PlayTimeTrackerFactorySymbol";},51038:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.M1a="PlaybackFactorySymbol";},92205:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.O1a="PlaybackInfoPanelFactorySymbol";},67650:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xua="PlaybackMilestoneStoreSymbol";},61861:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zua="PlaybackSegmentDataFactorySymbol";},39551:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bua="PlayedSegmentsTrackerFactorySymbol";},93367:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.U2a="RepositionTraceSymbol";b.T2a="RepositionTraceFactorySymbol";},65106:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.D3a="SeekManagerFactorySymbol";},97635:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.H3a="SegmentDroppedLoggerSymbol";},94025:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.Ew={};r[r.u$=0]="NOT_LOADED";r[r.LOADING=1]="LOADING";r[r.yJ=2]="LOADED";r[r.JY=3]="LOAD_FAILED";r[r.K0a=4]="PARSE_FAILED";},77601:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.W4a="TrickPlayFactorySymbol";},78388:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Y4a="TrickPlayManagerSymbol";},89561:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Z4a="TrickPlayParserSymbol";},72160:function(r,b,a){var n,d,g,e,f,l,h;function c(k,m,p,v,q,u,t){this.context=k;this.log=m;this.Aa=p;this.config=v;this.Oa=q;this.UNb=u;this.MNb=t;this.nPa={};}Object.defineProperty(b,"__esModule",{value:!0});b.Mna=void 0;r=a(5163);n=a(22674);d=a(81918);g=a(30869);e=a(5021);f=a(4203);l=a(49917);h=a(80966);c.prototype.Jqc=function(k,m){var p,v,q;p=this;v=k.event;if(Object.values(h.WSa).includes(v)){q=m.tD?m.tD.ia(e.pa):-1;k={href:m.U.Sj.XS("events").href,Je:m.U.Ca.Je,Ea:this.context.Ea.toString(),event:v,oz:k.oz,wC:k.wC,position:k.Jh.offset.H,Io:q,CA:{},KC:this.Aa.qO.ia(e.pa),appId:this.config().appId || this.Oa.id,sessionId:this.config().sessionId || this.Oa.id,H_:k.H_,C5:k.C5,Qba:k.Qba};this.MNb.ef({log:this.log},k).catch(function(u){p.log.error("Failed to send event",{eventKey:v,xid:m.Ea,error:u});});}else this.log.debug("Ignoring unsupported event " + k.event);};c.prototype.Kqc=function(k,m,p){var v,q,u,t;v=this;q=k.event;if(Object.values(h.Lna).includes(q)){u=k.U.links.events.href;t=k.U.Je;this.nPa[k.Io] || (this.nPa[k.Io]=this.Aa.SOb((0,e.bc)(k.Io)).ia(e.pa));k={href:u,Je:t,Ea:this.context.Ea.toString(),event:q,oz:k.oz,wC:k.wC,position:k.Jh.offset.H,Io:this.nPa[k.Io],CA:k.CA,KC:this.Aa.qO.ia(e.pa),appId:this.config().appId || this.Oa.id,sessionId:this.config().sessionId || this.Oa.id,$dc:m,svc:null !== p && void 0 !== p?p:void 0};this.UNb.ef({log:this.log},k).catch(function(w){v.log.error("Failed to send event",{eventKey:q,xid:v.context.Ea,error:w});});}else this.log.debug("Ignoring unsupported event " + k.event);};a=c;b.Mna=a;b.Mna=a=r.__decorate([r.__param(2,(0,n.l)(g.hh)),r.__param(3,(0,n.l)(f.uc)),r.__param(4,(0,n.l)(d.fd)),r.__param(5,(0,n.l)(l.Kna)),r.__param(6,(0,n.l)(l.Ina))],a);},54952:function(r,b){function a(m){this.qd=m;}function c(m){this.padding=m;}function n(m){this.nz=m;}function d(m){this.Jh=m;}function g(m){this.vka=m;}function e(m){this.XMa=m;}function f(m){this.WMa=m;}function l(m){this.EF=m;}function h(m){this.TD=m;}function k(m){this.Lc=m;}Object.defineProperty(b,"__esModule",{value:!0});b.YAb=b.XHb=b.XAb=b.dEb=b.lIb=b.mIb=b.kIb=b.WAb=b.jIb=b.fTa=void 0;k.prototype.getPresentingAdBreak=function(){var m;m=this.Lc.cT();if(m)return new h(m);};k.prototype.getAds=function(){return this.Lc.OS();};k.prototype.getLogInfo=function(){return this.Lc.m6b();};b.fTa=k;Ga.Object.defineProperties(h.prototype,{adBreak:{configurable:!0,enumerable:!0,get:function(){return new l(this.TD.Kb);}},adInfo:{configurable:!0,enumerable:!0,get:function(){var m;m=this.TD.FF;if(m)return new f(m);}},paddingInfo:{configurable:!0,enumerable:!0,get:function(){var m;m=this.TD.Tpb;if(m)return new e(m);}},progress:{configurable:!0,enumerable:!0,get:function(){return new g(this.TD.progress);}},position:{configurable:!0,enumerable:!0,get:function(){return new d(this.TD.position);}},index:{configurable:!0,enumerable:!0,get:function(){return this.TD.index;}}});b.jIb=h;Ga.Object.defineProperties(l.prototype,{adCollection:{configurable:!0,enumerable:!0,get:function(){return new n(this.EF.nz);}},startPadding:{configurable:!0,enumerable:!0,get:function(){return new c(this.EF.Zla);}},endPadding:{configurable:!0,enumerable:!0,get:function(){return new c(this.EF.y1);}},hasPadding:{configurable:!0,enumerable:!0,get:function(){return this.EF.t9b;}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.EF.duration.H};}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.EF.Gja.H};}},type:{configurable:!0,enumerable:!0,get:function(){return this.EF.type;}},segmentationTypeId:{configurable:!0,enumerable:!0,get:function(){return this.EF.yn;}}});b.WAb=l;Ga.Object.defineProperties(f.prototype,{ad:{configurable:!0,enumerable:!0,get:function(){return new a(this.WMa.qd);}},adProgress:{configurable:!0,enumerable:!0,get:function(){return this.WMa.A8a;}},index:{configurable:!0,enumerable:!0,get:function(){return this.WMa.index;}}});b.kIb=f;Ga.Object.defineProperties(e.prototype,{paddingType:{configurable:!0,enumerable:!0,get:function(){return this.XMa.YLa;}},paddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.XMa.ujc;}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.XMa.Gja.H};}}});b.mIb=e;Ga.Object.defineProperties(g.prototype,{adBreakProgress:{configurable:!0,enumerable:!0,get:function(){return this.vka.PNb;}},adBreakOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.vka.NNb.H};}},adBreakWithPaddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.vka.SNb;}},adBreakWithPaddingOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.vka.RNb.H};}}});b.lIb=g;Ga.Object.defineProperties(d.prototype,{segmentId:{configurable:!0,enumerable:!0,get:function(){return this.Jh.L;}},offset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Jh.offset.H};}}});b.dEb=d;Ga.Object.defineProperties(n.prototype,{ads:{configurable:!0,enumerable:!0,get:function(){return this.nz.qg.map(function(m){return new a(m);});}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.nz.duration.H};}},type:{configurable:!0,enumerable:!0,get:function(){return this.nz.type;}},segmentationTypeId:{configurable:!0,enumerable:!0,get:function(){return this.nz.yn;}}});b.XAb=n;Ga.Object.defineProperties(c.prototype,{duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.padding.duration.H};}}});b.XHb=c;Ga.Object.defineProperties(a.prototype,{hasPlayed:{configurable:!0,enumerable:!0,get:function(){return this.qd.xt;}},id:{configurable:!0,enumerable:!0,get:function(){return this.qd.id;}},startTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.qd.startTime.H};}},endTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.qd.endTime.H};}},is3pVerificationEnabled:{configurable:!0,enumerable:!0,get:function(){return this.qd.Mx;}},thirdPartyVerificationToken:{configurable:!0,enumerable:!0,get:function(){return this.qd.fW;}}});b.YAb=a;},89540:function(r,b,a){var n,d,g,e,f,l;function c(h,k,m,p,v,q,u,t,w){var x;x=this;this.cb=h;this.j=k;this.log=m;this.config=p;this.vqc=v;this.jxb=q;this.Zn=new n.ic(!1);this.Xb=new f.Qk();this.q$a=!1;this.f5=function(){x.q$a=!0;l.ff.removeListener(l.Wm,x.f5);};this.AL=t(this);h=h.kr();this.pz=u({Ea:k.Ea.toString()});u=null === h || void 0 === h?void 0:h.Xqb.events;null === u || void 0 === u?void 0:u.addListener("adPresenting",function(){!1;x.Deb();});null === u || void 0 === u?void 0:u.addListener("adBreakPresenting",function(z){!1;x.lba=z.presentingInfo.Kb.type;"embedded" !== x.lba && w.iU(k);x.Zn.set(!0);});null === u || void 0 === u?void 0:u.addListener("adBreakEnded",function(){!1;x.Zn.set(!1);});null === u || void 0 === u?void 0:u.addListener("adPlaygraphUpdated",function(){!1;});null === u || void 0 === u?void 0:u.addListener("segmentDropped",function(z){var y;!1;y=x.j.wk(z.segmentId);x.vqc.umc(z,y);});this.Pt=new g.Q$();this.j.addEventListener("playbackStart",function(){x.Pt.resolve();});u=null === h || void 0 === h?void 0:h.xHa.events;null === u || void 0 === u?void 0:u.addListener("adEvent",function(z){x.Pt.promise.then(function(){var y,A,B;z.event === d.Lna.WNb && z.Mx && x.jxb.forEach(function(C){return C.start(x.j);});A=null === (y=k.U) || void 0 === y?void 0:y.Ca.de;y=x.q8b(z);if(z.event === d.Lna.XNb && y){B=x.q$a?d.Rna.ryb:k.Di?d.Rna.error:d.Rna.E1b;y=Object.assign(Object.assign({},y),{reason:B});}x.pz.Kqc(z,A,y);});});l.ff.addListener(l.Wm,this.f5);null === u || void 0 === u?void 0:u.addListener("adBreakEvent",function(z){z.event === d.WSa.DF && x.Xb.Pc(e.Nna.DF);x.Pt.promise.then(function(){x.pz.Jqc(z,k);});});}Object.defineProperty(b,"__esModule",{value:!0});b.gTa=void 0;n=a(81734);d=a(80966);g=a(94293);e=a(85001);f=a(94886);l=a(37509);c.prototype.addEventListener=function(h,k,m){this.Xb.addListener(h,k,m);};c.prototype.removeEventListener=function(h,k){this.Xb.removeListener(h,k);};c.prototype.cT=function(){var h,k;if(this.zDa)return null === (k=null === (h=this.cb) || void 0 === h?void 0:h.kr()) || void 0 === k?void 0:k.JN.TD;};c.prototype.m6b=function(){var h,k,m,p;m=this.cT();if(m){p={position:null === m || void 0 === m?void 0:m.position.offset.H,adDuration:null === (h=null === m || void 0 === m?void 0:m.FF) || void 0 === h?void 0:h.qd.endTime.H,adIndex:null === (k=m.FF) || void 0 === k?void 0:k.index,adBreakIndex:m.index,adBreakDuration:null === m || void 0 === m?void 0:m.Kb.duration.H};(h=m.Tpb) && (p.padding={type:h.YLa,duration:h.Gja.H});return p;}};c.prototype.OS=function(){var h,k,m,p,v;if(!this.zDa)return [];p=this.j.ea.P.toString();v=null === (k=null === (h=this.cb) || void 0 === h?void 0:h.kr()) || void 0 === k?void 0:k.Xqb.OS({zE:[p]});return null !== (m=null === v || void 0 === v?void 0:v.result[p]) && void 0 !== m?m:[];};c.prototype.Deb=function(){};c.prototype.q8b=function(h){var k;if(h.Mx){k=this.jxb.reduce(function(m,p){return Object.assign(Object.assign({},m),p.$fa(h));},{});return Object.assign(Object.assign({},k),{thirdPartyVerificationToken:h.fW});}};Ga.Object.defineProperties(c.prototype,{zDa:{configurable:!0,enumerable:!0,get:function(){var h;return this.lba?this.config().Ndb || "embedded" !== this.lba:(null === (h=this.j.zd) || void 0 === h?0:h.fa)?this.config().Ndb:!0;}},ncc:{configurable:!0,enumerable:!0,get:function(){return this.lba;}}});b.gTa=c;},63013:function(r,b,a){var n,d,g,e,f;function c(l,h){var k;k=f.um.call(this) || this;k.Oa=l;k.paused=!1;k.Yu=function(){var m,p,v;v=k.Lc.cT();k.Lc.Zn.value && null !== (m=null === v || void 0 === v?void 0:v.FF) && void 0 !== m && m.qd.Mx?(m=null === (p=v.FF) || void 0 === p?void 0:p.qd.id,p=k.paused,k.paused=k.j.paused.value,p !== k.paused && (k.paused?(k.Sja=k.Oa.$b(),k.J_=v.position.offset.H,k.qa.debug("Ad " + m + " paused at " + k.J_ + " ms into the ad")):void 0 !== k.Sja && void 0 !== k.J_ && (v=k.Oa.$b().ka(k.Sja).ia(e.pa),k.qa.debug("Ad " + m + " resumed. Pause duration: " + v),k.trace.push([k.J_,v]),k.J_=void 0,k.Sja=void 0))):k.unsubscribe();};k.qa=h.fb("AdPauseStateTracker");return k;}Object.defineProperty(b,"__esModule",{value:!0});b.Pna=void 0;r=a(5163);n=a(22674);d=a(81918);g=a(87386);e=a(5021);f=a(87144);Ha(c,f.um);c.prototype.start=function(l){f.um.prototype.start.call(this,l);this.gA || (this.j.paused.addListener(this.Yu),this.gA=!0);};c.prototype.$fa=function(){return {pauseTrace:this.trace};};c.prototype.x6=function(){this.J_=void 0;this.paused=this.j.paused.value;this.Sja=void 0;this.trace=[];};c.prototype.unsubscribe=function(){f.um.prototype.unsubscribe.call(this);this.j.paused.removeListener(this.Yu);};a=c;b.Pna=a;b.Pna=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.fd)),r.__param(1,(0,n.l)(g.kb))],a);},56386:function(r,b,a){var n,d,g,e,f;function c(l,h){var k;k=f.um.call(this) || this;k.BCa=h;k.hpc=function(){0 === k.trace.length?k.Yu():k.WDa.ah(function(){k.Yu();});};k.Yu=function(){var m,p,v,q;p=k.Lc.cT();if(k.Lc.Zn.value && null !== (m=null === p || void 0 === p?void 0:p.FF) && void 0 !== m && m.qd.Mx){(m=k.trace[k.trace.length - 1]) && m[0] === p.position.offset.H && k.trace.pop();m=k.trace[k.trace.length - 1];v=k.j.lm.getBoundingClientRect();q=v.height;v=v.width;0 < q && 0 < v && (!m || m[1] !== v || m[2] !== q) && k.trace.push([p.position.offset.H,v,q]);}else k.unsubscribe();};k.qa=l.fb("AdResizeTracker");k.WDa=h((0,e.Ch)(1));return k;}Object.defineProperty(b,"__esModule",{value:!0});b.Qna=void 0;r=a(5163);n=a(22674);d=a(34043);g=a(87386);e=a(5021);f=a(87144);Ha(c,f.um);c.prototype.start=function(l){f.um.prototype.start.call(this,l);this.gA || (this.Zob=new ResizeObserver(this.hpc),this.Zob.observe(this.j.lm),this.gA=!0);};c.prototype.$fa=function(){return {resizeTrace:this.trace.slice(1)};};c.prototype.x6=function(){this.trace=[];};c.prototype.unsubscribe=function(){var l;f.um.prototype.unsubscribe.call(this);null === (l=this.Zob) || void 0 === l?void 0:l.disconnect();};a=c;b.Qna=a;b.Qna=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.kb)),r.__param(1,(0,n.l)(d.n9))],a);},87144:function(r,b){function a(){var c;c=this;this.gA=!1;this.trace=[];this.Kda=function(){c.WDa.ah(function(){c.Yu();});};}Object.defineProperty(b,"__esModule",{value:!0});b.um=void 0;a.prototype.start=function(c){var n;n=this;this.j=c;this.Lc=this.j.kr();this.gA || (this.Lc.Zn.addListener(this.Yu),this.j.addEventListener("closing",function(){return n.unsubscribe();}));this.x6();};a.prototype.unsubscribe=function(){this.Lc.Zn.removeListener(this.Yu);this.gA=!1;this.x6();};b.um=a;},38508:function(r,b,a){var n,d;function c(g){var e;e=this;this.ZK=function(){var f,l,h;l=!document.hidden;h=null === (f=e.j.kr()) || void 0 === f?void 0:f.Zn.value;f=e.j.paused.value;l || !h || f || (e.qa.debug("Pausing playback because window is not visible"),e.j.paused.set(!0,{EH:!0,reason:"adnotvisible"}));};this.unsubscribe=function(){document.removeEventListener("visibilitychange",e.ZK);e.j.kr().Zn.removeListener(e.ZK);e.j.paused.removeListener(e.ZK);};this.qa=g.fb("AdVisibilityMonitor");}Object.defineProperty(b,"__esModule",{value:!0});b.Sna=void 0;r=a(5163);n=a(22674);a=a(87386);c.prototype.iU=function(g){this.igc || (this.qa.debug("Starting to monitor playback for visibility"),this.j=g,this.igc=!0,document.addEventListener("visibilitychange",this.ZK),this.j.kr().Zn.addListener(this.ZK),this.j.paused.addListener(this.ZK),this.j.addEventListener("closing",this.unsubscribe),this.ZK());};d=c;b.Sna=d;b.Sna=d=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.kb))],d);},24711:function(r,b,a){var n,d,g;function c(e){var f;f=g.um.call(this) || this;f.aKa=0;f.jcb=[0];f.dN=[0];f.visibility=0;f.Yu=function(){var l,h;h=f.Lc.cT();f.Lc.Zn.value && null !== (l=null === h || void 0 === h?void 0:h.FF) && void 0 !== l && l.qd.Mx?(l=f.visibility,f.visibility=document.hidden?0:1,l !== f.visibility && (1 === f.visibility?(f.aKa=f.visibility,f.hia=h.position.offset.H):(h=h.position.offset.H - (f.hia || 0),h > f.dN[0] && (f.dN[0]=h),f.hia=void 0))):f.unsubscribe();};f.qa=e.fb("AdVisibilityTracker");return f;}Object.defineProperty(b,"__esModule",{value:!0});b.Tna=void 0;r=a(5163);n=a(22674);d=a(87386);g=a(87144);Ha(c,g.um);c.prototype.start=function(e){g.um.prototype.start.call(this,e);this.gA || (document.addEventListener("visibilitychange",this.Yu),this.gA=!0);};c.prototype.$fa=function(e){var f,l,h;l=this.j.lm.getBoundingClientRect();h=l.height;l=l.width;"adStart" === e.event && (h=0 === h?document.documentElement.clientHeight:h,l=0 === l?document.documentElement.clientWidth:l);e=e.Jh.offset.H - (null !== (f=this.hia) && void 0 !== f?f:0);e > this.dN[0] && (this.dN[0]=e);f=document.fullscreenElement?!0:screen.height === Ba.outerHeight && screen.width === Ba.outerWidth;this.jcb=this.dN;return {cumulativeTimeByVisibilityMs:this.jcb,maxContinuousTimeByVisibilityMs:this.dN,visibility:this.visibility,maxVisibility:this.aKa,screenHeight:screen.height,screenWidth:screen.width,adHeight:h,adWidth:l,fullScreen:f};};c.prototype.x6=function(){this.hia=void 0;this.dN=[0];this.aKa=this.visibility=document.hidden?0:1;};c.prototype.unsubscribe=function(){g.um.prototype.unsubscribe.call(this);document.removeEventListener("visibilitychange",this.Yu);};a=c;b.Tna=a;b.Tna=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.kb))],a);},14177:function(r,b,a){var n,d,g,e,f;function c(l,h){var k;k=f.um.call(this) || this;k.wg=l;k.BCa=h;k.Yu=function(){var m,p;p=k.Lc.cT();k.Lc.Zn.value && null !== (m=null === p || void 0 === p?void 0:p.FF) && void 0 !== m && m.qd.Mx?(m=k.trace[k.trace.length - 1],p=p.position.offset.H,m && m[0] === p && k.trace.pop(),(m=k.trace[k.trace.length - 1]) && m[1] === k.j.Jda || k.trace.push([p,k.j.Jda])):k.unsubscribe();};k.qa=l.fb("AdVolumeTracker");k.WDa=h((0,e.Ch)(1));return k;}Object.defineProperty(b,"__esModule",{value:!0});b.Una=void 0;r=a(5163);n=a(22674);d=a(34043);g=a(87386);e=a(5021);f=a(87144);Ha(c,f.um);c.prototype.start=function(l){f.um.prototype.start.call(this,l);this.gA || (this.j.volume.addListener(this.Kda),this.j.muted.addListener(this.Kda),this.gA=!0);};c.prototype.$fa=function(){return {volumeChangeTrace:this.trace,volume:this.j.Jda};};c.prototype.x6=function(){this.trace=[];};c.prototype.unsubscribe=function(){f.um.prototype.unsubscribe.call(this);this.j.volume.removeListener(this.Kda);this.j.muted.removeListener(this.Kda);};a=c;b.Una=a;b.Una=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.kb)),r.__param(1,(0,n.l)(d.n9))],a);},31085:function(r,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.eUa=void 0;a.prototype.Ryb=function(){var c;c=this.j.cb;if(null !== c && void 0 !== c && c.hC){c=c.Wc.get();if(null === c || void 0 === c?0:c.Kg)this.j.Kg=c.Kg.xa;if(null === c || void 0 === c?0:c.gb)this.j.gb=c.gb.xa;}};a.prototype.Np=function(){-1 === this.j.gb && this.Ryb();return this.j.gb;};a.prototype.fSb=function(c){-1 !== this.j.Kg && -1 !== this.j.gb || this.Ryb();return -1 === this.j.Kg || -1 === this.j.gb?Number.MAX_VALUE:this.j.Kg + 8 * c / this.j.gb;};b.eUa=a;},43422:function(r,b,a){var n,d,g,e,f,l,h;function c(k){this.j=k;this.Qlb=!1;this.log=(0,d.lj)(this.j,"Playback");this.c4=d.La.get(l.d$);(0,g.oa)(n.config);}Object.defineProperty(b,"__esModule",{value:!0});b.oVa=void 0;n=a(29204);d=a(31276);g=a(45146);e=a(63156);f=a(32687);l=a(98166);h=a(85001);c.prototype.y2=function(k){var m;m=this;return new Promise(function(p,v){var q,u,t;q=e.wm.tbb(k.gg);u=k.Ml.map(function(w){return {sessionId:w.sessionId,dataBase64:(0,d.ex)(w.data)};});t=m.j.j7b(k.Ml[0].sessionId);m.c4.Ls({de:t.de,gg:f.is.Ks(k.gg)?k.gg:q,nea:[t.Rm],Ml:u,Ea:t.Ea,ev:k.ev,Sj:t.U.Sj,Je:t.U.Ca.Je,N:t.P}).then(function(w){m.j.fH=w.fH;p(w);m.O2b(t);}).catch(v);});};c.prototype.O2b=function(k){this.Qlb || (this.Qlb=!0,this.j.fireEvent(h.da.Kha,{P:k.P}));};b.oVa=c;},11372:function(r,b,a){var n;function c(d,g,e,f){this.bDa=d;this.debug=g;this.Oa=e;this.j=f;this.Hja=[];this.zia={};this.dDa={};this.DEa=!1;this.dxb=1;this.$Ta=7.8125;}b.iqa=void 0;n=a(5021);a(85001);a(32687);a(61726);c.prototype.register=function(d,g){this.debug.assert(!(0 <= this.Hja.indexOf(d)),"panel already registered");this.zia[d]=g;this.Hja.push(d);};c.prototype.Nob=function(d){var g;g=this;this.dDa[d]=!0;this.DEa || (this.DEa=!0,setTimeout(function(){return g.R2b();},0));};c.prototype.D6b=function(d){return (d=this.zia[d])?d():void 0;};c.prototype.t2=function(){var d;d=this.j.dka;return d?d.t2():[];};c.prototype.addEventListener=function(d,g){this.bDa.addListener(d,g);this.zia[d] && this.Nob(d);};c.prototype.removeEventListener=function(d,g){this.bDa.removeListener(d,g);};c.prototype.getTime=function(){return this.Oa.$b().ia(n.pa);};c.prototype.R2b=function(){this.DEa=!1;for(var d=this.Hja.length,g;d--;)(g=this.Hja[d],this.dDa[g] && (this.dDa[g]=!1,this.bDa.Pc(g + "changed",{getModel:this.zia[g]})));};b.iqa=c;},78312:function(r,b,a){var n,d,g,e,f,l,h;function c(k,m,p,v,q,u){var t,w,x,z;t=this;this.config=k;this.Rc=p;this.M=q;this.j=u;this.yM=new l.ic(!1);this.Jza=new l.ic(!1);this.Tl=this.Pj=void 0;this.UPa=!1;this.OL=void 0;this.log=v.fb("LivePlaybackManager");this.OL=this.config().h3b;w=this.config().Mtc;x=this.config().qdc;this.UPa=(0,g.dc)(w) && (0,g.dc)(x);null === u || void 0 === u?void 0:u.addEventListener(e.da.rn,function(){var y;if(t.fa && ((0,d.oa)(t.j && t.j.ea === t.M,"Unexpected playback segment on playbackReady"),t.config().v0b && (t.Tqb=m(function(A){(0,d.oa)(t.fa && t.j && t.j.ea === t.M,"Unexpected playback segment on playback rate update");t.M.playbackRate.value !== A && (t.M.playbackRate.set(A),t.j.fireEvent(e.da.kH));})),t.UPa)){y=t.zx();z=t.Rc.kO((0,n.bc)(500),function(){var A,B,C,D;A=t.zx();C=y + w;A >= C - 500 && (B=t.UBa(C));C=y + w + x;if(A >= C - 500){D=t.UBa(C);null === z || void 0 === z?void 0:z.cancel();}t.tPa(B,D,!0);});}});null === u || void 0 === u?void 0:u.addEventListener(e.da.sg,function(){var y;t.fa && ((0,d.oa)(t.j && t.j.ea === t.M,"Unexpected playback segment on closing"),t.Tqb=void 0,null === (y=t.d4) || void 0 === y?void 0:y.cancel(),t.d4=void 0,null === z || void 0 === z?void 0:z.cancel());});null === u || void 0 === u?void 0:u.addEventListener(e.da.fI,function(y){t.fa && ((0,d.oa)(t.j && t.j.ea === t.M,"Unexpected playback segment on repositioning"),y.Mb !== e.yc.Bu && y.Mb !== e.yc.WP || t.yM.set((y.Mb === e.yc.WP || t.config().MV) && !t.ykb()));});null === u || void 0 === u?void 0:u.addEventListener(e.da.rzb,function(){t.fa && ((0,d.oa)(t.j && t.j.ea === t.M,"Unexpected playback segment on userInitiatedPause"),t.yM.set(!1));});null === u || void 0 === u?void 0:u.background.addListener(function(){var y;t.fa && ((0,d.oa)(t.j && t.j.ea === t.M,"Unexpected playback segment on background update"),!t.j.background.value && t.c3() && void 0 === t.OL && (t.H3()?null === (y=t.j.ie) || void 0 === y?void 0:y.seek(t.Pj,e.yc.Bu):t.wla()));});this.M.mediaTime.addListener(function(y){var A,B,C,D;if(t.fa){(0,d.oa)(t.j && t.j.ea === t.M,"Unexpected playback segment on mediaTime update");C=t.j;t.Vca();D=t.BG(y.oldValue);y=t.BG(y.newValue);D !== y && (!1,C.fireEvent(e.da.kH));t.H3()?(null === (A=t.d4) || void 0 === A?void 0:A.cancel(),t.d4=void 0):t.d4 || (t.d4=t.Rc.kO((0,n.bc)(1E3),function(){t.Vca();C.fireEvent(e.da.kH);}));null === (B=t.Tqb) || void 0 === B?void 0:B.wW(t.j.Ni.value && t.c3(),t.M.mediaTime.value,t.zx());t.config().m0b && t.Wac() && t.sfb();}});null === u || void 0 === u?void 0:u.Ni.addListener(function(){t.fa && ((0,d.oa)(t.j && t.j.ea === t.M,"Unexpected playback segment on playing update"),t.config().n0b && t.sfb());});this.yM.addListener(function(){(0,d.oa)(t.fa,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + t.fa);(0,d.oa)(t.j && t.j.ea === t.M,"Playback is required for live.");t.Vca();});this.Jza.addListener(function(){(0,d.oa)(t.fa,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + t.fa);(0,d.oa)(t.j && t.j.ea === t.M,"Playback is required for live.");!1;t.j.fireEvent(e.da.kH);});}Object.defineProperty(b,"__esModule",{value:!0});b.sZa=void 0;n=a(5021);d=a(45146);g=a(32687);e=a(85001);f=a(30873);l=a(81734);h=a(45247);c.prototype.Gsc=function(){var k,m,p;(0,d.oa)(this.j && this.j.ea === this.M,"Playback is required for live.");return this.config().k3b || (null !== (p=null === (m=null === (k=this.M.U) || void 0 === k?void 0:k.Ca.Wg) || void 0 === m?void 0:m.$cb) && void 0 !== p?p:!1);};c.prototype.lmc=function(){var k;(0,d.oa)(this.fa,"Unexpected call to processManifest(). isLive:" + this.fa);(0,d.oa)(this.j && this.j.ea === this.M,"Playback is required for live.");(0,d.oa)(null === (k=this.M.U) || void 0 === k?void 0:k.Ca.Wg,"Live manifest is unavailable.");k=this.M.U.Ca.Wg;this.tPa(k.J1,k.I1);k=this.config().l3b;void 0 !== k && void 0 !== this.Pj && (this.OL=this.Pj + k);};c.prototype.tPa=function(k,m,p){var v,q,u,t,w;(0,d.oa)(this.fa,"Unexpected call to setLiveEventTimes(). isLive:" + this.fa);(0,d.oa)(this.j && this.j.ea === this.M,"Playback is required for live.");if(!this.UPa || p){p=this.j;u=this.Pj;t=this.Tl;w=null !== (v=this.sbb(k)) && void 0 !== v?v:u;v=null !== (q=this.sbb(m)) && void 0 !== q?q:t;if(void 0 === w && void 0 === v || void 0 !== w && 0 <= w && void 0 === v || void 0 !== w && 0 <= w && void 0 !== v && v > w){if((this.Pj=w,this.Tl=v,u !== this.Pj || t !== this.Tl))(!1,p.fireEvent(e.da.kH));}else this.log.error("Unexpected live event times. Ignoring:startTime:" + (k + ", startPts:") + (w + ", endTime:") + (m + ", endPts:") + v);}};c.prototype.u5b=function(){var k;(0,d.oa)(this.fa,"Unexpected call to getLiveEventTimeForCurrentMediaTime(). isLive:" + this.fa);(0,d.oa)(this.j && this.j.ea === this.M,"Playback is required for live.");k=this.M.mediaTime.value;if(void 0 !== k)return this.UBa(k);};c.prototype.i6b=function(){var k,m,p;(0,d.oa)(this.fa,"Unexpected call to getLiveSegmentNumberForCurrentMediaTime(). isLive:" + this.fa);(0,d.oa)(this.j && this.j.ea === this.M,"Playback is required for live.");(0,d.oa)(null === (k=this.M.U) || void 0 === k?void 0:k.Ca.Wg,"Live manifest is unavailable.");k=this.M.mediaTime.value;if(void 0 !== k){m=this.M.U.Ca.Wg;p=m.R6[m.lea[this.M.U.Ca.hw[0].streams[0].Qm]];m=Number(p.hwb);p=new h.K(p.duration,p.O);return m + Math.floor(k / p.H);}};c.prototype.bga=function(){var k;(0,d.oa)(this.fa,"Unexpected call to getUIAdjustedTime(). isLive:" + this.fa);(0,d.oa)(this.j && this.j.ea === this.M,"Playback is required for live.");k=this.M.mediaTime.value;if(void 0 !== k)switch(this.BG(k)){case f.tw.pZ:return 0;case f.tw.lra:return ((0,d.oa)(void 0 !== this.Pj,"eventStartPts should be defined in LIVE_EVENT slate."),k - this.Pj);case f.tw.Ipa:return ((0,d.oa)(void 0 !== this.Pj && void 0 !== this.Tl,"eventStartPts and eventEndPts should be defined in END_SLATE slate."),this.Tl - this.Pj);}};c.prototype.Ltb=function(k){var m,p;(0,d.oa)(this.fa,"Unexpected call to revertUIAdjustedTime(). isLive:" + this.fa);(0,d.oa)(this.j && this.j.ea === this.M,"Playback is required for live.");return void 0 === this.Pj?null !== (p=null !== (m=this.zx()) && void 0 !== m?m:this.M.mediaTime.value) && void 0 !== p?p:k:this.Pj + k;};c.prototype.Jkb=function(k){var m;(0,d.oa)(this.fa,"Unexpected call to isWithinUILiveEdgeThreshold(). isLive:" + this.fa);(0,d.oa)(this.j && this.j.ea === this.M,"Playback is required for live.");m=this.zx();return void 0 !== m && k >= m - this.config().ddc;};c.prototype.RFa=function(k,m){var p,v;(0,d.oa)(this.fa,"Unexpected call to getLiveBookmark(). isLive:" + this.fa);(0,d.oa)(this.j && this.j.ea === this.M,"Playback is required for live.");if(void 0 !== this.OL)return {ao:this.OL,QH:Number.MAX_SAFE_INTEGER,Ccb:this.OL};this.config().MV && this.yM.set(!0);m || void 0 === this.Pj || void 0 === this.Tl && 0 === k?(this.yM.set(!0),k=36E7):(k=this.Pj + k,void 0 !== this.Tl && k > this.Tl && (k=this.Pj));return {ao:k,QH:null !== (p=this.Tl) && void 0 !== p?p:Number.MAX_SAFE_INTEGER,Ccb:null !== (v=this.Pj) && void 0 !== v?v:36E7};};c.prototype.$L=function(){var k,m,p;return Math.max(null !== (k=this.Tl) && void 0 !== k?k:0,null !== (m=this.zx()) && void 0 !== m?m:0,null !== (p=this.M.mediaTime.value) && void 0 !== p?p:0);};c.prototype.bib=function(){var k;(0,d.oa)(this.fa,"Unexpected call to getLiveContentDuration(). isLive:" + this.fa);(0,d.oa)(this.j && this.j.ea === this.M,"Playback is required for live.");if(void 0 === this.Pj)return 0;k=this.M.mediaTime.value;return (void 0 !== this.Tl?this.Tl:this.vD() && void 0 !== k?k:this.$L()) - this.Pj;};c.prototype.w6b=function(){var k;(0,d.oa)(this.fa,"Unexpected call to getMaxSeekPts(). isLive:" + this.fa);(0,d.oa)(this.j && this.j.ea === this.M,"Playback is required for live.");k=this.zx();k=void 0 !== this.Tl && void 0 !== k?Math.min(this.Tl,k):k;!1;return null !== k && void 0 !== k?k:0;};c.prototype.zx=function(){var k,m;(0,d.oa)(this.fa,"Unexpected call to getLiveEdge(). isLive:" + this.fa);(0,d.oa)(this.j && this.j.ea === this.M,"Playback is required for live.");return null === (m=null === (k=this.j.cb) || void 0 === k?void 0:k.st(this.M.L)) || void 0 === m?void 0:m.H;};c.prototype.wla=function(){var k;(0,d.oa)(this.fa,"Unexpected call to seekToLiveEdge(). isLive:" + this.fa);(0,d.oa)(this.j && this.j.ea === this.M,"Playback is required for live.");this.yM.set(!this.ykb());if(this.j.ie){k=this.zx();void 0 !== k?this.j.ie.seek(k,e.yc.WP,this.M.L):!1;}else this.M.ao=this.RFa(0,!0).ao;};c.prototype.vD=function(){(0,d.oa)(this.fa,"Unexpected call to isAtLiveEdge(). isLive:" + this.fa);(0,d.oa)(this.j && this.j.ea === this.M,"Playback is required for live.");this.Vca();return this.Jza.value;};c.prototype.c3=function(){(0,d.oa)(this.fa,"Unexpected call to intentToPlayAtLiveEdge(). isLive:" + this.fa);(0,d.oa)(this.j && this.j.ea === this.M,"Playback is required for live.");return this.yM.value;};c.prototype.BG=function(k){var m,p,v;(0,d.oa)(this.fa,"Unexpected call to getLiveEventState(). isLive:" + this.fa);(0,d.oa)(this.j && this.j.ea === this.M,"Playback is required for live.");k=null !== (m=null !== k && void 0 !== k?k:this.M.mediaTime.value) && void 0 !== m?m:0;m=null !== (p=this.Pj) && void 0 !== p?p:Infinity;p=null !== (v=this.Tl) && void 0 !== v?v:Infinity;return k < m?f.tw.pZ:k > p?f.tw.Ipa:f.tw.lra;};c.prototype.H3=function(k){(0,d.oa)(this.fa,"Unexpected call to isLiveEventEnded(). isLive:" + this.fa);(0,d.oa)(this.j && this.j.ea === this.M,"Playback is required for live.");if(k)return void 0 !== this.Tl;k=this.zx();return void 0 !== this.Tl && void 0 !== k && this.Tl < k;};c.prototype.Wac=function(){var k;(0,d.oa)(this.fa,"Unexpected call to isLiveEventStarted(). isLive:" + this.fa);(0,d.oa)(this.j && this.j.ea === this.M,"Playback is required for live.");k=this.zx();return void 0 !== this.Pj && void 0 !== k && this.Pj < k;};c.prototype.ykb=function(){var k;(0,d.oa)(this.fa,"Unexpected call to isPlaybackPausedByUser(). isLive:" + this.fa);(0,d.oa)(this.j && this.j.ea === this.M,"Playback is required for live.");return this.j.paused.value && !(null === (k=this.j.paused.jj) || void 0 === k?0:k.EH);};c.prototype.Vca=function(){var k;(0,d.oa)(this.fa,"Unexpected call to calculateIsAtLiveEdge(). isLive:" + this.fa);(0,d.oa)(this.j && this.j.ea === this.M,"Playback is required for live.");this.Jza.set(this.c3() && this.Jkb(null !== (k=this.M.mediaTime.value) && void 0 !== k?k:0));};c.prototype.sfb=function(){(0,d.oa)(this.fa,"Unexpected call to forceLiveEdgeInStartSlate(). isLive:" + this.fa);(0,d.oa)(this.j && this.j.ea === this.M,"Playback is required for live.");this.j.Ni.value && this.BG() === f.tw.pZ && !this.vD() && void 0 === this.OL && this.wla();};c.prototype.UBa=function(k){var m,p;(0,d.oa)(this.fa,"Unexpected call to convertPtsToEventTime(). isLive:" + this.fa);(0,d.oa)(this.j && this.j.ea === this.M,"Playback is required for live.");(0,d.oa)(null === (m=this.M.U) || void 0 === m?void 0:m.Ca.Wg,"Live manifest is unavailable.");m=this.M.U.Ca.Wg;p=new Date(m.R6[m.lea[this.M.U.Ca.hw[0].streams[0].Qm]].iR).getTime();return new Date(p - m.H1 + k).toISOString();};c.prototype.sbb=function(k){var m,p,v;(0,d.oa)(this.fa,"Unexpected call to convertEventTimeToPts(). isLive:" + this.fa);(0,d.oa)(this.j && this.j.ea === this.M,"Playback is required for live.");(0,d.oa)(null === (m=this.M.U) || void 0 === m?void 0:m.Ca.Wg,"Live manifest is unavailable.");if(k){m=this.M.U.Ca.Wg;p=m.R6[m.lea[this.M.U.Ca.hw[0].streams[0].Qm]];v=new Date(k).getTime() + m.H1 - new Date(p.iR).getTime();if(isNaN(v) || 0 > v)this.log.error("Invalid live event time. Ignoring: eventDateString:" + (k + ", eventAvailabilityOffsetMs:") + (m.H1 + ", availabilityStartTime:") + p.iR);else return v;}};Ga.Object.defineProperties(c.prototype,{fa:{configurable:!0,enumerable:!0,get:function(){var k,m;k=this.M;m=k.U;return m?(k=m.Ca,m=k.Wg,"LIVE" === k.Je && !!m):"live" === k.ue;}}});b.sZa=c;},31099:function(r,b,a){var n,d;function c(g,e,f,l){this.config=g;this.Ila=l;this.log=e.fb("LivePlaybackRateController");this.tvc=f((0,n.bc)(this.config().jdc));}Object.defineProperty(b,"__esModule",{value:!0});b.uZa=void 0;n=a(5021);d=a(8825);c.prototype.wW=function(g,e,f){var l,h;l=this;if(!g || void 0 === e || void 0 === f || Math.abs(e - f) < this.config().kdc)h=1;else (g=f - e,g=1 + this.config().idc / 1E3 * g,h=(0,d.UB)(g,this.config().mdc,this.config().ldc));this.tvc.ah(function(){!1;l.Ila(h);});};b.uZa=c;},95735:function(r,b,a){var n,d,g,e;function c(){this.lK=!1;this.nba=n.IY.KY;this.w2b=["chgstrm","debug","cdnsel","netstats","midplay"];}Object.defineProperty(b,"__esModule",{value:!0});b.Qra=void 0;r=a(5163);n=a(6823);d=a(22674);g=a(29204);e=a(45146);c.prototype.aeb=function(f){var l,h,k,m;l=this;h=f.duration;k=f.lnaStartTime;m=f.level;(0,e.oa)(void 0 !== h && 0 < h,"Unexpected or undefined duration value");(0,e.oa)(void 0 !== k && 0 < k,"Unexpected or undefined start time value");f.platform && !f.platform.includes("web") || g.config.j3b || (this.nba=null !== m && void 0 !== m?m:n.IY.KY,setTimeout(function(){l.lK || (l.lK=!0,l.qeb({lnaStopTime:h}));},k));};c.prototype.qeb=function(f){var l,h;l=this;f=f.lnaStopTime;(0,e.oa)(void 0 !== f && 0 < f,"Unexpected or undefined stop time value");h=Math.floor(Math.random() * g.config.wdc) + 1;this.hEa && clearTimeout(this.hEa);this.hEa=setTimeout(function(){l.lK && (l.lK=!1,l.hEa=void 0);},f + h);};c.prototype.kmc=function(f){var l,h,k,m;if("enterLNAMode" === f.type && f.payload)this.aeb(f.payload);else if("exitLNAMode" === f.type && f.payload)this.qeb(f.payload);else if("lna" === f.type){l=f.lnaStartTime;h=f.lnaEndTime;k=f.serverCurrTime;f=f.level;if(l && h && k){m=Math.min(h - k,g.config.Lec);k < h && k > l && this.aeb({lnaStartTime:1,duration:m,level:f});}}};c.prototype.tyc=function(){return this.lK && this.nba === n.IY.BXa;};c.prototype.srb=function(){return this.lK && (this.nba === n.IY.MEDIUM || this.nba === n.IY.BXa);};c.prototype.Mdc=function(f){return this.lK && this.w2b.includes(f);};a=c;b.Qra=a;b.Qra=a=r.__decorate([(0,d.W)()],a);},11953:function(r,b,a){var e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A,B,C,D,E,F,G,J,N,I,M;function c(){this.Ema=[];this.Svc=50;}function n(K){var L;L=this;this.j=K;this.Uzb=Promise.resolve();this.vWa=Ba.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.CK=[];this.Vk=new h.Qk();this.m6a=0;this.Maa=[];this.nf=(0,p.lj)(this.j,"MediaElementASE");this.L7a=f.YE;this.hxa=!1;this.ob=new c();this.Lf=new I.ic(F.wm.QE.HAVE_NOTHING);this.Tq={};this.G6a={};this.yfa=this.Naa(function(){var H;if(L.ha)return null !== (H=L.ha.webkitDecodedFrameCount) && void 0 !== H?H:0;});this.yx=this.Naa(function(){var H;if(L.ha){H=L.txa();return H?H.totalVideoFrames:L.ha.webkitDecodedFrameCount;}});this.bM=this.Naa(function(){var H;if(L.ha){H=L.txa();return H?H.droppedVideoFrames:L.ha.webkitDroppedFrameCount;}});this.o2=this.Naa(function(){var H;if(L.ha){H=L.txa();return H && H.corruptedVideoFrames;}});this.Z6a=function(H){!1;L.Vk.Pc(B.fk.Plb,{N:H});};this.Gr=p.La.get(A.hZa).create(l.config.l8,this,this.j);this.Rc=p.La.get(N.gk);l.config.hH && (this.Uzb=new Promise(function(H){L.L7a=H;L.j.addEventListener(E.da.sg,H);}));this.nf.trace("Created Media Element");this.addEventListener=this.Vk.addListener;this.removeEventListener=this.Vk.removeListener;}function d(K){var L,H;L=p.La.get(C.O5a).B7b();K=K.width / K.height * L.height;H=(L.width - K) / 2;return l.config.jsc?(0,m.createElement)("VIDEO","position:absolute;width:" + K + "px;height:" + L.height + "px;left:" + H + "px;top:0px"):(0,m.createElement)("VIDEO","position:absolute;width:100%;height:100%");}function g(K){K.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.rsa=void 0;e=a(90762);f=a(33096);l=a(29204);h=a(94886);k=a(37509);m=a(52569);p=a(31276);v=a(36129);q=a(45146);u=a(8825);t=a(67572);w=a(3887);x=a(77705);z=a(22365);y=a(32687);A=a(80012);B=a(16520);C=a(45613);D=a(5021);E=a(85001);F=a(63156);G=a(82100);J=a(26388);N=a(53085);I=a(81734);M=!!(z.WE && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);n.prototype.xG=function(K){try{this.ha && (this.m6a=this.ha.currentTime);}catch(L){this.nf.error("Exception while getting VIDEO.currentTime",L);K && this.OZ(v.Y.MHb,L);}return (0,z.Hq)(this.m6a * f.wu);};n.prototype.seek=function(K){var L;(0,q.oa)(!this.mp);this.F7a();L=this.xG(!0);if(!l.config.ePb && (0,z.j$)(L - K) <= this.kub)(this.nf.trace("Seek delta too small",{currentTime:L,seekTime:K,min:this.kub}),this.ob.trace("smallseek",K));else {this.ob.trace("seek",K);try{this.nf.trace("Setting video elements currentTime",{From:(0,u.Ui)(L),To:(0,u.Ui)(K)});this.mp={};this.ha.currentTime=K / f.wu;this.Vk.Pc(B.fk.cr);}catch(H){this.nf.error("Exception while setting VIDEO.currentTime",H);this.OZ(v.Y.NHb,H);}}};n.prototype.Ghb=function(){return !!this.mp;};n.prototype.addSourceBuffer=function(K){var L;try{L=new e.ssa(this.j,K,this.Qw,this.nf);this.CK.push(L);K == f.RY && L.GEa && L.GEa.addListener(this.L7a);this.Vk.Pc(B.fk.Zvb);return L;}catch(H){L=(0,w.Fg)(H);this.nf.error("Unable to add source buffer.",{error:L});this.j.Gd(v.Y.vta,{Ja:K === J.u.X?v.T.$ra:v.T.bsa,tc:L});}};n.prototype.P_=function(K){var L;L=this;K.forEach(function(H){return L.addSourceBuffer(H);});return !0;};n.prototype.removeSourceBuffer=function(K){this.CK=this.CK.filter(function(L){return !(0,m.sUb)(K,L);});this.Qw.removeSourceBuffer(K);};n.prototype.endOfStream=function(){var K;this.ob.trace("endofstream");!1;l.config.HAa && (null === (K=this.j.cb) || void 0 === K?void 0:K.endOfStream(),this.Qw.endOfStream());};n.prototype.Ep=function(K){!1;this.CK=[];K && K.XLc();return !0;};n.prototype.XFa=function(){if(this.Qw)return (0,D.llc)(this.Qw.duration);};n.prototype.RZb=function(){var K;if(!this.hxa && this.ha && this.ha.readyState >= F.wm.QE.HAVE_CURRENT_DATA){K=this.ha.webkitDecodedFrameCount;if(void 0 === K || 0 < K || l.config.Pyc)this.hxa=!0;}return this.hxa;};n.prototype.open=function(){var K,L,H;K=this;this.ha=d(this.j.QI.value);this.inc=this.Rc.kO((0,D.bc)(500),function(){K.Lf.set(K.ha.readyState);});this.sourceBuffers=this.CK;this.j.addEventListener(E.da.Jvb,function(O){return K.hMb(O);});if(M){this.j.JM && !l.config.ezb && this.Gr.sja();try{this.Qw=new z.WE();}catch(O){this.OZ(v.Y.BHb,O);return;}try{this.Zf=URL.createObjectURL(this.Qw);}catch(O){this.OZ(v.Y.CHb,O);return;}try{this.Gr.lOb(this.Z6a);this.Qw.addEventListener("sourceopen",function(O){return K.s7a(O);});this.Qw.addEventListener(this.vWa + "sourceopen",function(O){return K.s7a(O);});this.ha.addEventListener("error",this.Tq.error=function(O){return K.aMb(O);});this.ha.addEventListener("seeking",this.Tq.seeking=function(){return K.gMb();});this.ha.addEventListener("seeked",this.Tq.seeked=function(){return K.fMb();});this.ha.addEventListener("timeupdate",this.Tq.timeupdate=function(){return K.iMb();});this.ha.addEventListener("loadstart",this.Tq.loadstart=function(){return K.cMb();});this.ha.addEventListener("volumechange",this.Tq.volumechange=function(O){return K.jMb(O);});this.Lf.addListener(function(){return K.eMb();});this.ha.addEventListener(this.Gr.BH,this.Tq[this.Gr.BH]=function(){K.nf.trace(K.Gr.BH);K.dMb();});L=this.j.lm;H=L.lastChild;H?L.insertBefore(this.ha,H):L.appendChild(this.ha);l.config.adb && this.ha.addEventListener("contextmenu",g);this.ha.src=this.Zf;k.ff.addListener(k.rv,this.G6a[k.rv]=function(){return K.r7a();});this.r7a();}catch(O){this.OZ(v.Y.DHb,O);}}else this.Jaa(v.Y.W0a);};n.prototype.close=function(){var K;K=this;this.ob.trace("close");this.ha.removeEventListener(this.Gr.BH,this.Tq[this.Gr.BH]);this.ha.removeEventListener("error",this.Tq.error);this.ha.removeEventListener("seeking",this.Tq.seeking);this.ha.removeEventListener("seeked",this.Tq.seeked);this.ha.removeEventListener("timeupdate",this.Tq.timeupdate);this.ha.removeEventListener("loadstart",this.Tq.loadstart);this.ha.removeEventListener("volumechange",this.Tq.volumechange);this.Gr.poc(this.Z6a);clearTimeout(this.Gr.xoc);setTimeout(function(){K.Zf && (K.F7a(),k.ff.removeListener(k.rv,K.G6a[k.rv]),K.tKb());});};n.prototype.GG=function(){return this.ob.GG();};n.prototype.gpc=function(){this.mp && (this.ob.trace("resetSeek"),this.mp=void 0);};n.prototype.dMb=function(){l.config.ezb && this.Gr.sja();};n.prototype.txa=function(){if(this.ha)return this.ha.getVideoPlaybackQuality && this.ha.getVideoPlaybackQuality() || this.ha.videoPlaybackQuality || this.ha.playbackQuality;};n.prototype.UMb=function(){var K;K=this.j.Di;return (K=K && K.errorCode) && 0 <= [v.Y.D$,v.Y.S9].indexOf(K);};n.prototype.tKb=function(){var K,L;L=!1;l.config.Olc && this.UMb() && (L=!0);l.config.YTb && !L && (this.ha.removeAttribute("src"),this.ha.load && this.ha.load());URL.revokeObjectURL(this.Zf);l.config.adb && this.ha.removeEventListener("contextmenu",g);!L && this.ha && this.j.lm.removeChild(this.ha);this.Qw=void 0;null === (K=this.inc) || void 0 === K?void 0:K.cancel();this.Lf.set(F.wm.QE.HAVE_NOTHING);this.ha=void 0;this.Zf="";};n.prototype.r7a=function(){!0 === z.Vh.hidden?this.Maa.forEach(function(K){K.refresh();K.Btc();}):this.Maa.forEach(function(K){K.refresh();K.Utc();});};n.prototype.Naa=function(K){var L;L=p.La.get(t.H0a)(K);this.Maa.push(L);return function(){L.refresh();return L.U4b();};};n.prototype.OZ=function(K,L){var H,O;H={Ja:v.T.Vo,tc:(0,w.Fg)(L)};try{(O=L.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == O.length && (H.Af=O);}catch(P){}this.j.Gd(K,H);};n.prototype.F7a=function(){this.Maa.forEach(function(K){K.refresh();});};n.prototype.eLb=function(){return this.ha && this.ha.msGraphicsTrustStatus;};n.prototype.Jaa=function(K,L){this.j.Gd(K,L,void 0);};n.prototype.hMb=function(K){var L,O,P,Q,S,X,W;if(this.ha){K=K.dna;L=this.eLb();L && (K.ConstrictionActive=L.constrictionActive,K.Status=L.status);try{K.readyState="" + this.ha.readyState;K.currentTime="" + this.ha.currentTime;K.pbRate="" + this.ha.playbackRate;}catch(V){}L=this.CK.length;for(var H;L--;){H=this.CK[L];O="";H.type == f.i$?O="audio":H.type == f.RY && (O="video");(0,w.Re)(K,H.ofa(),{prefix:O});}this.Qw && (L=this.Qw.duration) && !isNaN(L) && (K.duration=L.toFixed(4));if(l.config.Ndc)try{P=this.j.bg;Q=P && P.Ee;if(Q){S=Q.expiration;isNaN(S) || (K.exp=S);X=Q.keyStatuses.entries();if(X.next){W=X.next().value;W && (K.keyStatus=W[1]);}}}catch(V){}}};n.prototype.s7a=function(K){!1;this.XMb || (this.XMb=!0,this.Vk.Pc(B.fk.hQa,K));};n.prototype.gMb=function(){this.ob.trace("seeking");this.nf.trace("Video element event: seeking");this.mp?this.mp.vhc=!0:(this.nf.error("unexpected seeking event"),l.config.d2b && this.Jaa(v.Y.SHb,{tc:{Trace:this.GG()}}));};n.prototype.fMb=function(){this.ob.trace("seeked");this.nf.trace("Video element event: seeked");this.mp?((0,q.oa)(this.mp.vhc),this.mp.uhc=!0,this.g8a()):(this.nf.error("unexpected seeked event"),l.config.c2b && this.Jaa(v.Y.RHb,{tc:{Trace:this.GG()}}));};n.prototype.iMb=function(){var K;this.ob.trace("timeupdate",null === (K=this.ha) || void 0 === K?void 0:K.currentTime);!1;this.mp && (this.mp.whc=!0,this.g8a());this.Vk.Pc(B.fk.cr);};n.prototype.cMb=function(){this.nf.trace("Video element event: loadstart");};n.prototype.jMb=function(K){this.nf.trace("Video element event:",K.type);try{this.j.volume.set(this.ha.volume);this.j.muted.set(this.ha.muted);}catch(L){this.nf.error("error updating volume",L);}};n.prototype.eMb=function(){this.Vk.Pc(B.fk.psb);};n.prototype.aMb=function(K){var L,H,O,P,Q,S,X,W;L=this.Jaa;H=v.Y.V0a;O=v.HWa;P=this.GG();Q=K.target;S=Q && Q.error;X=K.errorCode;Q=S && S.code;(0,y.Zc)(Q) || (Q=X && X.code);X=S && S.message;W=S && S.msExtendedCode;(0,y.Zc)(W) || (W=S && S.systemCode);(0,y.Zc)(W) || (W=K.systemCode);(0,y.Zc)(W) || (W=(0,G.ihb)(X));K=(0,w.Re)({},{code:Q,systemCode:W,trace:JSON.stringify(P)},{xja:!0});O={Ja:O(Q),tc:(0,x.FJa)(K)};try{X && (O.F4=X);}catch(V){}W=(0,w.Ck)(W);(0,y.dc)(W) && (O.Af=(0,p.bAa)(W,4));L.call(this,H,O);};n.prototype.g8a=function(){this.mp && this.mp.uhc && this.mp.whc && (this.ob.trace("seekcomplete"),this.mp=void 0,this.Vk.Pc(B.fk.O6));};Ga.Object.defineProperties(n.prototype,{kub:{configurable:!0,enumerable:!0,get:function(){return l.config.ltc;}}});b.rsa=n;c.prototype.trace=function(K,L){this.Ema.push([K,L]);this.Ema.length > this.Svc && this.Ema.shift();};c.prototype.GG=function(){return this.Ema;};},51149:function(r,b,a){var n,d,g,e,f,l,h,k;function c(m,p){var v;v=this;this.zo=m;this.hD=p;this.Lxb=function(q){var u,t,w,x,z,y;u=v.dxb++;t=q.request.gG || "dl";w=v.$hb(t,"start");if(w){x=q.request.uH.L;if(x && !v.qwb.has(x)){z=v.hhb(x);y=q.NA;v.zo.mark(w,z,y?t + "-" + y + "-" + u:t);q.Uba(function(){var A,B;A=v.$hb(t,"end");B=y?t + "-" + y + "-" + u:t;A && v.zo.mark(A,z,B);});}}};this.dxb=0;this.qwb=new Set();this.YOa=new Map();p.w1 && this.Syc();}Object.defineProperty(b,"__esModule",{value:!0});b.Fsa=void 0;r=a(5163);n=a(22674);d=a(63156);g=a(77134);e=a(5021);f=a(61726);l=a(34231);h=a(79542);k={start:{video:d.Ya.oX,audio:d.Ya.kX},end:{video:d.Ya.nX,audio:d.Ya.jX}};c.prototype.jhb=function(m){var v,q,u,t,w,x,z,y;function p(A){return (0,e.timestamp)(v.h9a((0,e.timestamp)(A),m,!0));}v=this;q=new Set();u=m.ce;t=m.Ea;w=void 0 === m.kwb?null:m.kwb;x=m.L;z=this.zo.Tgb(t);y=x && this.hhb(x);y && z.push.apply(z,xa(this.zo.Tgb(y)));this.zo.Rsb(m.Ea);y && this.zo.Rsb(y);x && this.qwb.add(x);x=[];("pr_ats" in u) && x.push({name:d.Ya.X$,cw:p(u.pr_ats),Ea:t,sf:"request-pre-manifest"});("ats" in u) && x.push({name:d.Ya.V$,cw:p(u.ats),Ea:t,sf:"request-manifest"});("pr_at" in u) && x.push({name:d.Ya.W$,cw:p(u.pr_at),Ea:t,sf:"request-pre-manifest"});("at" in u) && x.push({name:d.Ya.U$,cw:p(u.at),Ea:t,sf:"request-manifest"});("lg" in u) && x.push({name:d.Ya.T$,cw:p(u.lg),Ea:t,sf:"request-license"});("lr" in u) && (x.push({name:d.Ya.S$,cw:p(u.lr),Ea:t,sf:"request-license"}),x.push({name:d.Ya.I8,cw:p(u.lr),Ea:t,sf:"apply-license"}));("ld" in u) && x.push({name:d.Ya.H8,cw:p(u.ld),Ea:t,sf:"apply-license"});("tt_start" in u) && x.push({name:d.Ya.mX,cw:p(u.tt_start),Ea:t,sf:"request-timed-text"});("tt_comp" in u) && x.push({name:d.Ya.lX,cw:p(u.tt_comp),Ea:t,sf:"request-timed-text"});return x.concat(z).map(function(A){return v.Gvc(A,m);}).filter(function(A){return A.ts <= (null !== w && void 0 !== w?w:A.ts)?("end" === A.step && q.add(A.eventId),!0):!1;}).filter(function(A){return "start" !== A.step || q.has(A.eventId)?!0:!1;}).sort(function(A,B){return A.ts - B.ts;}).reduce(function(A,B){var C;C=B.eventName;delete B.eventName;C && (A[C]=B);return A;},{});};c.prototype.ROb=function(m,p,v){return (void 0 === v?0:v)?m.ia(e.pa) + p.rj.ia(e.pa):m.ia(e.pa) - p.rj.ia(e.pa);};c.prototype.h9a=function(m,p,v){v=void 0 === v?!1:v;if(p.No)if(v)m.ia(e.pa) + p.No;else return m.ia(e.pa) - p.No;return this.ROb(m,p,v);};c.prototype.Gvc=function(m,p){var v,q;v=m.sf;q=m.name;return {eventName:this.Ugc(q,v),eventId:v || q,ts:this.h9a(m.cw,p),comp:this.n2(q),cat:this.E4b(q),step:this.c8b(q)};};c.prototype.Ugc=function(m,p){switch(m){case d.Ya.mX:case d.Ya.lX:case d.Ya.kX:case d.Ya.jX:case d.Ya.oX:case d.Ya.nX:return m + "-" + p;default:return m;}};c.prototype.n2=function(m){switch(m){case d.Ya.X$:case d.Ya.W$:case d.Ya.V$:case d.Ya.U$:return "manifest";case d.Ya.T$:case d.Ya.S$:case d.Ya.qva:case d.Ya.pva:case d.Ya.F9:case d.Ya.E9:case d.Ya.I8:case d.Ya.H8:return "license";case d.Ya.mX:case d.Ya.lX:case d.Ya.kX:case d.Ya.jX:case d.Ya.oX:case d.Ya.nX:case d.Ya.xna:case d.Ya.wna:return "buffering";case d.Ya.qta:case d.Ya.pta:return "playback";default:return (0,h.wS)(m);}};c.prototype.E4b=function(m){switch(m){case d.Ya.X$:case d.Ya.W$:case d.Ya.V$:case d.Ya.U$:return "aws";case d.Ya.T$:case d.Ya.S$:return "mixed";case d.Ya.qta:case d.Ya.pta:case d.Ya.qva:case d.Ya.pva:case d.Ya.F9:case d.Ya.E9:case d.Ya.I8:case d.Ya.H8:case d.Ya.xna:case d.Ya.wna:return "device";case d.Ya.mX:case d.Ya.lX:case d.Ya.kX:case d.Ya.jX:case d.Ya.oX:case d.Ya.nX:return "cdn";default:return (0,h.wS)(m);}};c.prototype.c8b=function(m){switch(m){case d.Ya.X$:case d.Ya.qta:case d.Ya.V$:case d.Ya.T$:case d.Ya.xna:case d.Ya.mX:case d.Ya.kX:case d.Ya.oX:case d.Ya.qva:case d.Ya.F9:case d.Ya.I8:return "start";case d.Ya.W$:case d.Ya.pta:case d.Ya.U$:case d.Ya.S$:case d.Ya.pva:case d.Ya.E9:case d.Ya.H8:case d.Ya.wna:case d.Ya.lX:case d.Ya.jX:case d.Ya.nX:return "end";default:return (0,h.wS)(m);}};c.prototype.$hb=function(m,p){if((m in k[p]))return k[p][m];};c.prototype.Kwc=function(){f.Bf.removeEventListener(f.vga,this.Lxb);};c.prototype.Syc=function(){this.Kwc();f.Bf.addEventListener(f.vga,this.Lxb);};c.prototype.hhb=function(m){var p;if(this.YOa.has(m))return this.YOa.get(m);p=Date.now();this.YOa.set(m,p);return p;};a=c;b.Fsa=a;b.Fsa=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.XY)),r.__param(1,(0,n.l)(l.Fq))],a);},27104:function(r,b,a){var d,g,e,f,l,h,k,m,p,v;function c(q,u,t,w,x,z){var y;y=this;this.gi=q;this.config=t;this.Ub=w;this.debug=x;this.UK={};this.hdb=!1;this.k0={};this.XHa=0;this.Afa=function(A){var B,C,D;B=A.stream;if(B){A=B.Nb;C=B.bitrate;D=B.Gb;}else A=A.track.Nb;return {key:A + "$" + C + "$" + D,Nb:A,bitrate:C,Gb:D};};this.ogb=function(A){var B,C,D;C=y.Afa(A);D=null === (B=A.Tc) || void 0 === B?void 0:B.id;A=A.track.sf;return Object.assign({},C,{key:C.key + "$" + D + "$" + A,Ap:D,sf:A});};this.A4b=function(A){var B;B=A.stream;A=null === B || void 0 === B?void 0:B.Nb;B=null === B || void 0 === B?void 0:B.bitrate;return {key:A + "$" + B,Nb:null !== A && void 0 !== A?A:"",cU:B};};this.L8b=function(A){var B;B=A.stream;A=null === B || void 0 === B?void 0:B.Nb;B=null === B || void 0 === B?void 0:B.Gb;return {key:A + "$" + B,Nb:null !== A && void 0 !== A?A:"",cU:B};};this.log=u.fb("PlayTimeTracker");this.jka=z(q);this.gy=z(q);this.DMa=z(q);this.startTime=this.gi.mediaTime.value;this.Wha=this.config().ANb;this.nP();this.UK.abrdel=0;this.Wha.forEach(function(A){A="abrdel" + A;y.k0[A]=0;y.UK[A]=0;});}function n(){}Object.defineProperty(b,"__esModule",{value:!0});b.mua=void 0;r=a(5163);d=a(22674);g=a(87386);e=a(4203);f=a(71501);a(5021);l=a(42207);h=a(90597);k=a(33096);m=a(3887);p=a(39551);v=a(30873);n.prototype.encode=function(q){return {downloadableId:q.Nb,correlationId:q.sf,bitrate:q.bitrate,vmaf:q.Gb,duration:q.duration,metric:q.cU,cdnId:q.Ap};};n.prototype.decode=function(q){return {Nb:q.downloadableId,sf:q.correlationId,bitrate:q.bitrate,Gb:q.vmaf,duration:q.duration,cU:q.metric,Ap:q.cdnId};};c.prototype.tt=function(q){q=void 0 === q?"content":q;this.rI(this.gi.mediaTime.value);return Math.floor(this.gy.tt(function(u){return u.Nr === q;}));};c.prototype.rgb=function(q){this.rI(this.gi.mediaTime.value);return Math.floor(this.gy.tt(q));};c.prototype.U2=function(q){var u;q=void 0 === q?"content":q;this.rI(this.gi.mediaTime.value);u=this.gy.U2(function(t){return t.Nr === q;});this.debug.assert(u === Math.floor(u),"Value of totalContentPlayTime is not an integer.");return Math.floor(u);};c.prototype.r4b=function(){this.rI(this.gi.mediaTime.value);return {audio:this.r2(this.jka,this.ogb),video:this.r2(this.gy,this.ogb)};};c.prototype.h7b=function(){var q,u,t;q=this.tt("content");u=this.tt("ads");t=this.tt("other");q={total:q,totalAdDuration:u,totalOtherDuration:t,totalCombinedDuration:q + u + t,totalContentTime:this.U2("content"),totalStartSlateDuration:this.rgb(function(w){return !0 === w.hIa;}),totalLiveEdgeDuration:this.rgb(function(w){return !0 === w.vD;}),audio:this.r2(this.jka,this.Afa),video:this.r2(this.gy,this.Afa),timedtext:this.r2(this.DMa,this.Afa)};this.debug.assert(!(!q.audio || !q.video));return q;};c.prototype.kFa=function(){var q,u;this.rI(this.gi.mediaTime.value);q=this.gy.fFa(this.A4b);try{u=this.Qfb(q);}catch(t){return (this.log.warn("Failed to calc average bitrate."),null);}this.UK.abrdel=Math.round(u);return this.UK.abrdel;};c.prototype.Rfb=function(){var q,u;this.rI(this.gi.mediaTime.value);q=this.gy.fFa(this.L8b);try{u=this.Qfb(q);}catch(t){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(u);};c.prototype.Pfb=function(){var q,u;q=this;if(!this.hdb){u=this.tt();this.Wha.forEach(function(t){var w,x,z;if(0 === q.k0["abrdel" + t] && u > t * k.wu){w=0;x=0;z=0;q.gy.some(function(y){w+=y.stream.bitrate * (y.endTime - y.startTime);x+=y.endTime - y.startTime;z=y.stream.bitrate;return x > t * k.wu;});w && (q.k0["abrdel" + t]=Math.round((w - z * (x - t * k.wu)) / (t * k.wu)));}});0 !== this.k0["abrdel" + this.Wha[this.Wha.length - 1]] && (this.hdb=!0);(0,m.wh)(this.k0,function(t,w){q.UK[t]=0 === w?q.UK.abrdel:w;});}return this.UK;};c.prototype.iOb=function(q){this.XHa+=q;};c.prototype.rga=function(){return this.gy.rga();};c.prototype.nP=function(){var q;q=this;this.gi.hf.addListener(function(u){q.QR=q.dab(q.QR,q.jka,u.newValue);});this.gi.Ue.addListener(function(u){q.VR=q.dab(q.VR,q.gy,u.newValue);});this.gi.playbackRate.addListener(function(u){q.rI(q.gi.mediaTime.value,u.oldValue);});this.gi.Gj.addListener(this.Nhc.bind(this));};c.prototype.eLa=function(q,u){this.rI(q);this.startTime=u;this.VR=this.QR=void 0;this.UR && (this.UR.startTime=this.startTime);!1;};c.prototype.Nhc=function(q){this.DMa.rf(this.UR,this.gi.mediaTime.value);this.UR=(q=q.newValue)?{track:q,startTime:this.gi.mediaTime.value,endTime:f.OB}:void 0;};c.prototype.rI=function(q,u){u=void 0 === u?this.gi.playbackRate.value:u;q && this.QR && this.VR && (q=Math.min(q,this.QR.endTime,this.VR.endTime),this.jka.rf(this.QR,q,u),this.QR.startTime=q,this.gy.rf(this.VR,q,u),this.VR.startTime=q,this.UR && (this.DMa.rf(this.UR,q,u),this.UR.startTime=q),this.startTime=q,!1);};c.prototype.dab=function(q,u,t){var w,x;q && u.rf(q,Math.min(q.endTime,this.gi.mediaTime.value));if(t && t.stream){q=t.AR;u=t.stream;w=t.Nr;x=this.gi.zd;return {Tc:t.Tc,track:u.track,stream:u,startTime:Math.max(q.startTime,this.startTime),endTime:q.endTime,hIa:x.fa?x.BG(q.endTime) === v.tw.pZ:void 0,vD:x.fa?x.c3():void 0,Nr:w};}};c.prototype.r2=function(q,u){return q.fFa(u,"content").map(function(t){return new n().encode(t);});};c.prototype.Qfb=function(q){var u,t,w;u=this;t=0;q.forEach(function(x){if(u.Ub.vh(x.duration) && u.Ub.vh(x.cU))t+=x.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!t)return 0;w=0;q.forEach(function(x){w+=x.cU * x.duration / t;});return w;};a=c;b.mua=a;b.mua=a=r.__decorate([(0,d.W)(),r.__param(1,(0,d.l)(g.kb)),r.__param(2,(0,d.l)(e.uc)),r.__param(3,(0,d.l)(l.Eh)),r.__param(4,(0,d.l)(h.AB)),r.__param(5,(0,d.l)(p.Bua))],a);},24722:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A,B,C,D,E,F,G,J,N,I,M,K;function c(L,H,O,P,Q,S,X,W,V,fa,ba,ca,ia,na,oa,T,Z,aa,R,Y,ea,ka,ha,U,da,la,pa,va){this.dA=L;this.JF=H;this.Oa=O;this.Aa=P;this.SQb=Q;this.$Qa=S;this.u4=X;this.MJa=W;this.PT=V;this.Nd=fa;this.Mi=ba;this.Xj=ca;this.kR=ia;this.F5=na;this.oj=oa;this.ARa=T;this.Xg=Z;this.zo=aa;this.$e=R;this.BMa=Y;this.Joc=ea;this.Eza=ka;this.iN=ha;this.kMa=U;this.Oya=da;this.ZRb=la;this.lH=pa;this.eR=va;}Object.defineProperty(b,"__esModule",{value:!0});b.uua=void 0;r=a(5163);n=a(62665);d=a(22674);g=a(45842);e=a(11479);f=a(81918);l=a(30869);h=a(12826);k=a(37104);m=a(24273);p=a(73449);v=a(66476);q=a(79274);u=a(52531);t=a(24550);w=a(91622);x=a(61861);z=a(78388);y=a(45118);A=a(6823);B=a(74870);C=a(92205);D=a(77134);E=a(93367);F=a(85405);G=a(2160);J=a(49745);N=a(50889);I=a(70068);M=a(33258);c.prototype.create=function(L,H,O,P,Q,S,X,W){return new (a(18128).N1a)(L,H,S,X,P,Q,this.dA,O,this.Oa,this.JF,this.Aa,this.u4,this.SQb,this.$Qa,this.MJa,this.PT,this.Nd,this.Mi,this.Xj,this.kR,this.F5,this.oj,this.ARa,this.Xg,this.$e,this.BMa,this.zo,this.Joc(),this.Eza,this.iN,this.kMa,this.Oya,this.ZRb,this.lH,void 0,W);};K=c;b.uua=K;b.uua=K=r.__decorate([(0,d.W)(),r.__param(0,(0,d.l)(n.LB)),r.__param(1,(0,d.l)(e.xj)),r.__param(2,(0,d.l)(f.fd)),r.__param(3,(0,d.l)(l.hh)),r.__param(4,(0,d.l)(h.dUa)),r.__param(5,(0,d.l)(g.SJ)),r.__param(6,(0,d.l)(k.jsa)),r.__param(7,(0,d.l)(m.f_a)),r.__param(8,(0,d.l)(p.OY)),r.__param(9,(0,d.l)(v.UJ)),r.__param(10,(0,d.l)(q.hZ)),r.__param(11,(0,d.l)(u.OJ)),r.__param(12,(0,d.l)(w.kUa)),r.__param(13,(0,d.l)(x.zua)),r.__param(14,(0,d.l)(J.FJ)),r.__param(15,(0,d.l)(z.Y4a)),r.__param(16,(0,d.l)(y.Jn)),r.__param(17,(0,d.l)(D.XY)),r.__param(18,(0,d.l)(B.Wi)),r.__param(19,(0,d.l)(C.O1a)),r.__param(20,(0,d.l)(E.T2a)),r.__param(21,(0,d.l)(F.xTa)),r.__param(22,(0,d.l)(G.Gsa)),r.__param(23,(0,d.l)(N.t1a)),r.__param(24,(0,d.l)(I.Ona)),r.__param(25,(0,d.l)(M.Noa)),r.__param(26,(0,d.l)(A.h$)),r.__param(27,(0,d.l)(t.$W)),r.__param(27,(0,d.optional)())],K);},18128:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A,B,C,D,E,F,G,J,N,I,M,K,L,H,O,P,Q,S,X,W,V,fa,ba,ca,ia,na,oa;function c(T,Z,aa,R,Y,ea,ka,ha,U,da,la,pa,va,sa,ua,ma,ra,wa,ya,za,Aa,Ia,Da,Ja,Ka,La,Na,Ra,Oa,Ta,ib,jb,Fb,Gb,Hb,kb){var Fa,Ib;function ub(Ca){Ca.newValue && Ca.newValue.stream && (Fa.Ue.removeListener(ub),Fa.Kga=Ca.newValue.stream.bitrate);}function vb(Ca){Ca.newValue !== O.wb.og && Ca.newValue !== O.wb.vi && (Fa.Ib.removeListener(vb),Fa.tD=Fa.Aa.qO,Fa.Xb.Pc(O.da.dy));}function wb(Ca){Ca.newValue !== O.wb.og && (Fa.Ib.removeListener(wb),Fa.rn=!0,Fa.E5=Fa.Aa.df.ia(C.pa),Fa.Xb.Pc(O.da.rn));}Fa=this;this.Cb=Y;this.Cl=ea;this.dA=ka;this.Oa=U;this.JF=da;this.Aa=la;this.u4=pa;this.MJa=ua;this.PT=ma;this.Nd=ra;this.Mi=wa;this.Xj=ya;this.kR=za;this.F5=Aa;this.oj=Ia;this.ARa=Da;this.Xg=Ja;this.$e=Ka;this.BMa=La;this.zo=Na;this.itb=Ra;this.Eza=Oa;this.iN=Ta;this.kMa=ib;this.Oya=jb;this.AAa=Fb;this.lH=Gb;this.eR=Hb;this.grb=[];this.Qt=new Map();this.djb=new Map();this.bj=new ia.AbortController();this.ca=new na.Fua();this.Gj=new p.ic(null);this.xy=new p.ic(void 0);this.Gf=new p.ic(null);this.Zh=new p.ic(null);this.mediaTime=new p.ic(void 0);this.playbackRate=new V.R1a(1,v.config.ZJa);this.background=new p.ic(!0);this.Pwc=function(Ca){return Fa.ca.eu(Ca.newValue);};this.yxc=function(Ca){return Fa.ca.c7(Ca.newValue);};this.vxc=function(Ca){return Fa.ca.om(Ca.newValue);};this.Nwc=function(Ca){return Fa.Gj.set(Ca.newValue);};this.uxc=function(Ca){return Fa.xy.set(Ca.newValue);};this.xxc=function(Ca){return Fa.Gf.set(Ca.newValue);};this.Owc=function(Ca){return Fa.Zh.set(Ca.newValue);};this.nxc=function(Ca){return Fa.Ue.set(Ca.newValue);};this.mxc=function(Ca){return Fa.hf.set(Ca.newValue);};this.ixc=function(Ca){return Fa.mediaTime.set(Ca.newValue);};this.Qwc=function(Ca){return Fa.background.set(Ca.newValue);};this.wW=function(Ca){return Fa.playbackRate.set(Ca.newValue);};this.Yp={};this.qOa=this.rRa=0;this.Xb=new q.Qk();this.dna={};this.p7=this.Vqb=this.rn=!1;this.QI=new p.ic(void 0);this.state=new p.ic(O.qc.gQ);this.Ni=new p.ic(!1);this.paused=new p.ic(!1);this.muted=new p.ic(!1);this.volume=new p.ic(v.config.fZb / 100);this.Ib=new p.ic(O.wb.og);this.Fd=new p.ic(O.Bg.lf);this.Ts=new p.ic(O.Bg.lf);this.An=new p.ic(O.Bg.lf);this.hf=new p.ic(null);this.Ue=new p.ic(null);this.vAa=new p.ic(null);this.wga=(0,k.oEb)(this);this.Tc=[new p.ic(null),new p.ic(null)];this.dAa={};this.hS=!1;this.gb=this.Kg=-1;this.nM=function(Ca,Pa){var Xa;Ca=void 0 === Ca?null:Ca;return (0,N.dc)(Ca)?Pa && !Fa.wk(Pa).U?Ca:(null === (Xa=Fa.cb) || void 0 === Xa?0:Xa.aj)?Fa.cb.TBa(Ca):Ca:null;};this.f5=function(){Fa.kQa();};this.Zdc=this.cG=T;this.addEventListener=this.Xb.addListener;this.removeEventListener=this.Xb.removeListener;this.fireEvent=this.Xb.Pc;this.aza({N:T,L:R,lb:aa || ({})},v.config.Nv?this.Nd.Dx(T):void 0,Z);this.log=(0,B.lj)(this);this.Wcb=ha(this);this.RQb=va(this);this.lm=(0,L.createElement)("DIV",m.bva,void 0,{id:this.P});this.K$b();this.Oc=this.log.JR("Playback");(0,g.dIb)(this);w.yw.Q4=this;w.yw.KEa || (w.yw.KEa=this);this.Oc.info("Playback created",this.Ah);this.rmb?this.Oc.info("Playback selected for trace playback info logging"):this.Oc.trace("Playback not selected for trace playback info logging");v.config.Nv && (this.Nd.a9b(this.P),this.addEventListener(O.da.dy,function(){Fa.Nd.c9b(Fa.P);Fa.ca.Ic.addListener(function(){Fa.Nd.nib();});Fa.ca.Mc.addListener(function(){Fa.Nd.nib();});}),this.addEventListener(O.da.sg,function(){Fa.Nd.$8b(Fa.P);}));this.state.addListener(function(Ca){Fa.Oc.info("Playback state changed",{From:Ca.oldValue,To:Ca.newValue});(0,E.oa)(Ca.newValue > Ca.oldValue);});t.ff.addListener(t.Wm,this.f5,m.hta);Ib=sa((0,C.Ch)(1));this.mediaTime.addListener(function(){Fa.Q2b();Ib.ah(function(){return Fa.cfb();});});this.Ib.addListener(function(Ca){Fa.Oc.info("PresentingState changed",{From:Ca.oldValue,To:Ca.newValue,MediaTime:(0,F.Ui)(Fa.mediaTime.value)},Fa.Vx());});this.Ib.addListener(function(){Fa.Ni.set(Fa.Ib.value === O.wb.yf);});this.Fd.addListener(function(Ca){Fa.Oc.info("BufferingState changed",{From:Ca.oldValue,To:Ca.newValue,MediaTime:(0,F.Ui)(Fa.mediaTime.value)},Fa.Vx());});this.Ts.addListener(function(Ca){Fa.Oc.info("AV BufferingState changed",{From:Ca.oldValue,To:Ca.newValue,MediaTime:(0,F.Ui)(Fa.mediaTime.value)},Fa.Vx());});this.An.addListener(function(Ca){Fa.Oc.info("Text BufferingState changed",{From:Ca.oldValue,To:Ca.newValue,MediaTime:(0,F.Ui)(Fa.mediaTime.value)},Fa.Vx());});this.ca.Mc.addListener(function(Ca){(0,E.oa)(Ca.newValue && Ca.newValue.Vg);Fa.Oc.info("AudioTrack changed",Ca.newValue && ({ToBcp47:Ca.newValue.rg,To:Ca.newValue.trackId}),Ca.oldValue && ({FromBcp47:Ca.oldValue.rg,From:Ca.oldValue.trackId}),{MediaTime:(0,F.Ui)(Fa.mediaTime.value)});});this.ca.Ic.addListener(function(Ca){(0,E.oa)(!Ca.newValue || Ca.newValue.Vg);Fa.Oc.info("TimedTextTrack changed",Ca.newValue?{ToBcp47:Ca.newValue.rg,To:Ca.newValue.trackId}:{To:"none"},Ca.oldValue?{FromBcp47:Ca.oldValue.rg,From:Ca.oldValue.trackId}:{From:"none"},{MediaTime:(0,F.Ui)(Fa.mediaTime.value)});});this.Ib.addListener(wb,m.iQ);this.Ib.addListener(vb);this.addEventListener(O.da.dy,function(){Fa.p7=!0;Fa.kwb=Fa.x0();Fa.gf("start");});this.Ue.addListener(ub);(0,A.eIb)(this);w.Nn.push(this);v.config.k6 && (this.dka=this.BMa(this),this.hka=new z.T1a(this));w.qua.forEach(function(Ca){Ca(Fa);});this.tOb=function(){Fa.addEventListener(O.da.fI,function(Ca){var Pa;Ca=Ca.Mb;Ca !== O.yc.Wo && Ca !== O.yc.PJ && (null === (Pa=Fa.cb) || void 0 === Pa?void 0:Pa.stop());});Fa.addEventListener(O.da.sl,function(Ca){var Pa,Xa,xb,Jb,Va,lb,Kb,mb,yb,Lb;Fa.itb.sl(Ca);xb=Ca.Mb;Jb=Ca.skip;Va=Ca.Mia;lb=Ca.kLa;Kb=Ca.P;mb=Ca.et;Fa.ea.qn.eLa(lb,Va);if(xb !== O.yc.PJ && xb !== O.yc.Wo)if(Jb){if(null !== (Pa=Fa.cb) && void 0 !== Pa && Pa.Kj(Va)){Fa.Oc.trace("Repositioned. Skipping from " + lb + " to " + Va);Ca=function(Qa){Fa.log.error("streamingSession.skipped threw an exception",Qa);Qa=P.ke.bFa(D.Y.GAb,Qa);Fa.Qv(Qa.code,Qa);};try{Fa.cb.BO(Va).then(function(Qa){var Ya;Qa.wD || (null === (Ya=Fa.cb) || void 0 === Ya?void 0:Ya.play());}).catch(Ca);}catch(Qa){Ca(Qa);}}else Fa.log.error("can skip returned false");}else {Fa.Oc.trace("Repositioned. Seeking from " + lb + " to " + Va);try{yb=Fa.Cb.Qfa(Fa.ea);Lb=Object.keys(yb.ba).find(function(Qa){var Ya;Qa=yb.ba[Qa];return Qa.N === Kb && Qa.rb <= mb && (null !== (Ya=Qa.yb) && void 0 !== Ya?Ya:Infinity) > mb;});null === (Xa=Fa.cb) || void 0 === Xa?void 0:Xa.qqc(mb,Lb);}catch(Qa){Fa.log.error("streamingSession.seekByContentPts threw an exception",Qa);Va=P.ke.bFa(D.Y.EAb,Qa);Fa.Qv(Va.code,Va);}}});};this.playbackRate.addListener(function(){var Ca,Pa;if(null === (Ca=Fa.cb) || void 0 === Ca?0:Ca.aj)null === (Pa=Fa.cb) || void 0 === Pa?void 0:Pa.Gkc();});this.addEventListener(O.da.EC,function(Ca){var Pa;Ca.Mb == w.oua && (Fa.Fd.set(O.Bg.lf),null === (Pa=Fa.cb) || void 0 === Pa?void 0:Pa.Po(Fa.ie.pgb()));});kb && (this.ea.U=kb,this.oj.u7(T,kb));}Object.defineProperty(b,"__esModule",{value:!0});b.N1a=void 0;n=a(5163);d=a(50040);g=a(86258);e=a(20318);f=a(66093);l=a(11953);h=a(73585);k=a(24427);m=a(33096);p=a(81734);v=a(29204);q=a(94886);u=a(42654);t=a(37509);w=a(13044);x=a(59032);z=a(62439);y=a(79014);A=a(39480);B=a(31276);C=a(5021);D=a(36129);E=a(45146);F=a(8825);G=a(3887);J=a(32219);N=a(32687);I=a(73056);M=a(45266);K=a(16520);L=a(52569);H=a(72639);O=a(85001);P=a(31149);Q=a(43422);S=a(78719);X=a(35128);W=a(13494);V=a(65361);fa=a(79048);ba=a(24066);ca=a(26388);ia=a(91176);na=a(73403);oa=a(54973);c.prototype.gf=function(T,Z){var aa;Z=void 0 === Z?this.cG:Z;null === (aa=this.Qt.get(Z)) || void 0 === aa?void 0:aa.gf(T);};c.prototype.oD=function(T){this.ea.oD(T);};c.prototype.jga=function(){var T;return !(null === (T=this.U) || void 0 === T || !T.Ca.Cp);};c.prototype.iT=function(){var T,Z,aa;return !(null === (aa=null === (Z=null === (T=this.U) || void 0 === T?void 0:T.Ca.Jm) || void 0 === Z?void 0:Z.Sc.length) || void 0 === aa || !aa);};c.prototype.K$b=function(){var T;T=this;this.ca.Mc.addListener(function(Z){return T.ea.ca.eu(Z.newValue);});this.ca.wj.addListener(function(Z){return T.ea.ca.c7(Z.newValue);});this.ca.Ic.addListener(function(Z){return T.ea.ca.om(Z.newValue);});this.Gj.addListener(function(Z){return T.ea.Gj.set(Z.newValue);});this.xy.addListener(function(Z){return T.ea.xy.set(Z.newValue);});this.Gf.addListener(function(Z){return T.ea.Gf.set(Z.newValue);});this.Zh.addListener(function(Z){return T.ea.Zh.set(Z.newValue);});this.Ue.addListener(function(Z){return T.ea.Ue.set(Z.newValue);});this.hf.addListener(function(Z){return T.ea.hf.set(Z.newValue);});this.Tc[ca.u.X].addListener(function(Z){return T.ea.Tc[ca.u.X].set(Z.newValue);});this.Tc[ca.u.V].addListener(function(Z){return T.ea.Tc[ca.u.V].set(Z.newValue);});this.mediaTime.addListener(function(Z){return T.ea.mediaTime.set(Z.newValue);});this.background.addListener(function(Z){return T.ea.background.set(Z.newValue);});this.playbackRate.addListener(function(Z){return T.ea.playbackRate.set(Z.newValue);});this.Ntb();};c.prototype.Ntb=function(){var T;T=this;this.ea !== this.ZOa && (this.ea.mediaTime.set(this.mediaTime.value),this.ea.background.set(this.background.value),this.ea.playbackRate.set(this.playbackRate.value),this.gs(function(Z){return Z.ca.Mc;},this.Pwc),this.gs(function(Z){return Z.ca.wj;},this.yxc),this.gs(function(Z){return Z.xy;},this.uxc),this.gs(function(Z){return Z.ca.Ic;},this.vxc),this.gs(function(Z){return Z.Gj;},this.Nwc),this.gs(function(Z){return Z.Gf;},this.xxc),this.gs(function(Z){return Z.Zh;},this.Owc),this.gs(function(Z){return Z.hf;},this.mxc),this.gs(function(Z){return Z.Ue;},this.nxc),this.gs(function(Z){return Z.Tc[ca.u.X];},function(Z){return T.Tc[ca.u.X].set(Z.newValue);}),this.gs(function(Z){return Z.Tc[ca.u.V];},function(Z){return T.Tc[ca.u.V].set(Z.newValue);}),this.gs(function(Z){return Z.mediaTime;},this.ixc),this.gs(function(Z){return Z.background;},this.Qwc),this.gs(function(Z){return Z.playbackRate;},this.wW),this.ca.om(this.ea.ca.Ic.value),this.ca.eu(this.ea.ca.Mc.value,{cca:!0}),this.ca.c7(this.ea.ca.wj.value),this.Gj.set(this.ea.Gj.value),this.xy.set(this.ea.xy.value),this.Gf.set(this.ea.Gf.value),this.Zh.set(this.ea.Zh.value),this.ZOa=this.ea);};c.prototype.gs=function(T,Z){this.ZOa && T(this.ZOa).removeListener(Z);T(this.ea).addListener(Z);};c.prototype.NSb=function(){var T,Z;Z=!(null === (T=this.Lc) || void 0 === T || !T.Zn.value);T=!Z;Z && "embedded" === this.Lc.ncc && (T=!0);return T;};c.prototype.load=function(T){var Z,aa;Z=this;this.load=function(){};this.jrb=T;if(!(this.state.value != O.qc.gQ || this.rkb() && this.lH.tyc())){this.Oc.info("Playback loading",this);this.bhc();this.gf("asl_load_start");aa=this.JF;T=aa.startTime;aa=aa.endTime;(0,N.Zc)(T)?(0,N.Zc)(aa)?this.gf("asl_ended"):this.gf("asl_in_progress"):this.gf("asl_not_started");this.JF.g4(function(R){Z.gf("asl_load_complete");R.ta?Z.WWb():Z.Qv(R.errorCode || D.Y.Iqa,R);});}};c.prototype.elc=function(){!1;try{this.state.value === O.qc.LOADING && (this.Uyb(),this.ao=this.kR.TOb({vE:(0,C.bc)(this.ub),P:this.P,QH:this.PC,lb:this.lb,KH:this.lb.yh?v.config.KLa:v.config.KH,zd:this.zd}).ia(C.pa),this.Bza(),this.mYb());}catch(T){this.Qv(D.Y.LEb,{Ja:D.T.Vo,tc:(0,G.Fg)(T)});}};c.prototype.Uyb=function(){var T,Z,aa;aa={width:1,height:1};this.IG({czb:!0}).forEach(function(R){aa.width * aa.height < R.width * R.height && (aa={width:R.width,height:R.height});});aa.height === (null === (T=this.QI.value) || void 0 === T?void 0:T.height) && aa.width === (null === (Z=this.QI.value) || void 0 === Z?void 0:Z.width) || this.QI.set(aa);};c.prototype.yA=function(){var T,Z;!1;Z=this.Cb.Qfa(this);this.Sbb(Z);null === (T=this.cb) || void 0 === T?void 0:T.LI(Z);};c.prototype.qN=function(T){var Z,aa;!1;(0,E.oa)(this.cb,"ASE should be initialized");aa=this.Cb.D2(T);aa?T === this.Cb.zi?this.cb.bda(aa,!0) || this.Z2(aa,{}):null === (Z=this.cb) || void 0 === Z?void 0:Z.wl(T,aa,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};c.prototype.Z2=function(T,Z,aa){var R,Y,ea,ka,ha;R=this;aa=void 0 === aa?!0:aa;!1;ka=this.Cb.pv(T);if(this.Xj.Vma && this.Cb.ea.N === ka.N)return Promise.resolve(this.ie.seek(ka.rb,O.yc.Bu,void 0));ka=this.Cl.hT(ka.N);Z=(0,M.qia)(ka.Bb,Z);if(null === (Y=this.cb) || void 0 === Y || !Y.aj)throw (!1,Error("No streaming session"));!1;this.MK("Transition " + this.Cb.zi + "->" + T);ha=this.wk(T);ha.No=this.Oa.$b().ia(C.pa);ha.lb=Z;return "seamless" !== (null !== (ea=this.Cb.pv(T).jd) && void 0 !== ea?ea:"seamless") || aa?(this.cb.E2(T).r0?this.M8b(T,ha.P):this.N6(T,ha.P)).then(function(){R.q3b(ha.P);}):Promise.resolve();};c.prototype.N6=function(T,Z){var aa;aa=this.Cb.hm.ba[T].rb;!1;this.MK("NO DATA " + T + ", SEEKING " + aa + ", viewableId: " + Z);return Promise.resolve(this.ie.seek(aa,O.yc.Bu,T,!0));};c.prototype.M8b=function(T,Z){var aa,R,Y,ea,ka;aa=this;!1;R=this.cb;if(null === R || void 0 === R || !R.aj)throw Error("No streaming session");Y=new Promise(function(ha){function U(){!1;R.removeEventListener("stop",U);ha();}R.addEventListener("stop",U);});ea=!1;ka=new Promise(function(ha){function U(la){!1;aa.removeEventListener(O.da.sl,U);ea=la.skip;ha();}function da(){!1;aa.removeEventListener(O.da.fI,da);R.stop();}aa.addEventListener(O.da.fI,da);aa.addEventListener(O.da.sl,U);});Y=Promise.all([Y,ka]).then(function(){var ha;ha=!1;ea && (ha=R.bda(T,!1));if(!ha)return (aa.MK("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),aa.N6(T,Z));});ka=R.VBa(T,this.Cb.hm.ba[T].rb);!1;this.ie.seek(ka,O.yc.PJ,T,!0);return Y;};c.prototype.aza=function(T,Z,aa){var R,Y,ea,ka,ha,U,da,la;Z=void 0 === Z?this.dA.$F():Z;aa=void 0 === aa?this.Oa.$b():aa;ea=!!v.config.xzb && !(Z % v.config.xzb);ka=T.N;ha=T.L;U=T.lb;da=T.Dg;if(this.Qt.has(ka))Z=this.Qt.get(ka);else {Z=this.F5(w.yw.index++,ka,ha,U,Z,aa,ea,this.ea,this.nM,da,this);this.Qt.set(ka,Z);1 < this.Qt.size && (Z.OT=this.PT.create(this,Z,!1,this.nM));Z.bU=new x.G_a(this,Z);la=null === da || void 0 === da?void 0:da.vc;(T=T.HQb) || (T=null === (Y=null === (R=this.ea.U) || void 0 === R?void 0:R.Ss) || void 0 === Y?void 0:Y.find(function(pa){return pa.Ca.P === ka && (void 0 === la || pa.Ca.vc === la);}));T && this.Aka(T,Z);1 < this.Qt.size && this.oj.tv(Z.P) && this.Ika(Z);}};c.prototype.Rbb=function(T,Z,aa,R){var Y,ea,ka,ha,U,da,la,pa,va,sa;Y=this;!1;pa={yT:!0,yh:!1,HI:Date.now()};(0,E.oa)(Z.Cg,"Auxiliary viewable config request options must have auxiliary options");va=Z.Cg;Z=va.vc;va=va.je;if(this.oga(va)){sa=null === (ea=this.$l(va).U) || void 0 === ea?void 0:ea.Ca;ea={vc:Z,o5:this.de,je:va,v5:sa};(0,E.oa)(null === (ka=this.cb) || void 0 === ka?void 0:ka.Lj,"If we have auxiliary viewables combined playgraph must exist");if(null === (U=null === (ha=this.cb) || void 0 === ha?void 0:ha.Lj) || void 0 === U?0:U.ba)(ka=Object.keys(null === (la=null === (da=this.cb) || void 0 === da?void 0:da.Lj) || void 0 === la?void 0:la.ba).find(function(ua){var ma,ra;return (null === (ra=null === (ma=Y.cb) || void 0 === ma?void 0:ma.Lj) || void 0 === ra?void 0:ra.ba[ua].N) === T;}),(0,E.oa)(!!ka,"Segment for the auxiliary viewable should exist in the combined playgraph"),this.aza({HQb:R,Dg:ea,lb:pa,L:ka,N:T},aa));}};c.prototype.oga=function(T){return !!this.Qt.has(T);};c.prototype.Eib=function(T){try{return (this.wk(T),!0);}catch(Z){return !1;}};c.prototype.$l=function(T){if(T === fa.yu)return this.ea;if(!this.Qt.has(T))throw Error("Playback segment not found: " + T);return this.Qt.get(T);};c.prototype.wk=function(T){var Z,aa,R;a:{for(var Y=Ea(this.EN),ea=Y.next();!ea.done;ea=Y.next())if((ea=ea.value,ea.L === T)){Y=ea;break a;}Y=void 0;}return Y?Y:(null === (aa=null === (Z=this.cb) || void 0 === Z?void 0:Z.Lj) || void 0 === aa?0:aa.ba[T])?(T=null === (R=this.cb) || void 0 === R?void 0:R.Lj.ba[T].N,this.EJa.P === T && (Y=this.EJa),null !== Y && void 0 !== Y?Y:this.$l(T)):this.ea;};c.prototype.j7b=function(T){for(var Z,aa,R=Ea(this.EN),Y=R.next();!Y.done;Y=R.next())if((Y=Y.value,(null === (aa=null === (Z=Y.bg) || void 0 === Z?void 0:Z.Ee) || void 0 === aa?void 0:aa.sessionId) === T))return Y;return this.ea;};c.prototype.zgb=function(T){return this.djb.get(T);};c.prototype.Ika=function(T){var Z,aa;Z=this;!1;aa=T.P;this.Cl.yrc(aa);return this.V6(T).then(function(R){Z.Aka(R,T);R=T.JM?Z.Fb.Gr.ktb(T):Promise.resolve();Z.rlc(T);return R.then(function(){return Z.Cl.Wub(aa);});}).catch(function(R){Z.log.error("queueManifest failed",R);Z.Cl.xrc(aa,R);throw Z.Mi(R.code,R);});};c.prototype.UA=function(T,Z){var aa,R,Y,ea,ka;aa=this;(0,E.oa)(Z.Cg,"auxiliaryOptions must exist if an adBreak hydration was requested");R=Z.Cg;Y=R.vc;ea=R.je;(0,E.oa)(!!Y,"auxiliaryManifestToken must exist if an adBreak hydration was requested");!1;Z=this.$l(Z.Cg.je);R=H.qs.xs;ka={yT:!0,yh:!1,HI:Date.now()};return this.oj.sr({Ea:Z.Ea,lb:ka,N:Z.P,ux:R,gg:void 0,qW:void 0,Dg:{yi:T,vc:Y,je:ea,o5:Z.de}},this.bj,!1).then(function(ha){var U,da;ha.Ss.forEach(function(la){aa.djb.set(la.Ca.P,la);});if(null === (U=ha.Ca.Jm) || void 0 === U || !U.Sc.length)throw Error("AdBreak hydration request came with no adBreak forparentViewableId: " + (ea + ", adBreakToken: " + T));return null === (da=ha.Ca.Jm) || void 0 === da?void 0:da.Sc[0];});};c.prototype.s4b=function(){if((0,N.dc)(this.ce.ats) && (0,N.dc)(this.ce.at))return this.ce.at - this.ce.ats;};c.prototype.Vfb=function(){var T,Z;T=this.p8();Z=this.c0();return Math.min(T,Z);};c.prototype.TV=function(){this.background.value || (this.Oc.info("Starting inactivity monitor for movie " + this.P),new u.YEb(this));};c.prototype.close=function(T){T && (this.state.value == O.qc.CLOSED?T():this.addEventListener(O.da.closed,function(){T();}));this.kQa();};c.prototype.Gd=function(T,Z,aa){T=this.Mi(T,Z,aa);this.bL(T,void 0);};c.prototype.bL=function(T,Z){var aa,R,Y,ea;aa=this;!1;(0,D.A9)(T.errorCode,T.Ja,this.Oa.$b().ka(this.rj).ia(C.pa),null === (R=this.ie) || void 0 === R?void 0:R.yx()) || this.AAa.add(this.Aa.df,null === (Y=this.bg) || void 0 === Y?void 0:Y.w2(),T.errorCode,T.Ja,T.Af);T.gvb(this.rn);if(this.state.value == O.qc.gQ)this.Di || (this.Di=T,this.load());else {Z && (this.state.value == O.qc.CLOSED?Z():this.addEventListener(O.da.closed,function(){Z();}));R=function(){aa.kQa(T);};Y=v.config.Jcb && T && v.config.Jcb[T.errorCode];ea=-1;(0,N.CT)(Y) && (ea=(0,G.Ck)(Y));this.Oc.error("Fatal playback error",{Error:"" + T,HandleDelay:"" + Y});0 <= ea?setTimeout(R,ea):R();}};c.prototype.MK=function(T){var Z;Z=void 0 === Z?this.L:Z;T=this.Oa.$b().ia(C.pa) + "-" + Z + "-" + T;!1;this.grb.push(T);};c.prototype.b3b=function(){this.cfb();};c.prototype.iGa=function(){var T;if(null === (T=this.cb) || void 0 === T?0:T.aj)if((T=this.cb.ur().id,void 0 !== T))return T;return null;};c.prototype.DG=function(){var T,Z;Z=null === (T=this.cb) || void 0 === T?void 0:T.aj;return void 0 === this.ea.L0 || Z?this.nM(this.mediaTime.value):this.ea.L0;};c.prototype.hGa=function(){var T;T=this.nM(this.ie.pgb());return null === T?null:Math.min(this.PC.ia(C.pa),Math.max(0,T));};c.prototype.k2=function(){var T,Z;return null === (Z=null === (T=this.U) || void 0 === T?void 0:T.Ca.Zs) || void 0 === Z?void 0:Z.ba;};c.prototype.Qma=function(T){!1;this.lb=(0,M.qia)(this.lb,T);this.Bza();};c.prototype.LGa=function(T){return (null === T || void 0 === T?0:T.N)?T.N:(null === T || void 0 === T?0:T.czb) && this.dL?this.dL.N === fa.yu?(T=this.dL.Gc) && this.cb && this.cb.Lj?this.cb.Lj.ba[T].N:this.P:this.dL.N:this.P;};c.prototype.o4b=function(){var T;T=this.$l(this.LGa(void 0)).ca.Mc;return T.value?T.value.streams:[];};c.prototype.IG=function(T){return (T=this.$l(this.LGa(T)).ca.wj) && T.value?T.value.streams:[];};c.prototype.vib=function(T){for(var Z=Ea(this.EN),aa=Z.next();!aa.done;aa=Z.next())if(aa=(aa=aa.value.rh) && aa.find(function(R){return R.id === T;}))return aa;!1;};c.prototype.rlc=function(T){T=void 0 === T?this.ea:T;!1;T.ca.Ic.value?this.Bq.qrb(T.ca.Ic.value):Promise.resolve();};c.prototype.qib=function(T){for(var Z=Ea(this.EN),aa=Z.next();!aa.done;aa=Z.next()){aa=Ea(aa.value.Jj);for(var R=aa.next();!R.done;R=aa.next())if(R=R.value.streams.find(function(Y){return Y.Nb === T;}))return R;}!1;};c.prototype.Iib=function(T){for(var Z=Ea(this.EN),aa=Z.next();!aa.done;aa=Z.next()){aa=Ea(aa.value.pB);for(var R=aa.next();!R.done;R=aa.next())if(R=(R=R.value) && R.streams.find(function(Y){return Y.Nb === T;}))return R;}!1;};c.prototype.u9b=function(T){for(var Z=Ea(this.EN),aa=Z.next();!aa.done;aa=Z.next())if(aa.value.de === T)return !0;return !1;};c.prototype.Fz=function(){var T,Z,aa;return null !== (aa=null === (Z=null === (T=this.hka) || void 0 === T?void 0:T.R0) || void 0 === Z?void 0:Z.call(T)) && void 0 !== aa?aa:this.fXb().Leb;};c.prototype.tvb=function(T){var Z,aa;null !== (Z=this.cb) && void 0 !== Z && Z.aj && this.Qt.has(T) && ((null === (aa=this.hka) || void 0 === aa?0:aa.R0)?this.hka.wyb():(Z=this.oCa(T),this.cb.Lla(Z,T)));};c.prototype.zbc=function(){return "trailer" === this.ue;};c.prototype.sac=function(){return !!this.ue && 0 <= this.ue.indexOf("billboard");};c.prototype.Gbc=function(){return !!this.ue && 0 <= this.ue.indexOf("video-merch");};c.prototype.rkb=function(){return !!this.ue && 0 <= this.ue.indexOf("mini-modal");};c.prototype.AT=function(){return this.zbc() || this.sac() || this.Gbc() || this.rkb();};c.prototype.tfa=function(){var T,Z,aa;Z={czb:!0};if((null === (T=this.$l(this.LGa(Z)).U) || void 0 === T || !T.Ca.YHa) && this.pB){this.IG(Z).forEach(function(R){var Y,ea;if((0,N.dc)(R.pCa) && (0,N.dc)(R.hcb) && (0,N.dc)(R.gcb) && (0,N.dc)(R.fcb) && (0 < R.pCa || 0 < R.hcb)){Y=1;ea=1;(0,N.dc)(R.Kqb) && (0,N.dc)(R.Lqb) && (Y=R.Kqb,ea=R.Lqb);Y=R.fcb * ea / (R.gcb * Y);aa=(0,N.dc)(aa)?0 < R.pCa?Math.max(aa,Y):Math.min(aa,Y):Y;}});return aa;}};c.prototype.H7b=function(){return {tr:this.rRa,rt:this.qOa};};c.prototype.YS=function(T){return this.Yp[T];};c.prototype.DAa=function(){return this.No?this.Oa.$b().ia(C.pa) - this.No:this.Aa.df.ia(C.pa) - this.VL();};c.prototype.x0=function(){var T;if(this.No)return this.Oa.$b().ia(C.pa) - this.No;T=this.Oa.CD;return this.E5 - (this.rj.ia(C.pa) + T.ia(C.pa));};c.prototype.EAa=function(){return this.No?this.Oa.$b().ia(C.pa) - this.No:this.E5 - this.VL();};c.prototype.y4b=function(){var T,Z;T=this.loadTime;Z={};(0,G.wh)(this.dAa,function(aa,R){Z[aa]=R.map(function(Y){return Y - T;});});return f.xz?{level:f.xz.Jgb(),charging:f.xz.sFa(),statuses:Z}:null;};c.prototype.fga=function(){this.bfb();return this.dna;};c.prototype.VL=function(){var T;T=this.lb.HI;T=(0,N.dc)(T)?T:this.rj.ia(C.pa) + this.Oa.CD.ia(C.pa);(0,E.oa)((0,N.dH)(T));return T;};c.prototype.zhb=function(){return this.Oa.$b().ia(C.pa) - this.rj.ia(C.pa);};c.prototype.Hyc=function(){this.Rsc=!0;};c.prototype.Xia=function(){this.Hsb();};c.prototype.p8=function(){var T;T=this.fR();return T && T.vbuflmsec || 0;};c.prototype.c0=function(){var T;T=this.fR();return T && T.abuflmsec || 0;};c.prototype.ovc=function(){var T;T=this.fR();return T && T.tbuflmsec || 0;};c.prototype.qSa=function(){var T;T=this.fR();return T && T.vbuflbytes || 0;};c.prototype.Lza=function(){var T;T=this.fR();return T && T.abuflbytes || 0;};c.prototype.nvc=function(){var T;T=this.fR();return T && T.tbuflbytes || 0;};c.prototype.V6=function(T,Z,aa){var R,Y,ea,ka;R=this;T=void 0 === T?this.ea:T;aa=void 0 === aa?!0:aa;!1;Y=!!Z;ea=!Y && T !== this.ea;ka=v.config.Gka.enabled?H.qs.rIb:ea?H.qs.fZ:this.AT()?H.qs.iaa:H.qs.xs;Y=this.AT() || Y || ea?void 0:(0,oa.gM)(v.config,ea);return this.oj.sr({Ea:T.Ea,lb:T.lb,N:T.P,ux:ka,gg:Y,qW:Z,Dg:T.Dg},this.bj,T.Dg?!1:aa).then(function(ha){ha.iIa && R.fireEvent(O.da.Kha,{P:T.P});return ha;});};c.prototype.Aka=function(T,Z,aa){var R,Y,ea;Z=void 0 === Z?this.ea:Z;aa=void 0 === aa?!1:aa;!1;if(Z.lb.yh && !T.Ca.Zs)this.Gd(D.Y.pBb);else {R=this.u4.create(this);Y=!!(Z.Dg && Z.Dg.vc && Z.Dg.v5);if(aa){ea=R.b$b(Z.U,Z.Qc,T);T=ea.U;ea=ea.Qc;}else (T=Y?R.Xpc(T,null === (ea=Z.Dg) || void 0 === ea?void 0:ea.v5):T,ea=R.fqb(T));Z.U=T;Z.Qc=ea;aa || (Z.ca.c7(ea.Tda),Z.ca.eu(ea.Z0),Z.ca.om(ea.a1));Z.zd.fa && Z.zd.lmc();}};c.prototype.q3b=function(T){var Z;Z=void 0 === Z?!1:Z;!1;this.mO({N:T,EM:Z});};c.prototype.xib=function(T,Z){if(!this.Xj.kSa)return !0;T=this.St.ia(C.pa) - T;return 0 > T || T > Z;};c.prototype.Ftb=function(){!1;this.ie.seek(this.DG() || 0,O.yc.D9);};c.prototype.bjb=function(T,Z){var aa,R;aa=this;!1;R=this.ea;R.dea=!0;return this.V6(R,{o5:R.de,apc:T,dpc:Z},!1).then(function(Y){var ea;aa.Aka(Y,R,!0);aa.oj.u7(R.P,R.U);return null === (ea=aa.cb) || void 0 === ea?void 0:ea.xW(aa.frb);}).then(function(){var Y,ea;Y=R.Jj.find(function(ka){return ka.trackId === T;});ea=R.li.find(function(ka){return ka.trackId === Z;});if(!(Y && Y.Vg && ea && ea.Vg))throw Error("Track hydration failed: requiredAudioTrackId=" + T + " requiredTextTrackId=" + Z);aa.fireEvent(O.da.Pxb);return {Mc:Y,H7:ea};});};c.prototype.kr=function(){return this.Lc;};c.prototype.mO=function(T){var Z,aa,R;Z=T.N;aa=T.EM;T=T.dL;!1;T !== this.dL && (this.dL=T,this.Uyb());if(this.WU){if(Z === this.cG){this.WU=Z;return;}T=this.$l(Z);R=T.U;R && (0,N.Zc)(R.bO) && (0,N.Zc)(R.pV) && T.oD({pr_ats:R.bO,pr_at:R.pV});this.fireEvent(O.da.KJa,{P:this.cG});this.cG=Z;this.Bza();aa || this.Ntb();this.tD=this.Aa.qO;this.ea.No || (this.ea.No=this.Oa.$b().ia(C.pa));}("boolean" === typeof this.lb.nS?this.lb.nS:v.config.nS) && !aa && this.ARa.nS(this);aa={P:Z,EM:aa,WU:this.WU};this.WU=Z;this.fireEvent(O.da.nA,aa);};c.prototype.WWb=function(){!1;try{this.Fb=new l.rsa(this);this.bVb=new Q.oVa(this);this.OT=this.PT.create(this,this.ea,!0,this.nM);v.config.TSb && new S.SDb(this,this.log);v.config.B0 && this.B0(this);this.Zxc();}catch(T){this.Qv(D.Y.KEb,{Ja:D.T.Vo,tc:(0,G.Fg)(T)});}};c.prototype.Zxc=function(){!1;this.Di?this.bL(this.Di):(0,N.sIa)(this.P)?this.uTb():this.Qv(D.Y.HEb,{tc:"" + this.P});};c.prototype.uTb=function(){var T;!1;T=d.GO.Nub;T?T.ta?this.rBa():this.Qv(D.Y.wYa,T):((0,E.oa)(!v.config.Eea),this.Kya());};c.prototype.rBa=function(){var T;T=this;!this.background.value && v.config.rBa?(0,w.L1a)(function(){T.Kya();},this):this.Kya();};c.prototype.Kya=function(){var T;T=this;!1;this.state.value == O.qc.LOADING && (v.config.PDa && !this.AT()?d.GO.Ls(w.K1a,function(Z){Z.ta?(T.Uha=Z.Uha,T.a$a()):T.Qv(D.Y.vYa);},!0):this.a$a());};c.prototype.a$a=function(){var T,Z,aa;T=this;if(this.state.value == O.qc.LOADING){this.log.info("Authorizing",this);Z=this.Oa.$b().ia(C.pa);this.gf("ats");(0,E.WR)(this.P);(0,E.WR)(this.Bl);aa=this.rmc.bind(this,Z);Promise.all([this.U,v.config.Nv && this.oj.tv(this.P)?this.oj.j2(this.P).catch(function(){}):void 0]).then(function(R){var Y,ea;Y=Ea(R);R=Y.next().value;Y=Y.next().value;R && Y?ea=Y.Ca.expiration > R.Ca.expiration?Y:R:R?ea=R:Y && (ea=Y);ea && 18E5 > ea.Ca.expiration - (0,ba.Oab)() && (ea=void 0);return ea?(T.YK=ea === R?"ui":"videopreparer",ea):T.V6();}).then(function(R){try{T.Aka(R);aa(m.Vi);T.Vqb || (T.Vqb=!0,T.kMa.Ik(T));}catch(Y){T.log.error("Exception processing authorization response",Y);aa({ta:!1,Ja:D.T.VHb});}}).catch(aa);}};c.prototype.rmc=function(T,Z){var aa,R;aa=this;!1;if(this.state.value == O.qc.LOADING){this.gf("at");R=this.U;this.oD({pr_ats:R && (0,N.Zc)(R.bO)?R.bO:T,pr_at:R && (0,N.Zc)(R.pV)?R.pV:this.Oa.$b().ia(C.pa)});Z.ta?0 < this.Qc.rh.length && this.Qc.Z0 && this.Qc.Tda && this.Qc.a1?this.jrb?(this.log.info("Processing post-authorize",this),this.jrb(this,function(Y){Y.ta?aa.zyb():aa.Qv(D.Y.OEb,Y);})):this.zyb():this.Qv(D.Y.QZa,this.MJa(this.Qc)):this.Qv(D.Y.CJ,Z);}};c.prototype.zyb=function(){n.__awaiter(this,void 0,void 0,function Z(){var aa,R,Y;Y=this;return Ua(Z,function(ea){!1;if(Y.state.value != O.qc.LOADING)return ea.return();(null === (aa=Y.ea.U) || void 0 === aa?0:aa.Ca.Zs) && Y.Cb.reset((0,fa.dBa)(null === (R=Y.ea.U) || void 0 === R?void 0:R.Ca.Zs,{config:v.config}));Y.cb=Y.Eza(Y.Cb,Y);Y.cb.osc({Os:e.Os,config:v.config,$e:Y.$e,Oc:Y.Oc,Vx:Y.Vx.bind(Y),jl:B.jl,a7:Y.a7.bind(Y),mO:Y.mO.bind(Y)});Y.elc();ea.cq=0;});});};c.prototype.mYb=function(){var T,Z,aa,R,Y,ea,ka;T=this;!1;try{if(this.state.value === O.qc.LOADING){this.Fb.open();Z=new Promise(function(ha){T.Fb.addEventListener(K.fk.hQa,ha);});this.ie=new I.ysa(this,this.ub);aa=this.Qc.Z0.Qh === X.ys.NONE;R={Dzb:this.Qc.Z0.bn || aa};Y={Ea:this.Ea,Nh:this.sf,lG:this.lG};try{if(this.state.value !== O.qc.LOADING)return;ea=this.cb;ea.r3({flags:R,Hda:Y,L:this.frb,oCa:this.oCa.bind(this)});ka=this.Cb.Qfa(this);this.Sbb(ka);ea.LI(ka);this.tOb();ea.dRb({Yp:this.Yp,loadTime:this.loadTime});this.Lc=this.Oya(ea,this);this.Lc.Zn.addListener(function(ha){ha.newValue?(T.Bq.L9b(),v.config.Nv && T.Nd.lib()):T.Bq.Usc();});this.Lc.addEventListener(O.Nna.DF,function(){T.Nd.lib();});}catch(ha){throw (this.log.error("Failed to initialize ASE streaming",{error:ha,startPts:this.ub,flags:R}),ha);}Z.then(function(){var ha;T.state.value !== O.qc.CLOSING && T.state.value !== O.qc.CLOSED && (null === (ha=T.cb) || void 0 === ha?void 0:ha.open());});this.mediaTime.set(this.ub);this.Bq=new h.K4a(this);if("boolean" === typeof this.lb.Ska?this.lb.Ska:v.config.Ska)this.M7=new y.L4a(this);this.TV();w.rua.forEach(function(ha){ha(T);});this.ahc();}}catch(ha){this.Qv(D.Y.MEb,{Ja:D.T.Vo,tc:(0,G.Fg)(ha)});}};c.prototype.bhc=function(){(0,E.oa)(this.state.value == O.qc.gQ);this.loadTime=this.Oa.$b().ia(C.pa);this.state.set(O.qc.LOADING);};c.prototype.ync=function(){return n.__awaiter(this,void 0,void 0,function Z(){var aa,R,Y,ea,ka,ha,U;aa=this;return Ua(Z,function(da){if(1 == da.cq)return (R=aa,ka=(0,N.dc)(null === (Y=aa.cb) || void 0 === Y?void 0:Y.D$a)?null === (ea=aa.cb) || void 0 === ea?void 0:ea.D$a:aa.RR,(0,E.oa)((0,N.dc)(ka),"lastPts before restart should have a valid number type"),ha=aa.ie.cy,aa.Xb.Pc(O.da.C6),aa.Fb.close(),aa.Fb.Ep(),aa.Fb=new l.rsa(aa),aa.Fb.open(),U=new Promise(function(la){R.Fb.addEventListener(K.fk.hQa,la);}),aa.ie=new I.ysa(aa,ha?aa.mediaTime.value:ka),Za(da,U,2));if(aa.state.value !== O.qc.CLOSING && aa.state.value !== O.qc.CLOSED)return da.return(Promise.resolve());da.cq=0;});});};c.prototype.Qv=function(T,Z){this.done || (this.done=!0,Z instanceof P.ke?this.Gd(Z.code,Z):this.Gd(T,Z));};c.prototype.B0=function(T){var aa,R;function Z(){var Y,ea;Y=f.xz.sFa() + "";ea=T.dAa[Y];ea || (ea=T.dAa[Y]=[]);ea.push(aa.Oa.$b().ia(C.pa));aa.log.trace("charging change event",{level:f.xz.Jgb(),charging:f.xz.sFa()});}aa=this;R=f.xz.WBb;f.xz.addEventListener(R,Z);T.addEventListener(O.da.sg,function(){f.xz.removeEventListener(R,Z);});};c.prototype.kQa=function(T){var Z,aa;Z=this;if(this.state.value == O.qc.gQ || this.state.value == O.qc.LOADING || this.state.value == O.qc.cf){this.Oc.info("Playback closing",this,T?{ErrorCode:T.hea}:void 0);this.MK("Closing");t.ff.removeListener(t.Wm,this.f5);this.Di=T;this.ea.L0=this.DG();this.bfb();(null === (aa=this.cb) || void 0 === aa?0:aa.aj) && this.cb.flush();try{this.Xb.Pc(O.da.sg,{movieId:this.cG});}catch(R){this.Oc.error("Unable to fire playback closing event",R);}this.state.set(O.qc.CLOSING);this.DAb();this.bj.abort();this.Rsc || (0,J.Rg)(function(){return Z.Hsb();});}};c.prototype.Q2b=function(){this.Xb.Pc(O.da.vyb);};c.prototype.cfb=function(){var T;T=this.mediaTime.value;this.ucc != T && (!1,this.ucc=T,this.Xb.Pc(O.da.aRa));};c.prototype.Hsb=function(){var T,Z;T=this;(0,E.oa)(this.state.value == O.qc.CLOSING);Z=this.Uha;this.Uha=void 0;Z?d.GO.release(Z,function(aa){(0,E.oa)(aa.ta);T.yBa();}):this.yBa();};c.prototype.DAb=function(){var T;null === (T=this.cb) || void 0 === T?void 0:T.ze();delete this.cb;};c.prototype.yBa=function(){var T;this.yBa=m.YE;(0,E.oa)(this.state.value == O.qc.CLOSING);T=w.Nn.indexOf(this);(0,E.oa)(0 <= T);w.Nn.splice(T,1);this.state.set(O.qc.CLOSED);this.Xb.Pc(O.da.closed,void 0,!0);this.Xb.Sg();delete this.bg;this.ea.Xia();};c.prototype.Bza=function(){this.lb.playbackState && ("number" === typeof this.lb.playbackState.volume && this.volume.set((0,F.UB)(this.lb.playbackState.volume,0,1)),"boolean" === typeof this.lb.playbackState.muted && this.muted.set(this.lb.playbackState.muted),"number" === typeof this.lb.playbackState.playbackRate && this.playbackRate.set(this.lb.playbackState.playbackRate));};c.prototype.bfb=function(){this.Xb.Pc(O.da.Jvb,{dna:this.dna});};c.prototype.a7=function(T,Z,aa){Z=this.vib(Z);T=this.wk(T);Z && T.Tc[aa].set(Z);};c.prototype.Vx=function(){return {AudioBufferLength:this.c0(),VideoBufferLength:this.p8()};};c.prototype.fR=function(){var T;if(null === (T=this.cb) || void 0 === T?0:T.aj)return this.cb.Wjb();};c.prototype.ahc=function(){this.state.value == O.qc.LOADING && this.state.set(O.qc.cf);};c.prototype.fXb=function(){var T,Z,aa;T=void 0 === T?this.P:T;Z=this.IG({N:T});aa=this.$l(T);return (0,W.Fz)(Z,function(R){return aa.bU.fE(R);});};c.prototype.oCa=function(T){var Z,aa;T=void 0 === T?this.P:T;Z=this.IG({N:T});aa=this.$l(T);return (0,W.F8b)(Z,function(R){return aa.bU.fE(R);});};c.prototype.Sbb=function(T){var Z;Z=this;Object.keys(T.ba).filter(function(aa){return !Z.Qt.has(T.ba[aa].N);}).forEach(function(aa){var R,Y,ea;Y=T.ba[aa];ea=Y.N;Y=Object.assign(null !== (R=Z.Cl.hT(ea).Bb) && void 0 !== R?R:{},{ub:Y.rb,cg:Y.yb,yh:!1,HI:Date.now(),yT:!0});Z.aza({N:ea,L:aa,lb:Y});});};Ga.Object.defineProperties(c.prototype,{EN:{configurable:!0,enumerable:!0,get:function(){return this.Qt.values();}},ea:{configurable:!0,enumerable:!0,get:function(){return this.Qt.get(this.cG);}},EJa:{configurable:!0,enumerable:!0,get:function(){return this.$l(this.Zdc);}},ub:{configurable:!0,enumerable:!0,get:function(){var T,Z;return void 0 !== this.ao?this.ao:null !== (Z=null === (T=this.EN.next()) || void 0 === T?void 0:T.value.lb.ub) && void 0 !== Z?Z:0;}},Qc:{configurable:!0,enumerable:!0,get:function(){return this.ea.Qc;},set:function(T){this.ea.Qc=T;}},bfa:{configurable:!0,enumerable:!0,get:function(){return this.ea.lb.bfa;}},dfa:{configurable:!0,enumerable:!0,get:function(){return this.ea.lb.dfa;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ea.index;}},L:{configurable:!0,enumerable:!0,get:function(){return this.ea.L;}},frb:{configurable:!0,enumerable:!0,get:function(){return this.Cb.lSa?this.Cb.zi:this.ea.L;}},bg:{configurable:!0,enumerable:!0,get:function(){return this.ea.bg;},set:function(T){this.ea.bg=T;}},No:{configurable:!0,enumerable:!0,get:function(){return this.ea.No;},set:function(T){this.ea.No=T;}},YK:{configurable:!0,enumerable:!0,get:function(){return this.ea.YK;},set:function(T){this.ea.YK=T;}},XK:{configurable:!0,enumerable:!0,get:function(){return this.ea.XK;},set:function(T){this.ea.XK=T;}},Kga:{configurable:!0,enumerable:!0,get:function(){return this.ea.Kga;},set:function(T){this.ea.Kga=T;}},U:{configurable:!0,enumerable:!0,get:function(){return this.ea.U;},set:function(T){this.ea.U=T;}},ao:{configurable:!0,enumerable:!0,get:function(){return this.ea.ao;},set:function(T){this.ea.ao=T;}},C7:{configurable:!0,enumerable:!0,get:function(){return this.ea.C7;},set:function(T){this.ea.C7=T;}},lb:{configurable:!0,enumerable:!0,get:function(){return this.ea.lb;},set:function(T){this.ea.lb=T;}},OT:{configurable:!0,enumerable:!0,get:function(){return this.ea.OT;},set:function(T){this.ea.OT=T;}},qn:{configurable:!0,enumerable:!0,get:function(){return this.ea.qn;}},P:{configurable:!0,enumerable:!0,get:function(){return this.ea.P;}},ue:{configurable:!0,enumerable:!0,get:function(){return this.ea.ue;}},Jj:{configurable:!0,enumerable:!0,get:function(){return this.ea.Jj;}},pB:{configurable:!0,enumerable:!0,get:function(){return this.ea.pB;}},qE:{configurable:!0,enumerable:!0,get:function(){return this.ea.qE;}},li:{configurable:!0,enumerable:!0,get:function(){return this.ea.li;}},de:{configurable:!0,enumerable:!0,get:function(){return this.ea.de;}},JM:{configurable:!0,enumerable:!0,get:function(){return this.ea.JM;}},jy:{configurable:!0,enumerable:!0,get:function(){return this.ea.jy;}},Rm:{configurable:!0,enumerable:!0,get:function(){return this.ea.Rm;}},rh:{configurable:!0,enumerable:!0,get:function(){return this.ea.rh;}},PC:{configurable:!0,enumerable:!0,get:function(){return this.ea.PC;},set:function(T){this.ea.PC=T;}},Ea:{configurable:!0,enumerable:!0,get:function(){return this.ea.Ea;}},Bl:{configurable:!0,enumerable:!0,get:function(){return this.ea.Bl;}},rj:{configurable:!0,enumerable:!0,get:function(){return this.ea.rj;}},tD:{configurable:!0,enumerable:!0,get:function(){return this.ea.tD;},set:function(T){this.ea.tD=T;}},sf:{configurable:!0,enumerable:!0,get:function(){return this.ea.sf;}},rO:{configurable:!0,enumerable:!0,get:function(){return this.ea.rO;}},RR:{configurable:!0,enumerable:!0,get:function(){return this.ea.RR;}},ce:{configurable:!0,enumerable:!0,get:function(){return this.ea.ce;}},Us:{configurable:!0,enumerable:!0,get:function(){return this.ea.Us;}},qDa:{configurable:!0,enumerable:!0,get:function(){return this.ea.qDa;}},bU:{configurable:!0,enumerable:!0,get:function(){return this.ea.bU;}},lG:{configurable:!0,enumerable:!0,get:function(){var T,Z,aa,R;aa=v.config.ndb;R=null === (Z=null === (T=this.U) || void 0 === T?void 0:T.Ca.tI) || void 0 === Z?void 0:Z.jma;if(void 0 !== R && void 0 !== R.downloadReportDenominator)try{aa=parseInt(R.downloadReportDenominator,10);}catch(Y){this.log.error("Unable to parse manifest config override:" + R.downloadReportDenominator);}return 0 !== aa && 0 === this.ea.Ea % aa;}},dea:{configurable:!0,enumerable:!0,get:function(){return this.ea.dea;}},zd:{configurable:!0,enumerable:!0,get:function(){return this.ea.zd;}},Jda:{configurable:!0,enumerable:!0,get:function(){return this.muted.value?0:Math.round(100 * this.volume.value) / 100;}},Ah:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.P,TrackingId:this.Bl,Xid:this.Ea};}},lka:{configurable:!0,enumerable:!0,get:function(){return this.Cb.lka;}}});b.N1a=c;},52200:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x;function c(z,y,A,B,C,D){var E;E=this;this.j=z;this.Pm=y;this.g8=A;this.Si=B;this.k7=C;this.rx=D;this.pcb={};this.update=function(){var F;if(E.Yr.selectionStart == E.Yr.selectionEnd){F="";E.t2().forEach(function(G){F=F?F + "\n":"";Object.entries(G).forEach(function(J){var N;N=Ea(J);J=N.next().value;N=N.next().value;F+=J + ": " + N + "\n";});});E.Yr.style.fontSize=(0,g.UB)((0,f.cQ)(E.element.clientHeight / 60),8,18) + "px";E.Yr.value=F;}};this.hic=function(){var F,G;if(E.j.ie){G=E.j.ie.bM();G && (E.sCa=G - (null !== (F=E.Fxb) && void 0 !== F?F:0),E.Fxb=G,E.xU());}};this.xU=function(){E.g8.ah(E.update);};this.onkeydown=function(F){F.ctrlKey && F.altKey && F.shiftKey && (F.keyCode == k.VP.uCb || F.keyCode == k.VP.Q) && E.toggle();};this.Sqb=[z.mediaTime,z.Tc[p.u.X],z.Tc[p.u.V],z.hf,z.Ue,z.Zh,z.Gf,z.Gj,z.state,z.Ts,z.Ib,z.volume,z.muted];this.element=this.Si.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.Yr=this.Si.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.Yr);this.controls=this.Si.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);y=this.Si.createElement("button",void 0,"X");y.addEventListener("click",function(){return E.cA();},!1);this.controls.appendChild(y);d.ff.addListener(d.JG,this.onkeydown);z.addEventListener(h.da.sg,function(){d.ff.removeListener(d.JG,E.onkeydown);E.cA();});}Object.defineProperty(b,"__esModule",{value:!0});b.P1a=void 0;n=a(13044);d=a(37509);g=a(8825);e=a(77705);f=a(22365);l=a(32687);h=a(85001);k=a(43193);m=a(5021);p=a(26388);v=a(45247);q=a(75568);r={};u=(r[h.qc.gQ]="Not Loaded",r[h.qc.LOADING]="Loading",r[h.qc.cf]="Normal",r[h.qc.CLOSING]="Closing",r[h.qc.CLOSED]="Closed",r);r={};t=(r[h.Bg.cf]="Normal",r[h.Bg.lf]="Pre-buffering",r[h.Bg.r3a]="Network stalled",r);r={};w=(r[h.wb.og]="Waiting for decoder",r[h.wb.yf]="Playing",r[h.wb.vi]="Paused",r[h.wb.uu]="Media ended",r);x=[h.da.D4];c.prototype.rrc=function(z){this.pcb.DFR=z;};c.prototype.show=function(){var z;z=this;this.visible || (this.v3=Ba.setInterval(this.hic,1E3),document.body.appendChild(this.element),this.Sqb.forEach(function(y){y.addListener(z.xU);}),x.forEach(function(y){z.j.addEventListener(y,z.xU);}),this.visible=!0,this.rx.y7().then(function(y){z.aHa=y;z.xU();}));this.update();};c.prototype.cA=function(){var z;z=this;this.visible && (clearInterval(this.v3),this.Fxb=this.sCa=void 0,document.body.removeChild(this.element),this.Sqb.forEach(function(y){y.removeListener(z.xU);}),x.forEach(function(y){z.j.removeEventListener(y,z.xU);}),this.g8.ah(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.cA():this.show();};c.prototype.t2=function(){var z,y,A,B,C,D,E,F,G,J,N,I,M,K,L,H,O,P,Q,S,X,W,V,fa,ba,ca,ia,na,oa,T,Z,aa,R,Y,ea,ka,ha,U,da,la,pa,va,sa,ua,ma,ra,wa,ya,za,Aa,Ia,Da,Ja,Ka;z=this;Q=[];S=this.Pm();Q.push({Version:"6.0047.439.911",Esn:S?S.Sl:"UNKNOWN",PBCID:this.j.sf,UserAgent:f.JJ});try{X=this.j.mediaTime.value;W={MovieId:this.j.P,PackageId:null === (A=null === (y=this.j.U) || void 0 === y?void 0:y.Ca) || void 0 === A?void 0:A.hq,Xid:this.j.Ea + " (" + n.Nn.map(function(La){return La.Ea;}).join(", ") + ")",Position:(0,g.Ui)(X),Duration:(0,g.Ui)(this.j.PC.ia(m.pa)),PlayerDuration:(0,g.Ui)(this.j.St.ia(m.pa)),Volume:(0,f.Hq)(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":""),Segment:this.j.iGa()};if(this.j.lb.yh || this.j.lb.yT)W["Segment Position"]=(0,g.Ui)(this.j.DG());if(this.j.zd.fa){W["Is Live"]="true";W["Live Event Slate"]=this.j.zd.BG();W["Is At Live Edge"]="" + this.j.zd.vD();W["Adjusted Live Edge Target"]=(0,g.Ui)(this.j.zd.zx());W["Live Adjusted Duration"]=(0,g.Ui)(this.j.zd.bib());W["Live Adjusted Playback Position"]=(0,g.Ui)(this.j.zd.bga());W["Live Event Time Playback Position"]=this.j.zd.u5b();W["Live Segment Number"]=this.j.zd.i6b();V=[p.u.V,p.u.X,p.u.Ia].reduce(function(La,Na){var Ra,Oa,Ta;Ta=null === (Oa=null === (Ra=z.j.cb) || void 0 === Ra?void 0:Ra.lA) || void 0 === Oa?void 0:Oa[Na];La[(0,v.vH)(Na)]=Ta?{encoderRegion:Ta.nG,encoderTag:Ta.pG}:void 0;return La;},{});W["Live Logging Info"]=JSON.stringify(V);}Q.push(W);}catch(La){}try{Q.push({"Player state":u[this.j.state.value],"Buffering state":t[this.j.Ts.value],"Rendering state":w[this.j.Ib.value]});}catch(La){}try{fa=this.j.qSa() + this.j.Lza();ba=this.j.hf.value;ca=null === ba || void 0 === ba?void 0:ba.stream;ia=this.j.Ue.value;na=null === ia || void 0 === ia?void 0:ia.stream;oa=null !== (B=null === ca || void 0 === ca?void 0:ca.bitrate) && void 0 !== B?B:"?";T=na?na.bitrate + " (" + na.width + "x" + na.height + ")":"?";Z=null !== (C=null === ca || void 0 === ca?void 0:ca.Nb) && void 0 !== C?C:"?";aa=null !== (D=null === na || void 0 === na?void 0:na.Nb) && void 0 !== D?D:"?";R=null !== (E=null === na || void 0 === na?void 0:na.Gb) && void 0 !== E?E:"?";Y=null !== (G=null === (F=this.j.Gf.value) || void 0 === F?void 0:F.Gb) && void 0 !== G?G:"?";ea=null !== (N=null === (J=this.j.Zh.value) || void 0 === J?void 0:J.bitrate) && void 0 !== N?N:"?";ka=null !== (M=null === (I=this.j.Gf.value) || void 0 === I?void 0:I.bitrate) && void 0 !== M?M:"?";ha=this.j.Tc[p.u.V].value;U=this.j.Tc[p.u.X].value;Q.push({"Playing bitrate (a/v)":oa + " / " + T,"Playing/Buffering vmaf":R + "/" + Y,"Buffering bitrate (a/v)":ea + " / " + ka,"Buffer size in Bytes (a/v)":this.j.Lza() + " / " + this.j.qSa(),"Buffer size in Bytes":"" + fa,"Buffer size in Seconds (a/v)":(0,g.Ui)(this.j.c0()) + " / " + (0,g.Ui)(this.j.p8()),"Downloadables (a/v)":Z + " / " + aa,"Current CDN (a/v)":(U?U.name + ", Id: " + U.id:"?") + " / " + (ha?ha.name + ", Id: " + ha.id:"?")});}catch(La){}try{da=this.j.hf.value;y={};if(da && da.stream){la=da.stream;pa=la.track;va=this.k7.wda(pa.streams);sa=la.$d;if((/xheaac/).test(sa))ua="xhe-aac";else if((/heaac/).test(sa))ua="he-aac";else if((/ddplus/).test(sa))switch(sa){case q.mc.CP:ua="ddplus20";break;case q.mc.jJ:ua="ddplus51";break;case q.mc.kJ:ua="ddplus51hq";break;case q.mc.lJ:ua="ddplusatmos";break;default:ua="ddplus";}else ua="unknown";y["Audio Track"]=pa.rg + ", Id: " + pa.trackId + ", Channels: " + pa.channels + ", Codec: " + va + " (" + ua + ")";y["Audio Tags"]=null === (K=da.stream) || void 0 === K?void 0:K.tj.toString();}ma=this.j.Ue.value;if(ma && ma.stream){ra=ma.stream;wa=this.k7.Fda(this.j.ca.wj.value?this.j.ca.wj.value.streams:[]);ya=ra.$d;za=(/hevc/).test(ya)?"hevc":(/vp9/).test(ya)?"vp9":(/h264hpl/).test(ya)?"avchigh":(/av1/).test(ya)?"av1":"avc";(/hdr/).test(ya) && (za+=", hdr");(/dv/).test(ya) && (za+=", dv");(/prk/).test(ya) && (za+=", prk");y["Video Track"]="Codec: " + wa + " (" + za + ")";y["Video Tags"]=null === (L=ma.stream) || void 0 === L?void 0:L.tj.toString();}Aa=this.j.Gj.value;y["Timed Text Track"]=Aa?Aa.rg + ", Profile: " + Aa.profile + ", Id: " + Aa.trackId + ", DownloadableId: " + Aa.Nb:"none";Q.push(y);}catch(La){}try{Ia=this.j.ie;Da=this.j.Gf.value?this.j.Gf.value.framerate:0;Ja=a(99732).Amb;Q.push({Framerate:Da.toFixed(3),"Current Dropped Frames":(0,l.dc)(this.sCa)?this.sCa:"","Total Frames":Ia.yx(),"Total Dropped Frames":Ia.bM(),"Total Corrupted Frames":Ia.o2(),"Main Thread stall/sec":Ja?Ja.Ffa().join(" "):"DISABLED",KeySystem:null === (H=this.j.bg) || void 0 === H?void 0:H.w2(),KeyStatus:null === (P=null === (O=this.j.bg) || void 0 === O?void 0:O.Ggb) || void 0 === P?void 0:P.call(O),VideoDiag:(0,e.FJa)(this.j.fga()),"HDR support":this.aHa?this.aHa.result + " (" + this.aHa.reason + ")":"unknown"});}catch(La){}try{Q.push({Throughput:this.j.gb + " kbps"});}catch(La){}Ka=void 0;try{Object.entries(this.pcb).forEach(function(La){var Na;Na=Ea(La);La=Na.next().value;Na=Na.next().value;Ka=Ka || ({});Ka[La]=JSON.stringify(Na);});Ka && Q.push(Ka);}catch(La){}return Q;};b.P1a=c;},25138:function(r,b,a){var d,g,e,f;function c(l,h,k,m){this.Ea=l;this.Yoc=h;this.qa=k;this.Qg=m;this.ce={};}function n(l,h){this.wg=l;this.Qg=h;this.Qe={};this.qa=l.fb("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.gIb=b.wua=void 0;r=a(5163);d=a(22674);g=a(87386);e=a(81918);f=a(5021);n.prototype.$nc=function(l,h){this.Qe[l] && this.qa.warn("registerPlayback: xid " + l + " already registered, overriding");h=(h?h:this.Qg.$b()).ia(f.pa);this.qa.trace("registerPlayback: xid " + l + " at " + h);this.Qe[l]=new c(l,h,this.qa,this.Qg);return this.Qe[l];};n.prototype.i7b=function(l){this.Qe[l] || this.qa.warn("getPlaybackMilestones: xid " + l + " is not registered");return this.Qe[l];};n.prototype.roc=function(l){this.qa.trace("removePlayback: xid " + l);delete this.Qe[l];};a=n;b.wua=a;b.wua=a=r.__decorate([(0,d.W)(),r.__param(0,(0,d.l)(g.kb)),r.__param(1,(0,d.l)(e.fd))],a);c.prototype.Ms=function(l,h){h=h?h.ia(f.pa):this.Qg.$b().ia(f.pa) - this.Yoc;this.qa.trace("addMilestone: xid " + this.Ea + " " + l + " at " + h);this.ce[l]=h;};b.gIb=c;},81889:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.yua=void 0;a.prototype.NJa=function(c){c=void 0 === c?{}:c;return {Bl:c.trackingId,Cca:c.authParams,Ho:c.sessionParams,ue:c.uiLabel,Xma:c.uxLabels,fDa:c.disableTrackStickiness,HI:c.uiPlayStartTime,bfa:c.forceAudioTrackId,dfa:c.forceTimedTextTrackId,yh:c.isBranching,playbackState:c.playbackState?{currentTime:c.playbackState.currentTime,volume:c.playbackState.volume,muted:c.playbackState.muted,playbackRate:c.playbackState.playbackRate}:void 0,nS:c.enableTrickPlay,cHa:c.heartbeatCooldown,yT:c.isPlaygraph,Tha:c.loadImmediately || !1,Gqb:c.pin,L5:c.preciseSeeking,ub:c.startPts,cg:c.endPts,fi:c.logicalEnd,Ska:c.renderTimedText,ueb:c.extraManifestParams,Iza:c.assetId,nQb:c.audioLanguages,pvc:c.textLanguages,Bzb:c.videoLanguage,yzb:c.videoAspectRatio,hq:c.packageId,Pcb:c.desiredDownloadables,gOa:c.requestReference,LOb:c.additionalAudioAssets,POb:c.additionalTextAssets};};b.yua=a;},65361:function(r,b,a){var n,d;function c(g,e){g=n.ic.call(this,g) || this;g.ZJa=e;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.R1a=void 0;n=a(81734);d=a(8825);Ha(c,n.ic);c.prototype.set=function(g){n.ic.prototype.set.call(this,(0,d.UB)(g,0,this.ZJa));};b.R1a=c;},37025:function(r,b,a){var n,d,g;function c(e,f,l,h,k,m,p,v,q,u,t,w,x,z){this.index=e;this.P=f;this.L=l;this.lb=h;this.Ea=k;this.rj=m;this.rmb=p;this.XUb=q;this.Gnb=t;this.Dg=x;this.ca=new g.Fua();this.Gj=new n.ic(null);this.xy=new n.ic(void 0);this.Gf=new n.ic(null);this.Zh=new n.ic(null);this.hf=new n.ic(null);this.Ue=new n.ic(null);this.Tc=[new n.ic(null),new n.ic(null)];this.mediaTime=new n.ic(void 0);this.playbackRate=new n.ic(1);this.Us=new n.ic(null);this.background=new n.ic(!1);this.XK={source:"notcached",type:void 0};this.YK="notcached";this.dea=!1;v && (this.Gf.set(v.Gf.value),this.Zh.set(v.Zh.value));this.qn=u(this);this.zo=this.Gnb.$nc(this.Ea,this.rj);this.zd=w(this,z);}Object.defineProperty(b,"__esModule",{value:!0});b.S1a=void 0;n=a(81734);d=a(5021);g=a(73403);c.prototype.gf=function(e){this.zo.Ms(e);};c.prototype.oD=function(e){var f;f=this;Object.entries(e).forEach(function(l){var h;h=Ea(l);l=h.next().value;h=h.next().value;f.zo.Ms(l,(0,d.bc)(h - f.rj.ia(d.pa)));});};c.prototype.Xia=function(){this.Gnb.roc(this.Ea);};Ga.Object.defineProperties(c.prototype,{ue:{configurable:!0,enumerable:!0,get:function(){return this.lb.ue;}},Xma:{configurable:!0,enumerable:!0,get:function(){return this.lb.Xma;}},Rm:{configurable:!0,enumerable:!0,get:function(){return this.Qc && this.Qc.Rm;}},Jj:{configurable:!0,enumerable:!0,get:function(){var e;return null !== (e=this.Qc && this.Qc.Jj) && void 0 !== e?e:[];}},pB:{configurable:!0,enumerable:!0,get:function(){var e;return null !== (e=this.Qc && this.Qc.pB) && void 0 !== e?e:[];}},qE:{configurable:!0,enumerable:!0,get:function(){var e;return null !== (e=this.Qc && this.Qc.qE) && void 0 !== e?e:[];}},li:{configurable:!0,enumerable:!0,get:function(){var e;return null !== (e=this.Qc && this.Qc.li) && void 0 !== e?e:[];}},de:{configurable:!0,enumerable:!0,get:function(){return this.Qc && this.Qc.de;}},JM:{configurable:!0,enumerable:!0,get:function(){var e;return null !== (e=this.Qc && this.Qc.JM) && void 0 !== e?e:!1;}},jy:{configurable:!0,enumerable:!0,get:function(){var e;return null !== (e=this.Qc && this.Qc.jy) && void 0 !== e?e:[];}},rh:{configurable:!0,enumerable:!0,get:function(){var e;return null !== (e=this.Qc && this.Qc.rh) && void 0 !== e?e:[];}},PC:{configurable:!0,enumerable:!0,get:function(){var e,f;return this.zd.fa && (void 0 === this.CQ || 0 >= this.CQ.ia(d.pa) || Infinity <= this.CQ.ia(d.pa))?(0,d.bc)(this.zd.$L()):this.CQ && 0 < this.CQ.ia(d.pa)?this.CQ:(0,d.bc)(null !== (f=null === (e=this.U) || void 0 === e?void 0:e.Ca.duration) && void 0 !== f?f:0);},set:function(e){this.CQ=e;}},knb:{configurable:!0,enumerable:!0,get:function(){return this.zd.fa && (void 0 === this.rba || 0 >= this.rba.ia(d.pa) || Infinity <= this.rba.ia(d.pa))?(0,d.bc)(this.zd.w6b()):this.rba;},set:function(e){this.rba=e;}},Bl:{configurable:!0,enumerable:!0,get:function(){return this.lb.Bl || 0;}},RR:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.L0?this.L0:void 0 === this.mediaTime.value?null:this.XUb(this.mediaTime.value,this.L);}},sf:{configurable:!0,enumerable:!0,get:function(){var e,f;return null === (f=null === (e=this.U) || void 0 === e?void 0:e.Ca.zz) || void 0 === f?void 0:f.Nh;}},rO:{configurable:!0,enumerable:!0,get:function(){var e,f;return null === (f=null === (e=this.U) || void 0 === e?void 0:e.Ca.zz) || void 0 === f?void 0:f.rO;}},ce:{configurable:!0,enumerable:!0,get:function(){return this.zo.ce;}}});b.S1a=c;},69334:function(r,b,a){var n,d,g;function c(e,f,l){this.gi=e;this.Ub=l;this.ba=[];this.log=f.fb("PlayedSegmentsTrackerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Cua=void 0;n=a(5163);r=a(22674);d=a(42207);g=a(87386);a(5021);c.prototype.some=function(e){return this.ba.some(e);};c.prototype.rga=function(){return !!(this.ba[0] && this.ba[0].stream && this.Ub.vh(this.ba[0].stream.Gb));};c.prototype.tt=function(e){return this.ba.filter(e).reduce(function(f,l){return f + (l.endTime - l.startTime) / l.rate;},0);};c.prototype.U2=function(e){return this.ba.filter(e).reduce(function(f,l){return f + l.endTime - l.startTime;},0);};c.prototype.fFa=function(e,f){var l,h;l=this;h={};return this.ba.filter(function(k){return !f || k.Nr === f;}).reduce(function(k,m){var p,v,q;p=e.bind(l,m)();v=p.key;p=n.__rest(p,["key"]);m=m.endTime - m.startTime;q=h[v];q?q.duration+=m:(q=p,q.duration=m,k.push(q),h[v]=q);return k;},[]);};c.prototype.rf=function(e,f,l){var h;l=void 0 === l?this.gi.playbackRate.value:l;h=this.ba;e && f && f >= e.startTime && (e={Tc:e.Tc,track:e.track,stream:e.stream,startTime:e.startTime,vD:e.vD,hIa:e.hIa,endTime:f,rate:l,Nr:e.Nr || "content"},(f=h[h.length - 1]) && f.track === e.track && f.stream === e.stream && f.Tc === e.Tc && f.endTime === e.startTime && f.rate === e.rate?f.endTime=e.endTime:h.push(e),!1);};a=c;b.Cua=a;b.Cua=a=n.__decorate([n.__param(1,(0,r.l)(g.kb)),n.__param(2,(0,r.l)(d.Eh))],a);},73403:function(r,b,a){var n;function c(){this.Mc=new n.ic(null);this.wj=new n.ic(null);this.Ic=new n.ic(null);}Object.defineProperty(b,"__esModule",{value:!0});b.Fua=void 0;n=a(81734);c.prototype.om=function(d,g){this.Ic.set(d,g);};c.prototype.eu=function(d,g){this.Mc.set(d,g);};c.prototype.c7=function(d){this.wj.set(d);};b.Fua=c;},82557:function(r,b,a){var n,d,g,e;function c(f){this.Oa=f;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.jva=void 0;r=a(5163);n=a(85001);d=a(22674);g=a(81918);e=a(5021);c.prototype.sl=function(f){f.Mb !== n.yc.Wo && (this.trace.unshift({time:this.Oa.$b(),event:f}),5 < this.trace.length && this.trace.pop());};c.prototype.Qhb=function(){var f,l;f=this;if(0 === this.trace.length)return {};l=this.trace[0];return {timeSinceLastRepositionMs:this.txb(l.time),lastRepositionCause:this.agb(l.event.Mb),repositionTrace:this.trace.map(function(h){return {timeSince:f.txb(h.time),cause:f.agb(h.event.Mb),newMediaTime:h.event.Mia,oldMediaTime:h.event.kLa,contentPts:h.event.et,skip:h.event.skip};})};};c.prototype.txb=function(f){return this.Oa.$b().ka(f).ia(e.pa);};c.prototype.agb=function(f){switch(f){case n.yc.Wo:return "initial";case n.yc.Bu:return "seek";case n.yc.WP:return "live_edge";case n.yc.PJ:return "segment_changed";case n.yc.yZ:return "track_changed";case n.yc.D9:return "force_rebuffer";case n.yc.KX:return "fragments_missing";case n.yc.Wra:return "media_discontinuity";}};a=c;b.jva=a;b.jva=a=r.__decorate([(0,d.W)(),r.__param(0,(0,d.l)(g.fd))],a);},13889:function(r,b,a){var n,d,g,e;function c(f,l,h){this.config=f;this.j=l;this.wg=h;this.cy=void 0;this.Wja=!1;this.ylb=0;this.log=this.wg.fb();}Object.defineProperty(b,"__esModule",{value:!0});b.E3a=void 0;n=a(85001);d=a(5021);g=a(8825);e=a(32687);c.prototype.I6b=function(f,l,h,k,m){var p,v,q,u;h=void 0 === h?this.j.L:h;k=void 0 === k?!1:k;p=l === n.yc.PJ;v=this.xSb(p?f:this.LTb(f,h),l,k,h);k=this.j.cb;p?(f=v,v=k.TBa(v)):f=k.VBa(h,v);l === n.yc.Wo && (this.j.z$a=v);m=this.Kj(f,l,m);q=(p=p || m)?f:v;if(this.j.St){u=this.j.lb.yh?this.config().KLa:this.config().KH;this.j.xib(q,u) || l !== n.yc.Bu && l !== n.yc.WP || (q=this.j.St.ia(d.pa) - u - 1E3,p?(f=q,v=k.TBa(q)):(f=k.VBa(h,q),v=q));}return {Mia:q,et:v,Qkc:f,Kj:m};};c.prototype.xSb=function(f,l,h,k){this.hbc() || h?f=Math.round(f):(h=this.j.cb.zSb(f,k),f=(0,e.dc)(h)?h:Math.round(f));this.j.lb.yh && (f=this.p3b(f));this.config().jub && 0 !== f && l !== n.yc.Wo && (f+=this.config().jub);return f;};c.prototype.Kj=function(f,l,h){if(this.config().ZZb || l === n.yc.Wo || l === n.yc.yZ || l === n.yc.D9 || !h || f < h.start.ia(d.pa) || f >= h.end.ia(d.pa))return !1;l=this.j.cb;return (null === l || void 0 === l?void 0:l.aj) && l.Kj(f) || !1;};c.prototype.hbc=function(){return this.j.lb.yh?!0:"boolean" === typeof this.j.lb.L5?this.j.lb.L5:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().L5 && this.config().mlc:this.config().L5;};c.prototype.LTb=function(f,l){var h;h=this.j.wk(l);l=h.PC;h=h.knb;!1;l=h || l;h=this.j.zd.fa && !this.j.zd.H3()?0:this.config().$yc;l=Math.max(0,l.ia(d.pa) - h);return (0,g.UB)(f,0,l);};c.prototype.p3b=function(f){var l,h,k;l=this.j.k2();if(Object.values(l).find(function(m){var p;p=m.yb;p=f < (null !== p && void 0 !== p?p:Infinity);return m.rb <= f && p;}))return (!1,f);k=f;Object.entries(l).forEach(function(m){var p;m=Ea(m);m.next();m=m.next().value.rb;p=m - f;0 < p && (void 0 === h || p < h) && (h=p,k=m);});!1;return k;};Ga.Object.defineProperties(c.prototype,{J3:{configurable:!0,enumerable:!0,get:function(){return this.Wja || !!this.cy;}}});b.E3a=c;},74834:function(r,b,a){var n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Fva=void 0;r=a(5163);a=a(22674);c.prototype.umc=function(d,g){g.OT.Za.WOa({xid:g.Ea,auxPlaybackcontextid:g.de,auxMid:d.auxMid,auxMidType:d.auxMidType,reason:d.reason,adBreakLocationMs:d.adBreakLocationMs},"error" === d.sev);};n=c;b.Fva=n;b.Fva=n=r.__decorate([(0,a.W)()],n);},37517:function(r,b,a){var n,d,g,e,f,l,h;function c(k,m,p,v,q,u,t,w,x,z){var y;y=this;this.gwc=k;this.j=m;this.id=p;this.height=v;this.width=q;this.vkc=u;this.wkc=t;this.size=w;this.Ix=x;this.urls=z;this.type=n.Dl.BRa;this.retry=!0;this.state=f.Ew.u$;this.Ah={};this.uca={};this.tmc=function(A){if(A.ta)try{y.data=y.gwc.parse(A.content);y.state=f.Ew.yJ;y.log.trace("TrickPlay parsed",{Images:y.data.images.length},y.Ah);y.j.fireEvent(l.da.X7);}catch(B){y.state=f.Ew.K0a;y.log.error("TrickPlay parse failed.",B);}else (y.state=f.Ew.u$,y.log.error("TrickPlay download failed.",(0,h.HB)(A),y.Ah));};this.log=(0,g.lj)(m,"TrickPlay");}b.z=void 0;n=a(51344);d=a(29204);g=a(31276);e=a(61726);f=a(94025);l=a(85001);h=a(36129);c.prototype.H5b=function(k){if(this.data && (this.Ix && (k+=this.Ix),k=Math.floor(k / this.data.header.xxb),0 <= k && k < this.data.images.length))return {image:this.data.images[k],time:k * this.data.header.xxb,height:this.height,width:this.width,pixelAspectHeight:this.vkc,pixelAspectWidth:this.wkc};};c.prototype.eT=function(){switch(this.state){case f.Ew.yJ:return "downloaded";case f.Ew.LOADING:return "loading";case f.Ew.JY:return "downloadfailed";case f.Ew.K0a:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var k;k=this.A8b();k?(this.state=f.Ew.LOADING,this.p_b(k)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.A8b=function(){var k,m,p;k=this;m=Object.keys(this.urls).find(function(v){return (k.uca[k.urls[v]] || 0) <= d.config.cwc;});if(m){p=this.urls[m];(p in this.uca)?this.uca[p]++:this.uca[p]=1;return {url:p,Ap:m};}};c.prototype.p_b=function(k){var m,p;this.log.trace("Downloading",k.url,this.Ah);p=this.pfa(k.Ap);k={responseType:e.i3,Tc:p,url:k.url,track:this,Zv:null !== (m=null === p || void 0 === p?void 0:p.type) && void 0 !== m?m:"unknown",gG:"trickplay"};this.j.wga.download(k,this.tmc);};c.prototype.pfa=function(k){return this.j.rh.find(function(m){return m && m.id === k;});};b.z=c;},18181:function(r,b,a){var n,d,g,e,f,l;function c(h,k){this.Qg=h;this.config=k;}Object.defineProperty(b,"__esModule",{value:!0});b.kwa=void 0;r=a(5163);n=a(85001);d=a(94025);g=a(81918);e=a(22674);f=a(5021);a=a(4203);c.prototype.nS=function(h){var k;h.Y7={};if(!h.AT() && h.qE && 0 < h.qE.length && (h.pE=this.ygb(h),h.pE)){k=this.psc(h);k() || (h.Ib.addListener(k),h.Gf.addListener(k));}};c.prototype.psc=function(h){var m;function k(){var p,v;if(!h.Gf.value || h.Ib.value === n.wb.og)return !1;p=h.pE;v=p.getState();return v === d.Ew.LOADING?!1:v !== d.Ew.yJ && p.retry?(p=m.v8b(h))?(h.Y7.offset=m.Qg.$b().ia(f.pa),h.pE=p,p.download(),!0):!1:(h.Ib.removeListener(k),h.Gf.removeListener(k),!1);}m=this;return k;};c.prototype.v8b=function(h){var k,m;k=this.config();m=h.qn.tt() < k.ewc;k=(h.Gf.value?h.Gf.value.bitrate:0) > k.dwc;return this.O7b(h,m && k);};c.prototype.O7b=function(h,k){if(k && (k=this.ygb(h),this.Ehb(h,k.size)))return (h.Y7.qtb="h",k);k=this.p6b(h);if(this.Ehb(h,k.size))return (h.Y7.qtb="l",k);};c.prototype.Ehb=function(h,k){var m,p;m=this.config();p=Math.min(h.c0(),h.p8());return h.RQb.fSb(k) * (1 + .01 * m.NOb[2]) < p * m.hwc;};c.prototype.ygb=function(h){return h.qE[h.qE.length - 1];};c.prototype.p6b=function(h){return h.qE[0];};l=c;b.kwa=l;b.kwa=l=r.__decorate([(0,e.W)(),r.__param(0,(0,e.l)(g.fd)),r.__param(1,(0,e.l)(a.uc))],l);},25837:function(r,b,a){var n,d,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.lwa=void 0;r=a(5163);d=a(70834);a=a(22674);c.prototype.parse=function(e){var f,l;if(!e)throw Error("invalid array buffer");f=new Uint8Array(e);l=new d.CX(f);e=this.Jja(l);f=this.Gjc(l,f,e);return {header:e,images:f};};c.prototype.Jja=function(e){var f,l,h,k;if(e.K2() < this.bpc())throw Error("array buffer too short");n.PZa.forEach(function(m){if(m != e.Qr())throw Error("BIF has invalid magic.");});f=e.cV();if(f > n.VERSION)throw Error("BIF version in unsupported");l=e.cV();if(0 == l)throw Error("BIF has no frames.");h=e.cV();k=e.rl(n.J2a);return {version:f,shc:l,xxb:h,stb:k};};c.prototype.Gjc=function(e,f,l){var m,p;for(var h=[],k=0;k <= l.shc;k++){m={timestamp:e.cV(),offset:e.cV()};void 0 != p && h.push(f.subarray(p.offset,m.offset));p=m;}return h;};c.prototype.bpc=function(){return n.PZa.length + 4 + 4 + 4 + n.J2a;};g=n=c;b.lwa=g;g.PZa=[137,66,73,70,13,10,26,10];g.VERSION=0;g.J2a=44;b.lwa=g=n=r.__decorate([(0,a.W)()],g);},72614:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t;function c(w){return function(){return w.tb.get(n.u1a).Pb();};}Object.defineProperty(b,"__esModule",{value:!0});b.GN=void 0;r=a(22674);n=a(96687);d=a(32979);g=a(23048);e=a(62278);f=a(95480);l=a(91859);h=a(95398);k=a(77334);m=a(10469);p=a(44698);v=a(36258);q=a(78339);u=a(50889);t=a(18477);b.GN=new r.Od(function(w){w(h.U1a).to(k.Aua).ma();w(d.Yta).to(g.Xta).ma();w(e.i1a).to(f.Fta).ma();w(n.u1a).to(l.$ta).ma();w(n.gZ).R7(c);w(u.t1a).to(t.Zta).ma();w(m.k1a).to(p.Kta).ma().y8();w(v.v1a).to(q.aua).ma();w(v.r1a).to(q.Vta).ma();w(v.s1a).to(q.Wta).ma();});},62278:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.i1a="PboCachedPlaydataSymbol";},10469:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jta={S3:"keepAlive",splice:"splice"};b.k1a="PboEventSenderSymbol";},32979:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yta="PboPlaydataFactorySymbol";},50889:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.t1a="PboPlaydataPlaybackMonitorSymbol";},96687:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.u1a="PboPlaydataServicesSymbol";b.gZ="PboPlaydataServicesProviderSymbol";},95398:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.U1a="PlaydataConfigSymbol";},95480:function(r,b,a){var g,e,f,l,h,k,m,p,v,q;function c(){}function n(){}function d(u,t,w,x,z){var y;y=this;this.is=u;this.vq=t;this.config=w;this.qL=x;this.gkc=z;this.T7=function(){return new c().encode({version:y.version,data:y.GN});};this.Cxc=function(A){A=y.upgrade(A);y.gkc.validate(A);return A;};this.upgrade=function(A){var B;if(y.is.Ks(A))return y.Dxc(A);B=A.version;if(void 0 != B && y.is.Im(B) && 1 == B)return y.Exc(A);B=A.version;if(void 0 != B && y.is.Im(B) && 2 == B)return new c().decode(A);if(A.version && y.is.Im(A.version))throw new h.ke(f.Y.RE,f.T.SBb,void 0,void 0,void 0,"Version number is not supported. Version: " + A.version,void 0,A);throw new h.ke(f.Y.RE,f.T.Y8,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,A);};this.Yv=new k.AYa(2,this.config().Wqb,"" !== this.config().Wqb && 0 < this.config().Jkc,this.vq,this.T7);}Object.defineProperty(b,"__esModule",{value:!0});b.Fta=void 0;r=a(5163);g=a(22674);e=a(4203);f=a(36129);l=a(42207);h=a(31149);k=a(52657);m=a(17892);p=a(33554);v=a(23048);a=a(36258);d.prototype.dnc=function(){return this.Yv.load(this.Cxc).catch(function(u){throw new h.ke(f.Y.RE,u.Ja || u.subCode,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,u);});};d.prototype.vOb=function(u){return this.Yv.add(u);};d.prototype.Tsb=function(u){return this.Yv.remove(u,function(t,w){return t.Ea === w.Ea;});};d.prototype.URa=function(u){return this.Yv.update(u,function(t,w){return t.Ea === w.Ea;});};d.prototype.toString=function(){return JSON.stringify(this.T7(),null,"  ");};d.prototype.Yyb=function(u){return u?"/events?playbackContextId=" + u + "&esn=" + this.qL().Sl:"";};d.prototype.dSa=function(u){return u.map(function(t){return {Nb:t.downloadableId,duration:t.duration};});};d.prototype.Zyb=function(u){var t;return u?{total:u.playTimes.total,XO:null !== (t=u.playTimes.totalContentTime) && void 0 !== t?t:u.playTimes.total,mW:u.playTimes.total,DI:0,EI:0,YO:0,ZO:0,audio:this.dSa(u.playTimes.audio || []),video:this.dSa(u.playTimes.video || []),text:this.dSa(u.playTimes.timedtext || [])}:{total:0,XO:0,mW:0,DI:0,EI:0,YO:0,ZO:0,audio:[],video:[],text:[]};};d.prototype.Dxc=function(u){var t,w,x;t=this;u=JSON.parse(u);w={Je:"VOD",href:this.Yyb(u.playbackContextId),Ea:u.xid?u.xid.toString():"",P:u.movieId,position:u.position,KC:u.timestamp,Io:u.playback?1E3 * u.playback.startEpoch:-1,ZT:u.mediaId,CA:this.Zyb(u.playback),trackId:"",Ho:{},ZU:u.accountKey};x=JSON.stringify({keySessionIds:u.keySessionIds,movieId:u.movieId,xid:u.xid,licenseContextId:u.licenseContextId,profileId:u.profileId});this.vq.create().then(function(z){z.save(t.config().nDa,x,!1);});if("" === w.href || "" === w.Ea)throw new h.ke(f.Y.RE,f.T.Y8);return {version:2,data:[w]};};d.prototype.Exc=function(u){var t;t=this;if(!u.playdata || !this.is.QK(u.playdata))throw new h.ke(f.Y.RE,f.T.Y8,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,u);return {version:2,data:(function(w){return w.map(function(x){var z;return {Je:null !== (z=x.streamingType) && void 0 !== z?z:"VOD",href:t.Yyb(x.playbackContextId),Ea:x.xid?x.xid.toString():"",P:x.movieId,position:x.position,KC:x.timestamp,Io:x.playback?1E3 * x.playback.startEpoch:-1,ZT:x.mediaId,CA:t.Zyb(x.playback),trackId:"",Ho:{},ZU:x.profileId};});})(u.playdata)};};Ga.Object.defineProperties(d.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Yv.version;}},GN:{configurable:!0,enumerable:!0,get:function(){return this.Yv.yp;}}});q=d;b.Fta=q;b.Fta=q=r.__decorate([(0,g.W)(),r.__param(0,(0,g.l)(l.Eh)),r.__param(1,(0,g.l)(m.DE)),r.__param(2,(0,g.l)(e.uc)),r.__param(3,(0,g.l)(p.CB)),r.__param(4,(0,g.l)(a.s1a))],q);n.prototype.encode=function(u){var t;t=new v.G$();return u.map(t.encode);};n.prototype.decode=function(u){var t;t=new v.G$();return u.map(t.decode);};c.prototype.encode=function(u){return {version:u.version,data:new n().encode(u.data)};};c.prototype.decode=function(u){return {version:u.version,data:new n().decode(u.data)};};},44698:function(r,b,a){var n,d,g;function c(e,f){this.F0=f;this.log=e.fb("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Kta=void 0;r=a(5163);n=a(87607);d=a(87386);a=a(22674);c.prototype.ePa=function(e,f){var l;l=this.F0(n.ps.start);return this.neb(l,e,f);};c.prototype.Eub=function(e){var f;f=this;return this.F0(n.ps.stop).ef({log:this.log},e).then(function(){}).catch(function(l){f.log.error("PBO stop event failed",l);throw l;});};c.prototype.U6=function(e,f,l){e=this.F0(e);return this.neb(e,f,l);};c.prototype.neb=function(e,f,l){var h;h=this;return e.ef({log:this.log,links:f.U.Sj},l).then(function(){}).catch(function(k){h.log.error("PBO event failed",k);throw k;});};g=c;b.Kta=g;b.Kta=g=r.__decorate([(0,a.W)(),r.__param(0,(0,a.l)(d.kb)),r.__param(1,(0,a.l)(n.Xpa))],g);},23048:function(r,b,a){var e,f,l,h,k,m;function c(p,v,q,u){this.Aa=p;this.X2=v;this.Oa=q;this.profile=u;}function n(){}function d(){}function g(){}Object.defineProperty(b,"__esModule",{value:!0});b.Xta=b.G$=void 0;r=a(5163);e=a(22674);f=a(30869);l=a(5021);h=a(4203);k=a(81918);a=a(71501);g.prototype.encode=function(p){return {downloadableId:p.Nb,duration:p.duration};};g.prototype.decode=function(p){return {Nb:p.downloadableId,duration:p.duration};};d.prototype.encode=function(p){return {total:p.total,totalContentTime:p.XO,totalAdDuration:p.DI,totalCombinedDuration:p.mW,totalOtherDuration:p.EI,totalStartSlateDuration:p.ZO,totalLiveEdgeDuration:p.YO,audio:p.audio.map(new g().encode),video:p.video.map(new g().encode),text:p.text.map(new g().encode)};};d.prototype.decode=function(p){var v;return {total:p.total,XO:null !== (v=p.totalContentTime) && void 0 !== v?v:p.total,DI:p.totalAdDuration,mW:p.totalCombinedDuration,EI:p.totalOtherDuration,ZO:p.totalStartSlateDuration,YO:p.totalLiveEdgeDuration,audio:p.audio.map(new g().decode),video:p.video.map(new g().decode),text:p.text.map(new g().decode)};};n.prototype.encode=function(p){return {streamingType:p.Je,href:p.href,xid:p.Ea,movieId:p.P,position:p.position,clientTime:p.KC,sessionStartTime:p.Io,videoTrackId:p.FW,audioTrackId:p.Qs,timedTextTrackId:p.kW,mediaId:p.ZT,playTimes:new d().encode(p.CA),trackId:p.trackId,sessionId:p.sessionId,appId:p.appId,sessionParams:p.Ho,profileId:p.ZU};};n.prototype.decode=function(p){return {Je:p.streamingType,href:p.href,Ea:p.xid,P:p.movieId,position:p.position,KC:p.clientTime,Io:p.sessionStartTime,FW:p.videoTrackId,Qs:p.audioTrackId,kW:p.timedTextTrackId,ZT:p.mediaId,CA:new d().decode(p.playTimes),trackId:p.trackId,sessionId:p.sessionId,appId:p.appId,Ho:p.sessionParams,ZU:p.profileId};};b.G$=n;c.prototype.create=function(p){var v,q,u,t,w,x,z,y;y=Object.assign(Object.assign({},null !== (v=p.lb.Ho) && void 0 !== v?v:{}),{uiVersion:this.X2().mt.lB});v=null !== (q=p.zd.fa?p.zd.bga():p.RR) && void 0 !== q?q:0;return {href:p.U && p.U.Sj?p.U.Sj.XS("events").href:"",Je:null !== (t=null === (u=p.U) || void 0 === u?void 0:u.Ca.Je) && void 0 !== t?t:"VOD",Ea:p.Ea.toString(),P:p.P,position:Math.floor(v),KC:this.Aa.qO.ia(l.pa),Io:p.tD?p.tD.ia(l.pa):-1,FW:null === (w=p.ca.wj.value) || void 0 === w?void 0:w.trackId,Qs:null === (x=p.ca.Mc.value) || void 0 === x?void 0:x.trackId,kW:null === (z=p.ca.Ic.value) || void 0 === z?void 0:z.trackId,ZT:void 0,CA:this.fGa(p),trackId:void 0 !== p.Bl?p.Bl.toString():"",sessionId:this.X2().sessionId || this.Oa.id,appId:this.X2().appId || this.Oa.id,Ho:y,ZU:this.profile};};c.prototype.load=function(p){return new n().decode(p);};c.prototype.jGa=function(p){return p.map(function(v){return {Nb:v.downloadableId,duration:v.duration};});};c.prototype.fGa=function(p){return (p=p.qn)?(p=p.h7b(),{total:p.total,XO:p.totalContentTime,DI:p.totalAdDuration,EI:p.totalOtherDuration,mW:p.totalCombinedDuration,YO:p.totalLiveEdgeDuration,ZO:p.totalStartSlateDuration,audio:this.jGa(p.audio),video:this.jGa(p.video),text:this.jGa(p.timedtext)}):{total:0,XO:0,DI:0,mW:0,EI:0,YO:0,ZO:0,video:[],audio:[],text:[]};};m=c;b.Xta=m;b.Xta=m=r.__decorate([(0,e.W)(),r.__param(0,(0,e.l)(f.hh)),r.__param(1,(0,e.l)(h.uc)),r.__param(2,(0,e.l)(k.fd)),r.__param(3,(0,e.l)(a.pQ))],m);},18477:function(r,b,a){var n,d,g,e;function c(f,l){this.wqb=l;this.log=f.fb("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.Zta=void 0;r=a(5163);n=a(22674);d=a(87386);g=a(85001);a=a(96687);c.prototype.Ik=function(f){var l;l=this;this.wqb().then(function(h){f.addEventListener(g.da.nA,function(k){var m;if(void 0 !== k.WU){m=f.$l(k.WU);h.t7(m);k.EM || new Promise(function(p){var v;if(f.Ni.value)p();else {v=function(q){q.newValue && (p(),f.Ni.removeListener(v));};f.Ni.addListener(v);}}).then(function(){return h.Ik(f,l.Ivb(f),function(p){return f.bL(p);});});}});f.addEventListener(g.da.dy,function(){h.Ik(f.ea,l.Ivb(f),function(k){return f.bL(k);});});f.background.value || f.addEventListener(g.da.Kha,function(k){var m;k=f.$l(k.P);if(k.Dg){m=f.$l(k.Dg.je);l.log.trace("Auxiliary viewable segment (viewableId: " + k.P + "). Starting playdata monitor for parent viewable " + m.P);k=m;}h.oQa(k);});f.addEventListener(g.da.sg,function(){h.uwb();});f.addEventListener(g.da.szb,function(){h.Cub(f.ea).catch(function(k){(k=k.QU) && f.bL(k);});});f.ca.Ic.addListener(function(){f.lb.fDa?l.log.trace("stickiness is disabled for timedtext"):h.Cla(f.ea);});f.ca.Mc.addListener(function(){f.lb.fDa?l.log.trace("stickiness is disabled for audio"):h.Cla(f.ea).catch(function(k){(k=k.QU) && f.bL(k);});});});};c.prototype.Ivb=function(f){return f.state.value == g.qc.cf;};e=c;b.Zta=e;b.Zta=e=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.kb)),r.__param(1,(0,n.l)(a.gZ))],e);},91859:function(r,b,a){var g,e,f,l,h,k,m,p,v,q,u,t,w;function c(x,z,y,A,B,C,D,E){this.config=x;this.Rc=y;this.mB=A;this.fy=B;this.ika=C;this.Mi=D;this.PM=Promise.resolve();this.closed=!1;this.log=z.fb("PlaydataServices");this.FN=[];this.active=new Set();this.xpc=new n(x,E);}function n(x,z){this.config=x;this.Aa=z;}function d(x,z,y,A,B,C){this.log=x;this.Rc=z;this.gi=y;this.fy=A;this.mB=B;this.Ckc=C;this.Beb=this.Qf=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.$ta=b.ZHb=void 0;r=a(5163);g=a(22674);e=a(5021);f=a(87386);l=a(53085);h=a(32979);k=a(62278);m=a(95398);p=a(36129);v=a(23048);q=a(10469);u=a(45266);t=a(30869);a=a(79274);d.prototype.iU=function(x,z){var A;function y(){var B;B=A.fy.create(A.gi);A.mB.URa(B).catch(function(C){var D;D=A.Beb?f.zm.Hwa:f.zm.In;A.Beb=!0;A.log.write(D,"Unable to save playdata changes to IDB",C);});}A=this;this.log.trace("Adding initial playdata",z);this.mB.vOb(z).then(function(){A.log.trace("Scheduling monitor",{interval:x});A.Vv=A.Rc.kO(x,y);}).catch(function(B){A.log.error("Unable to add playdata",{error:B,playdata:new v.G$().encode(z)});A.Vv=A.Rc.kO(x,y);});};d.prototype.stop=function(x){var z,y;z=this;if(this.Qf)return Promise.resolve();this.Vv && this.Vv.cancel();y=this.fy.create(this.gi);return this.mB.URa(y).catch(function(A){z.log.error("Unable to update playdata changes during stop",A);}).then(function(){if(x){if(z.gi.background.value)return (z.log.trace("Playback is currently in the background and never played, not sending the playdata",y),Promise.resolve());z.log.trace("Sending final playdata to the server",y);return z.Ckc.Eub(y);}z.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(x)return (z.log.trace("Removing playdata from the persisted store",y),z.mB.Tsb(y));z.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){z.log.info("Successfully stopped the playback",y.P);}).catch(function(A){z.log.error("Unable to remove playdata changes",A);throw A;});};d.prototype.cancel=function(){this.Qf=!0;this.Vv && this.Vv.cancel();this.mB.URa(this.fy.create(this.gi));};Ga.Object.defineProperties(n.prototype,{KSb:{configurable:!0,enumerable:!0,get:function(){var x;x=this.Aa.df;return !this.PM || 0 <= x.ka(this.PM).el(this.config.blb)?(this.PM=x,!0):!1;}}});b.ZHb=n;c.prototype.Pb=function(){var x;x=this;this.SG || (this.log.trace("Starting playdata services"),this.SG=this.mB.dnc().then(function(){!1;return x;}).catch(function(z){x.log.error("Unable to read the playdata, it will be deleted and not sent to the server",z);return x;}));return this.SG;};c.prototype.close=function(){this.closed=!0;this.FN.forEach(function(x){x.iU.cancel();});};c.prototype.send=function(x){var z;if(this.closed)return Promise.resolve();z=this.config;return z.BN && z.cPa?this.Lqc(x):Promise.resolve();};c.prototype.Ik=function(x,z,y){var A;A=this;this.closed || (this.oQa(x),this.ePa(x).catch(function(B){A.log.error("Start command failed",{playdata:B.GN,error:B.C1});}),z && this.lQa(this.$5b(x),x,y));};c.prototype.t7=function(x){var z,y,A;z=this;if(this.closed)return Promise.resolve();y=this.fy.create(x);this.active.delete(y.Ea);x=Ea((0,u.LH)(function(B){return B.key === y.Ea;},this.FN));A=x.next().value;this.FN=x.next().value;return Promise.all(A.map(function(B){B.stopped=!0;return B.iU.stop(z.config.cPa);})).then(function(){});};c.prototype.oQa=function(x){var z,y;x.gf("pdb");if(this.config.vMa.rIa()){z=this.fy.create(x);y=z.Ea;this.FN.some(function(A){return A.key === y;})?this.log.trace("Already collecting playdata, ignoring",z):(this.log.info("Starting to collect playdata",z),this.active.add(y),this.FN.push({key:y,iU:this.E6b(x,z),dB:!1,stopped:!1}));}};c.prototype.Lqc=function(x){var z,y,A,B;z=this;y=this.mB.GN.filter(function(C){return !z.active.has(C.Ea);});A=void 0;B=void 0;x && Infinity === x?A=y:(y=Ea((0,u.LH)(function(C){return C.P === x;},y)),A=y.next().value,B=y.next().value);B && 0 < B.length && this.Rc.xn(this.config.Bub,function(){z.Dub(B).catch(function(){});});return A && 0 !== A.length?this.Dub(A):Promise.resolve();};c.prototype.Dub=function(x){var y;function z(A){return y.ika.Eub(A).then(function(){return y.qoc(A);});}y=this;return x.reduce(function(A,B){return A.then(function(){return z(B);});},Promise.resolve());};c.prototype.qoc=function(x){var z;z=this;return this.mB.Tsb(x).then(function(){}).catch(function(y){z.log.error("Unable to complete the stop lifecycle event",y);throw y;});};c.prototype.E6b=function(x,z){x=new d(this.log,this.Rc,x,this.fy,this.mB,this.ika);x.iU(this.config.vMa,z);return x;};c.prototype.ePa=function(x){var z,y;z=this;y=this.fy.create(x);return this.ika.ePa(x,y).then(function(){!1;z.Smb(x);}).catch(function(A){z.Smb(x);throw {GN:y,C1:A};});};c.prototype.Smb=function(x){this.FN.filter(function(z){return z.key === x.Ea.toString();}).forEach(function(z){z.dB=!0;});};c.prototype.Cub=function(x){return this.xpc.KSb?this.U6(q.Jta.S3,x,p.Y.ara):Promise.resolve();};c.prototype.Cla=function(x){return this.U6(q.Jta.splice,x,p.Y.q3a);};c.prototype.U6=function(x,z,y){var B;function A(C){var D;D=B.FN.filter(function(E){return E.key === C.Ea.toString();});return 0 === D.length?!0:D.reduce(function(E,F){return E || F.stopped || !F.dB;},!1);}B=this;return A(z)?this.PM:this.PM=this.PM.catch(function(){return Promise.resolve();}).then(function(){var C;if(A(z))return Promise.resolve();!1;C=B.fy.create(z);return B.ika.U6(x,z,C);}).then(function(C){!1;return C;}).catch(function(C){var D;B.log.error("Failed to send event",{eventKey:x,xid:z.Ea,error:C});C.sS?D=B.Mi(y,C):C.QD === p.o$.Jc && (D=B.Mi(y,C));throw {C1:C,QU:D};});};c.prototype.lQa=function(x,z,y){var A;A=this;!1;this.kBa();this.GIa=this.Rc.xn(x,function(){A.kBa();A.U6(q.Jta.S3,z,p.Y.ara).then(function(){A.lQa(x,z,y);}).catch(function(B){var C;C=B.C1;(B=B.QU) && y(B);C.QD !== p.o$.Jc && A.lQa(x,z,y);});});};c.prototype.uwb=function(){this.kBa();};c.prototype.kBa=function(){this.GIa && (this.GIa.cancel(),this.GIa=void 0);};c.prototype.$5b=function(x){return x.lb.cHa?(0,e.bc)(x.lb.cHa):this.config.alb;};w=c;b.$ta=w;b.$ta=w=r.__decorate([(0,g.W)(),r.__param(0,(0,g.l)(m.U1a)),r.__param(1,(0,g.l)(f.kb)),r.__param(2,(0,g.l)(l.gk)),r.__param(3,(0,g.l)(k.i1a)),r.__param(4,(0,g.l)(h.Yta)),r.__param(5,(0,g.l)(q.k1a)),r.__param(6,(0,g.l)(a.hZ)),r.__param(7,(0,g.l)(t.hh))],w);},78339:function(r,b,a){var g,e,f,l;function c(){}function n(h){this.fkc=h;}function d(h){this.hkc=h;}Object.defineProperty(b,"__esModule",{value:!0});b.aua=b.Wta=b.Vta=void 0;r=a(5163);g=a(22674);e=a(36258);f=a(31149);l=a(36129);d.prototype.validate=function(h){h.map(this.hkc.validate);};a=d;b.Vta=a;b.Vta=a=r.__decorate([(0,g.W)(),r.__param(0,(0,g.l)(e.v1a))],a);n.prototype.validate=function(h){this.fkc.validate(h.data);};a=n;b.Wta=a;b.Wta=a=r.__decorate([(0,g.W)(),r.__param(0,(0,g.l)(e.r1a))],a);c.prototype.validate=function(h){var k;h.Ea && "string" === typeof h.Ea?h.href && "string" === typeof h.href?h.ZU && "string" === typeof h.ZU || (k="ProfileId value is corrupted."):k="Href value is corrupted.":k="Xid value is corrupted.";if(k)throw new f.ke(l.Y.RE,l.T.Y8,void 0,void 0,void 0,k,void 0,h.Ea);};e=c;b.aua=e;b.aua=e=r.__decorate([(0,g.W)()],e);},77334:function(r,b,a){var n,d,g,e,f,l;function c(h,k){h=d.zf.call(this,h,"PlaydataConfigImpl") || this;h.config=k;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.Aua=void 0;r=a(5163);n=a(22674);d=a(64174);g=a(83767);e=a(12501);f=a(5021);a=a(34231);Ha(c,d.zf);Ga.Object.defineProperties(c.prototype,{BN:{configurable:!0,enumerable:!0,get:function(){return this.config.aD?"unsentplaydatatest":"unsentplaydata";}},cPa:{configurable:!0,enumerable:!0,get:function(){return !0;}},Bub:{configurable:!0,enumerable:!0,get:function(){return (0,f.bc)(1E4);}},vMa:{configurable:!0,enumerable:!0,get:function(){return (0,f.bc)(4E3);}},alb:{configurable:!0,enumerable:!0,get:function(){return (0,f.DKa)(1);}},blb:{configurable:!0,enumerable:!0,get:function(){return (0,f.Ch)(30);}}});l=c;b.Aua=l;r.__decorate([e.config(e.string,"playdataPersistKey")],l.prototype,"BN",null);r.__decorate([e.config(e.xd,"sendPersistedPlaydata")],l.prototype,"cPa",null);r.__decorate([e.config(e.ol,"playdataSendDelayMilliseconds")],l.prototype,"Bub",null);r.__decorate([e.config(e.ol,"playdataPersistIntervalMilliseconds")],l.prototype,"vMa",null);r.__decorate([e.config(e.ol,"heartbeatCooldown")],l.prototype,"alb",null);r.__decorate([e.config(e.ol,"keepAliveWindow")],l.prototype,"blb",null);b.Aua=l=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.Tn)),r.__param(1,(0,n.l)(a.Fq))],l);},58343:function(r,b,a){var n,d;function c(g,e){var f;f=this;this.rj=g;this.Ph=e;this.addEventListener=function(l,h,k){return f.Ph.addListener(l,f.zcb(l,h),k);};this.removeEventListener=function(l,h){return f.Ph.removeListener(l,f.zcb(l,h));};this.getReady=function(){return f.Ph.Sp();};this.getXid=function(){return f.Ab().Dx();};this.getPlaybackContextId=function(){return f.Ab().khb();};this.getMovieId=function(){return f.Ab().ahb();};this.getPlaygraphId=function(){return f.Ph.l7b();};this.getElement=function(){return f.Ph.Lp();};this.isPlaying=function(){return f.Ab().bH();};this.isPaused=function(){return f.Ab().Rx();};this.isMuted=function(){return f.Ab().kIa();};this.isReady=function(){return f.Ab().Sp();};this.isBackground=function(){return f.Ab().dkb();};this.setBackground=function(l){return f.Ab().oPa(l);};this.startInactivityMonitor=function(){return f.Ab().TV();};this.setTransitionTime=function(l){return f.Ab().LPa(l);};this.getDiagnostics=function(){return f.Ab().mgb();};this.getTextTrackList=function(l){return f.Ab().CGa(l);};this.getMaxRecommendedTextIndex=function(l){return f.Ab().VFa(l);};this.getTextTrack=function(){return f.Ab().BGa();};this.setTextTrack=function(l){return f.Ab().om(l);};this.getVolume=function(){return f.Ab().gib();};this.isEnded=function(){return f.Ab().dIa();};this.getBusy=function(){return f.Ab().Ei();};this.getError=function(){return f.Ab().getError();};this.getCurrentTime=function(){return f.Ab().xG();};this.getAdManager=function(){return f.Ab().kr();};this.getLivePlaybackManager=function(){var l;l=f.Ab().Yl();(0,d.oa)(l,"Unexpected call to getLivePlaybackManager()");if(l.fa && !l.Gsc())return {seekToLiveEdge:function(){return l.wla();},isAtLiveEdge:function(){return l.vD();},getLiveEventState:function(){return l.BG();},isLiveEventEnded:function(){return l.H3();}};};this.getBufferedTime=function(){return f.Ab().Wfb();};this.getSegmentTime=function(){return f.Ab().sfa();};this.getDuration=function(){return f.Ab().$L();};this.getVideoSize=function(){return f.Ab().eib();};this.getAudioTrackList=function(){return f.Ab().Ofb();};this.getMaxRecommendedAudioIndex=function(){return f.Ab().Ugb();};this.getAudioTrack=function(){return f.Ab().Nfb();};this.getTimedTextTrackList=function(l){return f.Ab().CGa(l);};this.getMaxRecommendedTimedTextIndex=function(l){return f.Ab().VFa(l);};this.getTimedTextTrack=function(){return f.Ab().BGa();};this.getAdditionalLogInfo=function(){return f.Ab().Mfb();};this.getTrickPlayFrame=function(l){return f.Ab().aib(l);};this.getSessionSummary=function(){return f.Ab().sGa();};this.getTimedTextSettings=function(){return f.Ab().T2();};this.setMuted=function(l){return f.Ab().evb(l);};this.setVolume=function(l){return f.Ab().uvb(l);};this.getPlaybackRate=function(){return f.Ab().aT();};this.getTimeCodes=function(){return f.Ab().Yhb();};this.setPlaybackRate=function(l){return f.Ab().Ila(l);};this.setAudioTrack=function(l){return f.Ab().eu(l);};this.setTimedTextTrack=function(l){return f.Ab().om(l);};this.setTimedTextSettings=function(l){return f.Ab().KV(l);};this.prepare=function(){return f.Ab().LN();};this.load=function(){return f.Ab().load();};this.close=function(l){return f.C9a(f.Ph.close(),l);};this.play=function(){return f.Ab().play();};this.pause=function(){return f.Ab().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(l,h){return f.C9a(f.Ab().pS(l),h);};this.induceError=function(l){return f.Ab().xjb(l);};this.loadCustomTimedTextTrack=function(l,h,k,m){return f.Ab().fmb(l,h,k,m);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return f.Ab().tfa();};this.generateScreenshots=function(l){return f.Ab().Ffb(l);};this.getCurrentSegmentId=function(){return f.Ph.jgb();};this.getPlaygraphMap=function(){return f.Ph.jM();};this.updatePlaygraphMap=function(l){return f.Ph.LI(l);};this.ZDa=new Map();this.log=(0,n.jl)("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.Caa=void 0;n=a(31276);a(24550);d=a(45146);c.prototype.Ab=function(){return this.Ph.Ab();};c.prototype.zcb=function(g,e){var f;this.ZDa.has(g) || this.ZDa.set(g,new Map());f=this.ZDa.get(g);f.has(e) || f.set(e,this.UYb(g,e));return f.get(e);};c.prototype.UYb=function(g,e){var f;f=this;return function(l){return e(Object.assign({},l,{type:g,target:f}));};};c.prototype.C9a=function(g,e){return e?g.then(e,e):g;};b.Caa=c;},64059:function(r,b,a){var n;function c(d,g,e){var f;f=n.Caa.call(this,d,g) || this;f.seek=function(l){return f.Ab().seek(l);};f.addEpisode=function(l){return f.XIa.bOb(l);};f.playNextEpisode=function(l){l=void 0 === l?{}:l;return f.XIa.Dkc(l);};f.watchCredits=function(l){return f.XIa.Myc(l);};f.playSegment=function(l){return f.Ab().Qqb(l);};f.queueSegment=function(l){return f.Ab().bsb(l);};f.updateNextSegmentWeights=function(l,h){return f.Ab().dk(l,h);};f.setNextSegment=function(l){for(var h=[],k=0;k < arguments.length;++k)h[k - 0]=arguments[k];h=h.map(function(m){return {L:m.segmentId,oU:m.nextSegmentId};});f.Ph.wl.apply(f.Ph,xa(h));};f.clearNextSegment=function(l){for(var h=[],k=0;k < arguments.length;++k)h[k - 0]=arguments[k];return f.Ph.STb.apply(f.Ph,xa(h));};f.goToNextSegment=function(l,h){return f.Ph.OGa(l,h);};f.getPlaying=function(){return f.isPlaying();};f.getPaused=function(){return f.isPaused();};f.getMuted=function(){return f.isMuted();};f.getEnded=function(){return f.isEnded();};f.getTimedTextVisibility=function(){return f.isTimedTextVisible();};f.isTimedTextVisible=function(){return !!f.Ab().T2().visibility;};f.setTimedTextVisibility=function(l){return f.setTimedTextVisible(l);};f.setTimedTextSize=function(l){return f.Ab().KV({size:l});};f.setTimedTextBounds=function(l){return f.Ab().KV({bounds:l});};f.setTimedTextMargins=function(l){return f.Ab().KV({margins:l});};f.setTimedTextVisible=function(l){return f.Ab().KV({visibility:l});};f.getCongestionInfo=function(l){l && l({success:!1,name:null,isCongested:null});};f.XIa=e(d,g,f.log);return f;}b.T8=void 0;n=a(58343);Ha(c,n.Caa);b.T8=c;},59219:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x;function c(z){var y,A;y=this;this.gka=new w.yua();this.createPlaygraphPlayer=function(B,C,D){var E;B=v.Hua.encode(B);E=g.La.get(q.bQ);D=D?E.create(D):void 0;E=g.La.get(k.Lua).create(B);return E.QXb(B.Cf,y.gka.NJa(y.Z9a(C,E.wfa())),D);};this.closeAllPlayers=function(B){B=void 0 === B?function(){}:B;(0,d.L1a)(B);};this.init=function(B){y.JF.g4(function(C){C.ta?y.Oqc().catch(function(D){g.log.error("Unable to initialize the playdata services",D);}).then(function(){Object.assign(y,c.gR);B(Object.assign({success:!0},c.gR));}):B({success:!1,error:(0,g.X1a)(C.errorCode || f.Y.Iqa,C)});});};this.applyConfig=function(B){y.Gyb(B);(0,n.FBa)(B);};this.prepare=function(B,C){var D;B=y.rrb.HZb(B) || [];D=new Set();B=B.filter(function(E){var F;F=D.has(E.P);D.add(E.P);return !F && (!y.lH.srb() || E.dha);});if(n.config.Nv && y.Nd && 0 < B.length)try{y.Nd.LN(B,C);}catch(E){g.log.warn("Prepare call failed",E);}};this.ppmUpdate=function(B){y.lH.srb() || (Ba._cad_global.playerPredictionModel?(B=y.rrb.JZb(B)) && Ba._cad_global.playerPredictionModel.update(B):g.log.error("ppmUpdate called but there is no ppmModel"));};this.supportsHdr=function(B){(0,g.TS)().y7().then(function(C){return B(C.result);}).catch(function(){return B(!1);});};this.supportsUltraHd=function(B){(0,g.TS)().z7().then(B).catch(function(){return B(!1);});};this.supportsDolbyAtmos=function(B){(0,g.TS)().x7().then(B).catch(function(){return B(!1);});};this.supportsDolbyVision=function(B){(0,g.TS)().qma().then(function(C){return B(C.result);}).catch(function(){return B(!1);});};this.supportsDolby51=function(B){(0,g.TS)().pma().then(B).catch(function(){return B(!1);});};this.close=function(){};this.isSeamlessEnabled=function(){return n.config.J0b;};this.lnaMessage=function(B){y.lH.kmc(B);};this.Gyb(z);g.La.get(t.qTa);this.rrb=g.La.get(e.C1a);this.JF=g.La.get(p.xj);this.lH=g.La.get(x.h$);A=g.La.get(u.A1a).apply();(0,n.DUb)([z],A);this.Nd=g.La.get(m.UJ);(0,g.TS)().z7();}Object.defineProperty(b,"__esModule",{value:!0});b.VJ=void 0;n=a(29204);d=a(13044);g=a(31276);e=a(68976);f=a(36129);l=a(83767);h=a(96687);k=a(58252);m=a(66476);p=a(11479);v=a(79048);q=a(17398);u=a(52033);t=a(13847);w=a(81889);x=a(6823);c.prototype.Z9a=function(z,y){var A,B,C,D;z=void 0 === z?{}:z;D=null !== (B=null === (A=z.playbackState) || void 0 === A?void 0:A.currentTime) && void 0 !== B?B:y.rb;return Object.assign(Object.assign({startPts:D,uiPlayStartTime:Date.now()},z),{endPts:null !== (C=y.yb) && void 0 !== C?C:void 0,isPlaygraph:!0});};c.prototype.Gyb=function(z){g.La.get(l.uJ).sfc(z);};c.prototype.Oqc=function(){g.La.get(h.gZ)().catch(function(z){g.log.error("Unable to initialize the playdata services",z);throw z;}).then(function(z){return z.send(Infinity);}).catch(function(z){g.log.error("Unable to send deferred playdata",z);});return Promise.resolve();};b.VJ=c;c.gR={};},17925:function(r,b,a){var n,d,g,e,f,l;function c(h){var k;k=g.VJ.call(this,h) || this;k.createPlayer=function(m,p){var v,q,u;p=void 0 === p?{}:p;p="number" === typeof p?{Bl:p}:p;v=n.La.get(d.iZ);q=n.La.get(f.bQ).create(p.manifest);u=n.La.get(e.Rua);m=v.OXb(m);v=n.La.get(l.Lua).create(m);m=v.wfa();u=u.$bb(v);u.addEpisode({movieId:m.N,playbackParams:k.Z9a(p,m),manifest:q});return u;};return k;}Object.defineProperty(b,"__esModule",{value:!0});b.A5a=void 0;n=a(31276);d=a(75864);g=a(59219);e=a(32050);f=a(17398);l=a(58252);Ha(c,g.VJ);b.A5a=c;},41325:function(r,b,a){var c,n,d,g,e,f,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(17925);c=a(29204);n=a(13044);b=a(87386);d=a(31276);g=a(45118);e=a(36410);f=a(45146);l=a(32687);Ba.netflix=Ba.netflix || ({});(0,f.oa)(!Ba.netflix.player);Ba.netflix.player={VideoSession:r.A5a,diag:{togglePanel:function(h,k){var m;m=[];if(!c.config || c.config.k6){switch(h){case "info":m=n.Nn.map(function(p){return p.dka;});break;case "streams":m=n.Nn.map(function(p){return p.hka;});break;case "log":m=[];}m.forEach(function(p){(0,l.Zc)(k)?k?p.show():p.cA():p.toggle();});}},addLogMessageSink:function(h){d.La.get(g.Jn).addListener({hNc:function(){},vfc:function(k){h({data:k.data});}});}},log:(0,d.jl)("Ext"),LogLevel:b.zm,addLogSink:function(h,k){d.La.get(e.$P).Pka(h,k);},getVersion:function(){return "6.0047.439.911";},getMostRecentPlaybackDiagnosticGroups:function(){var h;return null === (h=n.yw.Q4) || void 0 === h?void 0:h.Wcb.t2();}};},61524:function(r,b,a){var c,n,d,g,e,f,l,h,k,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(1481);n=a(59219);d=a(33096);g=a(29204);r=a(36129);e=a(31276);f=a(45146);l=a(3887);h=a(32687);k=a(45118);m=a(31850);a=a(11479);e.La.get(a.xj).register(r.Y.qYa,function(p){var v,q;v=(0,e.jl)("NccpApi");q=(0,l.KPb)(["info","warn","trace","error"]);n.VJ.gR.nccp={getEsn:function(){return c.Pm.Sl;},getPreferredLanguages:function(){return g.config.mt.TMa;},setPreferredLanguages:function(u){(0,f.oa)((0,h.isArray)(u) && (0,h.CT)(u[0]));g.config.mt.TMa=u;},queueLogblob:function(u,t,w){var x;if(u && t)if((t=t.toLowerCase(),q[t])){x=e.La.get(k.Jn);u=e.La.get(m.NB).ht(u,t,w);x.Ec(u);}else v.warn("Invalid severity",{severity:t});},flushLogblobs:function(){e.La.get(k.Jn).flush(!0);}};p(d.Vi);});},42433:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(59219);n=a(1481);d=a(33096);g=a(52569);r=a(36129);e=a(31276);f=a(70834);l=a(45146);h=a(32687);k=a(22365);b=a(11479);m=a(24066);p=a(71501);v=a(97996);q=a(22816);u=a(65630);e.La.get(b.xj).register(r.Y.rYa,function(t){var B;function w(){return n.Pm.Sl;}function x(C){var D;D=e.La.get(p.pQ);e.La.get(v.ZY)().then(function(E){var G,J,N,I;function F(M){var K;K={tokendata:"",signature:""};K.tokendata=(0,e.ex)(M.Lo);K.signature=(0,e.ex)(M.sj);return K;}G=E.lU.Z7b(D);J=G.Mm;N=G.Qb;G=G.uf;I=E.lU.mN.Jf;N && G && J?((0,l.oa)(J),E=["1",(0,e.ex)(JSON.stringify(F(N))),(0,e.ex)(JSON.stringify(F(G)))].join(),C({success:!0,cryptoContext:{cTicket:E,encrypt:function(M,K){M=(0,h.zh)(M)?(0,e.BW)(M):M;J.encrypt(M,I,u.Oy.JSON,{result:function(L){L=(0,e.ex)(L);K({success:!0,mslEncryptionEnvelopeBase64:L});},error:function(L){(0,l.oa)(!1,"Encrypt error: " + L);K({success:!1});}});},decrypt:function(M,K){M=(0,e.Vu)(M);J.decrypt(M,I,{result:function(L){K({success:!0,text:(0,e.m8)(L)});},error:function(L){(0,l.oa)(!1,"Decrypt error: " + L);K({success:!1});}});},hmac:function(M,K){M=(0,h.zh)(M)?(0,e.BW)(M):M;J.sign(M,I,u.Oy.JSON,{result:function(L){K({success:!0,hmacBase64:(0,e.ex)(L)});},error:function(L){(0,l.oa)(!1,"Hmac error: " + L);K({success:!1});}});}}})):((0,l.oa)(!1,"Must login first"),C({success:!1}));});}function z(C,D){var E;E=(0,e.Vu)(C);C=E.subarray(32,48);E=E.subarray(0,32);if(16 != C.length || 32 != E.length)throw Error("Bad shared secret");Promise.all([(0,g.DU)(k.Ol.importKey("raw",C,{name:"AES-CBC"},!1,["encrypt","decrypt"])),(0,g.DU)(k.Ol.importKey("raw",E,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(F){D({success:!0,cryptoContext:y(F[0],F[1])});},function(){D({success:!1});});}function y(C,D){function E(F){F=new f.CX((0,e.Vu)(F));F.Qr();return {iv:F.hsb(),W0b:F.hsb()};}return {encrypt:function(F,G){var J;F=(0,h.zh)(F)?(0,e.BW)(F):F;J=k.XE.getRandomValues(new Uint8Array(16));(0,g.DU)(k.Ol.encrypt({name:"AES-CBC",iv:J},C,F)).then(function(N){var I,M;N=new Uint8Array(N);I=[];M=new f.CX(I);M.jw(2);M.lAb(J);M.lAb(N);N=(0,e.ex)(I);G({success:!0,encryptedDataAsn1Base64:N});},function(N){(0,l.oa)(!1,"Encrypt error: " + N);G({success:!1});});},decrypt:function(F,G){var J;J=E(F);F=J.iv;J=J.W0b;(0,g.DU)(k.Ol.decrypt({name:"AES-CBC",iv:F},C,J)).then(function(N){N=new Uint8Array(N);G({success:!0,text:(0,e.m8)(N)});},function(N){(0,l.oa)(!1,"Decrypt error: " + N);G({success:!1});});},hmac:function(F,G){F=(0,h.zh)(F)?(0,e.BW)(F):F;(0,g.DU)(k.Ol.sign({name:"HMAC",hash:{name:"SHA-256"}},D,F)).then(function(J){J=new Uint8Array(J);G({success:!0,hmacBase64:(0,e.ex)(J)});},function(J){(0,l.oa)(!1,"Hmac error: " + J);G({success:!1});});}};}function A(){return (0,m.Oab)();}B=e.La.get(q.eJ);if(B.hkb || B.D3)c.VJ.gR.mdx={getEsn:w,createCryptoContext:x,createCryptoContextFromSharedSecret:z,getServerEpoch:A};t(d.Vi);});},13777:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p;Object.defineProperty(b,"__esModule",{value:!0});r=a(11479);b=a(36129);c=a(87386);n=a(91581);d=a(15348);g=a(33096);e=a(29204);f=a(31276);l=a(13044);h=a(59219);k=a(62898);m=a(66476);p=a(45118);f.La.get(r.xj).register(b.Y.sYa,function(v){var t,w,x,z;function q(y,A){return void 0 === y || void 0 === A?Promise.reject("Invalid email and/or password"):f.La.get(k.g1a).ef({log:this.log,fAa:{email:y,password:A}},{}).then(function(){});}function u(y){var A;A=f.La.get(m.UJ);return A.Ieb.fetch(y,A);}if(e.config.L1b){t=f.La.get(d.cua);w=f.La.get(n.ws);x=f.La.get(c.kb).fb("Test");z=f.La.get(p.Jn);h.VJ.gR.test={setPboRequestsListener:function(y){return t.Jrc(y);},playbacks:l.Nn,playgraphManager:{isNextSegmentReady:function(y){var A,B;return void 0 !== (null === (B=null === (A=l.Nn.find(function(C){return C.Ea === y;})) || void 0 === A?void 0:A.cb) || void 0 === B?void 0:{lAa:0});},isNextSegmentBuffering:function(y,A){var B,C;return null === (C=null === (B=l.Nn.find(function(D){return D.Ea === y;})) || void 0 === B?void 0:B.cb) || void 0 === C?void 0:C.E2(A).r0;}},live:{isLive:function(y){var A;return null === (A=l.Nn.find(function(B){return B.Ea === y;})) || void 0 === A?void 0:A.zd.fa;},isAtLiveEdge:function(y){var A;return null === (A=l.Nn.find(function(B){return B.Ea === y;})) || void 0 === A?void 0:A.zd.vD();}},device:{esn:Ba._cad_global.device.Sl,esnPrefix:w.er,errorPrefix:w.fv},log:{info:function(y,A){for(var B=[],C=1;C < arguments.length;++C)B[C - 1]=arguments[C];return x.info(y,B);},error:function(y,A){for(var B=[],C=1;C < arguments.length;++C)B[C - 1]=arguments[C];return x.error(y,B);},warn:function(y,A){for(var B=[],C=1;C < arguments.length;++C)B[C - 1]=arguments[C];return x.warn(y,B);},trace:function(y,A){for(var B=[],C=1;C < arguments.length;++C)B[C - 1]=arguments[C];return x.trace(y,B);},log:function(y,A){for(var B=[],C=1;C < arguments.length;++C)B[C - 1]=arguments[C];return x.log(y,B);},debug:function(y,A){for(var B=[],C=1;C < arguments.length;++C)B[C - 1]=arguments[C];return x.debug(y,B);},flush:function(){return z.flush();}},login:q,getManifest:u};}v(g.Vi);});},66093:function(r,b,a){var c,n,d,g,e,f,l,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.xz=void 0;c=a(33096);n=a(29204);r=a(36129);d=a(31276);g=a(22365);e=a(11479);f=a(32687);l=a(59818);h=a(5021);a=d.La.get(e.xj);k=d.La.get(l.aF);a.register(r.Y.hYa,function(m){var u,t;function p(){m(c.Vi);p=c.YE;}function v(w){if(!(w instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(x){if(!(0,f.Bt)(w[x]))throw x + " is not a function";});}function q(){return Promise.resolve().then(function(){var w;w=g.xf.getBattery();if(!(0,f.Bt)(w.then))throw "getBattery did not return a promise";return w;});}u=(0,d.jl)("BatteryManager");b.xz={WBb:"chargingchange",Jgb:function(){return t?t.level:null;},sFa:function(){return t?t.charging:null;},addEventListener:function(w,x){t && t.addEventListener(w,x);},removeEventListener:function(w,x){t && t.removeEventListener(w,x);}};n.config.B0 && (0,f.Bt)(g.xf.getBattery)?k.Zt((0,h.bc)(n.config.x4b),q()).then(function(w){v(w);t=w;}).catch(function(w){u.error("getBattery failed",w);}).then(p):p();});},94886:function(r,b,a){var n,d;function c(){var g,e;g=this;this.Jw={};this.on=function(f,l,h){g.addListener(f,l,h);};this.addListener=function(f,l,h){g.Jw && (g.Jw[f]=g.Jw[f] || new d.O$(!0)).add(l,h);};this.removeListener=function(f,l){g.Jw && g.Jw[f] && g.Jw[f].removeAll(l);};this.AFa=function(f){return g.Jw && g.Jw[f]?g.Jw[f].flatten():[];};e=this;this.Pc=function(f,l,h){var k;if(e.Jw){k=e.AFa(f);for(f={pP:0};f.pP < k.length;(f={pP:f.pP},f.pP++))h?(function(m){return function(){var p;p=k[m.pP];(0,n.Rg)(function(){p(l);});};})(f)():k[f.pP].call(this,l);}};}Object.defineProperty(b,"__esModule",{value:!0});b.Qk=void 0;n=a(32219);d=a(20483);c.prototype.Sg=function(){this.Jw=void 0;};b.Qk=c;},31298:function(r,b,a){var n,d,g;function c(e,f,l,h,k,m,p){this.debug=e;this.config=f;this.platform=l;this.lia=h;this.debug.assert(k && k != d.Y.Kq,"There should always be a specific error code");this.errorCode=k || d.Y.Kq;m && "object" === typeof m?(this.Ja=m.Ja || m.subCode,this.Af=m.Af || m.extCode,this.D1=m.D1 || m.m1,this.tc=m.tc || m.details,this.i1=m.sS,this.Gea=m.Gea || m.KLc || m.QD,this.FL=m.FL || m.data,m.F4 && (this.F4=m.F4),this.w5=m.w5,this.io=m.io,this.method=m.method,this.Hia=m.Hia,this.alert=m.alert,this.mza=m.mza,this.uM=m.uM,!this.tc && this.uM && (this.tc=JSON.stringify(this.uM)),this.de=m.de,this.debug.assert(!this.io || this.io == this.Af)):(this.Ja=m,this.Af=p);this.stack=[this.errorCode];this.Ja?this.stack.push(this.Ja):this.Af && this.stack.push(d.T.Kq);this.Af && this.stack.push(this.Af);this.hea=this.fha?this.w5:this.platform.fv + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.Y1a=void 0;n=a(33096);d=a(36129);g=a(32687);a(3887);c.prototype.gvb=function(e){this.Pkc=e;};c.prototype.toString=function(){var e;e="[PlayerError #" + this.hea + "]";this.tc && (e+=" " + this.tc);this.i1 && (e+=" (CustomMessage: " + this.i1 + ")");return e;};c.prototype.S7=function(){var e,f,l,h;this.i1 && (l=["streaming_error"]);l || this.lia.xx() !== n.v9 || ("80080017" == this.Af && (l=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.Af && (l=["pause_timeout"]));l || this.lia.xx() !== n.Bpa || this.errorCode !== d.Y.jWa && this.errorCode !== d.Y.w9 || (l=["no_cdm","platform_error","plugin_error"]);l || this.errorCode !== d.Y.Gpa || this.Ja !== d.T.Epa || (l=["pause_timeout"]);this.Gea === d.o$.Jc && (this.UAa("2018") || this.UAa("2020")?l=["received_soad"]:this.UAa("5000") && (l=["should_reset_device"]));h=this.G4b();h && (l=[h],this.i1=void 0);if(!l)switch(this.errorCode){case d.Y.D$:case d.Y.S9:case d.Y.OAb:case d.Y.rta:this.Pkc && (l=["pause_timeout"]);break;case d.Y.vYa:case d.Y.wYa:l=this.Ja?["platform_error"]:["multiple_tabs"];break;case d.Y.Jqa:case d.Y.W0a:case d.Y.vta:case d.Y.AHb:l=["platform_error","plugin_error"];break;case d.Y.tta:l=["no_cdm","platform_error","plugin_error"];break;case d.Y.pWa:case d.Y.$E:case d.Y.uta:switch(this.Af){case "FFFFD000":l=["device_needs_service","platform_error"];break;case "48444350":l=["unsupported_output","platform_error"];break;case "00000024":l=["private_mode"];}break;case d.Y.U0a:case d.Y.sta:l=["unsupported_output"];}!l && (0,d.GWa)(this.Ja) && (l=this.Ja == d.T.xY?["geo"]:["internet_connection_problem"]);l || this.errorCode !== d.Y.w9 || this.Ja !== d.T.Vo || "S" !== this.platform.fv || (l=["private_mode"]);if(!l)switch(this.HQa(this.Ja)){case d.T.Iwa:l=["should_upgrade"];break;case d.T.O0a:l=["should_reset_device"];break;case d.T.N0a:l=["should_reload_device"];break;case d.T.M0a:l=["should_exit_device"];break;case d.T.nGb:case d.T.WZa:l=["should_signout_and_signin"];break;case d.T.oGb:l=["internet_connection_problem"];break;case d.T.xVa:l=["platform_error","plugin_error"];break;case d.T.DCb:case d.T.eYa:case d.T.fYa:l=["private_mode"];break;case d.T.Vra:l=["should_reload_with_preferred_locales"];}l=l || [];if(this.fha)(l.push(this.w5,this.D1),this.HQa(this.Ja) === d.T.ota && l.push("incorrect_pin"));else if((l.push(this.platform.fv + this.errorCode),this.Ja))switch(this.HQa(this.Ja)){case d.T.ota:l.push("incorrect_pin");break;default:l.push("" + this.Ja);}l={display:{code:this.hea,text:this.i1},messageIdList:l,alert:this.alert,alertTag:this.mza,preferredAudioLocale:null === (e=this.uM) || void 0 === e?void 0:e.ejb,preferredTextLocale:null === (f=this.uM) || void 0 === f?void 0:f.fjb};this.config().K1b && (l.debugData=this.FL);return l;};c.prototype.HQa=function(e){var f;f=parseInt(e,10);return isNaN(f)?e:f;};c.prototype.UAa=function(e){return ((0,g.dc)(this.Af)?this.Af.toString():(0,g.zh)(this.Af)?this.Af:"").endsWith(e);};c.prototype.G4b=function(){if(this.errorCode === d.Y.GY && (this.Ja === d.T.nta || this.Ja === d.T.L0a))return this.H4b(this.Ja === d.T.nta);};c.prototype.H4b=function(e){var f,l,h,k;h=this.config().browserInfo || ({});k=null === (f=h.os) || void 0 === f?void 0:f.name;f=((null === (l=h.os) || void 0 === l?void 0:l.version) || "").split(".");l=parseInt(f && f[0]);f=parseInt(f && f[1]);switch(k){case "windows":return 6 > l || 6 === l && 1 > f?e?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":e?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > l || 10 === l && 10 > f?e?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":e?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return e?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};Ga.Object.defineProperties(c.prototype,{fha:{configurable:!0,enumerable:!0,get:function(){return !!this.w5 && !!this.D1;}}});b.Y1a=c;},981:function(r,b){function a(c,n){this.kRa=c;this.$z=n;}Object.defineProperty(b,"__esModule",{value:!0});b.P2a=void 0;a.prototype.hsc=function(){this.Gba || (this.Gba=setInterval(this.$z,this.kRa));};a.prototype.Jab=function(){this.Gba && (clearInterval(this.Gba),this.Gba=void 0);};b.P2a=a;},35128:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uaa=void 0;b.ys={kQ:"PRIMARY",yna:"ASSISTIVE",HUa:"COMMENTARY",NONE:"NONE"};b.uaa={assistive:b.ys.yna,closedcaptions:b.ys.yna,directorscommentary:b.ys.HUa,commentary:b.ys.HUa,subtitles:b.ys.kQ,primary:b.ys.kQ,none:b.ys.NONE};},24066:function(r,b,a){var n,d,g,e,f;function c(){return n.Nc.get(g.fd).CD.ia(f.pa);}Object.defineProperty(b,"__esModule",{value:!0});b.$s=function(){return n.Nc.get(g.fd).$b().ia(f.pa);};b.Nab=function(){return n.Nc.get(d.hh).df.ia(f.Jq);};b.XGc=function(){return n.Nc.get(g.fd).CD.ia(f.Jq);};b.WGc=function(){return n.Nc.get(e.LB).$F();};b.aUb=c;b.Oab=function(){return n.Nc.get(d.hh).df.ia(f.pa);};b.YGc=function(){return c();};n=a(83989);d=a(30869);g=a(81918);e=a(62665);f=a(5021);},33096:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bva=b.RY=b.i$=b.HBb=b.CBb=b.EBb=b.FBb=b.mUa=b.BBb=b.DBb=b.lUa=b.GBb=b.LBb=b.JBb=b.KBb=b.IBb=b.pDb=b.oDb=b.nDb=b.DFb=b.FFb=b.EFb=b.AFb=b.CFb=b.BFb=b.qDb=b.Bpa=b.v9=b.KGb=b.YIb=b.UZa=b.vBb=b.uVa=b.hta=b.iQ=b.B$=b.TZa=b.OB=b.uBb=b.$Ta=b.aFb=b.RJb=b.zFb=b.yFb=b.MIb=b.LIb=b.wu=b.Vi=b.K2a=b.YE=void 0;b.XTa=b.YTa=void 0;b.YE=function(){};b.K2a=function(){return !0;};b.Vi={ta:!0};b.wu=1E3;b.LIb=86400;b.MIb=604800;b.yFb=1E4;b.zFb=1E7;b.RJb=1.5;b.aFb=.128;b.$Ta=7.8125;b.uBb=128;b.OB=145152E5;b.TZa=1E5;b.B$="$netflix$player$order";b.iQ=-1;b.hta=1;b.uVa=["en-US"];b.vBb=8;b.UZa=65535;b.YIb=65536;b.KGb=Number.MAX_VALUE;b.v9="playready";b.Bpa="widevine";b.qDb="fps";b.BFb='audio/mp4; codecs="mp4a.40.5"';b.CFb='audio/mp4; codecs="mp4a.40.42"';b.AFb='audio/mp4; codecs="ec-3"';b.EFb='video/mp4; codecs="avc1.640028"';b.FFb='video/mp4; codecs="hev1.2.6.L153.B0"';b.DFb='video/mp4; codecs="dvhe.01000000"';b.nDb="9A04F079-9840-4286-AB92-E65BE0885F95";b.oDb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.pDb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.IBb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.KBb="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.JBb="4E657466-6C69-7846-7261-6D6552617465";b.LBb="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.GBb="mp4a";b.lUa="enca";b.DBb="ec-3";b.BBb="avc1";b.mUa="encv";b.FBb="hvcC";b.EBb="hev1";b.CBb="dvhe";b.HBb="vp09";b.i$=0;b.RY=1;b.bva="position:relative;width:100%;height:100%;overflow:hidden";b.YTa="AAAAJGZ0eXBpc28yAAAAAGlzb21pc28yZGFzaGlzbzZwaWZmAAAAhHV1aWROZXRmbGl4UGlmZlN0cm0hAQAAAAAAAAAEnph8AAAAAACYloAAAAABBq7BRQAAAAAAADQaAAAAAASeVDAAAAAAAAAjXwAAELsAAAAAAAAIKwAACoQxmsddr5Pt+Lrq/zLsOAU/AAAAAAAAHRsAAAOSAAAAAAAAIK0AAAKyAAAAGGZyZWUAAAAAAAAAAAAAAAAAAAAAAAAATXV1aWTi6QKlfkPiQZDaISEYxWQyAAAAAAAAAADesO2iTmV0ZmxpeCBNZWRpYSBMaWJyYXJ5IFZlcnNpb24gODAuMTAuMTcuIAAAAAcebW9vdgAAAHhtdmhkAQAAAAAAAADesO2jAAAAAN6w7aMAmJaAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAr5wc3NoAAAAAJoE8HmYQEKGq5LmW+CIX5UAAAKengIAAAEAAQCUAjwAVwBSAE0ASABFAEEARABFAFIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADAALgAwAC4AMAAiAD4APABEAEEAVABBAD4APABQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsARQBZAEwARQBOAD4AMQA2ADwALwBLAEUAWQBMAEUATgA+ADwAQQBMAEcASQBEAD4AQQBFAFMAQwBUAFIAPAAvAEEATABHAEkARAA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsASQBEAD4AQQBBAEEAQQBBAE8AYwBHAHkAeQA0AEEAQQBBAEEAQQBBAEEAQQBBAEEAQQA9AD0APAAvAEsASQBEAD4APABDAEgARQBDAEsAUwBVAE0APgBvAE8ARwBWAHcAUwB0AGYAcABvAHMAPQA8AC8AQwBIAEUAQwBLAFMAVQBNAD4APABDAFUAUwBUAE8ATQBBAFQAVABSAEkAQgBVAFQARQBTAD4APABMAGkAdAB0AGwAZQBFAG4AZABpAGEAbgBLAEkARAA+AHQAcgB1AGUAPAAvAEwAaQB0AHQAbABlAEUAbgBkAGkAYQBuAEsASQBEAD4APAAvAEMAVQBTAFQATwBNAEEAVABUAFIASQBCAFUAVABFAFMAPgA8AC8ARABBAFQAQQA+ADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AAAAAExwc3NoAAAAAClwH+Q8x0o0jFuukMdDmkcAAAAsAAAABAAAAAAG5y7LEQCZXm+LFtZ8GJ3qeQbAI/HmYiUnLTrYNjnKW2j/oyoAAAA0cHNzaAAAAADt74upedZKzqPIJ9zVHSHtAAAAFAgBEhAAAAAABucuywAAAAAAAAAAAAADJHRyYWsAAABodGtoZAEAAAcAAAAA3rDtowAAAADesO2jAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAFAAAAAtAAAAAAACxlZHRzAAAAJGVsc3QBAAAAAAAAAQAAAAEGrsFFAAAAAAAGW5sAAQAAAAACiG1kaWEAAAAsbWRoZAEAAAAAAAAA3rDtowAAAADesO2jAJiWgAAAAAAAAAAAVcQAAAAAADRoZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW8gTWVkaWEgSGFuZGxlcgAAAAIgbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAB4HN0YmwAAAAQc3R0cwAAAAAAAAAAAAAAEGN0dHMAAAAAAAAAAAAAAYRzdHNkAAAAAAAAAAEAAAF0ZW5jdgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAUAAtAASAAAAEgAAAAAAAAAAQpBVkMgQ29kaW5nAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADxhdmNDAU1AH//hACVnTUAf6IAoAt2AiAAAAwAIAAADAYcBAAHH7gAAl/pSYYA8YMRIAQAEaOvssgAAABBwYXNwAAAAAQAAAAEAAAAidXVpZE5ldGZsaXhGcmFtZVJhdGUAAAAAAABdwAPoAAAAYHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABwaWZmAAEAAQAAADhzY2hpAAAAMHV1aWSJdNvOe+dMUYT5cUj5iCVUAAAAAAAAAQgAAAAABucuywAAAAAAAAAAAAAAUHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABjZW5jAAEAAAAAAChzY2hpAAAAIHRlbmMAAAAAAAABCAAAAAAG5y7LAAAAAAAAAAAAAAAQc3RzYwAAAAAAAAAAAAAAFHN0c3oAAAAAAAAAAAAAAAAAAAAQc3RjbwAAAAAAAAAAAAAAPG12ZXgAAAAUbWVoZAEAAAAAAAABBq7BRQAAACB0cmV4AAAAAAAAAAIAAAABAAAAAAAAAAABoQAA";b.XTa="AAAAIGZ0eXBpc282AAAAAWlzbzZkc21zbXNpeGRhc2gAAABJZnJlZUlzb01lZGlhIEZpbGUgUHJvZHVjZWQgd2l0aCBHUEFDIDIuMy1ERVYtcmV2NzMyNC1nYmY2MjljNjllLUhFQUQAAAACyW1vb3YAAABsbXZoZAAAAADh+ZcJ4fmXCQAAu4AAAAAAAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAIddHJhawAAAFx0a2hkAAAAB+H5lKLh+ZcJAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAAAAAAAAAAAAAQAAAAABlW1kaWEAAAAgbWRoZAAAAADh+ZSi4fmXCQAAu4AAAAAAFccAAAAAACVoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAc291bgAAAAFIbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAEMc3RibAAAAKZzdHNkAAAAAAAAAAEAAACWbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAALuAAAAAAAByZXNkcwAAAAADZAAAAARcQBUABhoAAx/QAALzCAVN+UZDIjzA08ngIAAAEkt4gQIEBgtciAIJAggJCAAJ1AGAQARCAAV1AGAwsAGQgAgdcgBgKHACEIAIGQAYCAAABMAK5JYATgAgAASfSwAGAQIAAAAQc3R0cwAAAAAAAAAAAAAAEHN0c2MAAAAAAAAAAAAAABRzdHN6AAAAAAAAAAAAAAAAAAAAEHN0Y28AAAAAAAAAAAAAABpzZ3BkAQAAAHByb2wAAAACAAAAAQABAAAAOG12ZXgAAAAQbWVoZAAAAAAJVBbgAAAAIHRyZXgAAAAAAAAAAQAAAAEAAAQAAAAAAAABAAA=";},77705:function(r,b,a){var c,n,d;Object.defineProperty(b,"__esModule",{value:!0});b.icb=b.FJa=void 0;c=a(45146);n=a(3887);d=a(32687);(function(){var e,f,l;function g(h){(0,c.oa)(void 0 !== e[h]);return e[h];}e={'"':'""',"\r":"","\n":" "};f=/["\r\n]/g;l=/[", ]/;b.icb=function(h){return (0,d.Zc)(h)?(0,d.dc)(h)?h:(0,d.zh)(h)?h.replace(f,g):(0,d.ekb)(h)?h:isNaN(h)?"NaN":"":"";};b.FJa=function(h){var k,m;k=b.icb;m="";(0,n.wh)(h,function(p,v){p=k(p) + "=" + k(v);l.test(p) && (p='"' + p + '"');m=m?m + ("," + p):p;});return m;};})();},45146:function(r,b,a){var d,g,e;function c(){e || (e=d.La.get(g.AB));return e;}function n(f,l){return c().assert(f,l);}Object.defineProperty(b,"__esModule",{value:!0});b.MYb=b.CCa=b.FYb=b.JYb=b.WR=b.W0=b.IYb=b.KYb=b.X0=b.vcb=b.HYb=b.GYb=b.LYb=b.fBb=void 0;b.oa=n;d=a(31276);g=a(90597);b.fBb=function(){n(!1);};b.LYb=!0;e=void 0;b.GYb=function(f,l){return c().TPb(f,l);};b.HYb=function(f,l){return c().UPb(f,l);};b.vcb=function(f,l){return c().rca(f,l);};b.X0=function(f,l){return c().$Pb(f,l);};b.KYb=function(f,l){return c().YPb(f,l);};b.IYb=function(f,l){return c().qca(f,l);};b.W0=function(f,l){return c().WPb(f,l);};b.WR=function(f,l){return c().ZPb(f,l);};b.JYb=function(f,l){return c().XPb(f,l);};b.FYb=function(f,l){return c().SPb(f,l);};b.CCa=function(f,l){return c().VPb(f,l);};b.MYb=function(){return c().iac();};},32219:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rg=function(a){return setTimeout(a,0);};},22894:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZDb=function(a){var d,g,e,f;function c(){if(e)for(var l;l=d.pop();)l(f);}function n(l){e=!0;f=l;c();}d=[];return function(l){d.push(l);g || (g=!0,a(n));c();};};},37509:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.gga=b.rv=b.hga=b.JG=b.Wm=b.ff=void 0;r=a(94886);c=a(32219);n=a(22365);b.ff=new r.Qk();b.Wm=1;b.JG=2;b.hga=3;b.rv=4;b.gga=5;(0,c.Rg)(function(){var g,e,f;function d(l,h){if(e)e.on(l,h);else Ba.addEventListener(l,h);}g=Ba.jQuery;e=g && g(Ba);g=(g=Ba.netflix) && g.cadmium && g.cadmium.addBeforeUnloadHandler;f=n.Vh.hidden;g?g(function(l){b.ff.Pc(b.Wm,l);}):d("beforeunload",function(l){b.ff.Pc(b.Wm,l);});d("keydown",function(l){b.ff.Pc(b.JG,l);});d("resize",function(){b.ff.Pc(b.hga);});n.Vh.addEventListener("visibilitychange",function(){f !== n.Vh.hidden && (f=n.Vh.hidden,b.ff.Pc(b.rv));});});(function(){Ba.addEventListener("error",function(d){b.ff.Pc(b.gga,d);return !0;});})();},52828:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});r=a(36129);c=a(31276);n=a(31701);a=a(11479);c.La.get(a.xj).register(r.Y.jYa,function(d){c.La.get(n.dWa)().then(function(){d({ta:!0});}).catch(function(g){c.log.error("error in initializing indexedDb debug tool",g);d({ta:!0});});});},37353:function(r,b,a){var l,h,k,m,p;function c(v){var q,t;(0,h.X0)(v);if((0,m.zh)(v) && b.xYa.test(v)){q=v.split(".");if(4 === q.length){for(var u=0;u < q.length;u++){t=(0,p.Ck)(q[u]);if(0 > t || !(0,m.dH)(t,0,255) || 1 !== q[u].length && 0 === q[u].indexOf("0"))return;}return v;}}}function n(v){var q;q=0;if(c(v) === v)return (v=v.split("."),q+=(0,p.Ck)(v[0]) << 24,q+=(0,p.Ck)(v[1]) << 16,q+=(0,p.Ck)(v[2]) << 8,q + (0,p.Ck)(v[3]));}function d(v){var q,u;(0,h.X0)(v);if((0,m.zh)(v) && v.match(b.yYa)){q=v.split(":");-1 !== q[q.length - 1].indexOf(".") && (v=g(q[q.length - 1]),q.pop(),q.push(v[0]),q.push(v[1]),v=q.join(":"));v=v.split("::");if(!(2 < v.length || 1 === v.length && 8 !== q.length) && (q=1 < v.length?e(v):q,v=q.length,8 === v)){for(;v--;){u=parseInt(q[v],16);if(!(0,m.dH)(u,0,l.UZa))return;}return q.join(":");}}}function g(v){var q;v=n(v) >>> 0;q=[];q.push((v >>> 16 & 65535).toString(16));q.push((v & 65535).toString(16));return q;}function e(v){var q,u,t;q=v[0].split(":");v=v[1].split(":");1 === q.length && "" === q[0] && (q=[]);1 === v.length && "" === v[0] && (v=[]);u=8 - (q.length + v.length);if(1 > u)return [];for(t=0;t < u;t++)q.push("0");for(t=0;t < v.length;t++)q.push(v[t]);return q;}function f(v){return -1 << 32 - v;}Object.defineProperty(b,"__esModule",{value:!0});b.tJ=b.yYa=b.xYa=void 0;b.sCc=c;b.oCc=n;b.tCc=d;b.qCc=g;b.rCc=e;b.uCc=function(v,q,u){var t,w,x,z;t=c(v);w=d(v);x=c(q);z=d(q);if(!t && !w || !x && !z || t && !x || w && !z)return !1;if(v === t)return (u=f(u),(n(v) & u) !== (n(q) & u)?!1:!0);if(v === w){v=v.split(":");q=q.split(":");for(t=(0,k.cQ)(u / b.tJ.length);t--;)if(v[t] !== q[t])return !1;u%=b.tJ.length;if(0 !== u)for((v=parseInt(v[t],16).toString(2),q=parseInt(q[t],16).toString(2),v=b.tJ.substring(0,b.tJ.length - v.length) + v,q=b.tJ.substring(0,b.tJ.length - q.length) + q,t=0);t < u;t++)if(v[t] !== q[t])return !1;return !0;}return !1;};b.pCc=f;l=a(33096);h=a(45146);k=a(22365);m=a(32687);p=a(3887);b.xYa=/^[0-9.]*$/;b.yYa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.tJ="0000000000000000";},32687:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Bt=b.ekb=b.CT=b.zh=b.BIa=b.Mac=b.vac=b.sIa=b.dH=b.pkb=b.dc=b.O3=b.isArray=b.Ikb=b.Qx=b.Zc=b.is=void 0;r=a(76564);b.is=r.vJ;b.Zc=function(c){return b.is.vh(c);};b.Qx=function(c){return b.is.W_(c);};b.Ikb=function(c){return b.is.Gya(c);};b.isArray=function(c){return b.is.QK(c);};b.O3=function(c){return b.is.p9a(c);};b.dc=function(c,n,d){return b.is.Im(c,n,d);};b.pkb=function(c,n,d){return b.is.rza(c,n,d);};b.dH=function(c,n,d){return b.is.X_(c,n,d);};b.sIa=function(c){return b.is.B_(c);};b.vac=function(c){return b.is.vNb(c);};b.Mac=function(c){return b.is.wNb(c);};b.BIa=function(c){return b.is.q9a(c);};b.zh=function(c){return b.is.Js(c);};b.CT=function(c){return b.is.Ks(c);};b.ekb=function(c){return b.is.Hba(c);};b.Bt=function(c){return b.is.Jba(c);};},2734:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(31276);b=a(36410);a=a(34126);r.La.get(b.$P).Pka(a.Ora.hCb,function(c){var n,d;n=c.level;if(!Ba._cad_global.config || n <= Ba._cad_global.config.Rdc){c=c.Cma();d=Ba.console;1 >= n?d.error(c):2 >= n?d.warn(c):d.log(c);}});},73100:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(29204);a(33096);r=a(31276);a(36410);a(34126);a(36129);a(45842);a(5021);a=a(11479);r.La.get(a.xj);!1;},8825:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.UB=void 0;b.yDc=function(n,d,g,e,f){return (n - d) * (f - e) / (g - d) + e;};b.Ui=function(n){if((0,c.dc)(n))return (n / 1E3).toFixed(3);};c=a(32687);b.UB=b.UB || (function(n,d,g){return n >= d?n <= g?n:g:d;});},87051:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.$Ec=function(d,g,e){for(e=(e - d.length) / g.length;0 < e--;)d+=g;return d;};b.YEc=function(d,g,e){e=(0,c.zh)(e)?e:"...";return d.length <= g?d:d.substr(0,d.length - (d.length + e.length - g)) + e;};b.ZEc=function(d,g){var f;for(var e=1;e < arguments.length;++e);f=n.slice.call(arguments,1);return d.replace(/{(\d+)}/g,function(l,h){return "undefined" != typeof f[h]?f[h]:l;});};b.aFc=function(d){for(var g=d.length,e=new Uint16Array(g),f=0;f < g;f++)e[f]=d.charCodeAt(f);return e.buffer;};b.kOc=function(d){var g;g=new Uint8Array(d.length);Array.prototype.forEach.call(d,function(e,f){g[f]=e.charCodeAt(0);});return g;};c=a(32687);n=a(22365);},52569:function(r,b,a){var l,h,k,m,p,v;function c(){var q,u;if(q=b.Sfa.B7a)return q;q=m.s$.search.substr(1);u=q.indexOf("#");0 <= u && (q=q.substr(0,u));q=n(q);return b.Sfa.B7a=q;}function n(q){for(var u=/[+]/g,t=(q || "").split("&"),w={},x,z=0;z < t.length;z++)(q=(0,k.trim)(t[z]),x=q.indexOf("="),0 <= x?w[decodeURIComponent(q.substr(0,x).replace(u,"%20")).toLowerCase()]=decodeURIComponent(q.substr(x + 1).replace(u,"%20")):w[q.toLowerCase()]=null);return w;}function d(q){return (q=(/function (.{1,})\(/).exec(q.toString())) && 1 < q.length?q[1]:"";}function g(q){return d(q.constructor);}function e(q){return m.sort.call(q,function(u,t){return u - t;});}function f(q){for(var u=0,t=q.length;t--;)u+=q[t];return u;}Object.defineProperty(b,"__esModule",{value:!0});b.Zea=b.createElement=b.N0=b.Sfa=b.VF=void 0;b.sUb=function(q,u){if(q === u)return !0;if(!q || !u)return !1;for(var t in q)if(q.hasOwnProperty(t) && (!u.hasOwnProperty(t) || q[t] !== u[t]))return !1;return !0;};b.CMc=function(q){var u;if(q){u=q.length;if(u)return (u=(0,k.Xmc)(0,u - 1),q[u]);}};b.SUb=function(q,u){if(q.length != u.length)return !1;q.sort();u.sort();for(var t=q.length;t--;)if(q[t] !== u[t])return !1;return !0;};b.DOb=function(q,u,t){function w(){q.removeEventListener(u,w);t.apply(this,arguments);}q.addEventListener(u,w);};b.$mc=function(){var q,u,t,w,x,z;q=m.Vh.cookie.split("; ");u=q.length;x={};for(t=0;t < u;t++)if(w=(0,k.trim)(q[t])){z=w.indexOf("=");0 < z && (x[w.substr(0,z)]=w.substr(z + 1));}return x;};b.xJc=c;b.Lja=n;b.getFunctionName=d;b.fgb=g;b.apb=function(q){var u;u="";(0,p.isArray)(q) || (0,p.O3)(q)?u=m.reduce.call(q,function(t,w){return t + (32 <= w && 128 > w?(0,m.m4a)(w):".");},""):(0,p.zh)(q)?u=q:(0,k.wh)(q,function(t,w){u+=(u?", ":"") + "{" + t + ": " + ((0,p.Bt)(w)?d(w) || "function":w) + "}";});return "[" + g(q) + " " + u + "]";};b.tMc=function(q,u){q.firstChild?q.insertBefore(u,q.firstChild):q.appendChild(u);};b.dKc=function(q,u){var t;t=q[0];if(u <= t[0])return t.slice(1);for(var w=1,x;x=q[w++];){if(u <= x[0]){q=(u - t[0]) / (x[0] - t[0]);u=[];for(w=1;w < t.length;w++)u.push((t[w] || 0) + q * ((x[w] || 0) - (t[w] || 0)));return u;}t=x;}return t.slice(1);};b.Wzc=function(q,u){var x;for(var t={},w=0;w < u.length;w++){x=u[w];if("string" != typeof x && "number" != typeof x)return !1;t[u[w]]=1;}for(w=0;w < q.length;w++)if((x=q[w],!t[x]))return !1;return !0;};b.aoa=e;b.Yzc=f;b.O8=function(q,u){var t,w,x,z;t=-1;w=q.length;if(1 === arguments.length){for(;++t < w && !(null != (x=q[t]) && x <= x);)x=void 0;for(;++t < w;)null != (z=q[t]) && z > x && (x=z);}else {for(;++t < w && !(null != (x=u.call(q,q[t],t)) && x <= x);)x=void 0;for(;++t < w;)null != (z=u.call(q,q[t],t)) && z > x && (x=z);}return x;};b.Xzc=function(q,u){var t,w,x,z;t=-1;w=q.length;if(1 === arguments.length){for(;++t < w && !(null != (x=q[t]) && x <= x);)x=void 0;for(;++t < w;)null != (z=q[t]) && x > z && (x=z);}else {for(;++t < w && !(null != (x=u.call(q,q[t],t)) && x <= x);)x=void 0;for(;++t < w;)null != (z=u.call(q,q[t],t)) && x > z && (x=z);}return x;};b.DU=function(q){return (0,p.Bt)(q.then)?q:new Promise(function(u,t){q.oncomplete=function(){u(q.result);};q.onerror=function(){t(q.error);};});};b.BIc=function(q,u){var w,x,z,y,A,B;function t(C){0 > w.indexOf(C) && (0,p.dc)(C) && w.push(C);}q=q.slice();e(q);w=[];if(!u || !u.length)return q;if(!q.length)return [];x=u.length;try{for(;x--;){y="" + u[x];A=(0,k.Ck)(y);switch(y[y.length - 1]){case "-":for(z=q.length;z--;){B=q[z];if(B < A){t(B);break;}}break;case "+":for(z=0;z < q.length;z++)if((B=q[z],B > A)){t(B);break;}break;default:0 <= q.indexOf(A) && t(A);}}}catch(C){}w.length || w.push(q[0]);e(w);return w;};b.dHc=function(q,u,t){for(var w=[],x=0;x < u;x++)w.push((0,m.i_a)(q[x] - t,2));return (0,m.j_a)(f(w) / w.length);};b.w0=function(q,u){var t;t=q.length;u=(t - 1) * u + 1;if(1 === u)return q[0];if(u == t)return q[t - 1];t=(0,m.cQ)(u);return q[t - 1] + (u - t) * (q[t] - q[t - 1]);};b.JIc=function(q,u){if(!(0,p.isArray)(q))throw Error("boxes is not an array");if(0 >= q.length)throw Error("There are no boxes in boxes");u=(0,p.isArray)(u)?u:[u];for(var t=q.length,w=0;w < t;w++)for(var x=0;x < u.length;x++)if(q[w].type == u[x])return q[w];throw Error("Box not found " + u);};b.zAc=function(q){return q.$4b("trak/mdia/minf/stbl/stsd/" + l.lUa + "|" + l.mUa).children.filter(function(u){return "sinf" == u.type && u.GIc.schm.WMc == v.Fy;})[0].$4b("schi/tenc").so;};b.yAc=function(q){var t;function u(w,x){var z;z=t[w];t[w]=t[x];t[x]=z;}t=new Uint8Array(q);u(0,3);u(1,2);u(4,5);u(6,7);return t;};b.ibc=function(){return (0,p.Bt)(m.xf.requestMediaKeySystemAccess);};b.nMc=function(q){return function(u){return u && u[q];};};b.Hkb=function(q){return q && 0 == q.toLowerCase().indexOf("https");};b.r5b=function(){var q,u;q=new ArrayBuffer(4);u=new Uint8Array(q);q=new Uint32Array(q);u[0]=161;u[1]=178;u[2]=195;u[3]=212;return 3569595041 == q[0]?"LE":2712847316 == q[0]?"BE":"undefined";};b.bT=function(){var q,u,t;try{q=/playercore.*js/;u=m.Qy.getEntries("resource").filter(function(w){return null !== q.exec(w.name);});if(u && 0 < u.length){t=(0,m.Hq)(u[0].duration);return JSON.stringify(t);}}catch(w){}};b.pMc=function(q,u,t){if(q && q.length){if(t && t.CTb)try{q.forEach(function(w,x){var z;z=(x=t.CTb[x]) && x.media;z && (0,p.zh)(z)?(!1,z=(0,h.Vu)(z).buffer,w.media={arrayBuffer:z,length:z.byteLength,stream:u,Tc:x.cdn}):h.log.warn("chunk not in cache",w.Ah);});}catch(w){h.log.error("error reading cached chunks",w);}else h.log.warn("chunks not available in cached stream",t.type);}else h.log.warn("chunks not available in mediabuffer",t.type);};l=a(33096);h=a(31276);k=a(3887);m=a(22365);p=a(32687);v=a(82100);b.VF=b.VF || (function(q,u){if(q.length == u.length){for(var t=q.length;t--;)if(q[t] != u[t])return !1;return !0;}return !1;});b.Sfa=Object.assign(c,{B7a:void 0});b.N0=b.N0 || (function(q){var u;u="";(0,k.wh)(q,function(t,w){u+=(u?";":"") + t + ":" + w;});return u;});b.createElement=b.createElement || (function(q,u,t,w){var x;x=m.Vh.createElement(q);u && (x.style.cssText=u);t && (x.innerHTML=t);w && (0,k.wh)(w,function(z,y){x.setAttribute(z,y);});return x;});b.Zea=b.Zea || (function(q,u,t){var w;if(q / u > t){w=(0,m.Hq)(u * t);q=u;}else (w=q,q=(0,m.Hq)(q / t));return {width:w,height:q};});(0,p.Bt)(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(q,u){var t,w;void 0 === q && (q=0);void 0 === u && (u=this.byteLength);q=Math.floor(q);u=Math.floor(u);0 > q && (q+=this.byteLength);0 > u && (u+=this.byteLength);q=Math.min(Math.max(0,q),this.byteLength);u=Math.min(Math.max(0,u),this.byteLength);if(0 >= u - q)return new ArrayBuffer(0);t=new ArrayBuffer(u - q);w=new Uint8Array(t);q=new Uint8Array(this,q,u - q);w.set(q);return t;});},3887:function(r,b,a){var c,n,d;Object.defineProperty(b,"__esModule",{value:!0});b.Fg=b.trim=b.lHa=b.Ck=b.Re=b.wh=void 0;b.GSb=function(g,e,f,l){var h;if(g){h=g[e];(0,d.Bt)(h) && (f=h.apply(g,n.slice.call(arguments,3)));}return f;};b.KPb=function(g){for(var e={},f=g.length;f--;)e[g[f]]=!0;return e;};b.fMc=function(g){return (/^true$/i).test(g);};b.Xmc=function(g,e){return (0,n.Hq)(g + (0,n.k$)() * (e - g));};b.tuc=function(g){return JSON.stringify(g,null,"  ");};b.nH=function(g){return Array.isArray(g)?g:[g];};b.$Gc=function(g){var l;for(var e=0;e < arguments.length;++e);e=0;for(var f=arguments.length;e < f;){l=arguments[e++];if((0,d.Zc)(l))return l;}};b.xh=function(g){return (0,d.dc)(g)?g.toFixed(0):void 0;};b.Ip=function(g){return (0,d.dc)(g)?(g / 1E3).toFixed(0):void 0;};b.lHc=function(g){for(var e=[],f=0;f < g.length;f++)e[f]=g[f];return e;};c=a(45146);n=a(22365);d=a(32687);b.wh=function(g,e){for(var f in g)g.hasOwnProperty(f) && e(f,g[f]);};b.Re=b.Re || (function(g,e,f){var l,h,k;if(e)if(f){l=f.q4;h=f.prefix;k=f.xja;(0,b.wh)(e,function(m,p){if(!k || (0,d.Zc)(p))g[(h || "") + (l?m.toLowerCase():m)]=p;});}else (0,b.wh)(e,function(m,p){g[m]=p;});return g;});b.Ck=b.Ck || (function(g){return parseInt(g,10);});b.lHa=(function(){var e,f;function g(l){(0,c.oa)(void 0 !== e[l]);return e[l];}e={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};f=/[&'"<>]/g;return function(l){return l.replace(f,g);};})();b.trim=(function(){var g;g=/^\s+|\s+$/gm;return function(e){return e.replace(g,"");};})();b.Fg=b.Fg || (function(g){var e,f,l;if(g){e=g.stack;f=g.number;l=g.message;l || (l="" + g);e?(g="" + e,0 != g.indexOf(l) && (g=l + "\n" + g)):g=l;f && (g+="\nnumber:" + f);return g;}});},29204:function(r,b,a){var d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A,B;function c(C){return (C=b.config.xwc[n(C)])?C:{};}function n(C){if(C)return 0 <= C.indexOf("billboard")?"billboard":0 <= C.toLowerCase().indexOf("preplay")?"preplay":0 <= C.indexOf("embedded")?"embedded":0 <= C.indexOf("content-sampling")?"content-sampling":0 <= C.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= C.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= C.indexOf("standard")?"standard":0 <= C.indexOf("branching")?"branching":0 <= C.indexOf("live")?"live":C;}Object.defineProperty(b,"__esModule",{value:!0});b.FBa=b.config=void 0;b.DUb=function(C,D){var fa,ba,ca,ia,na,oa,T,Z,aa;function E(R,Y){(0,m.wh)(R,function(ea,ka){(0,v.Bt)(ka)?Y[ea]=ka.call(void 0,Y[ea]):(0,v.Qx)(ka) && (Y[ea]=Y[ea] || ({}),E(ka,Y[ea]));});}function F(R,Y,ea,ka){for(var ha=[],U=3;U < arguments.length;++U)ha[U - 3]=arguments[U];return function(da){(0,v.Zc)(da) && (ea=da);(0,l.oa)((0,v.Bt)(R));return R.apply(void 0,[Y,ea].concat(xa(ha)));};}function G(R){R=R.toLowerCase();ia.hasOwnProperty(R) && (ca[R]=ia[R],na[R]=ia[R]);return R;}function J(R,Y,ea){var ka;R=R.toLowerCase();if(ca.hasOwnProperty(R)){ka=ca[R];try{ka=ea?ea(ka):ka;}catch(ha){ka=void 0;}if(void 0 !== ka)return ka;(0,l.oa)(!1);e.log.error("Invalid configuration value. Name: " + R);}return Y;}function N(R,Y,ea,ka){return J(R,Y,function(ha){(0,v.zh)(ha) && (ha=(0,m.Ck)(ha));if((0,v.pkb)(ha,ea,ka))return ha;});}function I(R,Y,ea,ka){return J(R,Y,function(ha){(0,v.zh)(ha) && (ha=(0,m.Ck)(ha));if((0,v.dH)(ha,ea,ka))return ha;});}function M(R,Y,ea,ka){return J(R,Y,function(ha){(0,v.zh)(ha) && (ha=parseFloat(ha));if((0,v.dc)(ha,ea,ka))return ha;});}function K(R,Y,ea){return J(R,Y,function(ka){if(ea?ea.test(ka):(0,v.zh)(ka))return ka;});}function L(R,Y){return J(R,Y,function(ea){if("true" == ea || !0 === ea)return !0;if("false" == ea || !1 === ea)return !1;});}function H(R,Y){return J(R,Y,function(ea){if((0,v.zh)(ea))return JSON.parse((0,p.t$)(ea));if((0,v.Qx)(ea))return ea;});}function O(R,Y,ea,ka,ha,U){var da;R=R.toLowerCase();ca.hasOwnProperty(R) && (da=ca[R]);if(!(0,v.Zc)(da))return Y;if((0,v.zh)(da))if(da[0] !== ea)da=ka(da);else try{da=JSON.parse((0,p.t$)(da));}catch(la){da=void 0;}if(void 0 === da)return Y;for(R=0;R < ha.length;R++)if(!ha[R](da))return Y;return U?U(da):da;}function P(R,Y,ea,ka,ha){return O(R,Y,"[",function(U){U=U.split("|");for(var da=U.length;da--;)U[da]=(0,m.Ck)(U[da]);return U;},[function(U){return (0,v.isArray)(U) && 0 < U.length;},function(U){for(var da=U.length;da--;)if(!(0,v.dH)(U[da],ea,ka))return !1;return !0;},function(U){return void 0 === ha || U.length >= ha;}]);}function Q(R,Y){return O(R,Y,"[",function(ea){ea=(0,v.isArray)(ea)?ea:ea.split("|");for(var ka=ea.length;ka--;)try{ea[ka]=JSON.parse((0,p.t$)(ea[ka]));}catch(ha){ea=void 0;break;}return ea;},[function(ea){return (0,v.isArray)(ea) && 0 < ea.length;},function(ea){for(var ka=ea.length;ka--;)if(!(0,v.Zc)(ea[ka]) || !(0,v.Qx)(ea[ka]))return !1;return !0;}]);}function S(R,Y){var ea;ea=X(R,[]);return ea && 0 < ea.length?(0,B.Df)(ea):Q(R,Y);}function X(R,Y,ea,ka){return O(R,Y,"[",function(ha){return (0,v.isArray)(ha)?ha:ha.split("|");},[function(ha){return (0,v.isArray)(ha) && 0 < ha.length;},function(ha){for(var U=ha.length;U--;)if(ea?!ea.test(ha[U]):!(0,v.CT)(ha[U]))return !1;return !0;},function(ha){return void 0 === ka || ha.length >= ka;}]);}function W(R,Y,ea){return O(R,Y,"{",function(ka){var ha,da,la;ha={};ka=ka.split(";");for(var U=ka.length;U--;){da=ka[U];la=da.indexOf(":");if(0 >= la)return;ha[da.substring(0,la)]=da.substring(la + 1);}return ha;},[function(ka){return (0,v.Qx)(ka) && 0 < Object.keys(ka).length;},function(ka){if(ea)for(var ha in ka)if(!ea.test(ka[ha]))return !1;return !0;}],function(ka){var ha;ha={};(0,m.Re)(ha,Y);(0,m.Re)(ha,ka);return ha;});}function V(R){var Y;Y=[];(0,m.wh)(R,function(ea,ka){var ha;try{ha="videoapp" === ea.toLowerCase()?"[object object]":JSON.stringify(ka);}catch(U){ha="cantparse";}Y.push(ea + "=" + ha);});return Y.join("\n");}fa=/^[0-9]+[%]?$/;ba=/^[0-9]*$/;na={};oa=e.La.get(f.Fq);T=e.La.get(w.nQ);(function(R){function Y(ea){ea.split(",").forEach(function(ka){var ha;ha=ka.indexOf("=");0 < ha && (ca[ka.substring(0,ha).toLowerCase()]=ka.substring(ha + 1));});}ca={};(0,m.Re)(ca,R);C && C.length && p.forEach.call(C,function(ea){(0,v.zh)(ea)?Y(ea):(0,v.Qx)(ea) && (0,m.Re)(ca,ea,{q4:!0});});ia=(0,m.Re)({},(0,g.Sfa)(),{q4:!0});if(R=(0,g.$mc)().cadmiumconfig)(e.log.info("Config cookie loaded",R),Y(R));if(e.La.get(y.ws).pza || ca.istestaccount)((0,m.Re)(ca,ia),na=ia);})(D);b.config={};Z={R0b:F(L,G("enableXHEAAC"),!1),i0b:F(L,G("enableDDPlus20"),!0),h0b:F(L,G("enableDDPlus"),!0),q1:F(L,G("enableDDPlus51"),!1),r1:F(L,G("enableDDPlusAtmos"),!1),u0b:F(L,G("enableLSSDH"),!0),q0b:F(L,G("enableHEVC"),!1),Ppb:F(L,G("overrideEnableHEVC"),!1),CDa:F(L,G("enableHDR"),!1),Opb:F(L,G("overrideEnableHDR"),!1),Npb:F(L,G("overrideEnableDV"),!1),iS:F(L,G("enableAVCHigh"),T.iS),Lpb:F(L,G("overrideEnableAVCHigh"),!1),yDa:F(L,G("enableAVCHighLive"),T.yDa),Mpb:F(L,G("overrideEnableAVCHighLive"),!0),N0b:F(L,G("enableVP9"),!1),Qpb:F(L,G("overrideEnableVP9"),!1),Y_b:F(L,G("enableAV1"),!1),Jpb:F(L,G("overrideEnableAV1"),!1),Z_b:F(L,G("enableAV1HDR10P"),!1),Kpb:F(L,G("overrideEnableAV1HDR10P"),!1),ljc:F(L,G("overrideEnableXHEAAC"),!1),jjc:F(L,"overrideEnableAllAudioProfiles",!1),kjc:F(L,"overrideEnableAllVideoProfiles",!1),C0b:F(L,G("enablePRK"),!1),j0b:F(L,G("enableDV"),!1),r0b:F(L,G("enableHWDRM"),!1),SHc:F(L,G("disablePlayReady"),!1),t0b:F(L,G("enableImageSubs"),!0),LF:F(S,G("audioProfiles"),T.LF),p0b:F(L,G("enableFullHdForSWDRM"),!1),o0b:F(L,G("enableFullHdForHWDRM"),!1),M0b:F(L,G("enableUHD"),!0),cna:F(I,"videoCapabilityDetectorType",h.hp.BB),Pza:F(I,"audioCapabilityDetectorType",h.yB.BB),fh:F(S,G("videoProfiles"),T.fh),en:F(S,G("liveVideoProfiles"),T.en),d9a:F(S,G("additionalVideoProfiles"),[]),aNb:F(X,G("timedTextProfiles"),T.yy),yy:function(){return Z.aNb().filter(function(R){return R === k.cp.bpa?Z.u0b():R === k.cp.fQ?Z.t0b():!0;});},endpoint:F(L,G("endpoint"),!1),version:F(K,"version","unknown"),s0b:F(L,G("enableHdcp"),!1),Nv:F(L,G("prepareCadmium"),!1),BNb:F(L,G("acceptManifestOnPrepareItemParams"),!0),jlc:F(H,"ppmconfig",{maxNumberTitlesScheduled:1}),t1:F(L,G("enableLdlPrefetch"),!1),Pdb:F(L,G("enableMediaPrefetch"),!1),x0b:F(L,G("enableManifestCache"),!0),vZb:F(L,G("deleteCachedManifestOnPlayback"),!1),uZb:F(L,G("deleteCachedManifestOnCreate"),!1),xZb:F(L,G("deleteOtherManifestCacheOnCreate"),!1),wZb:F(L,G("deleteOtherLdlCacheOnCreate"),!1),kMc:F(I,G("periodicPrepareLogsIntervalMilliseconds"),36E5),Dlc:F(I,G("prepareManifestCacheMaxCount"),50),Blc:F(I,G("prepareLdlCacheMaxCount"),30),vrb:F(I,G("prepareManifestExpiryMilliseconds"),12E5),Clc:F(I,G("prepareLdlExpiryMilliseconds"),78E4),vlc:F(I,G("prefetcherMaxWishlistSize"),10),ulc:F(I,G("prefetcherBudgetInBytes"),Infinity),wlc:F(L,G("prefetcherOverrideItemPriority"),!0),Alc:F(K,G("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),oOc:F(H,"videoApp"),uI:F(H,"storageRules"),K3b:F(L,"ftlEnabled",!0),tHa:F(I,G("imageSubsResolution"),0),n$b:F(I,G("imageSubsMaxBuffer"),T.Jec.ia(x.qw),0),B0:F(L,G("captureBatteryStatus"),!1),x4b:F(I,G("getBatteryApiTimeoutMilliseconds"),5E3),Tp:F(K,G("keySystemId"),T.Tp),glb:F(X,G("keySystemList"),void 0,void 0),pSa:F(L,G("validateKeySystemAccess"),!1),Afc:F(I,G("hdcpGlobalTimeout1"),1E4),Bfc:F(I,G("hdcpGlobalTimeout2"),1E4),wLc:F(I,G("hdcpQueryTimeout1"),1E3),xLc:F(I,G("hdcpQueryTimeout2"),1E3),Cnb:F(I,G("hdcpQueryTimeout2"),100),Cfc:F(L,G("microsoftHwdrmRequiresHevc"),!1),Dfc:F(L,G("microsoftHwdrmRequiresQHD"),!1),Bnb:F(L,G("microsoftClearLeadRequiresSwdrm"),!1),xfc:F(L,G("microsoftEnableDeviceInfo"),!1),yfc:F(L,G("microsoftEnableHardwareInfo"),!1),zfc:F(L,G("microsoftEnableHardwareReset"),!1),y0b:F(L,G("enableMediaCapabilities"),!1),ilc:F(L,G("powerEfficientForVideo"),!1),z0b:F(L,G("enableMediaCapabilitiesSourceBufferCheck"),!1),Ndc:F(L,"logMediaPipelineStatus",!1),k6:F(L,G("renderDomDiagnostics"),!0),qmb:function(){return -1;},NT:F(N,G("logDisplayMaxEntryCount"),T.NT,-1),Rdc:F(N,G("logToConsoleLevel"),-1),yGc:F(N,G("bladerunnerCmdHistorySize"),10),aD:function(){return oa.aD;},nJa:F(L,"logErrorIfEsnNotProvided",!0),PDa:F(L,"enforceSinglePlayback",T.PDa),Eea:F(L,"enforceSingleSession",T.Eea),rBa:F(L,"closeOtherPlaybacks",!0),cQb:F(I,"asyncLoadTimeout",15E3,1),aec:F(I,"mainThreadMonitorPollRate",0),sM:function(){return oa.sM;},wR:function(){return oa.wR;},a8:function(){return oa.a8;},xzb:F(I,G("verbosePlaybackInfoDenominator"),0),Ska:F(L,"renderTimedText",!0),klc:F(L,"preBufferTimedText",!0),b2b:F(L,"fatalOnTimedTextLoadError",!0),iRa:F(W,"timedTextStyleDefaults",{characterSize:"MEDIUM"}),Ama:F(W,"timedTextStyleOverrides",{}),zma:F(W,"timedTextFontFamilyMapping",T.zma || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),jW:F(I,"timedTextSimpleFallbackThreshold",T.jW.ia(x.qw)),Dga:F(X,G("increasedMediumScaleLanguageList"),T.Dga),Ega:F(X,G("increasedSmallScaleLanguageList"),T.Ega),Iha:F(X,G("lessBoldLanguageList"),T.Iha),zCa:F(K,G("customDfxpUrl")),L0b:F(L,G("enableSubtitleTrackerLogging"),!1),Sqc:F(L,G("sendSubtitleQoeLogblobOnMidplay"),!1),PAa:F(P,"cdnIdWhiteList",[]),OAa:F(P,"cdnIdBlackList",[]),PEa:F(K,G("forceAudioTrack")),TEa:F(K,G("forceTimedTextTrack")),Rec:F(I,G("maxRetriesTimedTextDownload"),0),Dvc:F(I,G("timedTextRetryInterval"),8E3),$tc:F(K,"storageType","idb",/^(none|fs|idb|ls)$/),mmb:F(I,"lockExpiration",1E4),Kdc:F(I,"lockRefresh",3E3),TSb:F(L,"captureUnhandledExceptions",!0),m$b:F(L,"ignoreUnhandledExceptionDuringPlayback",!0),Cwc:F(L,"unhandledExceptionsArePlaybackErrors",!1),nyb:F(K,"unhandledExceptionSource",""),Olc:F(L,"preserveLastFrame",!1),Ofc:F(I,"minBufferingTimeInMilliseconds",4E3),zmc:F(I,"progressBackwardsGraceTimeMilliseconds",4E3),Amc:F(I,"progressBackwardsMinPercent",10),jRb:F(K,G("bookmarkIgnoreBeginning"),"0",fa),kRb:F(K,G("bookmarkIgnoreEnd"),"5%",fa),lRb:F(K,G("bookmarkIgnoreEndForBranching"),"60000",fa),YJa:F(I,"maxParallelConnections",3),aOa:F(L,"reportThroughputInLogblobs",!0),qA:F(I,"minAudioMediaRequestDuration",4E3),Mfc:F(I,"minAudioMediaRequestDurationBranching",0),OD:F(I,"minVideoMediaRequestDuration",4E3),Vfc:F(I,"minVideoMediaRequestDurationVariableGOP",0),Ufc:F(I,"minVideoMediaRequestDurationBranching",0),wKa:F(I,"minAudioMediaRequestSizeBytes",0),AKa:F(I,"minVideoMediaRequestSizeBytes",0),C_b:F(L,"droppedFrameRateFilterEnabled",!1),D_b:F(I,"droppedFrameRateFilterMaxObservation",60,10,1E3),F_b:F(function(R,Y,ea,ka,ha,U){return O(R,Y,"[",function(da){da=da.split(";");for(var la=da.length;la--;){da[la]=da[la].split("|");for(var pa=da[la].length;pa--;)da[la][pa]=(0,m.Ck)(da[la][pa]);}return da;},[function(da){return (0,v.isArray)(da) && 0 < da.length;},function(da){for(var la=da.length;la-- && void 0 !== da;){if(!(0,v.isArray)(da[la]))return !1;for(var pa=da[la].length;pa--;)if(!(0,v.dH)(da[la][pa],ea,ka))return !1;}return !0;},function(da){if(void 0 !== ha)for(var la=da.length;la--;)if(ha !== da[la].length)return !1;return !0;},function(da){return void 0 === U || da.length >= U;}]);},"droppedFrameRateFilterPolicy",[[4,15],[8,9],[12,2],[20,1]],void 0,void 0,2,0),E_b:F(I,"droppedFrameRateFilterMinHeight",384),G_b:F(P,"droppedFramesPercentilesList",[]),Efc:F(L,"microsoftScreenSizeFilterEnabled",!1),Zbc:F(L,"keyStatusFilterEnabled",!1),wwc:F(L,"uiLabelFilterEnabled",!0),vwc:F(H,"uiLabelFilter",{}),fZb:F(I,G("defaultVolume"),100,0,100),ZJa:F(I,G("maxPlaybackRate"),2,0,16),Deb:F(L,"fastForwardAds",!1),adb:F(L,"disableVideoRightClickMenu",!1),uia:F(I,"minDecoderBufferMilliseconds",1E3,0,d.OB),KH:F(I,"optimalDecoderBufferMilliseconds",5E3,0,d.OB),KLa:F(I,"optimalDecoderBufferMillisecondsBranching",3E3,0,d.OB),fU:F(I,"minimumTimeBeforeBranchDecision",3E3,0,d.OB),bgc:F(I,"minimumTimeBeforeDelayedSeekToQueuedSegment",500,0,d.OB),JD:F(I,"maxDecoderBufferMilliseconds",T.JD.ia(z.pa),0,d.OB),ycb:F(I,"decoderTimeoutMilliseconds",1E4,1),zob:F(I,"noRenderTimeoutMilliseconds",0),Azb:F(I,"videoGapsTimeoutMilliseconds",500),dkc:F(I,"pauseTimeoutLimitMilliseconds",18E5),zHa:F(I,"inactivityMonitorInterval",3E4,0),ANb:F(P,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),nS:F(L,"enableTrickPlay",!1),NOb:F(P,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),dwc:F(I,"trickPlayHighResolutionBitrateThreshold",1E3),ewc:F(I,"trickPlayHighResolutionThresholdMilliseconds",1E4),hwc:F(M,"trickplayBufferFactor",.5),cwc:F(I,"trickPlayDownloadRetryCount",1),PJa:F(K,"marginPredictor","simple",/^(simple|scale|iqr|percentile|ci)$/),G1b:F(X,"experimentalFilter",["throughput-wssl"]),gBa:F(K,"ciPredictorSource","throughput-ci"),aQa:F(K,"simulationDurationStrategy","default"),LKa:F(K,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),bnb:F(N,"maxIQRSamples",Infinity),Inb:F(N,"minIQRSamples",5),lzb:F(L,"useResourceTimingAPI",!1),k$b:F(L,"ignoreFirstByte",!0),W1b:F(P,"failedDownloadRetryWaitsASE",[200,500,1E3,2E3,4E3]),nda:F(I,"connectTimeoutMilliseconds",8E3,500),UKa:F(I,"noProgressTimeoutMilliseconds",8E3,500),uxb:F(I,"timedTextDownloadRetryCountBeforeCdnSwitch",3),MLc:F(I,"netflixRequestExpiryTimeout",0),Pyc:F(L,"webkitDecodedFrameCountIncorrectlyReported",!1),oma:F(X,G("supportedAudioTrackTypes"),[],void 0,1),Iga:F(I,"initialLogFlushTimeout",5E3),Wqb:F(K,"playdataPersistKey",oa.aD?"unsentplaydatatest":"unsentplaydata"),fNc:F(L,"sendPersistedPlaydata",!0),Jkc:F(I,"playdataPersistIntervalMilliseconds",4E3),mMc:F(I,"playdataSendDelayMilliseconds",1E4),gNc:F(L,"sendPlaydataBackupOnInit",!0),Pdc:F(X,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),Dnb:F(L,"midplayEnabled",!0),sia:F(I,"midplayIntervalMilliseconds",3E5),Enb:F(P,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),ndb:F(I,"downloadReportDenominator",0),r_b:F(I,"downloadReportInterval",3E5),pmb:F(I,"logConfigApplyDenominator",0),x$a:F(W,G("bookmarkByMovieId"),{}),cfa:F(L,G("forceLimitedDurationLicense"),!1),hH:F(I,G("licenseRenewalRequestDelay"),0),Dqb:F(I,G("persistedReleaseDelay"),1E4),NKc:F(L,G("limitedDurationFlagOverride"),void 0),Vtb:F(I,"safariPlayPauseWorkaroundDelay",100),$yc:F(I,"workaroundValueForSeekIssue",1200),HAa:F(L,G("callEndOfStream"),T.HAa),nkc:F(L,"performRewindCheck",!0),d2b:F(L,"fatalOnUnexpectedSeeking",!0),c2b:F(L,"fatalOnUnexpectedSeeked",!0),a2b:F(L,"fatalOnManifestMistmatch",!0),jsc:F(L,G("setVideoElementSize")),YTb:F(L,G("clearVideoSrc"),!0),Kcb:F(I,G("delayPlayPause"),0),l8:F(L,G("useTypescriptEme"),!0),ezb:F(L,G("useEncryptedEvent"),!0),nDa:F(K,G("drmPersistKey"),"unsentDrmData"),Prb:F(L,G("promiseBasedEme"),!1),mhc:F(L,G("nudgeSourceBuffer"),!1),jub:F(N,G("seekDelta"),1),L5:F(L,G("preciseSeeking"),!1),mlc:F(L,G("preciseSeekingOnTwoCoreDevice"),!1),Jcb:F(W,G("delayErrorHandling")),Sl:F(K,"esn",""),Feb:F(K,"fesn",""),G0b:F(L,G("enablePerformanceLogging"),!1),Idb:F(L,G("enableEmeVerboseLogging"),!1),appId:F(K,"appId","",ba),sessionId:F(K,"sessionId","",ba),Y$a:F(K,"cdnProxyUrl"),ufb:F(I,"forceXhrErrorResponseCode",void 0),mt:{JLc:F(K,"mslApiPath","/msl/"),yMc:F(K,"proxyPath",""),lB:F(K,"uiVersion"),Lma:F(K,"uiPlatform"),PGc:function(){return "0";},TMa:F(X,"preferredLanguages",d.uVa,/^[a-zA-Z-]{2,5}$/,1),i3b:F(K,G("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),Muc:F(L,"supportPreviewContentPin",!0),Nuc:F(L,"supportWatermarking",!0),Ssc:F(L,"showAllSubDubTracks",!1),zIc:F(L,G("failOnGuidMismatch"),!1)},Gka:{enabled:F(L,"qcEnabled",!1),hq:F(K,"qcPackageId","")},fw:F(L,"useRangeHeader",!1),w1:F(L,"enableMilestoneEventList",!0),EQb:F(W,"authenticationKeyNames",(0,m.Re)({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),$uc:F(K,"systemKeyWrapFormat"),Lsc:F(L,"shouldSendUserAuthData",!0),fPa:F(L,"sendUserAuthIfRequired",T.fPa),Esc:F(L,"shouldClearUserData",!1),AW:F(L,"usesMsl",!0),ogc:F(L,"mslDeleteStore",!1),qgc:F(L,"mslPersistStore",!0),fVb:F(L,"correctNetworkForShortTitles",!0),Vuc:F(L,"supportsUnequalizedDownloadables",!0),wcb:F(I,G("debugAseDenominator"),100),lca:F(I,"aseAudioBufferSizeBytes",T.lca.ia(x.qw)),pca:F(I,"aseVideoBufferSizeBytes",T.pca.ia(x.qw)),oca:F(I,"aseTextBufferSizeBytes",T.oca.ia(x.qw)),rA:F(I,"minInitVideoBitrate",560),KD:F(I,"maxInitVideoBitrate",Infinity),ND:F(I,"minInitAudioBitrate",0),Gv:F(I,"maxInitAudioBitrate",65535),yq:F(X,"switchableAudioProfiles",["ddplus-5.1-dash","ddplus-5.1hq-dash","ddplus-atmos-dash"]),LO:F(Q,"",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{minInitAudioBitrate:0,maxInitAudioBitrate:65535}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:0,maxInitAudioBitrate:65535}}]),L4:F(I,"minAcceptableVideoBitrate",235),sA:F(I,"minRequiredBuffer",3E4),aq:F(I,"minPrebufSize",7800),xKa:F(I,"minCheckBufferingCompleteInterval",999999),FNa:F(M,"rebufferingFactor",1),Ht:F(I,"maxBufferingTime",2600),iSa:F(L,"useMaxPrebufSize",!0),qH:F(I,"maxPrebufSize",45E3),$Ja:F(I,"maxRebufSize",Infinity),tT:F(Q,"initialBitrateSelectionCurve",null),I7:F(I,"throughputPercentForAudio",15),Zza:F(I,"bandwidthMargin",10),$za:F(L,"bandwidthMarginContinuous",!1),aAa:F(Q,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),IBa:F(I,"conservBandwidthMargin",20),SQa:F(L,"switchConfigBasedOnInSessionTput",!1),KBa:F(I,"conservBandwidthMarginTputThreshold",0),JBa:F(Q,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),A4:F(I,"maxTotalBufferLevelPerSession",0),p1:F(L,"enableCombinedPlaygraphs",!0),jS:F(L,"enableAdPlaygraphs",!0),zea:F(L,"enableLiveAdPlaygraphs",!0),fla:F(L,"retainSbrOnFade",!1),gEa:F(X,"excludedContentPlaygraphIds",[]),xea:F(L,"enableDiscontiguousBuffering",!1),REa:F(P,"forceImmediateTransitionTypeForTitles",[]),QEa:F(I,"forceImmediateTransitionExitZone",0),i8:F(L,"useBufferSizeLimiter",!1),dQa:F(L,"skipBitrateInUpswitch",!1),BSa:F(I,"watermarkLevelForSkipStart",8E3),eHa:F(I,"highStreamRetentionWindow",9E4),yJa:F(I,"lowStreamTransitionWindow",51E4),gHa:F(I,"highStreamRetentionWindowUp",3E5),AJa:F(I,"lowStreamTransitionWindowUp",3E5),fHa:F(I,"highStreamRetentionWindowDown",6E5),zJa:F(I,"lowStreamTransitionWindowDown",0),dHa:F(M,"highStreamInfeasibleBitrateFactor",.5),ED:F(I,"lowestBufForUpswitch",15E3),j4:F(I,"lockPeriodAfterDownswitch",15E3),CJa:F(I,"lowWatermarkLevel",25E3),FD:F(I,"lowestWaterMarkLevel",2E4),DJa:F(L,"lowestWaterMarkLevelBufferRelaxed",!1),G4:F(M,"mediaRate",1),fN:F(I,"maxTrailingBufferLen",1E4),Mza:F(I,"audioBufferTargetAvailableSize",262144),rSa:F(I,"videoBufferTargetAvailableSize",1048576),Pea:F(M,"fastUpswitchFactor",3),sEa:F(M,"fastDownswitchFactor",1),eN:F(I,"maxMediaBufferAllowed",24E4),Ovb:F(L,"simulatePartialBlocks",!0),LBa:F(L,"considerConnectTime",!1),HBa:F(M,"connectTimeMultiplier",1),$ha:F(I,"maxAttemptsOnFailure",40),EDa:F(L,"enableMaxAttemptsOnFailure",!0),dnb:F(I,"maxNetworkErrorsDuringBuffering",20),aia:F(I,"maxBufferingTimeAllowedWithNetworkError",12E4),RN:F(L,"probeServerWhenError",!0),Drb:F(I,"probeRequestTimeoutMilliseconds",8E3),V_:F(L,"allowSwitchback",!0),Crb:F(I,"probeDetailDenominator",100),bia:F(I,"maxDelayToReportFailure",300),kJa:F(I,"locationStatisticsUpdateInterval",6E4),tga:F(I,"headerRequestSize",4096),G1:F(L,"estimateHeaderSize",!1),M4:F(I,"minBufferLenForHeaderDownloading",1E4),jq:F(L,"pipelineEnabled",!1),Xvb:F(I,"socketReceiveBufferSize",0),yca:F(I,"audioSocketReceiveBufferSize",32768),fna:F(I,"videoSocketReceiveBufferSize",65536),bHa:F(I,"headersSocketReceiveBufferSize",32768),xRb:F(I,"bufferLevelNotifyIntervalMs",2E3),b0:F(I,"aseReportDenominator",0),Gza:F(I,"aseReportIntervalMs",3E5),K5:F(I,"prebufferTimeLimit",24E4),pMa:F(I,"penaltyFactorForLongConnectTime",2),vJa:F(I,"longConnectTimeThreshold",200),hza:F(I,"additionalBufferingLongConnectTime",2E3),iza:F(I,"additionalBufferingPerFailure",8E3),a6:F(I,"rebufferCheckDuration",6E4),lS:F(L,"enableOCSideChannel",!0),x$:F(H,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),PCa:F(I,"defaultHeaderCacheSize",4),OCa:F(I,"defaultHeaderCacheDataPrefetchMs",8E3),KKa:F(I,"networkFailureResetWaitMs",2E3),JKa:F(I,"networkFailureAbandonMs",6E4),gia:F(I,"maxThrottledNetworkFailures",3),uma:F(I,"throttledNetworkFailureThresholdMs",200),BJa:F(N,"lowThroughputThreshold",400),fEa:F(L,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),qV:F(L,"requireAudioStreamToEncompassVideo",!0),Odb:F(L,"enableManagerDebugTraces",!1),TLc:F(L,"notifyManifestCacheEom",!1),Zja:F(I,"periodicHistoryPersistMs",3E5),pla:F(I,"saveBitrateMs",18E4),xSa:F(L,"waitForDrmToAppendMedia",!1),OEa:F(L,G("forceAppendHeadersAfterDrm"),!1),f3b:F(L,G("forceAppendEncryptedStreamHeaderFirst"),!0),wgc:F(I,"netIntrStoreWindow",36E3),Rfc:F(I,"minNetIntrDuration",8E3),Y1b:F(I,"fastHistoricBandwidthExpirationTime",10368E3),PQb:F(I,"bandwidthExpirationTime",5184E3),X1b:F(I,"failureExpirationTime",86400),O9b:F(I,"historyTimeOfDayGranularity",4),F1b:F(L,"expandDownloadTime",!1),agc:F(I,"minimumMeasurementTime",500),$fc:F(I,"minimumMeasurementBytes",131072),vvc:F(I,"throughputMeasurementTimeout",2E3),O$b:F(I,"initThroughputMeasureDataSize",262144),M9b:F(I,"historicBandwidthUpdateInterval",2E3),SOa:F(K,"secondThroughputEstimator","none"),l0b:F(X,"enableFilters",("throughput-ewma throughput-sw throughput-sw-fast throughput-iqr throughput-tdigest avtp entropy").split(" ")),p2b:F(H,"filterDefinitionOverrides",{}),$Yb:F(K,"defaultFilter","throughput-ewma"),pqc:F(K,"secondaryFilter","none"),Dcb:F(H,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-sw-fast":{type:"slidingwindow",mw:500},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),IKa:F(L,"needMinimumNetworkConfidence",!0),eAa:F(L,"biasTowardHistoricalThroughput",!0),Vya:F(L,"addHeaderDataToNetworkMonitor",!1),mQa:F(L,"startMonitorOnLoadStart",!1),$Na:F(L,"reportFailedRequestsToNetworkMonitor",!1),WJa:F(N,"maxFastPlayBufferInMs",Infinity),wza:F(L,"appendFirstHeaderOnComplete",!0),PPb:F(K,"ase_stream_selector","optimized"),Qha:F(K,"liveStreamSelectorAlgorithm","livesimple"),rha:F(L,"jointStreamSelectorEnabled",!1),Oca:F(K,"bufferingSelectorAlgorithm","default"),DCa:F(L,"ase_dump_fragments",!1),ECa:F(I,"ase_location_history",0),N9b:F(K,"historicByLocationOrGlobal","timedPerLocation"),blc:F(I,"pollingPeriod",150),Edc:F(I,"loadTimeMs",18E4),vec:F(I,"marginTimeMs",1E4),uFa:F(L,"getDeviceIdFromBindDevice",!1),Uya:F(L,"addFailedLogBlobsToQueue",!0),xwc:{"content-sampling":{Ht:F(I,"contentSamplingMaxBufferingTime",3E3),DV:F(K,"contentSamplingSelectStartingVMAFMethod","fallback"),Mba:F(L,"contentSamplingActivateSelectStartingVMAF",!0),Yx:F(I,"contentSamplingMinStartingVideoVMAF",80),K4:F(I,"contentSamplingMinAcceptableVMAF",70),jN:F(I,"contentSamplingMinAllowedVmaf",60)},billboard:{rA:F(I,"billboardMinInitVideoBitrate",1050),KD:F(I,"billboardMaxInitVideoBitrate",null),aq:F(I,"billboardMinPrebufSize",null),qH:F(I,"billboardMaxPrebufSize",null),Ht:F(I,"billboardMaxBufferingTime",null),FD:F(I,"billboardLowestWaterMarkLevel",6E3),ED:F(I,"billboardLowestBufForUpswitch",25E3),DNc:F(K,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{rA:F(I,"preplayMinInitVideoBitrate",1050),KD:F(I,"preplayMaxInitVideoBitrate",null),aq:F(I,"preplayMinPrebufSize",null),qH:F(I,"preplayMaxPrebufSize",null),Ht:F(I,"preplayMaxBufferingTime",null),FD:F(I,"preplayLowestWaterMarkLevel",6E3),ED:F(I,"preplayLowestBufForUpswitch",25E3)},embedded:{rA:F(I,"embeddedMinInitVideoBitrate",1050),KD:F(I,"embeddedMaxInitVideoBitrate",null),aq:F(I,"embeddedMinPrebufSize",null),qH:F(I,"embeddedMaxPrebufSize",null),Ht:F(I,"embeddedMaxBufferingTime",null),FD:F(I,"embeddedLowestWaterMarkLevel",6E3),ED:F(I,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{rA:F(I,"videoMerchBobHorizontalMinInitVideoBitrate",null),KD:F(I,"videoMerchBobHorizontalMaxInitVideoBitrate",null),aq:F(I,"videoMerchBobHorizontalMinPrebufSize",null),qH:F(I,"videoMerchBobHorizontalMaxPrebufSize",null),Ht:F(I,"videoMerchBobHorizontalMaxBufferingTime",null),FD:F(I,"videoMerchBobHorizontalLowestWaterMarkLevel",null),ED:F(I,"videoMerchBobHorizontalLowestBufForUpswitch",null)},"mini-modal-horizontal":{rA:F(I,"miniModalHorizontalMinInitVideoBitrate",null),KD:F(I,"miniModalHorizontalMaxInitVideoBitrate",null),aq:F(I,"miniModalHorizontalMinPrebufSize",null),qH:F(I,"miniModalHorizontalMaxPrebufSize",null),Ht:F(I,"miniModalHorizontalMaxBufferingTime",500),FD:F(I,"miniModalHorizontalLowestWaterMarkLevel",null),ED:F(I,"miniModalHorizontalLowestBufForUpswitch",null)},live:{}},O0b:F(L,"enableVerbosePlaydelayLogging",!1),J0b:F(L,"enableSeamless",!1),Uib:F(I,"hindsightDenominator",0),Tib:F(I,"hindsightDebugDenominator",0),Vib:F(H,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),eia:F(I,"maxNumSessionHistoryStored",30),xia:F(I,"minSessionHistoryDuration",3E5),x4:F(I,"maxActiveRequestsPerSession",3),Tmb:F(I,"maxActiveRequestsSABCell100",2),ZIa:F(L,"limitAudioDiscountByMaxAudioBitrate",!0),Zd:F(H,"browserInfo",{}),PRb:F(I,G("busyGracePeriod"),199),Tqc:F(L,G("sendTransitionLogblob"),!0),x$b:F(L,G("includeSegmentInfoOnLogblobs"),!0),L1b:F(L,"exposeTestData",!1),K1b:F(L,G("exposeErrorData"),!1),$_:F(L,G("applyProfileTimestampOffset"),!1),Bka:F(H,G("profileTimestampOffsets"),{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}),vp:F(L,G("applyProfileStreamingOffset"),!1),nia:F(L,G("mediaSourceSupportsNegativePts"),!1),ePb:F(L,G("allowSmallSeekDelta"),!1),ltc:F(I,G("smallSeekDeltaThresholdMilliseconds"),q.faa),d0b:F(L,"enableCDMAttestedDescriptors",!1),jOa:F(L,"requireDownloadDataAtBuffering",!1),kOa:F(L,"requireSetupConnectionDuringBuffering",!1),hzb:F(L,"useMobileVMAF",!1),Rcb:F(K,"desiredVMAFTypeMobile","phone_plus_lts"),Scb:F(K,"desiredVMAFTypeNonMobile","plus_lts"),Mba:F(L,"activateSelectStartingVMAF",!1),Yx:F(I,"minStartingVideoVMAF",1),K4:F(I,"minAcceptableVMAF",1),jN:F(I,"minAllowedVmaf",1),Zha:F(I,"maxAllowedOutstandingRequests",4),yKa:F(I,"minStreamableConcurrencyWindow",3E3),BQa:F(M,"streamableConcurrencyFactor",.3),s0:F(I,"bufferingConcurrencyWindow",7800),Bea:F(L,"enableResolutionVMAFStreamFilter",!1),ala:F(H,"resolutionVMAFCappingRuleList",{}),tMa:F(N,"percentCapTitlesForResolutionVMAFStreamFilter",100),ZZb:F(L,"disableSkipping",!1),Uma:F(L,"useHLSPlayer",T.Uma),hSa:F(L,G("useExitZones"),!0),Voc:F(L,"requestSegmentVmaf",!1),MU:F(H,"perFragmentVMAFConfig",{enabled:!1}),WLa:F(I,"paddingDurationMs",1E3),XLa:F(K,"paddingMediaType","padding"),HU:F(K,"paddingCodecSelector","flexible"),Xwb:F(L,"supportsPtsChanged",!1),olc:F(L,G("preferUnletterboxed"),!1),dwb:F(L,"standaloneMode",!1),Ldb:F(L,"enableKeySystemRestrictor",!1),s1b:F(I,"errorEventToRestrict",2),r1b:F(P,"errorCodesToRestrict",[7353,7361,7377,7701,7702,7703,7717]),q1b:F(P,"errorCodesToCache",[7353,7361,7377,7701,7702,7703,7717]),Hdb:F(L,"enableCachedErrors",!1),YRb:F(I,"cachedErrorCountLimit",20),$Rb:F(I,"cachedErrorExpirationSeconds",604800),aSb:F(I,"cachedErrorsStorageTimeoutSeconds",2E3),Ak:F(I,"liveTargetBufferDuration",1E4),Rha:F(I,"liveTargetBufferDurationInStableNetwork",8E3),Aea:F(L,"enableLiveTargetBufferDurationHeuristics",!1),KT:F(N,"liveEdgeCushion",0),f4:F(L,"liveStreamSelectorUseLatency",!0),Fha:F(M,"latencyMultiplierForLive",4),fJa:F(L,"liveStrictBufferRatioCalculation",!1),Lha:F(N,"liveMaxUpswitchSteps",Infinity),uea:F(L,"enableConditionalServerTimeUpdate",!1),Gia:F(N,"negligibleServerTimeDeltaDifference",1E3),gJa:F(L,"liveSwitchStreamsOnErrorInPipeline",!0),x1:F(L,"enableMissingSegmentsReplacement",!0),MV:F(L,"simulateLiveEdge",!1),ddc:F(N,"liveEdgeThreshold",1E4),k3b:F(L,"forceDisableLiveUi",!1),m0b:F(L,"enableForceLiveEdgeAtEventStart",!0),n0b:F(L,"enableForceLiveEdgeOnResumeInStartSlate",!0),v0b:F(L,"enableLivePlaybackRateDriftCorrection",!1),mdc:F(M,"livePlaybackRateMin",.98),ldc:F(M,"livePlaybackRateMax",1.02),kdc:F(N,"livePlaybackRateAdjustmentThresholdMs",20),jdc:F(N,"livePlaybackRateAdjustmentIntervalMs",1E3),idc:F(M,"livePlaybackRateAdjustmentFactor",.1),h3b:F(N,"forceAstRelativeLiveBookmark",void 0),l3b:F(N,"forceEstRelativeLiveBookmark",void 0),Mtc:F(N,"startSlateMs",void 0),qdc:F(N,"liveSlateMs",void 0),DDa:F(L,"enableLiveManifestReuse",!0),cmb:F(L,"liveShouldAccountForPlayDelay",!1),dJa:F(L,"livePrefetchEnabled",!1),LCa:F(N,"decryptOCSideChannelMinInterval",1E3),MCa:F(N,"decryptOCSideChannelMinIntervalAfterCompleted",1E3),u1:F(L,"enableLiveOCSideChannelRefresh",!0),e4:F(N,"liveOCSideChannelRefreshInterval",3E4),B0b:F(L,G("enableNonSeamlessTransitions"),!1),oyc:F(X,G("videoCodecsRequiringNonSeamlessTransitions"),[]),n3b:F(L,G("forceNonSeamlessTransitionBetweenAdsAndContent"),!1),YM:F(H,"liveOriginOverride",void 0),j8:F(L,"useLiveEdgeUpdateTask",!0),Pha:F(N,"liveRequestSpreadMs",1E3),GDa:F(L,"enableTwoPartLiveFragmentEditing",!1),ZM:F(L,"liveSlowBufferFilling",!1),wdc:F(N,"lnaModeJitterMs",12E4),Lec:F(N,"maxLNADuration",36E6),j3b:F(L,"forceDisableLNA",!1),$cc:F(K,"liveAdsCapability","baseline"),zL:F(L,"enableRequestAbandonment",!1),aka:F(N,"pipelineHealthThresholdCriticalMs",2E3),bka:F(N,"pipelineHealthThresholdLowMs",6E3),Wka:F(N,"requestAbandonmentLockIntervalMs",1E4),wQa:F(M,"streamModeAppendAttachThreshold",.75),Ndb:F(L,"enableLiveAdsUi",!1),bJa:F(M,"liveEarlyRequestProbability",.05),aJa:F(N,"liveEarlyRequestDefaultOffsetMs",-500),l3:F(L,"ignoreRetainAdBreaksWhenLive",!1),dca:F(L,"alwaysRetainAds",!1),v1:F(L,"enableMediaEventsTrack",!1)};aa=!0;b.FBa=function(R){var Y,ea,ka;Y=e.La.get(A.fd).id;if(0 < b.config.pmb && 0 === Y % b.config.pmb)try{ea=e.La.get(u.Jn);ka=e.La.get(t.NB).ht("config","info",{params:R});ea.Ec(ka);}catch(ha){e.log.error("Failed to log config$apply",ha);}Ba._cad_global.config=b.config;(0,l.oa)(R);R && (ca=(0,m.Re)({},R,{q4:!0}),(0,m.Re)(ca,na,{q4:!0}),E(Z,b.config),ca.istestaccount && e.log.trace("Config applied for",V(aa?ca:R)),aa=!1);};(0,b.FBa)(ca);};b.GBa=function(C){C=c(C);return (0,m.Re)({},a(87141)(C),{xja:!0});};b.CUb=function(C,D,E){D=!!E && (0 <= E.indexOf("h264hpl") || 0 <= E.indexOf("vp9") || 0 <= E.indexOf("av1"));C={qA:C?b.config.Mfc:b.config.qA,OD:C?b.config.Ufc:D?b.config.Vfc:b.config.OD};return (0,m.Re)({},a(87141)(C),{xja:!0});};b.fHc=c;b.eHc=n;d=a(33096);g=a(52569);e=a(31276);f=a(34231);l=a(45146);h=a(56800);k=a(75568);m=a(3887);a(87386);p=a(22365);v=a(32687);q=a(93294);u=a(45118);t=a(31850);w=a(5614);x=a(72574);z=a(5021);y=a(91581);A=a(81918);B=a(88195);},70:function(r,b,a){var c,n,d,g,e;Object.defineProperty(b,"__esModule",{value:!0});c=a(52569);n=a(33096);d=a(36129);g=a(22365);r=a(31276);a=a(11479);e=r.La.get(a.xj);e.register(d.Y.tYa,function(f){g.Ol && g.Ol.generateKey && g.Ol.importKey && g.Ol.unwrapKey?(e.gf("wcs"),(0,c.DU)(g.Ol.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){e.gf("wcdone");f(n.Vi);},function(l){var h;l="" + l;if(0 <= l.indexOf("missing crypto.subtle"))h=d.T.Iwa;else 0 <= l.indexOf("timeout waiting for iframe to load") && (h=d.T.UJb);f({Ja:h,tc:l});})):f({Ja:d.T.Iwa});});},1481:function(r,b,a){var c,n,d,g,e,f,l,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.Pm=void 0;c=a(33096);n=a(29204);r=a(36129);d=a(45146);g=a(31276);e=a(68703);f=a(22365);l=a(11479);h=a(91581);k=g.La.get(l.xj);k.register(r.Y.Jqa,function(m){var p,v,q;p=g.La.get(h.ws);(0,d.oa)(n.config);(0,d.oa)(f.XE && f.XE.getDeviceId || f.X_a || p.NS);v=g.La.get(e.OVa);q=(0,g.jl)("Device");k.gf("devs");v.create({deviceId:n.config.deviceId,NS:p.NS,Ucb:"deviceid",Sl:n.config.Sl,er:p.er,f1:p.f1,userAgent:f.JJ,nJa:n.config.nJa,uFa:n.config.uFa,LLc:n.config.aD?"mslstoretest":"mslstore",AW:n.config.AW}).then(function(u){b.Pm=u;Ba._cad_global.device=b.Pm;q.info("Esn source: " + b.Pm.Hea);k.gf("devdone");m(c.Vi);}).catch(function(u){u.ta=void 0;m(u);});});},15531:function(r,b,a){var m,p,v,q,u,t,w,x;function c(z,y,A,B,C){var D;D={};"right" == z.horizontalAlignment?D.right=100 * (A - y.left - y.width - C) / A + "%":D.left=100 * (y.left - C) / A + "%";"bottom" == z.verticalAlignment?D.bottom=100 * (B - y.top - y.height - C) / B + "%":D.top=100 * (y.top - C) / B + "%";return D;}function n(z,y){var A;if(z && y){40 === y.x && 19 === y.y?A=4 / 3 / (40 / 19):52 === y.x && 19 === y.y && (A=16 / 9 / (52 / 19));if(A)return z.width / z.fontSize / A;}}function d(z,y,A,B,C,D,E){for(var F=z.style,G=(0,p.lHa)(z.text),J=z.lineBreaks;J--;)G="<br />" + G;return g(G,F,y,A,B,C,D,z.lang,E);}function g(z,y,A,B,C,D,E,F,G){var J;J=y.characterStyle;C=C[J];J=0 <= J.indexOf("MONOSPACE")?n(C,y.cellResolution) || C.lineHeight:C.lineHeight;B=y.characterSize * B.height / (J || 1);F && "ja" === F.slice(0,2) && y.ruby && "text" === y.ruby && (B/=2);B=0 < D?(0,v.cQ)(B * D):(0,v.Hq)(B);D={"font-size":B + "px","line-height":"normal","font-weight":"normal"};y.characterItalic && (D["font-style"]="italic");y.characterUnderline && (D["text-decoration"]="underline");y.characterColor && (D.color=y.characterColor);y.backgroundColor && 0 !== y.backgroundOpacity && (D["background-color"]=e(y.backgroundColor,y.backgroundOpacity));if(F && "ja" === F.slice(0,2)){if(y.textEmphasis){B=y.textEmphasis;switch(B.textEmphasisShape){case "auto":D["text-emphasis"]="vertical-lr" === E || "vertical-rl" === E?"filled sesame":"filled circle";break;default:D["text-emphasis"]=B.textEmphasisFill + " " + B.textEmphasisShape;}G=l(B.textEmphasisPosition,G);switch(E){case "vertical-rl":D["text-emphasis-position"]=w[G];break;case "vertical-lr":D["text-emphasis-position"]=x[G];break;default:D["text-emphasis-position"]=t[G];}}y.textCombine && (D["text-combine-upright"]=y.textCombine);}E=y.characterEdgeColor || "#000000";switch(y.characterEdgeAttributes){case "DROP_SHADOW":D["text-shadow"]=E + " 0px 0px 7px";break;case "UNIFORM":D["text-shadow"]="-1px 0px " + E + ",0px 1px " + E + ",1px 0px " + E + ",0px -1px " + E;break;case "RAISED":D["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":D["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}E=(0,m.N0)(D);(A=A[y.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (E+=";" + A);A=y.characterOpacity;0 < A && 1 > A && (z='<span style="opacity:' + A + '">' + z + "</span>");F && "ja" === F.slice(0,2)?(z='<span lang="ja" style="' + E + '">' + z + "</span>",y.ruby && "text" === y.ruby && (z="<rt>" + z + "</rt>")):z='<span style="' + E + '">' + z + "</span>";return z;}function e(z,y){z=z.substring(1);z=parseInt(z,16);return "rgba(" + (z >> 16 & 255) + "," + (z >> 8 & 255) + "," + (z & 255) + "," + (void 0 !== y?y:1) + ")";}function f(z,y,A,B){var C;C="";z && "text" === z && (C='<ruby style="ruby-position: ' + ("before" === y || "over" === y || "outside" === y && 0 === A?"over":"under") + "; " + B + '">');return C;}function l(z,y){return z === u[0] || "outside" === z && 0 === y?u[0]:u[1];}function h(z){return z.replace(/(<ruby[\s\S]*?)(<br\s*\/?>+)([\s\S]*?<\/ruby>)/g,"$2$1$3");}function k(z){return (z=z.match(/(font-size:\d+px)/))?z[0]:"";}Object.defineProperty(b,"__esModule",{value:!0});b.ceb=function(z,y,A,B,C){var D,E,F,G,J,N,I;D="";E="";F=0;G="";J=!1;N="";I="";z.textNodes.forEach(function(M){var K,L,H,O;F+=M.lineBreaks;H=d(M,A,y,B,C,z.region.writingMode,F);if(M.lang && "ja" === M.lang.slice(0,2)){if(M.style && M.style.ruby && "" != M.style.ruby && (M.style.ruby === q.xp && (I=k(H)),M.style.ruby !== q.tb && (N+=H),H="",M.style.ruby === q.text)){O=f(M.style.ruby,null !== (K=M.style.rubyPosition) && void 0 !== K?K:"outside",F,I);J="" !== O;N=O + N;}!G || "" === G || M.style.ruby && "" !== M.style.ruby && M.style.ruby !== q.tb || (N=h(N + (J?"</ruby> ":"")),H=N + H,J=!1,N="");}D+=H;G=null !== (L=M.style.ruby) && void 0 !== L?L:"";"" === E && M.style && M.style.shear && (E="font-style: oblique " + -90 * parseFloat(M.style.shear) + "deg;");});"" !== N && (D+=N + (J?"</ruby> ":""));z.region && z.region.multiRowAlignment && (D='<span style="display:inline-block;' + E + "text-align:" + z.region.multiRowAlignment + '">' + D + "</span>");return D;};b.l1b=function(z,y,A,B,C){var D,E,G,J,N;D="";E=C.width;C=C.height;for(var F=y.length;F--;){G=y[F];J=z[F];J=J && J.region;N="position:absolute;background:" + B + ";width:" + (0,v.Hq)(G.width + 2 * A) + "px;height:" + (0,v.Hq)(G.height + 2 * A) + "px;";G=c(J,G,E,C,A);(0,p.wh)(G,function(I,M){N+=I + ":" + M + ";";});D+='<div style="' + N + '"></div>';}return D;};b.k1b=c;b.lIc=n;b.nIc=d;b.kIc=g;b.mIc=e;b.j1b=function(z){var y;z=z.region;y={display:"block","white-space":"nowrap"};switch(z.horizontalAlignment){case "left":y["text-align"]="left";break;case "right":y["text-align"]="right";break;default:y["text-align"]="center";}"vertical-lr" === z.writingMode || "vertical-rl" === z.writingMode?y["writing-mode"]=z.writingMode:"horizontal-tb" === z.writingMode && z.direction && (y.direction=z.direction);return (0,m.N0)(y);};b.CGc=f;b.kHc=l;b.ILc=h;b.kJc=k;m=a(52569);p=a(3887);v=a(22365);q={tb:"container",text:"text",xp:"base"};u=["before","after"];t={before:"over right",after:"under right"};w={before:"over right",after:"over left"};x={before:"over left",after:"over right"};},33579:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Awc=function(n,d){function g(l,h,k){var q,t,w,x,z;if(l && 1 < l.length){for(var m=[],p=[],v=0;v < l.length;v++)(m[v]=0,p[v]=0);q=!1;for(v=0;v < l.length;v++)for(var u=v + 1;u < l.length;u++){t=l[v];w=l[u];if(0 > t.width || 0 > w.width || w.left > t.left + t.width || w.left + w.width < t.left || w.top > t.top + t.height?0:w.top + w.height >= t.top){x=(0,c.uw)(t.left,w.left);z=(0,c.uw)(t.top,w.top);x={width:(0,c.uw)((0,c.PB)(t.left + t.width,w.left + w.width) - x,0),height:(0,c.uw)((0,c.PB)(t.top + t.height,w.top + w.height) - z,0),x:x,y:z};}else x=void 0;if(x && 1 < x.width && 1 < x.height)if((z=x.width <= x.height,t=e(l[v]),w=e(l[u]),z && h || !z && !h))(x=(0,c.uw)(x.width / 2,.25),t.x <= w.x?(p[v]-=x,p[u]+=x):(p[u]-=x,p[v]+=x));else if(z && !h || !z && h)(t=(0,c.uw)(x.height / 2,.25),m[v]-=t,m[u]+=t);}for(v=0;v < l.length;v++){if(-.25 > p[v] && 0 <= l[v].left + p[v] || .25 < p[v] && l[v].left + l[v].width + p[v] <= k.width)(l[v].left+=p[v],q=!0);if(-.25 > m[v] && 0 <= l[v].top + m[v] || .25 < m[v] && l[v].top + l[v].height + m[v] <= k.height)(l[v].top+=m[v],q=!0);}return q;}}function e(l){return {x:l.left + l.width / 2,y:l.top + l.height / 2};}n=n.map(function(l){return {top:l.top,left:l.left,width:l.width,height:l.height};});(function(l,h){l.forEach(function(k){0 > k.left && k.left + k.width < h.width?k.left+=(0,c.PB)(-k.left,h.width - (k.left + k.width)):k.left + k.width > h.width && 0 < k.left && (k.left-=(0,c.PB)(k.left + k.width - h.width,k.left));0 > k.top && k.top + k.height < h.height?k.top+=(0,c.PB)(-k.top,h.height - (k.top + k.height)):k.top + k.height > h.height && 0 < k.top && (k.top-=(0,c.PB)(k.top + k.height - h.height,k.top));});})(n,d);for(var f=0;50 > f && g(n,!0,d);f++);for(f=0;50 > f && g(n,!1,d);f++);return n;};c=a(22365);},99732:function(r,b,a){var c,n,d,g,e,f;Object.defineProperty(b,"__esModule",{value:!0});b.Amb=void 0;c=a(29204);n=a(33096);d=a(24066);r=a(36129);g=a(22365);e=a(32687);f=a(31276);a=a(11479);f.La.get(a.xj).register(r.Y.lYa,function(l){var m,p,v,q,u;function h(){return (0,g.cQ)((0,d.$s)() / v);}function k(){var t;t=h();if(t != u){for(var w=(0,g.PB)(t - u,30);w--;)q.push(0);(w=(0,g.uw)(q.length - 31,0)) && q.splice(0,w);u=t;}q[q.length - 1]++;}m=c.config.aec;p=-6 / (m - 2 - 2);v=n.wu;q=[];u=h();(0,e.sIa)(m) && (setInterval(k,1E3 / m),b.Amb={Ffa:function(){var x;for(var t=[],w=q.length - 1;w--;){x=q[w];t.unshift(0 >= x?9:1 >= x?8:x >= m - 1?0:(0,g.Hq)((x - 2) * p + 7));}return t;}});l(n.Vi);});},24674:function(r,b,a){var e,f,l,h,k,m;function c(p){var v;p=new l.CX(p);if(1481462272 != p.Wt())throw Error("Invalid header");v={XMR:{Version:p.Wt(),RightsID:p.QA(16)}};n(p,v.XMR,p.Hfa());return v;}function n(p,v,q){var u,t,w,x,z;for(;p.position < q;){u=p.hi();t=p.Wt();t-=8;switch(u){case 1:w="OuterContainer";break;case 2:w="GlobalPolicy";break;case 3:w="MinimumEnvironment";break;case 4:w="PlaybackPolicy";break;case 5:w="OutputProtection";break;case 6:w="UplinkKID";break;case 7:w="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:w="AnalogVideoOutputConfiguration";break;case 9:w="KeyMaterial";break;case 10:w="ContentKey";break;case 11:w="Signature";break;case 12:w="DeviceIdentification";break;case 13:w="Settings";break;case 18:w="ExpirationRestriction";break;case 42:w="ECCKey";break;case 48:w="ExpirationAfterFirstPlayRestriction";break;case 50:w="PlayReadyRevocationInformationVersion";break;case 51:w="EmbeddedLicenseSettings";break;case 52:w="SecurityLevel";break;case 54:w="PlayEnabler";break;case 57:w="PlayEnablerType";break;case 85:w="RealTimeExpirationRestriction";break;default:w="Other";}x={Type:d(u)};z=v[w];z?(0,m.isArray)(z)?z.push(x):(v[w]=[],v[w].push(z),v[w].push(x)):v[w]=x;switch(u){case 1:case 2:case 4:case 7:case 9:case 54:n(p,x,p.position + t);break;case 5:x.Reserved1=p.hi();x.MinimumUncompressedDigitalVideoOutputProtectionLevel=p.hi();x.MinimumAnalogVideoOutputProtectionLevel=p.hi();x.Reserved2=p.hi();x.MinimumUncompressedDigitalAudioOutputProtectionLevel=p.hi();break;case 10:x.Reserved=p.QA(16);x.SymmetricCipherType=p.hi();x.AsymmetricCipherType=p.hi();t=p.hi();x.EncryptedKeyLength=t;u=p.QA(t);x.EncryptedKeyData=10 >= t?u:u.substring(0,4) + "..." + u.substring(u.length - 4,u.length);break;case 11:x.SignatureType=p.QA(2);t=p.hi();u=p.QA(t);x.SignatureData=10 >= t?u:u.substring(0,4) + "..." + u.substring(u.length - 4,u.length);break;case 13:x.Reserved=p.hi();break;case 18:x.BeginDate=p.Wt();x.EndDate=p.Wt();break;case 42:x.CurveType=p.QA(2);t=p.hi();u=p.QA(t);x.Key=10 >= t?u:u.substring(0,4) + "..." + u.substring(u.length - 4,u.length);break;case 48:x.ExpireAfterFirstPlay=p.Wt();break;case 50:x.Sequence=p.Wt();break;case 51:x.LicenseProcessingIndicator=p.hi();break;case 52:x.MinimumSecurityLevel=p.hi();break;case 57:x.PlayEnablerType=g(p.QA(16));break;case 85:break;default:x.OtherData=p.QA(t);}}}function d(p){return "0x" + p.toString(16);}function g(p){return p.substring(6,8) + p.substring(4,6) + p.substring(2,4) + p.substring(0,2) + "-" + p.substring(10,12) + p.substring(8,10) + "-" + p.substring(14,16) + p.substring(12,14) + "-" + p.substring(16,20) + "-" + p.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.zHc=function(p,v,q){switch(v){case e.v9:p && (p=(0,f.n$a)(p),(0,k.izc)(p,function(u){u.ta && (u=u.object) && (u=(0,h.a5b)(u,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (u=(0,h.Xjc)(u)) && (u=(0,f.Vu)(u)) && (u=c(u)) && q(u);}));}};b.AHc=c;b.BHc=n;b.DHc=d;b.CHc=g;e=a(33096);f=a(31276);l=a(70834);h=a(62604);k=a(84281);m=a(32687);},59032:function(r,b){var c;function a(n,d){var g;g=this;this.pxa=[];c.forEach(function(e){(e=e(n,d)) && g.pxa.push(e);});}Object.defineProperty(b,"__esModule",{value:!0});b.G_a=void 0;b.l$=function(n){c.push(n);};c=[];a.prototype.fE=function(n){var e;for(var d=[],g=this.pxa.length;g--;){e=this.pxa[g];e.fE(n) && d.push(e.Sea);}if(d.length)return d;};b.G_a=a;},3390:function(r,b,a){var c,n,d,g;Object.defineProperty(b,"__esModule",{value:!0});r=a(59032);c=a(31276);n=a(4203);d=a(95136);g=a(81918);(0,r.l$)(function(e,f){var l,h;l=c.La.get(n.uc);if(l().C_b){h=c.La.get(g.fd);return new d.bWa(e,f,c.wg,h,l);}});},95136:function(r,b,a){var n,d,g,e,f,l,h;function c(k,m,p,v,q){var u;u=this;this.j=k;this.Fa=m;this.qa=p;this.Oa=v;this.hja={};this.cS={};this.RV=[];this.Yjb=1E3;this.gma=n.TZa;this.BLa=function(){var t;t=u.j.Ib.value === e.wb.yf && u.j.state.value === e.qc.cf && u.j.P === u.Fa.P;u.v3?t || (clearInterval(u.v3),u.v3=void 0,u.W3=void 0):t && (u.v3=Ba.setInterval(u.yvc,u.Yjb));};this.yvc=function(){var t,w,x,z;w=u.j.Ue.value;w=w && w.stream;w=null !== (t=w && w.height) && void 0 !== t?t:null;if(null !== w && 0 < w){t=u.Oa.$b().ia(l.pa);x=u.j.ie.bM();if(x){if(u.W3 && t - u.W3.time < 2 * u.Yjb && w === u.W3.height){z=x - u.W3.B_b;u.bza(w,z);u.qOb(w,z);}u.W3={time:t,B_b:x,height:w};u.j.dka && u.j.dka.rrc(u.hja);}}};this.lFa=function(){var t;t={};u.cS && u.RV.forEach(function(w){var x,z,y;x=u.cS[w];if(x){z=0;y=0;(0,f.wh)(x,function(A,B){y+=(0,f.Ck)(A);z+=B;});t[w]=y / z;}});return t;};this.H2=function(t){var w;w={};t.forEach(function(x){w[x]={};});u.cS && ((0,d.aoa)(t),u.RV.forEach(function(x){var z,y,A,B;z=u.cS[x];if(z){y=0;A=0;(0,f.wh)(z,function(G,J){y+=J;});B=Object.keys(z).map(Number);(0,d.aoa)(B);for(var C=B.length - 1,D=B[C],E=t.length - 1;0 <= E;E--){for(var F=t[E];D >= F && 0 <= C;)((D=z[D]) && (A+=D),D=B[--C]);w[F][x]=(0,g.Hq)(A / y * 100);}}}));return w;};this.tpc=function(t){!1 === t.oldValue && !0 === t.newValue && (u.j.Ftb(),u.Htb.set(!1));};this.log=this.qa.fb("DFF",k);this.oka=q().F_b;this.Pec=q().D_b;this.Onb=q().E_b;this.Fa.qDa={lFa:this.lFa,H2:this.H2};this.Htb=new h.ic(!1,this.tpc);k.state.addListener(this.BLa);k.Ib.addListener(this.BLa);k.addEventListener(e.da.nA,this.BLa);}Object.defineProperty(b,"__esModule",{value:!0});b.bWa=void 0;n=a(33096);d=a(52569);g=a(22365);e=a(85001);f=a(3887);l=a(5021);h=a(81734);c.prototype.fE=function(k){return k.lower && k.height > this.Onb?k.height >= this.e8b():!1;};c.prototype.bza=function(k,m){var p;p=this.hja[k];p || (this.hja[k]=p=[],k > this.Onb && (this.RV.push(k),(0,d.aoa)(this.RV)));0 < m && !(this.N4 && this.N4 < k) && (this.N4=k);p.push(m);p.length > this.Pec && p.shift();};c.prototype.qOb=function(k,m){var p;p=this.cS[k];p || (this.cS[k]=p={});k=p[m];p[m]=k?k + 1:1;};c.prototype.e8b=function(){var p,v;if(this.N4){for(var k=this.RV.length,m=0;m < k;m++){p=this.RV[m];if(p >= this.N4 && p < this.gma){v=this.hja[p];if(v && this.qTb(this.oka,v) && this.gma != p)return (this.log.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:p}),this.Fa.Us.set({reason:"droppedFrames",height:p}),this.Htb.set(!0),this.gma=p);}}this.N4=void 0;}return this.gma;};c.prototype.qTb=function(k,m){var u,t;for(var p=k.length,v=m.length,q=0;q < p;q++){u=k[q];t=u[0];u=u[1];for(var w=0;w < v;w++)if(m[w] >= u && 0 >= --t)return !0;}return !1;};Ga.Object.defineProperties(c.prototype,{Sea:{configurable:!0,enumerable:!0,get:function(){return "df";}}});b.bWa=c;},25357:function(r,b,a){var n,d,g;function c(e,f,l,h){var k;k=this;this.j=e;this.Fa=f;this.qa=l;this.Aa=h;this.fPb=function(m){!0 === m.oldValue && !1 === m.newValue && (k.log.error("RestartStreaming: UHD key is no longer usable"),k.j.Ftb());};this.uwc=function(m){var p,v,q;k.log.trace("UhdKeyStatus: " + m.oldValue + " -> " + m.newValue);v=null === m || void 0 === m?void 0:m.newValue;q=null === m || void 0 === m?void 0:m.oldValue;"usable" !== v && (k.hrc(v,(null === (p=null === m || void 0 === m?void 0:m.jj) || void 0 === p?void 0:p.height) || 0),"usable" === q && (m=k.Aa.df.ka(k.acc),k.log.error("UHD KeyStatus unexpectedly changed: " + m.ia(g.pa))));};this.Gkb=!1;this.log=this.qa.fb("KeyStatusStreamFilter",this.j);this.m9a=new d.ic(!1,this.fPb);this.twc=new d.ic(void 0,this.uwc);}Object.defineProperty(b,"__esModule",{value:!0});b.ZYa=void 0;n=a(28048);d=a(81734);g=a(5021);c.prototype.fE=function(e){return e.Hi && (this.xuc(),this.m9a.set(this.Gkb),e.lower && 1080 < e.height && !this.m9a.value)?!0:!1;};c.prototype.rob=function(e){var f;f=this;Object.entries(e).forEach(function(l){var h,k,m;h=Ea(l);l=h.next().value;h=h.next().value;l=null !== (m=null === (k=f.$bc) || void 0 === k?void 0:k[l]) && void 0 !== m?m:0;1080 < l && (f.Gkb="usable" === h,f.twc.set(h,{height:l}));});};c.prototype.xuc=function(){var e,f,l;e=this;l=this.Fa.bg;!this.xbc && (0,n.kkb)(l) && (this.xbc=!0,this.$bc=null === (f=null === l || void 0 === l?void 0:l.context) || void 0 === f?void 0:f.tha,this.rob(l.keyStatuses.value),l.keyStatuses.addListener(function(h){return e.rob(h.newValue);}),this.acc=this.Aa.df);};c.prototype.hrc=function(e,f){this.log.error("Restricting resolution due to keyStatus",{keyHeight:f,keyStatus:e});this.Fa.Us.set({reason:"keyStatus",height:f});};Ga.Object.defineProperties(c.prototype,{Sea:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.ZYa=c;},2898:function(r,b,a){var c,n,d;Object.defineProperty(b,"__esModule",{value:!0});r=a(59032);c=a(29204);n=a(31276);d=a(25357);(0,r.l$)(function(g,e){if(c.config.Zbc)return new d.ZYa(g,e,n.wg,n.Aa);});},45706:function(r,b,a){var n,d;function c(g,e){var f,l;f=(0,d.lj)(g,"MSS");if(n.config.Efc)return {Sea:"mss",fE:function(h){var k,m;if(h.lower && 2160 <= h.height)a:{for(k=h;k.lower;){if(2160 > k.height && 1080 < k.height){k=!0;break a;}if(1080 >= k.height)break;k=k.lower;}k=!1;}else k=void 0;if(k){if(void 0 === l){try{m=Ba.MSMediaKeys;l=m && m.isTypeSupportedWithFeatures?"probably" === m.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(p){f.error("hasUltraHdDisplay exception");l=!0;}l || (f.warn("Restricting resolution due screen size",{MaxHeight:h.height}),e.Us.set({reason:"microsoftScreenSize",height:h.height}));}return !l;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.UCc=c;r=a(59032);n=a(29204);d=a(31276);(0,r.l$)(c);},76563:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});r=a(59032);c=a(29204);n=a(31276);(0,r.l$)(function(d,g){var e,f,l,h;e={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(e,c.config.vwc);f=e[g.ue];if(c.config.wwc && f){l={};h=(0,n.lj)(d,"MediaStreamFilter");return {Sea:"uiLabel",fE:function(k){if(k.lower && k.height > f)return (l[k.height] || (l[k.height]=!0,h.warn("Restricting resolution due to uiLabel",{MaxHeight:f,streamHeight:k.height}),g.Us.set({reason:"uiLabel",height:k.height})),!0);}};}});},24427:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.oEb=function(d){function g(e){d.fireEvent(c.da.uL,{response:e,P:d.ea.P});}return {download:function(e,f){e.j=d;e=n.Bf.download(e,f);e.Uba(g);return e;}};};c=a(85001);n=a(61726);},61726:function(r,b,a){var f,l,h,k,m,p,v,q,u,t,w,x,z,y;function c(){this.nf=(0,p.jl)("Http");this.Vk=new f.Qk();this.cK=0;this.ng={ssl:0,"non-ssl":0,invalid:0};this.Y$={Ia:1,XJb:2,ZTa:3};this.addEventListener=this.Vk.addListener;this.removeEventListener=this.Vk.removeListener;}function n(A){var B,C,D,E;B=A.url.split("?");C="sc=" + A.kqc;D=A.VRb?"random=" + (1E17 * (0,u.k$)()).toFixed(0):"";E=B[0];E=B[1]?E + ("?" + B[1] + "&" + C):E + ("?" + C);E+=D?"&" + D:"";A.Tc && !(0,h.Hkb)(E) && (A=l.config && l.config.Y$a) && (E=A.replace("{URL}",E).replace("{EURL}",encodeURIComponent(E)));return E;}function d(A,B){var C,D,E;C=A.url.split("?");D=g(A);E=C[0];D && (B.NA=D,(void 0 === A.fw?l.config.fw:A.fw) || A.Zv !== x.bZ?(A.headers=A.headers || ({}),A.headers.Range="bytes=" + D):(B.NA=D,E="/" === E[E.length - 1]?E + "range/":E + "/range/",E+=D));D=A.VRb?"random=" + (1E17 * (0,u.k$)()).toFixed(0):"";l.config.lS && A.aB && (D="sc=" + A.aB + (D?"&" + D:""));E=C[1]?E + ("?" + C[1] + (D?"&" + D:"")):E + (D?"?" + D:"");A.Tc && !(0,h.Hkb)(E) && (A=l.config && l.config.Y$a) && (E=A.replace("{URL}",E).replace("{EURL}",encodeURIComponent(E)));B.url=E;}function g(A){var B;B=A.offset;if(void 0 !== B)return ((0,v.W0)(B),void 0 !== A.length?(A=B + A.length - 1,(0,v.W0)(A),B + "-" + A):B + "-");}function e(A,B,C,D){var E,F;E=D.krb;F=D.headers;A.open(E?"POST":"GET",B,C);switch(D.responseType){case b.i3:A.responseType="arraybuffer";break;case b.nHa:(0,q.GSb)(A,"overrideMimeType",void 0,"text/xml");}E && (B={"Content-Type":(0,w.zh)(E)?"text/plain":"application/x-octet-stream"},F=F?(0,q.Re)(B,F):B);F && (0,q.wh)(F,function(G,J){A.setRequestHeader(G,J);});D.withCredentials && (A.withCredentials=!0);E?A.send(E):A.send();}Object.defineProperty(b,"__esModule",{value:!0});b.i3=b.nHa=b.mHa=b.U9b=b.oHa=b.T9b=b.Zib=b.vga=b.Bf=void 0;b.WJc=d;b.VJc=g;f=a(94886);l=a(29204);r=a(33096);h=a(52569);k=a(24066);m=a(36129);p=a(31276);v=a(45146);q=a(3887);u=a(22365);t=a(32219);w=a(32687);x=a(32934);z=a(57504);c.prototype.Vsc=function(A){var B;B=new XMLHttpRequest();A=n(A);B.open("HEAD",A,!0);B.onreadystatechange=function(){2 === B.readyState && 200 <= B.status && 299 >= B.status && !1;};B.send();return function(){return B.abort();};};c.prototype.download=function(A,B){var I,M,K,L,H,O,P,Q,S,X,W,V,fa,ba;function C(){var ca;if(!P){P=!0;ba && (Ba.clearTimeout(ba),ba=null);I.Vk.removeListener(b.oHa,F);I.gya(W,V);V && (V.onloadstart=null,V.onreadystatechange=null,V.onprogress=null,V.onerror=null,V.onload=null,V=V.onabort=null);W.ta || (W.Ja != m.T.qJ?K.warn("Download failed",O,(0,m.HB)(W)):K.trace("Download aborted",O));ca=Q;Q=null;null === ca || void 0 === ca?void 0:ca.reduceRight(function(ia,na){(0,t.Rg)(function(){return na(W);});},null);I.Vk.Pc(b.Zib,W,!0);}}function D(){ba && (Ba.clearTimeout(ba),ba=null);ba=Ba.setTimeout(G,fa?H:L);}function E(ca,ia,na){var oa,T;W.ta=!1;W.Ja=ca;oa=(0,k.$s)();T=W.wo;T.Fk=T.Fk || oa;T.$t=T.$t || oa;ia && 0 < ia && (W.io=ia,W.Af=ia.toString());na && (W.tc=na);ca !== m.T.vY && ca !== m.T.rJ && ca !== m.T.yY || !V || (V.onabort=null,J());C();}function F(){y() || E(m.T.vY);}function G(){E(fa?m.T.rJ:m.T.yY);}function J(){try{null === V || void 0 === V?void 0:V.abort();}catch(ca){}}function N(){E(m.T.qJ);}I=this;(0,v.oa)(B);K=(null === (M=null === A || void 0 === A?void 0:A.j) || void 0 === M?0:M.log)?(0,p.lj)(A.j,"Http"):this.nf;L=A.nda || l.config.nda;H=A.UKa || l.config.UKa;O={Num:this.cK++};P=!1;Q=[B];S={};this.iNb(A);W=new z.aYa(A,J,G,S,function(ca){P || ((0,v.oa)(Q,"Callback should be added before download starts."),Q && Q.unshift(ca));});fa=!1;(0,t.Rg)(function(){var ca;if((0,w.BIa)(A.url))try{if((d(A,W),X=W.url,(0,v.X0)(X),O.Url=X,y())){!1;V=new XMLHttpRequest();V.onreadystatechange=function(){2 === (null === V || void 0 === V?void 0:V.readyState) && (fa=!0,S.Fk=(0,k.$s)(),V.onreadystatechange=null,D(),!1,I.gya(W,V),W.rN({timestamp:S.Fk,connect:!0,mediaRequest:A,start:S.ZD,rt:[S.Fk - S.ZD],responseHeaders:W.headers,httpCode:W.Op}));};V.onprogress=function(ia){fa=!0;S.Nl=ia.loaded;D();I.gya(W,V);ia={mediaRequest:A,bytes:ia.loaded,timestamp:(0,k.$s)(),bytesLoaded:ia.loaded,responseHeaders:W.headers,httpCode:W.Op};W.rN(ia);};V.onload=function(ia){if(!P && V){(0,v.oa)(void 0 === S.$t);S.$t=(0,k.$s)();S.Fk=S.Fk || S.$t;S.Nl=ia.loaded;if(200 <= V.status && 299 >= V.status){a:switch((ia=V,W.type)){case b.i3:ia=ia.response || new ArrayBuffer(0);break a;case b.nHa:ia=ia.responseXML;break a;default:ia=ia.responseText;}W.parsed=!1;W.content=ia;W.ta=!0;}else 420 === V.status?E(m.T.xY,V.status):E(m.T.wY,V.status,V.response);C();}};V.onabort=N;V.onerror=function(){var ia,na;if(V){ia=V.status;"undefined" !== typeof l.config.ufb && (ia=l.config.ufb);if(0 < ia){if(420 === ia)E(m.T.xY,ia);else {try{na=V.responseText;}catch(oa){}E(m.T.wY,ia,na);}}else E(m.T.zY);}};ca=(0,k.$s)();e(V,X,!0,A);I.Vk.Pc(b.vga,W,!0);S.ZD=ca;W.vU({mediaRequest:A,timestamp:ca});D();I.Vk.addListener(b.oHa,F);}else (0,t.Rg)(E.bind(void 0,m.T.vY));}catch(ia){K.error("Exception starting download",ia,O);E(m.T.zqa,void 0,(0,q.Fg)(ia));}else E(m.T.GXa);});return W;};c.prototype.dmc=function(A){var B,C;B=new XMLHttpRequest();C=A.amc;B.open("HEAD",A.url,!0);B.timeout=l.config.Drb;B.onreadystatechange=function(){2 === B.readyState && (!1,C && C.qU(B.status));};B.ontimeout=B.onerror=function(){!1;C && C.dLa(B.status);};B.send();};c.prototype.iNb=function(A){var B;try{B=A.url;(0,w.BIa)(B)?0 === B.indexOf("https")?this.ng.ssl++:0 === B.indexOf("http")?this.ng["non-ssl"]++:this.ng.invalid++:this.ng.invalid++;}catch(C){}};c.prototype.gya=function(A,B){var C;if((void 0 === A.Op || void 0 === A.headers) && B){A.Op=B.status;C={};B.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(function(D){var E;E=Ea(D.split(": "));D=E.next().value;E=pb(E).join(": ");D && (C[D.toLowerCase()]=E);});A.headers=C;}};y=r.K2a;b.Bf=new c();b.vga=1;b.Zib=2;b.T9b=3;b.oHa=4;b.U9b=5;b.mHa=b.Bf.Y$.Ia;b.nHa=b.Bf.Y$.XJb;b.i3=b.Bf.Y$.ZTa;Ba._cad_global.http=b.Bf;},57504:function(r,b,a){var n;function c(d,g,e,f,l){this.Uba=this.rN=this.vU=n.YE;this.request=d;this.type=d.responseType;this.wo=f;this.abort=g;this.timeout=e;this.Uba=l;}Object.defineProperty(b,"__esModule",{value:!0});b.aYa=void 0;n=a(33096);c.prototype.Krc=function(d){this.vU=d;};c.prototype.Trc=function(d){this.rN=d;};b.aYa=c;},31276:function(r,b,a){var c,n,d,g,e,f,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.La=b.X1a=b.g2=b.lj=b.jl=b.log=b.wg=b.n$a=b.Vu=b.ex=b.Bc=b.WQb=b.bAa=b.UQb=b.VQb=b.sk=b.BW=b.m8=b.oi=b.Rc=b.Aa=void 0;b.TS=function(){return c.Nc.get(n.GP);};c=a(83989);r=a(87386);n=a(56800);d=a(84408);g=a(6405);e=a(2248);f=a(32687);l=a(79274);h=a(30869);a=a(53085);b.Aa=c.Nc.get(h.hh);b.Rc=c.Nc.get(a.gk);b.oi=c.Nc.get(d.Du);b.m8=b.oi.encode.bind(b.oi);b.BW=b.oi.decode.bind(b.oi);b.sk=c.Nc.get(g.GE);b.VQb=b.sk.encode.bind(b.sk);b.UQb=b.sk.decode.bind(b.sk);b.bAa=b.sk.JS.bind(b.sk);b.WQb=b.sk.Dxb.bind(b.sk);b.Bc=c.Nc.get(e.ti);b.ex=function(k){k=(0,f.zh)(k)?(0,b.BW)(k):k;return b.Bc.encode(k);};b.Vu=b.Bc.decode.bind(b.Bc);b.n$a=function(k){return (0,b.m8)((0,b.Vu)(k));};b.wg=c.Nc.get(r.kb);b.log=b.wg.fb("General");b.jl=function(k,m){return b.wg.fb(k,void 0,m);};b.lj=function(k,m,p){return b.wg.fb(m,k,p);};b.g2=function(k,m,p,v){return b.wg.fb(k,void 0,v,m,p);};b.X1a=function(k,m,p){return c.Nc.get(l.hZ)(k,m,p).S7();};b.La=c.Nc;},93114:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(82956);n=a(33096);d=a(29204);g=a(13044);e=a(24066);r=a(36129);f=a(31276);l=a(77134);h=a(22365);k=a(32219);m=a(32687);p=a(45118);v=a(31850);a=a(11479);t=f.La.get(a.xj);t.register(r.Y.kYa,function(w){var z;function x(){var y,A,B;y=t.startTime;A={browserua:h.JJ,browserhref:h.s$.href,initstart:y,initdelay:t.endTime - y};(y=h.Vh.documentMode) && (A.browserdm="" + y);(0,m.CT)(d.config.Feb) && (A.fesn=d.config.Feb);Object.assign(A,(0,c.Fhb)());B=h.Qy && h.Qy.timing;B && d.config.Pdc.map(function(C){var D;D=B[C];D && (A["pt_" + C]=D - (0,e.aUb)());});y=z.s6b();Object.entries(y).forEach(function(C){var D;D=Ea(C);C=D.next().value;D=D.next().value;return A["m_" + C]=D;});y=u.ht("startup","info",A,g.yw.KEa);q.Ec(y);}u=f.La.get(v.NB);q=f.La.get(p.Jn);z=f.La.get(l.xQ);t.g4(function(){q.Pb();(0,k.Rg)(x);});w(n.Vi);});},86258:function(r,b,a){var c,n,d,g,e,f,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.dIb=function(k){var v,q,u,t,w,x;function m(){q || (k.gf("pdsb"),q=g.La.get(e.gZ)().then(function(z){t=z;k.gf("pdsc");return z;}).catch(function(z){v.error("Unable to initialize the playdata services",z);k.gf("pdse");throw z;}));return q;}function p(){u=!0;t && t.close();n.ff.removeListener(n.Wm,p);}v=(0,g.lj)(k,"PlayDataManager");u=!1;w=g.La.get(d.K$);if(!w.JP || !w.HP){x=g.La.get(h.iua)();w.JP=x.cE;w.HP=x.request;}k.gf("pdctor");k.addEventListener(f.da.sg,function(){n.ff.removeListener(n.Wm,p);});k.addEventListener(f.da.sg,function(){var z;if(!u){k.Hyc();z=[(function(){return m().then(function(y){return y.t7(k.ea);}).then(function(){v.info("Sent the playdata");}).catch(function(y){v.error("Unable to send the playdata",y);});})(),(function(){return new Promise(function(y){g.La.get(l.Jn).flush(!1).catch(function(){v.error("Unable to send logblob");y(void 0);}).then(function(){y(void 0);});});})()];Promise.all(z).then(function(){k.Xia();}).catch(function(){k.Xia();});}});n.ff.addListener(n.Wm,p);return {};};c=a(33096);n=a(37509);d=a(91581);g=a(31276);r=a(36129);e=a(96687);f=a(85001);l=a(45118);b=a(11479);h=a(21892);g.La.get(b.xj).register(r.Y.RE,function(k){k(c.Vi);});},8129:function(r,b,a){var n,d,g,e,f;function c(l){this.ip=l;}Object.defineProperty(b,"__esModule",{value:!0});b.YXa=void 0;n=a(48795);d=a(45146);g=a(31276);e=a(32687);f=a(3887);c.prototype.N2=function(l,h){var k,m,p;k=this.ip;m=k.mN.Bf || m;l=(0,e.O3)(l.body)?(0,g.m8)(l.body):l.body;(0,d.X0)(l,"Msl should not be sending empty request");k={url:k.url,krb:l,withCredentials:!0,gG:"nq-" + k.method,headers:k.headers};l=this.ip.timeout;k.nda=l;k.UKa=l;p=m.download(k,function(v){try{if(v.ta)h.result({body:v.content,headers:v.headers});else if(400 === v.io && v.tc)h.result({body:v.tc,headers:v.headers});else throw (0,f.Re)(new n.default("HTTP error, SubCode: " + v.Ja + (v.io?", HttpCode: " + v.io:"")),{cadmiumResponse:v});}catch(q){h.error(q);}});return {abort:function(){p.abort();}};};b.YXa=c;},41292:function(r,b,a){var n,d,g,e,f,l,h,k,m;function c(p,v,q,u,t){this.log=p;this.ngc=v;this.mN=q;this.bq=u;this.T=t;this.Hvb=[];}Object.defineProperty(b,"__esModule",{value:!0});n=a(51411);d=a(1966);g=a(36114);e=a(14348);f=a(42979);l=a(14945);h=a(70390);k=a(94971);m=a(5988);c.prototype.dOb=function(p){this.Hvb.push(p);};c.prototype.send=function(p){var v;v=this;return new Promise(function(q,u){var t,w,x;t=p.timeout;w=new m.default.AGb(v.log,v.mN,p,v.bq.eM());x=new k.n5a(p.url);v.log.trace("Sending MSL request");v.ngc.request(v.mN,w,x,t,{result:function(z){var y;v.log.trace("Received MSL response",{Method:p.method});if(z){p.allowTokenRefresh && v.$ja();y=z.input.WS();y?(v.E1(y,p.profileGuid || p.userId),u({error:y})):v.Ymc(z,t,{result:function(A){q({headers:z.input.u2(),body:new e.saa().Jd(A)});},timeout:function(){u({subCode:this.T.YZa});},error:function(A){u({headers:z.input.u2(),error:A});}});}else u({ta:!1,error:new d.default(g.default.Ky,"Null response stream"),description:"Null response stream"});},timeout:function(){u({ta:!1,subCode:this.T.ZZa});},error:function(z){u({ta:!1,error:z});}});});};c.prototype.E1=function(p,v){p.errorCode === n.default.J.wf || p.errorCode === n.default.J.ih?(this.bq.OTb(),this.$ja()):p.errorCode !== n.default.J.ee && p.errorCode !== n.default.J.Jc || this.j6(v);};c.prototype.JGa=function(){return this.bq.JGa();};c.prototype.j6=function(p){if(p=this.bq.qv(p))(this.bq.j6(p),this.$ja());};c.prototype.Hac=function(p){return p && p.errorCode == n.default.J.Jc;};c.prototype.Gac=function(p){return p instanceof h.IX;};c.prototype.t5b=function(p){return p && p.errorCode;};c.prototype.Z7b=function(p){var v,q;v=this.bq.Yz();p=this.bq.qv(p);q=v?this.bq.wx(v):null;return {Qb:v,uf:p,Mm:q};};c.prototype.Ymc=function(p,v,q){var u;u=[];(function w(){p.input.read(-1,v,{result:function(x){(0,f.default)(q,function(){if(x)(u.push(x),w());else switch(u.length){case 0:return new Uint8Array(0);case 1:return u[0];default:return l.default.concat(u);}},null);},timeout:function(){q.timeout();},error:function(x){q.error(x);}});})();};c.prototype.$ja=function(){var p;p=this;this.bq.d8b({result:function(v){for(var q=p.Hvb.slice(),u=0;u < q.length;u++)q[u]({buc:v});},timeout:function(){p.log.error("Timeout getting store state","");},error:function(v){p.log.error("Error getting store state","" + v);}});};c.prototype.FG=function(p){var v;v=this.bq.Yz();(p=this.bq.qv(p)) && !p.Hg(v) && (p=null);return this.bq.FG(v,p);};c.prototype.toc=function(){var p;p=this.bq.Yz();this.bq.FG(p,null).find(function(v){return "cad" === v.name;}) && (this.bq.Rka("cad",p,null),this.$ja());};b["default"]=c;},5988:function(r,b,a){var d,g,e,f,l,h;function c(k,m){this.nf=k;this.ip=m;}function n(k,m,p,v){this.nf=k;this.RLb=m;this.ip=p;this.kF=v;}Object.defineProperty(b,"__esModule",{value:!0});d=a(23710);g=a(48795);e=a(49123);f=a(14348);l=a(42979);h=a(61693);n.prototype.oGa=function(){return null;};n.prototype.bha=function(){return !1;};n.prototype.ufa=function(){return {};};n.prototype.E3=function(){return !!this.ip.encrypted;};n.prototype.Br=function(){return !!this.ip.nonReplayable;};n.prototype.K3=function(){return !0;};n.prototype.Cx=function(){return this.ip.profileGuid || this.ip.userId || null;};n.prototype.dga=function(k,m,p,v){var q;q=this.ip;(0,l.default)(v,function(){return k || !q.shouldSendUserAuthData?null:q.email?new d.Mpa(q.email,q.password):q.useNetflixUserAuthData || p && q.sendUserAuthIfRequired?new e.Usa():null;},null);};n.prototype.eM=function(k){k.result(this.ip.allowTokenRefresh?[this.kF]:[]);};n.prototype.XRa=function(k,m,p){var v,q,u,t,w;v=this.nf;q=(this.ip.serviceTokens || []).slice();u=this.RLb;m=u.Xk;t=k.Za.Yz();w=m.qv(this.Cx());(function z(){var y;y=q.shift();if(y)try{y instanceof h.N3a?(k.T8a(y),z()):(0,h.Nja)(u,y,t,w,null,{result:function(A){try{k.T8a(A);}catch(B){v.warn("Exception adding service token","" + B);}z();},error:function(A){v.warn("Error parsing service token","" + A);z();}});}catch(A){v.warn("Exception processing service token","" + A);z();}else p.result(!0);})();};n.prototype.write=function(k,m,p){var v;v=new f.saa().Uc(this.ip.body);k.write(v,0,v.length,m,{result:function(q){q != v.length?p.error(new g.default("Not all data was written to output.")):k.flush(m,{result:function(){p.result(!0);},timeout:function(){p.timeout();},error:function(u){p.error(u);}});},timeout:function(){p.timeout();},error:function(q){p.error(q);}});};n.prototype.xfa=function(){this.n6a || (this.n6a=new c(this.nf,this.ip));return this.n6a;};c.prototype.Uqc=function(k){this.nf.trace("Sent MSL header",this.qr(this.ip,k),("serviceTokens" in k) && k.mI.map(this.tec).join("\n"));};c.prototype.rnc=function(k){var m,p;m=this.qr(this.ip,k);p=k.errorCode;p?this.nf.warn("Received MSL error header",m,{errorCode:p,errorMessage:null === k || void 0 === k?void 0:k.errorMessage,internalCode:null === k || void 0 === k?void 0:k.u3}):this.nf.trace("Received MSL header",m);};c.prototype.qr=function(k,m){var p,v;p=null === m || void 0 === m?void 0:m.Qb;v=null === m || void 0 === m?void 0:m.uf;m=null === m || void 0 === m?void 0:m.mI;return {NccpMethod:k.method,UserId:k.userId,UT:v && v.Ye,MT:p && p.Ye + ":" + p.bk,STCount:m && m.length};};c.prototype.tec=function(k){return k.eh();};b["default"]={AGb:n,vDc:c};},49614:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t;function c(w,x,z,y,A,B){var C,D,E;C=k.Lsa.call(this) || this;D=new h.L_a([q.JE.mra],null,null);E=new e.h3a();E.xOb(x,z);y[f.GB.qQ]=new g.g3a(null,E);x={};x[u.zaa.Dpa]=new n.xWa();x[t.w$.Qsa]=new d.e0a();z=new v.HVa();E=new p.$Ua();C.sba=E;C.eC=D;C.Jf=z;C.gK=A;C.RKb=y;C.kNb=x;C.vLb=B;C.Xk=w;return C;}Object.defineProperty(b,"__esModule",{value:!0});n=a(25606);d=a(79925);g=a(18089);e=a(88774);f=a(36332);l=a(75948);h=a(68480);k=a(38470);m=a(31809);p=a(48603);v=a(30370);q=a(51411);u=a(91331);t=a(32256);Ha(c,k.Lsa);c.prototype.getTime=function(){return Date.now();};c.prototype.yhb=function(){return new m.O2a();};c.prototype.Bfa=function(w){w.result(this.gK);};c.prototype.s5b=function(w){return f.default.P2(w);};c.prototype.Cfa=function(w){return this.RKb[w];};c.prototype.C8b=function(w){return u.default.P2(w);};c.prototype.dib=function(w){return this.kNb[w];};c.prototype.Egb=function(w){return l.default.P2(w);};c.prototype.OFa=function(w){return this.vLb.filter(function(x){return x.scheme == w;})[0];};b["default"]=c;},74810:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z;function c(y,A,B,C,D,E){var F;F=p.tQ.call(this) || this;F.nf=y;F.u6a=A;F.kF=B;F.yKb=C;F.$7a=D;F.RQ=E;return F;}Object.defineProperty(b,"__esModule",{value:!0});n=a(50441);d=a(1966);g=a(36114);e=a(44127);f=a(42979);l=a(96837);h=a(10558);k=a(43088);m=a(9E3);p=a(25137);v=a(58892);q=a(85065);u=a(61693);t=a(72672);w=a(60426);x={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};Ha(c,p.tQ);c.prototype.b7=function(y,A,B){var C;C=this;C.nf.trace("Adding MasterToken",{SequenceNumber:y.bk,SerialNumber:y.Ye,Expiration:y.Xl().getTime()});p.tQ.prototype.b7.call(this,y,A);!B && (y=C.yKb) && (C.nf.trace("Generating new keyx request data"),y().then(function(D){D=Ea(D);C.kF=D.next().value;C.Gxa=D.next().value;},function(D){C.nf.error("Unable to generate new keyx request data","" + D);}));};c.prototype.Xba=function(y,A){this.nf.trace("Adding UserIdToken",{UserId:y,SerialNumber:A.Ye,MTSerialNumber:A.Ki,Expiration:A.Xl().getTime()});p.tQ.prototype.Xba.call(this,y,A);};c.prototype.Wba=function(y){p.tQ.prototype.Wba.call(this,y.filter(function(A){return !x[A.name];}));};c.prototype.JGa=function(){var y,A;y=[];for(A in this.gw)y.push(A);return y;};c.prototype.eM=function(){return this.kF;};c.prototype.d8b=function(y){var A;A=this;(0,f.default)(y,function(){var B;B=A.Yz();B?A.c6b(B,{result:function(C){(0,f.default)(y,function(){var D,E;D=A.gw;E=Object.keys(D).map(function(F){var G;G=D[F];return {userId:F,userIdTokenJSON:A.toJSON(D[F]),serviceTokenJSONList:A.FG(B,G).map(A.toJSON)};});C.esn=A.u6a;C.masterTokenJSON=A.toJSON(B);C.userList=E;A.Gxa && Object.keys(A.Gxa).forEach(function(F){C[F]=A.Gxa[F];});return C;},null);},timeout:y.timeout,error:y.error}):y.result(null);},null);};c.prototype.c6b=function(y,A){var B;B=this;(0,f.default)(A,function(){var C;C=B.wx(y);if(!(C instanceof t.Xva))throw new d.default(g.default.Ky,"CryptoContext was not a SymmetricCryptoContext");C={encryptionKey:C.nt,hmacKey:C.hE};if(C.encryptionKey && C.hmacKey){if(B.RQ)B.azc(C,A);else return C;}else throw new d.default(g.default.Ky,"Unable to get CryptoContext keys");},null);};c.prototype.toJSON=function(y){return {tokendata:(0,e.qh)(y.Lo),signature:(0,e.qh)(y.sj)};};c.prototype.Uhb=function(y,A){z?A.result(z):Promise.resolve().then(function(){return n.Vf.generateKey({name:y},!1,["wrapKey","unwrapKey"]);}).then(function(B){z=B;A.result(z);}).catch(function(){A.error(new d.default(g.default.Ky,"Unable to get system key"));});};c.prototype.azc=function(y,A){var B;B=this;this.Uhb(this.$7a,{result:function(C){(0,f.default)(A,function(){var D,E,F,G;D=y.encryptionKey;E=y.hmacKey;F=D.$netflix$msl$wrapsys;G=E.$netflix$msl$wrapsys;if(F && G)return {bzc:F,czc:G};Promise.resolve().then(function(){return Promise.all([n.Vf.wrapKey(B.RQ,D,C,C.algorithm),n.Vf.wrapKey(B.RQ,E,C,C.algorithm)]);}).then(function(J){F=(0,e.qh)(J[0],!0);D.$netflix$msl$wrapsys=F;G=(0,e.qh)(J[1],!0);E.$netflix$msl$wrapsys=G;A.result({bzc:F,czc:G});}).catch(function(J){A.error(new d.default(g.default.Ky,"Error wrapping key with SYSTEM key",J));});},null);},timeout:A.timeout,error:A.error});};c.prototype.Lwc=function(y,A){var B;B=this;this.Uhb(this.$7a,{result:function(C){(0,f.default)(A,function(){var D,E;D=(0,e.fj)(y.wrappedEncryptionKey,!0);E=(0,e.fj)(y.wrappedHmacKey,!0);Promise.resolve().then(function(){return Promise.all([n.Vf.unwrapKey(B.RQ,D,C,C.algorithm,l.fe.UI,!1,h.cC.y9),n.Vf.unwrapKey(B.RQ,E,C,C.algorithm,l.fe.SP,!1,h.cC.sQ)]);}).then(function(F){var G;G=F[0];F=F[1];G.$netflix$msl$wrapsys=y.wrappedEncryptionKey;F.$netflix$msl$wrapsys=y.wrappedHmacKey;A.result({encryptionKey:G,hmacKey:F});}).catch(function(F){A.error(new d.default(g.default.Ky,"Error wrapping key with SYSTEM key",F));});},null);},timeout:A.timeout,error:A.error});};c.prototype.Ddc=function(y,A,B,C){var F,G;function D(J,N){var I;try{I=B.userList.slice();}catch(M){}I?(function K(){var L,H;L=I.shift();H={};if(L){for(var O in L.userIdTokenJSON)H[O]=(0,e.fj)(L.userIdTokenJSON[O]);H=new m.Uh(H);(0,q.hMa)(A,H,J,{result:function(P){try{F.Xba(L.userId,P);E(J,P,L.serviceTokenJSONList,{result:K,timeout:K,error:K});}catch(Q){K();}},error:function(){K();}});}else N.result();})():N.result();}function E(J,N,I,M){var K,L;try{K=I.slice();}catch(H){}if(K){L=F.wx(J);(function O(){var P,Q;P=K.shift();Q={};if(P){for(var S in P)Q[S]=(0,e.fj)(P[S]);P=new m.Uh(Q);Q=A.Jf.pn(P.get("tokendata")).Jd("name");S={};S[Q]=L;(0,u.Nja)(A,P,J,N,S,{result:function(X){F.Wba([X]);O();},error:function(){O();}});}else M.result();})();}else M.result();}F=this;G=F.nf;B.esn != F.u6a?(G.error("Esn mismatch, starting fresh"),C.error()):(function(J){var M,K,L,H,O;function N(){!M && K && L && H && (M=!0,new w.Dva(L,{result:function(Q){new w.Dva(H,{result:function(S){S=new k.rZ(A,K,y.esn,Q,S);F.b7(K,S,!0);J.result(K);},error:J.error});},error:J.error}));}function I(Q,S){G.error(Q,S && "" + S);M || (M=!0,J.error(new d.default(g.default.Ky,Q)));}O={};if(B.masterTokenJSON){for(var P in B.masterTokenJSON)O[P]=(0,e.fj)(B.masterTokenJSON[P]);O=new m.Uh(O);(0,v.Kja)(A,O,{result:function(Q){K=Q;N();},error:function(Q){I("Error parsing MasterToken",Q);}});F.RQ?F.Lwc(B,{result:function(Q){L=Q.encryptionKey;H=Q.hmacKey;N();},timeout:function(){I("Timeout unwrapping keys");},error:function(Q){I("Error unwrapping keys",Q);}}):Promise.resolve().then(function(){return n.Vf.encrypt({name:l.fe.UI.name,iv:new Uint8Array(16)},B.encryptionKey,new Uint8Array(1));}).then(function(){L=B.encryptionKey;}).catch(function(){I("Error loading encryptionKey");}).then(function(){return n.Vf.sign(l.fe.SP,B.hmacKey,new Uint8Array(1));}).then(function(){H=B.hmacKey;N();}).catch(function(){I("Error loading hmacKey");});}else I("Persisted store is corrupt");})({result:function(J){D(J,C);},timeout:C.timeout,error:C.error});};b["default"]=c;},24354:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.YUb=function(d){return (0,n.ZUb)(d,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},c.rs.Yqa);};c=a(93562);n=a(43124);},43124:function(r,b,a){var c,n,d,g,e,f,l,h,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.ZUb=function(p,v,q){var w;function u(){return Promise.resolve().then(function(){return d.Vf.generateKey(v,!1,["wrapKey","unwrapKey"]);}).then(function(x){return t(x.publicKey,x.privateKey);});}function t(x,z){return Promise.all([new Promise(function(y,A){new e.R$(x,{result:y,error:function(B){A(new k.default(m.default.Ky,"Unable to create keyx public key",B));}});}),new Promise(function(y,A){new f.E2a(z,{result:y,error:function(B){A(new k.default(m.default.Ky,"Unable to create keyx private key",B));}});})]).then(function(y){return [new c.W2a("rsaKeypairId",q,y[0],y[1]),w?{keyxPublicKey:x,keyxPrivateKey:z}:null];});}w=!p.systemKeyWrapFormat;return Promise.resolve().then(function(){var x,z;x=p.storeState;z=x && x.keyxPublicKey;x=x && x.keyxPrivateKey;return w && z && x?t(z,x):u();}).then(function(x){var z,y,A;x=x[0];z={};z[n.GB.NONE]=new l.m5a(new g.ata());y=new h.swa(p.esn);A=[new c.PTa(new g.ata())];return {i1b:z,h1b:y,Xbc:A,hA:x,tXb:w?u:void 0};});};c=a(93562);n=a(36332);d=a(50441);g=a(18461);e=a(42486);f=a(36911);l=a(28296);h=a(2479);k=a(1966);m=a(36114);},65799:function(r,b,a){var d,g,e,f,l,h,k,m,p,v,q,u,t,w;function c(){return h.m$.apply(this,arguments) || this;}function n(){return l.Vsa.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.nEb=void 0;b.GXb=function(x,z){var y,A,B,C,D;y=x.log;A=x.notifyMilestone || (function(){});Promise.resolve().then(function(){var E;if(!(g.Ol && g.Ol.generateKey && g.Ol.importKey && g.Ol.unwrapKey))throw new q.default(v.default.Ky,"No WebCrypto");E=g.Ol.generateKey({name:"AES-CBC",length:128},!0,p.cC.y9);(0,e.NPa)("function" === typeof E.then?e.Eb.fp:e.Eb.Gq);A("mslisik");return e.Vf.importKey("spki",x.serverIdentityKeyData,m.fe.nZ,!1,["verify"]);}).then(function(E){return new Promise(function(F,G){new k.R$(E,{result:F,error:function(){G(new q.default(v.default.dFb,"Unable to create server identity verification key"));}});});}).then(function(E){B=E;A("mslcc");return (0,d.YUb)(x);}).then(function(E){var F;C=new w.default(y,x.esn,E.hA,E.tXb,x.authenticationKeyNames.s,x.systemKeyWrapFormat);D=new u.default(C,x.serverIdentityId,B,E.i1b,E.h1b,E.Xbc);F=x.storeState;if(F)return (A("mslss"),y.info("Loading store state"),new Promise(function(G){C.Ddc(x,D,F,{result:G,timeout:G,error:G});}));y.info("No store state, starting fresh");}).then(function(){var E;E=new f.R_a(void 0,new n());A("msldone");z.result(new t.default(y,E,D,C,x.ErrorSubCodes));}).catch(function(E){z.error(E);});};d=a(24354);g=a(22365);e=a(50441);f=a(84898);l=a(61368);h=a(34801);k=a(42486);m=a(96837);p=a(10558);v=a(36114);q=a(1966);u=a(49614);t=a(41292);w=a(74810);Ha(n,l.Vsa);n.prototype.cCa=function(x,z,y,A,B,C){new c(x,z,y,A,B,C);};Ha(c,h.m$);c.prototype.u2=function(){return "function" === typeof this.Rq.u2?this.Rq.u2() || ({}):{};};b.nEb=c;},46493:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A,B,C,D,E,F,G;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);n=a(62807);d=a(80824);g=a(50040);e=a(1481);f=a(29204);l=a(33096);h=a(36129);k=a(45146);m=a(31276);p=a(77134);v=a(63156);q=a(17892);u=a(3887);t=a(22365);w=a(52569);x=a(45842);z=a(5021);r=a(11479);y=a(50681);A=a(59219);B=a(32934);C=a(71501);D=a(65799);E=a(8129);F={};G=m.La.get(r.xj);G.register(h.Y.mYa,function(J){var K,L,H,O,P,Q,S,X,W,V,fa;function N(ba){var ca;ba && ba.userList && f.config.Esc && (ba.userList=[]);ca=new n.L5a();d.Osa.ef(ca);ba={esn:e.Pm.Sl,esnPrefix:e.Pm.er,authenticationKeyNames:f.config.EQb,systemKeyWrapFormat:f.config.$uc,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:V,storeState:ba,notifyMilestone:G.gf.bind(G),log:H,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:h.T.ZZa,MSL_READ_TIMEOUT:h.T.YZa}};(0,D.GXb)(ba,{result:function(ia){I(ia);},timeout:function(){J({Ja:h.T.XZa});},error:function(ia){J(M(h.T.XZa,void 0,ia));}});}function I(ba){var ia,na,oa;function ca(){W && m.La.get(q.DE).create().then(function(T){return T.save(Q,oa,!1);}).catch(function(T){H.error("Error persisting msl store",(0,h.HB)(T));});}ia=this;na=m.La.get(x.SJ)((0,z.bc)(100));P && ba.dOb(function(T){oa=T.buc;na.ah(ca);});(0,u.Re)(F,{aKc:function(){X=!0;},send:function(T){function Z(){var aa,R;aa=T.mN;R={method:T.method,nonReplayable:T.Dob,encrypted:T.sx,userId:T.qzb,body:T.body,timeout:2 * T.timeout,url:new E.YXa(T),allowTokenRefresh:W,sendUserAuthIfRequired:fa,shouldSendUserAuthData:f.config.Lsc};aa.email?(R.email=aa.email,R.password=aa.password || ""):X && (R.useNetflixUserAuthData=!0);return R;}return new Promise(function(aa,R){var Y;Y=Z();ba.send(Y).then(function(ea){X && (X=!1);aa({body:ea.body,headers:ea.headers});}).catch(function(ea){ea.error?R(M(ea.error.cadmiumResponse && ea.error.cadmiumResponse.Ja?ea.error.cadmiumResponse.Ja:ba.Hac(ea.error)?h.T.WZa:ba.Gac(ea.error)?h.T.UFb:h.T.TFb,ba.t5b(ea.error),ea.error)):(H.error("Unknown MSL error",ea),ea.subCode=ea.subCode,R({Ja:ea.subCode?ea.subCode:h.T.ZFb}));});});},lU:ba});A.VJ.gR.mslFetch=function(T,Z){return c.__awaiter(ia,void 0,void 0,function R(){var Y,ea,ka;return Ua(R,function(ha){if(1 == ha.cq)return (Y=m.La.get(C.pQ),Za(ha,F.send({mN:{Bf:m.La.get(B.Ly),profile:Y},timeout:8E3,url:T.toString(),body:null === Z || void 0 === Z?void 0:Z.body,headers:{"Content-Encoding":"msl_v1","Content-Type":"application/json"},qzb:Y,Boc:!1,Dob:!0,sx:!0}),2));ea=ha.NW;ka={get body() {this.bodyUsed=!0;return ea.body;}};return ha.return((ka.bodyUsed=!1,ka.ok=!0,ka.status=200,ka.statusText="OK",ka.type="basic",ka.url=T.toString(),ka.headers=new Headers(ea.headers),ka.text=function(){return Promise.resolve(this.body);},ka.json=function(){return Promise.resolve(JSON.parse(this.body));},ka.arrayBuffer=function(){return Promise.resolve(new Uint8Array(this.body));},ka.clone=function(){return Object.assign({},this);},ka.blob=function(){return this.arrayBuffer().then(function(U){return new Blob([U]);});},ka.formData=function(){throw Error("Not implemented");},ka.redirected=!1,ka));});});};J(l.Vi);m.La.get(y.Nsa).sgc(F);}function M(ba,ca,ia){var na,oa,T,Z;T={Ja:ba,Gea:ca};if(ia){Z=function(aa){var R;aa=aa || "" + ia;if(ia.stack){R="" + ia.stack;aa=0 <= R.indexOf(aa)?R:aa + R;}return aa;};if(oa=ia.cadmiumResponse){if(na=oa.Af && oa.Af.toString())oa.Af=na;oa.Ja=ba;oa.Gea=ca;oa.tc=Z(ia.message);oa.error={subCode:ba,extCode:na,QD:ca,data:ia.cause,message:ia.message};return oa;}Z=Z(ia.errorMessage);na=(0,u.Ck)(ia.u3) || (0,u.Ck)(ia.error && ia.error.u3);oa=void 0 !== ia.F1?(0,w.apb)(ia.F1):void 0;}Z && (T.tc=Z);na && (T.Af=na);T.error={subCode:ba,extCode:na.toString(),QD:ca,data:oa,message:Z};return T;}(0,k.oa)(f.config);if(t.XE && t.Ol && t.Ol.unwrapKey){K=m.La.get(p.xQ);L=v.wm.Gl;H=(0,m.jl)("Msl");O=f.config.ogc;P=f.config.qgc;Q=f.config.aD?"mslstoretest":"mslstore";S=g.GO.Nub;X=!0;W=!S || S.ta;V=(0,m.Vu)(f.config.aD?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");fa=!!f.config.fPa;m.La.get(q.DE).create().then(function(ba){O?ba.remove(Q).then(function(){N();}).catch(function(ca){H.error("Unable to delete MSL store",(0,h.HB)(ca));N();}):P?ba.load(Q).then(function(ca){K.mark(L.WFb);N(ca.value);}).catch(function(ca){ca.Ja == h.T.ZB?(K.mark(L.YFb),N()):(H.error("Error loading msl store",(0,h.HB)(ca)),K.mark(L.XFb),ba.remove(Q).then(function(){N();}).catch(function(ia){J(ia);}));}):N();}).catch(function(ba){H.error("Error creating app storage while loading msl store",(0,h.HB)(ba));J(ba);});}else J({Ja:h.T.VFb});});},78719:function(r,b,a){var c,n,d,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.SDb=function(f,l){function h(m){var p,v;p=m.error || m;v=(0,d.Fg)(p);l.error("uncaught exception",p,v);(p=(p=p && p.stack) && c.config.nyb && c.config.Cwc?0 <= p.indexOf(c.config.nyb):void 0) && (m && m.stopImmediatePropagation && m.stopImmediatePropagation(),f.Gd(g.Y.d5a));}function k(){n.ff.removeListener(n.gga,h);f.removeEventListener(e.da.sg,k);f.removeEventListener(e.da.dy,k);}try{n.ff.addListener(n.gga,h);f.addEventListener(e.da.sg,k);c.config.m$b && f.addEventListener(e.da.dy,k);}catch(m){l.error("exception in exception handler ",m);}};c=a(29204);n=a(37509);d=a(3887);g=a(36129);e=a(85001);},42654:function(r,b,a){var c,n,d,g,e,f,l,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.YEb=function(m){var v,q,u,t;function p(){m.state.value !== l.qc.cf || m.Ib.value !== l.wb.vi && m.Ib.value !== l.wb.uu?q.Xr():q.qG();}v=c.config.dkc;if(!m.AT() && v){q=h.La.get(k.AZ)(v,function(){m.fireEvent(l.da.nT,d.Y.D$);});m.Ib.addListener(p);m.state.addListener(p);if(c.config.zHa){u=(0,n.$s)();t=new g.P2a(c.config.zHa,function(){var w,x;w=(0,n.$s)();x=w - u;x > v && (m.fireEvent(l.da.nT,d.Y.S9),t.Jab());x > 2 * c.config.zHa && (m.AHa=(0,e.uw)(x,m.AHa || 0));u=w;});t.hsc();}m.addEventListener(l.da.sg,function(){q.Xr();(0,f.Zc)(t) && t.Jab();});}};c=a(29204);n=a(24066);d=a(36129);g=a(981);e=a(22365);f=a(32687);l=a(85001);h=a(31276);k=a(4246);},33059:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t,w;function c(x,z){this.j=x;this.ak=z;this.Wuc=!1;this.log=(0,g.lj)(this.j,"MediaAppendManager");this.Fb=this.j.Fb;this.ha=this.Fb.ha;this.u8=this.g0=!1;this.audio={type:d.Dl.audio,Jz:[],hn:[],LU:!1};this.video={type:d.Dl.video,Jz:[],hn:[],LU:!1};x={};this.$O=(x[t.u.V]=this.video,x[t.u.X]=this.audio,x);this.closed=!1;this.JD=n.config.JD;this.uia=n.config.uia;this.KH=this.j.lb.yh?n.config.KLa:n.config.KH;this.i$a=!0;this.Bc=g.La.get("Base64EncoderSymbol");this.IEa=!1;this.qMa=[];(0,f.oa)(this.JD > this.uia,"bad config");(0,f.oa)(this.JD > this.KH,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.l_a=void 0;n=a(29204);d=a(51344);g=a(31276);e=a(36129);f=a(45146);l=a(3887);h=a(33096);k=a(85001);m=a(93294);p=a(5021);v=a(63156);q=a(75568);u=a(69931);t=a(26388);w=a(79048);c.prototype.nfa=function(){var y,A;function x(B,C){return z(B,C.mia);}function z(B,C){var D,E,F,G;F=!!C.response;G=C.response;if(C.De)return B + (G.byteLength || 0);C=(null !== (D=null === C || void 0 === C?void 0:C.Rca) && void 0 !== D?D:0) - (null !== (E=null === C || void 0 === C?void 0:C.Sca) && void 0 !== E?E:0);return (F?G.byteLength:C) + B;}y=this.$O[t.u.V];A=this.$O[t.u.X];return {videoToAppend:y.hn.reduce(z,0),videoInBuffer:y.Jz.reduce(x,0),audioToAppend:A.hn.reduce(z,0),audioInBuffer:A.Jz.reduce(x,0)};};c.prototype.lhc=function(){this.audio.ed && !this.audio.ed.Ei() && (!1,this.audio.ed.w9a(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.Vrc=function(){this.audio.RPa=!0;this.video.RPa=!0;};c.prototype.csc=function(x){x === t.u.X?this.g0=!0:x === t.u.V && (this.u8=!0);};c.prototype.Ei=function(){var x,z;return !(null === (x=this.audio.ed) || void 0 === x || !x.Ei()) || !(null === (z=this.video.ed) || void 0 === z || !z.Ei());};c.prototype.Z6=function(x){var z,y;null === (z=this.audio.ed) || void 0 === z?void 0:z.Z6(x);null === (y=this.video.ed) || void 0 === y?void 0:y.Z6(x);};c.prototype.sPb=function(x){var z;x.mediaType === t.u.X?this.g0=!1:x.mediaType === t.u.V && (this.u8=!1);z=this.$O[x.mediaType];z?z.hn.push(x):(0,f.oa)(!1);};c.prototype.rPb=function(x,z,y){var A;A=this;z=this.K$a(x.mediaType,z,y);if(!this.IEa)if(x.mediaType === t.u.V)(this.Glc(x),this.IEa=!0,this.qMa.forEach(function(B){return A.xza(B);}),this.qMa=[]);else {this.qMa.push(z);return;}this.xza(z);};c.prototype.xza=function(x){var z;z=this.$O[x.mediaType];z?z.hn.push(x):(0,f.oa)(!1);};c.prototype.K$a=function(x,z,y){return {mediaType:x,Ox:!1,response:z,Fi:function(){return "header";},get De() {return !this.Ox;},profile:y.profile};};c.prototype.Glc=function(x){(0,f.oa)(!!x.jwb,"startOfSegment properties need to be set before first header is appended");this.IEa || !n.config.f3b || !this.j.jga() && !this.j.iT() || x.jwb.jkb || (this.log.trace("Force appending encrypted stream header first to allow mixed clear & encrypted content"),x=this.Bc.decode(h.YTa),this.xza(this.K$a(t.u.V,x,{profile:q.v.IB})));};c.prototype.asc=function(x){var z;z=this.$O[x.type];if(z)try{z.ed=x;}catch(y){this.Gd(e.Y.vta,{Ja:(0,m.zFa)(x.type),tc:(0,l.Fg)(y)});}};c.prototype.close=function(){this.ha=this.Fb=void 0;this.closed=!0;};c.prototype.Gd=function(x,z,y){this.closed || this.j.Gd(x,z,y);};c.prototype.ICa=function(x){return this.fdb(this.audio,x,this.Nda()) && this.fdb(this.video,x,this.Nda());};c.prototype.Nda=function(){return this.j.Ib.value === k.wb.og?this.KH:this.uia;};c.prototype.Ivc=function(){var x,z;x=this.video.hn.filter(function(y){return !y.De;}).reduce(function(y,A){return y + A.ug;},0);z=this.audio.hn.filter(function(y){return !y.De;}).reduce(function(y,A){return y + A.ug;},0);return Math.min(x,z);};c.prototype.fdb=function(x,z,y){var A;A=x.JCa;A=A && A.mia;return !x.ed || 0 === x.hn.length && (x.type === d.Dl.audio && this.g0 || x.type === d.Dl.video && this.u8)?!0:A && A.ZH - z >= y || !1;};c.prototype.dyb=function(x){this.Wuc || (this.cyb(this.audio,x),this.cyb(this.video,x));this.closed || this.kab();};c.prototype.kab=function(){var x,z,y,A,B,C;A=!this.audio.ed || 0 !== this.audio.Jz.length;B=0 === this.video.hn.length && this.u8;C=!this.video.ed || 0 !== this.video.Jz.length;!(0 === this.audio.hn.length && this.g0 && C || B && A) || (null === (x=this.audio.ed) || void 0 === x?0:x.Ei()) || (null === (z=this.video.ed) || void 0 === z?0:z.Ei()) || this.KDa || !(this.ha.readyState > v.wm.QE.HAVE_NOTHING) || this.ak.J3 || (this.KDa=!0,null === (y=this.Fb) || void 0 === y?void 0:y.endOfStream());};c.prototype.cyb=function(x,z){var y,A,B,C;if(!this.closed && x.ed){A=x.ed;B=x.Jz;!A.Ei() && 0 < B.length && (x.JCa=B[B.length - 1]);if(x.RPa){if(A.Ei())return;x.RPa=!1;C=null === (y=this.Fb) || void 0 === y?void 0:y.XFa().SMa(p.pa);C && 0 < C && A.remove(0,C / h.wu);}for(y=x.hn[0];y && y.response && (y.De || y.aV - z <= this.JD);)if((this.KDa=!1,this.rwc(y)))(x.hn.shift(),y=x.hn[0]);else break;!A.Ei() && 0 < B.length && (x.JCa=B[B.length - 1]);}};c.prototype.rwc=function(x){var z,y,A;!1;(0,f.oa)(x && !!x.response);z=x.response;y=x.mediaType;A=this.$O[y];if(!this.closed && A.ed && !A.ed.Ei()){try{x.De && x.profile && A.ed.dTb(x.profile);this.log.trace("Feeding media segment to decoder",{Bytes:z.byteLength});A.ed.w9a(z,x);x.De || A.Jz.push(this.YWb(x));}catch(B){"QuotaExceededError" === B.name?(this.j.Pda=this.j.Pda?this.j.Pda + 1:1,this.i$a=!1,A.LU=!0):(this.log.error("Exception while appending media",x,B),this.Gd("CodecSwitchingError" === B.name?e.Y.X0a:e.Y.OHb,(0,m.zFa)(y)));return;}return !0;}};c.prototype.RWb=function(x){var z;if(u.Pva[x.Jb])return u.Pva[x.Jb];z=this.j.vib(x.vd);z || (this.log.warn("Could not find CDN",{cdnId:x.vd}),z={id:x.vd,kmb:x.location});return z;};c.prototype.mCa=function(x){var z,y;z=x.Jb;if(u.Qva[z])return u.Qva[z];x.mediaType === t.u.X?y=this.j.qib(z):x.mediaType === t.u.V && (y=this.j.Iib(z));y || this.log.error("Could not find stream",{stream:z});return y;};c.prototype.YWb=function(x){var z,y,A,B;y=this.mCa(x);A={startTime:Math.floor(x.aV),endTime:Math.floor(x.ZH)};B=null === y || void 0 === y?void 0:y.track.Nr;"content" === B && (null === (z=this.j.cb) || void 0 === z?0:z.Lj) && (z=this.j.cb.Lj.ba[x.L],z.type === w.gd.qd || z.type === w.gd.Kb) && (B="ads");return {mia:x,stream:y,AR:A,Tc:this.RWb(x),Nr:B};};c.prototype.WAa=function(x){this.qab(x,t.u.X);this.qab(x,t.u.V);};c.prototype.qab=function(x,z){var y,A,B,C,D,E,F,G,J;y=this;B=x;this.i$a && (B-=n.config.fN);C=this.$O[z];D=C.Jz;G=!1;D.some(function(N,I){var M;M=N.mia;if(x < M.aV)return ((0,f.oa)(!1,"decoder content does not contain media time"),!0);B >= M.ZH && (E=I);if(x < M.ZH)return (F=I,I=z === t.u.X?y.j.hf:y.j.Ue,N !== I.value && (I.set(N),G=!0),!0);});if((C.LU || G) && void 0 !== E && !this.KDa){if(E + 1 === F){if(0 === E)return;E--;}J=E === D.length - 1?null === (A=this.Fb) || void 0 === A?void 0:A.XFa().SMa(p.pa):D[E].mia.ZH - 1;!1;J && 0 < J && ((A=C.ed) && !A.Ei()?(A.remove(0,J / h.wu),C.LU=!1,D.splice(0,E + 1)):(C.LU=!0,!1));}};c.prototype.utb=function(){!1;[this.audio,this.video].forEach(function(x){x.Jz=[];x.JCa=void 0;x.hn=[];});this.u8=this.g0=!1;this.j.fireEvent(k.da.D4);};c.prototype.IGa=function(){return [this.audio,this.video].filter(function(x){return x.ed;});};c.prototype.D4b=function(){var x,z;if(this.Ei())(0,f.oa)(!1,"should not be busy while checking buffer ranges");else {x=this.IGa().map(function(y){var A,B,C,D,E;D=y.hn.filter(function(F){return F.Ox;});E=y.ed.buffered();y=E.length?Math.ceil(1E3 * E.start(0)):void 0;E=E.length?Math.floor(1E3 * E.end(E.length - 1)):void 0;y=null !== y && void 0 !== y?y:null === (A=D[0]) || void 0 === A?void 0:A.aV;A=null !== (C=null === (B=D[D.length - 1]) || void 0 === B?void 0:B.ZH) && void 0 !== C?C:E;if(void 0 !== y && void 0 !== A)return {start:y,end:A};});if(x.every(function(y){return y;})){z=Math.max.apply(Math,xa(x.map(function(y){return y.start;})));x=Math.min.apply(Math,xa(x.map(function(y){return y.end;})));if(x > z)return {start:(0,p.bc)(z),end:(0,p.bc)(x)};}}};c.prototype.skip=function(x){(0,f.oa)(!this.Ei(),"should not be busy while skipping");this.IGa().forEach(function(z){z.LU=!0;});this.WAa(x);this.IGa().forEach(function(z){0 < z.Jz.length || (z.hn=z.hn.filter(function(y){return y.De || y.ZH > x?!0:!1;}));});};b.l_a=c;},36582:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qsa="MediaElementHelpersSymbol";},50093:function(r,b,a){var n,d,g;function c(e){this.config=e;}Object.defineProperty(b,"__esModule",{value:!0});b.psa=void 0;r=a(5163);n=a(4203);d=a(33096);a=a(22674);c.prototype.xx=function(){return (/widevine/i).test(this.config().Tp)?d.Bpa:(/fps/i).test(this.config().Tp)?"fairplay":d.v9;};g=c;b.psa=g;b.psa=g=r.__decorate([(0,a.W)(),r.__param(0,(0,a.l)(n.uc))],g);},90762:function(r,b,a){var d,g,e,f,l,h,k,m,p,v,q,u;function c(t){t=Error.call(this,t);this.message=t.message;("stack" in t) && (this.stack=t.stack);this.name="CodecSwitchingError";}function n(t,w,x,z){var y,A;y=this;this.j=t;this.type=w;this.log=z;this.eba=new e.ic(!1);this.dK={data:void 0,state:"",operation:""};this.error=void 0;this.mimeType=this.xeb((this.type === u.u.V?this.j.ca.wj.value:this.j.ca.Mc.value).streams);this.Vk=new f.Qk();this.Kxa={Type:this.type};if(g.config.hH){A=!0;this.GEa=new e.ic(!1);}this.log.trace("Adding source buffer",this.Kxa,{TypeId:this.mimeType});this.kk=x.addSourceBuffer(this.mimeType);this.kk.addEventListener("updatestart",function(){!1;y.dK.state="updatestart";});this.kk.addEventListener("update",function(){!1;y.dK.state="update";});this.kk.addEventListener("updateend",function(){var B;!1;y.eba.set(!1);y.c6a && y.c6a();y.dK.state="updateend";B=0;try{B=y.kk.buffered.length;}catch(C){}A && B && (A=!1,y.GEa.set(!0),!1);});this.kk.addEventListener("error",function(B){var C;!1;try{C=B.target.error && B.target.error.message;(B.message || C) && z.error("error event received on sourcebuffer",{mediaErrorMessage:B.message});}catch(D){}B={Ja:(0,d.zFa)(y.type),tc:y.wfa()};t.Gd(h.Y.PHb,B);});this.kk.addEventListener("abort",function(){!1;});t.addEventListener(p.da.closed,function(){y.kk=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.oCb=b.ssa=void 0;d=a(93294);g=a(29204);e=a(81734);f=a(94886);l=a(31276);a(24550);h=a(36129);a(5021);k=a(45146);m=a(32687);p=a(85001);v=a(95162);q=a(48220);u=a(26388);n.prototype.Ei=function(){return this.eba.value;};n.prototype.updating=function(){return this.kk?this.kk.updating:!1;};n.prototype.Z6=function(t){this.c6a=t;};n.prototype.wfa=function(){return this.dK;};n.prototype.buffered=function(){return this.kk.buffered;};n.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};n.prototype.toJSON=function(){return {type:this.type};};n.prototype.qFa=function(){var t,z,y;try{t=this.kk.buffered;if(t){for(var w=[],x=0;x < t.length;x++){z=1E3 * t.start(x);y=1E3 * t.end(x);(0,k.oa)(y > z);w.push({start:z,end:y});}return w;}}catch(A){}};n.prototype.ofa=function(){var t,w;t=this.qFa();if(t){t=t.map(function(x){return {start:x.start / 1E3,end:x.end / 1E3};});w=t.reduce(function(x,z){return x + z.end - z.start;},0);t=t.map(function(x){return x.start + "-" + x.end;});return {Buffered:w.toFixed(3),Ranges:t.join("|")};}};n.prototype.w9a=function(t,w){var x;!1;try{(0,k.oa)(this.kk.buffered && 1 >= this.kk.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.ofa()));}catch(z){}(0,k.oa)(!this.Ei());x=w && w.Eka / 1E3;(0,m.dc)(x) && this.kk.timestampOffset !== x && (!1,this.Mla("timestampOffset",x),this.kk.timestampOffset=x);this.Mla((null === w || void 0 === w?0:w.De)?"headerappend":"mediaappend");this.kk.appendBuffer(t);!1;this.eba.set(!0);};n.prototype.remove=function(t,w){(0,k.oa)(!this.Ei());try{this.Mla("remove");!1;this.kk.remove(t,w);this.eba.set(!0);}catch(x){this.log.error("SourceBuffer remove exception",x,this.Kxa);}};n.prototype.Mla=function(t,w){this.dK.data=w;this.dK.state="init";this.dK.operation=t;};n.prototype.svb=function(t,w){this.vcc=t / w * 1E3;};n.prototype.dTb=function(t){var w;if(this.kk){if((t=this.xeb([{type:this.WUb,$d:t}]),t !== this.mimeType)){w=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + t);if(!this.kk.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.Mla("changeType",t);this.kk.changeType(t);this.mimeType=t;}catch(x){throw (this.log.error("Error changing SourceBuffer type",x,this.Kxa,{From:w,To:t}),new c(x.message));}}}else this.log.info("No SourceBuffer");};n.prototype.appendBuffer=function(t,w){!w || w.De?this.dR(t,w):this.yza(t,w);return !0;};n.prototype.dR=function(t,w){this.j.ie.dR(this,t,w || ({}));};n.prototype.yza=function(t,w){t=this.OUb(t,w);!1;this.j.ie.yza(t);};n.prototype.OUb=function(t,w){var x;x=this.vcc || 0;return {Fi:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:q.Ed.od.DONE,aV:w.ub,ZH:w.ub + w.duration,ug:w.duration,Eka:x,et:w.et,L:w.L,Jb:w.Jb,vd:+w.vd,location:w.location,Sca:w.offset,Rca:w.offset + w.la - 1,bitrate:w.bitrate,response:t,o9b:t && 0 < t.byteLength,Ox:!0,get De() {return !this.Ox;},nub:this.SZ - Math.floor(x) || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.L,isHeader:this.De,ptsStart:this.aV,ptsOffset:this.Eka,responseType:this.VFc,duration:this.ug,readystate:this.Lf};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};n.prototype.endOfStream=function(){var t;this.j.MK("EndOfStream");null === (t=this.j.ie) || void 0 === t?void 0:t.Yia(this.mediaType);return !0;};n.prototype.iwb=function(t){this.YMb=t;};n.prototype.addEventListener=function(t,w,x){this.Vk.addListener(t,w,x);};n.prototype.removeEventListener=function(t,w){this.Vk.removeListener(t,w);};n.prototype.xeb=function(t){var w;w=l.La.get(v.tZ);return this.type === u.u.V?w.Fda(t):w.wda(t);};Ga.Object.defineProperties(n.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},jwb:{configurable:!0,enumerable:!0,get:function(){return this.YMb;}},WUb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.ssa=n;Ha(c,Error);b.oCb=c;},73056:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A,B,C,D,E,F,G,J,N,I,M;function c(K,L){var H;H=this;this.j=K;this.Djb=L;this.Fb=this.j.Fb;this.log=(0,h.lj)(this.j,"MediaPresenterASE");this.Jia=this.Oda=0;this.ha=this.Fb.ha;this.SD=new I.u5a(this.ha,this.j);this.Pqb=this.Cqb=this.iha=this.CMa=!1;this.Jha=new Set();this.Zuc=h.La.get(A.SJ)((0,y.bc)(x.faa));this.eR=void 0;this.ak=h.La.get(C.D3a)(this.j);this.oB={};this.qnb={};this.Y2={};this.Dk={};this.Yg=new E.l_a(this.j,this.ak);this.ukb=!1;this.Xuc=function(){var O,P,Q;H.j.C7=(0,l.$s)();if(!H.po() && H.UG){O=H.Fb.Ghb();O || (H.mkc(),H.Yg.dyb(H.mediaTime));H.j.paused.value || !H.Yg.ICa(H.mediaTime) || !H.rAa() || O || H.ak.J3?H.xOa():H.CMa || H.yOa();H.lkc();if(!(H.Fb.Ghb() || H.iha || H.ukb)){O=H.Fb.xG(!0);P=H.j.Ib.value;Q=H.zUb();P !== Q && !1;Q === t.wb.uu?(H.mediaTime=H.j.St.ia(y.pa),H.xOa()):Q !== t.wb.og && H.jxc(O);H.Myb();H.Yg.WAa(H.mediaTime);H.j.Ib.set(Q);Q !== t.wb.og || P !== t.wb.yf && P !== t.wb.vi || H.yLa();}}};this.qm=(0,D.Cmc)(this.Xuc);this.mediaTime=this.Djb;this.j.ej=!1;this.Fb.addEventListener(z.fk.Zvb,function(){if(H.$vb){H.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{H.Pb();}catch(O){H.log.error("Exception while initializing",O);H.Gd(k.Y.zHb);}}});this.Fb.addEventListener(z.fk.Plb,function(O){O=O.N;H.$vb?H.lpb(O):H.Jha.add(O);});}Object.defineProperty(b,"__esModule",{value:!0});b.ysa=void 0;n=a(33096);d=a(29204);g=a(13044);e=a(37509);f=a(52569);l=a(24066);h=a(31276);a(24550);k=a(36129);m=a(91591);p=a(45146);v=a(8825);q=a(3887);u=a(32219);t=a(85001);w=a(32687);x=a(93294);z=a(16520);y=a(5021);A=a(45842);B=a(4246);C=a(65106);D=a(97368);E=a(33059);F=a(91562);G=a(28048);J=a(22365);N=a(26388);I=a(49587);M=a(63156);c.prototype.Lmc=function(K){var L,H,O;L=this;if(this.SD.paused){H=Math.ceil(K.R$b);O=function(P){L.ak.cy?L.ak.cy.time=P:L.unb=P;};H > (this.ak.cy?this.ak.cy.time:this.mediaTime) && (this.log.trace("ptsChanged adjusting for initialTimestamp",H),O(H));K.VEa && (this.log.trace("ptsChanged forcedTimestamp",K.VEa),O(K.VEa));}else this.log.error("Unexpected setMediaTime while not paused, ignoring");};c.prototype.pgb=function(){return this.Fb.xG(!1);};c.prototype.yfa=function(){return this.Fb.yfa();};c.prototype.yx=function(){return this.Fb.yx();};c.prototype.bM=function(){return this.Fb.bM();};c.prototype.o2=function(){return this.Fb.o2();};c.prototype.Pb=function(){var K,L;K=this;this.log.trace("Video element initializing");this.Fb.sourceBuffers.forEach(function(H){return K.Yg.asc(H);});this.j.JM?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.P}),null === (L=this.j.cb) || void 0 === L?void 0:L.oea(this.j.P));0 < this.Jha.size && setTimeout(function(){K.log.trace("Notifying about licenses that were added before source buffers created");Array.from(K.Jha).forEach(function(H){K.Jha.delete(H);K.lpb(H);});},0);this.log.trace("Waiting for loadedmetadata");(0,f.DOb)(this.ha,"loadedmetadata",function(){K.log.trace("Video element event: loadedmetadata");K.j.gf("md");});e.ff.addListener(e.Wm,this.Y2[e.Wm]=function(){return K.close();},n.iQ);this.j.addEventListener(t.da.sg,this.Dk[t.da.sg]=function(){return K.close();},n.iQ);this.j.addEventListener(t.da.C6,this.Dk[t.da.C6]=function(){return K.close();});this.j.addEventListener(t.da.H6,this.Dk[t.da.H6]=function(){return K.yOa();});this.j.addEventListener(t.da.nA,this.Dk[t.da.nA]=function(){return K.mic();});this.j.paused.addListener(this.Dk.paused=function(){return K.qm();});this.j.muted.addListener(this.Dk.muted=function(){return K.$Ra();});this.j.volume.addListener(this.Dk.volume=function(){return K.$Ra();});this.j.playbackRate.addListener(this.Dk.playbackRate=function(){return K.wW();});this.j.Ts.addListener(this.Dk.avBufferingState=function(){return K.qm();});this.j.An.addListener(this.Dk.textBufferingState=function(){return K.qm();});this.$Ra();this.wW();this.Yg.Z6(function(){return K.kia();});this.kia();this.kwc();};c.prototype.lpb=function(K){var L;this.j.gf("ld",K);null === (L=this.j.cb) || void 0 === L?void 0:L.oea(K);this.j.fireEvent(t.da.YIa);};c.prototype.yza=function(K){var L;L=this;!1;this.Yg.sPb(K);this.cTb(K).then(function(){L.kia();L.j.fireEvent(t.da.D4);}).catch(function(H){L.Gd(k.Y.EHb,{tc:(0,q.Fg)(H)});});};c.prototype.dR=function(K,L,H){H=void 0 === H?{}:H;L=this.N_b(K,L);this.Yg.rPb(K,L,H);this.kia();this.Cqb || K.type !== N.u.V || (this.ak.J3 || this.seek(this.Djb,t.yc.Wo),this.Cqb=!0);};c.prototype.kwc=function(){var K;K=this;this.Fb.addEventListener(z.fk.O6,this.oB[z.fk.O6]=function(){return K.Hic();});this.Fb.addEventListener(z.fk.cr,this.oB[z.fk.cr]=function(){return K.nja();});this.ha.addEventListener("ended",this.oB.ended=function(){return K.dic();});this.ha.addEventListener("play",this.oB.play=function(){return K.vLa();});this.ha.addEventListener("pause",this.oB.pause=function(){return K.uLa();});this.ha.addEventListener("playing",this.oB.playing=function(){return K.wU();});this.UG=!0;this.Yg.dyb(this.mediaTime);this.log.trace("Video element initialization complete");this.j.gf("vi");d.config.Kcb?setTimeout(function(){K.jLa=!0;K.qm();},d.config.Kcb):this.jLa=!0;this.Dtc();this.j.zd.fa && this.Etc();(0,u.Rg)(function(){return K.qm();});};c.prototype.Dtc=function(){var H;function K(){var O;H.j.Ib.value !== t.wb.yf || 0 !== (null === (O=H.j.ie) || void 0 === O?void 0:O.yfa()) || J.Vh.hidden?(H.Aob.Xr(),O="stopTimer"):(H.Aob.qG(),O="ensureTimer");H.log.trace("No render timer update: " + O,{presentingState:t.wb[H.j.Ib.value],hidden:J.Vh.hidden});}function L(O){var P,Q;O=void 0 === O?!0:O;P=H.j.cb;Q=(null === P || void 0 === P?void 0:P.aj) && P.Aib();H.j.Ib.value == t.wb.og && H.j.state.value == t.qc.cf && H.j.Ts.value == t.Bg.cf && H.j.An.value == t.Bg.cf && !H.j.ej && Q?(O && H.Qda.Xr(),H.Qda.qG(),P="ensureTimer"):(H.Qda.Xr(),P="stopTimer");H.log.trace("Timer update: " + P,{presentingState:t.wb[H.j.Ib.value],playbackState:t.qc[H.j.state.value],avBufferingState:t.Bg[H.j.Ts.value],textBufferingState:t.Bg[H.j.An.value],autoplayWasBlocked:H.j.ej,hasLicense:Q,restartTimer:O});}H=this;d.config.ycb && ((0,p.oa)(!this.Qda),this.Qda=h.La.get(B.AZ)(d.config.ycb,function(){var O;O=h.La.get(m.npa).Vcb(H.j);H.Gd(O.code,O);}),this.j.Ib.addListener(function(){return L();}),this.j.Ts.addListener(function(){return L();}),this.j.An.addListener(function(){return L();}),this.j.state.addListener(function(){return L();}),this.j.addEventListener(t.da.YIa,function(){return L();}),this.j.addEventListener(t.da.ej,function(){return L();}),this.j.addEventListener(t.da.Uza,function(){return L();}),this.j.addEventListener(t.da.fI,function(){return L(!0);}),L());d.config.zob && (this.Aob=h.La.get(B.AZ)(d.config.zob,function(){var O;0 === (null === (O=H.j.ie) || void 0 === O?void 0:O.yx()) && (O=h.La.get(m.npa).Vcb(H.j),H.Gd(O.code,O));H.j.Ib.removeListener(K);e.ff.removeListener(e.rv,H.Y2[e.rv]);}),this.j.Ib.addListener(K),e.ff.addListener(e.rv,this.Y2[e.rv]=K),K());};c.prototype.Etc=function(){var H;function K(){var O,P,Q,S;S=H.Fb.sourceBuffers.find(function(X){return X.mediaType === N.u.V;});S=null !== (O=null === S || void 0 === S?void 0:S.qFa()) && void 0 !== O?O:[];1 < S.length?(O=null !== (Q=null === (P=H.ha) || void 0 === P?void 0:P.readyState) && void 0 !== Q?Q:M.wm.QE.HAVE_NOTHING,Q=O < M.wm.QE.HAVE_FUTURE_DATA,P=L(S,H.mediaTime),Q && P?(H.ena.qG(),Q="ensureTimer"):(H.ena.Xr(),Q="stopTimer"),H.log.trace("Video Gaps Monitor Timer update: " + Q,{mediaTime:H.mediaTime,bufferedRanges:JSON.stringify(S),nextRange:JSON.stringify(P),readyState:O})):H.ena.Xr();}function L(O,P){return O.find(function(Q,S){if(Math.abs(P - Q.end) < Math.abs(P - Q.start))return !1;Q=Q.end - Q.start;return S !== O.length - 1 && 1E4 > Q?!1:!0;});}H=this;d.config.Azb && ((0,p.oa)(!this.ena),this.ena=h.La.get(B.AZ)(d.config.Azb,function(){var O,P;P=H.Fb.sourceBuffers.find(function(Q){return Q.mediaType === N.u.V;});P=null !== (O=null === P || void 0 === P?void 0:P.qFa()) && void 0 !== O?O:[];if(O=L(P,H.mediaTime))(H.log.error("Detected media gaps: seeking over gap",{seekPoint:O.start,ranges:JSON.stringify(P)}),H.Fb.gpc(),H.seek(O.start,t.yc.Wra));}),this.j.mediaTime.addListener(K),this.j.Fb.addEventListener(z.fk.psb,K),this.j.addEventListener(t.da.D4,K),K());};c.prototype.N_b=function(K,L){var H;H=this.j.bg;(H=(0,G.kkb)(H)?H.US():void 0) && K.type === N.u.V && ((K=new F.FY(this.log,{mediaType:N.u.V,url:"http://some-url"},L).sa(H))?L=K:!1);return L;};c.prototype.kia=function(){this.UG && this.qm();this.Yg.kab();};c.prototype.Ptc=function(){!1;this.j.Ib.set(t.wb.og);this.iha=!0;this.qm();};c.prototype.wUb=function(){var K;K=this;this.iha && (!1,this.iha=!1,(0,u.Rg)(function(){return K.seek(K.j.DG() || 0,t.yc.yZ);}));};c.prototype.Gtc=function(){!1;this.ukb=!0;this.j.Ib.set(t.wb.og);this.qm();};c.prototype.nfa=function(){return this.Yg.nfa();};c.prototype.Yia=function(K){var L;L=this;this.Yg.csc(K);(0,u.Rg)(function(){return L.qm();});};c.prototype.V5b=function(){return {Oda:this.Oda,Jia:this.Jia};};c.prototype.cTb=function(K){var L;L=this.Fb && this.Fb.XFa();(0,p.oa)(this.j.St,"Player duration should be defined before appends start (ase did not fire segmentNormalized event)");this.j.St && L && (K=Infinity !== K.nub?K.nub + K.Eka:K.ZH,K > this.j.St.SMa(y.pa) && (this.j.St=(0,y.bc)(K)));return Promise.resolve();};c.prototype.lkc=function(){var K,L;K=this;this.ak.Wja && (!1,this.rAa() && this.Yg.ICa(this.mediaTime) && (this.Fb.seek(null !== (L=this.unb) && void 0 !== L?L:this.mediaTime),this.unb=void 0,this.ak.Wja=!1,(0,u.Rg)(function(){return K.qm();})));};c.prototype.jxc=function(K){var L;if(K < this.mediaTime){L=this.mediaTime - K;d.config.nkc && K && L > x.faa && (K={ElementTime:(0,v.Ui)(K),MediaTime:(0,v.Ui)(this.mediaTime)},L > x.L2a?this.Gd(k.Y.QHb,{tc:Object.assign({Trace:this.Fb.GG()},K)}):this.log.warn("VIDEO.currentTime became smaller",K));}else this.mediaTime=(0,v.UB)(K,0,this.j.St.ia(y.pa));};c.prototype.rAa=function(){return this.j.Ts.value === t.Bg.cf && this.j.An.value === t.Bg.cf;};c.prototype.zUb=function(){var K,L,H;K=this;L=this.j.Ib.value;H=L;this.ak.J3?H=t.wb.og:this.ha && this.ha.ended?L === t.wb.yf && (H=t.wb.uu):this.rAa() && this.Yg.ICa(this.mediaTime)?this.Fb.RZb()?H=this.SD.paused?t.wb.vi:t.wb.yf:this.Zuc.ah(function(){return K.Yuc();}):H=this.j.St?this.j.xib(this.mediaTime,this.Yg.Nda())?t.wb.og:t.wb.uu:t.wb.og;return H;};c.prototype.yLa=function(){var K;if(this.j.Ib.value === t.wb.og){K=this.Yg.Ivc() > this.Yg.Nda();this.j.An.value !== t.Bg.cf?this.j.Gj.value?(this.j.fireEvent(t.da.EC,{Mb:g.I1a}),this.log.warn("rebuffer due to timed text",this.j.Gj.value.Ah)):this.j.fireEvent(t.da.iW):K?(this.Oda++,this.j.fireEvent(t.da.EC,{Mb:g.nua})):(this.Jia++,this.j.fireEvent(t.da.EC,{Mb:g.oua}));}};c.prototype.Yuc=function(){this.po() || (d.config.mhc && this.Yg.lhc(),this.qm());};c.prototype.Hic=function(){this.qm();};c.prototype.nja=function(){this.qm();this.j.fireEvent(t.da.cr);};c.prototype.dic=function(){this.log.trace("Video element event: ended");this.qm();};c.prototype.vLa=function(){this.log.trace("Video element event: play");this.qm();};c.prototype.uLa=function(){this.log.trace("Video element event: pause");this.SD.uLa();this.qm();};c.prototype.wU=function(){this.log.trace("Video element event: playing");this.SD.vLa();this.qm();};c.prototype.$Ra=function(){this.po() || (this.ha && this.ha.volume !== this.j.volume.value && (this.ha.volume=this.j.volume.value),this.ha && this.ha.muted !== this.j.muted.value && (this.ha.muted=this.j.muted.value));};c.prototype.wW=function(){!this.po() && this.ha && (this.ha.playbackRate=this.j.playbackRate.value);};c.prototype.yOa=function(){var K;K=this;!this.po() && (0,w.Zc)(this.ha) && !this.ha.ended && this.jLa && this.SD.paused && (this.log.trace("Calling play on element"),Promise.resolve(this.SD.play()).then(function(){K.closed || (K.CMa=!1,K.ha.style.display=null,K.j.ej=!1,K.j.fireEvent(t.da.Uza));}).catch(function(L){"NotAllowedError" === L.name?(K.log.warn("Playback is blocked by the browser settings",L),K.j.ej=!0,K.closed || (K.CMa=!0,K.ha.style.display="none",K.j.fireEvent(t.da.ej,{player:{play:function(){return K.yOa();}}}))):K.closed || K.Pqb || (K.Pqb=!0,K.log.error("Play promise rejected",L));}));};c.prototype.mic=function(){this.ak.ylb=this.j.DG() || 0;};c.prototype.xOa=function(){this.po() || !(0,w.Zc)(this.ha) || this.ha.ended || !this.jLa || this.SD.paused || (this.log.trace("Calling pause on element"),this.SD.pause());};c.prototype.Myb=function(K){this.j.mediaTime.set(this.mediaTime);K && this.j.b3b();};c.prototype.seek=function(K,L,H,O){var P,Q,S,X,W;H=void 0 === H?this.j.L:H;O=void 0 === O?!1:O;W=null === (P=this.j.cb) || void 0 === P?void 0:P.aj;!this.po() && W && (P=null !== (X=null === (S=null === (Q=this.j.U) || void 0 === Q?void 0:Q.Ca.Wg) || void 0 === S?void 0:S.$cb) && void 0 !== X?X:!1,this.j.zd.fa && !1 === P && 0 === K && this.log.error("Unexpected seek to 0 for the live playback",Error().stack),this.j.fireEvent(t.da.fI,{Mb:L}),this.ak.cy={time:K,Mb:L,L:H,o3b:O},this.j.Ib.set(t.wb.og),this.qm());};c.prototype.mkc=function(){var K,L,H,O,P,Q,S,X;if(this.ak.cy){K=this.ak.cy;L=K.time;H=K.Mb;O=K.L;P=K.o3b;if(!this.Yg.Ei() || H === t.yc.Wo){K=this.j.wk(O).P;Q=this.Yg.Ei()?void 0:this.Yg.D4b();Q=this.ak.I6b(L,H,O,P,Q);O=Q.Mia;P=Q.et;S=Q.Qkc;Q=Q.Kj;this.Yg.WAa(this.mediaTime);X=this.mediaTime;L=(0,v.Ui)(L);this.j.MK("SEEKING: Requested: (" + K + ":" + H + ":" + L + ") - Actual: (contentPts: " + P + ",playerPts: " + (S + ", newMediaTime: " + O + ")"));this.log.info("Seeking",{Requested:L,Actual:(0,v.Ui)(O),Cause:H,Skip:Q});H === t.yc.Wo || Q || (this.Yg.utb(),this.Yg.Vrc());this.mediaTime=O;this.ak.ylb=P;L=this.j.hf.value;S=this.j.Ue.value;this.j.hf.set(null);this.j.Ue.set(null);this.Myb(!0);this.ak.cy=void 0;this.ak.Wja=!0;this.j.fireEvent(t.da.sl,{kLa:X,Mia:O,et:P,Mb:H,skip:Q,hf:L,Ue:S,P:K});Q && this.Yg.skip(O);}}};c.prototype.Gd=function(K,L,H){this.closed || this.j.Gd(K,L,H);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.Yg.close();this.Fb.removeEventListener(z.fk.O6,this.qnb[z.fk.O6]);this.Fb.removeEventListener(z.fk.cr,this.qnb[z.fk.cr]);this.ha.removeEventListener("ended",this.oB.ended);this.ha.removeEventListener("play",this.oB.play);this.ha.removeEventListener("pause",this.oB.pause);this.ha.removeEventListener("playing",this.oB.playing);this.SD.close();e.ff.removeListener(e.Wm,this.Y2[e.Wm]);e.ff.removeListener(e.rv,this.Y2[e.rv]);this.j.removeEventListener(t.da.sg,this.Dk[t.da.sg]);this.j.removeEventListener(t.da.C6,this.Dk[t.da.C6]);this.j.removeEventListener(t.da.H6,this.Dk[t.da.H6]);this.j.removeEventListener(t.da.nA,this.Dk[t.da.nA]);this.j.paused.removeListener(this.Dk.paused);this.j.muted.removeListener(this.Dk.muted);this.j.volume.removeListener(this.Dk.volume);this.j.playbackRate.removeListener(this.Dk.playbackRate);this.j.Ts.removeListener(this.Dk.avBufferingState);this.j.An.removeListener(this.Dk.textBufferingState);this.Yg.Z6(function(){});this.closed=!0;try{this.ha.volume=0;this.ha.muted=!0;this.xOa();this.Fb.close();}catch(K){}this.ha=void 0;this.Yg.utb();}};c.prototype.po=function(){return this.closed?!0:(0,w.Zc)(this.ha)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};Ga.Object.defineProperties(c.prototype,{$vb:{configurable:!0,enumerable:!0,get:function(){var K,L;K=this;return !(null === (L=this.j.cb) || void 0 === L || !L.Zg) && [].concat(xa(this.j.cb.Zg)).every(function(H){return K.Fb.sourceBuffers.find(function(O){return O.mediaType === H;});});}},cy:{configurable:!0,enumerable:!0,get:function(){return this.ak.J3;}}});b.ysa=c;},93294:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.L2a=b.faa=void 0;b.zFa=function(d){return d === c.u.X?n.T.$ra:n.T.bsa;};c=a(26388);n=a(36129);b.faa=50;b.L2a=1E3;},53754:function(r,b,a){var n,d,g,e,f,l,h,k;function c(m){var v,q;function p(){v.v_=new h.M4a();return v.v_;}(0,n.jl)("MediaSourceASE").trace("Inside MediaSourceASE");v=this;q=m.z6b();v.e7a=q;v.readyState=k.od.CLOSED;v.addSourceBuffer=function(u){return u === l.u.Ia?p():q.addSourceBuffer(u);};v.P_=function(u){u.includes(l.u.Ia) && p();return q.P_(u);};v.removeSourceBuffer=function(u){if(u.mediaType === l.u.Ia)v.v_=void 0;else return ((0,f.oa)(u.mediaType === l.u.Ia,"Unexpected removeSourceBuffer. Only TEXT is expected to ever be removed."),q.removeSourceBuffer(u));};v.Ep=function(u){v.v_=void 0;q.Ep(u);};v.duration=void 0;this.readyState=k.od.OPEN;this.Rf=d.La.get(g.Wi).kN(k.Rf,{});m=new e.EventEmitter();m.on("subtitleData",function(u){(0,f.oa)(q.j.ca.Ic.value,"Unexpected AseSubtitleEvent. No current timedTextTrack.");q.j.ca.Ic.value.sNa(u);});this.events=m;}Object.defineProperty(b,"__esModule",{value:!0});b.E_a=void 0;n=a(31276);d=a(31276);g=a(74870);e=a(90745);f=a(45146);l=a(45247);h=a(91515);Object.defineProperty(c.prototype,"sourceBuffers",{get:function(){return this.v_?this.e7a.sourceBuffers.concat(this.v_):this.e7a.sourceBuffers;}});Object.defineProperty(c.prototype,"duration",{get:function(){return this.SZ;},set:function(m){var p;this.SZ=m || Infinity;p=Math.floor(1E3 * m) || Infinity;this.sourceBuffers.forEach(function(v){v.SZ=p;});}});k={od:{CLOSED:0,OPEN:1,uu:2,name:["CLOSED","OPEN","ENDED"]},Rf:{fUb:!0,tgc:!0}};b.E_a=Object.assign(c,k);},69931:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Qva=b.Pva=void 0;r=a(79048);a={};b.Pva=(a[r.yu]={id:-1,name:"hardcoded",Fc:1,type:"hardcoded",kmb:"-1",Xac:!1,location:{id:"-1",Fc:1,level:100,weight:1}},a);a={};b.Qva=(a[r.yu]={track:{type:"padding",trackId:"padding",Qh:"padding",sf:"padding",Nr:"other",rg:"padding",bI:"padding",AM:"padding",Ah:{}},type:"padding",Nb:"-1",bitrate:1,Gb:100,$d:"unknown",size:1,kDa:{},Ah:{},Rm:"",framerate:0,Hi:!1,tj:[],height:1,width:1},a);},6305:function(r,b,a){var n,d,g;function c(e,f,l,h,k,m,p,v,q,u,t){this.track=e;this.type=f;this.Nb=l;this.bitrate=h;this.Gb=k;this.size=m;this.kDa=p;this.$d=v;this.framerate=q;this.Hi=u;this.tj=t;this.Ah={Type:f,Bitrate:h,DownloadableId:l};}Object.defineProperty(b,"__esModule",{value:!0});b.MediaStream=void 0;b.KAc=function(e,f,l,h,k){if(e == n.i$ || e === g.Dl.audio)return f;if(e == n.RY || e === g.Dl.video)return l;if(e == g.Dl.jRa)return h;if(e == g.Dl.BRa)return k;};n=a(33096);d=a(32687);g=a(51344);c.prototype.toJSON=function(){return this.Ah;};c.prototype.lsc=function(e,f,l,h){(0,d.Zc)(e) && (0,d.Zc)(f) && (this.width=e,this.height=f,(0,d.dc)(l) && (0,d.dc)(h) && (this.width=Math.round(l / h * e)),this.Ah.Resolution=(this.width || "") + ":" + (this.height || ""));};c.prototype.orc=function(e,f,l,h,k,m){(0,d.Zc)(e) && (0,d.Zc)(f) && (0,d.Zc)(l) && (0,d.Zc)(h) && (this.pCa=e,this.hcb=f,this.gcb=l,this.fcb=h);(0,d.Zc)(k) && (0,d.Zc)(m) && (this.Kqb=k,this.Lqb=m);};b.MediaStream=c;},51344:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dl={audio:"audio",video:"video",jRa:"timedtext",BRa:"trickplay"};},62439:function(r,b,a){var n,d,g,e,f,l,h;function c(k){var m,p,v,q;m=this;this.j=k;this.R0=void 0;this.lxa=(0,d.createElement)("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.dxa=(0,d.createElement)("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.Ywa=(0,d.createElement)("DIV","width:100%;text-align:center");this.eKb=this.exa("Audio Bitrate");this.Cya=this.exa("Video Bitrate / VMAF");this.Zwa=this.exa("CDN");this.f_={};this.X2=g.La.get(e.Fq);this.lxa.appendChild(this.dxa);this.dxa.appendChild(this.Ywa);p=(0,d.createElement)("BUTTON",void 0,"Override");p.addEventListener("click",this.dKb.bind(this),!1);this.Ywa.appendChild(p);p=(0,d.createElement)("BUTTON",void 0,"Reset");p.addEventListener("click",this.MMb.bind(this),!1);this.Ywa.appendChild(p);v=this.kMb.bind(this);n.ff.addListener(n.JG,v);k.addEventListener(l.da.nA,function(){m.f_={};});k.addEventListener(l.da.sg,function(){n.ff.removeListener(n.JG,v);});q=this.JMb.bind(this);k.Tc.forEach(function(u){u.addListener(q);});k.ca.Mc.addListener(q);k.ca.wj.addListener(q);}Object.defineProperty(b,"__esModule",{value:!0});b.T1a=void 0;n=a(37509);d=a(52569);g=a(31276);e=a(34231);f=a(43193);l=a(85001);h=a(26388);c.prototype.show=function(){this.A_ || (this.I7a(),document.body.appendChild(this.lxa),this.A_=!0);};c.prototype.cA=function(){this.A_ && (document.body.removeChild(this.lxa),this.A_=!1);};c.prototype.toggle=function(){this.A_?this.cA():this.show();};c.prototype.wyb=function(){var p,v,q,u;function k(t,w,x){var z,y,A;y=[];w.filter(function(B){return B.$d === t;}).forEach(function(B){0 <= x.indexOf(B)?(void 0 === A?A=B.bitrate:z=B.bitrate,void 0 === z && (z=B.bitrate)):void 0 !== A && void 0 !== z && (y.push({min:A,max:z}),A=z=void 0);});if(void 0 !== A && void 0 !== z){y.push({min:A,max:z});A=z=void 0;}return y;}function m(t,w,x){var z;z=[];w.filter(function(y){return y.$d === t;}).forEach(function(y){-1 === x.indexOf(y) && z.push({stream:{bitrate:y.bitrate},disallowedBy:["manual"]});});return z;}v=this.j.Fz();q=this.j.IG().sort(function(t,w){return t.bitrate - w.bitrate;});u=q.reduce(function(t,w){0 > t.indexOf(w.$d) && t.push(w.$d);return t;},[]).map(function(t){return {profile:t,ranges:k(t,q,v),disallowed:m(t,q,v)};});!1;null === (p=this.j.cb) || void 0 === p?void 0:p.Lla(u,this.j.P);};c.prototype.dKb=function(){var p,v;this.f_={};for(var k=this.Cya.options,m=k.length;m--;){p=k[m];p.selected && (this.f_[p.value]=1);}this.R0=this.wKb.bind(this);this.wyb();if(k=this.j.rh){v=this.Zwa.value;k=k.filter(function(q){return q.id == v;})[0];m=this.j.Tc[h.u.V].value;k && k != m && (k.$$a={testreason:"streammanager",selreason:"userselection"},this.j.Tc[h.u.V].set(k));}this.cA();};c.prototype.MMb=function(){this.R0=void 0;this.j.tvb(this.j.P);this.cA();};c.prototype.wKb=function(){var k;k=this;return this.j.IG().filter(function(m){return k.f_[m.bitrate];});};c.prototype.I7a=function(){var k,m,p,v;k=this;m=this.j.ca.Mc.value;p=this.j.ca.wj.value;v=this.j.rh;m && (v=v.slice(),v.sort(function(q,u){return q.Fc - u.Fc;}),this.uya(this.eKb,m.streams.map(function(q){return {value:q.bitrate,caption:q.bitrate,selected:q == k.j.Zh.value};})));p && (this.uya(this.Cya,p.streams.map(function(q){var u,t,w;u=k.j.bU.fE(q);t=q.bitrate;q=q.Gb;w="" + t;q && (w+=" / " + q);u && (w+=" (" + u.join("|") + ")");return {value:t,caption:w,selected:k.R0?k.f_[t]:!u};})),this.Cya.removeAttribute("disabled"));v && (this.uya(this.Zwa,v.map(function(q){return {value:q.id,caption:"[" + q.id + "] " + q.name,selected:q == k.j.Tc[h.u.V].value};})),this.Zwa.removeAttribute("disabled"));};c.prototype.JMb=function(){this.A_ && this.I7a();};c.prototype.exa=function(k){var m,p;m=(0,d.createElement)("DIV","display:inline-block;vertical-align:top;margin:5px;");k=(0,d.createElement)("DIV",void 0,k);p=(0,d.createElement)("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});m.appendChild(k);m.appendChild(p);this.dxa.appendChild(m);return p;};c.prototype.uya=function(k,m){k.innerHTML="";m.forEach(function(p){var v;v={title:p.caption};p.selected && (v.selected="selected");v=(0,d.createElement)("option",void 0,p.caption,v);v.value=p.value;k.appendChild(v);});};c.prototype.kMb=function(k){k.ctrlKey && k.altKey && k.shiftKey && k.keyCode == f.VP.T8 && this.X2.AIa && this.toggle();};b.T1a=c;},79173:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.F2a=void 0;c=a(31276);n=a(61726);b.F2a=(function(){(0,c.jl)("ProbeDownloader");return {e2:function(d){d={url:d.url,amc:d};!1;n.Bf.dmc(d);}};})();},27758:function(r,b,a){var n,d,g,e,f,l,h;function c(){var k;k=new d.Qk();this.addEventListener=k.addListener.bind(this);this.removeEventListener=k.removeListener.bind(this);this.emit=k.Pc.bind(this);this.yba=l++;this.nf=(0,g.jl)("ProbeRequest");this.w7a=n.F2a;(0,e.oa)(void 0 !== this.w7a);this.Lf=b.Tk.od.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Tk=void 0;n=a(79173);d=a(94886);g=a(31276);e=a(45146);f=a(3887);l=0;(function(){function k(){return JSON.stringify({url:this.Zf,id:this.yba,affected:this.Iaa,readystate:this.Lf});}(0,f.Re)(c.prototype,{qU:function(m){this.Lf !== b.Tk.od.B9 && this.Lf !== b.Tk.od.DONE && (this.Cba=m,m={url:this.Zf,affected:this.Iaa,probed:{requestId:this.yba,url:this.Zf,vd:this.t_,groupId:this.aba}},200 <= this.Cba && 299 >= this.Cba?(this.Lf=b.Tk.od.DONE,this.emit(b.Tk.Pk.cZ,m)):(this.Lf=b.Tk.od.B9,this.emit(b.Tk.Pk.ZE,m)));},dLa:function(m){this.Lf !== b.Tk.od.B9 && this.Lf !== b.Tk.od.DONE && (this.Cba=m,m={url:this.Zf,affected:this.Iaa,probed:{requestId:this.yba,url:this.Zf,vd:this.t_,groupId:this.aba}},this.Lf=b.Tk.od.B9,this.emit(b.Tk.Pk.ZE,m));},open:function(m,p,v){if(!m)return (!1,!1);this.Zf=m;this.Iaa=p;this.t_=v;this.Lf=b.Tk.od.OPENED;this.w7a.e2(this);this.Lf=b.Tk.od.YB;return !0;},ze:function(){!1;return !0;},Fi:function(){return this.yba;},toString:k,toJSON:k});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.Lf;}},status:{get:function(){return this.Cba;}},url:{get:function(){return this.Zf;}},cGc:{get:function(){return this.Iaa;}}});})();(function(k){k.Pk={cZ:"pr0",ZE:"pr1"};k.od={UNSENT:0,OPENED:1,YB:2,DONE:3,B9:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(h || (h={}));b.Tk=Object.assign(c,h);},59405:function(r,b,a){var c,n,d,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(29204);n=a(33096);r=a(36129);d=a(31276);g=a(69484);a=a(11479);d.La.get(a.xj).register(r.Y.iYa,function(e){c.config.K3b && d.La.get(g.$Wa).start();e(n.Vi);});},91515:function(r,b,a){var n;function c(){this.mediaType=n.u.Ia;}Object.defineProperty(b,"__esModule",{value:!0});b.M4a=void 0;n=a(45247);c.prototype.appendBuffer=function(){return !0;};c.prototype.svb=function(){};b.M4a=c;},49587:function(r,b){function a(c,n){this.j=n;this.AN=!0;this.Hma=!1;this.ha=c;}Object.defineProperty(b,"__esModule",{value:!0});b.u5a=void 0;a.prototype.vLa=function(){this.AN && (this.AN=!1,this.j.paused.set(!1));};a.prototype.uLa=function(){this.AN || (this.AN=!0,this.j.paused.set(!0));};a.prototype.pause=function(){var c;this.paused || (this.AN=!0,null === (c=this.ha) || void 0 === c?void 0:c.pause());};a.prototype.play=function(){var c,n;c=this;return this.paused && !this.Hma?(this.Hma=!0,Promise.resolve(null === (n=this.ha) || void 0 === n?void 0:n.play()).then(function(){c.Hma=!1;}).catch(function(d){var g;c.Hma=!1;c.AN=!(null === (g=c.ha) || void 0 === g || !g.paused);throw d;})):Promise.resolve();};a.prototype.close=function(){this.ha=void 0;};Ga.Object.defineProperties(a.prototype,{paused:{configurable:!0,enumerable:!0,get:function(){return this.AN;}}});b.u5a=a;},20318:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Os=b.cBb=void 0;b.cBb=a;b.Os=new a();},70632:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);n=a(45247);d=a(51790);g=a(27758);e=a(90762);f=a(29204);l=a(33096);h=a(67263);k=a(53754);m=a(24066);r=a(36129);p=a(31276);v=a(21941);q=a(22365);u=a(59416);b=a(11479);t=a(13044);w=a(20318);x=a(2248);z=a(84408);p.La.get(b.xj).register(r.Y.gYa,function(y){var A,B,C,D,E,F,G,J,N,I;A=p.La.get(v.i0a).JXb();B=p.La.get(h.wpa).EX;C=p.La.get(d.C_a).Am;D=p.La.get(x.ti);E=p.La.get(z.Du);F={fka:(0,p.g2)("ASE"),LPb:(0,p.g2)("JS-ASE",void 0,"Platform"),jl:p.g2,storage:u.storage,Q6b:q.DVa,getTime:m.$s,Mda:function(M){return D.decode(M).buffer;},HCa:function(M){return E.encode(M);},XM:{},Am:C,Tk:g.Tk,EX:B,MediaSource:k.E_a,SourceBuffer:e.ssa,ZS:function(){return [f.config.lca,f.config.pca,f.config.oca];},Fz:function(M){t.Nn.forEach(function(K){K.tvb(M);});}};B=new Promise(function(M){u.storage.load("nh",function(K){F.XM.nh=K.ta?K.data:void 0;M();});});C=new Promise(function(M){u.storage.load("lh",function(K){F.XM.lh=K.ta?K.data:void 0;M();});});G=new Promise(function(M){u.storage.load("gh",function(K){F.XM.gh=K.ta?K.data:void 0;M();});});J=new Promise(function(M){u.storage.load("sth",function(K){F.XM.sth=K.ta?K.data:void 0;M();});});N=new Promise(function(M){u.storage.load("vb",function(K){F.XM.vb=K.ta?K.data:void 0;M();});});I=new Promise(function(M){u.storage.load("ab",function(K){F.XM.ab=K.ta?K.data:void 0;M();});});Promise.all([B,C,I,N,J,G]).then(function(){return c.__awaiter(this,void 0,void 0,function K(){var L,H;return Ua(K,function(O){if(1 == O.cq)return (L=a(92623)(F),w.Os.$k=a(21457),w.Os.$k.declare(n.kj),w.Os.$k.set(a(87141)(f.config),!0,(0,p.g2)("ASE")),Za(O,n.F2(L),2));H=O.NW;H.open(w.Os.$k,A);H.irc({audio:f.config.lca,video:f.config.pca,text:f.config.oca},{H:f.config.fN,la:void 0});w.Os.Qi=H;y(l.Vi);O.cq=0;});});}).catch(function(M){F.fka.error("Exception loading location history from local storage",M);});});},39480:function(r,b,a){var c,n,d,g,e,f,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.eIb=function(k){var q,u,t,w,x,z;function m(){return k.state.value === h.qc.LOADING || k.state.value === h.qc.cf && k.Ib.value === h.wb.og;}function p(){m()?z || (z=setInterval(v,100)):z && (clearInterval(z),z=void 0,(0,f.Rg)(v));}function v(){var y,A,B,C,D,E,F,G;y=(0,d.$s)();A=q.value;B=A?A.progress:0;C=k.state.value == h.qc.LOADING || m() && y - u > n.config.PRb;if(C && k.state.value == h.qc.cf){if(k.Fd.value === h.Bg.r3a)(D=B,E=!0);else {F=y;t=t || y;w=w || t + n.config.Ofc + 1;(0,l.dc)(F) && (F=(0,e.uw)(F,w),D=(0,e.Hq)(1E3 * (0,g.UB)((y - t) / (F - t),0,.99)) / 1E3);}if(D < B)if(B - D < n.config.Amc / 100)(D=B,x=void 0);else if(x){if(y - x > n.config.zmc){G=!0;x=void 0;}else D=B;}else (x=y,D=B);}else x=w=t=void 0;y=C?{sq:E,progress:D,Bmc:G}:null;(!y || !q || !A || (0,l.dc)(y.progress) && !(0,l.dc)(A.progress) || (0,l.dc)(y.progress) && (0,l.dc)(A.progress) && .01 < (0,e.j$)(y.progress - A.progress) || y.sq !== A.sq) && q.set(y);}q=k.vAa;u=0;k.state.addListener(function(){p();v();},c.hta);k.Ib.addListener(function(y){if(y.oldValue !== h.wb.og || y.newValue !== h.wb.og)u=(0,d.$s)();p();});k.Fd.addListener(function(){p();});k.Ts.addListener(function(){p();});k.An.addListener(function(){p();});z || (z=setInterval(v,100));};c=a(33096);n=a(29204);d=a(24066);g=a(8825);e=a(22365);f=a(32219);l=a(32687);h=a(85001);},13044:function(r,b,a){var n,d;function c(g,e){var f;f=b.Nn[0];f == e && (f=b.Nn[1]);f?f.close(function(){c(g,e);}):g && g(n.Vi);}Object.defineProperty(b,"__esModule",{value:!0});b.K1a=b.I1a=b.nua=b.oua=b.yw=b.pua=b.J1a=b.rua=b.qua=b.Nn=void 0;b.L1a=c;b.fIb=function(g,e){switch(g){case b.J1a:b.qua.push(e);return;case b.pua:b.rua.push(e);return;}(0,d.oa)(!1);};b.sua=function(){return b.yw.Q4 && b.Nn.includes(b.yw.Q4)?b.yw.Q4:void 0;};n=a(33096);d=a(45146);b.Nn=[];b.qua=[];b.rua=[];b.J1a=1;b.pua=3;b.yw={index:0,Q4:void 0,KEa:void 0};b.oua="network";b.nua="media";b.I1a="timedtext";b.K1a="playback";},30689:function(r,b,a){var c,n,d,g,e;Object.defineProperty(b,"__esModule",{value:!0});c=a(29204);n=a(33096);r=a(36129);d=a(31276);b=a(11479);g=a(66476);d.La.get(b.xj).register(r.Y.nYa,function(f){var l,h,k;if(c.config.Nv){l=(0,d.jl)("PlayerPredictionModel");h=d.La.get(g.UJ);k=a(99886);l.log=l.trace.bind(l);e=new k({},l,{o6:function(){},Coc:function(){}},h,{LN:function(){}});Ba._cad_global.playerPredictionModel=e;l.info("ppm v2 initialized");}f(n.Vi);});},22365:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jJa=b.localStorage=b.E$b=b.indexedDB=b.X_a=b.Ol=b.XE=b.WE=b.URL=b.t$=b.sGb=b.j_a=b.i_a=b.j$=b.k$=b.PB=b.uw=b.Hq=b.cGb=b.cQ=b.m4a=b.DVa=b.NGb=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.AC=b.rGb=b.Vh=b.Qy=b.Y_a=b.Ry=b.s$=b.JJ=void 0;r=Ba;b.xf=r.navigator;b.JJ=null === b.xf || void 0 === b.xf?void 0:b.xf.userAgent;b.s$=r.location;b.Ry=r.screen;b.Y_a=r.devicePixelRatio;b.Qy=r.performance;b.Vh=r.document;b.rGb=b.Vh.documentElement;b.AC=Array.prototype;b.sort=b.AC.sort;b.map=b.AC.map;b.slice=b.AC.slice;b.every=b.AC.every;b.reduce=b.AC.reduce;b.filter=b.AC.filter;b.forEach=b.AC.forEach;b.pop=b.AC.pop;b.NGb=Object.create;b.DVa=Date.now;b.m4a=String.fromCharCode;b.cQ=Math.floor;b.cGb=Math.ceil;b.Hq=Math.round;b.uw=Math.max;b.PB=Math.min;b.k$=Math.random;b.j$=Math.abs;b.i_a=Math.pow;b.j_a=Math.sqrt;b.sGb=r.escape;b.t$=r.unescape;b.URL=r.URL || r.webkitURL;b.WE=r.MediaSource || r.WebKitMediaSource;b.XE=r.webkitCrypto || r.msCrypto || r.crypto;b.Ol=b.XE && (b.XE.webkitSubtle || b.XE.subtle);b.X_a=r.webkitCryptokeys || r.msCryptokeys || r.cryptokeys;try{b.indexedDB=r.indexedDB;}catch(a){b.E$b=a || "noex";}try{b.localStorage=r.localStorage;}catch(a){b.jJa=a || "noex";}},59416:function(r,b,a){var c,n,d,g,e,f;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(29204);n=a(33096);d=a(50350);r=a(36129);g=a(75876);e=a(19630);f=a(31276);a=a(11479);b.storage=b.storage || void 0;f.La.get(a.xj).register(r.Y.oYa,function(l){var h;switch(c.config.$tc){case "idb":h=g.Wtc;break;case "none":h=d.Ytc;break;case "ls":h=e.Xtc;}h(function(k){k.ta?(b.storage=k.storage,l(n.Vi)):l(k);});});},75876:function(r,b,a){var c,n,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.Wtc=function(e){c.La.get(n.DE).create().then(function(f){e({ta:!0,storage:new g.qra(f,c.La.get(d.Wi))});}).catch(function(f){e(f);});};c=a(31276);n=a(17892);d=a(74870);g=a(6675);},19630:function(r,b,a){var c,n,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.Xtc=function(e){e({ta:!0,storage:new c.qra(n.La.get(d.EZa),n.La.get(g.Wi))});};c=a(6675);n=a(31276);d=a(56278);g=a(74870);},50350:function(r,b,a){var c,n,d;Object.defineProperty(b,"__esModule",{value:!0});b.Ytc=function(g){var e;(0,n.jl)("Storage");e={};g({ta:!0,storage:{load:function(f,l){var h;if(e.hasOwnProperty(f)){h=e[f];!1;l({ta:!0,data:h,ema:f});}else (!1,l({Ja:d.T.ZB}));},save:function(f,l,h,k){h && e.hasOwnProperty(f)?k({ta:!1}):(e[f]=l,!1,k && k({ta:!0,ema:f}));},remove:function(f,l){delete e[f];!1;l && l(c.Vi);}}});};c=a(33096);n=a(31276);d=a(36129);a(3887);},50040:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.GO=void 0;c=a(33096);n=a(29204);d=a(37509);g=a(24066);e=a(36129);f=a(45146);l=a(31276);h=a(3887);k=a(22365);m=a(59416);p=a(32687);r=a(11479);l.La.get(r.xj).register(e.Y.pYa,function(v){var t,w,x;function q(){var z;q=c.YE;z=setInterval(u,n.config.Kdc);d.ff.addListener(d.Wm,function(y){y && y.isPopStateEvent?t.trace("popstate event, Lock timers can stay"):((0,h.wh)(w,function(A,B){localStorage.removeItem(B.Ev);}),clearInterval(z));},c.iQ);}function u(){var z;z=(0,g.Nab)();(0,h.wh)(w,function(y,A){!1;y=localStorage.getItem(A.Ev);(y=JSON.parse(y))?y.updated=z:y={updated:z,sessionId:x,count:1};localStorage.setItem(A.Ev,JSON.stringify(y));});}(0,f.oa)(m.storage);t=(0,l.jl)("StorageLock");w={};x=Date.now() + "-" + Math.floor(1E6 * Math.random());b.GO={Ls:function(z,y,A){var C,D,E,F,G,J,N,I,M,K;function B(L){localStorage.setItem(E,JSON.stringify(L));L={Ev:E};w[E]=L;t.trace("Lock acquired",{Name:L.Ev});q();y({ta:!0,Uha:L});}C=this;A=void 0 === A?!1:A;if(localStorage){D=(0,g.Nab)();E="lock-" + z;F={updated:D,sessionId:x,count:1};try{if((E in localStorage)){G=localStorage.getItem(E);J=0;N=JSON.parse(G);(0,p.dH)(N.updated) && (J=N.updated);I=(0,k.j$)(D - J) * c.wu;M=x === N.sessionId;if(I < n.config.mmb){if(M)(N.count+=1,t.debug("Incremented lock count for existing playbackSession",{id:x,count:N.count}),N.updated=D,B(N));else if(A){K=n.config.mmb - I + c.wu;t.error("Waiting until current expiration to confirm whether lock is still active",{id:x,count:N.count,Epoch:D,LockEpoch:J,waitTimeoutMs:K});Ba.setTimeout(function(){return C.Ls(z,y,!1);},K);}else y({ta:!1});}else (t.error("Lock was expired or invalid, ignoring",{Epoch:D,LockEpoch:J}),B(F));}else B(F);}catch(L){t.error("Error acquiring Lock",{errorSubCode:e.T.Vo,errorDetails:(0,h.Fg)(L)});y({ta:!0});}}else (k.jJa?t.error("Local storage access exception",{errorSubCode:e.T.eJb,errorDetails:(0,h.Fg)(k.jJa)}):t.error("No localstorage",{errorSubCode:e.T.fJb}),y({ta:!0}));},release:function(z,y){var A,B;(0,f.oa)(w[z.Ev] == z);if(localStorage){try{A=localStorage.getItem(z.Ev);B=JSON.parse(A);B && 1 < B.count?(--B.count,localStorage.setItem(z.Ev,JSON.stringify(B)),t.trace("Lock count decremented",{Name:z.Ev,count:B.count})):(localStorage.removeItem(z.Ev),delete w[z.Ev],t.trace("Lock released",{Name:z.Ev}));}catch(C){t.error("Unable to release Lock",{Name:z.Ev},C);}y && y(c.Vi);}}};n.config.Eea?b.GO.Ls("session",function(z){b.GO.Nub=z;v(c.Vi);}):v(c.Vi);});},991:function(r,b,a){var g,e,f,l;function c(h,k,m,p){var v,q,u;(0,g.oa)((0,l.Qx)(h) && !(0,l.isArray)(h));p=p || "";v="";q=h.hasOwnProperty(f.D8) && h[f.D8];q && (0,e.wh)(q,function(t,w){v && (v+=" ");v+=t + '="' + d(w) + '"';});m=(k?k + ":":"") + m;q=p + "<" + m + (v?" " + v:"");u=h.hasOwnProperty(f.uB) && h[f.uB].trim && "" !== h[f.uB].trim() && h[f.uB];if(u)return q + ">" + d(u) + "</" + m + ">";h=n(h,k,p + "  ");return q + (h?">\n" + h + "\n" + p + "</" + m + ">":"/>");}function n(h,k,m){var p;(0,g.oa)((0,l.Qx)(h) && !(0,l.isArray)(h));m=m || "";p="";(0,e.wh)(h,function(v,q){var w;if("$" != v[0])for(var u=(0,e.nH)(q),t=0;t < u.length;t++)if((q=u[t],p && (p+="\n"),(0,l.Qx)(q)))p+=c(q,k,v,m);else {w=(k?k + ":":"") + v;p+=m + "<" + w + ">" + d(q) + "</" + w + ">";}});return p;}function d(h){if((0,l.zh)(h))return (0,e.lHa)(h);if((0,l.dc)(h))return ((0,g.W0)(h,"Convert non-integer numbers to string for xml serialization."),"" + h);if(null === h || void 0 === h)return "";(0,g.oa)(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.zKc=c;b.AKc=n;b.SNc=d;g=a(45146);e=a(3887);f=a(62604);l=a(32687);},62604:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.bkc=b.qAb=b.pAb=b.uB=b.GSa=b.oAb=b.D8=void 0;b.a5b=function(d,g,e){for(var f=2;f < arguments.length;++f);for(f=1;(g=arguments[f++]) && (d=d[g]););return d;};b.gMc=function(d,g){var e;d?e=(0,c.Ck)(d[b.uB]):void 0 !== g && (e=g);(0,n.W0)(e);return e;};b.Xjc=function(d,g){var e;d?e=d[b.uB]:void 0 !== g && (e=g);(0,n.vcb)(e);return e;};b.WKc=function(d,g){var e;e={};e[b.D8]=d;e[b.uB]=g;return e;};c=a(3887);n=a(45146);b.D8="$attributes";b.oAb="$children";b.GSa="$name";b.uB="$text";b.pAb="$parent";b.qAb="$sibling";b.bkc=/^\s*<\?xml.*\?>/i;},84281:function(r,b,a){var c,n,d,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.izc=function(f,l){var h,k;try{k=(0,d.jzc)(f);}catch(m){c.log.error("xml2xmlDoc exception",m);}(0,e.Rg)(function(){if(k && k.documentElement)try{h=(0,g.kzc)(k);}catch(m){c.log.error("xmlDoc2js exception",m);}(0,e.Rg)(function(){h?l({ta:!0,object:h}):l({ta:!1,Ja:n.T.VDb});});});};c=a(31276);n=a(36129);d=a(78857);g=a(74413);e=a(32219);},78857:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.jzc=function(d){var g,e;if((0,n.CT)(d)){g=new DOMParser().parseFromString(d,"text/xml");e=g.getElementsByTagName("parsererror");if(e && e[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(e[0]),xmlData:d.slice(0,300),fileSize:d.length});}catch(f){}throw Error("xml parser error");}return g;}throw Error("bad xml text");};c=a(31276);n=a(32687);},74413:function(r,b,a){var n;function c(d){var g,e,f,l,h,k,m;e={};e[n.GSa]=d.localName;f={};e[n.D8]=f;l=[];e[n.oAb]=l;h=d.attributes;k=h.length;for(g=0;g < k;g++){m=h[g];f[m.localName]=m.value;}d=d.childNodes;k=d.length;f={};for(g=0;g < k;g++)switch((h=d[g],h.nodeType)){case b.tAb:h=c(h);m=h[n.GSa];h[n.pAb]=e;l.push(h);e[m]?f[m][n.qAb]=h:e[m]=h;f[m]=h;break;case b.uAb:case b.rAb:(h=h.text || h.nodeValue,l.push(h),e[n.uB] || (e[n.uB]=h));}return e;}Object.defineProperty(b,"__esModule",{value:!0});b.sAb=b.rAb=b.uAb=b.lzc=b.tAb=void 0;b.kzc=function(d){return c(d.nodeType == b.sAb?d.documentElement:d);};b.wOc=c;n=a(62604);b.tAb=1;b.lzc=2;b.uAb=3;b.rAb=4;b.sAb=9;},87886:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u,t;Object.defineProperty(b,"__esModule",{value:!0});b.Ph=void 0;r=a(22674);c=a(58252);n=a(60443);d=a(32050);g=a(62468);e=a(75864);f=a(45716);l=a(99282);h=a(52531);k=a(88063);m=a(79054);p=a(56190);v=a(69751);q=a(62665);u=a(7342);t=a(82585);b.Ph=new r.Od(function(w){w(c.Lua).to(n.Kua).ma();w(d.Rua).to(g.Qua).ma();w(e.iZ).to(f.Iua).ma();w(h.OJ).to(l.Gua).ma();w(k.j2a).to(m.Nua).ma();w(p.l2a).Ze(function(x){var z;z=x.tb;return function(y){return new v.m2a(y,z.get(q.LB),z.get(h.OJ));};});w(u.fZa).Ze(function(x){var z;z=x.tb;return function(y,A,B){return new t.gZa(y,A,B,z.get(h.OJ),z.get(e.iZ));};});});},7342:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fZa="LegacyPostPlayShimFactorySymbol";},52531:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OJ="PlaygraphConfigSymbol";},75864:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.jZ={};r.lCc="ident";r.Ura="main";r.OUa="credits";b.iZ="PlaygraphHelperSymbol";},58252:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lua="PlaygraphManagerFactorySymbol";},88063:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.j2a="PlaygraphPlaybackStrategyFactorySymbol";},56190:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.l2a="PlaygraphStateFactorySymbol";},32050:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rua="PlaygraphVideoPlayerFactorySymbol";},56819:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.WJ={};r[r.o0a=0]="None";r[r.VWa=1]="Fetching";r[r.mDb=2]="Done";r[r.Error=3]="Error";},82585:function(r,b,a){var n,d;function c(g,e,f,l,h){this.rj=g;this.Ph=e;this.log=f;this.Xj=l;this.Ao=h;this.gka=new n.yua();}Object.defineProperty(b,"__esModule",{value:!0});b.gZa=void 0;n=a(81889);d=a(75864);c.prototype.bOb=function(g){var e,f,l,h,k,m,p;this.log.info("Next episode added",g);m=this.gka.NJa(g.playbackParams);p=Math.max(0,null !== (l=null !== (f=null !== (e=g.startPts) && void 0 !== e?e:g.nextStartPts) && void 0 !== f?f:m.ub) && void 0 !== l?l:0);e=null !== (k=null !== (h=g.endPts) && void 0 !== h?h:g.currentEndPts) && void 0 !== k?k:m.fi;return this.Ph.KOb({P:g.movieId,ub:p,fi:e,Bb:m,U:g.manifest,rj:this.rj});};c.prototype.Dkc=function(g){var e,f,l,h,k,m;g=this.gka.NJa(g);this.log.info("Playing the next episode",g);l=this.Ph.jgb();h=this.Ph.jM();k=h.ba[l];m=Object.keys(null !== (e=k.next) && void 0 !== e?e:{}).find(function(p){return k.N !== h.ba[p].N;});e=!this.Xj.pka || !(null === (f=g.Ho) || void 0 === f?0:f.isUIAutoPlay);return m?this.Ph.OGa(l,m,g,e):Promise.reject(Error("Next episode not found"));};c.prototype.Myc=function(g){var e,f;e=this.Ao.nv(g,d.jZ.Ura);g=this.Ao.nv(g,d.jZ.OUa);f=this.Ph.Cb;this.Xj.pka && f.zi !== g && f.kI(g) && f.D2(e) !== g && this.Ph.wl({L:e,oU:g});};b.gZa=c;},65473:function(r,b,a){var n;function c(d,g,e,f,l){var h;h=this;this.Cb=d;this.Cl=g;this.Wv=e;this.Xb=f;this.Ao=l;this.ska=new Map();this.qsc();this.Xb.addListener(n.Ra.loaded,function(){return h.wrb();});}Object.defineProperty(b,"__esModule",{value:!0});b.IJ=void 0;n=a(85001);c.prototype.$8a=function(d){var g,e;g=this;e=Object.keys(this.Cb.hm.ba).find(function(f){return g.Cb.hm.ba[f].N === d.P;});d.id || (d.id=null !== e && void 0 !== e?e:this.Ao.nv(d.P));e || (this.Cb.hm=this.Ao.uPb(this.Cb.hm,d));e=this.MN(d.id);d.fi && this.Cb.Qyb(d.id,d.fi);return e;};c.prototype.eyb=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.PGa=function(d,g){var e;e=this;g=void 0 === g?{}:g;return this.Wv.transition(d,g).then(function(){e.Cb.zi=d;});};c.prototype.close=function(d){return this.Wv.close(d);};c.prototype.Sp=function(){return this.Wv.y7b();};c.prototype.Lp=function(){return this.Wv.Lp();};c.prototype.iM=function(){return this.Wv.iM();};c.prototype.MN=function(d){this.ska.has(d) || this.ska.set(d,this.Wv.rf(this.NRb(d)));return this.ska.get(d);};c.prototype.qsc=function(){var d;d=this;this.Wv.addListener(n.oQ.S6,function(){return d.Xb.Pc(n.oQ.S6);});Object.values(n.Ra).forEach(function(g){d.Wv.addListener(g,function(e){return d.Xb.Pc(g,e);});});};c.prototype.yA=function(){this.wrb();};c.prototype.ALa=function(d){this.Wv.Nyb({id:d,P:this.Cb.pv(d).N,fi:this.Cb.U7b(d)});};c.prototype.qN=function(){};c.prototype.wrb=function(){var d,g;if(this.Sp()){d=this.Cb.zi;g=this.Cb.D2(d);g && !this.ska.has(g) && (this.ALa(d),this.MN(g));}};c.prototype.NRb=function(d){var g,e,f,l;e=this.Cb.pv(d);f=this.Cl.hT(e.N);l=null === f || void 0 === f?void 0:f.Bb;f=null === f || void 0 === f?void 0:f.U;return {id:d,P:e.N,ub:e.rb,fi:null !== (g=null === l || void 0 === l?void 0:l.fi) && void 0 !== g?g:e.yb,Bb:l,U:f};};b.IJ=c;},99282:function(r,b,a){var n,d,g,e,f;function c(l){return d.zf.call(this,l,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Gua=void 0;r=a(5163);n=a(22674);d=a(64174);g=a(83767);e=a(12501);f=a(5021);Ha(c,d.zf);Ga.Object.defineProperties(c.prototype,{Flc:{configurable:!0,enumerable:!0,get:function(){return 2;}},Elc:{configurable:!0,enumerable:!0,get:function(){return (0,f.DKa)(3);}},kSa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Vma:{configurable:!0,enumerable:!0,get:function(){return !1;}},mzb:{configurable:!0,enumerable:!0,get:function(){return !1;}},tfb:{configurable:!0,enumerable:!0,get:function(){return !1;}},pka:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;b.Gua=a;r.__decorate([e.config(e.rE,"prepareSegmentsUpfront")],a.prototype,"Flc",null);r.__decorate([e.config(e.ol,"prepareSegmentsDuration")],a.prototype,"Elc",null);r.__decorate([e.config(e.xd,"usePlaygraphForPostPlay")],a.prototype,"kSa",null);r.__decorate([e.config(e.xd,"usePlaygraphForSkipSegment")],a.prototype,"Vma",null);r.__decorate([e.config(e.xd,"useSinglePlayerPlayback")],a.prototype,"mzb",null);r.__decorate([e.config(e.xd,"forcePlaygraphTrace")],a.prototype,"tfb",null);r.__decorate([e.config(e.xd,"postPlayDefaultNextEpisode")],a.prototype,"pka",null);b.Gua=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.Tn))],a);},45716:function(r,b,a){var n,d,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Iua=void 0;r=a(5163);n=a(75864);d=a(22674);g=a(79048);c.prototype.OXb=function(e){var h,k,m;for(var f=[],l=0;l < arguments.length;++l)f[l - 0]=arguments[l];h=this;if(0 === f.length)throw Error("Empty playgraph");k=new g.Au().dE(this.nv(f[0]));f.reverse().forEach(function(p){var v;v=h.nv(p);k.rf(v,Object.assign({N:p,rb:0,yb:Infinity},m?{Gc:m}:{}));m=v;});return k.ai();};c.prototype.nv=function(e,f){f=void 0 === f?n.jZ.Ura:f;return e + ":" + f;};c.prototype.uPb=function(e,f){var l,h,k,m;if(void 0 === k)k=null !== (l=f.id) && void 0 !== l?l:this.nv(f.P);l=this.Hgb(e);m=new g.Au(e);m.rf(k,{N:f.P,rb:null !== (h=f.ub) && void 0 !== h?h:0,yb:Infinity});e=e.ba[l];f={};m.rf(l,Object.assign({},e,{Gc:k,next:Object.assign({},e.next || ({}),(f[k]={},f))}));return m.ai();};c.prototype.Hgb=function(e){for(var f=e.Cf,l=f;l=e.ba[l].Gc;)f=l;return f;};a=c;b.Iua=a;b.Iua=a=r.__decorate([(0,d.W)()],a);},60443:function(r,b,a){var n,d,g,e,f,l,h,k,m;function c(p,v,q,u,t,w,x){this.wg=p;this.bEa=v;this.Xj=q;this.xRa=u;this.Xkc=t;this.Zkc=w;this.Ykc=x;}Object.defineProperty(b,"__esModule",{value:!0});b.Kua=void 0;r=a(5163);n=a(22674);d=a(9862);g=a(87386);e=a(52531);f=a(44720);l=a(88063);h=a(25830);k=a(56190);a=a(32050);c.prototype.create=function(p){return new d.g2a(p,this.wg,this.bEa,this.Xj,this.xRa,this.Xkc,this.Zkc,this.Ykc);};m=c;b.Kua=m;b.Kua=m=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.kb)),r.__param(1,(0,n.l)(f.JX)),r.__param(2,(0,n.l)(e.OJ)),r.__param(3,(0,n.l)(h.U4a)),r.__param(4,(0,n.l)(l.j2a)),r.__param(5,(0,n.l)(k.l2a)),r.__param(6,(0,n.l)(a.Rua))],m);},9862:function(r,b,a){var n,d,g;function c(e,f,l,h,k,m,p,v){this.xRa=k;this.tSa=v;this.V1=!1;h.Vma && (e=new g.h2a().Yvc(e));this.Cb=p(e);this.Cl=new d.o2a(this.Cb);this.Cl.Wub(this.Cb.ea.N);this.log=f.fb("PlaygraphManager");this.Xb=l.create();this.ey=m.create(this.Cb,this.Cl,this.log,this.Xb);this.rsc();this.ssc();}Object.defineProperty(b,"__esModule",{value:!0});b.g2a=void 0;n=a(85001);d=a(98899);g=a(15645);c.prototype.ssc=function(){var e,f;e=this;try{null !== (f=navigator.mediaSession) && void 0 !== f && f.setActionHandler && (navigator.mediaSession.setActionHandler("play",function(){e.Ab().play();}),navigator.mediaSession.setActionHandler("pause",function(){e.Ab().pause();}),navigator.mediaSession.setActionHandler("seekbackward",function(){var l,h;l=e.Ab();h=l.xG();h && l.seek(Math.max(0,h - 1E4),n.yc.Bu);}),navigator.mediaSession.setActionHandler("seekforward",function(){var l,h,k;l=e.Ab();h=l.xG();k=l.$L();h && l.seek(Math.min(h + 1E4,k),n.yc.Bu);}),navigator.mediaSession.setActionHandler("seekto",function(l){var h;h=e.Ab();l.rqc && h.seek(l.rqc,n.yc.Bu);}),navigator.mediaSession.setActionHandler("previoustrack",null),navigator.mediaSession.setActionHandler("nexttrack",null));}catch(l){this.log.error("Error setting up MediaSession",l);}};c.prototype.l7b=function(){return this.Cb.lka;};c.prototype.wfa=function(){return this.Cb.ea;};c.prototype.jgb=function(){return this.Cb.zi;};c.prototype.jM=function(){return this.Cb.hm;};c.prototype.wl=function(e){for(var f=[],l=0;l < arguments.length;++l)f[l - 0]=arguments[l];this.Cb.wl.apply(this.Cb,xa(f));};c.prototype.STb=function(e){for(var f=[],l=0;l < arguments.length;++l)f[l - 0]=arguments[l];this.Cb.O9a(f);};c.prototype.LI=function(e){this.Cb.hm=e;};c.prototype.dk=function(e,f){this.Cb.dk(e,f);};c.prototype.OGa=function(e,f,l,h){var k,m;l=void 0 === l?{}:l;h=void 0 === h?!0:h;if(e !== this.Cb.zi)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (k=this.jM().ba[e].next) && void 0 !== k?k:{}).indexOf(f))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + e + " -> " + f);this.zvb();null === (m=l.Ho) || void 0 === m?void 0:m.isUIAutoPlay;return this.ey.PGa(f,l,h);};c.prototype.Sp=function(){return this.ey.Sp();};c.prototype.addListener=function(e,f,l){this.Xb.addListener(e,f,l);};c.prototype.removeListener=function(e,f){this.Xb.removeListener(e,f);};c.prototype.Lp=function(){return this.ey.Lp();};c.prototype.Ab=function(){return this.ey.iM();};c.prototype.QXb=function(e,f,l){var h;e=void 0 === e?this.jM().Cf:e;f=void 0 === f?{}:f;h=this.tSa.$bb(this);this.zlc(null !== e && void 0 !== e?e:this.jM().Cf,f,l);return h;};c.prototype.KOb=function(e){var f;this.log.info("Adding segment - movieId: " + e.P + ", startPts: " + e.ub + ", logicalEnd: " + e.fi);f=Object.assign({},e.Bb,e.ub?{ub:e.ub}:{},e.fi?{fi:e.fi}:{});this.ywb(e.P,f,e.U);e=this.ey.$8a(e);this.zvb();return e;};c.prototype.transition=function(e){var f;f=this.Cb.D2(this.Cb.zi);return f?this.OGa(this.Cb.zi,f,e):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(e){return this.ey.close(e);};c.prototype.zlc=function(e,f,l){var h;void 0 === e && (e=null === (h=this.jM()) || void 0 === h?void 0:h.Cf);(f || l) && this.ywb(this.jM().ba[e].N,null !== f && void 0 !== f?f:{},l);this.ey.MN(e);};c.prototype.ywb=function(e,f,l){l && this.Cl.aR(e,l);this.Cl.uOb(e,f);};c.prototype.rsc=function(){var e;e=this;this.Cb.Auc(function(){e.Cl.yA();e.ey.yA();});this.Cb.Buc(function(f){e.ey.ALa(f);});this.Cb.zuc(function(f){e.ey.qN(f);});this.addListener(n.oQ.S6,function(){return e.Iic();});this.addListener(n.Ra.Vjb,function(f){return e.xic(f);});};c.prototype.zvb=function(){var e;e=this;this.V1 || (this.Ab().cza(n.da.lO,function(f){return e.ay(f);}),this.V1=!0);};c.prototype.xic=function(e){var f;f=this;this.ey.eyb(e).catch(function(){return f.Xb.Pc(n.Ra.error,e.S7());});};c.prototype.Iic=function(){var e;e=this.Ab().getError();e?this.Xb.Pc(n.Ra.oR,e):(this.Xb.Pc(n.Ra.Aca),this.Xb.Pc(n.Ra.$n),this.Xb.Pc(n.Ra.zy),this.Xb.Pc(n.Ra.Bn),this.Xb.Pc(n.Ra.X7),this.Xb.Pc(n.Ra.oR));};c.prototype.ay=function(e){var f,l,h;!1;f=e.metrics;if(f){l=this.Ab();h=l.wk(e.position.segmentId);f=l.wk(f.srcsegment);this.xRa.xmc(e,h,f,!!l.lhb().yh);}};b.g2a=c;},15645:function(r,b,a){var n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.h2a=void 0;n=a(79048);c.prototype.Yvc=function(d){var g;if(!this.ubc(d.ba))return d;g=new n.Au().dE(d.Cf);Object.entries(d.ba).forEach(function(e){var f;f=Ea(e);e=f.next().value;f=f.next().value;e === d.Cf?g.rf(e,Object.assign(Object.assign({},f),{next:void 0,yb:void 0,Gc:void 0})):g.rf(e,f);});return g.ai();};c.prototype.ubc=function(d){d=Object.values(d).map(function(g){return g.N;});return 1 === new Set(d).size;};b.h2a=c;},79054:function(r,b,a){var n,d,g,e,f,l,h,k,m,p;function c(v,q,u,t,w,x,z){this.Oa=v;this.yqc=u;this.Xj=w;this.Ao=z;this.tqc=q.ZL(!1,"6.0047.439.911",v.id,x,t);}Object.defineProperty(b,"__esModule",{value:!0});b.Nua=void 0;r=a(5163);n=a(22674);d=a(81918);g=a(52531);e=a(88574);f=a(93488);l=a(2911);h=a(4203);k=a(65473);m=a(63368);a=a(75864);c.prototype.create=function(v,q,u,t){var w,x;w=this.yqc.zXb(v,this.tqc,q);x=v.lSa;u.debug("Using " + (x?"single":"multiple") + " player playback strategy");return x?new e.V3a(this.Xj,v,q,u,w,t,this.Ao):new k.IJ(v,q,w,t,this.Ao);};p=c;b.Nua=p;b.Nua=p=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.fd)),r.__param(1,(0,n.l)(f.F3a)),r.__param(2,(0,n.l)(l.Hva)),r.__param(3,(0,n.l)(h.uc)),r.__param(4,(0,n.l)(g.OJ)),r.__param(5,(0,n.l)(m.J$)),r.__param(6,(0,n.l)(a.iZ))],p);},69751:function(r,b,a){var n,d;function c(g,e,f){this.dA=e;this.Xj=f;this.tba={};this.Eyb=[];this.Tvb=[];this.tob=[];this.Fza=new WeakMap();this.reset(g);}Object.defineProperty(b,"__esModule",{value:!0});b.m2a=void 0;n=a(79048);d=a(79048);c.prototype.reset=function(g){var e;e=1 < Object.keys(g.ba).length && 1 === new Set(Object.values(g.ba).map(function(f){return f.N;})).size;this.jNb=this.Xj.mzb || e;this.ivb(g);this.zi=g.Cf;this.tMb=this.dA.$F();this.fQa=new Map();};c.prototype.Qfa=function(g){if(this.lSa)return this.hm;this.Fza.has(g) || this.Fza.set(g,(0,n.bQa)(g.P,g.L));return this.Fza.get(g);};c.prototype.ivb=function(g){this.uMb=g;this.tba={};g=Object.keys(g.ba);this.O9a(g);this.khc();};c.prototype.wl=function(g){var l;for(var e=[],f=0;f < arguments.length;++f)e[f - 0]=arguments[f];l=this;e.filter(function(h){return l.kI(h.L);}).filter(function(h){h=h.oU;return !h || l.kI(h);}).forEach(function(h){var k;k=h.L;l.tba[k]=l.Oob(h.oU);l.ehc(k);});};c.prototype.O9a=function(g){var e;e=this;g.filter(function(f){return e.kI(f);}).forEach(function(f){e.tba[f]=e.Oob(e.pv(f).Gc);});};c.prototype.dk=function(g,e){var f,l,h;f=this.pv(g);if(f && f.next){l=new d.Au(this.hm);h=Object.keys(f.next).reduce(function(k,m){k[m]=void 0 === e[m]?f.next[m]:Object.assign({},f.next[m],{weight:e[m]});return k;},{});h=Object.assign({},f,{next:h});l.rf(g,h);this.hm=l.ai();}};c.prototype.kI=function(g,e){e=void 0 === e?this.hm.ba:e;return (g in e);};c.prototype.D2=function(g){return this.tba[g];};c.prototype.pv=function(g){return this.hm.ba[g];};c.prototype.U7b=function(g){if(this.fQa.has(g))return this.fQa.get(g);g=this.pv(g);return isFinite(g.yb)?g.yb:void 0;};c.prototype.Qyb=function(g,e){this.fQa.set(g,e);this.hhc(g);};c.prototype.Auc=function(g){this.Eyb.push(g);};c.prototype.Buc=function(g){this.Tvb.push(g);};c.prototype.zuc=function(g){this.tob.push(g);};c.prototype.khc=function(){var g;g=this;this.Eyb.forEach(function(e){return e(g.hm);});};c.prototype.ehc=function(g){this.tob.forEach(function(e){return e(g);});};c.prototype.hhc=function(g){this.Tvb.forEach(function(e){return e(g);});};c.prototype.Oob=function(g){return null === g?void 0:g;};Ga.Object.defineProperties(c.prototype,{lka:{configurable:!0,enumerable:!0,get:function(){return this.tMb;}},lSa:{configurable:!0,enumerable:!0,get:function(){return this.jNb;}},hm:{configurable:!0,enumerable:!0,get:function(){return this.uMb;},set:function(g){if(this.zi && !this.kI(this.zi,g.ba))throw Error("Provided playgraphMap does not contain the current segmentId " + this.zi);this.ivb(g);}},zi:{configurable:!0,enumerable:!0,get:function(){return this.FKb;},set:function(g){if(!this.kI(g))throw Error("Provided currentSegmentId " + g + " does not exist in the current playgraph");this.FKb=g;}},ea:{configurable:!0,enumerable:!0,get:function(){return this.pv(this.zi);}}});b.m2a=c;},62468:function(r,b,a){var n,d,g,e;function c(f,l){this.Oa=f;this.Acc=l;}Object.defineProperty(b,"__esModule",{value:!0});b.Qua=void 0;r=a(5163);n=a(22674);d=a(81918);g=a(7342);c.prototype.create=function(f){return new (a(58343).Caa)(this.Oa.$b(),f);};c.prototype.$bb=function(f){return new (a(64059).T8)(this.Oa.$b(),f,this.Acc);};e=c;b.Qua=e;b.Qua=e=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.fd)),r.__param(1,(0,n.l)(g.fZa))],e);},98899:function(r,b,a){var n;function c(d){this.Z=d;this.GW={};this.yA();}Object.defineProperty(b,"__esModule",{value:!0});b.o2a=void 0;n=a(56819);c.prototype.yA=function(){var d;d=this;Object.values(this.Z.hm.ba).forEach(function(g){g=g.N;d.GW[g] || d.Jjb(g);});this.Pma();};c.prototype.hT=function(d){return this.GW[d];};c.prototype.yrc=function(d){this.G2(d).state=n.WJ.VWa;this.Pma();};c.prototype.xrc=function(d,g){d=this.G2(d);d.state=n.WJ.Error;d.error=g;d.Btb(!1);this.Pma();};c.prototype.Wub=function(d){d=this.G2(d);d.state=n.WJ.mDb;d.Btb(!0);this.Pma();};c.prototype.uOb=function(d,g){this.G2(d).Bb=g;};c.prototype.aR=function(d,g){this.G2(d).U=g;};c.prototype.G2=function(d){var g;return null !== (g=this.hT(d)) && void 0 !== g?g:this.Jjb(d);};c.prototype.Jjb=function(d){var g,e;g=void 0;e=new Promise(function(f,l){g=function(h){(h?f:l)();};});return this.GW[d]={state:n.WJ.o0a,gnc:e,Btb:g};};c.prototype.Pma=function(){var g;for(var d=this.Z.zi;d=this.Z.D2(d);){g=this.Vm(d);if(this.GW[g].state === n.WJ.Error)break;if(this.GW[g].state === n.WJ.VWa)break;if(this.GW[g].state === n.WJ.o0a)break;}};c.prototype.Vm=function(d){return this.Z.hm.ba[d].N;};b.o2a=c;},88574:function(r,b,a){var n,d,g,e,f;function c(l,h,k,m,p,v,q){var u;u=e.IJ.call(this,h,k,p,v,q) || this;u.Xj=l;u.qa=m;u.V1=!1;u.TDa=new Map();u.Bic=function(){u.iM().cza(d.da.lO,function(t){u.Xb.Pc(d.oQ.S6);u.Cb.zi=t.position.segmentId;});};u.H$b();v.addListener(d.Ra.loaded,u.Bic);return u;}Object.defineProperty(b,"__esModule",{value:!0});b.V3a=void 0;n=a(79048);d=a(85001);g=a(36129);e=a(65473);f=a(75864);Ha(c,e.IJ);c.prototype.$8a=function(l){var h,k,m,p,v,q,u,t,w,x,z;h=this;m=this.Cb.hm;p=this.Ao.nv(l.P,"ident");v=this.Ao.nv(l.P,"main");q=this.Ao.nv(l.P,"credits");u=isFinite(l.fi);t=isFinite(l.ub) && l.P !== m.ba[m.Cf].N;w={};x=new n.Au(m).rf(v,Object.assign({N:l.P,rb:t && l.ub || 0,yb:null !== (k=l.fi) && void 0 !== k?k:Infinity},u?{next:(w[q]={},w),Gc:q}:{}));t && (k={},x.rf(p,{N:l.P,rb:0,yb:l.ub,next:(k[v]={},k),Gc:v}));u && x.rf(q,{N:l.P,rb:l.fi,yb:Infinity});if(!this.Cb.kI(v)){l=m.ba[this.Ao.Hgb(m)].N;z=this.Ao.nv(l,f.jZ.OUa);[this.Ao.nv(l,f.jZ.Ura),z].filter(function(y){return h.Cb.kI(y);}).forEach(function(y){var A,B,C;A=h.Cb.pv(y);B=y === z || h.Xj.pka;C={};x.rf(y,Object.assign({},A,{next:Object.assign({},A.next,(C[v]={},C))},B?{Gc:v}:{}));});}this.Cb.hm=x.ai();return this.MN(v);};c.prototype.yA=function(){this.Sp() && this.iM().yA();};c.prototype.ALa=function(){};c.prototype.qN=function(l){this.iM().qN(l);};c.prototype.PGa=function(l,h,k){h=void 0 === h?{}:h;this.qa.debug("goToSegment " + l);return this.iM().Z2(l,h,k);};c.prototype.MN=function(l){if(l === this.sqc)return null;this.sqc=l;return this.V1?this.Cl.hT(this.Cb.pv(l).N).gnc:(this.V1=!0,e.IJ.prototype.MN.call(this,l));};c.prototype.eyb=function(l){return l.errorCode && this.TDa.has(l.errorCode)?this.TDa.get(l.errorCode)(l):Promise.reject(Error("Error " + l.errorCode + " isn't recoverable"));};c.prototype.H$b=function(){var l;l=this;this.TDa.set(g.Y.X0a,function(){var h,k;return null !== (k=null === (h=e.IJ.prototype.MN.call(l,l.Cb.zi)) || void 0 === h?void 0:h.then(function(){var m,p;e.IJ.prototype.PGa.call(l,l.Cb.zi,null !== (p=null === (m=l.Cl.hT(l.Cb.ea.N)) || void 0 === m?void 0:m.Bb) && void 0 !== p?p:{});})) && void 0 !== k?k:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.V3a=c;},32754:function(r,b,a){var c,n,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.Urb=void 0;r=a(22674);c=a(69493);n=a(28978);d=a(98166);g=a(660);b.Urb=new r.Od(function(e){e(c.YVa).to(n.xpa).ma();e(d.d$).to(g.ura).ma();});},82100:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.bYa=b.e3a=b.KB=b.NXa=b.kaa=b.jaa=b.F5a=b.G5a=b.S0a=b.C9=b.TEMPORARY=b.Fy=void 0;b.WFa=function(d){var g;g=d.getConfiguration();return [b.KB,b.kaa,b.jaa].find(function(e){var f;return null === (f=g.videoCapabilities) || void 0 === f?void 0:f.some(function(l){return l.robustness === e;});});};b.ihb=function(d){var g,l;try{for(var e=/\((\d[^)]+)\)/g,f;f=e.exec(d);){l=Number(f[1]);(0,c.dc)(l) && (g=l);}}catch(h){}return g;};b.ikb=function(d){return n.kd.ri.test(d);};b.ibb=function(d){return d.robustness?d.keySystem + "." + d.robustness:d.keySystem;};c=a(32687);n=a(22210);b.Fy="cenc";b.TEMPORARY="temporary";b.C9="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.S0a="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.G5a="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.F5a="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.jaa="SW_SECURE_CRYPTO";b.kaa="SW_SECURE_DECODE";b.NXa="HW_SECURE_DECODE";b.KB="HW_SECURE_ALL";b.e3a={jaa:"SW_SECURE_CRYPTO",kaa:"SW_SECURE_DECODE",NXa:"HW_SECURE_DECODE",KB:"HW_SECURE_ALL"};b.bYa=[b.KB];},56039:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Fgb=function(n){var d;d={};try{n.forEach(function(g){var e,f;if(g.xL){for(var l=(0,c.ex),h=g.xL,k=0,m=new Uint8Array(16),p=0;p < h.length;p+=2)m[k++]=parseInt(h.slice(p,p + 2),16);l=l(m);g=null !== (e=g.height) && void 0 !== e?e:g.nOa;d[l]=Math.max(g,null !== (f=d[l]) && void 0 !== f?f:0);}});}catch(g){}return d;};c=a(31276);},69493:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YVa="DrmProviderSymbol";},98166:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.d$="LicenseProviderSymbol";},24735:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.Xo=void 0;b.Olb=function(c){return ["STANDARD","LIMITED"][c];};(function(c){c[c.xs=0]="STANDARD";c[c.MB=1]="LIMITED";})(a || (b.Xo=a={}));},28978:function(r,b,a){var n,d,g,e,f,l,h,k;function c(m,p,v,q){this.Si=m;this.wz=p;this.Qxc=v;this.c4=q;}Object.defineProperty(b,"__esModule",{value:!0});b.xpa=void 0;r=a(5163);n=a(22674);d=a(74870);g=a(2248);e=a(84408);f=a(53921);l=a(24735);h=a(82100);a=a(98166);c.prototype.ll=function(m){var p;p=this;return this.Si.VF(m.Ml[0].data[0],[8,4])?Promise.resolve({fH:[{id:"ddd",Llb:"cert",Mlb:void 0}],Vp:[{sessionId:"ddd",data:new Uint8Array(this.wz.decode(h.F5a))}]}):this.Si.VF(m.Ml[0].data[0],this.Qxc.decode("certificate"))?Promise.resolve({fH:[{id:"ddd",Llb:"cert",Mlb:void 0}],Vp:[{sessionId:"ddd",data:new Uint8Array(this.wz.decode(h.C9))}]}):this.c4.Ls(this.F3b(m)).then(function(v){return p.G3b(v);});};c.prototype.F3b=function(m){var p,v;p=this;v=m.Ml.map(function(q){return q.data.map(function(u){return {sessionId:q.sessionId,dataBase64:p.wz.encode(u)};});});return {Ea:m.Ea,de:m.de,nea:m.nea,gg:(0,l.Olb)(m.gg),ev:f.Uo[m.ev],Ml:v.reduce(function(q,u){return q.concat(u);},[]),Sj:m.Sj,Je:m.Je,N:m.N};};c.prototype.G3b=function(m){return {fH:m.fH,Vp:m.Vp};};k=c;b.xpa=k;b.xpa=k=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.Wi)),r.__param(1,(0,n.l)(g.ti)),r.__param(2,(0,n.l)(e.Du)),r.__param(3,(0,n.l)(a.d$))],k);},660:function(r,b,a){var n,d,g,e,f;function c(l,h,k,m){this.ENb=l;this.Woc=k;this.qpc=m;this.qa=h.fb("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.ura=void 0;r=a(5163);n=a(22674);d=a(87386);g=a(81378);a(24674);e=a(16257);a=a(829);c.prototype.Ls=function(l){var h,k;h=this;!1;k=this.Woc.Wvc(l);return this.ENb.ef({log:this.qa,links:l.Sj,N:l.N},k).then(function(m){m.map(function(p){return p.Fcc;});return h.qpc.Sxb(m);}).catch(function(m){h.qa.error("PBO license failed",m);return Promise.reject(m);});};f=c;b.ura=f;b.ura=f=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.Ata)),r.__param(1,(0,n.l)(d.kb)),r.__param(2,(0,n.l)(e.m1a)),r.__param(3,(0,n.l)(a.Ota))],f);},45266:function(r,b,a){var c,n,d;Object.defineProperty(b,"__esModule",{value:!0});b.Zcb=b.kib=b.qyb=b.LH=b.qia=b.wnb=void 0;r=a(29664);c=a(31435);n=a(60024);d=a(56663);a=a(5154);b.wnb=r;b.qia=function(g,e){return (0,b.wnb)(function(f,l){return void 0 !== l?l:f;},g,e);};b.LH=c;b.qyb=n;b.kib=d;b.Zcb=a;},17892:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nJb="StorageValidatorSymbol";b.DE="AppStorageFactorySymbol";},44272:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.h4a="Storage";},62945:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;r=a(22674);c=a(91133);n=a(48159);d=a(56278);g=a(42304);e=a(42236);f=a(84970);l=a(57925);h=a(67894);k=a(17892);m=a(86607);p=a(26305);b.storage=new r.Od(function(v){v(n.c0a).Ze(function(){return function(){return Ba.localStorage;};});v(n.dYa).Ze(function(){return function(){return Ba.indexedDB;};});v(m.K_a).to(p.Bsa).ma();v(k.DE).to(h.Yna).ma();v(d.EZa).to(g.yra).ma();v(c.V9).to(l.Pqa).ma();v(e.DYa).to(f.Qqa).ma();v(e.cYa).to(f.Hqa).ma();v(e.EYa).to(f.Rqa).ma();});},56278:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EZa="LocalStorageSymbol";},86607:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.K_a="MemoryStorageSymbol";},48159:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zGb="NativeLocalStorageSymbol";b.c0a="NativeLocalStorageFactorySymbol";b.dYa="IDBFactorySymbol";},31679:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BCb="__default_rule_key__";},67894:function(r,b,a){var d,g,e,f,l,h,k;function c(m,p,v,q){this.qa=m;this.config=p;this.e$b=v;this.nKa=q;this.fL={mem:{storage:this.nKa,key:"mem"}};this.uI=this.config.uI;}function n(m,p,v,q){this.wg=m;this.vq=p;this.nKa=v;this.config=q;}Object.defineProperty(b,"__esModule",{value:!0});b.Zna=b.Yna=void 0;r=a(5163);d=a(22674);g=a(36129);e=a(42236);f=a(87386);l=a(86607);h=a(31679);a=a(34231);n.prototype.create=function(){this.S0 || (this.S0=this.HR());return this.S0;};n.prototype.HR=function(){this.lPb=new c(this.wg.fb("AppStorage"),this.config,this.vq,this.nKa);return this.lPb.create();};k=n;b.Yna=k;b.Yna=k=r.__decorate([(0,d.W)(),r.__param(0,(0,d.l)(f.kb)),r.__param(1,(0,d.l)(e.EYa)),r.__param(2,(0,d.l)(l.K_a)),r.__param(3,(0,d.l)(a.Fq))],k);c.prototype.create=function(){var m;m=this;return this.nXb().then(function(p){if(!m.MSb(p,m.config.k3))throw m.Tgc(p);return m;});};c.prototype.load=function(m){var p;p=this;return new Promise(function(v,q){p.n2(m).storage.load(m).then(function(u){v(u);}).catch(function(u){q(u);});});};c.prototype.save=function(m,p,v){var q;q=this;return new Promise(function(u,t){q.n2(m).storage.save(m,p,v).then(function(w){u(w);}).catch(function(w){t(w);});});};c.prototype.remove=function(m){var p;p=this;return new Promise(function(v,q){p.n2(m).storage.remove(m).then(function(){v();}).catch(function(u){q(u);});});};c.prototype.removeAll=function(){var m;m=this;return new Promise(function(p,v){m.Ksb("mem").then(function(){return m.Ksb("idb");}).catch(function(q){return Promise.reject(q);}).then(function(){p();}).catch(function(q){m.qa.error("remove all failed");v(q);});});};c.prototype.loadAll=function(){var m,p;m=this;p=[];return this.emb("mem").then(function(v){p=p.concat(v);return m.emb("idb");}).catch(function(v){m.vbc(v) || m.qa.error("IndexedDb.LoadAll exception",v);return [];}).then(function(v){return p=p.concat(v);}).catch(function(v){m.qa.error("load all failed",v);throw v;});};c.prototype.nXb=function(){var m;m=this;return this.e$b.create().then(function(p){m.fL.idb={storage:p,key:"idb"};}).catch(function(p){m.qa.error("idb failed to load",p);return p || ({Ja:g.T.Kq});});};c.prototype.MSb=function(m,p){return !m || m && p?!0:!1;};c.prototype.Tgc=function(m){var p;p="";m && (p+=m.Ja);return {Ja:p};};c.prototype.Ksb=function(m){return (m=this.fL[m])?m.storage.removeAll():Promise.resolve();};c.prototype.emb=function(m){return (m=this.fL[m])?m.storage.loadAll():Promise.resolve([]);};c.prototype.E2b=function(m){for(var p in this.uI)if(m.startsWith(p))return this.uI[p];return this.uI[h.BCb];};c.prototype.n2=function(m){var p,v;p=this;this.E2b(m).every(function(q){return p.fL[q]?(v=p.fL[q],!1):!0;});if(!v){this.qa.error("component not found for storageKey",{Ztc:m,qGc:Object.keys(this.fL),rules:this.uI});v=this.fL.mem;}this.qa.trace("component found for key",{storageKey:m,componentKey:v.key});return v;};c.prototype.vbc=function(m){return (m && (m.Ja || m.errorSubCode)) === g.T.ZB;};b.Zna=c;},6675:function(r,b){function a(c,n){this.zC=c;this.$e=n;}Object.defineProperty(b,"__esModule",{value:!0});b.qra=void 0;a.prototype.load=function(c,n){var d;d=this;this.zC.load(c).then(function(g){n && n(a.Pwb(g));}).catch(function(g){n && n(d.bD(c,g));});};a.prototype.save=function(c,n,d,g){var e;e=this;this.zC.save(c,n,d).then(function(){g && g(a.Pwb({key:c,value:n}));}).catch(function(f){g && g(e.bD(c,f));});};a.prototype.remove=function(c,n){var d;d=this;this.zC.remove(c).then(function(){n && n({ta:!0,ema:c});}).catch(function(g){n && n(d.bD(c,g));});};a.Pwb=function(c){return {ta:!0,data:c.value,ema:c.key};};a.prototype.bD=function(c,n){return {ta:!1,ema:c,Ja:n.Ja,tc:n.Mb?this.$e.Fg(n.Mb):void 0};};b.qra=a;},42304:function(r,b,a){var n,d,g;function c(e){this.PH=e;}Object.defineProperty(b,"__esModule",{value:!0});b.yra=void 0;r=a(5163);n=a(22674);d=a(36129);a=a(48159);c.prototype.load=function(e){var f;f=this;return new Promise(function(l,h){var k,m;try{k=f.PH.getItem(e);if(k){m=k;if("{" === k[0])try{m=JSON.parse(k) || k;}catch(p){}l({key:e,value:m});}else h({Ja:d.T.ZB});}catch(p){h({Ja:d.T.t3a,Mb:p});}});};c.prototype.save=function(e,f,l){var h;h=this;return new Promise(function(k,m){if(l && h.PH.getItem(e))k(!1);else try{"string" === typeof f?h.PH.setItem(e,f):h.PH.setItem(e,JSON.stringify(f));k(!0);}catch(p){m({Ja:d.T.u3a,Mb:p});}});};c.prototype.remove=function(e){var f;f=this;return new Promise(function(l,h){try{f.PH.removeItem(e);l();}catch(k){h({Ja:d.T.wva,Mb:k});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};g=c;b.yra=g;b.yra=g=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.zGb))],g);},26305:function(r,b,a){var n,d,g;function c(e){this.wg=e;this.nN={};this.qa=this.wg.fb("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.Bsa=void 0;r=a(5163);n=a(22674);d=a(36129);a=a(87386);c.prototype.load=function(e){var f;if(this.nN.hasOwnProperty(e)){f=this.nN[e];this.qa.debug("Storage entry loaded",{key:e});return Promise.resolve({key:e,value:f});}this.qa.debug("Storage entry not found",{key:e});return Promise.reject({Ja:d.T.ZB});};c.prototype.save=function(e,f,l){if(l && this.nN.hasOwnProperty(e))return Promise.resolve(!1);this.nN[e]=f;return Promise.resolve(!0);};c.prototype.remove=function(e){delete this.nN[e];return Promise.resolve();};c.prototype.loadAll=function(){var e;e=Object.entries(this.nN).map(function(f){var l;l=Ea(f);f=l.next().value;l=l.next().value;return {key:f,value:l};});return Promise.resolve(e);};c.prototype.removeAll=function(){this.nN={};return Promise.resolve();};g=c;b.Bsa=g;b.Bsa=g=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.kb))],g);},92093:function(r,b,a){var d,g,e;function c(f,l,h){this.config=f;this.Pr=l;this.PH=h;}function n(f,l){this.reason=f;this.Mb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.CYa=b.CIb=void 0;d=a(36129);g=a(59818);(function(f){f[f.Zsa=0]="NoData";f[f.Error=1]="Error";f[f.wQ=2]="Timeout";})(e || (b.CIb=e={}));c.prototype.load=function(f){var l;l=this;return new Promise(function(h,k){l.Kea("get",!1,f).then(function(m){h({key:f,value:m});}).catch(function(m){var p;p=d.T.t3a;switch(m.reason){case e.Zsa:p=d.T.ZB;break;case e.wQ:p=d.T.dJb;}k({Ja:p,Mb:m.Mb});});});};c.prototype.save=function(f,l,h){var k;k=this;return new Promise(function(m,p){k.Kea(h?"add":"put",!0,{name:f,data:l}).then(function(){m(!h);}).catch(function(v){var q;q=d.T.u3a;switch(v.reason){case e.wQ:q=d.T.gJb;}p({Ja:q,Mb:v.Mb});});});};c.prototype.remove=function(f){var l;l=this;return new Promise(function(h,k){l.Kea("delete",!0,f).then(function(){h();}).catch(function(m){var p;p=d.T.wva;switch(m.reason){case e.wQ:p=d.T.s3a;}k({Ja:p,Mb:m.Mb});});});};c.prototype.removeAll=function(){var f;f=this;return new Promise(function(l,h){f.Kea("clear",!0,"").then(function(){l();}).catch(function(k){var m;m=d.T.wva;switch(k.reason){case e.wQ:m=d.T.s3a;}h({Ja:m,Mb:k.Mb});});});};c.prototype.loadAll=function(){var f;f=this;return this.Pr.Zt(this.config.timeout,new Promise(function(l,h){var k,m,p;if(f.config.ZPa)h(new n(f.config.ZPa));else {k=[];m=f.PH.transaction(f.config.e5,"readonly");p=m.objectStore(f.config.e5).openCursor();m.onerror=function(){h(new n(e.Error,p.error));};p.onsuccess=function(v){if(v=v.target.result)try{k.push({key:v.value.name,value:v.value.data});v.continue();}catch(q){h(new n(e.Error,q));}else l(k);};p.onerror=function(){h(new n(e.Error,p.error));};}})).catch(function(l){return l instanceof g.Cu?Promise.reject(new n(e.wQ,l)):l instanceof n?Promise.reject(l):Promise.reject(new n(e.Error,l));});};c.prototype.Kea=function(f,l,h){var k;k=this;return this.Pr.Zt(this.config.timeout,new Promise(function(m,p){var v,q;v=k.PH.transaction(k.config.e5,l?"readwrite":"readonly");q=v.objectStore(k.config.e5)[f](h);v.onerror=function(){p(new n(e.Error,q.error));};q.onsuccess=function(u){var t;if("get" == f)try{t=u.target.result;t?m(t.data):p(new n(e.Zsa));}catch(w){p(new n(e.Zsa,w));}else m(void 0);};q.onerror=function(){p(new n(e.Error,q.error));};})).catch(function(m){return m instanceof g.Cu?Promise.reject(new n(e.wQ,m)):m instanceof n?Promise.reject(m):Promise.reject(new n(e.Error,m));});};b.CYa=c;},91133:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.V9="IndexedDBConfigSymbol";},42236:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cYa="IDBDatabaseFactorySymbol";b.DYa="IndexedDBFactorySymbol";b.EYa="IndexedDBStorageFactorySymbol";},57925:function(r,b,a){var n,d,g,e,f;function c(l,h){l=g.zf.call(this,l,"IndexedDBConfigImpl") || this;l.config=h;l.version=1;l.e5="namedatapairs";return l;}Object.defineProperty(b,"__esModule",{value:!0});b.Pqa=void 0;r=a(5163);n=a(22674);d=a(12501);g=a(64174);e=a(34231);a=a(83767);Ha(c,g.zf);Ga.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.aD?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.wwb;}},jca:{configurable:!0,enumerable:!0,get:function(){return this.config.jca;}},$Pa:{configurable:!0,enumerable:!0,get:function(){return 0;}},ZPa:{configurable:!0,enumerable:!0,get:function(){return 0;}},lfb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});f=c;b.Pqa=f;r.__decorate([d.config(d.rE,"simulateIdbOpenError")],f.prototype,"$Pa",null);r.__decorate([d.config(d.rE,"simulateIdbLoadAllError")],f.prototype,"ZPa",null);r.__decorate([d.config(d.xd,"fixInvalidDatabase")],f.prototype,"lfb",null);b.Pqa=f=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.Tn)),r.__param(1,(0,n.l)(e.Fq))],f);},84970:function(r,b,a){var g,e,f,l,h,k,m,p,v,q,u,t;function c(w,x,z,y,A,B){this.config=x;this.V0=z;this.vq=y;this.eyc=A;this.rm=B;this.qa=w.fb(k.h4a);}function n(w,x){this.config=w;this.hB=x;}function d(w,x,z,y,A){this.config=x;this.hB=z;this.rm=A;this.qa=w.fb(k.h4a);this.V0=new Promise(function(B,C){var D;try{D=y();D?B(D):C({Ja:h.T.eYa});}catch(E){C({Ja:h.T.T9,Mb:E});}});}Object.defineProperty(b,"__esModule",{value:!0});b.Rqa=b.Qqa=b.Hqa=void 0;r=a(5163);g=a(22674);e=a(87386);f=a(92093);l=a(48159);h=a(36129);k=a(44272);m=a(91133);p=a(59818);v=a(17892);q=a(77134);u=a(42236);t=a(63156);d.prototype.create=function(){this.ACa || (this.ACa=this.HR());return this.ACa;};d.prototype.Ep=function(w){var x;x=this;this.ACa=null;return this.hB.Zt(this.config.timeout,new Promise(function(z,y){w.close();x.delete(w.name).then(function(){z();}).catch(function(A){y(A);});})).catch(function(z){return z instanceof p.Cu?Promise.reject({Ja:h.T.T9}):z.Ja?Promise.reject(z):Promise.reject({Ja:h.T.T9,Mb:z});});};d.prototype.delete=function(w){var x;x=this;return this.hB.Zt(this.config.timeout,new Promise(function(z,y){x.V0.then(function(A){var B;B=A.deleteDatabase(w);B.onsuccess=function(){z();};B.onerror=function(){y({Ja:h.T.T9,Mb:B.error});};}).catch(function(A){y(A);});}));};d.prototype.HR=function(){var w,x;w=this;return this.hB.Zt(this.config.timeout,new Promise(function(z,y){if(w.config.$Pa)return y({Ja:w.config.$Pa});w.V0.then(function(A){w.rm.mark(t.Gl.zEb);x=A.open(w.config.name,w.config.version);if(!x)return y({Ja:h.T.fYa});x.onblocked=function(){w.rm.mark(t.Gl.wEb);y({Ja:h.T.sEb});};x.onupgradeneeded=function(){var B;w.rm.mark(t.Gl.GEb);B=x.result;try{B.createObjectStore(w.config.e5,{keyPath:"name"});}catch(C){w.qa.error("Exception while creating object store",C);}};x.onsuccess=function(B){var C,D;w.rm.mark(t.Gl.FEb);try{C=B.target.result;D=C.objectStoreNames.length;w.qa.trace("objectstorenames length ",D);if(0 === D){w.qa.error("invalid indexedDb state, deleting");w.rm.mark(t.Gl.yEb);try{C.close();}catch(E){}A.deleteDatabase(w.config.name);setTimeout(function(){y({Ja:h.T.rEb});},1);return;}}catch(E){w.qa.error("Exception while inspecting indexedDb objectstorenames",E);}z(x.result);};x.onerror=function(){w.rm.mark(t.Gl.xEb);w.qa.error("IndexedDB open error",x.error);y({Ja:h.T.tEb,Mb:x.error});};}).catch(function(A){y(A);});})).catch(function(z){if(z instanceof p.Cu){try{x && x.readyState && w.rm.mark("readyState-" + x.readyState);}catch(y){}if(w.config.jca && x && "done" === x.readyState){if(w.Wxc(x))return (w.rm.mark(t.Gl.DEb),Promise.resolve(x.result));w.rm.mark(t.Gl.CEb);}w.rm.mark(t.Gl.BEb);return Promise.reject({Ja:h.T.vEb});}if(z.Ja)return Promise.reject(z);w.rm.mark(t.Gl.AEb);w.qa.error("IndexedDB open exception occurred",z);return Promise.reject({Ja:h.T.uEb,Mb:z});});};d.prototype.Wxc=function(w){try{return 0 < w.result.objectStoreNames.length;}catch(x){this.rm.mark(t.Gl.EEb);this.qa.error("failed to check open request state",x);}return !1;};a=d;b.Hqa=a;b.Hqa=a=r.__decorate([(0,g.W)(),r.__param(0,(0,g.l)(e.kb)),r.__param(1,(0,g.l)(m.V9)),r.__param(2,(0,g.l)(p.aF)),r.__param(3,(0,g.l)(l.dYa)),r.__param(4,(0,g.l)(q.xQ))],a);n.prototype.create=function(w){return Promise.resolve(new f.CYa(this.config,this.hB,w));};a=n;b.Qqa=a;b.Qqa=a=r.__decorate([(0,g.W)(),r.__param(0,(0,g.l)(m.V9)),r.__param(1,(0,g.l)(p.aF))],a);c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.S0 || (this.S0=this.HR(this.eyc));return this.S0;};c.prototype.HR=function(w){var x;x=this;w=void 0 === w?[]:w;return new Promise(function(z,y){x.rm.mark(t.Gl.cJb);x.V0.create().then(function(A){x.vq.create(A).then(function(B){Promise.all(w.map(function(C){return C.validate(B);})).then(function(){x.storage=B;z(x.storage);}).catch(function(C){x.qa.debug("DB validation failed, cause: " + C);x.config.lfb?(x.qa.debug("Fixing corrupt DB"),x.V0.Ep(A).then(function(){x.qa.error("Invalid database deleted, creating new database.");x.HR().then(function(D){x.qa.error("Invalid database successfully recreated.");x.storage=D;z(x.storage);});}).catch(function(D){x.qa.error("Couldn't delete invalid database.");y(D);})):(x.qa.debug("Ignoring invalid DB due to config"),x.storage=B,z(x.storage));});}).catch(function(B){y(B);});}).catch(function(A){y(A);});});};a=c;b.Rqa=a;b.Rqa=a=r.__decorate([(0,g.W)(),r.__param(0,(0,g.l)(e.kb)),r.__param(1,(0,g.l)(m.V9)),r.__param(2,(0,g.l)(u.cYa)),r.__param(3,(0,g.l)(u.DYa)),r.__param(4,(0,g.optional)()),r.__param(4,(0,g.AH)(v.nJb)),r.__param(5,(0,g.l)(q.xQ))],a);},69899:function(r,b,a){var d;function c(g,e,f){this.start=g;this.track=e;this.wI=Array.isArray(f)?f:[];}function n(g,e){this.log=g;this.NI=e;this.xNa=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.q4a=void 0;d=a(45146);n.prototype.INb=function(g,e){this.oob(g,e,"activating");};n.prototype.EYb=function(g){this.MDa(g,"de-activating");};n.prototype.oob=function(g,e,f){var l;this.Pl && this.MDa(g,"close current for new");l=[];this.orphans.length && (l.push.apply(l,xa(this.orphans)),this.orphans=[]);this.Pl=new c(g,e,l);this.NI && this.log.trace("new range: " + f,this.Pl);};n.prototype.MDa=function(g,e){this.Pl && (this.Pl.end=g,this.xNa.push(this.Pl),this.NI && this.log.trace("end range: " + e,this.Pl || ({})),this.Pl=void 0);};n.prototype.Vyb=function(g){for(var e=[],f=0;f < arguments.length;++f)e[f - 0]=arguments[f];this.Pl?this.Pl.wI.push.apply(this.Pl.wI,xa(e)):this.orphans.push.apply(this.orphans,xa(e));};n.prototype.zGa=function(g){var e,f;e=this.xNa.slice(0);if(this.Pl && "undefined" !== typeof g){f=new c(this.Pl.start,this.Pl.track,this.Pl.wI);f.end=g;e.push(f);}g=e.reduce(function(l,h){var k,m,p,v;if(!h.track)return l;m=h.track.Nb;p=h.track.mo(h.start,h.end);if(void 0 === p || null === p)return l;v=new Set(h.wI);l[m]?(h=l[m],h.expected+=p,h.missed+=p - v.size):l[m]={dlid:m,bcp47:h.track.rg,profile:h.track.profile,expected:p,missed:p - v.size,startPts:null !== (k=h.track.Y7b()) && void 0 !== k?k:0};return l;},{});g=Object.values(g);this.NI && this.log.trace("subtitleqoe:",JSON.stringify(g,null,"\t"));return g;};n.prototype.P7b=function(g){var e,f,l,h;e=this.xNa.slice(0);f=0;l=0;if(this.Pl && "undefined" != typeof g){h=new c(this.Pl.start,this.Pl.track,this.Pl.wI);h.end=g;e.push(h);}e.forEach(function(k){var m,p;if(k.track){if(k.end < k.start){(0,d.oa)(!1,"negative range");k.iI=0;return;}m=new Set(k.wI);p=k.track.mo(k.start,k.end);k.Mea=p;k.iI=void 0 === p || null === p?0:0 === p?100:100 * m.size / p;}else k.iI=100;m=k.end - k.start;f+=m;l+=k.iI * m;});h=f?Math.round(l / f):100;this.log.trace("qoe score " + h + ", at pts: " + g);this.NI && (g=e.map(function(k){return {start:k.start,"end  ":k.end,duration:k.end - k.start,score:Math.round(k.iI),lang:k.track?k.track.rg:"none","actual  ":k.wI.join(" "),expected:k.Mea};}),this.log.trace("score for each range: ",JSON.stringify(g,function(k,m){return m;}," ")));return h;};b.q4a=n;},40076:function(r,b,a){var c,n,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.QO=void 0;r=a(22674);c=a(53205);n=a(29773);d=a(22692);g=a(87549);b.QO=new r.Od(function(e){e(g.H4a).to(c.dwa);e(d.F4a).Cn(new n.cwa());e(g.G4a).Ze(function(f){return function(){return f.tb.get(g.H4a);};});});},87549:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.H4a="ThroughputTrackerSymbol";b.G4a="ThroughputTrackerFactorySymbol";},22692:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.F4a="ThroughputTrackerConfigSymbol";},70826:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.VVa=void 0;c=a(72574);b.VVa=function(n,d){this.s_b=n;this.size=d.mIa()?c.wa:d;};},29773:function(r,b,a){function c(n){this.t_b=void 0 === n?10:n;}Object.defineProperty(b,"__esModule",{value:!0});b.cwa=void 0;r=a(5163);a=a(22674);b.cwa=c;b.cwa=c=r.__decorate([(0,a.W)()],c);},53205:function(r,b,a){var n,d,g,e;function c(f){this.config=f;this.cQa=d.wa;this.QV=[];}Object.defineProperty(b,"__esModule",{value:!0});b.dwa=void 0;r=a(5163);n=a(22674);d=a(72574);g=a(5021);a=a(22692);c.prototype.Np=function(){var l;for(var f;0 < this.QV.length;)(f=this.QV.shift(),this.I8a(f));f=void 0 === this.j1 || void 0 === this.vL?g.wa:this.vL.ka(this.j1);l=f.Kkb()?0:this.cQa.ia(d.cJ) / f.ia(g.pa);return {cRa:Math.floor(l),YHc:f.ia(g.pa)};};c.prototype.aOb=function(f){this.cQa=this.cQa.add(f.size);this.QV.push(f.s_b);for(this.QV.sort(function(l,h){return l.start.el(h.start);});this.QV.length > this.config.t_b;)(f=this.QV.shift(),this.I8a(f));};c.prototype.I8a=function(f){void 0 === this.j1 && (this.j1=f.start);void 0 !== this.vL && 0 > this.vL.el(f.start) && (this.j1=this.j1.add(f.start.ka(this.vL)));if(void 0 === this.vL || 0 > this.vL.el(f.end))this.vL=f.end;};e=c;b.dwa=e;b.dwa=e=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.F4a))],e);},35781:function(r,b,a){var n,d,g,e,f,l,h,k,m;function c(p,v,q,u,t,w){var x,z;p=f.TJ.call(this,v,p,p,t,!0,{sf:"",Nr:"content"},"1",[{sh:0,url:q,type:"unknown"}],"xx",u || p,l.ys.kQ,void 0,void 0,"primary",null !== (x=null === w || void 0 === w?void 0:w.profile) && void 0 !== x?x:"dfxp-ls-sdh",null !== (z=null === w || void 0 === w?void 0:w.midx) && void 0 !== z?z:{},!1,!1,null === w || void 0 === w?void 0:w.isLanguageLeftToRight) || this;p.j=v;p.url=q;p.options=w;p.fw=null === w || void 0 === w?void 0:w.useRangeHeader;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.I4a=void 0;r=a(13044);n=a(29204);d=a(37509);g=a(31276);e=a(52569);f=a(26159);l=a(35128);h=a(61726);k=a(43193);m=a(85001);(0,r.fIb)(r.pua,function(p){var q;function v(u){var t;if(u.ctrlKey && u.altKey && u.shiftKey && u.keyCode == k.VP.qJb){t=(0,e.createElement)("INPUT",void 0,void 0,{type:"file"});t.addEventListener("change",function(){var w,x,z;w=t.files[0];if(w){x=w.name;q.info("Loading file",{FileName:x});z=new FileReader();z.readAsText(w);z.addEventListener("load",function(){return p.Bq.Rya("nourl",x,{content:z.result});});}});t.click();}}q=(0,g.lj)(p,"TimedTextCustomTrack");n.config.zCa && (q.info("Loading url",{Url:n.config.zCa}),p.Bq.Rya(n.config.zCa,"custom"));d.ff.addListener(d.JG,v);p.addEventListener(m.da.sg,function(){d.ff.removeListener(d.JG,v);});});Ha(c,f.TJ);c.XWb=function(p,v,q,u){var t;t="custom" + c.cac++;return new c(t,p,v,q,-1,u);};c.prototype.pdb=function(){var p;p=this;return new Promise(function(v,q){var u,t;if(null === (u=p.options) || void 0 === u?0:u.content)v(p.options.content);else if(p.url){t={responseType:h.mHa,url:p.url,track:p,Tc:void 0,gG:"tt-" + p.rg,Zv:"unknown"};p.j.wga.download(t,function(w){w.ta?v(w.content):(w.reason="downloadfailed",w.url=t.url,w.track=p,q(w));});}});};b.I4a=c;c.cac=0;},97154:function(r,b,a){var n,d,g,e,f,l;function c(h,k,m){this.$ea=h;this.YC={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=(0,n.createElement)("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.Zub(k);this.MEa=this.tgb(this.$ea);this.lang=m;}Object.defineProperty(b,"__esModule",{value:!0});b.J4a=void 0;n=a(52569);d=a(33579);g=a(15531);e=a(29204);f=a(22365);l=a(3887);c.prototype.Lp=function(){return this.element;};c.prototype.grc=function(h){this.rz=h;};c.prototype.vrc=function(h){this.entry=h;this.YN();};c.prototype.Grc=function(h){this.Zub(h);this.YN();};c.prototype.Hrc=function(h){this.lang=h;this.YN();};c.prototype.YN=function(){var h,k,m,p,v,q,u,t,w,x,z,y,A,B,C,D;h=this;m=this.Lp();p=m.parentElement;v=p && p.clientWidth || 0;q=p && p.clientHeight || 0;u=0;t=0;w=0;p={width:v,height:q};z=null !== (k=e.config.Ama.characterSize) && void 0 !== k?k:e.config.iRa.characterSize;this.lang && e.config.Dga && e.config.Dga.includes(this.lang) && "MEDIUM" === z && (w=1.4);this.lang && e.config.Ega && e.config.Ega.includes(this.lang) && "SMALL" === z && (w=1.6);if(0 < v && 0 < q && this.entry){this.rz && (p=(0,n.Zea)(v,q,this.rz),u=Math.round((v - p.width) / 2),t=Math.round((q - p.height) / 2));y=this.ySb(p);A=(0,n.Zea)(y.width,y.height,this.rz);(x=this.rtc(this.entry.blocks)) && (x=this.Epc(x));y=x && x.map(function(E){var F;F=null === E || void 0 === E?void 0:E.region;switch(F.horizontalAlignment){case "start":F.horizontalAlignment="rtl" === h.YC.direction?"right":"left";break;case "end":F.horizontalAlignment="rtl" === h.YC.direction?"left":"right";}F=(0,g.ceb)(E,A,h.$ea,h.MEa,w);E=(0,g.j1b)(E) + ";position:absolute";return (0,n.createElement)("div",E,F,c.apa);});}Object.assign(this.YC,{left:u + "px",right:u + "px",top:t + "px",bottom:t + "px"});m.style.display="none";m.style.direction=this.YC.direction;m.innerHTML="";if(y && y.length){k=p.width;v=p.height;u=p;this.p0 && (u=this.CNb(p,this.p0,q,t));this.YC.margin=this.Fv?this.Wca(p,"top") + "px " + this.Wca(p,"right") + "px " + this.Wca(p,"bottom") + "px " + this.Wca(p,"left") + "px ":void 0;y.forEach(function(E){return m.appendChild(E);});q=(0,n.N0)(this.YC);m.style.cssText=q + ";visibility:hidden;z-index:-1";t=[];for(z=y.length - 1;0 <= z;z--){B=y[z];C=x[z];D=this.Cob(B,C,k,v);w=0 < w?k / D.width * w:k / D.width;D.width > k && (B.innerHTML=(0,g.ceb)(C,p,this.$ea,this.MEa,w),D=this.Cob(B,C,k,v));t[z]=D;}t=(0,d.Awc)(t,u);if(z=x && x[0] && x[0].textNodes && x[0].textNodes[0] && x[0].textNodes[0].style)(u=z.windowColor,z=z.windowOpacity,u && 0 < z && (B=Math.round(v / 50),p=(0,g.l1b)(x,t,B,u,p),p=(0,n.createElement)("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,p,c.apa),m.insertBefore(p,m.firstChild)));m.style.display="none";for(p=t.length - 1;0 <= p;p--)(z=t[p],u=y[p].style,B=x[p].region,z=(0,g.k1b)(B,z,k,v,0),Object.assign(u,z));m.style.cssText=q;}};c.prototype.FPa=function(h){this.p0=h;this.YN();};c.prototype.DGa=function(){return this.p0;};c.prototype.GPa=function(h){this.Fv=h;this.YN();};c.prototype.EGa=function(){return this.Fv;};c.prototype.FGa=function(){return "block" === this.YC.display;};c.prototype.HPa=function(h){var k;k=h?"block":"none";this.element.style.display=k;this.YC.display=k;h && this.YN();};c.prototype.Ywc=function(h){this.$ea=h;this.MEa=this.tgb(h);};c.prototype.tgb=function(h){var k,m;k=this;m={};(0,l.wh)(h,function(p,v){m[p]=k.ifc(v);});return m;};c.prototype.Zub=function(h){this.YC.direction="boolean" === typeof h?h?"ltr":"rtl":"inherit";};c.prototype.Wca=function(h,k){if(this.Fv){if("left" === k || "right" === k)return h.width * (this.Fv[k] || 0);if("top" === k || "bottom" === k)return h.height * (this.Fv[k] || 0);}return 0;};c.prototype.ySb=function(h){return this.Fv?{height:h.height * (1 - (this.Fv.top || 0) - (this.Fv.bottom || 0)),width:h.width * (1 - (this.Fv.left || 0) - (this.Fv.right || 0))}:h;};c.prototype.ifc=function(h){var k;h="display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + h + ";";h=(0,n.createElement)("DIV",h,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.apa);f.Vh.body.appendChild(h);k={fontSize:1E3,height:h.clientHeight,width:h.clientWidth / 52,lineHeight:h.clientHeight / 1E3};f.Vh.body.removeChild(h);return k;};c.prototype.Cob=function(h,k,m,p){var v,q,u,t,w;v=k.region;q=(v.marginTop || 0) * p;u=(v.marginBottom || 0) * p;t=(v.marginLeft || 0) * m;w=(v.marginRight || 0) * m;k=h.clientWidth || 1;h=h.clientHeight || 1;switch(v.verticalAlignment){case "top":p=q;break;case "center":p=(q + p - u - h) / 2;break;default:p=p - u - h;}switch(v.horizontalAlignment){case "left":m=t;break;case "right":m=m - w - k;break;default:m=(t + m - w - k) / 2;}return {top:p,left:m,width:k,height:h};};c.prototype.CNb=function(h,k,m,p){return {height:m - Math.max(p,k.bottom || 0) - Math.max(p,k.top || 0),width:h.width};};c.prototype.Epc=function(h){var k,v,q,u;k=h && h.map(function(t,w){var x;return "vertical-rl" === (null === (x=null === t || void 0 === t?void 0:t.region) || void 0 === x?void 0:x.writingMode)?w:-1;}).filter(function(t){return -1 !== t;});if(k && 0 !== k.length)for(var m=0,p=k.length - 1;m < p;(m++,p--)){v=k[m];q=k[p];u=Ea([h[q],h[v]]);h[v]=u.next().value;h[q]=u.next().value;}return h;};c.prototype.rtc=function(h){var k,m;if(!h || 0 === h.length)return h;m=h.filter(function(q){var u;return "horizontal-tb" === (null === (u=q.region) || void 0 === u?void 0:u.writingMode);}).sort(function(q,u){return q.region.marginTop - u.region.marginTop;});if(!m || 0 === m.length)return h;for(var p=0,v=0;p < m.length && v < h.length;v++)"horizontal-tb" === (null === (k=h[v].region) || void 0 === k?void 0:k.writingMode) && (h[v]=m[p++]);return h;};b.J4a=c;c.apa={"class":"player-timedtext-text-container"};},7953:function(r,b){function a(c,n){var d;d=this;this.Vgb=c;this.dpb=n;this.mRa=!1;this.AU=function(){d.Ko=void 0;d.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.N4a=void 0;a.prototype.update=function(c){var n,d,g,e,f;g=this.Vgb();if(this.Wyb !== g){e=null === (d=null === (n=this.s4) || void 0 === n?void 0:n.wG(g)) || void 0 === d?void 0:d[0];if(e && ("startTime" in e))if(e.startTime <= g && g <= e.endTime){f=e;this.Hyb(e.endTime - g);}else this.Hyb(e.startTime - g);this.Wyb=g;this.Mya !== f && (this.Mya=f,!c && this.dpb && this.dpb());}};a.prototype.start=function(){this.mRa=!0;this.update();};a.prototype.dvb=function(c){this.s4=c;this.Mya=this.Wyb=void 0;c || this.stop();};a.prototype.stop=function(){this.mRa=!1;this.Xr();};a.prototype.c4b=function(){this.update(!0);return this.Mya;};a.prototype.Hyb=function(c){this.Xr();this.mRa && 0 < c && (this.Ko=Ba.setTimeout(this.AU,c + a.pGb));};a.prototype.Xr=function(){this.Ko && (Ba.clearTimeout(this.Ko),this.Ko=void 0);};b.N4a=a;a.pGb=10;},26159:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t,w;function c(x,z,y,A,B,C,D,E,F,G,J,N,I,M,K,L,H,O,P,Q){this.j=x;this.trackId=z;this.AM=y;this.Fc=A;this.Vg=B;this.Kxb=C;this.Nb=D;this.urls=E;this.rg=F;this.displayName=G;this.Qh=J;this.JO=N;this.variant=I;this.bI=M;this.profile=K;this.Xx=L;this.Sia=H;this.r3b=O;this.cha=P;this.Ix=Q;this.type=e.Dl.jRa;this.fw=void 0;this.ro=!(!K || K != l.cp.fQ);this.Ah={bcp47:F,trackId:z,downloadableId:D,isImageBased:this.ro};this.log=(0,f.lj)(x,"TimedTextTrack");this.state=w.u$;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.TJ=void 0;n=a(5163);d=a(61726);g=a(29204);e=a(51344);f=a(31276);l=a(75568);h=a(45146);k=a(32687);m=a(58174);p=a(85001);v=a(36129);q=a(92020);u=a(32934);t=a(45247);(function(x){x[x.u$=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.yJ=2]="LOADED";x[x.JY=3]="LOAD_FAILED";})(w || (w={}));c.prototype.Gga=function(){var x;x=this;if(this.j.state.value === p.qc.CLOSED || this.j.state.value === p.qc.CLOSING)return Promise.reject({ta:!1});if(this.ro)return this.V$b();if(this.j.zd.fa)return (this.state=w.LOADING,this.Ijb());this.mdb || (this.mdb=this.pdb());return this.mdb.then(function(z){return x.Ijb(z);});};c.prototype.getState=function(){return this.state;};c.prototype.bn=function(){return this.Sia;};c.prototype.am=function(){return this.r3b;};c.prototype.yGa=function(){var x;return (null === (x=this.v7) || void 0 === x?0:x.ready)?this.v7.s4:void 0;};c.prototype.mo=function(x,z){var y;try{return null === (y=this.yGa()) || void 0 === y?void 0:y.mo(x,z);}catch(A){this.log.error("error in getSubtitlesCount",A,{start:x,end:z,isImageBased:this.ro});}};c.prototype.Y7b=function(){var x,z,y;if(!(0,k.Zc)(this.ub))try{y=null === (z=null === (x=this.yGa()) || void 0 === x?void 0:x.wG(0)) || void 0 === z?void 0:z[0];this.ub=null === y || void 0 === y?void 0:y.displayTime;}catch(A){this.log.error("exception in getStartPts",A);}return this.ub;};c.prototype.sNa=function(x){var z,y;(0,h.oa)((0,t.Qga)(x));(0,h.oa)(null === (z=this.j.U) || void 0 === z?void 0:z.Ca.Wg,"Live manifest is unavailable.");(0,h.oa)(null === (y=this.v7) || void 0 === y?void 0:y.s4,"Subtitle manager is unavailable");z=x.fyb;this.v7.s4.sNa({L:x.L,xml:z,ub:x.ub,cg:x.cg,size:z.length,Ov:x.Ov,endOfStream:x.endOfStream});};c.prototype.oq=function(x){return this.j.state.value === p.qc.CLOSING || this.j.state.value === p.qc.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.ca.Ic.value !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};c.prototype.bcb=function(x){var z,y;z=this;y=(0,f.lj)(this.j,"TimedTextTrack");y.warn=y.trace.bind(y);y.info=y.debug.bind(y);y=(0,m.ZXb)(this.j,y,this.request,this);x=new q.default(y,x);this.v7={s4:x,ready:!1};x.on("ready",function(){z.v7.ready=!0;});return x;};c.prototype.V$b=function(){var x,z,y,A,B,C,D;x=this;if(!this.Fjb){this.state=w.LOADING;z={profile:"nflx-cmisc",url:"",e$a:!1,sKa:this.Xx.offset,Fnb:this.Xx.length,He:this.j.mediaTime.value || 0,bufferSize:g.config.n$b,zla:{ba:this.j.k2()}};y=(this.urls || []).map(function(E){return E.sh;});A=0;B={};C=!0;D=function(E,F){var G;(0,k.Zc)(E)?C || x.oq(x.qr(x.px,"","image"))?(C=!1,x.Xx.url=null === (G=x.pfa(x.px)) || void 0 === G?void 0:G.url,z.url=x.Xx.url,B[E]=(B[E] || 0) + 1,G=x.bcb(z),G.on("ready",function(){F({ta:!0,track:x});}),G.on("error",function(J){var N;J=Object.assign({ta:!1},J);N=x.qr(x.px,x.Xx.url,"image");N.details={midxoffset:x.Xx.offset,midxsize:x.Xx.length};N.errorstring=J.errorString;B[E] <= g.config.uxb?(x.Uea(N,!0,"retry with current cdn"),x.Xza(B[E]).then(function(I){x.log.trace("retry timed text download after " + I,x.qr(x.px,"","image"));D(x.px,F);})):(x.px=y[A++],x.px?(x.Uea(N,!0,"retry with next cdn"),x.Xza(B[E]).then(function(I){x.log.trace("retry timed text download after " + I,x.qr(x.px,"","image"));D(x.px,F);})):(x.Uea(N,!1,"all cdns tried"),F({ta:!1,lgc:"all cdns failed for image subs",track:x})));}),G.start()):F({ta:!1,aborted:!0}):(F({ta:!1,lgc:"cdnId is not defined for image subs downloadUrl"}),x.Uea(x.qr(0,"","image"),!1,"cdnId is undefined"));};this.px=y[A++];this.Fjb=new Promise(function(E,F){D(x.px,function(G){G.ta?(x.log.info("Loaded image subtitle manager"),x.state=w.yJ,E(G)):(x.log.error("Unable to load image subtitles manager",G),x.state=w.JY,F(G));});});}return this.Fjb;};c.prototype.Ijb=function(x){var z,y;z=this;y=this.j.QI.value;(0,h.oa)(y);(0,h.oa)(void 0 !== x || this.j.zd.fa);return new Promise(function(A,B){var C;C=z.bcb({profile:z.profile,xml:x,kj:g.config.iRa,preferences:g.config.Ama,He:z.j.mediaTime.value || 0,e$a:!1,videoSize:y,fa:z.j.zd.fa});C.on("ready",function(){A(C);}).on("error",function(D){B({ta:!1,error:D});}).start();}).then(function(){z.state=w.yJ;return {ta:!0,track:z};}).catch(function(A){z.log.error("Unable to parse timed text track",(0,v.HB)(A),z.Ah,{url:A.url});z.state=w.JY;A.reason="parseerror";A.track=z;throw A;});};c.prototype.Uea=function(x,z,y){x=Object.assign({},x,{vOc:z,status:y});this.j.fireEvent(p.da.cW,x);this.log.warn("subtitleerror event",x);};c.prototype.request=function(x,z){var y,A,B;y=this;this.log.trace("Downloading",x);B=this.pfa(this.px);x={url:x.url,offset:x.offset,length:x.size,fw:this.fw,responseType:d.i3,headers:{},Tc:B?{id:B.sh}:void 0,gG:"tt-" + this.rg,Zv:null !== (A=null === B || void 0 === B?void 0:B.type) && void 0 !== A?A:u.bZ};this.j.wga.download(x,function(C){y.log.trace("imgsub: request status " + C.ta);C.ta?z(null,new Uint8Array(C.content)):z({Ja:C.Ja,Af:C.Af});});};c.prototype.qr=function(x,z,y){return {currentCdnId:x,url:z,profile:this.profile,dlid:this.Nb,subtitletype:y,bcp47:this.rg,trackId:this.trackId,cdnCount:Object.keys(this.urls).length,isImageBased:this.ro};};c.prototype.pfa=function(x){return (this.urls || []).find(function(z){return z.sh === x;});};c.prototype.pdb=function(){var A,B;function x(C){return n.__awaiter(A,void 0,void 0,function E(){var F,G,J;G=this;return Ua(E,function(N){F=y();J=G.qr(C.Tc.sh,C.url,"text");J.errorstring=C.reason;return F && G.oq(J)?N.return(G.Xza(B[F.sh]).then(z)):N.return(Promise.reject({ta:!1,aborted:!0}));});});}function z(){return n.__awaiter(A,void 0,void 0,function D(){var E,F,G;G=this;return Ua(D,function(J){E=y();F=null === E || void 0 === E?void 0:E.url;return E && F?(B[E.sh]=(B[E.sh] || 0) + 1,J.return(G.o_b(F,E).catch(x))):J.return(Promise.reject({}));});});}function y(){return (A.urls || []).find(function(C){return !!((B[C.sh] || 0) < g.config.uxb);});}A=this;this.state=w.LOADING;B={};return z();};c.prototype.Xza=function(x){return new Promise(function(z){var y;y=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return z(y);},y);});};c.prototype.o_b=function(x,z){var y;y=this;this.log.trace("Downloading",z && ({Tc:z.sh}),this.qr(z.sh,x,"text"));return new Promise(function(A,B){var C,D;D={responseType:d.mHa,url:x,track:y,Tc:{id:z.sh},gG:"tt-" + y.rg,Zv:null !== (C=z.type) && void 0 !== C?C:u.bZ};y.j.wga.download(D,function(E){E.ta?A(E.content):(E=Object.assign(Object.assign({},E),{reason:"downloadfailed",url:D.url,track:y,Tc:z}),B(E));});});};Ga.Object.defineProperties(c.prototype,{sf:{configurable:!0,enumerable:!0,get:function(){return this.Kxb.sf;}},Nr:{configurable:!0,enumerable:!0,get:function(){return this.Kxb.Nr;}}});b.TJ=c;c.$o=w;},58174:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZXb=function(a,c,n,d){return {t7b:function(){var g;g=a.hGa();d.Ix && (g+=d.Ix);return g;},qa:c,request:n,yk:!1};};},73585:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v;function c(q){var u;u=this;this.j=q;this.LQa=this.fob=0;this.sg=this.rn=!1;this.gla=0;this.zga=new Set();this.e7=!0;this.Bn=function(){var t,w;u.$ka();u.lL && (u.log.info("Deactivating",u.lL),u.kE.EYb(u.Kp()));u.j.Gj.set(null);u.SO.dvb(void 0);u.Hab();t=u.j.ca.Ic.value;t && t.bn() && !t.am() && (t=null);if(t && u.j.Ib.value !== p.wb.og){w=u.Kp();u.kE.INb(w,t);}t?(u.log.info("Activating",t),u.j.An.set(t.getState() === n.TJ.$o.yJ?p.Bg.cf:p.Bg.lf),u.rn || u.j.gf("tt_start"),t.Gga().then(u.WQ).catch(u.WQ)):u.j.An.set(p.Bg.cf);u.lL=t;u.wE();};this.sync=function(){u.rn && (u.SO.start(),u.j.Ib.value !== p.wb.yf && u.SO.stop());};this.wE=function(){var t;u.e7 && u.j.state.value === p.qc.cf && u.j.Ib.value !== p.wb.og && (u.ki?t=u.SO.c4b():u.j.ca.Ic.value && (t=c.Qtc[u.j.ca.Ic.value.getState()]));t && (0,m.Zc)(t.startTime) && u.j.xy.value !== t && (u.fob++,u.LQa+=u.SO.Vgb() - t.startTime,u.h$a=Math.ceil(u.LQa / (u.fob + 0)));u.j.xy.set(t);};this.Kp=function(){var t;t=u.j.hGa();u.lL && u.lL.Ix && (t+=u.lL.Ix);return t;};this.zLa=function(t){u.zga.add(t);u.e7 && (u.fireEvent(c.Mvb,t),t && t.id && (u.kE.Vyb(t.id),!1));u.log.trace("showsubtitle",u.Wfa(t));};this.j5=function(t){u.zga.delete(t) && u.e7 && (u.fireEvent(c.$sb,t),u.log.trace("removesubtitle",u.Wfa(t)));};this.J9b=function(){u.zga.forEach(function(t){u.fireEvent(c.$sb,t);u.log.trace("hide subtitle",u.Wfa(t));});};this.vpc=function(){u.zga.forEach(function(t){u.fireEvent(c.Mvb,t);u.log.trace("resume subtitle",u.Wfa(t));});};this.Li=function(){u.log.warn("imagesubs buffer underflow",u.j.ca.Ic.value.Ah);u.j.An.set(p.Bg.lf);};this.mLa=function(){u.log.info("imagesubs buffering complete",u.j.ca.Ic.value.Ah);u.j.An.set(p.Bg.cf);};this.nja=function(){u.rn && u.ki && u.ki.xE(u.Kp());};this.ppb=function(t){u.rn && u.ki && (u.ki.pause(),u.ki.oI(t.et));};this.ay=function(){u.rn && u.ki && u.ki.Wrb();};this.opb=function(t){u.ki && u.ki.wl(t.zi,t.oU);};this.vpb=function(t){u.ki && u.ki.dk(t.L,t.Bxc);};this.zic=function(){u.rn=!0;(0,k.Rg)(function(){var t,w;(null === (t=u.lL) || void 0 === t?0:t.ro)?null === (w=u.ki) || void 0 === w?void 0:w.xE(u.Kp()):u.sync();u.wE();});};this.wic=function(){u.Hab();u.SO.stop();u.wE();u.sg=!0;u.$ka();};this.DLa=function(t){(t=t.newValue) && (0,m.isArray)(t.blocks) && (u.kE.Vyb.apply(u.kE,xa(t.blocks.map(function(w){return w.id;}))),!1);};this.Dic=function(t){u.txc(t.newValue,t.oldValue);u.sync();u.wE();};this.WQ=function(t){var w;if(!u.sg){w=t.track;if(w === u.j.ca.Ic.value)try{u.ki=w.yGa();w.ro?u.GNb(t):u.HNb(t);}catch(x){u.log.error("Error activating track:",x,w);return;}u.rn || u.j.gf(t.ta?"tt_comp":"tt_err");t.ta?(e.config.Vtb?setTimeout(function(){u.j.An.set(p.Bg.cf);},e.config.Vtb):u.j.An.set(p.Bg.cf),w.ro || u.wE()):t.aborted?u.log.warn("aborted timed text track loading"):e.config.b2b?u.j.Gd(h.Y.PEb,{tc:t.track?t.track.Ah:{}}):(u.log.error("ignore subtitle initialization error",t),u.j.An.set(p.Bg.cf));}};this.Xb=new g.Qk();this.kE=new l.q4a((0,f.lj)(q,"SubtitleTracker"),e.config.L0b);this.log=(0,f.lj)(q,"TimedTextManager");this.SO=new d.N4a(this.Kp,this.wE);this.j.ca.Ic.addListener(this.Bn);e.config.klc?(this.j.addEventListener(p.da.rn,this.zic),this.Bn()):(this.j.An.set(p.Bg.cf),this.j.addEventListener(p.da.rn,function(){u.rn=!0;u.Bn();}));this.j.Ib.addListener(this.Dic);this.j.addEventListener(p.da.aRa,this.sync);this.j.xy.addListener(this.DLa);this.j.addEventListener(p.da.sg,this.wic);}Object.defineProperty(b,"__esModule",{value:!0});b.K4a=void 0;n=a(26159);d=a(7953);g=a(94886);e=a(29204);f=a(31276);l=a(69899);h=a(36129);k=a(32219);m=a(32687);p=a(85001);v=a(35781);c.prototype.Usc=function(){this.e7=!0;this.vpc();this.wE();};c.prototype.L9b=function(){this.e7=!1;this.J9b();this.wE();};c.prototype.addEventListener=function(q,u,t){this.Xb.addListener(q,u,t);};c.prototype.removeEventListener=function(q,u){this.Xb.removeListener(q,u);};c.prototype.fireEvent=function(q,u,t){this.Xb.Pc(q,u,t);};c.prototype.Rya=function(q,u,t){var w,x;w=this;x=v.I4a.XWb(this.j,q,u,t);this.Rjb(this.j.li,x);this.j.Jj.forEach(function(z){w.Rjb(z.li,x);});this.j.ca.om(x);this.j.fireEvent(p.da.zy);};c.prototype.qrb=function(q){return this.mOa(q)?q.Gga().then(function(){}):Promise.resolve();};c.prototype.k8b=function(q){return this.kE.P7b(q);};c.prototype.zGa=function(q){return this.kE.zGa(q);};c.prototype.T2=function(){var q,u;q=this.j.M7;u=e.config.iRa.characterSize;u={size:e.config.Ama.characterSize || u};q && (u.visibility=q.FGa(),u.p0=q.DGa(),u.Fv=q.EGa());return u;};c.prototype.gsc=function(q){e.config.Ama.characterSize=q;q=this.j.ca.Ic.value;this.mOa(q) && !q.ro && q.Gga().then(this.WQ).catch(this.WQ);};c.prototype.txc=function(q,u){var t;q === p.wb.yf || q == p.wb.vi?u !== p.wb.yf && u !== p.wb.vi && ((u=this.j.ca.Ic.value) && !this.mOa(u) || this.kE.oob(this.Kp(),u || void 0,"presentingstate:" + q)):q !== p.wb.og && q !== p.wb.uu || this.kE.MDa(null !== (t=this.Kp()) && void 0 !== t?t:void 0,"presentingstate:" + q);};c.prototype.$ka=function(){this.gla=0;Ba.clearTimeout(this.Bpc);};c.prototype.Hab=function(){var q;this.ki && this.ki.stop();(null === (q=this.lL) || void 0 === q?0:q.ro) && this.Gmb("removeListener");this.ki=void 0;};c.prototype.Gmb=function(q){this.ki && (this.ki[q]("showsubtitle",this.zLa),this.ki[q]("removesubtitle",this.j5),this.ki[q]("underflow",this.Li),this.ki[q]("bufferingComplete",this.mLa),"addListener" === q?(this.j.addEventListener(p.da.cr,this.nja),this.j.addEventListener(p.da.sl,this.ppb),this.j.addEventListener(p.da.lO,this.ay),this.j.addEventListener(p.da.Nia,this.opb),this.j.addEventListener(p.da.SRa,this.vpb)):(this.j.removeEventListener(p.da.cr,this.nja),this.j.removeEventListener(p.da.sl,this.ppb),this.j.removeEventListener(p.da.lO,this.ay),this.j.removeEventListener(p.da.Nia,this.opb),this.j.removeEventListener(p.da.SRa,this.vpb)));};c.prototype.Wfa=function(q){return {currentPts:this.Kp(),displayTime:q.displayTime,duration:q.duration,id:q.id,originX:q.originX,originY:q.originY,sizeX:q.sizeX,sizeY:q.sizeY,rootContainerExtentX:q.rootContainerExtentX,rootContainerExtentY:q.rootContainerExtentY};};c.prototype.GNb=function(q){var u,t;u=this;t=q.track;if(!t || !t.ro)throw Error("Not an image base subtitle");q.ta?(this.$ka(),this.Gmb("addListener"),this.log.info("Activated",t),this.j.Gj.set(t),this.rn?(0,k.Rg)(function(){u.ki.xE(u.Kp());}):this.ki.pause()):this.Ktb(t,q);};c.prototype.HNb=function(q){var u,t;u=q.track;t=q.ta;if(!u || u.ro)throw Error("Not a valid text track");t?(this.$ka(),this.SO.dvb(this.ki),this.log.info("Activated",u),this.j.Gj.set(u)):this.Ktb(u,(0,h.HB)(q));this.wE();};c.prototype.Ktb=function(q,u){var t,w;t=this;w=this.gla < e.config.Rec;w && (this.Bpc=Ba.setTimeout(function(){t.gla++;q.Gga().then(t.WQ).catch(t.WQ);},e.config.Dvc));this.log.error("Failed to activate" + ((null === q || void 0 === q?0:q.ro)?" img subtitle":""),{retry:w},u,q);};c.prototype.mOa=function(q){return !(!q || q.bn() && !q.am());};c.prototype.Rjb=function(q,u){var t;t=q.findIndex(function(w){return w.Fc >= u.Fc;});-1 === t && (t=0);q.splice(t,0,u);};b.K4a=c;r={};c.Qtc=(r[n.TJ.$o.LOADING]={h4:!0},r[n.TJ.$o.JY]={gv:!0},r);c.Mvb="showsubtitle";c.$sb="removesubtitle";},79014:function(r,b,a){var n,d,g,e,f,l;function c(h){var k,m,p,v;k=this;this.j=h;this.bic=function(){var q;g.ff.removeListener(g.hga,k.spb);q=k.xr.Lp();q && q.parentNode && q.parentNode.removeChild(q);};this.DLa=function(q){k.xr.vrc(q.newValue);};this.Oic=function(q){var u;k.xr.Grc(q.newValue?q.newValue.cha:void 0);k.xr.Hrc(null === (u=q.newValue) || void 0 === u?void 0:u.rg);k.xr.Ywc(k.sgb(q.newValue));};this.spb=function(){k.xr.YN();};p=h.ca.Ic.value?h.ca.Ic.value.cha:void 0;v=null === (m=h.ca.Ic.value) || void 0 === m?void 0:m.rg;m=this.sgb(h.ca.Ic.value);this.xr=new f.J4a(m,p,v);p=h.QI.value;(0,d.oa)(.1 < p.width / p.height);this.xr.grc(p.width / p.height);h.lm.appendChild(this.xr.Lp());h.xy.addListener(this.DLa);h.ca.Ic.addListener(this.Oic);h.addEventListener(l.da.sg,this.bic,n.iQ);g.ff.addListener(g.hga,this.spb);}Object.defineProperty(b,"__esModule",{value:!0});b.L4a=void 0;n=a(33096);d=a(45146);g=a(37509);e=a(29204);f=a(97154);l=a(85001);c.prototype.HPa=function(h){this.xr.HPa(h);};c.prototype.FGa=function(){return this.xr.FGa();};c.prototype.FPa=function(h){this.xr.FPa(h);};c.prototype.DGa=function(){return this.xr.DGa();};c.prototype.GPa=function(h){this.xr.GPa(h);};c.prototype.EGa=function(){return this.xr.EGa();};c.prototype.sgb=function(h){var k;if(h && e.config.Iha && 0 <= e.config.Iha.indexOf(h.rg)){k=Object.assign({},e.config.zma);Object.entries(k).forEach(function(m){var p;p=Ea(m);m=p.next().value;p=p.next().value;k[m]=p.replace(/font-weight:bolder/g,"font-weight:normal");});return k;}return e.config.zma;};b.L4a=c;},79342:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wmb=function(a,c){var e,f;if(0 !== a.length){if(1 === a.length)return a[0];for(var n=a[0],d=c(n),g=1;g < a.length;g++){e=a[g];f=c(e);f > d && (n=e,d=f);}return n;}};},28838:function(r,b,a){var c,n,d,g,e,f,l,h,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.$e=void 0;r=a(22674);c=a(58421);n=a(6856);d=a(48864);g=a(37187);e=a(17842);f=a(96723);l=a(67371);h=a(47511);k=a(45613);m=a(51361);b.$e=new r.Od(function(p){p(g.paa).to(c.Vva).ma();p(e.Yua).to(d.Xua).ma();p(f.s5a).to(n.ywa).ma();p(l.OGb).to(h.ita).ma();p(k.O5a).to(m.Kwa).ma();});},97368:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cmc=function(a){var c,n;c=!1;n=!1;return function(){if(c)n=!0;else for(n=!0;n;)(n=!1,c=!0,a(),c=!1);};};},99037:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IT=function(a,c,n){var d;if(n.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");d=n.get;n.get=function(){var g,e;g=d.apply(this,arguments);e={enumerable:n.enumerable,value:g};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,e):Object.defineProperty(this,c,e);return g;};};},54973:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.gM=function(n,d,g){return n.cfa?c.Xo.MB:d && !g?c.Xo.MB:c.Xo.xs;};c=a(24735);},67371:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OGb="ObjectComparerSymbol";},88195:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Df=function(n,d){return [].concat.apply([],xa(n)).map(function(g){return Object.assign({name:g},null !== d && void 0 !== d?d:{});});};b.$x=function(n,d){for(var g=[],e=1;e < arguments.length;++e)g[e - 1]=arguments[e];return (0,c.Zcb)(function(f,l){return f.name === l;},n,g);};c=a(45266);},17842:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yua="QueryStringDataProviderSymbol";},37187:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.paa=b.ss=void 0;b.ss=function(){};b.paa="StringObjectReaderSymbol";},79542:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wS=void 0;b.zkb=function(a){return void 0 !== a && null !== a;};b.osb=function(a,c){return a.includes(c);};b.wS=function(){return null;};},96723:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.s5a="UuidProviderSymbol";},45613:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.O5a="WindowUtilsSymbol";},47511:function(r,b,a){var n,d;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.ita=void 0;r=a(5163);n=a(22674);d=a(76564);c.prototype.compare=function(g,e){var f;f=[];this.wBa(g,e,"",f);return f;};c.prototype.wBa=function(g,e,f,l){var h;h=this;if(d.vJ.QK(g))d.vJ.QK(e) && g.length === e.length?g.forEach(function(p,v){h.wBa(g[v],e[v],f + "[" + v + "]",l);}):l.push({a:g,b:e,path:f});else if(d.vJ.W_(g) && null != g){if(d.vJ.W_(e) && null != e){for(var k in g)this.wBa(g[k],e[k],f + "." + k,l);for(var m in e)(m in g) || void 0 === e[m] || l.push({a:void 0,b:e[m],path:f + "." + m});}else l.push({a:g,b:e,path:f});}else g !== e && l.push({a:g,b:e,path:f});};a=c;b.ita=a;b.ita=a=r.__decorate([(0,n.W)()],a);},48864:function(r,b,a){var n,d,g,e;function c(f){this.location=f;(0,d.Ft)(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.Xua=void 0;r=a(5163);d=a(66523);g=a(63368);a=a(22674);c.Lja=function(f){var l,k,m;l={};if(0 < f.length){f=f.split("&");for(var h=0;h < f.length;h++){k=f[h].trim();m=k.indexOf("=");0 <= m?l[decodeURIComponent(k.substr(0,m).replace(n.Y0a,"%20"))]=decodeURIComponent(k.substr(m + 1).replace(n.Y0a,"%20")):l[k.toLowerCase()]="";}}return l;};Ga.Object.defineProperties(c.prototype,{Rmc:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=n.Lja(this.Yrb);}},Yrb:{configurable:!0,enumerable:!0,get:function(){var f;if(void 0 !== this.W5)return this.W5;this.W5=this.location.search.substr(1);f=this.W5.indexOf("#");0 <= f && (this.W5=this.Yrb.substr(0,f));return this.W5;}}});e=n=c;b.Xua=e;e.Y0a=/[+]/g;b.Xua=e=n=r.__decorate([(0,a.W)(),r.__param(0,(0,a.l)(g.GZa))],e);},58421:function(r,b,a){var n,d,g,e,f,l;function c(h,k){this.is=h;this.json=k;(0,d.Ft)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.Vva=void 0;r=a(5163);d=a(66523);g=a(63368);e=a(22674);f=a(42207);l=a(37187);c.prototype.ksb=function(h){var k;k=this;return n.read(h,function(m){return parseInt(m);},function(m){return k.is.rza(m);});};c.prototype.ANa=function(h){var k;k=this;return n.read(h,function(m){return "true" == m?!0:"false" == m?!1:void 0;},function(m){return k.is.Hba(m);});};c.prototype.Wt=function(h){var k;k=this;return n.read(h,function(m){return parseInt(m);},function(m){return k.is.X_(m);});};c.prototype.anc=function(h){var k;k=this;return n.read(h,function(m){return parseFloat(m);},function(m){return k.is.Im(m);});};c.prototype.jsb=function(h,k){return n.read(h,function(m){return n.y2b(m,k);},function(m){return void 0 !== m;});};c.prototype.ENa=function(h,k){return n.read(h,function(m){return m;},function(m){return k?k.test(m):!0;});};c.prototype.lsb=function(h){var k,m;k=this;m=void 0 === m?function(){return !0;}:m;try{return n.read(h,function(p){return k.json.parse(decodeURIComponent(p));},function(p){return k.is.W_(p) && m(p);});}catch(p){return new l.ss();}};c.prototype.rl=function(h,k,m){var p,v;p=this;m=void 0 === m?1:m;h=h.trim();v=k instanceof Function?k:this.HXb(k,m);k=h.indexOf("[");m=h.lastIndexOf("]");if(0 != k || m != h.length - 1)return new l.ss();h=h.substring(k + 1,m);try{return n.Ljc(h).map(function(q){q=v(p,n.byc(q));if(q instanceof l.ss)throw q;return q;});}catch(q){return q instanceof l.ss?q:new l.ss();}};c.prototype.HXb=function(h,k){var m;m=this;k=void 0 === k?1:k;return function(p,v){p=n.W6b(h);return 1 < k?m.rl(v,h,k - 1):p(m,v);};};c.y2b=function(h,k){var p;for(var m in k){p=parseInt(m);if(k[p] == h)return p;}};c.read=function(h,k,m){h=k(h);return void 0 !== h && m(h)?h:new l.ss();};c.W6b=function(h){switch(h){case "int":return function(k,m){return k.ksb(m);};case "bool":return function(k,m){return k.ANa(m);};case "uint":return function(k,m){return k.Wt(m);};case "float":return function(k,m){return k.anc(m);};case "string":return function(k,m){return k.ENa(m);};case "object":return function(k,m){return k.lsb(m);};}};c.Ljc=function(h){var w;for(var k=[["[","]"]],m=[],p=0,v=0,q=0,u=[],t={};v < h.length;(t={OW:t.OW},++v)){t.OW=h.charAt(v);w=void 0;"," == t.OW && 0 == q?(m.push(h.substr(p,v - p)),p=v + 1):(w=k.find((function(x){return function(z){return z[0] == x.OW;};})(t)))?(++q,u.push(w)):0 < u.length && u[u.length - 1][1] == t.OW && (--q,u.pop());}if(p != v)m.push(h.substr(p,v - p));else if(p == v && 0 < p)throw new l.ss();return m;};c.byc=function(h){var k;k=h.charAt(0);if('"' == k || "'" == k){if(h.charAt(h.length - 1) != k)throw new l.ss();return h.substring(1,h.length - 1);}return h;};a=n=c;b.Vva=a;b.Vva=a=n=r.__decorate([(0,e.W)(),r.__param(0,(0,e.l)(f.Eh)),r.__param(1,(0,e.l)(g.wJ))],a);},6856:function(r,b,a){var n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.ywa=void 0;r=a(5163);a=a(22674);c.prototype.Hfb=function(d){var g;g=this;return d?(d ^ 16 * Math.random() >> d / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(e){return g.Hfb(e);});};n=c;b.ywa=n;b.ywa=n=r.__decorate([(0,a.W)()],n);},51361:function(r,b,a){var n,d;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Kwa=void 0;r=a(5163);n=a(22674);d=a(22365);c.prototype.B7b=function(){var g;g=Ba.devicePixelRatio || 1;return {width:d.Ry.width * g,height:d.Ry.height * g};};a=c;b.Kwa=a;b.Kwa=a=r.__decorate([(0,n.W)()],a);},67590:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.loa="AsePrefetcherAdapterSymbol";b.CTa="AsePrefetcherProviderSymbol";},18148:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dZa=36E7;b.Koa="CacheManagerFactorySymbol";},99584:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u,t,w;Object.defineProperty(b,"__esModule",{value:!0});b.Nd=void 0;r=a(22674);c=a(68976);n=a(37780);d=a(66476);g=a(87657);e=a(12849);f=a(85671);l=a(27162);h=a(19484);k=a(71576);m=a(32737);p=a(59315);v=a(20318);q=a(67590);u=a(61170);t=a(18148);w=a(94028);b.Nd=new r.Od(function(x){x(c.C1a).to(n.jua).ma();x(g.x2a).to(e.Tua).ma();x(d.UJ).to(f.Ewa).ma();x(m.w2a).to(k.ksa).ma();x(m.v2a).to(h.tra).ma();x(m.u2a).to(l.pra).ma();x(q.CTa).Nvc(function(){var z;return null === (z=v.Os.Qi) || void 0 === z?void 0:z.FA;});x(q.loa).to(u.koa).ma();x(p.Pua).to(p.Oua);x(t.Koa).to(w.Joa).ma();});},68976:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.C1a="PlayPredictionDeserializerSymbol";},32737:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.w2a="PreparerManifestFetcherSymbol";b.v2a="PreparerLicenseFetcherSymbol";b.u2a="PreparerLegacyLicenseFetcherSymbol";},32573:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.On={};r.fo="created";r.dB="started";r.dW="succeeded";r.gv="failed";r.Qf="cancelled";r.SSb="cancelled_on_start";r.MAa="cancelled_not_encrypted";},87657:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.M$={};r.jvc="taskstart";r.hvc="taskabort";r.ivc="taskfail";r.kvc="tasksuccess";b.x2a="PreparerTaskSchedulerSymbol";},66476:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UJ="VideoPreparerSymbol";},61170:function(r,b,a){var d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y;function c(){var A;A=this;this.promise=new Promise(function(B,C){A.resolve=B;A.reject=C;});}function n(A,B,C,D,E){var F;F=this;this.MMa=C;this.xlc=D;this.oj=E;this.z8=[];this.TH=new Map();this.rHa=new Map();this.Cic=function(G){var J,N;G=G.wishListItem.key.N;if(F.TH.has(G)){N=F.TH.get(G);G=N.UU;N=N.ABa;null === (J=N.resolve) || void 0 === J?void 0:J.call(N,G);}};this.rja=function(G){var J,N;J=G.N;N=G.U;G.target.vSa(G.N) || (F.Le.has({N:J}) && (F.Le.Jp(J).hr=!0),null === N || void 0 === N?void 0:N.then(function(I){var M;M=I.Ca;M && M.vc && M.Ss && M.Ss.forEach(function(K){var L;L={Cg:{vc:M.vc,je:J}};F.Le.has({N:K.P,je:M.P,vc:M.vc}) && (F.Le.Jp(K.P,L).hr=!0);});}).catch(function(){}),F.Osb(J),F.wvb(F.z8));};this.seb=function(G,J){var N,I;N=G.N;I=G.U;G.target.vSa(N) || (null === I || void 0 === I?void 0:I.then(function(M){(M=M.Ca) && M.vc && M.vc === J.vc && N === J.je && (M={Cg:{vc:M.vc,je:N}},F.Le.has(J) && (F.Le.Jp(J.N,M).hr=!0),F.rHa.delete(F.Le.generateKey(J)));}).catch(function(){}));};this.qa=A.fb("VideoPreparer");this.config=B();}Object.defineProperty(b,"__esModule",{value:!0});b.koa=void 0;r=a(5163);d=a(87386);a(50323);g=a(20318);e=a(45247);f=a(4203);l=a(29204);h=a(72639);k=a(67590);m=a(22674);p=a(59315);v=a(90745);q=a(49745);u=a(64213);t=a(25505);w=a(45146);x=a(37991);z=a(91176);y=a(54973);n.prototype.Pb=function(A){var B;B=this;this.Le=new u.Gwa(function(C,D){return B.Gz(C,A,g.Os.$k,D);},function(C,D){return B.UA(C,A,D);});};n.prototype.fetch=function(A,B){var C;C=this;if(-1 === B.events.listeners("manifestRemovedFromCache").indexOf(this.rja))B.events.on("manifestRemovedFromCache",this.rja);if(-1 === B.events.listeners("playbackClosing").indexOf(this.rja))B.events.on("playbackClosing",this.rja);!1;return this.sr(A.P,B,A.Bb).then(function(){C.wvb(C.pUb(C.lYb(A,B)));return C.TH.get(A.P).ABa.promise;});};n.prototype.getStats=function(){return this.FA.getStats();};n.prototype.auc=function(A,B,C){B={yi:B,U:C};this.rHa.set(this.Le.generateKey(A),B);};n.prototype.m7b=function(A){return this.rHa.get(this.Le.generateKey(A));};n.prototype.pUb=function(A){return [A].concat(xa(this.z8.filter(function(B){return B.key.N !== A.key.N;}))).slice(0,this.config.vlc).map(this.config.wlc?function(B,C){return Object.assign({},B,{priority:C});}:function(B){return B;});};n.prototype.Ogb=function(A,B,C){var D;D=this;C=void 0 === C?{}:C;return this.sr(A,B,C).then(function(E){D.ybb(E,B);return E.Ca;});};n.prototype.sr=function(A,B,C){var D;C=void 0 === C?{}:C;return this.oj.sr({Ea:null !== (D=B.Dx(A)) && void 0 !== D?D:B.Gda(A),N:A,ux:h.qs.fZ,gg:(0,y.gM)(this.config,!0),lb:C},new z.AbortController());};n.prototype.UA=function(A,B,C){var D,E,F,G,J,N;D=this;(0,w.oa)(C.Cg,"auxiliaryOptions must exist if an adBreak hydration was requested");F=C.Cg;G=F.vc;J=F.je;(0,w.oa)(!!G,"auxiliaryManifestToken must exist if an adBreak hydration was requested");N=this.Le.Jp(null === (E=null === C || void 0 === C?void 0:C.Cg) || void 0 === E?void 0:E.je);return N.lu.then(function(I){var M,K,L;I=I.U.de;M=N.Ea;(0,w.oa)(void 0 !== M,"parent xid must exist if an adBreak hydration was requested");K=h.qs.xs;L={yT:!0,yh:!1,HI:Date.now()};return D.oj.sr({Ea:Number(M),lb:L,N:J,ux:K,gg:void 0,qW:void 0,Dg:{yi:A,vc:G,je:J,o5:I}},new z.AbortController(),!1).then(function(H){var O,P;D.ybb(H,B);H.Ss.forEach(function(Q){var W;function S(V){D.seb(V,W);B.events.yo("playbackClosing",S);}function X(V){D.seb(V,W);B.events.yo("manifestRemovedFromCache",X);}W={N:Q.Ca.P,je:J,vc:G};D.auc(W,A,Q);B.events.on("manifestRemovedFromCache",X);B.events.on("playbackClosing",S);});if(null === (O=H.Ca.Jm) || void 0 === O || !O.Sc.length)throw Error("AdBreak hydration request came with no adBreak forparentViewableId: " + (J + ", adBreakToken: " + A));return null === (P=H.Ca.Jm) || void 0 === P?void 0:P.Sc[0];});});};n.prototype.ybb=function(A,B){var C,D,E;C=this;D=A.Ca;null === (E=D.Ss) || void 0 === E?void 0:E.forEach(function(F){C.Gz(F.P,B,g.Os.$k,{Cg:{vc:F.vc,je:D.P}},F);});};n.prototype.lYb=function(A,B){var C,D,E,F,G,J;E=new c();if(this.TH.has(A.P)){F=this.TH.get(A.P);G=F.UU;if(G.P === A.P && G.ue === A.ue)J=F.Vyc.key;this.FA.getStats().contents.some(function(N){return N.id === A.P;}) && (E=F.ABa);}F=g.Os.$k.ar((0,l.GBa)(A.ue));J || (J={N:A.P,config:F});G={N:A.P};this.Le.has(G) || this.Le.store(G,this.jYb(A,B,F));B={key:J,qKc:!1,priority:A.priority,Gca:e.K.Pa(null !== (D=null === (C=A.Bb) || void 0 === C?void 0:C.ub) && void 0 !== D?D:0),Le:this.Le};this.TH.set(A.P,{Vyc:B,UU:A,ABa:E});return B;};n.prototype.jYb=function(A,B,C){var D,E,F;D=this;E=A.P;return {get Ea() {return B.Dx(E);},hr:!1,events:new v.EventEmitter(),yR:function(){},get lu() {F || (F=D.Ogb(A.P,B,A.Bb).then(function(G){return {U:G,Cz:G.iga && !G.NG,config:C,WPa:{}};}));return F;},N:E,OQa:!1,equals:function(G){var J;J=B.Dx(E);return G && G.N === E && (!G.Ea || !J || J === G.Ea);}};};n.prototype.Gz=function(A,B,C,D,E){var F,G,J,N,I,M,K,L;F=this;I=B.Dx(A);if(I || D){M={N:A,je:null === (G=null === D || void 0 === D?void 0:D.Cg) || void 0 === G?void 0:G.je,vc:null === (J=null === D || void 0 === D?void 0:D.Cg) || void 0 === J?void 0:J.vc};if(!this.Le.has(M)){K=null !== I && void 0 !== I?I:this.Le.Jp(null === (N=null === D || void 0 === D?void 0:D.Cg) || void 0 === N?void 0:N.je).Ea;this.Le.store(M,{yR:function(){},equals:function(H){return H && H.N === M.N && (K === H.Ea || !H.Ea || !K);},get lu() {L || (L=(E?Promise.resolve(E):F.Ogb(A,B)).then(function(H){return {U:H,Cz:H.iga && !H.NG,config:C,WPa:{}};}));return L;},set lu(H) {L=H;},events:new v.EventEmitter(),Ea:K,N:M.N,hr:!1,OQa:!1});}}};n.prototype.cvb=function(A){this.z8=A;};n.prototype.wvb=function(A){this.cvb(A);this.FA.vvb(this.z8);};n.prototype.Osb=function(A){this.TH.has(A) && (this.cvb(this.z8.filter(function(B){return B.key.N !== A;})),this.TH.delete(A));};Ga.Object.defineProperties(n.prototype,{FA:{configurable:!0,enumerable:!0,get:function(){this.qC || (this.qC=this.xlc(),this.qC.eza(new x.d3a()).wPa(this.MMa).lvb(new t.FYa()).Rub({pD:this.config.ulc}),this.qC.events.on("prefetchComplete",this.Cic));return this.qC;}}});a=n;b.koa=a;b.koa=a=r.__decorate([(0,m.W)(),r.__param(0,(0,m.l)(d.kb)),r.__param(1,(0,m.l)(f.uc)),r.__param(2,(0,m.l)(p.Pua)),r.__param(3,(0,m.l)(k.CTa)),r.__param(4,(0,m.l)(q.FJ))],a);},94028:function(r,b,a){var n,d,g,e,f,l;function c(h,k,m){var p;p=this;this.Qg=k;k=m();this.Pf=new l({log:h.fb("CacheManager"),Aa:{getTime:function(){return p.Qg.$b().ia(e.pa);}},Promise:Promise,yk:!1,XRb:k.Dlc,WRb:k.Blc,J1b:k.vrb,I1b:k.Clc});}Object.defineProperty(b,"__esModule",{value:!0});b.Joa=void 0;r=a(5163);n=a(22674);d=a(81918);g=a(87386);e=a(5021);f=a(4203);l=a(83195);b.Joa=c;b.Joa=c=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.kb)),r.__param(1,(0,n.l)(d.fd)),r.__param(2,(0,n.l)(f.uc))],c);},25505:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.FYa=void 0;a.prototype.Xeb=function(c,n){var d;return null !== (d=this.z2b(c,n)) && void 0 !== d?d:this.D2b(c,n);};a.prototype.z2b=function(c,n){var d,g;d=this;g=n.Z;return c.find(function(e){var f;return d.NCa(g,null === (f=e.Z) || void 0 === f?void 0:f.Z);});};a.prototype.D2b=function(c,n){var d,g;d=n.Z.Cf;g=n.Z.ba[d];return c.find(function(e){var f;e=null === (f=e.Z) || void 0 === f?void 0:f.Z;e=(f=null === e || void 0 === e?void 0:e.Cf) && (null === e || void 0 === e?void 0:e.ba[f]) || void 0;return d === f && g.N === (null === e || void 0 === e?void 0:e.N) && g.rb === (null === e || void 0 === e?void 0:e.rb);});};a.prototype.NCa=function(c,n){var d;d=this;return c === n?!0:"object" !== typeof c || "object" !== typeof n?c === n:Object.keys(c).length === Object.keys(n).length && Object.keys(c).every(function(g){return d.NCa(c[g],n[g]);});};b.FYa=a;},27162:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z;function c(y,A,B,C,D,E,F,G,J,N,I){this.Lv=B;this.k7=C;this.Bc=D;this.Aa=E;this.Oa=F;this.c4=G;this.zkc=J;this.oj=N;this.Rl=I;this.log=y.fb("VideoPreparer");this.config=A();}Object.defineProperty(b,"__esModule",{value:!0});b.pra=void 0;r=a(5163);n=a(22674);d=a(87386);g=a(4203);e=a(32573);f=a(63156);l=a(91581);h=a(95162);k=a(98166);m=a(2248);p=a(5021);v=a(30869);q=a(81918);u=a(50323);t=a(21892);w=a(49745);x=a(23563);z=a(54973);c.prototype.fetch=function(y,A){var B;B=this;this.log.trace("Fetching LDL",(0,u.LX)(y));this.P=y.P;this.Nd=A;return A.RS(y.P,"ldl").catch(function(){B.log.trace("Requesting a new license",(0,u.LX)(y));return B.oj.j2(y.P).then(function(C){var D,E,F;B.U=C;B.Ca=C.Ca;if(C=B.Nd.Evb(y.P,B.Ca))throw {status:C};C=B.Ca.hw[0].O5;D=B.Ca.hw[0].mDa;E=(C?C:[D]).map(function(G){return B.Bc.decode(G.bytes);});B.bg=B.ZF({Adb:B.log,E1:function(G){return B.handleError(G);},gf:void 0,bLa:function(){},Aa:{getTime:function(){return B.Oa.$b().ia(p.pa);},jJc:function(){return B.Aa.df.ia(p.Jq);}}});F=(0,z.gM)(B.config,!0,y.dha);A.Sub(y.P,{cE:B.bg,b4:{source:"videopreparer",type:F}});return B.bg.create(B.config.Tp).then(function(){return B.bg.ll(F,E);}).then(function(){return B.bg;}).catch(function(G){B.handleError(G);throw G;});}).catch(function(C){B.log.warn("Manifest not available for ldl request",C);if(void 0 !== C.status)throw C;throw {status:e.On.Qf};});});};c.prototype.handleError=function(y){this.log.warn("ldl is now invalid",y);this.bg.close();this.Nd.Dab(this.P);this.Nd.pBa(this.P);};c.prototype.ZF=function(y){var A,B;A=this;if(!this.Lv.JP || !this.Lv.HP){B=this.zkc();this.Lv.JP=B.cE;this.Lv.HP=B.request;}B=new this.Lv.HP(y.Adb,function(C){var D;D=[];C.Ml.forEach(function(E){D.push({sessionId:E.sessionId,dataBase64:A.Bc.encode(E.data)});});C={Ml:D,nea:[A.Ca.Rm],gg:f.wm.tbb(C.gg),de:A.Ca.de,Ea:A.Nd.Gda(A.P),Sj:A.U.Sj,Je:A.U.Ca.Je,N:A.P};A.log.trace("xid created ",{MovieId:A.P,xid:C.Ea});return A.c4.Ls(C);},{yk:!1,xD:!1});return this.Lv.JP(y.Adb,y.gf,{yk:!1,xD:!1,Va:B,iNa:this.config.Prb,ha:void 0,NI:this.config.Idb,onerror:y.E1,bLa:y.bLa,Aa:y.Aa,eka:!1,mQb:this.k7.wda([]),nyc:this.k7.Fda([]),Ecc:this.Rl.hca.ia(p.pa)});};a=c;b.pra=a;b.pra=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.kb)),r.__param(1,(0,n.l)(g.uc)),r.__param(2,(0,n.l)(l.K$)),r.__param(3,(0,n.l)(h.tZ)),r.__param(4,(0,n.l)(m.ti)),r.__param(5,(0,n.l)(v.hh)),r.__param(6,(0,n.l)(q.fd)),r.__param(7,(0,n.l)(k.d$)),r.__param(8,(0,n.l)(t.iua)),r.__param(9,(0,n.l)(w.FJ)),r.__param(10,(0,n.l)(x.rw))],a);},19484:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q;function c(u,t,w,x,z,y){this.EUb=t;this.Bc=w;this.y_b=x;this.$T=z;this.oj=y;this.log=u.fb("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.tra=void 0;r=a(5163);n=a(22674);d=a(87386);g=a(4203);e=a(2248);f=a(47737);l=a(92395);h=a(32573);k=a(50323);m=a(49745);p=a(82100);v=a(56039);q=a(54973);c.prototype.fetch=function(u,t){var w;w=this;this.log.trace("Fetching LDL",(0,k.LX)(u));this.P=u.P;this.Nd=t;return t.RS(u.P,"ldl").then(function(x){return x.Ela;}).catch(function(){w.log.trace("Requesting a new license",(0,k.LX)(u));return w.oj.j2(u.P).then(function(x){var z,y,A,B,C,D,E;w.Ca=x.Ca;if(t.uib(u.P))return t.RS(u.P,"ldl").then(function(F){return F.Ela;});z=w.Nd.Evb(u.P,w.Ca);if(z)throw {status:z};y=w.Ca.hw[0];z=y.O5;A=y.mDa;y=y.streams[0].QC;B=(0,p.ikb)(y);C=(z?z:[A]).map(function(F){return w.Bc.decode(F.bytes);});D=(0,q.gM)(w.EUb(),!0,u.dha);E=w.y_b().then(function(F){var G;G={type:D,initData:C,Vga:B,context:{tha:(0,v.Fgb)(x.Ca.hw[0].streams)},Ot:{P:u.P,Ea:t.Gda(u.P),de:w.Ca.de,Rm:w.Ca.Rm,Sj:x.Sj,Je:x.Ca.Je}};return F.ll(G,w.$T());}).catch(function(F){w.handleError("Unable to prepare an EME session.",F);throw F;});w.Nd.Sub(u.P,{Ela:E,b4:{source:"videopreparer",type:D}},function(){if(!w.Nd.vSa(u.P))try{E.then(function(F){return F.close();}).catch(function(F){w.handleError("Unable to cleanup LDL session, Unable to get the session.",F);});}catch(F){w.handleError("Unable to cleanup LDL session, unexpected exception.",F);}});return E;}).catch(function(x){w.log.warn("Manifest not available for ldl request",x);if(void 0 !== x.status)throw x;throw {status:h.On.Qf};});});};c.prototype.handleError=function(u,t){this.log.warn(u + " LDL is now invalid.",t);this.Nd.Dab(this.P);this.Nd.pBa(this.P);};a=c;b.tra=a;b.tra=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.kb)),r.__param(1,(0,n.l)(g.uc)),r.__param(2,(0,n.l)(e.ti)),r.__param(3,(0,n.l)(f.u9)),r.__param(4,(0,n.l)(l.TY)),r.__param(5,(0,n.l)(m.FJ))],a);},71576:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v;function c(q,u,t,w,x){this.t4=t;this.Qg=w;this.oj=x;this.log=q.fb("VideoPreparer");this.config=u();}Object.defineProperty(b,"__esModule",{value:!0});b.ksa=void 0;r=a(5163);n=a(4203);d=a(22674);g=a(87386);e=a(81918);f=a(5021);l=a(17398);h=a(72639);k=a(50323);m=a(49745);p=a(91176);v=a(54973);c.prototype.fetch=function(q,u){var t,w;this.log.trace("Fetching manifest",(0,k.LX)(q));w=q.Bb;this.config.BNb && w && w.U && !this.oj.tv(q.P) && (!(("clientGenesis" in w.U) && w.U.clientGenesis) || "number" === typeof w.U.clientGenesis && Date.now() - w.U.clientGenesis < this.config.vrb) && (w=this.t4.create(w.U)) && (w.bO=this.Qg.$b().ia(f.pa),w.pV=this.Qg.$b().ia(f.pa),this.oj.u7(q.P,w));return this.oj.sr({Ea:u.Gda(q.P),N:q.P,lb:null !== (t=q.Bb) && void 0 !== t?t:{},ux:h.qs.fZ,gg:(0,v.gM)(this.config,!0,q.dha)},new p.AbortController(),!0,function(x){u.events.emit("manifestRemovedFromCache",{target:u,type:"manifestRemovedFromCache",N:q.P,U:x});});};a=c;b.ksa=a;b.ksa=a=r.__decorate([(0,d.W)(),r.__param(0,(0,d.l)(g.kb)),r.__param(1,(0,d.l)(n.uc)),r.__param(2,(0,d.l)(l.bQ)),r.__param(3,(0,d.l)(e.fd)),r.__param(4,(0,d.l)(m.FJ))],a);},37780:function(r,b,a){var n,d,g;function c(e,f){this.Ub=f;this.qa=e.fb("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.jua=void 0;r=a(5163);n=a(22674);d=a(87386);a=a(42207);c.prototype.JZb=function(e){var f;f=this;try{return {direction:e.direction,LKc:e.layoutHasChanged,NMc:e.rowInteractionIndex,ac:e.lolomos.map(function(l){return f.EZb(l);})};}catch(l){this.qa.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(e)});}};c.prototype.EZb=function(e){var f;f=this;return {context:e.context,list:e.list.map(function(l){return f.DZb(l);}),requestId:e.requestId,rowIndex:e.rowIndex,OMc:e.rowSegment};};c.prototype.DZb=function(e){var f,l;f={He:e.pts,property:e.property,N:e.viewableId,index:e.index};l=e.preplay;this.Ub.vh(l) && (f.uka=this.IZb(l));e=e.params;this.Ub.vh(e) && (f.Bb=this.Ocb(e));return f;};c.prototype.IZb=function(e){var f;f={He:e.pts,N:e.viewableId,NU:e.pipelineNum,index:e.index};e=e.params;this.Ub.vh(e) && (f.Bb=this.Ocb(e));return f;};c.prototype.Ocb=function(e){return {ue:e.uiLabel,Bl:e.trackingId,Ho:e.sessionParams};};c.prototype.HZb=function(e){var f;f=this;try{return e.map(function(l){return f.FZb(l);});}catch(l){this.qa.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(e)});}};c.prototype.FZb=function(e){var f,l;l=e.params;this.Ub.vh(l) && (f=this.GZb(l));return {P:e.movieId,priority:e.priority,force:e.force,Bb:f,ue:e.uiLabel,dha:e.isLivePostplay,$Nc:e.uiExpectedStartTime,ZNc:e.uiExpectedEndTime,Um:e.firstTimeAdded};};c.prototype.GZb=function(e){var f,l;f=void 0;l=e.sessionParams;this.Ub.vh(l) && (f=l);return {Cca:this.CZb(e.authParams),Ho:f,Bl:e.trackingId,ub:e.startPts,U:e.manifest,yh:e.isBranching};};c.prototype.CZb=function(e){return {tkc:null === e || void 0 === e?void 0:e.pinCapableClient};};g=c;b.jua=g;b.jua=g=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.kb)),r.__param(1,(0,n.l)(a.Eh))],g);},59315:function(r,b,a){var n,d,g,e;function c(f,l){this.Ao=f;this.config=l;}Object.defineProperty(b,"__esModule",{value:!0});b.Pua=b.Oua=void 0;r=a(5163);n=a(22674);d=a(75864);g=a(79048);a=a(4203);c.prototype.Nmb=function(f){var l,h;l=this;if(f.Dd.key.Z)return Promise.resolve(f.Dd.key.Z);h=f.Dd.key.N;return f.Dd.Le.Jp(h).lu.then(function(k){k=k.U;return k.Zs?(0,g.dBa)(k.Zs,{config:l.config()}):(0,g.bQa)(h,l.Ao.nv(h));});};e=c;b.Oua=e;b.Oua=e=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.iZ)),r.__param(1,(0,n.l)(a.uc))],e);b.Pua="PlaygraphResolverSymbol";},50323:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LX=function(){return "";};},79538:function(r,b,a){var n,d;function c(g,e,f,l,h,k,m,p){this.type=g;this.fo=e;this.okc=void 0 === f?!1:f;this.notify=h;this.k2b=k;this.UU=m;this.Nd=p;this.id=++d;this.status=n.On.fo;}Object.defineProperty(b,"__esModule",{value:!0});b.lZ=void 0;n=a(32573);d=0;c.prototype.qr=function(){var g;g={id:this.id,type:this.type,created:this.fo,status:this.status,movieId:this.P};this.startTime && (g.startTime=this.startTime);this.endTime && this.startTime && (g.duration=this.endTime - this.startTime,g.endTime=this.endTime);return g;};c.prototype.qU=function(g){this.notify && this.notify(g);};c.prototype.Npc=function(){return this.k2b.fetch(this.UU,this.Nd);};Ga.Object.defineProperties(c.prototype,{P:{configurable:!0,enumerable:!0,get:function(){return this.UU.P;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.UU.priority;}}});b.lZ=c;},12849:function(r,b,a){var n,d,g,e,f,l,h,k,m,p;function c(v,q,u,t){this.is=u;this.Qg=t;this.log=v.fb("TaskScheduler");this.Xb=new m.Qk();this.config=q();this.currentIteration=this.U0=0;this.PO=[];this.paused=!1;this.bma=[];this.fbb=[];this.$$b=this.config.Alc || p.append;this.addEventListener=this.Xb.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.Tua=void 0;r=a(5163);n=a(22674);d=a(87657);g=a(87386);e=a(4203);f=a(32573);l=a(42207);h=a(81918);k=a(5021);m=a(94886);(function(v){v.prepend="prepend";v.append="append";v.g$b="ignore";})(p || (p={}));c.prototype.FOb=function(v){this.log.trace("adding tasks, number of tasks: " + v.length);this.paused=!1;this.PO=this.aac(v);this.U0=0;this.currentIteration+=1;this.Rg();};c.prototype.pause=function(){this.paused=!0;};c.prototype.Rg=function(){var v,q,u,t;v=this;if(this.U0 === this.PO.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.U0,numberOfTasks:this.PO.length});else {q=this.N6b();u=this.currentIteration;q.startTime=this.Qg.$b().ia(k.pa);q.status=f.On.dB;this.Xb.Pc(d.M$.jvc,{P:q.P,type:q.type});this.bma.push(q);t=function(w){q.endTime=v.Qg.$b().ia(k.pa);w();v.fbb.push(q);v.bma.splice(v.bma.indexOf(q),1);v.currentIteration === u && (v.U0++,v.Rg());};q.Npc().then(function(){t(function(){q.status=f.On.dW;v.fNa(q,d.M$.kvc,"task succeeded");});}).catch(function(w){t(function(){0 <= [f.On.Qf,f.On.SSb,f.On.MAa].indexOf(w.status)?(q.status=w.status,v.fNa(q,d.M$.hvc,"cancelled task")):(q.status=f.On.gv,v.fNa(q,d.M$.ivc,"task failed",w));});});}};c.prototype.N6b=function(){return this.PO[this.U0];};c.prototype.getStats=function(v,q,u){var t,w,x,z;t=this.fbb.map(function(y){return y.qr();});w=this.bma.map(function(y){return y.qr();});x=this.is.vh(v) && this.is.vh(q);z={};if(this.is.vh(u))return (z.xUb=t.filter(function(y){return y.movieId === u;}),z);t.concat(w).forEach(function(y){var A;z[y.type + "_" + y.status]=(z[y.type + "_" + y.status] | 0) + 1;A=y.status == f.On.dB?y.startTime:y.endTime;x && A && A >= v && A < q && (z[y.type + "_" + y.status + "_delta"]=(z[y.type + "_" + y.status + "_delta"] | 0) + 1);});return z;};c.prototype.fNa=function(v,q,u,t){var w;w=v.qr();t?this.log.warn(u,w,t):this.log.trace(u,w);this.Xb.Pc(q,{P:v.P,type:v.type,reason:v.status});v.qU(w);};c.prototype.aac=function(v){var q,u;q=this.PO.filter(function(t){return t.okc && t.status === f.On.fo;});u=this.$$b;return u === p.g$b?[].concat(v):u === p.prepend?q.concat(v):v.concat(q);};a=c;b.Tua=a;b.Tua=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.kb)),r.__param(1,(0,n.l)(e.uc)),r.__param(2,(0,n.l)(l.Eh)),r.__param(3,(0,n.l)(h.fd))],a);},37991:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.d3a=void 0;a.prototype.FAa=function(c,n){var d;c=n(c);null === (d=c.tn) || void 0 === d?void 0:d.forEach(function(g){g.Bwb.video.push({Zca:!1,Ug:function(e){return e.filter(function(f){return !f.Hi || 1080 >= f.y6;});}});});return c;};b.d3a=a;},85671:function(r,b,a){var d,g,e,f,l,h,k,m,p,v,q,u,t,w;function c(x,z,y,A,B,C,D,E,F,G,J){this.hzc=y;this.Ub=A;this.Qg=B;this.ec=C;this.Ieb=D;this.h2b=E;this.i2b=F;this.Rea=G;this.events=new w.EventEmitter();this.log=x.fb("VideoPreparer");this.config=z();this.FSa={};this.Cia={};this.ng={num_of_calls:0,num_of_movies:0};this.Rea.Pb(this);this.Pf=J.Pf;}function n(x){return void 0 !== x;}Object.defineProperty(b,"__esModule",{value:!0});b.Ewa=void 0;r=a(5163);d=a(79538);g=a(4203);e=a(22674);f=a(87386);l=a(62665);h=a(42207);k=a(87657);m=a(81918);p=a(5021);v=a(32573);q=a(18148);u=a(32737);t=a(67590);w=a(90745);c.prototype.Sub=function(x,z,y){this.Pf.setData(x,"ldl",z,y);};c.prototype.uib=function(x){return this.Pf.b3(x,"ldl");};c.prototype.Dab=function(x){this.Pf.clearData(x,"ldl",void 0,!0);};c.prototype.RS=function(x,z){return this.Pf.getData(x,z);};c.prototype.Yfb=function(x){var z;z=this.Pf.getData(x,"ldl");this.Pf.clearData(x,"ldl",void 0,!0);return z;};c.prototype.vSa=function(x){return this.pwb === x || this.ecb === x;};c.prototype.LN=function(x,z){var y,A,B;y=this;x=x.map(function(C){C.Bb=C.Bb || ({Cca:{tkc:!1},Bl:0});y.Ub.YR(C.Bb.Bl) || (C.Bb.Bl=0);y.Ub.YR(C.He) && (C.Bb.ub=C.He);return C;});A=x.map(function(C){return y.aYb(C,z);}).reduce(function(C,D){return C.concat(D);},[]);B=A.map(function(C){return C.P + "-" + C.type;});this.log.trace("prepare tasks",B);this.ec.FOb(A);this.ng.num_of_calls++;this.ng.num_of_movies+=x.length;};c.prototype.getStats=function(x,z,y){return Object.assign(Object.assign({},y && this.Cia[y] || ({})),{PO:this.ec.getStats(x,z,y),cache:this.Pf.getStats(x,z),L3b:Object.assign(Object.assign({},this.ng),this.Rea.getStats())});};c.prototype.c9b=function(x){this.pwb=x;};c.prototype.a9b=function(x){this.log.trace("task scheduler paused on playback created");this.ec.pause();this.config.xZb && this.Pf.jBa(x,["manifest"]);this.config.wZb && this.Pf.jBa(x,["ldl"]);this.config.uZb && this.Pf.clearData(x,"manifest");this.Rea.Osb(x);this.ecb=x;};c.prototype.lib=function(){this.log.info("ad played, clearing all manifests from cache");this.mfb();};c.prototype.nib=function(){this.log.info("track changed, clearing all manifests from cache");this.mfb();};c.prototype.$8b=function(x){var z;z=this;this.config.vZb?this.Pf.clearData(x,"manifest"):this.Pf.b3(x,"manifest") && this.Pf.getData(x,"manifest").then(function(y){y.Ca.isSupplemental || z.config.DDa && "LIVE" === y.Ca.Je?y.mSa=!0:z.Pf.clearData(x,"manifest");},function(y){z.log.warn("Failed to get manifest for movieId [" + x + "] from cacheManager.",y);});this.Pf.getState().reduce(function(y,A){A=A.movieId;y.includes(A) || y.push(A);return y;},[]).forEach(function(y){z.Pf.getData(y,"manifest").then(function(A){var B,C;(null === (C=null === (B=A.Ca.tI) || void 0 === B?void 0:B.WV) || void 0 === C?0:C.N3) && ["manifest","ldl"].forEach(function(D){return z.Pf.Byb(y,D);});}).catch(function(){z.Pf.clearData(y,"ldl");});});this.pBa(x);this.pwb=this.ecb=void 0;this.events.emit("playbackClosing",{N:x,type:"playbackClosing",target:this});};c.prototype.mfb=function(){this.Pf.jBa("none",["manifest","ldl"]);};c.prototype.pBa=function(x){delete this.FSa[x];};c.prototype.Dx=function(x){return this.FSa[x];};c.prototype.Gda=function(x){return this.FSa[x]=this.hzc.$F();};c.prototype.Evb=function(x,z){if(this.uib(x))return v.On.Qf;if(!z.NG)return v.On.MAa;};c.prototype.aYb=function(x,z){var y,A;x.ue && x.Bb && (x.Bb.ue=x.ue);this.rxc(x.P,x.Um);y=this.AXb(x,z);A=this.xXb(x,null === y || void 0 === y?void 0:y.id,z);x=this.EXb(x,null === y || void 0 === y?void 0:y.id,z);return [y,A,x].filter(n);};c.prototype.AXb=function(x,z){if(this.Pf.b3(x.P,"manifest"))this.log.trace("manifest exists in cache for " + x.P);else return new d.lZ("manifest",this.Qg.$b().ia(p.pa),!!x.Bb.DOa,void 0,z,this.Ieb,x,this);};c.prototype.xXb=function(x,z,y){if(this.config.t1)if(this.Pf.b3(x.P,"ldl"))!1;else return this.config.l8?new d.lZ("license",this.Qg.$b().ia(p.pa),!!x.Bb.DOa,z,y,this.h2b,x,this):new d.lZ("license",this.Qg.$b().ia(p.pa),!!x.Bb.DOa,z,y,this.i2b,x,this);};c.prototype.EXb=function(x,z,y){if(this.config.Pdb)return new d.lZ("getMedia",this.Qg.$b().ia(p.pa),!!x.Bb.DOa,z,y,this.Rea,x,this);};c.prototype.rxc=function(x,z){this.Cia[x] || (this.Cia[x]={rka:0,Um:0});x=this.Cia[x];x.rka=(void 0 !== x?void 0 !== x.rka?x.rka:0:0) + 1;x.Um=z;};a=c;b.Ewa=a;b.Ewa=a=r.__decorate([(0,e.W)(),r.__param(0,(0,e.l)(f.kb)),r.__param(1,(0,e.l)(g.uc)),r.__param(2,(0,e.l)(l.LB)),r.__param(3,(0,e.l)(h.Eh)),r.__param(4,(0,e.l)(m.fd)),r.__param(5,(0,e.l)(k.x2a)),r.__param(6,(0,e.l)(u.w2a)),r.__param(7,(0,e.l)(u.v2a)),r.__param(8,(0,e.l)(u.u2a)),r.__param(9,(0,e.l)(t.loa)),r.__param(10,(0,e.l)(q.Koa))],a);},36149:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.Fzb=void 0;r=a(22674);c=a(58872);n=a(52357);b.Fzb=new r.Od(function(d){d(c.w5a).to(n.Dwa).ma();});},58872:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.w5a="VideoPlayerFactorySymbol";},85001:function(r,b){var c,n,d,g,e,f,l,h;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.yc=b.wb=b.Bg=b.qc=b.Nna=b.da=b.Uqa=b.oQ=b.Ra=void 0;(function(k){k.jmb="loadedtracks";k.imb="loadedmetadata";k.loaded="loaded";k.error="error";k.closed="closed";k.cr="currenttimechanged";k.uyb="unthrottledcurrenttimechanged";k.Mca="bufferedtimechanged";k.rDa="durationchanged";k.uSa="videosizechanged";k.sqb="pausedchanged";k.NMa="playingchanged";k.Xdb="endedchanged";k.oR="busychanged";k.Aca="audiotracklistchanged";k.$n="audiotrackchanged";k.zy="timedtexttracklistchanged";k.Bn="timedtexttrackchanged";k.X7="trickplayframeschanged";k.hRa="timecodesupdated";k.eob="mutedchanged";k.Nzb="volumechanged";k.VPa="showsubtitle";k.RNa="removesubtitle";k.Oyc="watermark";k.vIa="isReadyToTransition";k.nT="inactivated";k.Vjb="internalPlaybackError";k.Eqc="segmentmaploaded";k.Fqc="segmentpresenting";k.d$a="autoplaywasallowed";k.Dca="autoplaywasblocked";k.WOb="adsstatechanged";k.kH="livestatechanged";})(c || (b.Ra=c={}));(n || (b.oQ=n={})).S6="playgraphsegmenttransition";b.Uqa=a;a.Kub="serverTimeChanged";(function(k){k.RK="aseReport";k.Oha="liveReport";k.Nha="livePipelineFailover";k.Uza="autoplayWasAllowed";k.ej="autoplayWasBlocked";k.EC="bufferUnderrun";k.closed="closed";k.sg="closing";k.cr="currentTimeChanged";k.uL="downloadComplete";k.nT="inactivated";k.YIa="licenseAdded";k.Kha="licensed";k.i4="locationSelected";k.KJa="manifestClosing";k.nA="manifestPresenting";k.D4="mediaBufferChanged";k.Nia="nextBranchingSegmentChosen";k.dy="playbackStart";k.rn="playbackReady";k.sl="repositioned";k.fI="repositioning";k.H6="safePlayRequested";k.lO="segmentPresenting";k.W6="serverSwitch";k.Jvb="shouldUpdateVideoDiagInfo";k.cW="subtitleError";k.aRa="throttledMediaTimeChanged";k.vyb="unthrottledMediaTimeChanged";k.iW="timedTextRebuffer";k.zy="timedTextTrackListChanged";k.X7="trickPlayFramesChanged";k.SRa="updateNextBranchingSegmentWeights";k.rzb="userInitiatedPause";k.szb="userInitiatedResume";k.Pxb="tracksHydrated";k.kH="livestatechanged";k.C6="restarting";k.amb="livePostplayUpdated";})(d || (b.da=d={}));(g || (b.Nna=g={})).DF="adBreakComplete";(function(k){k[k.gQ=0]="NOTLOADED";k[k.LOADING=1]="LOADING";k[k.cf=2]="NORMAL";k[k.CLOSING=3]="CLOSING";k[k.CLOSED=4]="CLOSED";})(e || (b.qc=e={}));(function(k){k[k.cf=1]="NORMAL";k[k.lf=2]="BUFFERING";k[k.r3a=3]="STALLED";})(f || (b.Bg=f={}));(function(k){k[k.og=1]="WAITING";k[k.yf=2]="PLAYING";k[k.vi=3]="PAUSED";k[k.uu=4]="ENDED";})(l || (b.wb=l={}));(function(k){k[k.Wo=0]="INITIAL";k[k.Bu=1]="SEEK";k[k.WP=2]="LIVE_EDGE";k[k.yZ=3]="TRACK_CHANGED";k[k.PJ=4]="SEGMENT_CHANGED";k[k.D9=5]="FORCE_REBUFFER";k[k.KX=6]="FRAGMENTS_MISSING";k[k.Wra=7]="MEDIA_DISCONTINUITY";})(h || (b.yc=h={}));},91122:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VUa="CdnPartitionerSymbol";},75950:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A;Object.defineProperty(b,"__esModule",{value:!0});b.Xib=void 0;r=a(22674);c=a(70673);n=a(78033);d=a(23002);g=a(487);e=a(77764);f=a(23179);l=a(52794);h=a(52961);k=a(44376);m=a(15850);p=a(47500);v=a(68272);q=a(10242);u=a(78029);t=a(62553);w=a(91122);x=a(12394);z=a(20034);y=a(91825);A=a(27134);b.Xib=new r.Od(function(B){B(c.PXa).to(n.Aqa).ma();B(d.SXa).to(g.Bqa).ma();B(e.CXa).to(f.uqa).ma();B(l.DXa).to(h.vqa).ma();B(w.VUa).to(x.Roa).ma();B(k.$1a).to(m.Eua).ma();B(p.Uva).to(v.Tva);B(q.MY).to(z.AJ);B(y.OY).to(A.BJ);B(u.tqa).to(t.Dqa);});},78029:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tqa="HLSConfigSymbol";},77764:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CXa="HLSPlaylistBuilderSymbol";},52794:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DXa="HLSPlaylistTransformerSymbol";},70673:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PXa="HeaderFetcherSymbol";},23002:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SXa="HLSHeaderParserFactorySymbol";},10242:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DCc="LogblobBuilderSymbol";b.MY="HLSLogblobBuilderFactorySymbol";},91825:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OY="HLSLogblobMonitorFactorySymbol";},44376:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$1a="PlayerPlaydataMonitorSymbol";},47500:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uva="StreamChangeDetectorSymbol";},12394:function(r,b,a){var n,d;function c(g){this.qa=g.fb("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Roa=void 0;r=a(5163);n=a(22674);a=a(87386);c.prototype.I4b=function(g){var f,l,h,k,m,p,v;function e(q,u,t){var w,x,z;w=q.map(function(y){return y.sh;});w.sort(function(y,A){return u[y] - u[A];});if(1 === w.length)(!1,h.set(t,{XU:q[0],ula:q[0]}));else {x=w.find(function(y){return f.has(y);});x || ((x=w.find(function(y){return !l.has(y);}))?f.add(x):(x=w[0],!1));z=w.find(function(y){return l.has(y) && y !== x;});z || ((z=w.find(function(y){return !f.has(y) && y !== x;}))?l.add(z):(z=w.find(function(y){return y !== x;}),!1));h.set(t,{XU:q.find(function(y){return y.sh === x;}),ula:q.find(function(y){return y.sh === z;})});}}f=new Set();l=new Set();h=new Map();k=g.video;m=g.audio;p=g.text;v=g.mm.reduce(function(q,u){q[u.id]=u.Fc;return q;},{});k.forEach(function(q){q=q.stream;e(q.urls,v,q.Qm);});m.forEach(function(q){q=q.stream;e(q.urls,v,q.Qm);});p.forEach(function(q){var u,t;if(!q.track.Px || q.track.$ga){u=q.stream;q=q.id;t=u.urls.reduce(function(w,x,z){w[x.sh]=z + 1;return w;},{});e(u.urls,t,q);}});return h;};d=c;b.Roa=d;b.Roa=d=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.kb))],d);},62553:function(r,b,a){var n,d,g,e;function c(f){return d.zf.call(this,f,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Dqa=void 0;r=a(5163);n=a(22674);d=a(64174);g=a(83767);a=a(12501);Ha(c,d.zf);Ga.Object.defineProperties(c.prototype,{irb:{configurable:!0,enumerable:!0,get:function(){return !0;}},qA:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},OD:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},Yib:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},Yx:{configurable:!0,enumerable:!0,get:function(){return 80;}}});e=c;b.Dqa=e;r.__decorate([a.config(a.xd,"playsInline")],e.prototype,"irb",null);r.__decorate([a.config(a.WG,"minAudioMediaRequestDuration")],e.prototype,"qA",null);r.__decorate([a.config(a.WG,"minVideoMediaRequestDuration")],e.prototype,"OD",null);r.__decorate([a.config(a.WG,"hlsVideoMediaRequestTargetDuration")],e.prototype,"Yib",null);r.__decorate([a.config(a.WG,"minStartingVideoVMAF")],e.prototype,"Yx",null);b.Dqa=e=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.Tn))],e);},23179:function(r,b,a){var e,f,l,h,k,m,p,v,q,u,t,w;function c(x,z){this.b1=z;this.Qe=x.filter(function(y){return y.HRa[m.cp.Daa];}).map(function(y){return {track:y,stream:y.HRa[m.cp.Daa],id:y.qdb[m.cp.Daa]};});}function n(x,z,y){var A;this.NO=z;this.Yx=y;A=x[0];this.V7=A.streams.map(function(B){return {track:A,d3:B.ewb,stream:B};});}function d(x,z,y,A){function B(C,D){return C.bitrate > D.bitrate?C:D;}this.log=x;this.NO=y;this.b1=A;this.V7=z.map(function(C){var D;D=C.streams.reduce(B);return {track:C,d3:D.xl?D.xl.offset + D.xl.size:void 0,stream:D};});}function g(x,z,y,A,B,C){this.G9b=x;this.H9b=z;this.alc=y;this.WSb=A;this.f3=B;this.wg=C;this.qa=C.fb("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.rJb=b.TJb=b.dBb=b.uqa=void 0;r=a(5163);e=a(22674);f=a(70673);l=a(23002);h=a(36129);k=a(31149);m=a(75568);p=a(52794);v=a(91122);q=a(78029);u=a(87386);t=a(79542);w=a(26388);g.prototype.ai=function(x,z){var y,A,B,C,D,E;y=this;C=x.Ca;x=this.p4b(C,z);D=this.G8b(C,z);E=null !== (B=null === (A=C.e6) || void 0 === A?void 0:A.kW) && void 0 !== B?B:C.TO.find(function(F){var G;return F.id === (null === (G=C.Sda) || void 0 === G?void 0:G[0].Nwb);}).Jg;A=new c(C.TO,E);return Promise.all([x,D,A]).then(function(F){var G,J;G=Ea(F);F=G.next().value;J=G.next().value;G=G.next().value;F={audio:F.getMetadata(),video:J.getMetadata(),text:G.getMetadata(),Acb:F.tFa(),bZb:G.tFa(),duration:C.duration,mm:C.mm};J=y.WSb.I4b(F);z("h_s");return {kec:y.alc.transform(F,J),ZSb:J,huc:F};});};g.prototype.G8b=function(x,z){var y;y=new n(x.hw,this.f3.Yib,this.f3.Yx);return this.jdb(y.V7,w.u.V,z).then(function(A){y.pPa(A);return y;});};g.prototype.p4b=function(x,z){var y,A,B,C;B=null !== (A=null === (y=x.e6) || void 0 === y?void 0:y.Qs) && void 0 !== A?A:x.cx.find(function(D){var E;return D.id === (null === (E=x.Sda) || void 0 === E?void 0:E[0].Qs);}).Jg;C=new d(this.qa,x.cx,this.f3.qA,B);return this.jdb(C.V7,w.u.X,z).then(function(D){C.pPa(D);return C;});};g.prototype.bMa=function(x,z,y,A){if(x=this.H9b.parse(z,x,y))return x;this.qa.error("Failed to parse headers",{type:z === w.u.X?"audio":"video",downloadableId:A.stream.Qm});};g.prototype.jdb=function(x,z,y){var A;A=this;return Promise.all(x.map(function(B,C){if(B.d3)return A.G9b.download({urls:B.stream.urls,offset:0,length:B.d3}).then(function(D){y("h_" + (0 === z?"A":"V") + "_" + C + "_s");return A.bMa(D,z,z == w.u.X?A.f3.qA:A.f3.OD,B);}).catch(function(){y("h_" + B.track.Qh[0] + "_" + C + "_f");A.qa.warn("Failed to download and parse headers for " + B.stream.Qm);});A.qa.warn("Stream data offset is missing",{downloadableId:B.stream.Qm});}));};a=g;b.uqa=a;b.uqa=a=r.__decorate([(0,e.W)(),r.__param(0,(0,e.l)(f.PXa)),r.__param(1,(0,e.l)(l.SXa)),r.__param(2,(0,e.l)(p.DXa)),r.__param(3,(0,e.l)(v.VUa)),r.__param(4,(0,e.l)(q.tqa)),r.__param(5,(0,e.l)(u.kb))],a);d.prototype.pPa=function(x){var z;z=this;if(!x.find(function(y){return void 0 !== y;}))throw k.ke.gAb(h.Y.uYa,h.T.$ra);this.Qe=this.V7.map(function(y,A){if(A=x[A])return {track:y.track,stream:y.stream,Ha:A,NO:z.NO};}).filter(t.zkb);};d.prototype.getMetadata=function(){return this.Qe;};d.prototype.tFa=function(){var x,z;x=this;if(!this.Qe.find(function(y){return y.track.Jg === x.b1;}) && 0 < this.Qe.length){z=this.Qe[0].track.Jg;this.log.warn("Did not find metadata for audio track " + this.b1 + ", falling back to " + z);return z;}return this.b1;};b.dBb=d;n.prototype.pPa=function(x){var z,y;z=this;if(!x.find(function(A){return void 0 !== A;}))throw k.ke.gAb(h.Y.uYa,h.T.bsa);y=this.V7.map(function(A,B){if(B=x[B])return {track:A.track,stream:A.stream,Ha:B,NO:z.NO};}).filter(t.zkb);this.Qe=this.Z6b(y);};n.prototype.getMetadata=function(){return this.Qe;};n.prototype.Z6b=function(x){var z,y,A;z=this;x.sort(function(B){return B.stream.bitrate;});y=x.findIndex(function(B){var C;return (null !== (C=B.stream.Gb) && void 0 !== C?C:0) >= z.Yx;});if(-1 !== y && y !== x.length - 1){A=x[y];x.splice(y,1);x.push(A);}x.reverse();return x;};b.TJb=n;c.prototype.tFa=function(){return this.b1;};c.prototype.getMetadata=function(){return this.Qe;};b.rJb=c;},52961:function(r,b,a){var n,d,g,e,f,l;function c(h){this.qa=h.fb("HLSPlaylistTransformerImpl");this.wyc=e.r9.bv();this.vQb=f.opa.bv();}Object.defineProperty(b,"__esModule",{value:!0});b.vqa=void 0;r=a(5163);n=a(22674);d=a(87386);g=a(35128);e=a(48617);f=a(12187);l=[0,1];c.prototype.transform=function(h,k){var m,p,v,q,u,t,w,x,z;m=this;p=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];v=h.text;q=h.audio;u=h.video;t=h.duration;w=h.Acb;x=h.bZb;v.forEach(function(y){l.forEach(function(A){var B,C,D,E;B=0 === A;C=y.stream;D=y.track;E=k.get(y.id);B=B?E.XU:E.ula;C=m.o8b({url:B.url,duration:t / 1E3,size:C.size,eo:"Manifest for subtitles " + D.language + ' stream "' + D.gH + '", ' + D.Jg + ", cdn " + B.sh});m.qa.trace("Text variant manifest",C.join("\n"));A=m.p8b({groupId:A,name:D.gH,bIa:D.Jg === x,am:D.$ga,rac:D.Qh === g.ys.yna,language:D.language,uri:m.Yha(C)});p.push(A);});});q.forEach(function(y){l.forEach(function(A){var B,C,D,E,F,G;B=0 === A;C=y.stream;D=y.track;E=y.Ha;F=y.NO;G=k.get(C.Qm);B=B?G.XU:G.ula;C=m.Wgb({url:B.url,d3:C.xl.offset + C.xl.size,Ha:E,cxb:Math.floor(F / 1E3),eo:"Manifest for audio " + D.language + ' stream "' + D.gH + '", ' + D.Jg + ", cdn " + B.sh});m.qa.trace("Audio variant manifest",C.join("\n"));A=m.q4b({groupId:A,language:D.language,name:D.gH,bIa:D.Jg === w,uri:m.Yha(C)});p.push(A);});});z=this.vQb[q[0].track.profile];u.forEach(function(y){l.forEach(function(A){var B,C,D,E,F,G;B=0 === A;C=y.stream;D=y.track;E=y.Ha;F=y.NO;G=k.get(C.Qm);G=B?G.XU:G.ula;B=0 < v.length;D=m.Wgb({url:G.url,d3:C.xl?C.xl.offset + C.xl.size:C.ewb,Ha:E,cxb:Math.floor(F / 1E3),eo:"Manifest for video bitrate " + C.bitrate + ", stream " + D.Jg + ", cdn " + G.sh});m.qa.trace("Video variant manifest",D.join("\n"));A=m.H8b({groupId:A,m0:1E3 * C.bitrate,JQb:1E3 * C.bitrate,dbc:0 <= C.QC.indexOf("-hdr-") || 0 <= C.QC.indexOf("-dv5-"),framerate:(C.zfb / C.yfb).toFixed(3),jm:C.nOa + "x" + C.rtb,myc:m.wyc[C.QC],lQb:z,qvc:B});p.push(A);A=m.Yha(D);p.push("" + A);});});this.qa.trace("Primary manifest",p.join("\n"));return this.Yha(p);};c.prototype.q4b=function(h){var k;k=h.bIa;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + h.groupId + '"','CHANNELS="2"','LANGUAGE="' + h.language + '"','NAME="' + h.name + '"',"DEFAULT=" + (k?"YES":"NO"),"AUTOSELECT=" + (k?"YES":"NO"),'URI="' + h.uri + '"'].join(", ");};c.prototype.Wgb=function(h){var k,m;k=h.Ha;m=["#EXTM3U","# " + h.eo,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + h.cxb,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + h.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + k[0].byteOffset + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];k.forEach(function(p,v){m.push("#EXTINF:" + p.duration.toFixed(3) + "," + p.ub.toFixed(3));m.push("#EXT-X-BYTERANGE:" + p.RRb + "@" + p.byteOffset);m.push("{$U}&fi=" + v);});m.push("#EXT-X-ENDLIST");return m;};c.prototype.H8b=function(h){var k,m;k=h.groupId;m=["#EXT-X-STREAM-INF:BANDWIDTH=" + h.m0,"AVERAGE-BANDWIDTH=" + h.JQb,"VIDEO-RANGE=" + (h.dbc?"PQ":"SDR"),"FRAME-RATE=" + h.framerate,'AUDIO="group_' + k + '"',"RESOLUTION=" + h.jm,'CODECS="' + h.myc + "," + h.lQb + '"'];h.qvc && m.push('SUBTITLES="subs_' + k + '"');return m.join(", ");};c.prototype.o8b=function(h){var k;k=h.duration;return ["#EXTM3U","# " + h.eo,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(k),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + h.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + k.toFixed(3),"#EXT-X-BYTERANGE:" + h.size + "@0","{$U}","#EXT-X-ENDLIST"];};c.prototype.p8b=function(h){var k,m,p;k=h.bIa;m=h.language;p=h.uri;k=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + h.groupId + '"','NAME="' + h.name + '"',"DEFAULT=" + (k?"YES":"NO"),"AUTOSELECT=" + (k?"YES":"NO"),"FORCED=" + (h.am?"YES":"NO")];h.rac && k.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');k.push('LANGUAGE="' + m + '"');k.push('URI="' + p + '"');return k.join(", ");};c.prototype.Yha=function(h){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(h.join("\n"));};a=c;b.vqa=a;b.vqa=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.kb))],a);},78033:function(r,b,a){var n,d,g,e;function c(f,l){this.V9b=f;this.log=l.fb("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Aqa=void 0;r=a(5163);n=a(22674);d=a(87386);g=a(2571);e=a(32934);c.prototype.download=function(f){var h,k,m,p,v;function l(q){if(v < k.length - 1)return (!1,v++,h.ldb(k[v].url,m,p).catch(l));throw q;}h=this;k=f.urls;m=f.offset;p=f.length;v=0;return this.ldb(k[v].url,m,p).catch(l);};c.prototype.ldb=function(f,l,h){return this.V9b.download({url:f,withCredentials:!1,responseType:e.ResponseType.xBb,gG:"hls_headers",fw:!0,offset:l,length:h,Zv:e.bZ},{VT:1});};a=c;b.Aqa=a;b.Aqa=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.WXa)),r.__param(1,(0,n.l)(d.kb))],a);},487:function(r,b,a){var n,d,g;function c(e){this.qa=e.fb("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Bqa=void 0;r=a(5163);n=a(22674);d=a(91562);a=a(87386);c.prototype.parse=function(e,f,l){e=new d.Sk(this.qa,{mediaType:e},f,["sidx"]).parse();if(e.by && e.Ha)return this.lza(e.Ha,l);};c.prototype.lza=function(e,f){var l,h,k,m,p;l=0;h=0;k=0;m=e.offset;p=[];e.Tf.forEach(function(v,q){h+=v;k+=e.sizes[q];if(1E3 * h / e.O >= f || q === e.Tf.length - 1)(p.push({duration:h / e.O,ub:l / e.O,byteOffset:m,RRb:k}),l+=h,h=0,m+=k,k=0);});return p;};g=c;b.Bqa=g;b.Bqa=g=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.kb))],g);},20034:function(r,b,a){var n,d,g,e,f,l,h;function c(k,m,p,v,q){this.wg=k;this.DD=m;this.Xg=p;this.xc=v;this.Oa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.AJ=void 0;r=a(5163);n=a(22674);d=a(81918);g=a(87386);e=a(45118);f=a(98326);l=a(31850);h=a(97444);c.prototype.create=function(k){return new h.NY(this.wg,this.DD,this.Xg,this.Oa,this.xc,k);};a=c;b.AJ=a;b.AJ=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(g.kb)),r.__param(1,(0,n.l)(l.NB)),r.__param(2,(0,n.l)(e.Jn)),r.__param(3,(0,n.l)(f.Lra)),r.__param(4,(0,n.l)(d.fd))],a);},97444:function(r,b,a){var n,d,g,e,f,l,h;function c(k,m,p,v,q,u){var t;t=this;this.DD=m;this.Xg=p;this.Oa=v;this.xc=q;this.rKa=this.XG=this.q6=0;this.TM=!1;this.MD=function(){var w;w=t.D5();w.prstate=t.lD();w.paustate=t.j.Rx();w.midplayseq=t.rKa++;t.xc.qT(w);t.Ec(n.md.MD,void 0,h.Me | h.Aw,w);};this.ej=function(){t.Ec(n.md.w$a,void 0,h.Me | h.ks,{});};this.Bn=function(w){t.UIa=t.getTime();t.VIa=w.oldValue;};this.f0=function(w){t.LIa=w.oldValue;};this.Tja=function(w){w != t.TM && (t.qQa(t.TM,w),t.TM=w);};this.qQa=function(w,x){var z;z=t.j.Fa;w={newstate:x?"Paused":"Playing",oldstate:w?"Paused":"Playing"};t.xc.At(w,z.Ue.value && z.Ue.value.stream,z.hf.value && z.hf.value.stream);t.Ec(n.md.r7,void 0,h.Me,w);};this.l7=function(w){t.Ec(n.md.awb,void 0,h.Me,{speedold:Math.floor(1E3 * w.oldValue),speed:Math.floor(1E3 * w.newValue)});};this.nE=function(w){var x,z,y;z=t.j.Fa;y=z.ca.Ic.value;if(w.newValue || y && y.bn() && !y.am())(w=null !== (x=w.newValue) && void 0 !== x?x:y,x=t.qM(w),w=t.qM(t.VIa),x={switchdelay:(0,d.xh)(t.getTime() - t.UIa),track:x,oldtrack:w},t.xc.At(x,z.Ue.value && z.Ue.value.stream,z.hf.value && z.hf.value.stream),t.Ec(n.md.vxb,void 0,h.Me,x));};this.yMa=function(w,x){var z;z=t.j.Fa;w={waittime:(0,d.xh)(w),abortedevent:"resumeplay",resumeplayreason:x};t.xc.At(w,z.Gf.value,z.Zh.value);t.Ec(n.md.PU,void 0,h.Me | h.ks,w);};this.ny=function(w,x,z){var y;y=z.tOa;z=z.htb;w={playdelay:(0,d.xh)(w),reason:y,intrplayseq:t.XG - 1,skipped:x};"repos" === y && (w.prstate=!0 === t.j.Ni.value?"playing":"paused",z === f.yc.KX && (w.repos_reason="missing_segments"));t.Ec(n.md.ny,void 0,h.Me | h.zu,w);};this.Rza=function(){var w,x,z,y;x=t.WL(t.j.Fa.ca.Mc.value,t.j.Fa.Zh.value.Nb);z=t.AD;y=null === (w=t.LIa) || void 0 === w?void 0:w.Nb;w=t.WL(z,y);t.Ec(n.md.X9a,void 0,h.Me,{switchdelay:(0,d.xh)(t.getTime() - t.MIa),track:x,oldtrack:w});};this.$n=function(w){t.MIa=t.getTime();t.AD=w.oldValue;};this.zMa=function(){var w,x,z;w=t.j.Fa;x={abortedevent:"startplay",trackid:w.Bl,prstate:t.lD(),paustate:t.j.Rx()};try{z=(0,g.bT)();z && (x.pdltime=z);(0,d.Re)(x,w.ce,{prefix:"sm_"});}catch(y){}t.xc.Cga(x,w);t.xc.pT(x,!1,w.ca.Mc.value,w);t.xc.rT(x,!1,w.ca.wj.value,w);t.xc.At(x,w.Gf.value,w.Zh.value);t.wM(x);t.Ec(n.md.PU,void 0,h.Me | h.Aw | h.ks,x);};this.JC=function(w,x,z,y){w={moff:(0,d.Ip)(z),moffms:(0,d.xh)(z),vbitrate:x.bitrate,vbitrateold:w.bitrate,vdlid:x.Nb,vdlidold:w.Nb,vheight:x.height,vheightold:w.height,vwidth:x.width,vwidthold:w.width,bw:y};t.Ec(n.md.JC,void 0,0,w);};this.eI=function(w,x,z){w={moffold:(0,d.Ip)(w),reposseq:t.q6++,prstate:t.lD(),paustate:t.j.Rx()};t.xc.At(w,z && z.stream,x && x.stream);t.Ec(n.md.eI,void 0,h.Me,w);};this.aw=function(w){var x,z,y,A,B;A=w.Fa;B={playdelaysdk:(0,d.xh)(t.j.x0()),applicationPlaydelay:(0,d.xh)(t.j.DAa()),playdelay:(0,d.xh)(t.j.EAa()),trackid:A.Bl,bookmark:(0,d.xh)(A.ao || 0),pbnum:A.index};B.audiotrackinfo=t.WL(t.j.Fa.ca.Mc.value,t.j.Fa.hf.value?t.j.Fa.hf.value.stream?t.j.Fa.hf.value.stream.Nb:void 0:void 0);B.texttrackinfo=t.qM(t.j.Fa.ca.Ic.value);t.j.ej && (B.blocked=t.j.ej);B.initvbitrate=t.j.q3;t.xc.DHa(B);t.xc.ojb(B);B.esnSource=null === (x=Ba._cad_global.device) || void 0 === x?void 0:x.Hea;t.vjb(B,A);B.pdltime=(0,g.bT)();(0,d.Re)(B,A.ce,{prefix:"sm_"});B.ttTrackFields=null === (z=A.ca.Ic.value) || void 0 === z?void 0:z.Ah;B.itsxheaac=MediaSource.isTypeSupported('audio/mp4; codecs="mp4a.40.42"');t.xc.pT(B,!0,A.ca.Mc.value,A);t.xc.rT(B,!0,A.ca.wj.value,A);B.packageId=null === (y=A.U) || void 0 === y?void 0:y.Ca.hq;t.xc.qT(B);t.xc.Cga(B,A);t.wM(B);t.Ec(n.md.aw,w.Di,h.Me | h.zu | h.Aw | h.pJ | h.ks,B);};this.Nz=function(){var w,x,z;w=t.j;x=w.Fa;w=w.Di;z=t.D5();z.paustate=!t.j.bH();z.muted=t.j.kIa();z.endreason=w?"error":t.j.dIa()?"ended":"stopped";t.xc.pT(z,!1,x.ca.Mc.value,x);t.xc.rT(z,!1,x.ca.wj.value,x);t.xc.qT(z);t.wM(z);t.Ec(n.md.Nz,w,h.Me | h.zu | h.Aw | h.pJ | h.ks,z);};this.UNa=function(w,x,z){var y;y=t.j.Fa.hf;w={moff:(0,d.Ip)(z),moffms:(0,d.xh)(z),vdlidold:w.Nb,vbitrateold:w.bitrate};t.xc.At(w,x,y.value && y.value.stream);t.Ec(n.md.l6,void 0,0,w);};this.lD=function(){var w;w=t.j.Ib.value;return w === f.wb.yf?"playing":w === f.wb.vi?"paused":w === f.wb.uu?"ended":"waiting";};this.qa=k.fb("LogblobBuilderImpl");this.j=u;}Object.defineProperty(b,"__esModule",{value:!0});b.NY=void 0;n=a(18169);d=a(3887);g=a(52569);e=a(36129);f=a(85001);l=a(5021);c.prototype.getTime=function(){return this.Oa.$b().ia(l.pa);};c.prototype.rGa=function(){return this.getTime() - this.j.Fa.rj.ia(l.pa);};c.prototype.WL=function(k,m){return k?{trackId:k.trackId,bcp47:k.rg,downloadableId:m,rank:k.Fc,chan:k.channels}:{};};c.prototype.qM=function(k){return k?{trackId:k.trackId,bcp47:k.rg,downloadableId:k.Nb,rank:k.Fc,isImageBased:k.ro,profile:k.profile}:{};};c.prototype.vjb=function(k,m){var p;if(m=null === (p=m.ca.wj.value) || void 0 === p?void 0:p.streams)(k.maxbitrate=(0,g.O8)(m.map(function(v){return v.bitrate;})),k.maxresheight=(0,g.O8)(m.map(function(v){return v.height;})));};c.prototype.wM=function(k){k.cachedManifest="notcached";k.cachedLicense="notcached";k.usedldl="false";};c.prototype.D5=function(){var k,m,p,v;k=this.j.Fa;m=k.qn;p={totaltime:(0,d.Ip)(m.tt()),totalcontenttime:(0,d.Ip)(m.U2()),reposcount:this.q6,intrplaycount:this.XG};p.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});v=k.Gf.value;v && (p.videofr=v.framerate.toFixed(3));(v=m.kFa()) && (p.abrdel=v);(v=m.rga() && m.Rfb()) && (p.tw_vmaf=v);(m=m.Pfb()) && (0,d.Re)(p,m);p.rbfrs=this.XG;this.vjb(p,k);return p;};c.prototype.Ec=function(k,m,p,v){var q,u,t;q=this;m && (0,e.A9)(null === m || void 0 === m?void 0:m.errorCode,null === m || void 0 === m?void 0:m.Ja,this.rGa(),void 0) && (u="info");t=this.j.Fa;this.Qya(v,m,p);m=u || (m?"error":"info");v=this.DD.ht(k,m,v,t);this.Xg.Ec(v);"error" !== m && k !== n.md.Nz || this.Xg.flush(!1).catch(function(){q.qa.debug("Failed to flush the logblobs");});};c.prototype.Qya=function(k,m,p){var v;v=this.j.Fa;this.xc.njb(k,v);p & h.Me && this.xc.rjb(k,v,!1);p & h.zu && this.xc.tjb(k,v);p & h.Aw && this.xc.ujb(k,this.j.Lp());m && p & h.pJ && this.xc.pjb(k,v,m);p & h.ks && this.xc.DHa(k);};b.NY=c;(function(k){k[k.Me=1]="MOFF";k[k.zu=2]="PRESENTEDSTREAMS";k[k.Aw=4]="SCREEN";k[k.pJ=8]="FATALERROR";k[k.ks=16]="BROWSERINFO";})(h || (h={}));},27134:function(r,b,a){var n,d,g,e,f,l,h;function c(k,m,p,v,q){this.Xg=k;this.config=m;this.Aa=p;this.Oa=v;this.tJa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.BJ=void 0;r=a(5163);n=a(22674);d=a(81918);g=a(30869);e=a(4203);f=a(45118);l=a(10242);h=a(5522);c.prototype.create=function(k){return new h.PY(k,this.Xg,this.config,this.Oa,this.tJa.create(k));};a=c;b.BJ=a;b.BJ=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(f.Jn)),r.__param(1,(0,n.l)(e.uc)),r.__param(2,(0,n.l)(g.hh)),r.__param(3,(0,n.l)(d.fd)),r.__param(4,(0,n.l)(l.MY))],a);},5522:function(r,b,a){var n,d,g;function c(e,f,l,h,k){var m;m=this;this.j=e;this.Xg=f;this.config=l;this.Oa=h;this.Za=k;this.D0=function(){m.sg();m.j.Fa.Gj.removeListener(m.nE);m.j.Fa.ca.Ic.removeListener(m.Za.Bn);m.j.Fa.ca.Mc.removeListener(m.$n);m.j.Fa.Zh.removeListener(m.Za.f0);m.j.Ni.removeListener(m.hrb);m.j.nV.removeListener(m.sl);m.j.Fa.Ue.removeListener(m.N5);m.j.Ib.removeListener(m.Bz);m.j.Ib.removeListener(m.zR);m.j.Fa.Gf.removeListener(m.t8);m.j.Fa.playbackRate.removeListener(m.Za.l7);m.j.removeEventListener(g.Ra.closed,m.D0);m.j.removeEventListener(g.Ra.Dca,m.Za.ej);};this.zR=function(){m.j.Ib.value === g.wb.yf && (m.j.Ib.removeListener(m.zR),m.dy());};this.nE=function(p){m.Pt && m.Za.nE(p);};this.sl=function(p){m.Pt && void 0 !== p.newValue && (m.tV && m.fs && m.Za.yMa(m.getTime() - m.fs,m.tV.tOa),m.tV={tOa:"repos",htb:p.newValue},m.Za.eI(p.newValue,m.j.Fa.hf.value,m.j.Fa.Ue.value),m.fs=m.getTime(),(0,d.Rg)(m.Bz));};this.hrb=function(p){m.Pt && m.Za.Tja(!p.newValue);};this.$n=function(p){p.oldValue && (m.AD=p.oldValue,m.Za.$n(p),m.tV={tOa:"repos",htb:g.yc.yZ},m.fs=m.getTime(),(0,d.Rg)(m.Bz));};this.Bz=function(){var p;if(m.fs && m.tV && m.j.Ib.value !== g.wb.og){p=m.getTime() - m.fs;m.Za.ny(p,!1,m.tV);m.AD && m.AD != m.j.Fa.ca.Mc.value && m.Za.Rza();m.fs=void 0;m.tV=void 0;}};this.dy=function(){m.Pt || (m.Pt=!0,m.Za.aw(m.j),m.MHa(),m.config().Iga && (m.sD=Ba.setTimeout(function(){m.Xg.flush(!1).catch(function(){return m.log.warn("failed to flush log batcher on initialLogFlushTimeout");});m.sD=void 0;},m.config().Iga)));};this.sg=function(){m.sD && (Ba.clearTimeout(m.sD),m.sD=void 0);m.c8 && m.c8();m.Pt?m.Za.Nz():m.j.Di?m.Za.aw(m.j):m.Za.zMa();};this.t8=function(p){p.oldValue && p.jj && p.jj.$K && m.Za.JC(p.oldValue,p.newValue,p.jj.$K,p.jj.m0);};this.N5=function(p){var v;if(p.newValue){v=p.newValue.stream;m.UM != v && (m.UM && v && m.Za.UNa(m.UM,v,p.newValue.AR.startTime),m.UM=v);}};this.Yla();}Object.defineProperty(b,"__esModule",{value:!0});b.PY=void 0;n=a(5021);d=a(32219);g=a(85001);c.prototype.Yla=function(){this.j.addEventListener(g.Ra.closed,this.D0);this.j.addEventListener(g.Ra.Dca,this.Za.ej);this.j.Fa.Gj.addListener(this.nE);this.j.Fa.ca.Ic.addListener(this.Za.Bn);this.j.Fa.ca.Mc.addListener(this.$n);this.j.Fa.Zh.addListener(this.Za.f0);this.j.Ni.addListener(this.hrb);this.j.nV.addListener(this.sl);this.j.Fa.Ue.addListener(this.N5);this.j.Ib.addListener(this.Bz);this.j.Ib.addListener(this.zR);this.j.Fa.Gf.addListener(this.t8);this.j.Fa.playbackRate.addListener(this.Za.l7);};c.prototype.getTime=function(){return this.Oa.$b().ia(n.pa);};c.prototype.MHa=function(){var e,f,l;e=this;l=[];this.config().Dnb && (this.config().Enb.forEach(function(h){l.push(Ba.setTimeout(e.Za.MD,h));}),this.config().sia && (f=Ba.setInterval(this.Za.MD,this.config().sia)),this.c8=function(){l.forEach(function(h){Ba.clearTimeout(h);});f && Ba.clearInterval(f);});};b.PY=c;},15850:function(r,b,a){var n,d,g,e,f;function c(l,h){var m;function k(){m.lMa.then(function(p){m.qa.trace("Unloading PBO Playdata Services");p.close();});e.ff.removeListener(e.Wm,k);}m=this;this.wqb=h;this.lMa=h();this.qa=l.fb("PlayerPlaydataMonitorImpl");e.ff.addListener(e.Wm,k);}Object.defineProperty(b,"__esModule",{value:!0});b.Eua=void 0;r=a(5163);n=a(22674);d=a(87386);g=a(96687);e=a(37509);f=a(85001);c.prototype.Ik=function(l,h){this.lMa.then(function(k){k.Ik(h,!0,function(m){return l.close(m);});k.oQa(h);l.addEventListener(f.Ra.NMa,function(){l.bH() && k.Cub(h).catch(function(m){(m=m.QU) && l.close(m);});});l.addEventListener(f.Ra.Bn,function(){k.Cla(h).catch(function(m){(m=m.QU) && l.close(m);});});l.addEventListener(f.Ra.$n,function(){k.Cla(h).catch(function(m){(m=m.QU) && l.close(m);});});});};c.prototype.t7=function(l){return this.lMa.then(function(h){h.uwb();return h.t7(l).catch();});};a=c;b.Eua=a;b.Eua=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.kb)),r.__param(1,(0,n.l)(g.gZ))],a);},68272:function(r,b,a){var n,d,g,e;function c(f){this.pKa={};this.Fga={};this.yha=-1;this.FQa=new g.ic(null);this.VMa=new g.ic(null);this.qa=f.fb("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.Tva=void 0;r=a(5163);n=a(22674);d=a(45247);g=a(81734);a=a(87386);c.prototype.Pb=function(f,l,h){var k;k=this;f.forEach(function(m){m.stream.urls.forEach(function(p){k.pKa[p.url]=[m,p.sh];});});this.RCa=l;this.ZYb=h;new PerformanceObserver(function(m){k.bxc(m.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};c.prototype.Uub=function(f){var l,h,k;if(this.RCa){h=this.Efa(f);if(h !== this.yha){for(this.yha=h;0 <= h && !this.Fga[h];)h--;k=Ea(null !== (l=this.Fga[h]) && void 0 !== l?l:[this.RCa,this.ZYb]);l=k.next().value;k=k.next().value;this.qa.debug("Setting time to " + f + ", using metadata from fragment " + h + " for " + ((0,d.vH)(l.track.type) + " track with bitrate ") + (l.stream.bitrate + " from cdn " + k));f=l.Ha[this.yha];h=f.ub;this.VMa.set({stream:l,AR:{startTime:Math.floor(1E3 * h),endTime:Math.floor(1E3 * (h + f.duration))},Ap:k});}}};c.prototype.Efa=function(f){var l,h,k,m,p;l=this.RCa.Ha;f/=1E3;h=0;k=l.length - 1;if(f >= l[k].ub)return k;for(;k >= h;){m=h + Math.floor((k - h) / 2);p=l[m];if(f < p.ub)k=m - 1;else if(f >= p.ub + p.duration)h=m + 1;else return m;}return l.length - 1;};c.prototype.bxc=function(f){var l;l=this;f.filter(function(h){return "video" === h.initiatorType;}).forEach(function(h){var k,m,p;k=h.name.indexOf("&fi=");if(0 < k){m=h.name.substring(0,k);k=Number(h.name.substring(k + 4));if(l.pKa[m]){p=Ea(l.pKa[m]);h=p.next().value;p=p.next().value;m && !Number.isNaN(k) && h && (l.Fga[k] && (l.yha=-1),l.Fga[k]=[h,p],m=h.Ha[k].ub,!1,l.FQa.set(h,{$K:Math.floor(1E3 * m),Ap:p}));}}});};e=c;b.Tva=e;b.Tva=e=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(a.kb))],e);},25050:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t;function c(w,x,z,y,A,B,C,D,E,F,G,J,N,I,M,K,L){var H,O,P;H=this;this.F5=x;this.dA=z;this.Oa=y;this.oj=A;this.Xb=B;this.u4=C;this.$kc=D;this.Uqb=E;this.gna=F;this.zca=G;this.Aa=J;this.PT=N;this.config=I;this.JF=M;this.M=K;this.Mi=L;this.h4=new k.ic(!0);this.Ni=new k.ic(!1);this.sq=new k.ic(!1);this.ended=new k.ic(!1);this.Qca=new k.ic(0);this.Ib=new k.ic(n.wb.og);this.nV=new k.ic(void 0);this.bj=new t.AbortController();this.loaded=this.p7=this.closed=!1;this.yrb=function(Q,S){return function(X){var W,V,fa,ba,ca;W=X.newValue;V=W.Ap;X=W.AR;fa=W.stream;W=Q.value;ba=W.streams.find(function(ia){return ia.bitrate === fa.stream.bitrate;});ca=H.Fa.rh.find(function(ia){return ia.id === V;});H.log.info("Presenting " + ba.type + " request with bitrate " + ba.bitrate + ", track " + (W.trackId + " [" + X.startTime + "..." + X.endTime + "]"));S.set({stream:ba,AR:X,Tc:ca});};};this.Gwb=function(Q,S,X){return function(W){var V,fa;V=Q.value;fa=V.streams.find(function(ba){return ba.bitrate === W.newValue.stream.bitrate;});H.log.info("Streaming " + fa.type + " stream with bitrate " + fa.bitrate + ", track " + V.trackId);S.set(fa,{$K:W.jj.$K,m0:void 0});V=H.Fa.rh.filter(function(ba){return ba.id === W.jj.Ap;})[0];X.set(V);};};this.efb=new Set();this.log=w.fb("HLSVideoPlayer");this.ha=(0,d.createElement)("VIDEO","position:absolute;width:100%;height:100%");this.ha.playsInline=this.config.irb;this.Fa=this.F5(g.yw.index++,K.P,K.id,null !== (O=K.Bb) && void 0 !== O?O:{},this.dA.$F(),this.Oa.$b(),!1,void 0,function(){return H.ov();});this.Fa.mediaTime.set(null !== (P=this.Fa.ao) && void 0 !== P?P:0);this.nP();this.BLb=this.PT.create(this);this.BLb;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.x5a=void 0;n=a(85001);d=a(52569);g=a(13044);e=a(72639);f=a(24735);l=a(36129);h=a(63156);k=a(81734);m=a(5021);p=a(32687);v=a(45266);q=a(3887);u=a(26388);t=a(91176);c.prototype.Uuc=function(){return !!this.ha.canPlayType && ("" !== this.ha.canPlayType("application/vnd.apple.mpegURL") || "" !== this.ha.canPlayType("audio/mpegurl"));};c.prototype.nP=function(){var w;w=this;this.ha.addEventListener("loadedmetadata",function(){w.zb(n.Ra.jmb);w.zb(n.Ra.imb);w.zb(n.Ra.$n);w.zb(n.Ra.Aca);w.zb(n.Ra.Bn);w.zb(n.Ra.zy);});this.ha.addEventListener("error",function(x){x=w.Mi(l.Y.V0a,x);w.close(x);});this.ha.addEventListener("timeupdate",function(){w.ended.set(!1);w.Fa.mediaTime.set(w.ov());w.aDa();w.zb(n.Ra.cr);w.zb(n.Ra.uyb);});this.ha.addEventListener("durationchange",function(){w.zb(n.Ra.rDa);});this.ha.addEventListener("resize",function(){w.zb(n.Ra.uSa);});this.ha.addEventListener("playing",function(){w.aDa();w.sq.set(!1);w.Ni.set(!0);w.ended.set(!1);w.Ib.set(n.wb.yf);});this.ha.addEventListener("pause",function(){w.Ni.set(!1);w.sq.set(!1);w.Ib.set(n.wb.vi);});this.ha.addEventListener("waiting",function(){w.Ib.set(n.wb.og);});this.ha.addEventListener("stalled",function(){w.sq.set(!0);});this.ha.addEventListener("seeking",function(){w.sq.set(!1);w.nV.set(w.Fa.mediaTime.value);w.Ib.set(n.wb.og);});this.ha.addEventListener("seeked",function(){void 0 !== w.nV.value && (w.Fa.qn.eLa(w.nV.value,w.ov()),w.nV.set(void 0));w.Ib.set(w.bH()?n.wb.yf:n.wb.vi);});this.ha.addEventListener("progress",function(){w.zb(n.Ra.Mca);w.Swc();});this.ha.addEventListener("ended",function(){w.Ib.set(n.wb.uu);w.sq.set(!1);w.Ni.set(!1);w.ended.set(!0);});this.ha.addEventListener("volumechange",function(){w.zb(n.Ra.Nzb);w.zb(n.Ra.eob);});this.Ni.addListener(function(){w.zb(n.Ra.NMa);w.zb(n.Ra.sqb);w.zR();});this.Qca.addListener(function(){w.zb(n.Ra.oR);});this.sq.addListener(function(){w.zb(n.Ra.oR);});this.h4.addListener(function(){w.zR();});this.ended.addListener(function(){w.zb(n.Ra.Xdb);});this.Fa.playbackRate.addListener(function(x){w.ha.playbackRate=x.newValue;});};c.prototype.zR=function(){!this.bH() || this.h4.value || this.p7 || this.c$a || (this.p7=!0,this.Fa.tD=this.Aa.qO,this.Uqb.Ik(this,this.Fa));};c.prototype.x0=function(){return this.E5 - (this.Fa.rj.ia(m.pa) + this.Oa.CD.ia(m.pa));};c.prototype.VL=function(){var w;w=this.Fa.lb.HI;return (0,p.dc)(w)?w:this.Fa.rj.ia(m.pa) + this.Oa.CD.ia(m.pa);};c.prototype.DAa=function(){return this.Aa.df.ia(m.pa) - this.VL();};c.prototype.EAa=function(){return this.E5 - this.VL();};c.prototype.Swc=function(){var w;w=this.ha.readyState <= h.wm.QE.HAVE_METADATA?0:this.ha.readyState <= h.wm.QE.HAVE_CURRENT_DATA?.5:1;1 === w && (this.E5=this.Aa.df.ia(m.pa),this.h4.set(!1),this.CEa(n.Ra.loaded));this.Qca.set(w);};c.prototype.aDa=function(){var w;w=this.ov();this.gna.Uub(w);this.zca.Uub(w);};c.prototype.V6=function(){var w;w=this;this.Fa.gf("ats");return this.oj.sr({Ea:this.Fa.Ea,lb:this.Fa.lb,N:this.Fa.P,ux:e.qs.iaa,gg:f.Xo.xs},this.bj).then(function(x){var y;function z(A){var B;B=A;A && A.bn() && !A.am() && (B=null);w.Fa.Gj.set(B);}w.Fa.gf("at");y=w.u4.create({}).fqb(x);w.Fa.U=x;w.Fa.Qc=y;w.ha.audioTracks.addEventListener("addtrack",function(){w.Syb(w.Fa.ca.Mc.value);});w.ha.audioTracks.addEventListener("change",function(){for(var A,B,C={},D=Ea(w.ha.audioTracks),E=D.next();!E.done;(C={PW:C.PW},E=D.next()))(C.PW=E.value,C.PW.enabled && C.PW.label !== (null === (A=w.Fa.ca.Mc.value) || void 0 === A?void 0:A.displayName) && (!1,E=null !== (B=w.Fa.Jj.find((function(F){return function(G){return G.displayName === F.PW.label;};})(C))) && void 0 !== B?B:null,w.Fa.ca.eu(E)));});w.Fa.ca.Mc.addListener(function(A){w.Syb(A.newValue);w.zb(n.Ra.$n);w.zb(n.Ra.zy);});w.ha.textTracks.addEventListener("addtrack",function(){w.Tyb(w.Fa.ca.Ic.value);});w.ha.textTracks.addEventListener("change",function(){var F;for(var A,B,C=w.ha.textTracks,D={},E=0;E < C.length;(D={QW:D.QW},E++))if((D.QW=C[E],"showing" === D.QW.mode && D.QW.label !== (null === (A=w.Fa.ca.Ic.value) || void 0 === A?void 0:A.displayName))){!1;F=null !== (B=w.Fa.li.find((function(G){return function(J){return J.displayName === G.QW.label;};})(D))) && void 0 !== B?B:null;w.Fa.ca.om(F);z(F);}});w.Fa.ca.om(y.a1);z(y.a1);w.Fa.ca.Ic.addListener(function(A){w.Tyb(A.newValue);w.zb(n.Ra.Bn);});return w.$kc.ai(x,function(A){return w.Fa.gf(A);});}).then(function(x){var z,y,A,B,C,D,E,F,G,J,N,I,M,K,L;z=x.kec;y=x.ZSb;x=x.huc;A=x.audio;B=x.Acb;C=x.video;D=w.Fa;E=D.Zh;F=D.ca;G=D.Jj;J=D.Gf;x=D.ao;N=D.Ue;I=D.hf;M=D.qn;D=D.Qc;D.Jj=G.filter(function(H){return A.find(function(O){return O.track.Jg === H.trackId;});});F.c7(D.Tda);F.eu(G.find(function(H){return H.trackId === B;}));D=C[0];K=D.stream;G=A.find(function(H){return H.track.Jg === B;});L=G.stream;w.q3=K.bitrate;w.gna.VMa.addListener(w.yrb(F.wj,N));w.gna.FQa.addListener(w.Gwb(F.wj,J,w.Fa.Tc[u.u.V]));J=y.get(K.Qm).XU.sh;w.gna.Pb(C,D,J);w.zca.VMa.addListener(w.yrb(F.Mc,I));w.zca.FQa.addListener(w.Gwb(F.Mc,E,w.Fa.Tc[u.u.X]));y=y.get(L.Qm).XU.sh;w.zca.Pb(A,G,y);w.ha.src=z;w.ha.currentTime=(null !== x && void 0 !== x?x:0) / 1E3;w.ha.load();M.eLa(0,x && 0 < x?x:1);}).catch(function(x){var z,y;if(x instanceof Error){y=(0,q.Fg)(x);w.log.error("uncaught exception",x,y);}w.close(w.Mi(null !== (z=x.code) && void 0 !== z?z:l.Y.d5a,x));});};c.prototype.Yhb=function(){return [];};c.prototype.Tyb=function(w){var y;for(var x=this.ha.textTracks,z=0;z < x.length;z++){y=x[z];y.label === w.displayName && "showing" !== y.mode && (!1,y.mode="showing");y.label !== w.displayName && "showing" === y.mode && (!1,y.mode="hidden");}};c.prototype.Syb=function(w){for(var x=Ea(this.ha.audioTracks),z=x.next();!z.done;z=x.next())(z=z.value,z.label !== w.displayName || z.enabled || (!1,z.enabled=!0),z.label !== w.displayName && z.enabled && (!1,z.enabled=!1));};c.prototype.kr=function(){};c.prototype.Yl=function(){};c.prototype.ov=function(){return Math.floor(1E3 * this.ha.currentTime);};c.prototype.sfa=function(){return this.ov();};c.prototype.xG=function(){return this.ov();};c.prototype.$L=function(){return Math.floor(1E3 * this.ha.duration);};c.prototype.ahb=function(){return this.M.P;};c.prototype.Dx=function(){return this.Fa.Ea;};c.prototype.khb=function(){var w;return null === (w=this.Fa.U) || void 0 === w?void 0:w.Ca.de;};c.prototype.Lp=function(){return this.ha;};c.prototype.Sp=function(){return null === this.Ei();};c.prototype.bH=function(){return this.Ni.value;};c.prototype.Rx=function(){return !this.Ni.value;};c.prototype.dIa=function(){return this.ha.ended;};c.prototype.Ei=function(){return 1 !== this.Qca.value?{stalled:this.sq.value,progress:this.Qca.value,progressRollback:!1}:null;};c.prototype.getError=function(){var w,x;return null !== (x=null === (w=this.Di) || void 0 === w?void 0:w.S7()) && void 0 !== x?x:null;};c.prototype.Wfb=function(){return 1 === this.ha.buffered.length?1E3 * this.ha.buffered.end(0):null;};c.prototype.eib=function(){return {width:this.ha.videoWidth,height:this.ha.videoHeight};};c.prototype.kIa=function(){return this.ha.muted;};c.prototype.gib=function(){return this.ha.volume;};c.prototype.evb=function(w){this.ha.muted=w;};c.prototype.uvb=function(w){this.ha.volume=w;};c.prototype.addEventListener=function(w,x,z){this.Xb.addListener(w,x,z);};c.prototype.removeEventListener=function(w,x){this.Xb.removeListener(w,x);};c.prototype.load=function(){var w;w=this;this.loaded || (this.loaded=!0,this.JF.g4(function(x){w.Uuc()?x.ta?w.V6():w.close(w.Mi(x.errorCode || l.Y.Iqa,x)):w.close(w.Mi(l.Y.hEb));}));};c.prototype.close=function(w){if(this.closed)return Promise.resolve();this.Fa.mediaTime.set(this.ov());this.aDa();this.Fa.L0=this.sfa();this.closed=!0;this.ha.removeAttribute("src");this.ha.load();null === w || void 0 === w?void 0:w.gvb(!this.h4.value);this.Di=w;this.bj.abort();w && this.zb(n.Ra.error,w.S7());this.zb(n.Ra.closed);return this.Uqb.t7(this.Fa);};c.prototype.play=function(){var w,x;w=this;x=this.ha.play();this.c$a=!1;x && x.then(function(){w.CEa(n.Ra.d$a);}).catch(function(z){w.zb(n.Ra.oR);"NotAllowedError" === z.name && (w.log.warn("Playback is blocked by the browser settings",z),w.c$a=!0,w.ej=!0,w.CEa(n.Ra.Dca,{player:{play:function(){return w.play();}}}));});};c.prototype.zb=function(w,x,z){x=x || ({});x.target=this;this.Xb.Pc(w,x,!z);};c.prototype.CEa=function(w,x){this.efb.has(w) || (this.efb.add(w),this.zb(w,x,void 0));};c.prototype.pause=function(){this.ha.pause();};c.prototype.rqb=function(){this.pause();};c.prototype.seek=function(w){this.ha.currentTime=w / 1E3;};c.prototype.xjb=function(w){this.close(this.Mi(l.Y.wWa,l.T.Kq,w));};c.prototype.aT=function(){return this.Fa.playbackRate.value;};c.prototype.Ila=function(w){this.Fa.playbackRate.set(w);};c.prototype.Ofb=function(){var w;w=this;return this.Fa.Jj.map(function(x){return w.ut(x);});};c.prototype.CGa=function(w){var x;x=this;return this.J2(w).map(function(z){return x.ut(z);});};c.prototype.Nfb=function(){var w;w=this.Fa.ca.Mc.value;return w && this.ut(w);};c.prototype.BGa=function(){var w;w=this.Fa.ca.Ic.value;return w && this.ut(w);};c.prototype.eu=function(w){if((w=this.Q1(w)) && w.Vg)return (this.Fa.ca.eu(w),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.om=function(w){var x,z;x=this;z=this.Fa.li.find(function(y){return x.ut(y) === w;});if(z && z.Vg)return (this.Fa.ca.om(z),this.Fa.Gj.set(z),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.Ugb=function(){var w;return this.B2(this.Fa.Jj,null === (w=this.Fa.U) || void 0 === w?void 0:w.Ca.gnb);};c.prototype.VFa=function(w){var x;return this.B2(this.J2(w),null === (x=this.Fa.U) || void 0 === x?void 0:x.Ca.hnb);};c.prototype.ut=function(w){var x;x=w.oNa=w.oNa || ({trackId:w.trackId,bcp47:w.rg,displayName:w.displayName,trackType:w.Qh,rawTrackType:w.bI,channels:w.channels});this.pIa(w) && (x.isNative=w.isNative,x.surroundFormatLabel=w.A7);this.qIa(w) && (x.isNoneTrack=w.bn(),x.isForcedNarrative=w.am(),x.isImageBased=w.ro);x.subType=w.JO;x.variant=w.variant;return x;};c.prototype.pIa=function(w){return "undefined" !== typeof w.isNative;};c.prototype.qIa=function(w){return "undefined" !== typeof w.bn && "undefined" !== typeof w.am;};c.prototype.Q1=function(w){var x;x=this;return w && this.Fa.Jj.find(function(z){return x.ut(z) === w;});};c.prototype.J2=function(w){var x;w=this.Q1(w) || this.Fa.ca.Mc.value;return null !== (x=null === w || void 0 === w?void 0:w.li) && void 0 !== x?x:[];};c.prototype.B2=function(w,x){var z;z=w.length - 1;if("number" !== typeof x)return z;w=w.findIndex(function(y){return y.Fc > x;});return -1 === w?z:w - 1;};c.prototype.Qma=function(w){this.Fa.lb=(0,v.qia)(this.Fa.lb,w);};c.prototype.wk=function(w){if(w !== this.Fa.L)throw (!1,Error("Unknown segmentId " + w));return this.Fa;};c.prototype.lhb=function(){return this.Fa.lb;};c.prototype.cza=function(){!1;};c.prototype.yA=function(){!1;};c.prototype.qN=function(){!1;};c.prototype.Z2=function(){!1;return Promise.reject();};c.prototype.sGa=function(){return {};};c.prototype.tfa=function(){};c.prototype.Mfb=function(){return {};};c.prototype.oPa=function(){};c.prototype.TV=function(){};c.prototype.dkb=function(){return !1;};c.prototype.mgb=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};c.prototype.pS=function(){!1;return Promise.resolve({success:!0});};c.prototype.aib=function(){!1;};c.prototype.T2=function(){!1;};c.prototype.KV=function(){!1;};c.prototype.LPa=function(){!1;};c.prototype.fmb=function(){!1;};c.prototype.Ffb=function(){!1;return Promise.reject();};c.prototype.Qqb=function(){!1;return Promise.reject();};c.prototype.bsb=function(){!1;return Promise.reject();};c.prototype.dk=function(){!1;return Promise.reject();};c.prototype.LN=function(){!1;};b.x5a=c;},41893:function(r,b,a){var n,d,g,e,f,l;function c(h,k,m,p,v,q,u,t,w,x,z,y,A,B,C){var D;D=this;this.$e=h;this.Ub=k;this.Xb=p;this.fy=q;this.F0=u;this.Gfb=t;this.config=x;this.Mi=y;this.M=A;this.j=z.create(A.P,A.rj,w,B,C,A.Bb,A.id,A.U);this.j.background.set(!0);this.log=m.fb("VideoPlayer",this.j);this.zqb=[];this.wy=[];this.ended=!1;this.nP();this.j.state.addListener(function(E){E.newValue === d.qc.cf && D.zb(d.Ra.vIa,{movieId:A.P});});this.j.lb.yh && (this.lR=v.NWb(this,this.j),this.j.addEventListener(d.da.lO,function(E){E=E.position.segmentId;D.scc !== E && (D.scc=E,D.zb(d.Ra.Fqc,{segmentId:E}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.IYa=void 0;n=a(36129);d=a(85001);g=a(5021);e=a(22365);f=a(87607);l=a(3887);c.prototype.Sp=function(){return this.j.state.value === d.qc.cf;};c.prototype.ahb=function(){return this.j.P;};c.prototype.Dx=function(){return this.j.Ea;};c.prototype.khb=function(){var h;return null === (h=this.j.U) || void 0 === h?void 0:h.Ca.de;};c.prototype.Lp=function(){return this.j.lm;};c.prototype.bH=function(){return this.j.Ni.value;};c.prototype.Rx=function(){return this.j.paused.value;};c.prototype.dIa=function(){return this.ended;};c.prototype.Ei=function(){var h;h=this.j.vAa.value;return h?{networkStalled:!!h.sq,stalled:!!h.sq,progress:h.progress,progressRollback:!!h.Bmc}:null;};c.prototype.getError=function(){var h;h=this.j.Di;return h?h.S7():null;};c.prototype.kr=function(){var h;return null === (h=this.j.kr()) || void 0 === h?void 0:h.AL;};c.prototype.Yl=function(){return this.j.zd;};c.prototype.xG=function(){return this.Yl().fa?this.Yl().bga():this.ov();};c.prototype.ov=function(){return this.j.mediaTime.value;};c.prototype.Wfb=function(){var h;h=(this.sfa() || 0) + this.j.Vfb();return Math.min(h,this.$L());};c.prototype.sfa=function(){return this.Yl().fa?this.Yl().bga():this.j.DG();};c.prototype.$L=function(){return this.Yl().fa?this.Yl().bib():this.j.PC.ia(g.pa);};c.prototype.eib=function(){var h;h=this.j.QI.value;return h?{width:h.width,height:h.height}:null;};c.prototype.tfa=function(){return this.j.tfa();};c.prototype.Ffb=function(h){var k,m;return (null === (k=this.j.U) || void 0 === k?0:k.Sj.XS("generateScreenshots"))?this.Gfb.ef({log:this.log,links:this.j.U.Sj},h):(k=null === (m=this.j.lb) || void 0 === m?void 0:m.hq)?this.Gfb.ef({log:this.log},Object.assign({packageId:k},h)):Promise.reject("Unknown packageId");};c.prototype.mgb=function(){return this.c5b(this.j.Wcb);};c.prototype.Ofb=function(){var h;h=this;return this.j.Jj.map(function(k){return h.ut(k);});};c.prototype.Ugb=function(){var h;return this.B2(this.j.Jj,null === (h=this.j.U) || void 0 === h?void 0:h.Ca.gnb);};c.prototype.CGa=function(h){var k;k=this;return this.J2(h).map(function(m){return k.ut(m);});};c.prototype.VFa=function(h){var k;return this.B2(this.J2(h),null === (k=this.j.U) || void 0 === k?void 0:k.Ca.hnb);};c.prototype.kIa=function(){return this.j.muted.value;};c.prototype.gib=function(){return this.j.volume.value;};c.prototype.Nfb=function(){var h,k;k=(null === (h=this.AA) || void 0 === h?void 0:h.Mc) || this.j.ca.Mc.value;return k && this.ut(k);};c.prototype.BGa=function(){var h,k;k=(null === (h=this.AA) || void 0 === h?void 0:h.H7) || this.j.ca.Ic.value;return k && this.ut(k);};c.prototype.dkb=function(){return this.j.background.value;};c.prototype.evb=function(h){this.j.muted.set(!!h);};c.prototype.uvb=function(h){this.j.volume.set(this.rhc(h));};c.prototype.Ila=function(h){this.j.playbackRate.set(h);};c.prototype.aT=function(){return this.j.playbackRate.value;};c.prototype.eu=function(h){var k,m,p,v,q;k=this;p=this.Q1(h);if(p){if(p.Vg)return (this.j.ca.eu(p),Promise.resolve());v=(h=(null === (m=this.AA) || void 0 === m?void 0:m.H7) || this.j.ca.Ic.value) && this.Dkb(p,h)?h:p.li[0];m=p.trackId;q=v.trackId;this.AA={Mc:p,H7:v};this.zb(d.Ra.$n);this.zb(d.Ra.zy);v !== h && this.zb(d.Ra.Bn);return this.j.bjb(m,q).then(function(u){u=u.Mc;k.AA=void 0;k.j.ca.eu(u);}).catch(function(u){k.AA=void 0;u=k.$e.Fg(u);k.log.error(u);k.close(k.Mi(n.Y.CJ,{Ja:n.T.Vra,tc:u,uM:{c$b:p.trackId,ejb:p.rg,d$b:v.trackId,fjb:v.rg}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.om=function(h){var k,m,p,v;k=this;p=(null === (m=this.AA) || void 0 === m?void 0:m.Mc) || this.j.ca.Mc.value;if(null !== p){v=p.li;m={};for(var q=0;q < v.length;(m={lw:m.lw},q++)){m.lw=v[q];if(!h && null === m.lw)return (this.j.ca.om(null),Promise.resolve());if(this.ut(m.lw) === h){if(m.lw.Vg)return (this.log.info("Setting Timed Text, profile: " + m.lw.profile),this.j.ca.om(m.lw),Promise.resolve());h=p.trackId;v=m.lw.trackId;this.AA={Mc:p,H7:m.lw};this.zb(d.Ra.Bn);return this.j.bjb(h,v).then(function(u){u=u.H7;k.AA=void 0;k.j.ca.om(u);}).catch((function(u){return function(t){k.AA=void 0;t=k.$e.Fg(t);k.log.error(t);k.close(k.Mi(n.Y.CJ,{Ja:n.T.Vra,tc:t,uM:{c$b:p.trackId,ejb:p.rg,d$b:u.lw.trackId,fjb:u.lw.rg}}));};})(m));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.oPa=function(h){this.j.background.set(h);};c.prototype.TV=function(){this.j.TV();};c.prototype.Qma=function(h){this.j.Qma(h);};c.prototype.wk=function(h){return this.j.wk(h);};c.prototype.lhb=function(){return this.j.lb;};c.prototype.yA=function(){this.j.yA();};c.prototype.qN=function(h){this.j.qN(h);};c.prototype.Z2=function(h,k,m){return this.j.Z2(h,k,m);};c.prototype.cza=function(h,k){this.j.addEventListener(h,k,void 0);};c.prototype.addEventListener=function(h,k,m){this.Xb.addListener(h,k,m);};c.prototype.removeEventListener=function(h,k){this.Xb.removeListener(h,k);};c.prototype.LN=function(){};c.prototype.load=function(){var h;h=this;this.loaded || (this.loaded=!0,this.j.load(function(k,m){try{h.zb(d.Ra.jmb,void 0,!0);k.U && (k.U.Ca.Yzb && h.zb(d.Ra.Oyc,k.U.Ca.Yzb,!0),k.U.Ca.Zs && h.zb(d.Ra.Eqc,{segmentMap:k.U.Ca.Zs},!0),k.U.Ca.gRa && (h.wy=k.U.Ca.gRa,h.zb(d.Ra.hRa,{timecodes:h.wy},!0)));m({ta:!0});}catch(p){m({Ja:n.T.Vo,tc:h.$e.Fg(p)});}}));};c.prototype.Yhb=function(){return this.wy;};c.prototype.close=function(h){var k;k=this;this.Pab || (this.Pab=new Promise(function(m){h?k.j.bL(h,m):k.j.close(m);}));return this.Pab;};c.prototype.play=function(){this.j.ej?this.j.fireEvent(d.da.H6):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(d.da.szb)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(d.da.rzb));};c.prototype.rqb=function(){this.load();this.j.paused.value || this.j.paused.set(!0,{EH:!0});};c.prototype.seek=function(h,k,m,p){k=void 0 === k?d.yc.Bu:k;this.j.NSb() && (this.Yl().fa && this.Yl().Jkb(this.Yl().Ltb(h)) && !this.Yl().H3(!0)?this.Yl().wla():this.j.ie?(this.Yl().fa && (h=this.Yl().Ltb(h)),this.j.ie.seek(h,k,m,p)):(this.Yl().fa && (h=this.Yl().RFa(h).ao),this.j.ao=h));};c.prototype.Qqb=function(h){return this.lR?(this.log.trace("Playing a segment",h),this.lR.play(h)):Promise.resolve();};c.prototype.bsb=function(h){return this.lR?(this.log.trace("Queueing a segment",h),this.lR.Bh(h)):Promise.resolve();};c.prototype.dk=function(h,k){return this.lR?(this.log.trace("Updating next segment weights",h,k),this.lR.dk(h,k)):Promise.resolve();};c.prototype.T2=function(){var h;h=this.j.Bq.T2();return {bounds:h.p0,margins:h.Fv,size:h.size,visibility:h.visibility};};c.prototype.KV=function(h){var k,m,p;k=h.bounds;m=h.margins;p=h.size;h=h.visibility;this.j.M7 && (k && this.j.M7.FPa(k),m && this.j.M7.GPa(m),"boolean" === typeof h && this.j.M7.HPa(h));this.j.Bq && p && this.j.Bq.gsc(p);};c.prototype.LPa=function(h){this.j.No=h;};c.prototype.aib=function(h){return this.j.pE && this.j.pE.H5b(h) || null;};c.prototype.Mfb=function(){return this.$e.kN({playerver:this.config.version,jssid:this.config.Ubc,groupName:this.config.K5b(),xid:this.j.Ea,pbi:this.j.index},this.config.Bkc,{prefix:"pi_"});};c.prototype.xjb=function(h){this.j.Gd(n.Y.wWa,n.T.Kq,h);};c.prototype.fmb=function(h,k,m,p){if(!this.Ub.q9a(h))throw Error("invalid url");this.zqb.push({url:h,name:k,FQb:m,options:p});this.Lrb();};c.prototype.sGa=function(){var h,k,m,p,v,q,u,t;h={};k=this.j.p7;try{if((this.j.Di && (h.errorCode=this.j.Di.hea,h.errorType=k?"endplay":"startplay"),h.playdelay=(0,l.xh)(this.j.x0()),h.xid=this.j.Ea,this.j.U && this.Ub.Js(this.j.U.Ca.hq) && (h.packageId=Number(this.j.U.Ca.hq)),h.auth=this.j.s4b(),k)){h.totaltime=this.j.qn?this.Ip(this.j.qn.tt("content")):0;h.abrdel=this.j.qn?this.j.qn.kFa():0;m=this.j.ie;p=m?m.bM():null;this.Ub.Im(p) && (h.totdfr=p);p=m?m.o2():null;this.Ub.Im(p) && (h.totcfr=p);v=m?m.V5b():null;v && (h.rbfrs_decoder=v.Oda,h.rbfrs_network=v.Jia);h.rbfrs_delay=this.j.qn?this.j.qn.XHa:0;h.init_vbr=this.j.Kga;q=this.bT();this.Ub.YR(q) && (h.pdltime=q);u=this.j.Ue.value;t=u && u.stream;t && (h.vbr=t.bitrate,h.vdlid=t.Nb);h.bufferedTime=this.j.Vfb();}}catch(w){this.log.error("error capturing session summary",w);}return h;};c.prototype.pS=function(h){this.j.lb.Ho && (this.j.lb.Ho.userEngageAction=1);return this.Ub.Im(this.j.mediaTime.value)?(h=Object.assign(Object.assign({},this.fy.create(this.j)),{action:h}),this.F0(f.ps.pS).ef({log:this.log,links:this.j.U.Sj},h).then(function(){return {success:!0};}).catch(function(k){return {success:!1,errorCode:k.code,errorSubCode:k.subCode,errorExternalCode:k.extCode,errorData:k.data,errorDetails:k.details};})):Promise.resolve({success:!1});};c.prototype.c5b=function(h){return {register:h.register.bind(h),notifyUpdated:h.Nob.bind(h),getModel:h.D6b.bind(h),getGroups:h.t2.bind(h),addEventListener:h.addEventListener.bind(h),removeEventListener:h.removeEventListener.bind(h),getTime:h.getTime.bind(h)};};c.prototype.ut=function(h){var k;k=h.oNa=h.oNa || ({trackId:h.trackId,bcp47:h.rg,displayName:h.displayName,trackType:h.Qh,rawTrackType:h.bI,channels:h.channels});this.pIa(h) && (k.isNative=h.isNative,k.surroundFormatLabel=h.A7);this.qIa(h) && (k.isNoneTrack=h.bn(),k.isForcedNarrative=h.am(),k.isImageBased=h.ro);k.subType=h.JO;k.variant=h.variant;return k;};c.prototype.pIa=function(h){return "undefined" !== typeof h.isNative;};c.prototype.qIa=function(h){return "undefined" !== typeof h.bn && "undefined" !== typeof h.am;};c.prototype.Q1=function(h){var k;k=this;return h && this.j.Jj.find(function(m){return k.ut(m) === h;});};c.prototype.J2=function(h){var k,m;h=this.Q1(h) || (null === (k=this.AA) || void 0 === k?void 0:k.Mc) || this.j.ca.Mc.value;return null !== (m=null === h || void 0 === h?void 0:h.li) && void 0 !== m?m:[];};c.prototype.B2=function(h,k){var m;m=h.length - 1;if("number" !== typeof k)return m;h=h.findIndex(function(p){return p.Fc > k;});return -1 === h?m:h - 1;};c.prototype.Dkb=function(h,k){return 0 <= h.li.indexOf(k);};c.prototype.rhc=function(h){return 0 <= h?1 >= h?h:1:0;};c.prototype.Ip=function(h){return this.Ub.Im(h)?(h / 1E3).toFixed(0):"";};c.prototype.zb=function(h,k,m){k=k || ({});k.target=this;this.Xb.Pc(h,k,!m);};c.prototype.nP=function(){var h;h=this;this.j.addEventListener(d.da.aRa,function(){h.zb(d.Ra.cr);});this.j.QI.addListener(function(){h.zb(d.Ra.uSa);});this.j.addEventListener(d.da.vyb,function(){h.zb(d.Ra.uyb);});this.j.addEventListener(d.da.D4,function(){h.zb(d.Ra.Mca);});this.j.addEventListener(d.da.sl,function(){h.zb(d.Ra.Mca);});this.j.addEventListener(d.da.nT,function(k){h.zb(d.Ra.nT,{errorCode:k});});this.j.addEventListener(d.da.Uza,function(){h.zb(d.Ra.d$a);});this.j.addEventListener(d.da.ej,function(k){h.zb(d.Ra.Dca,k);});this.j.addEventListener(d.da.Pxb,function(){h.zb(d.Ra.Aca);h.zb(d.Ra.zy);});this.j.addEventListener(d.da.amb,function(k){var m,p;if(h.Yl().fa && h.M.P === k.N){m=k.J5;if(void 0 !== m){p="execute" === k.action?"ending":"prefetch";h.wy=h.wy.filter(function(v){return v.type !== p;});h.wy.push({type:p,startOffsetMs:m,endOffsetMs:m});h.zb(d.Ra.hRa,{timecodes:h.wy},!0);}}});this.j.Ni.addListener(function(){h.zb(d.Ra.NMa);});this.j.paused.addListener(function(){h.zb(d.Ra.sqb);});this.j.muted.addListener(function(){h.zb(d.Ra.eob);});this.j.volume.addListener(function(){h.zb(d.Ra.Nzb);});this.j.Ib.addListener(function(){h.Ayb();});this.j.state.addListener(function(){h.Ayb();});this.j.vAa.addListener(function(k){h.Fdc || h.j.state.value != d.qc.cf || k.newValue || (h.Fdc=!0,h.zb(d.Ra.loaded),setTimeout(function(){h.log.debug.bind(h.log,"summary ",h.sGa());}));h.zb(d.Ra.oR);});this.j.ca.Mc.addListener(function(){h.zb(d.Ra.$n);h.zb(d.Ra.zy);setTimeout(function(){var k,m;k=h.j.ca.Mc.value;m=h.j.ca.Ic.value;null === k || null === m || h.Dkb(k,m) || (h.log.info("Changing timed text track to match audio track"),h.j.ca.om(k.li[0]));},0);});this.j.ca.Ic.addListener(function(k){k.oldValue && k.newValue && k.oldValue.trackId == k.newValue.trackId || h.zb(d.Ra.Bn);});this.j.addEventListener(d.da.zy,function(){h.zb(d.Ra.zy);});this.j.addEventListener(d.da.X7,function(){h.zb(d.Ra.X7);});this.j.state.addListener(function(k){switch(k.newValue){case d.qc.cf:h.zb(d.Ra.rDa);h.zb(d.Ra.uSa);h.zb(d.Ra.Aca);h.zb(d.Ra.zy);h.zb(d.Ra.imb);h.Lrb();h.Ryc();break;case d.qc.CLOSING:h.j.Di && h.zb(d.Ra.Vjb,h.j.Di);break;case d.qc.CLOSED:(h.zb(d.Ra.closed),h.Xb.Sg());}});this.j.addEventListener(d.da.kH,function(){h.zb(d.Ra.kH);h.zb(d.Ra.cr);h.zb(d.Ra.Mca);h.zb(d.Ra.rDa);});};c.prototype.Ryc=function(){var h,k;h=this;this.j.Bq.addEventListener("showsubtitle",function(m){h.zb(d.Ra.VPa,m,!0);});this.j.Bq.addEventListener("removesubtitle",function(m){h.zb(d.Ra.RNa,m,!0);});k=this.j.kr();k.Zn.addListener(function(){k.zDa && h.zb(d.Ra.WOb);});};c.prototype.Lrb=function(){if(this.j.state.value == d.qc.cf){for(var h,k,m;k=this.zqb.shift();)(h=this.j.Bq.Rya(k.url,k.name,k.options),k.FQb && (m=h));m && this.j.ca.om(m);}};c.prototype.Ayb=function(){var h;h=this.j.state.value == d.qc.cf && this.j.Ib.value == d.wb.uu;this.ended !== h && (this.ended=h,this.j.MK("Ended changed: " + h),(h || this.j.state.value === d.qc.CLOSING) && this.zb(d.Ra.Xdb));};c.prototype.bT=function(){var h,k;try{h=/playercore.*js/;k=e.Qy.getEntriesByType("resource").filter(function(m){return null !== h.exec(m.name);});if(k && 0 < k.length)return JSON.stringify(Math.round(k[0].duration));}catch(m){}};b.IYa=c;},52357:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A,B,C,D,E,F,G,J;function c(N){this.Nc=N;}Object.defineProperty(b,"__esModule",{value:!0});b.Dwa=void 0;r=a(5163);n=a(22674);d=a(71501);g=a(74870);e=a(42207);f=a(87386);l=a(15160);h=a(2911);k=a(41106);m=a(41893);p=a(32979);v=a(87607);q=a(95738);u=a(25050);t=a(61861);w=a(62665);x=a(81918);z=a(49745);y=a(37104);A=a(77764);B=a(4203);C=a(44376);D=a(47500);E=a(30869);F=a(78029);G=a(91825);J=a(11479);c.prototype.KR=function(N,I,M,K,L,H){return this.Nc.get(B.uc)().Uma?new u.x5a(this.Nc.get(f.kb),this.Nc.get(t.zua),this.Nc.get(w.LB),this.Nc.get(x.fd),this.Nc.get(z.FJ),this.Nc.get(l.Zpa),this.Nc.get(y.jsa),this.Nc.get(A.CXa),this.Nc.get(C.$1a),this.Nc.get(D.Uva),this.Nc.get(D.Uva),this.Nc.get(E.hh),this.Nc.get(G.OY),this.Nc.get(F.tqa),this.Nc.get(J.xj),K,M):new m.IYa(this.Nc.get(g.Wi),this.Nc.get(e.Eh),this.Nc.get(f.kb),this.Nc.get(l.Zpa),this.Nc.get(h.Hva),this.Nc.get(p.Yta),this.Nc.get(v.Xpa),this.Nc.get(q.l1a),this.Nc.get(k.QVa),N,I,M,K,L,H);};a=c;b.Dwa=a;b.Dwa=a=r.__decorate([(0,n.W)(),r.__param(0,(0,n.l)(d.GYa))],a);},35558:function(r,b,a){r.exports={uIb:a(81198),xAc:a(52915)};},52915:function(r,b,a){function c(d){this.data=d;this.right=this.left=null;}function n(d){this.Mf=null;this.Hw=d;this.size=0;}b=a(61161);c.prototype.ci=function(d){return d?this.right:this.left;};c.prototype.fu=function(d,g){d?this.right=g:this.left=g;};n.prototype=new b();n.prototype.yr=function(d){if(null === this.Mf)(this.Mf=new c(d),this.size++);else for(var g=0,e=null,f=this.Mf;;){if(null === f){f=new c(d);e.fu(g,f);ret=!0;this.size++;break;}if(0 === this.Hw(f.data,d))break;g=0 > this.Hw(f.data,d);e=f;f=f.ci(g);}};n.prototype.remove=function(d){var g,e,k;if(null === this.Mf)return !1;g=new c(void 0);e=g;e.right=this.Mf;for(var f=null,l=null,h=1;null !== e.ci(h);){f=e;e=e.ci(h);k=this.Hw(d,e.data);h=0 < k;0 === k && (l=e);}return null !== l?(l.data=e.data,f.fu(f.right === e,e.ci(null === e.left)),this.Mf=g.right,this.size--,!0):!1;};r.exports=n;},81198:function(r,b,a){function c(f){this.data=f;this.right=this.left=null;this.red=!0;}function n(f){this.Mf=null;this.Hw=f;this.size=0;}function d(f){return null !== f && f.red;}function g(f,l){var h;h=f.ci(!l);f.fu(!l,h.ci(l));h.fu(l,f);f.red=!0;h.red=!1;return h;}function e(f,l){f.fu(!l,g(f.ci(!l),!l));return g(f,l);}b=a(61161);c.prototype.ci=function(f){return f?this.right:this.left;};c.prototype.fu=function(f,l){f?this.right=l:this.left=l;};n.prototype=new b();n.prototype.yr=function(f){var l,h,k,m,p,v,q,u;if(null === this.Mf)(this.Mf=new c(f),this.size++);else {l=new c(void 0);h=0;k=0;m=null;p=l;v=null;q=this.Mf;for(p.right=this.Mf;;){null === q?(q=new c(f),v.fu(h,q),this.size++):d(q.left) && d(q.right) && (q.red=!0,q.left.red=!1,q.right.red=!1);if(d(q) && d(v)){u=p.right === m;q === v.ci(k)?p.fu(u,g(m,!k)):p.fu(u,e(m,!k));}u=this.Hw(q.data,f);if(0 === u)break;k=h;h=0 > u;null !== m && (p=m);m=v;v=q;q=q.ci(h);}this.Mf=l.right;}this.Mf.red=!1;};n.prototype.remove=function(f){var l,h,q,u,t;if(null === this.Mf)return !1;l=new c(void 0);h=l;h.right=this.Mf;for(var k=null,m,p=null,v=1;null !== h.ci(v);){q=v;m=k;k=h;h=h.ci(v);u=this.Hw(f,h.data);v=0 < u;0 === u && (p=h);if(!d(h) && !d(h.ci(v)))if(d(h.ci(!v)))(m=g(h,v),k.fu(q,m),k=m);else if(!d(h.ci(!v)) && (u=k.ci(!q),null !== u))if(d(u.ci(!q)) || d(u.ci(q))){t=m.right === k;d(u.ci(q))?m.fu(t,e(k,q)):d(u.ci(!q)) && m.fu(t,g(k,q));q=m.ci(t);q.red=!0;h.red=!0;q.left.red=!1;q.right.red=!1;}else (k.red=!1,u.red=!0,h.red=!0);}null !== p && (p.data=h.data,k.fu(k.right === h,h.ci(null === h.left)),this.size--);this.Mf=l.right;null !== this.Mf && (this.Mf.red=!1);return null !== p;};r.exports=n;},61161:function(r){function b(){}function a(c){this.f8a=c;this.zs=[];this.kh=null;}b.prototype.clear=function(){this.Mf=null;this.size=0;};b.prototype.find=function(c){var d;for(var n=this.Mf;null !== n;){d=this.Hw(c,n.data);if(0 === d)return n.data;n=n.ci(0 < d);}return null;};b.prototype.lowerBound=function(c){var e;for(var n=this.Mf,d=this.iterator(),g=this.Hw;null !== n;){e=g(c,n.data);if(0 === e)return (d.kh=n,d);d.zs.push(n);n=n.ci(0 < e);}for(e=d.zs.length - 1;0 <= e;--e)if((n=d.zs[e],0 > g(c,n.data)))return (d.kh=n,d.zs.length=e,d);d.zs.length=0;return d;};b.prototype.upperBound=function(c){for(var n=this.lowerBound(c),d=this.Hw;null !== n.data() && 0 === d(n.data(),c);)n.next();return n;};b.prototype.min=function(){var c;c=this.Mf;if(null === c)return null;for(;null !== c.left;)c=c.left;return c.data;};b.prototype.max=function(){var c;c=this.Mf;if(null === c)return null;for(;null !== c.right;)c=c.right;return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.kt=function(c){for(var n=this.iterator(),d;null !== (d=n.next());)c(d);};a.prototype.data=function(){return null !== this.kh?this.kh.data:null;};a.prototype.next=function(){var c;if(null === this.kh){c=this.f8a.Mf;null !== c && this.h7a(c);}else if(null === this.kh.right){do if((c=this.kh,this.zs.length))this.kh=this.zs.pop();else {this.kh=null;break;}while(this.kh.right === c);}else (this.zs.push(this.kh),this.h7a(this.kh.right));return null !== this.kh?this.kh.data:null;};a.prototype.VH=function(){var c;if(null === this.kh){c=this.f8a.Mf;null !== c && this.c7a(c);}else if(null === this.kh.left){do if((c=this.kh,this.zs.length))this.kh=this.zs.pop();else {this.kh=null;break;}while(this.kh.left === c);}else (this.zs.push(this.kh),this.c7a(this.kh.left));return null !== this.kh?this.kh.data:null;};a.prototype.h7a=function(c){for(;null !== c.left;)(this.zs.push(c),c=c.left);this.kh=c;};a.prototype.c7a=function(c){for(;null !== c.right;)(this.zs.push(c),c=c.right);this.kh=c;};r.exports=b;},62680:function(r,b,a){var c,n,d;c=a(67286);n=a(89429);d=n(c("String.prototype.indexOf"));r.exports=function(g,e){e=c(g,!!e);return "function" === typeof e && -1 < d(g,".prototype.")?n(e):e;};},89429:function(r,b,a){var n,d,g,e,f,l,h;function c(){return e(n,d,arguments);}n=a(4090);b=a(67286);d=b("%Function.prototype.apply%");g=b("%Function.prototype.call%");e=b("%Reflect.apply%",!0) || n.call(g,d);f=b("%Object.getOwnPropertyDescriptor%",!0);l=b("%Object.defineProperty%",!0);h=b("%Math.max%");if(l)try{l({},"a",{value:1});}catch(k){l=null;}r.exports=function(k){var m;m=e(n,g,arguments);f && l && f(m,"length").configurable && l(m,"length",{value:1 + h(0,k.length - (arguments.length - 1))});return m;};l?l(r.exports,"apply",{value:c}):r.exports.apply=c;},75195:function(r,b,a){var c,n,d,g,e;b=a(81181)();c=a(67286);n=b && c("%Object.defineProperty%",!0);d=c("%SyntaxError%");g=c("%TypeError%");e=a(50326);r.exports=function(f,l,h){var k,m,p,v,q;if(!f || "object" !== typeof f && "function" !== typeof f)throw new g("`obj` must be an object or a function`");if("string" !== typeof l && "symbol" !== typeof l)throw new g("`property` must be a string or a symbol`");if(3 < arguments.length && "boolean" !== typeof arguments[3] && null !== arguments[3])throw new g("`nonEnumerable`, if provided, must be a boolean or null");if(4 < arguments.length && "boolean" !== typeof arguments[4] && null !== arguments[4])throw new g("`nonWritable`, if provided, must be a boolean or null");if(5 < arguments.length && "boolean" !== typeof arguments[5] && null !== arguments[5])throw new g("`nonConfigurable`, if provided, must be a boolean or null");if(6 < arguments.length && "boolean" !== typeof arguments[6])throw new g("`loose`, if provided, must be a boolean");k=3 < arguments.length?arguments[3]:null;m=4 < arguments.length?arguments[4]:null;p=5 < arguments.length?arguments[5]:null;v=6 < arguments.length?arguments[6]:!1;q=!!e && e(f,l);if(n)n(f,l,{configurable:null === p && q?q.configurable:!p,enumerable:null === k && q?q.enumerable:!k,value:h,writable:null === m && q?q.writable:!m});else if(v || !k && !m && !p)f[l]=h;else throw new d("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");};},14926:function(r,b,a){var c,n,d,g,e,f;c=a(33464);n="function" === typeof Symbol && "symbol" === typeof Symbol("foo");d=Object.prototype.toString;g=Array.prototype.concat;e=a(75195);f=a(81181)();r.exports=function(l,h){var k,m,v,q,u,t;k=2 < arguments.length?arguments[2]:{};m=c(h);n && (m=g.call(m,Object.getOwnPropertySymbols(h)));for(var p=0;p < m.length;p+=1)a:{v=l;q=m[p];u=h[m[p]];t=k[m[p]];if((q in v))if(!0 === t){if(v[q] === u)break a;}else if("function" !== typeof t || "[object Function]" !== d.call(t) || !t())break a;f?e(v,q,u,!0):e(v,q,u);}};},5885:function(r,b,a){var c,n,d,g,e;c="function" === typeof Symbol && "symbol" === typeof Symbol.iterator;n=a(53919);d=a(9680);g=a(54277);e=a(88705);r.exports=function(f){var l,h,k;if(n(f))return f;l="default";1 < arguments.length && (arguments[1] === String?l="string":arguments[1] === Number && (l="number"));if(c)if(Symbol.toPrimitive){h=Symbol.toPrimitive;k=f[h];if(null !== k && "undefined" !== typeof k){if(!d(k))throw new TypeError(k + " returned for property " + h + " of object " + f + " is not a function");h=k;}else h=void 0;}else e(f) && (h=Symbol.prototype.valueOf);if("undefined" !== typeof h){l=h.call(f,l);if(n(l))return l;throw new TypeError("unable to convert exotic object to primitive");}"default" === l && (g(f) || e(f)) && (l="string");a:{l="default" === l?"number":l;if("undefined" === typeof f || null === f)throw new TypeError("Cannot call method on " + f);if("string" !== typeof l || "number" !== l && "string" !== l)throw new TypeError('hint must be "string" or "number"');l="string" === l?["toString","valueOf"]:["valueOf","toString"];for(h=0;h < l.length;++h)if((k=f[l[h]],d(k) && (k=k.call(f),n(k))))break a;throw new TypeError("No default value");}return k;};},53919:function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},22699:function(r){var l,h,k,m;function b(){b.Pb.call(this);}function a(p){if("function" !== typeof p)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof p);}function c(p,v,q,u){var t,w;a(q);t=p.Zb;if(void 0 === t)(t=p.Zb=Object.create(null),p.hK=0);else {void 0 !== t.Cgc && (p.emit("newListener",v,q.listener?q.listener:q),t=p.Zb);w=t[v];}void 0 === w?(t[v]=q,++p.hK):("function" === typeof w?w=t[v]=u?[q,w]:[w,q]:u?w.unshift(q):w.push(q),q=void 0 === p.Pw?b.QCa:p.Pw,0 < q && w.length > q && !w.zSa && (w.zSa=!0,q=Error("Possible EventEmitter memory leak detected. " + w.length + " " + String(v) + " listeners added. Use emitter.setMaxListeners() to increase limit"),q.name="MaxListenersExceededWarning",q.Mz=p,q.type=v,q.count=w.length,console && console.warn && console.warn(q)));return p;}function n(){if(!this.dfb)return (this.target.removeListener(this.type,this.iAb),this.dfb=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function d(p,v,q){p={dfb:!1,iAb:void 0,target:p,type:v,listener:q};v=n.bind(p);v.listener=q;return p.iAb=v;}function g(p){var v;v=this.Zb;if(void 0 !== v){p=v[p];if("function" === typeof p)return 1;if(void 0 !== p)return p.length;}return 0;}function e(p,v,q){"function" === typeof p.on && f(p,"error",v,q);}function f(p,v,q,u){if("function" === typeof p.on){if(u.once)p.once(v,q);else p.on(v,q);}else if("function" === typeof p.addEventListener)p.addEventListener(v,function x(w){u.once && p.removeEventListener(v,x);q(w);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof p);}l="object" === typeof Reflect?Reflect:null;h=l && "function" === typeof l.apply?l.apply:function(p,v,q){return Function.prototype.apply.call(p,v,q);};k=Number.isNaN || (function(p){return p !== p;});r.exports=b;r.exports.once=function(p,v){return new Promise(function(q,u){function t(x){p.removeListener(v,w);u(x);}function w(){"function" === typeof p.removeListener && p.removeListener("error",t);q([].slice.call(arguments));}f(p,v,w,{once:!0});"error" !== v && e(p,t,{once:!0});});};b.EventEmitter=b;b.prototype.Zb=void 0;b.prototype.hK=0;b.prototype.Pw=void 0;m=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return m;},set:function(p){if("number" !== typeof p || 0 > p || k(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + p + ".");m=p;}});b.Pb=function(){if(void 0 === this.Zb || this.Zb === Object.getPrototypeOf(this).Zb)(this.Zb=Object.create(null),this.hK=0);this.Pw=this.Pw || void 0;};b.prototype.setMaxListeners=function(p){if("number" !== typeof p || 0 > p || k(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + p + ".");this.Pw=p;return this;};b.prototype.emit=function(p){var u,t;for(var v=[],q=1;q < arguments.length;q++)v.push(arguments[q]);u="error" === p;q=this.Zb;if(void 0 !== q)u=u && void 0 === q.error;else if(!u)return !1;if(u){0 < v.length && (t=v[0]);if(t instanceof Error)throw t;v=Error("Unhandled error." + (t?" (" + t.message + ")":""));v.context=t;throw v;}q=q[p];if(void 0 === q)return !1;if("function" === typeof q)h(q,this,v);else {t=q.length;u=Array(t);for(var w=0;w < t;++w)u[w]=q[w];for(q=0;q < t;++q)h(u[q],this,v);}return !0;};b.prototype.addListener=function(p,v){return c(this,p,v,!1);};b.prototype.on=b.prototype.addListener;b.prototype.tka=function(p,v){c(this,p,v,!0);};b.prototype.once=function(p,v){a(v);this.on(p,d(this,p,v));return this;};b.prototype.xrb=function(p,v){a(v);this.tka(p,d(this,p,v));};b.prototype.removeListener=function(p,v){var q,u,t,w,x;a(v);u=this.Zb;if(void 0 === u)return this;t=u[p];if(void 0 === t)return this;if(t === v || t.listener === v)0 === --this.hK?this.Zb=Object.create(null):(delete u[p],u.removeListener && this.emit("removeListener",p,t.listener || v));else if("function" !== typeof t){w=-1;for(q=t.length - 1;0 <= q;q--)if(t[q] === v || t[q].listener === v){x=t[q].listener;w=q;break;}if(0 > w)return this;if(0 === w)t.shift();else {for(;w + 1 < t.length;w++)t[w]=t[w + 1];t.pop();}1 === t.length && (u[p]=t[0]);void 0 !== u.removeListener && this.emit("removeListener",p,x || v);}return this;};b.prototype.yo=b.prototype.removeListener;b.prototype.removeAllListeners=function(p){var v,q,u;v=this.Zb;if(void 0 === v)return this;if(void 0 === v.removeListener)return (0 === arguments.length?(this.Zb=Object.create(null),this.hK=0):void 0 !== v[p] && (0 === --this.hK?this.Zb=Object.create(null):delete v[p]),this);if(0 === arguments.length){q=Object.keys(v);for(v=0;v < q.length;++v){u=q[v];"removeListener" !== u && this.removeAllListeners(u);}this.removeAllListeners("removeListener");this.Zb=Object.create(null);this.hK=0;return this;}q=v[p];if("function" === typeof q)this.removeListener(p,q);else if(void 0 !== q)for(v=q.length - 1;0 <= v;v--)this.removeListener(p,q[v]);return this;};b.prototype.listeners=function(p){var v;v=this.Zb;if(void 0 === v)p=[];else if((p=v[p],void 0 === p))p=[];else if("function" === typeof p)p=[p.listener || p];else {v=Array(p.length);for(var q=0;q < v.length;++q)v[q]=p[q].listener || p[q];p=v;}return p;};b.listenerCount=function(p,v){return "function" === typeof p.listenerCount?p.listenerCount(v):g.call(p,v);};b.prototype.listenerCount=g;},37795:function(r){var b,a;b=Array.prototype.slice;a=Object.prototype.toString;r.exports=function(c){var n;n=this;if("function" !== typeof n || "[object Function]" !== a.call(n))throw new TypeError("Function.prototype.bind called on incompatible " + n);for(var d=b.call(arguments,1),g,e=Math.max(0,n.length - d.length),f=[],l=0;l < e;l++)f.push("$" + l);g=Function("binder","return function (" + f.join(",") + "){ return binder.apply(this,arguments); }")(function(){var h;if(this instanceof g){h=n.apply(this,d.concat(b.call(arguments)));return Object(h) === h?h:this;}return n.apply(c,d.concat(b.call(arguments)));});n.prototype && (e=function(){},e.prototype=n.prototype,g.prototype=new e(),e.prototype=null);return g;};},4090:function(r,b,a){b=a(37795);r.exports=Function.prototype.bind || b;},67286:function(r,b,a){var g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A,B,C;function c(D){var E,F,G;E=y(D,0,1);F=y(D,-1);if("%" === E && "%" !== F)throw new g("invalid intrinsic syntax, expected closing `%`");if("%" === F && "%" !== E)throw new g("invalid intrinsic syntax, expected opening `%`");G=[];z(D,B,function(J,N,I,M){G[G.length]=I?z(M,C,"$1"):N || J;});return G;}function n(){throw new f();}function d(D){try{return e('"use strict"; return (' + D + ").constructor;")();}catch(E){}}g=SyntaxError;e=Function;f=TypeError;l=Object.getOwnPropertyDescriptor;if(l)try{l({},"");}catch(D){l=null;}b=l?(function(){try{return (arguments.callee,n);}catch(D){try{return l(arguments,"callee").get;}catch(E){return n;}}})():n;h=a(32636)();k=a(18486)();m=Object.getPrototypeOf || (k?function(D){return D.__proto__;}:null);p={};k="undefined" !== typeof Uint8Array && m?m(Uint8Array):void 0;v={"%AggregateError%":"undefined" === typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined" === typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":h && m?m([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined" === typeof Atomics?void 0:Atomics,"%BigInt%":"undefined" === typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined" === typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined" === typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined" === typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined" === typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined" === typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined" === typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":e,"%GeneratorFunction%":p,"%Int8Array%":"undefined" === typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined" === typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined" === typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h && m?m(m([][Symbol.iterator]())):void 0,"%JSON%":"object" === typeof JSON?JSON:void 0,"%Map%":"undefined" === typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined" !== typeof Map && h && m?m(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined" === typeof Promise?void 0:Promise,"%Proxy%":"undefined" === typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined" === typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined" === typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined" !== typeof Set && h && m?m(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined" === typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h && m?m(("")[Symbol.iterator]()):void 0,"%Symbol%":h?Symbol:void 0,"%SyntaxError%":g,"%ThrowTypeError%":b,"%TypedArray%":k,"%TypeError%":f,"%Uint8Array%":"undefined" === typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined" === typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined" === typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined" === typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined" === typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined" === typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined" === typeof WeakSet?void 0:WeakSet};if(m)try{(null).error;}catch(D){b=m(m(D));v["%Error.prototype%"]=b;}q=function F(E){var G,J;if("%AsyncFunction%" === E)G=d("async function () {}");else if("%GeneratorFunction%" === E)G=d("function* () {}");else if("%AsyncGeneratorFunction%" === E)G=d("async function* () {}");else if("%AsyncGenerator%" === E){J=F("%AsyncGeneratorFunction%");J && (G=J.prototype);}else "%AsyncIteratorPrototype%" === E && (J=F("%AsyncGenerator%")) && m && (G=m(J.prototype));return v[E]=G;};u={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};b=a(4090);t=a(23198);w=b.call(Function.call,Array.prototype.concat);x=b.call(Function.apply,Array.prototype.splice);z=b.call(Function.call,String.prototype.replace);y=b.call(Function.call,String.prototype.slice);A=b.call(Function.call,RegExp.prototype.exec);B=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;C=/\\(\\)?/g;r.exports=function(E,F){var G,J,N,I,M,K,L,H,O;if("string" !== typeof E || 0 === E.length)throw new f("intrinsic name must be a non-empty string");if(1 < arguments.length && "boolean" !== typeof F)throw new f('"allowMissing" argument must be a boolean');if(null === A(/^%?[^%]*%?$/,E))throw new g("`%` may not be present anywhere but at the beginning and end of the intrinsic name");G=c(E);J=0 < G.length?G[0]:"";N="%" + J + "%";I=N;if(t(u,I)){M=u[I];I="%" + M[0] + "%";}if(t(v,I)){K=v[I];K === p && (K=q(I));if("undefined" === typeof K && !F)throw new f("intrinsic " + N + " exists, but is not available. Please file an issue!");}else throw new g("intrinsic " + N + " does not exist!");N=K;I=!1;M && (J=M[0],x(G,w([0,1],M)));M=1;for(K=!0;M < G.length;M+=1){L=G[M];H=y(L,0,1);O=y(L,-1);if(('"' === H || "'" === H || "`" === H || '"' === O || "'" === O || "`" === O) && H !== O)throw new g("property names with quotes must have matching quotes");"constructor" !== L && K || (I=!0);J+="." + L;H="%" + J + "%";if(t(v,H))N=v[H];else if(null != N){if(!((L in N))){if(!F)throw new f("base intrinsic for " + E + " exists, but the property is not available.");return;}l && M + 1 >= G.length?(O=l(N,L),N=(K=!!O) && ("get" in O) && !(("originalValue" in O.get))?O.get:N[L]):(K=t(N,L),N=N[L]);K && !I && (v[H]=N);}}return N;};},50326:function(r,b,a){if(b=a(67286)("%Object.getOwnPropertyDescriptor%",!0))try{b([],"length");}catch(c){b=null;}r.exports=b;},81181:function(r,b,a){var n;function c(){if(n)try{return (n({},"a",{value:1}),!0);}catch(d){}return !1;}n=a(67286)("%Object.defineProperty%",!0);c.j9b=function(){if(!c())return null;try{return 1 !== n([],"length",{value:1}).length;}catch(d){return !0;}};r.exports=c;},18486:function(r){var b,a;b={ofb:{}};a=Object;r.exports=function(){return ({__proto__:b}).ofb === b.ofb && !(({__proto__:null}) instanceof a);};},32636:function(r,b,a){var c,n;c="undefined" !== typeof Symbol && Symbol;n=a(66679);r.exports=function(){return "function" !== typeof c || "function" !== typeof Symbol || "symbol" !== typeof c("foo") || "symbol" !== typeof Symbol("bar")?!1:n();};},66679:function(r){r.exports=function(){var b,a,c;if("function" !== typeof Symbol || "function" !== typeof Object.getOwnPropertySymbols)return !1;if("symbol" === typeof Symbol.iterator)return !0;b={};a=Symbol("test");c=Object(a);if("string" === typeof a || "[object Symbol]" !== Object.prototype.toString.call(a) || "[object Symbol]" !== Object.prototype.toString.call(c))return !1;b[a]=42;for(a in b)return !1;if("function" === typeof Object.keys && 0 !== Object.keys(b).length || "function" === typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(b).length)return !1;c=Object.getOwnPropertySymbols(b);return 1 !== c.length || c[0] !== a || !Object.prototype.propertyIsEnumerable.call(b,a) || "function" === typeof Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(b,a),42 !== b.value || !0 !== b.enumerable)?!1:!0;};},67226:function(r,b,a){var c;c=a(66679);r.exports=function(){return c() && !!Symbol.toStringTag;};},23198:function(r,b,a){b=a(4090);r.exports=b.call(Function.call,Object.prototype.hasOwnProperty);},28041:function(r,b,a){var d,g;function c(e,f,l,h,k){var m,p,q;m={};p="number" === typeof k;k=void 0 !== k && p?k.toString():l;if(p && void 0 !== l)throw Error(d.SEb);Reflect.ZGa(e,f) && (m=Reflect.getMetadata(e,f));l=m[k];if(Array.isArray(l)){p=0;for(var v=l;p < v.length;p++){q=v[p];if(q.key === h.key)throw Error(d.gDb + " " + q.key.toString());}}else l=[];l.push(h);m[k]=l;Reflect.Uda(e,m,f);}function n(e,f){return function(l,h){f(l,h,e);};}Object.defineProperty(b,"__esModule",{value:!0});d=a(25640);g=a(37425);b.MO=function(e,f,l,h){c(g.t4a,e,f,h,l);};b.E7=function(e,f,l){c(g.u4a,e.constructor,f,l);};b.dG=function(e,f,l){"number" === typeof l?(e=[n(l,e)],Reflect.dG(e,f)):"string" === typeof l?Reflect.dG([e],f,l):Reflect.dG([e],f);};},29385:function(r,b,a){var c,n,d,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);n=a(37425);d=a(67258);g=a(28041);r=(function(){function e(f){this.nKb=f;}e.prototype.JI=function(){return this.nKb();};return e;})();b.nra=r;b.l=function(e){return function(f,l,h){var k;if(void 0 === e)throw Error(c.uJb(f.name));k=new d.Metadata(n.BY,e);"number" === typeof h?g.MO(f,l,h,k):g.E7(f,l,k);};};},16504:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);n=a(37425);b.W=function(){return function(d){var g;if(Reflect.ZGa(n.mta,d))throw Error(c.fDb);g=Reflect.getMetadata(n.CCb,d) || [];Reflect.Uda(n.mta,g,d);return d;};};},3342:function(r,b,a){var c,n,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);n=a(67258);d=a(28041);b.AH=function(g){return function(e,f,l){var h;h=new n.Metadata(c.EJ,g);"number" === typeof l?d.MO(e,f,l,h):d.E7(e,f,h);};};},44466:function(r,b,a){var c,n,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);n=a(67258);d=a(28041);b.gob=function(g){return function(e,f,l){var h;h=new n.Metadata(c.VE,g);"number" === typeof l?d.MO(e,f,l,h):d.E7(e,f,h);};};},5923:function(r,b,a){var c,n,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);n=a(67258);d=a(28041);b.optional=function(){return function(g,e,f){var l;l=new n.Metadata(c.y0a,!0);"number" === typeof f?d.MO(g,e,f,l):d.E7(g,e,l);};};},76311:function(r,b,a){var c,n,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);n=a(37425);d=a(67258);b.lrb=function(){return function(g,e){e=new d.Metadata(n.eZ,e);if(Reflect.ZGa(n.eZ,g.constructor))throw Error(c.$Fb);Reflect.Uda(n.eZ,e,g.constructor);};};},91823:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});c=a(67258);n=a(28041);b.axb=function(d,g){return function(e,f,l){var h;h=new c.Metadata(d,g);"number" === typeof l?n.MO(e,f,l,h):n.E7(e,f,h);};};},67509:function(r,b,a){var c,n,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);n=a(67258);d=a(28041);b.F7=function(g){return function(e,f,l){var h;h=new n.Metadata(c.p$,g);d.MO(e,f,l,h);};};},53022:function(r,b,a){var c,n,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);n=a(67258);d=a(28041);b.$r=function(){return function(g,e,f){var l;l=new n.Metadata(c.DZ,!0);d.MO(g,e,f,l);};};},70078:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});c=a(5493);n=a(72632);r=(function(){function d(g,e){this.id=n.id();this.Lya=!1;this.bh=g;this.scope=e;this.type=c.Nk.ZEb;this.hL=function(){return !0;};this.dS=this.xA=this.TN=this.zS=this.cache=this.oo=null;}d.prototype.clone=function(){var g;g=new d(this.bh,this.scope);g.Lya=!1;g.oo=this.oo;g.dS=this.dS;g.scope=this.scope;g.type=this.type;g.zS=this.zS;g.TN=this.TN;g.hL=this.hL;g.xA=this.xA;g.cache=this.cache;return g;};return d;})();b.yBb=r;},57197:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.toa={VCc:2,m0a:0,PGb:1};},25640:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fDb="Cannot apply @injectable decorator multiple times.";b.gDb="Metadata key was used more than once in a parameter:";b.aZ="NULL argument";b.UYa="Key Not Found";b.AAb="Ambiguous match found for serviceIdentifier:";b.TBb="Could not unbind serviceIdentifier:";b.vGb="No matching bindings found for serviceIdentifier:";b.PFb="Missing required @injectable annotation in:";b.QFb="Missing required @inject or @multiInject annotation in:";b.uJb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.XBb="Circular dependency found:";b.mDc="Sorry, this feature is not fully implemented yet.";b.REb="Invalid binding type:";b.xGb="No snapshot available to restore.";b.VEb="Invalid return type in middleware. Middleware must return!";b.UEb="Value provided to function binding must be a function!";b.WEb="The toSelf function can only be applied when a constructor is used as service identifier";b.SEb="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.CAb=function(){for(var a=[],c=0;c < arguments.length;c++)a[c]=arguments[c];return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.lCb="Invalid Container constructor argument. Container options must be an object.";b.jCb="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.iCb="Invalid Container option. Auto bind injectable must be a boolean";b.kCb="Invalid Container option. Skip base check must be a boolean";b.$Fb="Cannot apply @postConstruct decorator multiple times in the same class";b.THb=function(){for(var a=[],c=0;c < arguments.length;c++)a[c]=arguments[c];return "@postConstruct error in class " + a[0] + ": " + a[1];};b.YBb=function(){for(var a=[],c=0;c < arguments.length;c++)a[c]=arguments[c];return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.aJb="Maximum call stack size exceeded";},5493:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pw={Request:"Request",Jva:"Singleton",vaa:"Transient"};b.Nk={iVa:"ConstantValue",jVa:"Constructor",fWa:"DynamicValue",bqa:"Factory",Function:"Function",Instance:"Instance",ZEb:"Invalid",H2a:"Provider"};b.$B={ZUa:"ClassProperty",kVa:"ConstructorArgument",Bwa:"Variable"};},37425:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VE="named";b.p$="name";b.DZ="unmanaged";b.y0a="optional";b.BY="inject";b.EJ="multi_inject";b.t4a="inversify:tagged";b.u4a="inversify:tagged_props";b.mta="inversify:paramtypes";b.CCb="design:paramtypes";b.eZ="post_construct";},99700:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v;c=this && this.__awaiter || (function(q,u,t,w){return new (t || (t=Promise))(function(x,z){function y(C){try{B(w.next(C));}catch(D){z(D);}}function A(C){try{B(w["throw"](C));}catch(D){z(D);}}function B(C){C.done?x(C.value):new t(function(D){D(C.value);}).then(y,A);}B((w=w.apply(q,u || [])).next());});});n=this && this.__generator || (function(q,u){var x,z,y,A,B;function t(C){return function(D){return w([C,D]);};}function w(C){if(z)throw new TypeError("Generator is already executing.");for(;x;)try{if((z=1,y && (A=y[C[0] & 2?"return":C[0]?"throw":"next"]) && !(A=A.call(y,C[1])).done))return A;if((y=0,A))C=[0,A.value];switch(C[0]){case 0:case 1:A=C;break;case 4:return (x.label++,{value:C[1],done:!1});case 5:x.label++;y=C[1];C=[0];continue;case 7:C=x.vN.pop();x.Ke.pop();continue;default:if(!(A=x.Ke,A=0 < A.length && A[A.length - 1]) && (6 === C[0] || 2 === C[0])){x=0;continue;}if(3 === C[0] && (!A || C[1] > A[0] && C[1] < A[3]))x.label=C[1];else if(6 === C[0] && x.label < A[1])(x.label=A[1],A=C);else if(A && x.label < A[2])(x.label=A[2],x.vN.push(C));else {A[2] && x.vN.pop();x.Ke.pop();continue;}}C=u.call(q,x);}catch(D){C=[6,D];y=0;}finally{z=A=0;}if(C[0] & 5)throw C[1];return {value:C[0]?C[1]:void 0,done:!0};}x={label:0,va:function(){if(A[0] & 1)throw A[1];return A[1];},Ke:[],vN:[]};return (B={next:t(0),"throw":t(1),"return":t(2)},"function" === typeof Symbol && (B[Symbol.iterator]=function(){return this;}),B);});Object.defineProperty(b,"__esModule",{value:!0});d=a(70078);g=a(25640);e=a(5493);a(37425);f=a(11499);l=a(75262);h=a(85933);k=a(49825);m=a(72632);p=a(48530);a(95817);v=a(62240);r=(function(){function q(u){u=u || ({});if("object" !== typeof u)throw Error("" + g.lCb);if(void 0 === u.nL)u.nL=e.pw.vaa;else if(u.nL !== e.pw.Jva && u.nL !== e.pw.vaa && u.nL !== e.pw.Request)throw Error("" + g.jCb);if(void 0 === u.j0)u.j0=!1;else if("boolean" !== typeof u.j0)throw Error("" + g.iCb);if(void 0 === u.zO)u.zO=!1;else if("boolean" !== typeof u.zO)throw Error("" + g.kCb);this.options={j0:u.j0,nL:u.nL,zO:u.zO};this.id=m.id();this.$J=new v.nFb();this.WMb=[];this.parent=this.Qxa=null;this.KLb=new f.Esa();}q.em=function(u,t){var x,z;function w(y,A){y.awc(function(B,C){C.forEach(function(D){A.add(D.bh,D.clone());});});}x=new q();z=l.mFa(x);u=l.mFa(u);t=l.mFa(t);w(u,z);w(t,z);return x;};q.prototype.load=function(){var x,z;for(var u=[],t=0;t < arguments.length;t++)u[t]=arguments[t];t=this.B6a();for(var w=0;w < u.length;w++){x=u[w];z=t(x.id);x.NNa(z.s$a,z.lyb,z.Lkb,z.ssb);}};q.prototype.g4=function(){for(var u=[],t=0;t < arguments.length;t++)u[t]=arguments[t];c(this,void 0,void 0,function(){var w,x,z,y,A;return n(this,function(B){switch(B.label){case 0:(w=this.B6a(),x=0,z=u,B.label=1);case 1:if(!(x < z.length))return [3,4];y=z[x];A=w(y.id);return [4,y.NNa(A.s$a,A.lyb,A.Lkb,A.ssb)];case 2:(B.va(),B.label=3);case 3:return (x++,[3,1]);case 4:return [2];}});});};q.prototype.ryb=function(){function u(z){return function(y){return y.Tnb === z;};}for(var t=this,w=[],x=0;x < arguments.length;x++)w[x]=arguments[x];w.forEach(function(z){z=u(z.id);t.$J.loc(z);});};q.prototype.bind=function(u){var t;t=new d.yBb(u,this.options.nL || e.pw.vaa);this.$J.add(u,t);return new k.ABb(t);};q.prototype.lnc=function(u){this.kyb(u);return this.bind(u);};q.prototype.kyb=function(u){try{this.$J.remove(u);}catch(t){throw Error(g.TBb + " " + p.dT(u));}};q.prototype.fkb=function(u){var t;t=this.$J.zib(u);!t && this.parent && (t=this.parent.fkb(u));return t;};q.prototype.restore=function(){var u;u=this.WMb.pop();if(void 0 === u)throw Error(g.xGb);this.$J=u.n0;this.Qxa=u.Ffc;};q.prototype.SWb=function(){var u;u=new q(this.options);u.parent=this;return u;};q.prototype.get=function(u){return this.A6a(!1,!1,e.$B.Bwa,u);};q.prototype.getAll=function(u){return this.A6a(!0,!0,e.$B.Bwa,u);};q.prototype.resolve=function(u){var t;t=this.SWb();t.bind(u).Cxb();return t.get(u);};q.prototype.B6a=function(){var z;function u(y){return function(A){A=z.lnc.bind(z)(A);A.Kc.Tnb=y;return A;};}function t(){return function(y){return z.fkb.bind(z)(y);};}function w(){return function(y){z.kyb.bind(z)(y);};}function x(y){return function(A){A=z.bind.bind(z)(A);A.Kc.Tnb=y;return A;};}z=this;return function(y){return {s$a:x(y),Lkb:t(y),ssb:u(y),lyb:w(y)};};};q.prototype.A6a=function(u,t,w,x){var z;z=null;u={LQb:u,$Ub:function(y){return y;},Zac:t,key:void 0,bh:x,gvc:w,value:void 0};if(this.Qxa){if((z=this.Qxa(u),void 0 === z || null === z))throw Error(g.VEb);}else z=this.sMb()(u);return z;};q.prototype.sMb=function(){var u;u=this;return function(t){var w;w=l.OU(u.KLb,u,t.Zac,t.gvc,t.bh,t.key,t.value,t.LQb);w=t.$Ub(w);return h.resolve(w);};};return q;})();b.h9=r;},51164:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(72632);b.Od=(function(){return function(n){this.id=c.id();this.NNa=n;};})();b.QTa=(function(){return function(n){this.id=c.id();this.NNa=n;};})();},95817:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RAc=(function(){function a(){}a.of=function(c,n){var d;d=new a();d.n0=c;d.Ffc=n;return d;};return a;})();},62240:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);r=(function(){function n(){this.Yf=new Map();}n.prototype.Qgb=function(){return this.Yf;};n.prototype.add=function(d,g){var e;if(null === d || void 0 === d)throw Error(c.aZ);if(null === g || void 0 === g)throw Error(c.aZ);e=this.Yf.get(d);void 0 !== e?(e.push(g),this.Yf.set(d,e)):this.Yf.set(d,[g]);};n.prototype.get=function(d){if(null === d || void 0 === d)throw Error(c.aZ);d=this.Yf.get(d);if(void 0 !== d)return d;throw Error(c.UYa);};n.prototype.remove=function(d){if(null === d || void 0 === d)throw Error(c.aZ);if(!this.Yf.delete(d))throw Error(c.UYa);};n.prototype.loc=function(d){var g;g=this;this.Yf.forEach(function(e,f){e=e.filter(function(l){return !d(l);});0 < e.length?g.Yf.set(f,e):g.Yf.delete(f);});};n.prototype.zib=function(d){if(null === d || void 0 === d)throw Error(c.aZ);return this.Yf.has(d);};n.prototype.clone=function(){var d;d=new n();this.Yf.forEach(function(g,e){g.forEach(function(f){return d.add(e,f.clone());});});return d;};n.prototype.awc=function(d){this.Yf.forEach(function(g,e){d(e,g);});};return n;})();b.nFb=r;},22674:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(37425);b.HCc=r;r=a(99700);b.h9=r.h9;r=a(5493);b.pw=r.pw;b.Nk=r.Nk;b.$B=r.$B;r=a(51164);b.QTa=r.QTa;b.Od=r.Od;r=a(16504);b.W=r.W;r=a(91823);b.axb=r.axb;r=a(44466);b.gob=r.gob;r=a(29385);b.l=r.l;b.nra=r.nra;r=a(5923);b.optional=r.optional;r=a(53022);b.$r=r.$r;r=a(3342);b.AH=r.AH;r=a(67509);b.F7=r.F7;r=a(76311);b.lrb=r.lrb;r=a(11499);b.Esa=r.Esa;r=a(72632);b.id=r.id;r=a(28041);b.dG=r.dG;r=a(41146);b.byb=r.byb;b.bxb=r.bxb;b.hob=r.hob;b.hyb=r.hyb;r=a(48530);b.dT=r.dT;a=a(14577);b.dob=a.dob;},91734:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(72632);r=(function(){function n(d){this.id=c.id();this.tb=d;}n.prototype.sOb=function(d){this.OU=d;};return n;})();b.nVa=r;},67258:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);r=(function(){function n(d,g){this.key=d;this.value=g;}n.prototype.toString=function(){return this.key === c.VE?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return n;})();b.Metadata=r;},11499:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);r=(function(){function n(){}n.prototype.egb=function(d){var g;g=Reflect.getMetadata(c.mta,d);d=Reflect.getMetadata(c.t4a,d);return {abb:g,Pxc:d || ({})};};n.prototype.s7b=function(d){return Reflect.getMetadata(c.u4a,d) || [];};return n;})();b.Esa=r;},4595:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cIb=(function(){return function(a,c){this.IU=a;this.vOa=c;};})();},75262:function(r,b,a){var e,f,l,h,k,m,p,v,q,u,t,w;function c(x,z,y,A,B){var C,D;C=g(y.tb,B.bh);D=[];C.length === e.toa.m0a && y.tb.options.j0 && "function" === typeof B.bh && x.egb(B.bh).abb && (y.tb.bind(B.bh).Cxb(),C=g(y.tb,B.bh));D=z?C:C.filter(function(E){var F;F=new t.Request(E.bh,y,A,E,B);return E.hL(F);});n(B.bh,D,B,y.tb);return D;}function n(x,z,y,A){switch(z.length){case e.toa.m0a:if(y.vkb())return z;x=m.dT(x);z=f.vGb;z+=m.Jcc(x,y);z+=m.Ulb(A,x,g);throw Error(z);case e.toa.PGb:if(!y.isArray())return z;default:if(y.isArray())return z;x=m.dT(x);z=f.AAb + " " + x;z+=m.Ulb(A,x,g);throw Error(z);}}function d(x,z,y,A,B,C){var D;if(null === B){z=c(x,z,A,null,C);D=new t.Request(y,A,null,z,C);y=new q.cIb(A,D);A.sOb(y);}else (z=c(x,z,A,B,C),D=B.F8a(C.bh,z,C));z.forEach(function(E){var F,G,J;F=null;if(C.isArray())F=D.F8a(E.bh,E,C);else {if(E.cache)return;F=D;}if(E.type === l.Nk.Instance && null !== E.oo){G=u.Z4b(x,E.oo);if(!A.tb.options.zO){J=u.v4b(x,E.oo);if(G.length < J)throw (E=f.CAb(u.getFunctionName(E.oo)),Error(E));}G.forEach(function(N){d(x,!1,N.bh,A,F,N);});}});}function g(x,z){var y,A;y=[];A=x.$J;A.zib(z)?y=A.get(z):null !== x.parent && (y=g(x.parent,z));return y;}Object.defineProperty(b,"__esModule",{value:!0});e=a(57197);f=a(25640);l=a(5493);h=a(37425);k=a(69523);m=a(48530);p=a(91734);v=a(67258);q=a(4595);u=a(34912);t=a(22929);w=a(23927);b.mFa=function(x){return x.$J;};b.OU=function(x,z,y,A,B,C,D,E){void 0 === E && (E=!1);z=new p.nVa(z);y=new v.Metadata(y?h.EJ:h.BY,B);A=new w.raa(A,"",B,y);void 0 !== C && (C=new v.Metadata(C,D),A.Qe.push(C));try{return (d(x,E,B,z,null,A),z);}catch(F){throw (k.Bkb(F) && z.OU && m.FTb(z.OU.vOa),F);}};b.pHc=function(x,z,y,A){y=new w.raa(l.$B.Bwa,"",z,new v.Metadata(y,A));x=new p.nVa(x);return new t.Request(z,x,null,[],y);};},11625:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.YV=c;}a.prototype.startsWith=function(c){return 0 === this.YV.indexOf(c);};a.prototype.endsWith=function(c){var n;n=c.split("").reverse().join("");c=this.YV.split("").reverse().join("");return this.startsWith.call({YV:c},n);};a.prototype.contains=function(c){return -1 !== this.YV.indexOf(c);};a.prototype.equals=function(c){return this.YV === c;};a.prototype.value=function(){return this.YV;};return a;})();b.sIb=r;},34912:function(r,b,a){var e,f,l,h,k,m;function c(p,v,q,u){var t,w,x,z,A,B,C,D,E,F,G,J;t=p.egb(q);w=t.abb;if(void 0 === w)throw Error(f.PFb + " " + v + ".");t=t.Pxc;x=Object.keys(t);z=0 === q.length && 0 < x.length?x.length:q.length;x=[];for(var y=0;y < z;y++){A=y;B=u;C=v;D=w;E=t[A.toString()] || [];F=g(E);G=!0 !== F.$r;D=D[A];J=F.l || F.AH;D=J?J:D;D instanceof e.nra && (D=D.JI());if(G){G=D === Function;G=D === Object || G || void 0 === D;if(!B && G)throw Error(f.QFb + " argument " + A + " in class " + C + ".");A=new m.raa(l.$B.kVa,F.F7,D);A.Qe=E;E=A;}else E=null;null !== E && x.push(E);}p=n(p,q);return x.concat(p);}function n(p,v){var x,z,y;for(var q=p.s7b(v),u=[],t=0,w=Object.keys(q);t < w.length;t++){x=w[t];z=q[x];y=g(q[x]);x=new m.raa(l.$B.ZUa,y.F7 || x,y.l || y.AH);x.Qe=z;u.push(x);}v=Object.getPrototypeOf(v.prototype).constructor;v !== Object && (p=n(p,v),u=u.concat(p));return u;}function d(p,v){var q,u;v=Object.getPrototypeOf(v.prototype).constructor;if(v !== Object){q=k.getFunctionName(v);q=c(p,q,v,!0);u=q.map(function(t){return t.Qe.filter(function(w){return w.key === h.DZ;});});u=[].concat.apply([],u).length;q=q.length - u;return 0 < q?q:d(p,v);}return 0;}function g(p){var v;v={};p.forEach(function(q){v[q.key.toString()]=q.value;});return {l:v[h.BY],AH:v[h.EJ],F7:v[h.p$],$r:v[h.DZ]};}Object.defineProperty(b,"__esModule",{value:!0});e=a(29385);f=a(25640);l=a(5493);h=a(37425);k=a(48530);b.getFunctionName=k.getFunctionName;m=a(23927);b.Z4b=function(p,v){var q;q=k.getFunctionName(v);return c(p,q,v,!1);};b.v4b=d;},22929:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(72632);r=(function(){function n(d,g,e,f,l){this.id=c.id();this.bh=d;this.IU=g;this.RD=e;this.target=l;this.cBa=[];this.n0=Array.isArray(f)?f:[f];this.Uoc=null === e?new Map():null;}n.prototype.F8a=function(d,g,e){d=new n(d,this.IU,this,g,e);this.cBa.push(d);return d;};return n;})();b.Request=r;},23927:function(r,b,a){var c,n,d,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);n=a(72632);d=a(67258);g=a(11625);r=(function(){function e(f,l,h,k){this.id=n.id();this.type=f;this.bh=h;this.name=new g.sIb(l || "");this.Qe=[];f=null;"string" === typeof k?f=new d.Metadata(c.VE,k):k instanceof d.Metadata && (f=k);null !== f && this.Qe.push(f);}e.prototype.Gib=function(f){for(var l=0,h=this.Qe;l < h.length;l++)if(h[l].key === f)return !0;return !1;};e.prototype.isArray=function(){return this.Gib(c.EJ);};e.prototype.Bec=function(f){return this.SJa(c.EJ)(f);};e.prototype.lIa=function(){return this.Gib(c.VE);};e.prototype.zIa=function(){return this.Qe.some(function(f){return f.key !== c.BY && f.key !== c.EJ && f.key !== c.p$ && f.key !== c.DZ && f.key !== c.VE;});};e.prototype.vkb=function(){return this.SJa(c.y0a)(!0);};e.prototype.F6b=function(){return this.lIa()?this.Qe.filter(function(f){return f.key === c.VE;})[0]:null;};e.prototype.W4b=function(){return this.zIa()?this.Qe.filter(function(f){return f.key !== c.BY && f.key !== c.EJ && f.key !== c.p$ && f.key !== c.DZ && f.key !== c.VE;}):null;};e.prototype.SJa=function(f){var l;l=this;return function(h){var p;for(var k=0,m=l.Qe;k < m.length;k++){p=m[k];if(p.key === f && p.value === h)return !0;}return !1;};};return e;})();b.raa=r;},40198:function(r,b,a){var d,g,e;function c(f,l,h){var k;l=l.filter(function(m){return null !== m.target && m.target.type === g.$B.ZUa;});k=l.map(h);l.forEach(function(m,p){m=m.target.name.value();f[m]=k[p];});return f;}function n(f,l){var h;if(Reflect.q9b(e.eZ,f)){h=Reflect.getMetadata(e.eZ,f);try{l[h.value]();}catch(k){throw Error(d.THb(f.name,k.message));}}}Object.defineProperty(b,"__esModule",{value:!0});d=a(25640);g=a(5493);e=a(37425);b.jpc=function(f,l,h){var k;k=null;0 < l.length?(k=l.filter(function(m){return null !== m.target && m.target.type === g.$B.kVa;}).map(h),k=new (f.bind.apply(f,[void 0].concat(k)))(),k=c(k,l,h)):k=new f();n(f,k);return k;};},85933:function(r,b,a){var d,g,e,f,l;function c(h){return function(k){var m,p,v,q,u;m=k.n0;p=k.cBa;v=k.target && k.target.isArray();q=!k.RD || !k.RD.target || !k.target || !k.RD.target.Bec(k.target.bh);if(v && q)return p.map(function(t){return c(h)(t);});v=null;if(!k.target.vkb() || 0 !== m.length){u=m[0];m=u.scope === g.pw.Jva;q=u.scope === g.pw.Request;if(m && u.Lya)return u.cache;if(q && null !== h && h.has(u.id))return h.get(u.id);if(u.type === g.Nk.iVa)v=u.cache;else if(u.type === g.Nk.Function)v=u.cache;else if(u.type === g.Nk.jVa)v=u.oo;else if(u.type === g.Nk.fWa && null !== u.dS)v=n("toDynamicValue",u.bh,function(){return u.dS(k.IU);});else if(u.type === g.Nk.bqa && null !== u.zS)v=n("toFactory",u.bh,function(){return u.zS(k.IU);});else if(u.type === g.Nk.H2a && null !== u.TN)v=n("toProvider",u.bh,function(){return u.TN(k.IU);});else if(u.type === g.Nk.Instance && null !== u.oo)v=l.jpc(u.oo,p,c(h));else throw (p=f.dT(k.bh),Error(d.REb + " " + p));"function" === typeof u.xA && (v=u.xA(k.IU,v));m && (u.cache=v,u.Lya=!0);q && null !== h && !h.has(u.id) && h.set(u.id,v);return v;}};}function n(h,k,m){try{return m();}catch(p){if(e.Bkb(p))throw Error(d.YBb(h,k.toString()));throw p;}}Object.defineProperty(b,"__esModule",{value:!0});d=a(25640);g=a(5493);e=a(69523);f=a(48530);l=a(40198);b.resolve=function(h){return c(h.OU.vOa.Uoc)(h.OU.vOa);};},51580:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});c=a(5493);n=a(75714);r=(function(){function d(g){this.Kc=g;}d.prototype.ma=function(){this.Kc.scope=c.pw.Jva;return new n.bJ(this.Kc);};d.prototype.yHa=function(){this.Kc.scope=c.pw.vaa;return new n.bJ(this.Kc);};return d;})();b.zBb=r;},61142:function(r,b,a){var c,n,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(51580);n=a(1003);d=a(7190);r=(function(){function g(e){this.Kc=e;this.MZ=new d.uoa(this.Kc);this.Vwa=new n.V8(this.Kc);this.$5a=new c.zBb(e);}g.prototype.ma=function(){return this.$5a.ma();};g.prototype.yHa=function(){return this.$5a.yHa();};g.prototype.when=function(e){return this.MZ.when(e);};g.prototype.y8=function(){return this.MZ.y8();};g.prototype.xA=function(e){return this.Vwa.xA(e);};return g;})();b.hUa=r;},1003:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(7190);r=(function(){function n(d){this.Kc=d;}n.prototype.xA=function(d){this.Kc.xA=d;return new c.uoa(this.Kc);};return n;})();b.V8=r;},49825:function(r,b,a){var c,n,d,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);n=a(5493);d=a(61142);g=a(75714);r=(function(){function e(f){this.Kc=f;}e.prototype.to=function(f){this.Kc.type=n.Nk.Instance;this.Kc.oo=f;return new d.hUa(this.Kc);};e.prototype.Cxb=function(){if("function" !== typeof this.Kc.bh)throw Error("" + c.WEb);this.to(this.Kc.bh);};e.prototype.Cn=function(f){this.Kc.type=n.Nk.iVa;this.Kc.cache=f;this.Kc.dS=null;this.Kc.oo=null;new g.bJ(this.Kc);};e.prototype.CI=function(f){this.Kc.type=n.Nk.fWa;this.Kc.cache=null;this.Kc.dS=f;this.Kc.oo=null;return new d.hUa(this.Kc);};e.prototype.Mvc=function(f){this.Kc.type=n.Nk.jVa;this.Kc.oo=f;new g.bJ(this.Kc);};e.prototype.Ze=function(f){this.Kc.type=n.Nk.bqa;this.Kc.zS=f;new g.bJ(this.Kc);};e.prototype.Nvc=function(f){if("function" !== typeof f)throw Error(c.UEb);this.Cn(f);this.Kc.type=n.Nk.Function;};e.prototype.Axb=function(f){this.Kc.type=n.Nk.bqa;this.Kc.zS=function(l){return function(){return l.tb.get(f);};};new g.bJ(this.Kc);};e.prototype.R7=function(f){this.Kc.type=n.Nk.H2a;this.Kc.TN=f;new g.bJ(this.Kc);};e.prototype.Qvc=function(f){this.CI(function(l){return l.tb.get(f);});};return e;})();b.ABb=r;},75714:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});c=a(1003);n=a(7190);r=(function(){function d(g){this.Kc=g;this.MZ=new n.uoa(this.Kc);this.Vwa=new c.V8(this.Kc);}d.prototype.when=function(g){return this.MZ.when(g);};d.prototype.y8=function(){return this.MZ.y8();};d.prototype.xA=function(g){return this.Vwa.xA(g);};return d;})();b.bJ=r;},7190:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1003);a(41146);r=(function(){function n(d){this.Kc=d;}n.prototype.when=function(d){this.Kc.hL=d;return new c.V8(this.Kc);};n.prototype.y8=function(){this.Kc.hL=function(d){return null !== d.target && !d.target.lIa() && !d.target.zIa();};return new c.V8(this.Kc);};return n;})();b.uoa=r;},41146:function(r,b,a){var d;function c(g){return function(e){function f(l){return null !== l && null !== l.target && l.target.SJa(g)(e);}f.znb=new d.Metadata(g,e);return f;};}function n(g,e){g=g.RD;return null !== g?e(g)?!0:n(g,e):!1;}Object.defineProperty(b,"__esModule",{value:!0});r=a(37425);d=a(67258);b.byb=n;b.bxb=c;a=c(r.VE);b.hob=a;b.hyb=function(g){return function(e){var f;if(null !== e){f=e.n0[0];return "string" === typeof g?f.bh === g:g === e.n0[0].oo;}return !1;};};},14577:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dob=function(a){return function(c){return function(){for(var n=[],d=0;d < arguments.length;d++)n[d]=arguments[d];return n.forEach(function(g){return a.bind(g).Qvc(c);});};};};},69523:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);b.Bkb=function(n){return n instanceof RangeError || n.message === c.aJb;};},72632:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},48530:function(r,b,a){var f;function c(l){return "function" === typeof l?l.name:"symbol" === typeof l?l.toString():l;}function n(l,h){return null === l.RD?!1:l.RD.bh === h?!0:n(l.RD,h);}function d(l){function h(k,m){var p;void 0 === m && (m=[]);p=c(k.bh);m.push(p);return null !== k.RD?h(k.RD,m):m;}return h(l).reverse().join(" --\x3e ");}function g(l){l.cBa.forEach(function(h){if(n(h,h.bh))throw (h=d(h),Error(f.XBb + " " + h));g(h);});}function e(l){var h;if(l.name)return l.name;l=l.toString();h=l.match(/^function\s*([^\s(]+)/);return h?h[1]:"Anonymous function: " + l;}Object.defineProperty(b,"__esModule",{value:!0});f=a(25640);b.dT=c;b.Ulb=function(l,h,k){var m;m="";l=k(l,h);0 !== l.length && (m="\nRegistered bindings:",l.forEach(function(p){var v;v="Object";null !== p.oo && (v=e(p.oo));m=m + "\n " + v;p.hL.znb && (m=m + " - " + p.hL.znb);}));return m;};b.FTb=g;b.Jcc=function(l,h){var k,m;if(h.zIa() || h.lIa()){k="";m=h.F6b();h=h.W4b();null !== m && (k+=m.toString() + "\n");null !== h && h.forEach(function(p){k+=p.toString() + "\n";});return " " + l + "\n " + l + " - " + k;}return " " + l;};b.getFunctionName=e;},9680:function(r){var n,d,g,e,f,l,h,k;function b(){return !1;}function a(m){try{if(c(m))return !1;n.call(m);return !0;}catch(p){return !1;}}function c(m){var p;try{p=n.call(m);return f.test(p);}catch(v){return !1;}}n=Function.prototype.toString;d="object" === typeof Reflect && null !== Reflect && Reflect.apply;if("function" === typeof d && "function" === typeof Object.defineProperty)try{g=Object.defineProperty({},"length",{get:function(){throw e;}});e={};d(function(){throw 42;},null,g);}catch(m){m !== e && (d=null);}else d=null;f=/^\s*class\b/;l=Object.prototype.toString;h="function" === typeof Symbol && !!Symbol.toStringTag;k=!((0 in [,]));"object" === typeof document && l.call(document.all) === l.call(document.all) && (b=function(m){var p;if(!(!k && m || "undefined" !== typeof m && "object" !== typeof m))try{p=l.call(m);return ("[object HTMLAllCollection]" === p || "[object HTML document.all class]" === p || "[object HTMLCollection]" === p || "[object Object]" === p) && null == m("");}catch(v){}return !1;});r.exports=d?function(m){if(b(m))return !0;if(!m || "function" !== typeof m && "object" !== typeof m)return !1;try{d(m,null,g);}catch(p){if(p !== e)return !1;}return !c(m) && a(m);}:function(m){var p;if(b(m))return !0;if(!m || "function" !== typeof m && "object" !== typeof m)return !1;if(h)return a(m);if(c(m))return !1;p=l.call(m);return "[object Function]" === p || "[object GeneratorFunction]" === p || (/^\[object HTML/).test(p)?a(m):!1;};},54277:function(r,b,a){var c,n,d;c=Date.prototype.getDay;n=Object.prototype.toString;d=a(67226)();r.exports=function(g){if("object" !== typeof g || null === g)g=!1;else if(d)try{c.call(g);g=!0;}catch(e){g=!1;}else g="[object Date]" === n.call(g);return g;};},58786:function(r,b,a){var c,n,d,g,e,f,l;b=a(62680);if(a=a(67226)()){c=b("Object.prototype.hasOwnProperty");n=b("RegExp.prototype.exec");d={};g=function(){throw d;};e={toString:g,valueOf:g};"symbol" === typeof Symbol.toPrimitive && (e[Symbol.toPrimitive]=g);}f=b("Object.prototype.toString");l=Object.getOwnPropertyDescriptor;r.exports=a?function(h){var k;if(!h || "object" !== typeof h)return !1;k=l(h,"lastIndex");if(!k || !c(k,"value"))return !1;try{n(h,e);}catch(m){return m === d;}}:function(h){return !h || "object" !== typeof h && "function" !== typeof h?!1:"[object RegExp]" === f(h);};},26302:function(r,b,a){var c,n,d;c=String.prototype.valueOf;n=Object.prototype.toString;d=a(67226)();r.exports=function(g){if("string" === typeof g)g=!0;else if("object" !== typeof g)g=!1;else if(d)try{c.call(g);g=!0;}catch(e){g=!1;}else g="[object String]" === n.call(g);return g;};},88705:function(r,b,a){var c,n,d;c=Object.prototype.toString;if(a(32636)()){n=Symbol.prototype.toString;d=/^Symbol\(.*\)$/;r.exports=function(g){if("symbol" === typeof g)return !0;if("[object Symbol]" !== c.call(g))return !1;try{return "symbol" !== typeof g.valueOf()?!1:d.test(n.call(g));}catch(e){return !1;}};}else r.exports=function(){return !1;};},62082:function(r){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},K2:function(){return this.buffer.length - this.position;},Hfa:function(){return this.buffer.length;},Qr:function(){return this.buffer[this.position++];},rl:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},Vt:function(a){for(var c=0;a--;)c=256 * c + this.buffer[this.position++];return c;},CNa:function(a){for(var c="";a--;)c+=String.fromCharCode(this.buffer[this.position++]);return c;},hi:function(){return this.Vt(2);},Wt:function(){return this.Vt(4);},dV:function(){return this.Vt(8);},QA:function(a){for(var c,n="";a--;)(c=this.Qr(),n+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15]);return n;},DNa:function(a){for(var c=0,n=0;n < a;n++)c+=this.Qr() << (n << 3);return c;},cV:function(){return this.DNa(4);},B8:function(a){this.LW(a,2);},CE:function(a){this.LW(a,4);},jw:function(a){this.buffer[this.position++]=a;},LW:function(a,c){this.position+=c;for(var n=1;n <= c;n++)(this.buffer[this.position - n]=a & 255,a=Math.floor(a / 256));},BE:function(a){for(var c=0;c < a.length;c++)this.buffer[this.position++]=a.charCodeAt(c);},A8:function(a){for(var c=a.length,n=0;n < c;n++)this.buffer[this.position++]=a[n];},KW:function(a,c){this.A8(a.rl(c));}};r.exports=b;},31503:function(r){r.exports=function(b,a){for(var c in b)b.hasOwnProperty(c) && (a[c]=b[c]);return a;};},27E3:function(r,b,a){var c,n,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(13752);n=a(29636);d=a(67566);b["default"]=function(g){var e;g=new c.Zna(g);e=new d.FGb(g);return new n.EGb(g,e);};},13752:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.Hdc=c;}a.prototype.xgb=function(){var c;try{c=this.Hdc.getItem("gtp");if(c)return JSON.parse(c);}catch(n){}};a.prototype.Np=function(){var c;c=this.xgb();if(c && c.tp)return c.tp.a;};a.prototype.W5b=function(){var c;c=this.NFa();if(c)return c.p25;};a.prototype.X5b=function(){var c;c=this.NFa();if(c)return c.p50;};a.prototype.Y5b=function(){var c;c=this.NFa();if(c)return c.p75;};a.prototype.NFa=function(){var c;c=this.xgb();if(c && (c=c.iqr))return c;};return a;})();b.Zna=r;},29636:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c,n){this.zC=c;this.TKa=n;}a.prototype.Np=function(){return this.zC.Np();};return a;})();b.EGb=r;},67566:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.zC=c;}a.prototype.TKa=function(){var c,n,d;c=this.zC.W5b();n=this.zC.X5b();d=this.zC.Y5b();if("number" === typeof c && "number" === typeof n && "number" === typeof d)return (d - c) / n;};return a;})();b.FGb=r;},79809:function(r){r.exports="undefined" !== typeof process && "undefined" !== typeof nrdp?nrdp.ya:Date.now;},94030:function(r,b,a){var g;function c(e,f,l,h,k,m,p){this.n8=h;this.vAb=e;this.xob=f;this.tA=l;this.Ibc=m;this.iI=p;this.split=k;}function n(){this.S={};this.S["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.S["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.S["3"]=new c("7","8","7","10","1.5",0,0);this.S["7"]=new c("15","16","15","9","4.5",0,0);this.S["15"]=new c("31","32","31","2","5.5",0,0);this.S["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.S["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.S["123"]=new c("123","124","123","0","0",1,.207298);this.S["124"]=new c("123","124","123","0","0",1,.49076);this.S["64"]=new c("125","126","125","4","40.5",0,0);this.S["125"]=new c("125","126","125","0","0",1,-.00157835);this.S["126"]=new c("125","126","125","0","0",1,.934205);this.S["32"]=new c("65","66","65","135","5.5",0,0);this.S["65"]=new c("127","128","128","4","1272.5",0,0);this.S["127"]=new c("127","128","128","0","0",1,-.510333);this.S["128"]=new c("127","128","128","0","0",1,.18363);this.S["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.S["129"]=new c("129","130","129","0","0",1,-.0464542);this.S["130"]=new c("129","130","129","0","0",1,.458833);this.S["16"]=new c("33","34","34","10","2.00001",0,0);this.S["33"]=new c("67","68","67","0","29.5",0,0);this.S["67"]=new c("131","132","131","2","39.5",0,0);this.S["131"]=new c("131","132","131","0","0",1,-.37577);this.S["132"]=new c("131","132","131","0","0",1,.512087);this.S["68"]=new c("133","134","134","140","1.5",0,0);this.S["133"]=new c("133","134","134","0","0",1,.321272);this.S["134"]=new c("133","134","134","0","0",1,-.675396);this.S["34"]=new c("69","70","70","2","24.5",0,0);this.S["69"]=new c("135","136","136","9","28.5",0,0);this.S["135"]=new c("135","136","136","0","0",1,-.0573845);this.S["136"]=new c("135","136","136","0","0",1,-.507455);this.S["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.S["137"]=new c("137","138","137","0","0",1,-.503909);this.S["138"]=new c("137","138","137","0","0",1,.450886);this.S["8"]=new c("17","18","17","4","44189.5",0,0);this.S["17"]=new c("35","36","35","2","21.5",0,0);this.S["35"]=new c("71","72","72","0","19.5",0,0);this.S["71"]=new c("139","140","140","9","2.5",0,0);this.S["139"]=new c("139","140","140","0","0",1,.00403497);this.S["140"]=new c("139","140","140","0","0",1,-.312656);this.S["72"]=new c("141","142","141","135","96",0,0);this.S["141"]=new c("141","142","141","0","0",1,-.465786);this.S["142"]=new c("141","142","141","0","0",1,.159633);this.S["36"]=new c("73","74","73","130","89.5",0,0);this.S["73"]=new c("143","144","144","10","4.5",0,0);this.S["143"]=new c("143","144","144","0","0",1,-.76265);this.S["144"]=new c("143","144","144","0","0",1,-.580804);this.S["74"]=new c("145","146","146","10","16.5",0,0);this.S["145"]=new c("145","146","146","0","0",1,.296357);this.S["146"]=new c("145","146","146","0","0",1,-.691659);this.S["18"]=new c("37","38","38","9","1.5",0,0);this.S["37"]=new c("37","38","38","0","0",1,.993951);this.S["38"]=new c("75","76","75","0","19",0,0);this.S["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.S["147"]=new c("147","148","147","0","0",1,-.346535);this.S["148"]=new c("147","148","147","0","0",1,-.995745);this.S["76"]=new c("147","148","147","0","0",1,-.99978);this.S["4"]=new c("9","10","9","5","4.5",0,0);this.S["9"]=new c("19","20","19","2","4.5",0,0);this.S["19"]=new c("39","40","39","140","7.5",0,0);this.S["39"]=new c("77","78","78","134","6.5",0,0);this.S["77"]=new c("149","150","150","7","11.5",0,0);this.S["149"]=new c("149","150","150","0","0",1,.729843);this.S["150"]=new c("149","150","150","0","0",1,.383857);this.S["78"]=new c("151","152","151","133","4.5",0,0);this.S["151"]=new c("151","152","151","0","0",1,.39017);this.S["152"]=new c("151","152","151","0","0",1,.0434342);this.S["40"]=new c("79","80","79","133","3.5",0,0);this.S["79"]=new c("153","154","154","8","4.5",0,0);this.S["153"]=new c("153","154","154","0","0",1,-.99536);this.S["154"]=new c("153","154","154","0","0",1,-.00943396);this.S["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.S["155"]=new c("155","156","155","0","0",1,.266272);this.S["156"]=new c("155","156","155","0","0",1,.959904);this.S["20"]=new c("41","42","42","10","65.5",0,0);this.S["41"]=new c("81","82","82","7","10.5",0,0);this.S["81"]=new c("157","158","158","2","37.5",0,0);this.S["157"]=new c("157","158","158","0","0",1,-.701873);this.S["158"]=new c("157","158","158","0","0",1,.224649);this.S["82"]=new c("159","160","159","133","9.5",0,0);this.S["159"]=new c("159","160","159","0","0",1,.0955181);this.S["160"]=new c("159","160","159","0","0",1,-.58962);this.S["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.S["83"]=new c("161","162","161","135","31",0,0);this.S["161"]=new c("161","162","161","0","0",1,-.229692);this.S["162"]=new c("161","162","161","0","0",1,.88595);this.S["84"]=new c("163","164","164","1","13.5",0,0);this.S["163"]=new c("163","164","164","0","0",1,-.992157);this.S["164"]=new c("163","164","164","0","0",1,.922159);this.S["10"]=new c("21","22","22","4","486",0,0);this.S["21"]=new c("43","44","44","133","4.5",0,0);this.S["43"]=new c("85","86","86","10","4.5",0,0);this.S["85"]=new c("165","166","166","4","158.5",0,0);this.S["165"]=new c("165","166","166","0","0",1,-.127778);this.S["166"]=new c("165","166","166","0","0",1,.955189);this.S["86"]=new c("165","166","166","0","0",1,-.994012);this.S["44"]=new c("87","88","88","1","3.5",0,0);this.S["87"]=new c("167","168","168","135","7",0,0);this.S["167"]=new c("167","168","168","0","0",1,-.997015);this.S["168"]=new c("167","168","168","0","0",1,.400821);this.S["88"]=new c("169","170","169","130","36",0,0);this.S["169"]=new c("169","170","169","0","0",1,-.898638);this.S["170"]=new c("169","170","169","0","0",1,.56129);this.S["22"]=new c("45","46","45","9","2.5",0,0);this.S["45"]=new c("89","90","90","9","1.5",0,0);this.S["89"]=new c("171","172","171","10","10.5",0,0);this.S["171"]=new c("171","172","171","0","0",1,.573986);this.S["172"]=new c("171","172","171","0","0",1,-.627266);this.S["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.S["173"]=new c("173","174","173","0","0",1,.925273);this.S["174"]=new c("173","174","173","0","0",1,-.994805);this.S["46"]=new c("91","92","91","136","5.5",0,0);this.S["91"]=new c("175","176","175","10","10.5",0,0);this.S["175"]=new c("175","176","175","0","0",1,.548352);this.S["176"]=new c("175","176","175","0","0",1,-.879195);this.S["92"]=new c("177","178","178","8","14.5",0,0);this.S["177"]=new c("177","178","178","0","0",1,.457305);this.S["178"]=new c("177","178","178","0","0",1,-.998992);this.S["2"]=new c("5","6","5","10","2.5",0,0);this.S["5"]=new c("11","12","11","9","4.5",0,0);this.S["11"]=new c("23","24","24","10","4.00001",0,0);this.S["23"]=new c("47","48","48","133","5.5",0,0);this.S["47"]=new c("93","94","93","3","13.5",0,0);this.S["93"]=new c("179","180","179","138","15.5",0,0);this.S["179"]=new c("179","180","179","0","0",1,.658398);this.S["180"]=new c("179","180","179","0","0",1,-.927007);this.S["94"]=new c("181","182","182","3","15.5",0,0);this.S["181"]=new c("181","182","182","0","0",1,-.111351);this.S["182"]=new c("181","182","182","0","0",1,-.99827);this.S["48"]=new c("95","96","95","7","167",0,0);this.S["95"]=new c("183","184","183","132","36.5",0,0);this.S["183"]=new c("183","184","183","0","0",1,.895161);this.S["184"]=new c("183","184","183","0","0",1,-.765217);this.S["96"]=new c("185","186","186","137","6.00001",0,0);this.S["185"]=new c("185","186","186","0","0",1,-.851095);this.S["186"]=new c("185","186","186","0","0",1,.674286);this.S["24"]=new c("49","50","49","137","5.5",0,0);this.S["49"]=new c("97","98","97","5","23.5",0,0);this.S["97"]=new c("187","188","187","3","28.5",0,0);this.S["187"]=new c("187","188","187","0","0",1,.951654);this.S["188"]=new c("187","188","187","0","0",1,-.993808);this.S["98"]=new c("187","188","187","0","0",1,-.99705);this.S["50"]=new c("187","188","187","0","0",1,-.997525);this.S["12"]=new c("25","26","25","8","8.5",0,0);this.S["25"]=new c("51","52","52","10","4.00001",0,0);this.S["51"]=new c("99","100","100","133","5.5",0,0);this.S["99"]=new c("189","190","190","7","40.5",0,0);this.S["189"]=new c("189","190","190","0","0",1,.151839);this.S["190"]=new c("189","190","190","0","0",1,-.855517);this.S["100"]=new c("191","192","192","133","14.5",0,0);this.S["191"]=new c("191","192","192","0","0",1,.86223);this.S["192"]=new c("191","192","192","0","0",1,.544394);this.S["52"]=new c("101","102","101","135","47.5",0,0);this.S["101"]=new c("193","194","194","4","24.5",0,0);this.S["193"]=new c("193","194","194","0","0",1,.946185);this.S["194"]=new c("193","194","194","0","0",1,.811859);this.S["102"]=new c("193","194","194","0","0",1,-.991561);this.S["26"]=new c("53","54","54","132","6.5",0,0);this.S["53"]=new c("103","104","103","131","85",0,0);this.S["103"]=new c("195","196","196","134","16.5",0,0);this.S["195"]=new c("195","196","196","0","0",1,.0473538);this.S["196"]=new c("195","196","196","0","0",1,-.999401);this.S["104"]=new c("197","198","198","8","15.5",0,0);this.S["197"]=new c("197","198","198","0","0",1,.816129);this.S["198"]=new c("197","198","198","0","0",1,-.99322);this.S["54"]=new c("105","106","105","133","3.5",0,0);this.S["105"]=new c("105","106","105","0","0",1,-.998783);this.S["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.S["199"]=new c("199","200","199","0","0",1,.528588);this.S["200"]=new c("199","200","199","0","0",1,-.998599);this.S["6"]=new c("13","14","14","10","7.5",0,0);this.S["13"]=new c("27","28","28","133","7.5",0,0);this.S["27"]=new c("55","56","56","10","4.5",0,0);this.S["55"]=new c("107","108","107","3","3.5",0,0);this.S["107"]=new c("201","202","201","4","17.5",0,0);this.S["201"]=new c("201","202","201","0","0",1,-.379512);this.S["202"]=new c("201","202","201","0","0",1,.15165);this.S["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.S["203"]=new c("203","204","203","0","0",1,-.884606);this.S["204"]=new c("203","204","203","0","0",1,.265406);this.S["56"]=new c("109","110","109","136","6.5",0,0);this.S["109"]=new c("205","206","205","4","157.5",0,0);this.S["205"]=new c("205","206","205","0","0",1,-.0142737);this.S["206"]=new c("205","206","205","0","0",1,.691279);this.S["110"]=new c("205","206","205","0","0",1,-.998086);this.S["28"]=new c("57","58","58","138","11.5",0,0);this.S["57"]=new c("111","112","112","2","6.5",0,0);this.S["111"]=new c("207","208","208","7","67.5",0,0);this.S["207"]=new c("207","208","208","0","0",1,.763925);this.S["208"]=new c("207","208","208","0","0",1,-.309645);this.S["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.S["209"]=new c("209","210","209","0","0",1,-.306635);this.S["210"]=new c("209","210","209","0","0",1,.556696);this.S["58"]=new c("113","114","113","138","50.5",0,0);this.S["113"]=new c("211","212","212","8","25.5",0,0);this.S["211"]=new c("211","212","212","0","0",1,.508234);this.S["212"]=new c("211","212","212","0","0",1,.793551);this.S["114"]=new c("211","212","212","0","0",1,-.998438);this.S["14"]=new c("29","30","29","134","27.5",0,0);this.S["29"]=new c("59","60","60","7","17.5",0,0);this.S["59"]=new c("115","116","115","135","5.5",0,0);this.S["115"]=new c("213","214","214","137","5.5",0,0);this.S["213"]=new c("213","214","214","0","0",1,.401747);this.S["214"]=new c("213","214","214","0","0",1,.0367503);this.S["116"]=new c("215","216","216","8","5.5",0,0);this.S["215"]=new c("215","216","216","0","0",1,-.0241984);this.S["216"]=new c("215","216","216","0","0",1,-.999046);this.S["60"]=new c("117","118","117","0","12.5",0,0);this.S["117"]=new c("217","218","218","132","5.5",0,0);this.S["217"]=new c("217","218","218","0","0",1,-.997294);this.S["218"]=new c("217","218","218","0","0",1,.210398);this.S["118"]=new c("219","220","219","137","1.5",0,0);this.S["219"]=new c("219","220","219","0","0",1,-.55763);this.S["220"]=new c("219","220","219","0","0",1,.074493);this.S["30"]=new c("61","62","62","133","42.5",0,0);this.S["61"]=new c("119","120","119","135","5.5",0,0);this.S["119"]=new c("221","222","222","4","473.5",0,0);this.S["221"]=new c("221","222","222","0","0",1,-.920213);this.S["222"]=new c("221","222","222","0","0",1,-.17615);this.S["120"]=new c("223","224","224","5","144",0,0);this.S["223"]=new c("223","224","224","0","0",1,-.954295);this.S["224"]=new c("223","224","224","0","0",1,-.382538);this.S["62"]=new c("121","122","121","133","50",0,0);this.S["121"]=new c("225","226","226","10","18.5",0,0);this.S["225"]=new c("225","226","226","0","0",1,-.0731343);this.S["226"]=new c("225","226","226","0","0",1,.755454);this.S["122"]=new c("227","228","228","0","30",0,0);this.S["227"]=new c("227","228","228","0","0",1,.25);this.S["228"]=new c("227","228","228","0","0",1,-.997101);}function d(e,f,l,h,k,m){this.ila=k;this.ida=m;}b=a(21457);g=a(79809);a={};a.iQb=new (function(){this.aLb=g();this.Wa=0;this.update=function(){this.Wa=g() - this.aLb;};this.type="num";})();a.Kcc=new (function(){this.type="cat";})();a.Lcc=new (function(){this.type="cat";})();a.Ncc=new (function(){this.type="cat";})();a.Occ=new (function(){this.type="cat";})();a.Mcc=new (function(){this.type="cat";})();a.Pcc=new (function(){this.type="cat";})();a.Qcc=new (function(){this.type="cat";})();a.Rcc=new (function(){this.type="cat";})();a.Scc=new (function(){this.type="cat";})();a.Tcc=new (function(){this.type="cat";})();a.Ucc=new (function(){this.type="cat";})();a.Vcc=new (function(){this.type="cat";})();a.Xcc=new (function(){this.type="cat";})();a.Ycc=new (function(){this.type="cat";})();a.Zcc=new (function(){this.type="cat";})();a.Wcc=new (function(){this.type="cat";})();a.$Qb=new (function(){this.update=function(e){for(var f in e.ac)if("becauseYouAdded" === e.ac[f].context){this.Wa=Math.max(e.ac[f].list.length,this.Wa);break;}};this.type="num";this.Wa=0;})();a.aRb=new (function(){this.update=function(e){for(var f in e.ac)if("becauseYouLiked" === e.ac[f].context){this.Wa=Math.max(e.ac[f].list.length,this.Wa);break;}};this.type="num";this.Wa=0;})();a.cRb=new (function(){this.update=function(e){for(var f in e.ac)if("billboard" === e.ac[f].context){this.Wa=Math.max(e.ac[f].list.length,this.Wa);break;}};this.type="num";this.Wa=0;})();a.aVb=new (function(){this.update=function(e){for(var f in e.ac)if("continueWatching" === e.ac[f].context){this.Wa=Math.max(e.ac[f].list.length,this.Wa);break;}};this.type="num";this.Wa=0;})();a.bRb=new (function(){this.update=function(e){for(var f in e.ac)if("bigRow" === e.ac[f].context){this.Wa=Math.max(e.ac[f].list.length,this.Wa);break;}};this.type="num";this.Wa=0;})();a.$3b=new (function(){this.update=function(e){for(var f in e.ac)if("genre" === e.ac[f].context){this.Wa=Math.max(e.ac[f].list.length,this.Wa);break;}};this.type="num";this.Wa=0;})();a.zgc=new (function(){this.update=function(e){for(var f in e.ac)if("netflixOriginals" === e.ac[f].context){this.Wa=Math.max(e.ac[f].list.length,this.Wa);break;}};this.type="num";this.Wa=0;})();a.Dgc=new (function(){this.update=function(e){for(var f in e.ac)if("newRelease" === e.ac[f].context){this.Wa=Math.max(e.ac[f].list.length,this.Wa);break;}};this.type="num";this.Wa=0;})();a.dlc=new (function(){this.update=function(e){for(var f in e.ac)if("popularTitles" === e.ac[f].context){this.Wa=Math.max(e.ac[f].list.length,this.Wa);break;}};this.type="num";this.Wa=0;})();a.Bh=new (function(){this.update=function(e){for(var f in e.ac)if("queue" === e.ac[f].context){this.Wa=Math.max(e.ac[f].list.length,this.Wa);break;}};this.type="num";this.Wa=0;})();a.vnc=new (function(){this.update=function(e){for(var f in e.ac)if("recentlyAdded" === e.ac[f].context){this.Wa=Math.max(e.ac[f].list.length,this.Wa);break;}};this.type="num";this.Wa=0;})();a.Zsc=new (function(){this.update=function(e){for(var f in e.ac)if("similars" === e.ac[f].context){this.Wa=Math.max(e.ac[f].list.length,this.Wa);break;}};this.type="num";this.Wa=0;})();a.bwc=new (function(){this.update=function(e){for(var f in e.ac)if("trendingNow" === e.ac[f].context){this.Wa=Math.max(e.ac[f].list.length,this.Wa);break;}};this.type="num";this.Wa=0;})();a.ywc=new (function(){this.update=function(e){for(var f in e.ac)if("ultraHD" === e.ac[f].context){this.Wa=Math.max(e.ac[f].list.length,this.Wa);break;}};this.type="num";this.Wa=0;})();a.Lyc=new (function(){this.update=function(e){for(var f in e.ac)if("watchAgain" === e.ac[f].context){this.Wa=Math.max(e.ac[f].list.length,this.Wa);break;}};this.type="num";this.Wa=0;})();a.Rvc=new (function(){this.update=function(e){for(var f in e.ac)if("topTen" === e.ac[f].context){this.Wa=Math.max(e.ac[f].list.length,this.Wa);break;}};this.type="num";this.Wa=0;})();a.gVb=new (function(){this.type="cat";})();a.hVb=new (function(){this.type="cat";})();a.iVb=new (function(){this.type="cat";})();a.jVb=new (function(){this.type="cat";})();a.kVb=new (function(){this.type="cat";})();a.lVb=new (function(){this.type="cat";})();a.mVb=new (function(){this.type="cat";})();a.nVb=new (function(){this.type="cat";})();a.oVb=new (function(){this.type="cat";})();a.pVb=new (function(){this.type="cat";})();a.qVb=new (function(){this.type="cat";})();a.rVb=new (function(){this.type="cat";})();a.sVb=new (function(){this.type="cat";})();a.tVb=new (function(){this.type="cat";})();a.uVb=new (function(){this.type="cat";})();a.vVb=new (function(){this.type="cat";})();a.wVb=new (function(){this.type="cat";})();a.xVb=new (function(){this.type="cat";})();a.yVb=new (function(){this.type="cat";})();a.zVb=new (function(){this.type="cat";})();a.AVb=new (function(){this.type="cat";})();a.BVb=new (function(){this.type="cat";})();a.CVb=new (function(){this.type="cat";})();a.DVb=new (function(){this.type="cat";})();a.EVb=new (function(){this.type="cat";})();a.FVb=new (function(){this.type="cat";})();a.GVb=new (function(){this.type="cat";})();a.HVb=new (function(){this.type="cat";})();a.IVb=new (function(){this.type="cat";})();a.JVb=new (function(){this.type="cat";})();a.KVb=new (function(){this.type="cat";})();a.LVb=new (function(){this.type="cat";})();a.MVb=new (function(){this.type="cat";})();a.NVb=new (function(){this.type="cat";})();a.OVb=new (function(){this.type="cat";})();a.PVb=new (function(){this.type="cat";})();a.QVb=new (function(){this.type="cat";})();a.RVb=new (function(){this.type="cat";})();a.SVb=new (function(){this.type="cat";})();a.TVb=new (function(){this.type="cat";})();a.UVb=new (function(){this.type="cat";})();a.VVb=new (function(){this.type="cat";})();a.WVb=new (function(){this.type="cat";})();a.XVb=new (function(){this.type="cat";})();a.YVb=new (function(){this.type="cat";})();a.ZVb=new (function(){this.type="cat";})();a.$Vb=new (function(){this.type="cat";})();a.aWb=new (function(){this.type="cat";})();a.bWb=new (function(){this.type="cat";})();a.cWb=new (function(){this.type="cat";})();a.dWb=new (function(){this.type="cat";})();a.eWb=new (function(){this.type="cat";})();a.fWb=new (function(){this.type="cat";})();a.gWb=new (function(){this.type="cat";})();a.hWb=new (function(){this.type="cat";})();a.iWb=new (function(){this.type="cat";})();a.jWb=new (function(){this.type="cat";})();a.kWb=new (function(){this.type="cat";})();a.lWb=new (function(){this.type="cat";})();a.mWb=new (function(){this.type="cat";})();a.nWb=new (function(){this.type="cat";})();a.oWb=new (function(){this.type="cat";})();a.pWb=new (function(){this.type="cat";})();a.qWb=new (function(){this.type="cat";})();a.rWb=new (function(){this.type="cat";})();a.sWb=new (function(){this.type="cat";})();a.tWb=new (function(){this.type="cat";})();a.uWb=new (function(){this.type="cat";})();a.vWb=new (function(){this.type="cat";})();a.wWb=new (function(){this.type="cat";})();a.xWb=new (function(){this.type="cat";})();a.yWb=new (function(){this.type="cat";})();a.zWb=new (function(){this.type="cat";})();a.AWb=new (function(){this.type="cat";})();a.BWb=new (function(){this.type="cat";})();a.CWb=new (function(){this.type="cat";})();a.DWb=new (function(){this.type="cat";})();a.EWb=new (function(){this.type="cat";})();a.FWb=new (function(){this.type="cat";})();a.Anc=new (function(){this.type="cat";})();a.Bnc=new (function(){this.type="cat";})();a.Cnc=new (function(){this.type="cat";})();a.Dnc=new (function(){this.type="cat";})();a.Enc=new (function(){this.type="cat";})();a.Fnc=new (function(){this.type="cat";})();a.Gnc=new (function(){this.type="cat";})();a.Hnc=new (function(){this.type="cat";})();a.Inc=new (function(){this.type="cat";})();a.Jnc=new (function(){this.type="cat";})();a.Knc=new (function(){this.type="cat";})();a.Lnc=new (function(){this.type="cat";})();a.Mnc=new (function(){this.type="cat";})();a.Nnc=new (function(){this.type="cat";})();a.Onc=new (function(){this.type="cat";})();a.Pnc=new (function(){this.type="cat";})();a.Qnc=new (function(){this.type="cat";})();a.Rnc=new (function(){this.type="cat";})();a.Snc=new (function(){this.type="cat";})();a.Tnc=new (function(){this.type="cat";})();a.Unc=new (function(){this.type="cat";})();a.Vnc=new (function(){this.type="cat";})();a.Wnc=new (function(){this.type="cat";})();a.Iuc=new (function(){this.update=function(e){"down" === e.direction && this.Wa++;};this.type="num";this.Wa=0;})();a.Kuc=new (function(){this.update=function(e){"right" === e.direction && this.Wa++;};this.type="num";this.Wa=0;})();a.Juc=new (function(){this.update=function(e){"left" === e.direction && this.Wa++;};this.type="num";this.Wa=0;})();a.Luc=new (function(){this.update=function(e){"up" === e.direction && this.Wa++;};this.type="num";this.Wa=0;})();a.$ec=new (function(){this.Wa=0;this.update=function(e){this.Wa=Math.max(this.Wa,e.rowIndex);};this.type="num";})();a.afc=new (function(){this.Wa=0;this.update=function(e){this.Wa=Math.max(this.Wa,e.Tab);};this.type="num";})();a.gfc=new (function(){this.cK=this.Wa=0;this.update=function(e){this.cK++;this.Wa=1 * (this.Wa + e.rowIndex) / this.cK;};this.type="num";})();a.hfc=new (function(){this.cK=this.Wa=0;this.update=function(e){this.cK++;return this.Wa=1 * (this.Wa + e.Tab) / this.cK;};this.type="num";})();a.Klc=new (function(){this.type="num";})();a.Llc=new (function(){this.type="num";})();n.prototype.iI=function(e){return this.M7a(this.S["0"].dub(e),e);};n.prototype.M7a=function(e,f){return "string" == typeof e?this.M7a(this.S[e].dub(f),f):e;};c.prototype.dub=function(e){switch(this.Ibc){case 0:switch(e.features[this.n8].type){case "cat":return null === e.features[this.n8].value?this.xob:"missing" == e.features[this.n8].value?this.tA:this.vAb;case "num":return null === e.features[this.n8].value?this.tA:e.features[this.n8].value < this.split?this.vAb:this.xob;default:return this.tA;}case 1:return this.iI;default:return this.iI;}};b.declare({P4:["modelSelector","modelone"],jUb:["colEpisodeList",5],Q9b:["holdDuration",15E3],Otb:["rowFirst",2],Sab:["colFirst",5],Ptb:["rowScroll",2],Uab:["colScroll",6],Lpc:["rowScrollHorizontal",6],oqc:["searchTop",3],qcb:["cwFirst",2],h3:["horizontalItemsFocusedMode",3],Lbc:["itemsPerRank",1],Oec:["maxNumberPayloadsStored",10],enb:["maxNumberTitlesScheduled",5],hIc:["enableDetailedLogging",!0],PMc:["rowStep",20],aHc:["colStep",15],cMc:["pageRows",100],bMc:["pageColumns",75],RJa:["maskParamsList",new (function(){var e,f;this.RJa=[];this.sn={};this.ila=20;this.ida=15;for(e=0;100 > e;e++)for(f=0;75 > f;f++)(Math.floor(e / this.ila) + "_" + Math.floor(f / this.ida) in this.sn) || (this.sn[Math.floor(e / this.ila) + "_" + Math.floor(f / this.ida)]=1,this.RJa.push(new d("grid",10,5,5,Math.floor(e / this.ila),Math.floor(f / this.ida))));})().RJa],S:["nodes",new n().S],mapping:["mapping",{afc:"0",hfc:"1",$ec:"2",gfc:"3",iQb:"4",Luc:"5",Juc:"6",Kuc:"7",Iuc:"8",Llc:"9",Klc:"10",Kcc:"11",Lcc:"12",Ncc:"13",Occ:"14",Mcc:"15",Pcc:"16",Qcc:"17",Rcc:"18",Scc:"19",Tcc:"20",Ucc:"21",Vcc:"22",Wcc:"23",Xcc:"24",Ycc:"25",Zcc:"26",Anc:"27",Bnc:"28",Cnc:"29",Dnc:"30",Enc:"31",Fnc:"32",Gnc:"33",Hnc:"34",Inc:"35",Jnc:"36",Knc:"37",Lnc:"38",Mnc:"39",Nnc:"40",Onc:"41",Pnc:"42",Qnc:"43",Rnc:"44",Snc:"45",Tnc:"46",Unc:"47",Vnc:"48",Wnc:"49",gVb:"50",hVb:"51",iVb:"52",jVb:"53",kVb:"54",lVb:"55",mVb:"56",nVb:"57",oVb:"58",pVb:"59",qVb:"60",rVb:"61",sVb:"62",tVb:"63",uVb:"64",vVb:"65",wVb:"66",xVb:"67",yVb:"68",zVb:"69",AVb:"70",BVb:"71",CVb:"72",DVb:"73",EVb:"74",FVb:"75",GVb:"76",HVb:"77",IVb:"78",JVb:"79",KVb:"80",LVb:"81",MVb:"82",NVb:"83",OVb:"84",PVb:"85",QVb:"86",RVb:"87",SVb:"88",TVb:"89",UVb:"90",VVb:"91",WVb:"92",XVb:"93",YVb:"94",ZVb:"95",$Vb:"96",aWb:"97",bWb:"98",cWb:"99",dWb:"100",eWb:"101",fWb:"102",gWb:"103",hWb:"104",iWb:"105",jWb:"106",kWb:"107",lWb:"108",mWb:"109",nWb:"110",oWb:"111",pWb:"112",qWb:"113",rWb:"114",sWb:"115",tWb:"116",uWb:"117",vWb:"118",wWb:"119",xWb:"120",yWb:"121",zWb:"122",AWb:"123",BWb:"124",CWb:"125",DWb:"126",EWb:"127",FWb:"128",Lyc:"129",vnc:"130",Zsc:"131",Bh:"132",aVb:"133",$3b:"134",bwc:"135",Rvc:"136",cRb:"137",Dgc:"138",ywc:"139",dlc:"140",$Qb:"141",bRb:"142",aRb:"143",zgc:"144"}],features:["features",a],UFc:["_modelName","tree"],RFc:["_format","xgboost"],TFc:["_itemsToKeep",5],SFc:["_itemsThreshold",null],EGc:["cacheLimit",20]});r.exports={config:b,cLc:d,vHc:c};},45578:function(r){r.exports={zB:{Zva:0,k3a:1,Cm:2,name:["transient","semiTransient","permanent"]},vB:{RWa:0,j3a:1,eaa:2,dZ:3,VB:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},yFc:{gFc:0,ICc:1,HAc:2,VB:100,name:["trailer","montage","content"]},My:{aZa:0,M2a:1,DJb:2,dDb:3,VB:100,name:["left","right","up","down"]},HY:{mCb:0,eaa:1,fCc:2,ABc:3,bAc:4,dCc:5,gBb:6,VB:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},UP:{dZ:0,wVa:1,VB:100,name:["playFocused","detailsOpened"]}};},90638:function(r,b,a){var d,g,e,f,l,h,k,m,p,v;function c(q,u){this.tl=q;this.co=u;}function n(q){this.Wb=q;this.reset();}d=a(79809);g=a(45578);b=a(76122);e=a(94030).config;f=b.T4b;l=b.z4b;h=b.OZb;k=b.Bhc;m=b.Ahc;p=b.zhc;v=b.Web;n.prototype.constructor=n;n.prototype.reset=function(){this.v7a=void 0;this.Kl=[];this.o7a=this.p7a=!1;};n.prototype.update=function(q,u){var t;this.Kl && (this.Kl=this.Kl.filter(this.Isc,this));if(!1 === this.p7a){t=f(q.ac).slice(0,e.qcb);0 < t.length && (this.lN(t,g.zB.Cm),this.p7a=!0,this.Kl=this.cP(t.concat(this.Kl)));}!1 === this.o7a && (t=l(q.ac).slice(0,e.qcb),0 < t.length && (this.lN(t,g.zB.Cm),this.o7a=!0,this.Kl=this.cP(t.concat(this.Kl))));switch(u){case g.vB.RWa:u=this.S8b(q);break;case g.vB.j3a:u=this.d9b(q);break;case g.vB.eaa:u=this.e9b(q);break;case g.vB.dZ:u=this.Z8b(q);break;default:u=this.P8b(q);}this.v7a=q;return u;};n.prototype.S8b=function(q){q=k(q.ac,e.Otb,e.Sab);this.lN(q,g.zB.Cm);return this.Kl=this.cP(this.Kl.concat(q));};n.prototype.d9b=function(q){var u,t;this.Wb.log("handleScrollHorizontal");u=q.ac;q=k(u,e.Ptb,e.Uab);t=h(u,this.v7a.ac);u=u[t].list.slice(0,e.Lpc);u.concat(q);this.lN(u,g.zB.Zva);return this.cP(u.concat(this.Kl));};n.prototype.lN=function(q,u){q.forEach(function(t){if(void 0 === t.TF || t.TF < u)t.TF=u;void 0 === t.AI && (t.AI=d());void 0 === t.Um && (t.Um=d());});};n.prototype.e9b=function(q){this.Wb.log("handleSearch");q=m(q.ac,e.oqc);this.lN(q,g.zB.k3a);this.Kl=q.concat(this.Kl);return this.Kl=this.cP(this.Kl);};n.prototype.Z8b=function(q){var u,t,w,x,z;this.Wb.log("handlePlayFocus: ",e.h3);u=q.direction;t=q.ac;q=[];w=v(t);if(void 0 !== w.tl)switch((q.push(w),u)){case g.My.M2a:for(u=1;u < e.h3;u++)q.push(new c(w.tl,w.co + u));q.push(new c(w.tl - 1,w.co));q.push(new c(w.tl + 1,w.co));break;case g.My.aZa:for(u=1;u < e.h3;u++)q.push(new c(w.tl,w.co - u));q.push(new c(w.tl - 1,w.co));q.push(new c(w.tl + 1,w.co));break;case g.My.DJb:q.push(new c(w.tl - 1,w.co));for(u=1;u <= e.h3 / 2;u++)(q.push(new c(w.tl,w.co + u)),q.push(new c(w.tl,w.co - u)));break;case g.My.dDb:for((q.push(new c(w.tl + 1,w.co)),u=1);u <= e.h3 / 2;u++)(q.push(new c(w.tl,w.co + u)),q.push(new c(w.tl,w.co - u)));}x=[];q.forEach(function(y){z=p(t,y.tl,y.co);void 0 !== z && x.push(z);});this.lN(x,g.zB.Zva);return this.cP(x.concat(this.Kl));};n.prototype.P8b=function(q){this.Wb.log("ModelOne: handleDefaultCase");q=k(q.ac,e.Ptb,e.Uab);this.lN(q,g.zB.Zva);return this.cP(q.concat(this.Kl));};n.prototype.Isc=function(q){return q.TF == g.zB.Cm | q.TF == g.zB.k3a & d() - q.AI < e.Q9b;};n.prototype.cP=function(q){var u,t,w,x,z,y,A;u=[];t={};x=0;z=q.length;for(w=0;w < z;w++){y=q[w].N;A=q[w];!1 === (y in t)?(u.push(A),t[y]=x,x++):(y=u[t[y]],A.Um < y.Um && (y.Um=A.Um),A.TF > y.TF && (y.TF=A.TF),A.AI > y.AI && (y.AI=A.AI));}return u;};r.exports=n;},7795:function(r){function b(c,n){var d;if(void 0 === n || "function" !== typeof n || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.oh)return (this.oh={},this.oh[c]=[n],!0);d=this.oh[c];return void 0 === d?(this.oh[c]=[n],!0):0 > d.indexOf(n)?(d.push(n),!0):!1;}function a(c,n){c=this.oh?this.oh[c]:void 0;if(!c)return !1;c.forEach(function(d){d(n);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,n){var d;if(void 0 === n || "function" !== typeof n || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.oh)return !1;d=this.oh[c];if(void 0 === d)return !1;n=d.indexOf(n);if(0 > n)return !1;if(1 === d.length)return (delete this.oh[c],!0);d.splice(n,1);return !0;},jx:a,emit:a,removeAllListeners:function(c){this.oh && (void 0 === c?delete this.oh:delete this.oh[c]);return this;}};},65267:function(r){function b(c,n,d,g){c.trace(":",d,":",g);n(g);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,n,d,g){d=g?d.bind(g):d;g=!1;if(c){this.console && (d=b.bind(null,this.console,d,n));if("function" === typeof c.addEventListener)g=c.addEventListener(n,d);else if("function" === typeof c.addListener)g=c.addListener(n,d);else throw Error("Emitter does not have a function to add listeners for '" + n + "'");this.listeners.push([c,n,d]);}return g;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(n){var d,g;d=n[0];g=n[1];n=n[2];"function" === typeof d.removeEventListener?d.removeEventListener(g,n):"function" === typeof d.removeListener && d.removeListener(g,n);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},41628:function(r,b,a){r.exports={EventEmitter:a(7795),mf:a(65267)};},99886:function(r,b,a){var g,e,f,l,h,k,m;function c(p,v,q,u,t,w){this.P=this.N=p;this.priority=v;this.He=q;w && w.ue && (this.ue=w.ue);void 0 !== u && (this.NU=u);this.Um=t;this.Bb=w;}function n(p,v,q,u,t){f(void 0 !== u,"video preparer is null");f(void 0 !== t,"ui preparer is null");this.Wb=v || console;this.Wb=v;this.na=q;this.lNb=u;this.cNb=t;this.u7a=k.RMa;this.QQ=[];this.Aya=!1;this.RZ=0;new m().on(k,"changed",d,this);this.reset();}function d(){this.Wb.log("config changed");k.RMa && (this.u7a=k.RMa);k.P4 !== this.LQ && (this.reset(),this.XNa());}g=a(79809);e=a(45578);b=a(76122);f=b.assert;l=b.Web;h=a(90638);k=a(94030).config;m=a(41628).mf;k.declare({RMa:["ppmConfig",{AAc:{Tob:0,Sob:2,Pob:0,Qob:5,xvb:0},QEc:{Tob:0,Sob:1,Pob:0,Qob:3,xvb:1E3},MAc:{Tob:0,Sob:1,Pob:0,Qob:3,xvb:1E3}}]});n.prototype.constructor=n;n.prototype.reset=function(){this.qxa=!0;this.LQ=k.P4;this.Wb.log("create model: " + k.P4,k.Otb,k.Sab);switch(k.P4){case "modelone":this.LQ=new h(this.Wb);break;default:this.LQ=new h(this.Wb);}};n.prototype.XNa=function(){var v,q;if(!1 === this.Aya){this.Aya=!0;for(var p=0;p < this.QQ.length;p++){this.Wb.log("PlayPredictionModel replay: ",JSON.stringify(this.QQ[p]));v=this.ubb(this.QQ[p]);q=this.Jfb(v);this.LQ.update(v,q);this.qxa=!1;}this.QQ=[];}};n.prototype.update=function(p){var v,q,u;this.Wb.log("PlayPredictionModel update: ",JSON.stringify(p));if(p && p.ac && p.ac[0]){!1 === this.Aya && this.QQ.length < k.Oec && this.QQ.push(p);v=this.ubb(p);q=this.Jfb(v);this.Wb.log("actionType",q);v="mlmodel" == k.P4?this.LQ.update(p,q):this.LQ.update(v,q);v=this.Y3b(v,k.Lbc || 1);this.Wb.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(v));0 === this.RZ && (this.RZ=g(),this.na && this.na.o6 && this.na.o6({KZb:this.RZ}));if(this.na && this.na.Coc){this.b5b();u=[];v.forEach(function(t){u.push({RNc:t.N});});JSON.stringify(p);JSON.stringify(v);}this.lNb.LN(v);this.cNb.LN(v);this.qxa=!1;}};n.prototype.b5b=function(){g();};n.prototype.o6=function(){this.RZ=g();this.na && this.na.o6 && this.na.o6({KZb:this.RZ});};n.prototype.ubb=function(p){var v,q,u,t,w;v={};u=p.ac || [];t=(function(x){var z,y;z={};w=e.HY.name.indexOf(x.context);z.context=0 <= w?w:e.HY.VB;z.rowIndex=x.rowIndex;z.requestId=x.requestId;z.list=[];q=x.list || [];q.forEach((function(A){y={N:A.N,He:A.He,index:A.index,NU:A.NU,uka:A.uka,list:A.list,Bb:A.Bb};void 0 !== A.property && (w=e.UP.name.indexOf(A.property),y.property=0 <= w?w:e.UP.VB);z.list.push(y);}).bind(this));v.ac.push(z);}).bind(this);if(void 0 !== p.direction){w=e.My.name.indexOf(p.direction);v.direction=0 <= w?w:e.My.VB;}void 0 !== p.W1 && (v.LIc=p.W1.rowIndex,v.KIc=p.W1.oUb);v.W1=p.W1;v.ac=[];u.forEach(t);return v;};n.prototype.Jfb=function(p){var v,q,u;v=p.direction || e.My.VB;q=p.W1;u=p.ac || [];!0 === this.qxa?p=e.vB.RWa:!0 === u.some(this.v9b)?(p=e.vB.dZ,this.Vka(u,v,q)):p=u[0].context === e.HY.eaa?e.vB.eaa:v === e.My.M2a || v === e.My.aZa?e.vB.j3a:e.vB.VB;return p;};n.prototype.v9b=function(p){return (p.list || []).some(function(v){return v.property === e.UP.dZ || v.property === e.UP.wVa;});};n.prototype.Vka=function(p,v,q){var u,t;this.Wb.log("reportPlayFocusEvent: ",v,q);u={};t=l(p);this.na && this.na.Vka && (u.tIc=g(),u.direction=e.My.name[v],q && (u.rowIndex=q.rowIndex,u.Tab=q.oUb),void 0 !== t.tl && (u.requestId=p[t.tl].requestId),this.na.Vka && this.na.Vka(u));};n.prototype.Y3b=function(p,v){for(var q=p.length,u=[],t,w,x,z,y=0;y < q;y++){w=p[y];t=Math.floor(y / v) + 1;if(void 0 !== w.list){x=w.list;z=x.length;for(var A=0;A < Math.min(k.jUb,z) && !(x[A].Um=w.Um,this.Q8a(x[A],t,u),u.length >= k.enb);A++);}else this.Q8a(w,t,u);if(u.length >= k.enb)break;}return u;};n.prototype.Q8a=function(p,v,q){var t,w;function u(x){x.ue && (x.Bb || (x.Bb={}),x.Bb.ue=x.ue);return x.Bb;}t=p.uka;if(void 0 !== t && t instanceof Array)t.forEach(function(x){void 0 !== x.N && (w=u(x),q.push(new c(x.N,v,x.He,x.NU,p.Um,w)));});else if(void 0 !== t && void 0 !== t.N){t=p.uka;w=u(t);q.push(new c(t.N,v,t.He,t.NU,p.Um,w));}void 0 !== p.N && (w=u(p),q.push(new c(p.N,v,p.He,p.NU,p.Um,w)));};n.prototype.ZL=function(p){var v;v=this.u7a;return p?v[p]:v;};r.exports=n;},76122:function(r,b,a){var n;function c(d){for(var g="",e=0;e < d.length;e++)g+=d[e].N + "|";return g;}n=a(45578);r.exports={assert:function(d,g){if(!d)throw Error("PlayPredictionModel assertion failed" + (g?" : " + g:""));},bKc:function(d,g,e){Array.prototype.splice.apply(d,[g,0].concat(e));},T4b:function(d){for(var g=[],e=0;e < d.length;e++)if(d[e].context === n.HY.mCb){g=d[e].list;break;}return g;},z4b:function(d){for(var g=[],e=0;e < d.length;e++)if(d[e].context === n.HY.gBb){g=d[e].list;break;}return g;},OZb:function(d,g){for(var e=0,f,l,h,k=0,m=d.length - 1;k < m;k++){f=c(d[k].list || []);h=!1;for(var p=0,v=g.length;p < v;p++)if((l=c(g[p].list || []),l == f)){h=!0;break;}if(!1 === h){e=k;break;}}return e;},Bhc:function(d,g,e){for(var f=[],l,h=0;h < Math.min(g,d.length);h++)(l=d[h].list || [],f=f.concat(l.slice(0,e)));return f;},Ahc:function(d,g){for(var e=[],f,l=0;l < d.length && (f=d[l].list || [],f=f.slice(0,Math.min(f.length,g)),g-=f.length,e=e.concat(f),0 !== g);l++);return e;},zhc:function(d,g,e){var f;g < d.length && 0 <= g && (d=d[g].list || [],e < d.length && (f=d[e]));return f;},Web:function(d){for(var g={},e=d.length,f,l=0;l < e;l++){f=d[l].list || [];for(var h=0;h < f.length;h++)if(f[h].property === n.UP.dZ || f[h].property === n.UP.wVa){g.tl=l;g.co=h;break;}}void 0 === g.tl && void 0 === g.co && (g.tl=0,g.co=0);return g;}};},21457:function(r,b,a){var l,h,k,m,p,v,q,u;function c(t){return t.split(",").reduce(function(w,x){var z;z=x.split("=");x=z[0];z=z.slice(1).join("=");x && x.length && (w[x]=z || !0);return w;},{});}function n(t){return t && "object" === typeof t?JSON.stringify(t):"string" === typeof t?'"' + t + '"':"" + t;}function d(t,w,x){var z;if("string" === typeof t)return d.call(this,c(t),w,x);z=0;Object.keys(t).forEach(function(y){var A,B,C;A=p[y];B=t[y];if(A){if(C=v[y] || u[typeof l[A]])try{B=C(B);}catch(D){x && x.error("Failed to convert value '" + B + "' for config '" + y + "' : " + D.toString());return;}C=m[A];this[A]=B;m[A] !== C && (x && x.debug("Config changed for '" + y + "' from " + n(C) + " (" + typeof C + ") to " + n(B) + " (" + typeof B + ")"),++z);}else w?(A=(A=q[y])?A.filter(function(D){return D[0] !== this;},this):[],A.push([this,B]),q[y]=A):x && x.error("Attempt to change undeclared config option '" + y + "'");},this);z && m.emit("changed");return z;}function g(){return Object.keys(p).reduce(function(t,w){var x,z;x=p[w];z=t[x];z?(z.push(w),t[x]=z.sort(function(y,A){return A.length - y.length;})):t[x]=[w];return t;},{});}function e(t,w){return t.hasOwnProperty(w)?n(t[w]):void 0;}function f(t,w){return "undefined" === typeof t?w:t;}b=a(31503);a=a(37911).EventEmitter;l={};h=Object.create(l);k=Object.create(h);m=Object.create(k);p={};v={};q={};m.declare=function(t){Object.keys(t).forEach(function(w){var x,z,y,A;x=t[w];z=x[0];y=x[1];A=x[2];if(l.hasOwnProperty(w))throw Error("The local configuraion key '" + w + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(B){var C;if(p.hasOwnProperty(B))throw Error("The configuration value '" + B + "' has been declared more than once");l.hasOwnProperty(w) || ("function" === typeof y && (y=y()),l[w]=y);p[B]=w;"function" === typeof A && (v[B]=A);if(C=q[B])(C.forEach(function(D){var E,F;E=D[0];F={};F[B]=D[1];d.call(E,F,!1);}),delete q[B]);});});return m;};u={object:function(t){return "object" == typeof t?t:JSON.parse("" + t);},"boolean":function(t){return "boolean" == typeof t?t:!("0" === "" + t || "false" === ("" + t).toLowerCase());},number:function(t){if("number" == typeof t)return t;t=parseFloat("" + t);if(isNaN(t))throw Error("parseFloat returned NaN");return t;}};m.set=d.bind(h);m.QLa=d.bind(k);m.dump=function(t,w){var z,y,A,B;function x(){B && t && t.log("===========================================");}z=Object.keys(q).sort();y={};A=g();w=f(w,!0);Object.keys(p).sort().forEach(function(C){var D,E,F;C=p[C];if(!y[C]){y[C]=!0;D=e(h,C);E=e(k,C);if(w || "undefined" !== typeof D || "undefined" !== typeof E){F=A[C].join(",");F+=" = " + n(m[C]) + " (" + typeof m[C] + ") [";F+=f(E,"<unset>") + ",";F+=f(D,"<unset>") + ",";F+=e(l,C) + "]";B || (B=!0,t && t.log("Current config values"),x());t && t.log(F);}}});(w || z.length) && t && t.log("<undeclared> :",z);x();};m.ar=function(t){var w,x;w={};x={};Object.keys(p).forEach(function(z){z=p[z];x[z] || (x[z]=!0,w[z]=m[z]);});t && d.call(w,t);return w;};m.rkc=function(){var t;t=g();return Object.getOwnPropertyNames(h).reduce(function(w,x){w[t[x][0]]=h[x];return w;},{});};m.reset=function(){Object.keys(h).forEach(function(t){delete h[t];});};m.oh={};b(a,m);r.exports=Object.freeze(m);},76295:function(r){function b(c,n){var d;if(void 0 === n || "function" !== typeof n || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.oh)return (this.oh={},this.oh[c]=[n],!0);d=this.oh[c];return void 0 === d?(this.oh[c]=[n],!0):0 > d.indexOf(n)?(d.push(n),!0):!1;}function a(c,n){c=this.oh?this.oh[c]:void 0;if(!c)return !1;c.forEach(function(d){d(n);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,n){var d;if(void 0 === n || "function" !== typeof n || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.oh)return !1;d=this.oh[c];if(void 0 === d)return !1;n=d.indexOf(n);if(0 > n)return !1;if(1 === d.length)return (delete this.oh[c],!0);d.splice(n,1);return !0;},jx:a,emit:a,removeAllListeners:function(c){this.oh && (void 0 === c?delete this.oh:delete this.oh[c]);return this;}};},92653:function(r){function b(c,n,d,g){c.trace(":",d,":",g);n(g);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,n,d,g){d=g?d.bind(g):d;g=!1;if(c){this.console && (d=b.bind(null,this.console,d,n));if("function" === typeof c.addEventListener)g=c.addEventListener(n,d);else if("function" === typeof c.addListener)g=c.addListener(n,d);else throw Error("Emitter does not have a function to add listeners for '" + n + "'");this.listeners.push([c,n,d]);}return g;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(n){var d,g;d=n[0];g=n[1];n=n[2];"function" === typeof d.removeEventListener?d.removeEventListener(g,n):"function" === typeof d.removeListener && d.removeListener(g,n);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},37911:function(r,b,a){r.exports={EventEmitter:a(76295),mf:a(92653)};},17267:function(r){var b;b={dc:function(a){return "number" === typeof a;},Qx:function(a){return "object" === typeof a;},zh:function(a){return "string" === typeof a;},Dr:function(a){return "undefined" === typeof a;},gKc:function(a){return "boolean" === typeof a;},Bt:function(a){return "function" === typeof a;},Dc:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},wjc:function(a){var c,n;n=[];if(!b.Qx(a))throw new TypeError("Object.pairs called on non-object");for(c in a)a.hasOwnProperty(c) && n.push([c,a[c]]);return n;}};b.kt=b.forEach=function(a,c,n){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var d=0,g=a.length;d < g;d++)c.call(n,a[d],d,a);else for(d in a)b.has(a,d) && c.call(n,a[d],d,a);return a;};r.exports=b;},75691:function(r,b,a){var c,n,d,g,e,f,l,h,k,m;if(!Object.keys){c=Object.prototype.hasOwnProperty;n=Object.prototype.toString;d=a(30801);b=Object.prototype.propertyIsEnumerable;g=!b.call({toString:null},"toString");e=b.call(function(){},"prototype");f=("toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor").split(" ");l=function(p){var v;v=p.constructor;return v && v.prototype === p;};h={nzc:!0,ozc:!0,pzc:!0,qzc:!0,rzc:!0,szc:!0,tzc:!0,uzc:!0,vzc:!0,wzc:!0,xzc:!0,yzc:!0,zzc:!0,Azc:!0,Bzc:!0,Czc:!0,Dzc:!0,Ezc:!0,Fzc:!0,Gzc:!0,Hzc:!0,Izc:!0,Jzc:!0};k=(function(){if("undefined" === typeof Ba)return !1;for(var p in Ba)try{if(!h["$" + p] && c.call(Ba,p) && null !== Ba[p] && "object" === typeof Ba[p])try{l(Ba[p]);}catch(v){return !0;}}catch(v){return !0;}return !1;})();m=function(p){var v,q,u,t,w,z;v=null !== p && "object" === typeof p;q="[object Function]" === n.call(p);u=d(p);t=v && "[object String]" === n.call(p);w=[];if(!v && !q && !u)throw new TypeError("Object.keys called on a non-object");v=e && q;if(t && 0 < p.length && !c.call(p,0))for(t=0;t < p.length;++t)w.push(String(t));if(u && 0 < p.length)for(u=0;u < p.length;++u)w.push(String(u));else for(var x in p)v && "prototype" === x || !c.call(p,x) || w.push(String(x));if(g){if("undefined" !== typeof Ba && k)try{z=l(p);}catch(y){z=!1;}else z=l(p);for(u=0;u < f.length;++u)z && "constructor" === f[u] || !c.call(p,f[u]) || w.push(f[u]);}return w;};}r.exports=m;},33464:function(r,b,a){var c,n,d,g,e;c=Array.prototype.slice;n=a(30801);d=Object.keys;g=d?function(f){return d(f);}:a(75691);e=Object.keys;g.xsc=function(){Object.keys?(function(){var f;f=Object.keys(arguments);return f && f.length === arguments.length;})(1,2) || (Object.keys=function(f){return n(f)?e(c.call(f)):e(f);}):Object.keys=g;return Object.keys || g;};r.exports=g;},30801:function(r){var b;b=Object.prototype.toString;r.exports=function(a){var c,n;c=b.call(a);n="[object Arguments]" === c;n || (n="[object Array]" !== c && null !== a && "object" === typeof a && "number" === typeof a.length && 0 <= a.length && "[object Function]" === b.call(a.callee));return n;};},61386:function(r,b,a){var e,f,l,h;function c(k){var m,p,v;if("Object" !== l(this))throw new TypeError("receiver is not an Object");m=f(this,h);p=k;v=k;e(k) && (p=d(m,k),v=n(m,k));return this.then(p,v);}function n(k,m){return function(p){var v;v=m();return g(k,v).then(function(){throw p;});};}function d(k,m){return function(p){var v;v=m();return g(k,v).then(function(){return p;});};}function g(k,m){return new k(function(p){p(m);});}a(57897)();e=a(83317);f=a(88251);l=a(18132);h=Promise;Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(c,"name")) && b.configurable && Object.defineProperty(c,"name",{configurable:!0,value:"finally"});r.exports=c;},32887:function(r,b,a){var c,n;c=a(57897);n=a(61386);r.exports=function(){c();return "function" === typeof Promise.prototype["finally"]?Promise.prototype["finally"]:n;};},57897:function(r){r.exports=function(){if("function" !== typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.");};},65574:function(r,b,a){var c,n,d;c=a(57897);n=a(32887);d=a(14926);r.exports=function(){var g;c();g=n();d(Promise.prototype,{"finally":g},{"finally":function(){return Promise.prototype["finally"] !== g;}});return g;};},23614:function(r,b,a){var c;c=a(35375);b=a(31187)(function(n,d){return c(n.length,function(){return n.apply(d,arguments);});});r.exports=b;},57301:function(r,b,a){var c,n,d,g,e;b=a(31187);c=a(55446);n=a(89028);d=a(77894);g=a(67758);e=a(75850);a=b(function(f,l){return n(e(d,0,g("length",l)),function(){var h,k;h=arguments;k=this;return f.apply(k,c(function(m){return m.apply(k,h);},l));});});r.exports=a;},89028:function(r,b,a){var c,n,d;c=a(35375);n=a(16805);b=a(31187);d=a(16500);a=b(function(g,e){return 1 === g?n(e):c(g,d(g,[],e));});r.exports=a;},5154:function(r,b,a){var c;c=a(25701);b=a(20239)(function(n,d,g){for(var e=[],f=0,l=d.length;f < l;)(c(n,d[f],g) || c(n,d[f],e) || e.push(d[f]),f+=1);return e;});r.exports=b;},42514:function(r,b,a){var c,n,d,g,e,f;b=a(31187);c=a(8414);n=a(46458);d=a(78678);g=a(18468);e=a(14128);f=a(93358);a=b(c(["filter"],e,function(l,h){return d(h)?g(function(k,m){l(h[m]) && (k[m]=h[m]);return k;},{},f(h)):n(l,h);}));r.exports=a;},56663:function(r,b,a){b=a(31187)(function(c,n){for(var d=[],g=0,e=n.length;g < e;){for(var f=g + 1;f < e && c(n[f - 1],n[f]);)f+=1;d.push(n.slice(g,f));g=f;}return d;});r.exports=b;},35375:function(r){r.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,n){return a.apply(this,arguments);};case 3:return function(c,n,d){return a.apply(this,arguments);};case 4:return function(c,n,d,g){return a.apply(this,arguments);};case 5:return function(c,n,d,g,e){return a.apply(this,arguments);};case 6:return function(c,n,d,g,e,f){return a.apply(this,arguments);};case 7:return function(c,n,d,g,e,f,l){return a.apply(this,arguments);};case 8:return function(c,n,d,g,e,f,l,h){return a.apply(this,arguments);};case 9:return function(c,n,d,g,e,f,l,h,k){return a.apply(this,arguments);};case 10:return function(c,n,d,g,e,f,l,h,k,m){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},48925:function(r){r.exports=function(b){return function(){return !b.apply(this,arguments);};};},86614:function(r){r.exports=function(b,a){var c,n,d,g;b=b || [];a=a || [];n=b.length;d=a.length;g=[];for(c=0;c < n;)(g[g.length]=b[c],c+=1);for(c=0;c < d;)(g[g.length]=a[c],c+=1);return g;};},25701:function(r){r.exports=function(b,a,c){for(var n=0,d=c.length;n < d;){if(b(a,c[n]))return !0;n+=1;}return !1;};},16805:function(r,b,a){var c;c=a(28198);r.exports=function(n){return function e(g){return 0 === arguments.length || c(g)?e:n.apply(this,arguments);};};},31187:function(r,b,a){var c,n;c=a(16805);n=a(28198);r.exports=function(d){return function l(e,f){switch(arguments.length){case 0:return l;case 1:return n(e)?l:c(function(h){return d(e,h);});default:return n(e) && n(f)?l:n(e)?c(function(h){return d(h,f);}):n(f)?c(function(h){return d(e,h);}):d(e,f);}};};},20239:function(r,b,a){var c,n,d;c=a(16805);n=a(31187);d=a(28198);r.exports=function(g){return function k(f,l,h){switch(arguments.length){case 0:return k;case 1:return d(f)?k:n(function(m,p){return g(f,m,p);});case 2:return d(f) && d(l)?k:d(f)?n(function(m,p){return g(m,l,p);}):d(l)?n(function(m,p){return g(f,m,p);}):c(function(m){return g(f,l,m);});default:return d(f) && d(l) && d(h)?k:d(f) && d(l)?n(function(m,p){return g(m,p,h);}):d(f) && d(h)?n(function(m,p){return g(m,l,p);}):d(l) && d(h)?n(function(m,p){return g(f,m,p);}):d(f)?c(function(m){return g(m,l,h);}):d(l)?c(function(m){return g(f,m,h);}):d(h)?c(function(m){return g(f,l,m);}):g(f,l,h);}};};},16500:function(r,b,a){var n,d;function c(g,e,f){return function(){var p;for(var l=[],h=0,k=g,m=0;m < e.length || h < arguments.length;){if(m < e.length && (!d(e[m]) || h >= arguments.length))p=e[m];else (p=arguments[h],h+=1);l[m]=p;d(p) || --k;m+=1;}return 0 >= k?f.apply(this,l):n(k,c(g,l,f));};}n=a(35375);d=a(28198);r.exports=c;},8414:function(r,b,a){var c,n;c=a(84357);n=a(11972);r.exports=function(d,g,e){return function(){var f,l;if(0 === arguments.length)return e();f=Array.prototype.slice.call(arguments,0);l=f.pop();if(!c(l)){for(var h=0;h < d.length;){if("function" === typeof l[d[h]])return l[d[h]].apply(l,f);h+=1;}if(n(l))return g.apply(null,f)(l);}return e.apply(this,arguments);};};},46458:function(r){r.exports=function(b,a){for(var c=0,n=a.length,d=[];c < n;)(b(a[c]) && (d[d.length]=a[c]),c+=1);return d;};},58380:function(r){r.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},46546:function(r,b,a){var c,n;c=a(58380);n=Object.prototype.toString;r.exports=function(){return "[object Arguments]" === n.call(arguments)?function(d){return "[object Arguments]" === n.call(d);}:function(d){return c("callee",d);};};},84357:function(r){r.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},33905:function(r,b,a){var c,n;b=a(16805);c=a(84357);n=a(86807);a=b(function(d){return c(d)?!0:!d || "object" !== typeof d || n(d)?!1:1 === d.nodeType?!!d.length:0 === d.length?!0:0 < d.length?d.hasOwnProperty(0) && d.hasOwnProperty(d.length - 1):!1;});r.exports=a;},78678:function(r){r.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},28198:function(r){r.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},86807:function(r){r.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},11972:function(r){r.exports=function(b){return "function" === typeof b["@@transducer/step"];};},55446:function(r){r.exports=function(b,a){for(var c=0,n=a.length,d=Array(n);c < n;)(d[c]=b(a[c]),c+=1);return d;};},18468:function(r,b,a){var d,g,e,f;function c(l,h,k){for(var m=k.next();!m.done;){if((h=l["@@transducer/step"](h,m.value)) && h["@@transducer/reduced"]){h=h["@@transducer/value"];break;}m=k.next();}return l["@@transducer/result"](h);}function n(l,h,k,m){return l["@@transducer/result"](k[m](e(l["@@transducer/step"],l),h));}d=a(33905);g=a(71402);e=a(23614);f="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";r.exports=function(l,h,k){"function" === typeof l && (l=g(l));if(d(k)){for(var m=0,p=k.length;m < p;){if((h=l["@@transducer/step"](h,k[m])) && h["@@transducer/reduced"]){h=h["@@transducer/value"];break;}m+=1;}return l["@@transducer/result"](h);}if("function" === typeof k["fantasy-land/reduce"])return n(l,h,k,"fantasy-land/reduce");if(null != k[f])return c(l,h,k[f]());if("function" === typeof k.next)return c(l,h,k);if("function" === typeof k.reduce)return n(l,h,k,"reduce");throw new TypeError("reduce: list must be array or iterable");};},18610:function(r){r.exports={Pb:function(){return this.C8["@@transducer/init"]();},result:function(b){return this.C8["@@transducer/result"](b);}};},14128:function(r,b,a){var c,n;b=a(31187);c=a(18610);n=(function(){function d(g,e){this.C8=e;this.f=g;}d.prototype["@@transducer/init"]=c.Pb;d.prototype["@@transducer/result"]=c.result;d.prototype["@@transducer/step"]=function(g,e){return this.f(e)?this.C8["@@transducer/step"](g,e):g;};return d;})();a=b(function(d,g){return new n(d,g);});r.exports=a;},94406:function(r,b,a){var c,n;b=a(31187);c=a(18610);n=(function(){function d(g,e){this.C8=e;this.f=g;}d.prototype["@@transducer/init"]=c.Pb;d.prototype["@@transducer/result"]=c.result;d.prototype["@@transducer/step"]=function(g,e){return this.C8["@@transducer/step"](g,this.f(e));};return d;})();a=b(function(d,g){return new n(d,g);});r.exports=a;},71402:function(r){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,n){return this.f(c,n);};return a;})();r.exports=function(a){return new b(a);};},72849:function(r,b,a){var c;b=a(16805);c=a(57301);a=b(function(n){return c(function(){return Array.prototype.slice.call(arguments,0);},n);});r.exports=a;},93358:function(r,b,a){var c,n,d,g,e;b=a(16805);c=a(58380);n=a(46546);d=!({toString:null}).propertyIsEnumerable("toString");g=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");e=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || e?function(f){var l,h,k,m;if(Object(f) !== f)return [];l=[];h=e && n(f);for(k in f)!c(k,f) || h && "length" === k || (l[l.length]=k);if(d)for(h=g.length - 1;0 <= h;){k=g[h];if(m=c(k,f)){a:{for(m=0;m < l.length;){if(l[m] === k){m=!0;break a;}m+=1;}m=!1;}m=!m;}m && (l[l.length]=k);--h;}return l;}:function(f){return Object(f) !== f?[]:Object.keys(f);});r.exports=a;},81057:function(r,b,a){var c,n,d,g,e,f;b=a(31187);c=a(8414);n=a(55446);d=a(18468);g=a(94406);e=a(89028);f=a(93358);a=b(c(["fantasy-land/map","map"],g,function(l,h){switch(Object.prototype.toString.call(h)){case "[object Function]":return e(h.length,function(){return l.call(this,h.apply(this,arguments));});case "[object Object]":return d(function(k,m){k[m]=l(h[m]);return k;},{},f(h));default:return n(l,h);}}));r.exports=a;},77894:function(r,b,a){b=a(31187)(function(c,n){return n > c?n:c;});r.exports=b;},29664:function(r,b,a){var c;b=a(20239);c=a(29924);a=b(function(n,d,g){return c(function(e,f,l){return n(f,l);},d,g);});r.exports=a;},29924:function(r,b,a){var c,n;b=a(20239);c=a(78678);n=a(48796);a=b(function l(g,e,f){return n(function(h,k,m){return c(k) && c(m)?l(g,k,m):g(h,k,m);},e,f);});r.exports=a;},48796:function(r,b,a){var c;b=a(20239);c=a(58380);a=b(function(n,d,g){var e,f;e={};for(f in d)c(f,d) && (e[f]=c(f,g)?n(f,d[f],g[f]):d[f]);for(f in g)c(f,g) && !c(f,e) && (e[f]=g[f]);return e;});r.exports=a;},31435:function(r,b,a){var c;b=a(42514);c=a(72849);a=a(64580);a=c([b,a]);r.exports=a;},23335:function(r,b,a){b=a(31187)(function(c,n){for(var d=0;d < c.length;){if(null == n)return;n=n[c[d]];d+=1;}return n;});r.exports=b;},67758:function(r,b,a){var c,n;b=a(31187);c=a(81057);n=a(38695);a=b(function(d,g){return c(n(d),g);});r.exports=a;},38695:function(r,b,a){var c;b=a(31187);c=a(23335);a=b(function(n,d){return c([n],d);});r.exports=a;},75850:function(r,b,a){b=a(20239);a=a(18468);a=b(a);r.exports=a;},64580:function(r,b,a){var c,n;c=a(48925);b=a(31187);n=a(42514);a=b(function(d,g){return n(c(d),g);});r.exports=a;},60024:function(r,b,a){var c,n;c=a(86614);b=a(20239);n=a(25228);a=b(function(d,g,e){return n(d,c(g,e));});r.exports=a;},25228:function(r,b,a){var c;c=a(25701);b=a(31187)(function(n,d){for(var g=0,e=d.length,f=[],l;g < e;)(l=d[g],c(n,l,f) || (f[f.length]=l),g+=1);return f;});r.exports=b;},1738:function(r,b,a){var c;(function(n){(function(d){var e,f;function g(l,h){return function(k,m){"function" !== typeof l[k] && Object.defineProperty(l,k,{configurable:!0,writable:!0,value:m});h && h(k,m);};}e="object" === typeof a.LS?a.LS:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();f=g(n);"undefined" === typeof e.Reflect?e.Reflect=n:f=g(e.Reflect,f);d(f);})(function(d){var E,F,G,J,N,I,M,K,L,H,O;function g(P,Q,S){var X;X=O.get(P);if(v(X)){if(!S)return;X=new L();O.set(P,X);}P=X.get(Q);if(v(P)){if(!S)return;P=new L();X.set(Q,P);}return P;}function e(P,Q,S){if(f(P,Q,S))return !0;Q=y(Q);return null === Q?!1:e(P,Q,S);}function f(P,Q,S){Q=g(Q,S,!1);return v(Q)?!1:!!Q.has(P);}function l(P,Q,S){if(f(P,Q,S))return h(P,Q,S);Q=y(Q);if(null !== Q)return l(P,Q,S);}function h(P,Q,S){Q=g(Q,S,!1);if(!v(Q))return Q.get(P);}function k(P,Q){var S,V,fa;S=m(P,Q);P=y(P);if(null === P)return S;Q=k(P,Q);if(0 >= Q.length)return S;if(0 >= S.length)return Q;P=new H();for(var X=[],W=0;W < S.length;W++){V=S[W];fa=P.has(V);fa || (P.add(V),X.push(V));}for(S=0;S < Q.length;S++)(V=Q[S],(fa=P.has(V)) || (P.add(V),X.push(V)));return X;}function m(P,Q){var S,X;S=[];P=g(P,Q,!1);if(v(P))return S;P=P.keys();Q=z(P,J);if(!x(Q))throw new TypeError();P=Q.call(P);if(!q(P))throw new TypeError();for(Q=0;;){X=P.next();X=X.done?!1:X;if(!X)return (S.length=Q,S);X=X.value;try{S[Q]=X;}catch(V){var W;try{W=P["return"];W && W.call(P);}finally{throw V;}}Q++;}}function p(P){if(null === P)return 1;switch(typeof P){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === P?1:6;default:return 6;}}function v(P){return void 0 === P;}function q(P){return "object" === typeof P?null !== P:"function" === typeof P;}function u(P,Q){var S;switch(p(P)){case 0:return P;case 1:return P;case 2:return P;case 3:return P;case 4:return P;case 5:return P;}Q=3 === Q?"string":5 === Q?"number":"default";S=z(P,G);if(void 0 !== S){P=S.call(P,Q);if(q(P))throw new TypeError();return P;}a:{if("string" === ("default" === Q?"number":Q)){Q=P.toString;if(x(Q) && (Q=Q.call(P),!q(Q)))break a;Q=P.valueOf;}else {Q=P.valueOf;if(x(Q) && (Q=Q.call(P),!q(Q)))break a;Q=P.toString;}if(!x(Q) || (Q=Q.call(P),q(Q)))throw new TypeError();}return Q;}function t(P){P=u(P,3);return "symbol" === typeof P?P:"" + P;}function w(P){return Array.isArray?Array.isArray(P):P instanceof Object?P instanceof Array:"[object Array]" === Object.prototype.toString.call(P);}function x(P){return "function" === typeof P;}function z(P,Q){P=P[Q];if(void 0 !== P && null !== P){if(!x(P))throw new TypeError();return P;}}function y(P){var Q,S;Q=Object.getPrototypeOf(P);if("function" !== typeof P || P === K || Q !== K)return Q;S=P.prototype;S=S && Object.getPrototypeOf(S);if(null == S || S === Object.prototype)return Q;S=S.constructor;return "function" !== typeof S || S === P?Q:S;}function A(){var X,W,V;function P(fa){return fa;}function Q(fa,ba){return ba;}function S(fa,ba){return [fa,ba];}X={};W=[];V=(function(){function fa(ba,ca,ia){this.mh=0;this.Kf=ba;this.Gh=ca;this.RMb=ia;}fa.prototype["@@iterator"]=function(){return this;};fa.prototype[J]=function(){return this;};fa.prototype.next=function(){var ba,ca;ba=this.mh;if(0 <= ba && ba < this.Kf.length){ca=this.RMb(this.Kf[ba],this.Gh[ba]);ba + 1 >= this.Kf.length?(this.mh=-1,this.Gh=this.Kf=W):this.mh++;return {value:ca,done:!1};}return {value:void 0,done:!0};};fa.prototype.throw=function(ba){0 <= this.mh && (this.mh=-1,this.Gh=this.Kf=W);throw ba;};fa.prototype.return=function(ba){0 <= this.mh && (this.mh=-1,this.Gh=this.Kf=W);return {value:ba,done:!0};};return fa;})();return (function(){function fa(){this.Kf=[];this.Gh=[];this.az=X;this.Gw=-2;}Object.defineProperty(fa.prototype,"size",{get:function(){return this.Kf.length;},enumerable:!0,configurable:!0});fa.prototype.has=function(ba){return 0 <= this.gC(ba,!1);};fa.prototype.get=function(ba){ba=this.gC(ba,!1);return 0 <= ba?this.Gh[ba]:void 0;};fa.prototype.set=function(ba,ca){ba=this.gC(ba,!0);this.Gh[ba]=ca;return this;};fa.prototype.delete=function(ba){var ca,ia;ca=this.gC(ba,!1);if(0 <= ca){ia=this.Kf.length;for(ca+=1;ca < ia;ca++)(this.Kf[ca - 1]=this.Kf[ca],this.Gh[ca - 1]=this.Gh[ca]);this.Kf.length--;this.Gh.length--;ba === this.az && (this.az=X,this.Gw=-2);return !0;}return !1;};fa.prototype.clear=function(){this.Kf.length=0;this.Gh.length=0;this.az=X;this.Gw=-2;};fa.prototype.keys=function(){return new V(this.Kf,this.Gh,P);};fa.prototype.values=function(){return new V(this.Kf,this.Gh,Q);};fa.prototype.entries=function(){return new V(this.Kf,this.Gh,S);};fa.prototype["@@iterator"]=function(){return this.entries();};fa.prototype[J]=function(){return this.entries();};fa.prototype.gC=function(ba,ca){this.az !== ba && (this.Gw=this.Kf.indexOf(this.az=ba));0 > this.Gw && ca && (this.Gw=this.Kf.length,this.Kf.push(ba),this.Gh.push(void 0));return this.Gw;};return fa;})();}function B(){return (function(){function P(){this.Yf=new L();}Object.defineProperty(P.prototype,"size",{get:function(){return this.Yf.size;},enumerable:!0,configurable:!0});P.prototype.has=function(Q){return this.Yf.has(Q);};P.prototype.add=function(Q){return (this.Yf.set(Q,Q),this);};P.prototype.delete=function(Q){return this.Yf.delete(Q);};P.prototype.clear=function(){this.Yf.clear();};P.prototype.keys=function(){return this.Yf.keys();};P.prototype.values=function(){return this.Yf.values();};P.prototype.entries=function(){return this.Yf.entries();};P.prototype["@@iterator"]=function(){return this.keys();};P.prototype[J]=function(){return this.keys();};return P;})();}function C(){var X,W;function P(){var V,ca;do {V="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):S(new Uint8Array(16),16):S(Array(16),16);V[6]=V[6] & 79 | 64;V[8]=V[8] & 191 | 128;for(var fa="",ba=0;16 > ba;++ba){ca=V[ba];if(4 === ba || 6 === ba || 8 === ba)fa+="-";16 > ca && (fa+="0");fa+=ca.toString(16).toLowerCase();}V="@@WeakMap@@" + fa;}while(M.has(X,V));X[V]=!0;return V;}function Q(V,fa){if(!E.call(V,W)){if(!fa)return;Object.defineProperty(V,W,{value:M.create()});}return V[W];}function S(V,fa){for(var ba=0;ba < fa;++ba)V[ba]=255 * Math.random() | 0;return V;}X=M.create();W=P();return (function(){function V(){this.Nw=P();}V.prototype.has=function(fa){fa=Q(fa,!1);return void 0 !== fa?M.has(fa,this.Nw):!1;};V.prototype.get=function(fa){fa=Q(fa,!1);return void 0 !== fa?M.get(fa,this.Nw):void 0;};V.prototype.set=function(fa,ba){Q(fa,!0)[this.Nw]=ba;return this;};V.prototype.delete=function(fa){fa=Q(fa,!1);return void 0 !== fa?delete fa[this.Nw]:!1;};V.prototype.clear=function(){this.Nw=P();};return V;})();}function D(P){P.$Jb=void 0;delete P.$Jb;return P;}E=Object.prototype.hasOwnProperty;F="function" === typeof Symbol;G=F && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";J=F && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";F="function" === typeof Object.create;N=({__proto__:[]}) instanceof Array;I=!F && !N;M={create:F?function(){return D(Object.create(null));}:N?function(){return D({__proto__:null});}:function(){return D({});},has:I?function(P,Q){return E.call(P,Q);}:function(P,Q){return (Q in P);},get:I?function(P,Q){return E.call(P,Q)?P[Q]:void 0;}:function(P,Q){return P[Q];}};K=Object.getPrototypeOf(Function);L=(F="object" === typeof process && "true" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?A():Map;H=F || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?B():Set;O=new (F || "function" !== typeof WeakMap?C():WeakMap)();d("decorate",function(P,Q,S,X){var V;if(v(S)){if(!w(P))throw new TypeError();if("function" !== typeof Q)throw new TypeError();for(S=P.length - 1;0 <= S;--S)if((X=(0,P[S])(Q),!v(X) && null !== X)){if("function" !== typeof X)throw new TypeError();Q=X;}return Q;}if(!w(P))throw new TypeError();if(!q(Q))throw new TypeError();if(!q(X) && !v(X) && null !== X)throw new TypeError();null === X && (X=void 0);S=t(S);for(var W=P.length - 1;0 <= W;--W){V=(0,P[W])(Q,S,X);if(!v(V) && null !== V){if(!q(V))throw new TypeError();X=V;}}return X;});d("metadata",function(P,Q){return function(S,X){var W;if(!q(S))throw new TypeError();if(W=!v(X)){a:switch(p(X)){case 3:W=!0;break a;case 4:W=!0;break a;default:W=!1;}W=!W;}if(W)throw new TypeError();g(S,X,!0).set(P,Q);};});d("defineMetadata",function(P,Q,S,X){if(!q(S))throw new TypeError();v(X) || (X=t(X));g(S,X,!0).set(P,Q);});d("hasMetadata",function(P,Q,S){if(!q(Q))throw new TypeError();v(S) || (S=t(S));return e(P,Q,S);});d("hasOwnMetadata",function(P,Q,S){if(!q(Q))throw new TypeError();v(S) || (S=t(S));return f(P,Q,S);});d("getMetadata",function(P,Q,S){if(!q(Q))throw new TypeError();v(S) || (S=t(S));return l(P,Q,S);});d("getOwnMetadata",function(P,Q,S){if(!q(Q))throw new TypeError();v(S) || (S=t(S));return h(P,Q,S);});d("getMetadataKeys",function(P,Q){if(!q(P))throw new TypeError();v(Q) || (Q=t(Q));return k(P,Q);});d("getOwnMetadataKeys",function(P,Q){if(!q(P))throw new TypeError();v(Q) || (Q=t(Q));return m(P,Q);});d("deleteMetadata",function(P,Q,S){var X;if(!q(Q))throw new TypeError();v(S) || (S=t(S));X=g(Q,S,!1);if(v(X) || !X.delete(P))return !1;if(0 < X.size)return !0;P=O.get(Q);P.delete(S);if(0 < P.size)return !0;O.delete(Q);return !0;});});})(c || (c={}));},63671:function(r,b,a){var c,n,d,g;b=a(62680);c=a(67286);n=a(58786);d=b("RegExp.prototype.exec");g=c("%TypeError%");r.exports=function(e){if(!n(e))throw new g("`regex` must be a RegExp");return function(f){return null !== d(e,f);};};},24454:function(r,b,a){var c,n,d,g,e;c=a(80633);n=a(24158);d=a(62680)("String.prototype.replace");g=(b=(/^\s$/).test("\u180e"))?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/;e=b?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;r.exports=function(){var f;f=n(c(this));return d(d(f,g,""),e,"");};},11341:function(r,b,a){var n,d,g,e,f;function c(l){d(l);return f(l);}b=a(89429);n=a(14926);d=a(80633);g=a(24454);e=a(33871);a=a(93607);f=b(e());n(c,{wJc:e,implementation:g,xsc:a});r.exports=c;},33871:function(r,b,a){var c;c=a(24454);r.exports=function(){return String.prototype.trim?String.prototype.trim:c;};},93607:function(r,b,a){var c,n;c=a(14926);n=a(33871);r.exports=function(){var d;d=n();c(String.prototype,{trim:d},{trim:function(){return String.prototype.trim !== d;}});return d;};},15913:function(r,b,a){var e;function c(f,l,h){this.$R=!1 === f;this.cv=f || .01;this.$qa=void 0 === l?25:l;this.PUa=void 0 === h?1.1:h;this.cl=new e(n);this.reset();}function n(f,l){return f.Ig > l.Ig?1:f.Ig < l.Ig?-1:0;}function d(f,l){return f.pA - l.pA;}function g(f){this.config=f || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?f.cv:!1);this.UZb=this.config.ratio || .9;this.VZb=this.config.LNc || 1E3;this.Eia=0;}e=a(35558).uIb;c.prototype.reset=function(){this.cl.clear();this.WIa=this.n=0;};c.prototype.size=function(){return this.cl.size;};c.prototype.uj=function(f){var l;l=[];f?(this.Qaa(!0),this.cl.kt(function(h){l.push(h);})):this.cl.kt(function(h){l.push({Ig:h.Ig,n:h.n});});return l;};c.prototype.summary=function(){return [(this.$R?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.Wj(0),"Q1  = " + this.Wj(.25),"Q2  = " + this.Wj(.5),"Q3  = " + this.Wj(.75),"max = " + this.Wj(1)].join("\n");};c.prototype.push=function(f,l){l=l || 1;f=Array.isArray(f)?f:[f];for(var h=0;h < f.length;h++)this.r6a(f[h],l);};c.prototype.vNa=function(f){f=Array.isArray(f)?f:[f];for(var l=0;l < f.length;l++)this.r6a(f[l].Ig,f[l].n);};c.prototype.Qaa=function(f){var l;if(!(this.n === this.WIa || !f && this.PUa && this.PUa > this.n / this.WIa)){l=0;this.cl.kt(function(h){h.pA=l + h.n / 2;l=h.OR=l + h.n;});this.n=this.WIa=l;}};c.prototype.N2b=function(f){var l,h;if(0 === this.size())return null;l=this.cl.lowerBound({Ig:f});h=null === l.data()?l.VH():l.data();return h.Ig === f || this.$R?h:(l=l.VH()) && Math.abs(l.Ig - f) < Math.abs(h.Ig - f)?l:h;};c.prototype.MQ=function(f,l,h){this.cl.yr({Ig:f,n:l,OR:h});this.n+=l;};c.prototype.Haa=function(f,l,h){l !== f.Ig && (f.Ig+=h * (l - f.Ig) / (f.n + h));f.OR+=h;f.pA+=h / 2;f.n+=h;this.n+=h;};c.prototype.r6a=function(f,l){var h,k,m;h=this.cl.min();k=this.cl.max();m=this.N2b(f);m && m.Ig === f?this.Haa(m,f,l):m === h?this.MQ(f,l,0):m === k?this.MQ(f,l,this.n):this.$R?this.MQ(f,l,m.OR):(h=m.pA / this.n,Math.floor(4 * this.n * this.cv * h * (1 - h)) - m.n >= l?this.Haa(m,f,l):this.MQ(f,l,m.OR));this.Qaa(!1);!this.$R && this.$qa && this.size() > this.$qa / this.cv && this.Lm();};c.prototype.mRb=function(f){var l,h;this.cl.Hw=d;l=this.cl.upperBound({pA:f});this.cl.Hw=n;h=l.VH();f=h && h.pA === f?h:l.next();return [h,f];};c.prototype.Wj=function(f){var l;l=(Array.isArray(f)?f:[f]).map(this.rMb,this);return Array.isArray(f)?l:l[0];};c.prototype.rMb=function(f){var l,h;if(0 !== this.size()){this.Qaa(!0);this.cl.min();this.cl.max();f*=this.n;l=this.mRb(f);h=l[0];l=l[1];return l === h || null === h || null === l?(h || l).Ig:this.$R?f <= h.OR?h.Ig:l.Ig:h.Ig + (f - h.pA) * (l.Ig - h.Ig) / (l.pA - h.pA);}};c.prototype.Lm=function(){var f;if(!this.hbb){f=this.uj();this.reset();for(this.hbb=!0;0 < f.length;)this.vNa(f.splice(Math.floor(Math.random() * f.length),1)[0]);this.Qaa(!0);this.hbb=!1;}};g.prototype=Object.create(c.prototype);g.prototype.constructor=g;g.prototype.push=function(f){c.prototype.push.call(this,f);this.zTb();};g.prototype.MQ=function(f,l,h){this.Eia+=1;c.prototype.MQ.call(this,f,l,h);};g.prototype.Haa=function(f,l,h){1 === f.n && --this.Eia;c.prototype.Haa.call(this,f,l,h);};g.prototype.zTb=function(){!("auto" !== this.mode || this.size() < this.VZb) && this.Eia / this.size() > this.UZb && (this.mode="cont",this.$R=!1,this.cv=this.config.cv || .01,this.Lm());};r.exports={TDigest:c,Digest:g};},5163:function(r,b,a){var M,K,L;function c(){c=Object.assign || (function(H){for(var O,P=1,Q=arguments.length;P < Q;P++){O=arguments[P];for(var S in O)Object.prototype.hasOwnProperty.call(O,S) && (H[S]=O[S]);}return H;});return c.apply(this,arguments);}function n(H,O){n=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(P,Q){P.__proto__=Q;}) || (function(P,Q){for(var S in Q)Object.prototype.hasOwnProperty.call(Q,S) && (P[S]=Q[S]);});return n(H,O);}function d(H,O){function P(){this.constructor=H;}if("function" !== typeof O && null !== O)throw new TypeError("Class extends value " + String(O) + " is not a constructor or null");n(H,O);H.prototype=null === O?Object.create(O):(P.prototype=O.prototype,new P());}function g(H,O){var P,Q,S;P={};for(Q in H)Object.prototype.hasOwnProperty.call(H,Q) && 0 > O.indexOf(Q) && (P[Q]=H[Q]);if(null != H && "function" === typeof Object.getOwnPropertySymbols){S=0;for(Q=Object.getOwnPropertySymbols(H);S < Q.length;S++)0 > O.indexOf(Q[S]) && Object.prototype.propertyIsEnumerable.call(H,Q[S]) && (P[Q[S]]=H[Q[S]]);}return P;}function e(H,O,P,Q){var S,X,W;S=arguments.length;X=3 > S?O:null === Q?Q=Object.getOwnPropertyDescriptor(O,P):Q;if("object" === typeof Reflect && "function" === typeof Reflect.dG)X=Reflect.dG(H,O,P,Q);else for(var V=H.length - 1;0 <= V;V--)if(W=H[V])X=(3 > S?W(X):3 < S?W(O,P,X):W(O,P)) || X;return (3 < S && X && Object.defineProperty(O,P,X),X);}function f(H,O){return function(P,Q){O(P,Q,H);};}function l(H,O,P,Q,S,X){var V,fa,oa;function W(T){if(void 0 !== T && "function" !== typeof T)throw new TypeError("Function expected");return T;}V=Q.kind;fa="getter" === V?"get":"setter" === V?"set":"value";H=!O && H?Q["static"]?H:H.prototype:null;O=O || (H?Object.getOwnPropertyDescriptor(H,Q.name):{});for(var ba,ca=!1,ia=P.length - 1;0 <= ia;ia--){ba={};for(var na in Q)ba[na]="access" === na?{}:Q[na];for(na in Q.p8a)ba.p8a[na]=Q.p8a[na];ba.$Fc=function(T){if(ca)throw new TypeError("Cannot add initializers after decoration has completed");X.push(W(T || null));};oa=(0,P[ia])("accessor" === V?{get:O.get,set:O.set}:O[fa],ba);if("accessor" === V){if(void 0 !== oa){if(null === oa || "object" !== typeof oa)throw new TypeError("Object expected");if(ba=W(oa.get))O.get=ba;if(ba=W(oa.set))O.set=ba;(ba=W(oa.Pb)) && S.unshift(ba);}}else if(ba=W(oa))"field" === V?S.unshift(ba):O[fa]=ba;}H && Object.defineProperty(H,Q.name,O);ca=!0;}function h(H,O,P){for(var Q=2 < arguments.length,S=0;S < O.length;S++)P=Q?O[S].call(H,P):O[S].call(H);return Q?P:void 0;}function k(H){return "symbol" === typeof H?H:("").concat(H);}function m(H,O,P){"symbol" === typeof O && (O=O.description?("[").concat(O.description,"]"):"");return Object.defineProperty(H,"name",{configurable:!0,value:P?("").concat(P," ",O):O});}function p(H,O){if("object" === typeof Reflect && "function" === typeof Reflect.Qe)return Reflect.Qe(H,O);}function v(H,O,P,Q){function S(X){return X instanceof P?X:new P(function(W){W(X);});}return new (P || (P=Promise))(function(X,W){function V(ca){try{ba(Q.next(ca));}catch(ia){W(ia);}}function fa(ca){try{ba(Q["throw"](ca));}catch(ia){W(ia);}}function ba(ca){ca.done?X(ca.value):S(ca.value).then(V,fa);}ba((Q=Q.apply(H,O || [])).next());});}function q(H,O){var S,X,W,V,fa;function P(ba){return function(ca){return Q([ba,ca]);};}function Q(ba){if(X)throw new TypeError("Generator is already executing.");for(;(fa && (fa=0,ba[0] && (S=0)),S);)try{if((X=1,W && (V=ba[0] & 2?W["return"]:ba[0]?W["throw"] || ((V=W["return"]) && V.call(W),0):W.next) && !(V=V.call(W,ba[1])).done))return V;if((W=0,V))ba=[ba[0] & 2,V.value];switch(ba[0]){case 0:case 1:V=ba;break;case 4:return (S.label++,{value:ba[1],done:!1});case 5:S.label++;W=ba[1];ba=[0];continue;case 7:ba=S.vN.pop();S.Ke.pop();continue;default:if(!(V=S.Ke,V=0 < V.length && V[V.length - 1]) && (6 === ba[0] || 2 === ba[0])){S=0;continue;}if(3 === ba[0] && (!V || ba[1] > V[0] && ba[1] < V[3]))S.label=ba[1];else if(6 === ba[0] && S.label < V[1])(S.label=V[1],V=ba);else if(V && S.label < V[2])(S.label=V[2],S.vN.push(ba));else {V[2] && S.vN.pop();S.Ke.pop();continue;}}ba=O.call(H,S);}catch(ca){ba=[6,ca];W=0;}finally{X=V=0;}if(ba[0] & 5)throw ba[1];return {value:ba[0]?ba[1]:void 0,done:!0};}S={label:0,va:function(){if(V[0] & 1)throw V[1];return V[1];},Ke:[],vN:[]};return (fa={next:P(0),"throw":P(1),"return":P(2)},"function" === typeof Symbol && (fa[Symbol.iterator]=function(){return this;}),fa);}function u(H,O){for(var P in H)"default" === P || Object.prototype.hasOwnProperty.call(O,P) || M(O,H,P);}function t(H){var O,P,Q;O="function" === typeof Symbol && Symbol.iterator;P=O && H[O];Q=0;if(P)return P.call(H);if(H && "number" === typeof H.length)return {next:function(){H && Q >= H.length && (H=void 0);return {value:H && H[Q++],done:!H};}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.");}function w(H,O){var P,Q,S;P="function" === typeof Symbol && H[Symbol.iterator];if(!P)return H;H=P.call(H);S=[];try{for(;(void 0 === O || 0 < O--) && !(Q=H.next()).done;)S.push(Q.value);}catch(W){var X;X={error:W};}finally{try{Q && !Q.done && (P=H["return"]) && P.call(H);}finally{if(X)throw X.error;}}return S;}function x(){for(var H=[],O=0;O < arguments.length;O++)H=H.concat(w(arguments[O]));return H;}function z(){var Q;for(var H=0,O=0,P=arguments.length;O < P;O++)H+=arguments[O].length;H=Array(H);Q=0;for(O=0;O < P;O++)for(var S=arguments[O],X=0,W=S.length;X < W;(X++,Q++))H[Q]=S[X];return H;}function y(H,O,P){if(P || 2 === arguments.length)for(var Q=0,S=O.length,X;Q < S;Q++)!X && (Q in O) || (X || (X=Array.prototype.slice.call(O,0,Q)),X[Q]=O[Q]);return H.concat(X || Array.prototype.slice.call(O));}function A(H){return this instanceof A?(this.Yma=H,this):new A(H);}function B(H,O,P){var fa,ba,ca;function Q(ia){fa[ia] && (ba[ia]=function(na){return new Promise(function(oa,T){1 < ca.push([ia,na,oa,T]) || S(ia,na);});});}function S(ia,na){var oa;try{oa=fa[ia](na);oa.value instanceof A?Promise.resolve(oa.value.Yma).then(X,W):V(ca[0][2],oa);}catch(T){V(ca[0][3],T);}}function X(ia){S("next",ia);}function W(ia){S("throw",ia);}function V(ia,na){(ia(na),ca.shift(),ca.length) && S(ca[0][0],ca[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");fa=P.apply(H,O || []);ca=[];return (ba={},Q("next"),Q("throw"),Q("return"),ba[Symbol.asyncIterator]=function(){return this;},ba);}function C(H){var P,Q;function O(S,X){P[S]=H[S]?function(W){return (Q=!Q)?{value:A(H[S](W)),done:!1}:X?X(W):W;}:X;}return (P={},O("next"),O("throw",function(S){throw S;}),O("return"),P[Symbol.iterator]=function(){return this;},P);}function D(H){var Q,S;function O(X){S[X]=H[X] && (function(W){return new Promise(function(V,fa){W=H[X](W);P(V,fa,W.done,W.value);});});}function P(X,W,V,fa){Promise.resolve(fa).then(function(ba){X({value:ba,done:V});},W);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");Q=H[Symbol.asyncIterator];return Q?Q.call(H):(H="function" === typeof t?t(H):H[Symbol.iterator](),S={},O("next"),O("throw"),O("return"),S[Symbol.asyncIterator]=function(){return this;},S);}function E(H,O){Object.defineProperty?Object.defineProperty(H,"raw",{value:O}):H.raw=O;return H;}function F(H){var O;if(H && H.__esModule)return H;O={};if(null != H)for(var P in H)"default" !== P && Object.prototype.hasOwnProperty.call(H,P) && M(O,H,P);K(O,H);return O;}function G(H){return H && H.__esModule?H:{default:H};}function J(H,O,P,Q){if("a" === P && !Q)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof O?H !== O || !Q:!O.has(H))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === P?Q:"a" === P?Q.call(H):Q?Q.value:O.get(H);}function N(H,O,P,Q,S){if("m" === Q)throw new TypeError("Private method is not writable");if("a" === Q && !S)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof O?H !== O || !S:!O.has(H))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === Q?S.call(H,P):S?S.value=P:O.set(H,P),P);}function I(H,O){if(null === O || "object" !== typeof O && "function" !== typeof O)throw new TypeError("Cannot use 'in' operator on non-object");return "function" === typeof H?O === H:H.has(O);}a.r(b);a.d(b,{__assign:function(){return c;},__asyncDelegator:function(){return C;},__asyncGenerator:function(){return B;},__asyncValues:function(){return D;},__await:function(){return A;},__awaiter:function(){return v;},__classPrivateFieldGet:function(){return J;},__classPrivateFieldIn:function(){return I;},__classPrivateFieldSet:function(){return N;},__createBinding:function(){return M;},__decorate:function(){return e;},LFc:function(){return l;},__exportStar:function(){return u;},__extends:function(){return d;},__generator:function(){return q;},__importDefault:function(){return G;},__importStar:function(){return F;},__makeTemplateObject:function(){return E;},__metadata:function(){return p;},__param:function(){return f;},MFc:function(){return k;},__read:function(){return w;},__rest:function(){return g;},NFc:function(){return h;},OFc:function(){return m;},__spread:function(){return x;},__spreadArray:function(){return y;},__spreadArrays:function(){return z;},__values:function(){return t;},"default":function(){return L;}});M=Object.create?function(H,O,P,Q){var S;void 0 === Q && (Q=P);S=Object.getOwnPropertyDescriptor(O,P);if(!S || (("get" in S)?!O.__esModule:S.writable || S.configurable))S={enumerable:!0,get:function(){return O[P];}};Object.defineProperty(H,Q,S);}:function(H,O,P,Q){void 0 === Q && (Q=P);H[Q]=O[P];};K=Object.create?function(H,O){Object.defineProperty(H,"default",{enumerable:!0,value:O});}:function(H,O){H["default"]=O;};L={__extends:d,__assign:c,__rest:g,__decorate:e,__param:f,__metadata:p,__awaiter:v,__generator:q,__createBinding:M,__exportStar:u,__values:t,__read:w,__spread:x,__spreadArrays:z,__spreadArray:y,__await:A,__asyncGenerator:B,__asyncDelegator:C,__asyncValues:D,__makeTemplateObject:E,__importStar:F,__importDefault:G,__classPrivateFieldGet:J,__classPrivateFieldSet:N,__classPrivateFieldIn:I};},63053:function(r,b,a){var c,n,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);n=c.__importDefault(a(51411));d=a(32260);r=(function(g){function e(f,l,h,k){var m,p;m=this.constructor;p=g.call(this,l.message) || this;m=m.prototype;"undefined" === typeof Object.setPrototypeOf?p.__proto__=m:Object.setPrototypeOf(p,m);h && (p.message+=" [" + h + "]");p.name=f;p.error=l;p.Mb=k;f=p.toString();p.stack && (f+="\n" + p.stack);p.Mb && p.Mb.stack && (f+="\nCaused by " + p.Mb.stack);p.stack=f;return p;}c.__extends(e,g);e.prototype.dh=function(f){if(0 > f || f > n.default.me)throw new RangeError("Message ID " + f + " is outside the valid range.");this.Xgb() || (this.pK=f);return this;};e.prototype.Xgb=function(){if(this.pK)return this.pK;if(this.Mb && d.$c(this.Mb))return this.Mb.pK;};e.prototype.Yb=function(f){!f || this.Qb || this.vk || (this.Qb=f);return this;};e.prototype.kf=function(f){!f || this.Qb || this.vk || (this.vk=f);return this;};e.prototype.Sd=function(f){!f || this.uf || this.mi || (this.uf=f);return this;};e.prototype.Ie=function(f){!f || this.uf || this.mi || (this.mi=f);return this;};e.prototype.toString=function(){return this.name + ": " + this.message;};return e;})(Error);b["default"]=r;},51411:function(r,b,a){var c,n,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.rhb=b.JE=void 0;r=a(69193);c=a(96837);a=r.Iy.aC;b.JE={bEb:"GZIP",mra:"LZW"};b.rhb=function(e){for(var f=[b.JE.bEb,b.JE.mra],l=0;l < f.length && 0 < e.length;++l)for(var h=f[l],k=0;k < e.length;++k)if(e[k] == h)return h;return null;};n={vna:"AES"};Object.defineProperties(n,{TL:{value:function(e){var f;f=e;"string" === typeof e && (f=e.toLowerCase());"object" === typeof e && "string" === typeof e.name && (f=e.name.toLowerCase());return c.fe.UI.name.toLowerCase() == f?n.vna:n[e];},writable:!1,enumerable:!1,configurable:!1},pRa:{value:function(e){if(n.vna == e)return c.fe.UI;},writable:!1,enumerable:!1,configurable:!1}});Object.freeze(n);d={KSa:"AES/CBC/PKCS5Padding",Pzc:"AESWrap",N2a:"RSA/ECB/PKCS1Padding"};Object.defineProperties(d,{TL:{value:function(e){return d.KSa == e?d.KSa:d.N2a == e?d.N2a:d[e];},writable:!1,enumerable:!1,configurable:!1}});Object.freeze(d);g={Eqa:"HmacSHA256",sva:"SHA256withRSA",JSa:"AESCmac"};Object.defineProperties(g,{TL:{value:function(e){var f,l;f=e;"string" === typeof e && (f=e.toLowerCase());"object" === typeof e && "string" === typeof e.name && (f=e.name.toLowerCase());"object" === typeof e.hash && (l=e.hash.name.toLowerCase());return c.fe.SP.name.toLowerCase() == f && c.fe.SP.hash.name.toLowerCase() == l?g.Eqa:c.fe.nZ.name.toLowerCase() == f && c.fe.nZ.hash.name.toLowerCase() == l?g.sva:c.fe.LSa.name.toLowerCase() == f?g.JSa:g[e];},writable:!1,enumerable:!1,configurable:!1},pRa:{value:function(e){if(g.Eqa == e)return c.fe.SP;if(g.sva == e)return c.fe.sva;if(g.JSa == e)return c.fe.LSa;},writable:!1,enumerable:!1,configurable:!1}});Object.freeze(g);r={aa:1,ap:2,wf:3,ee:4,EY:5,ih:6,Jc:7,GX:8,ava:9,gaa:10};Object.freeze(r);b["default"]={ACb:a,me:9007199254740992,xFb:12,Rpa:n,Toa:d,sZ:g,J:r};},42458:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);r=(function(n){function d(g,e,f){return n.call(this,"MslCryptoException",g,e,f) || this;}c.__extends(d,n);return d;})(c.__importDefault(a(63053)).default);b["default"]=r;},88257:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);r=(function(n){function d(g,e,f){return n.call(this,"MslEncodingException",g,e,f) || this;}c.__extends(d,n);return d;})(c.__importDefault(a(63053)).default);b["default"]=r;},24571:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);r=(function(n){function d(g,e,f){return n.call(this,"MslEntityAuthException",g,e,f) || this;}c.__extends(d,n);return d;})(c.__importDefault(a(63053)).default);b["default"]=r;},36114:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163).__importDefault(a(51411));r=(function(){function n(d,g,e){this.u3=1E5 + d;this.ppc=g;this.message=e;}n.prototype.toString=function(){return "MslError{" + this.u3 + "," + this.ppc + "," + this.message + "}";};n.oe=new n(0,c.default.J.aa,"Error parsing MSL encodable.");n.SFb=new n(1,c.default.J.aa,"Error encoding MSL encodable.");new n(2,c.default.J.aa,"Computed hash does not match envelope hash.");n.sJ=new n(3,c.default.J.aa,"Invalid public key provided.");n.TP=new n(4,c.default.J.aa,"Invalid private key provided.");new n(5,c.default.J.aa,"Plaintext is not a multiple of the block size.");new n(6,c.default.J.aa,"Plaintext contains incorrect padding.");new n(7,c.default.J.aa,"Ciphertext is not a multiple of the block size.");new n(8,c.default.J.aa,"Ciphertext contains incorrect padding.");n.Hpa=new n(9,c.default.J.aa,"Encryption not supported.");n.$oa=new n(10,c.default.J.aa,"Decryption not supported.");new n(11,c.default.J.aa,"Encryption envelope key ID does not match crypto context key ID.");n.EUa=new n(12,c.default.J.aa,"Error parsing ciphertext envelope.");n.d9=new n(13,c.default.J.aa,"Error encoding ciphertext envelope.");n.tva=new n(14,c.default.J.aa,"Sign not supported.");n.zwa=new n(15,c.default.J.aa,"Verify not suppoprted.");n.o3a=new n(16,c.default.J.aa,"Signature not initialized or unable to process data/signature.");n.EXa=new n(17,c.default.J.aa,"Error computing HMAC.");n.z9=new n(18,c.default.J.aa,"Error encrypting plaintext.");n.KE=new n(19,c.default.J.aa,"Error decrypting ciphertext.");new n(20,c.default.J.aa,"Insufficient ciphertext for decryption.");new n(21,c.default.J.aa,"Error when creating session keys.");n.Kqa=new n(24,c.default.J.aa,"Invalid symmetric key provided.");new n(25,c.default.J.aa,"Invalid encryption key.");new n(26,c.default.J.aa,"Invalid HMAC key.");n.I5a=new n(27,c.default.J.aa,"Wrap not supported.");n.j5a=new n(28,c.default.J.aa,"Unwrap not supported.");new n(29,c.default.J.aa,"Unidentified JSON web key type.");new n(30,c.default.J.aa,"Unidentified JSON web key usage.");new n(31,c.default.J.aa,"Unidentified JSON web key algorithm.");n.Jwa=new n(32,c.default.J.aa,"Error wrapping plaintext.");n.qwa=new n(33,c.default.J.aa,"Error unwrapping ciphertext.");new n(34,c.default.J.aa,"Invalid JSON web key.");new n(35,c.default.J.aa,"Invalid JSON web key keydata.");new n(36,c.default.J.aa,"Unsupported JSON web key algorithm.");new n(37,c.default.J.aa,"Error when creating wrapping key.");new n(38,c.default.J.aa,"Invalid wrap ciphertext.");new n(39,c.default.J.aa,"Unsupported JSON web encryption algorithm.");new n(40,c.default.J.aa,"Error encoding JSON web encryption header.");new n(41,c.default.J.aa,"Error parsing JSON web encryption header.");new n(42,c.default.J.aa,"Invalid algorithm parameters.");new n(43,c.default.J.aa,"JSON web encryption header algorithms mismatch.");n.dFb=new n(44,c.default.J.aa,"Error importing key.");n.dra=new n(45,c.default.J.aa,"Error exporting key.");new n(46,c.default.J.aa,"Error in digest.");n.owa=new n(47,c.default.J.aa,"Unsupported key type or algorithm.");new n(48,c.default.J.aa,"Unsupported JSON web encryption serialization.");new n(51,c.default.J.aa,"Invalid wrapping key.");n.e5a=new n(52,c.default.J.aa,"Unidentified ciphertext envelope version.");new n(53,c.default.J.aa,"Unidentified signature envelope version.");n.BJb=new n(54,c.default.J.aa,"Unsupported ciphertext envelope version.");n.pwa=new n(55,c.default.J.aa,"Unsupported signature envelope version.");n.xJb=new n(56,c.default.J.aa,"Unidentified cipher specification.");n.nwa=new n(57,c.default.J.aa,"Unidentified algorithm.");new n(58,c.default.J.aa,"Error parsing signature envelope.");n.n3a=new n(59,c.default.J.aa,"Error encoding signature envelope.");new n(60,c.default.J.aa,"Invalid signature.");new n(61,c.default.J.aa,"Error deriving key.");new n(62,c.default.J.aa,"Unidentified JSON web key key operation.");new n(63,c.default.J.aa,"Error generating key.");new n(64,c.default.J.aa,"Invalid initialization vector.");new n(65,c.default.J.aa,"Invalid ciphertext.");n.SZa=new n(1E3,c.default.J.wf,"Master token is not trusted.");n.RZa=new n(1001,c.default.J.wf,"Unable to construct symmetric keys from master token.");n.qFb=new n(1002,c.default.J.wf,"Master token expiration timestamp is before the renewal window opens.");n.tFb=new n(1003,c.default.J.wf,"No master token session data found.");n.rFb=new n(1004,c.default.J.wf,"Master token sequence number is out of range.");n.sFb=new n(1005,c.default.J.wf,"Master token serial number is out of range.");new n(1006,c.default.J.wf,"Invalid master token data.");new n(1007,c.default.J.wf,"Invalid master token signature.");new n(1008,c.default.J.wf,"Invalid master token session data.");new n(1009,c.default.J.wf,"Master token sequence number does not have the expected value.");n.vFb=new n(1010,c.default.J.wf,"No master token data found.");n.wFb=new n(1011,c.default.J.wf,"Error parsing master token data.");n.uFb=new n(1012,c.default.J.wf,"Error parsing master token session data.");new n(1013,c.default.J.wf,"Master token entity identity is revoked.");new n(1014,c.default.J.wf,"Master token is rejected by the application.");new n(1015,c.default.J.aa,"Master token issuer data encoding error.");n.rwa=new n(2E3,c.default.J.ee,"User ID token master token serial number does not match master token serial number.");new n(2001,c.default.J.ee,"User ID token is not decrypted or verified.");n.HJb=new n(2002,c.default.J.ee,"User ID token requires a master token.");n.EJb=new n(2003,c.default.J.ee,"User ID token expiration timestamp is before the renewal window opens.");n.NJb=new n(2004,c.default.J.ee,"No user ID token user data found.");n.GJb=new n(2005,c.default.J.ee,"User ID token is bound to an unknown master token.");n.IJb=new n(2006,c.default.J.ee,"User ID token master token serial number is out of range.");n.JJb=new n(2007,c.default.J.ee,"User ID token serial number is out of range.");new n(2008,c.default.J.ee,"Invalid user ID token data.");new n(2009,c.default.J.ee,"Invalid user ID token signature.");new n(2010,c.default.J.ee,"Invalid user ID token user data.");n.FJb=new n(2011,c.default.J.ee,"Invalid user ID token user identity.");new n(2012,c.default.J.ee,"The entity is not associated with the user.");new n(2013,c.default.J.ee,"The user identity was not found.");new n(2014,c.default.J.ee,"The user identity must be reauthenticated because the password version changed.");n.MJb=new n(2015,c.default.J.ee,"The user ID token and user authentication data user identities do not match.");n.KJb=new n(2016,c.default.J.ee,"No user ID token data found.");n.LJb=new n(2017,c.default.J.ee,"Error parsing user ID token data.");n.OJb=new n(2018,c.default.J.ee,"Error parsing user ID token user data.");new n(2019,c.default.J.ee,"User ID token is revoked.");new n(2020,c.default.J.Jc,"User ID token is rejected by the application.");n.nva=new n(3E3,c.default.J.aa,"Service token master token serial number does not match master token serial number.");n.ova=new n(3001,c.default.J.aa,"Service token user ID token serial number does not match user ID token serial number.");new n(3002,c.default.J.aa,"Service token data invalid.");n.SIb=new n(3003,c.default.J.aa,"Service token is bound to an unknown master token.");n.UIb=new n(3004,c.default.J.aa,"Service token is bound to an unknown user ID token.");n.TIb=new n(3005,c.default.J.aa,"Service token master token serial number is out of range.");n.VIb=new n(3006,c.default.J.aa,"Service token user ID token serial number is out of range.");new n(3007,c.default.J.aa,"Invalid service token data.");new n(3008,c.default.J.aa,"Invalid service token signature.");n.l3a=new n(3009,c.default.J.aa,"No service token data found.");n.yJb=new n(4E3,c.default.J.aa,"Unable to identify entity authentication scheme.");n.Jpa=new n(4001,c.default.J.aa,"No factory registered for entity authentication scheme.");new n(4002,c.default.J.ih,"Error parsing X.509 certificate data.");new n(4003,c.default.J.ih,"Error encoding X.509 certificate data.");new n(4004,c.default.J.ih,"X.509 certificate verification failed.");new n(4005,c.default.J.aa,"Entity not recognized.");new n(4006,c.default.J.aa,"Entity used incorrect entity authentication data type.");n.AIb=new n(4007,c.default.J.ih,"RSA public key not found.");new n(4023,c.default.J.aa,"Unsupported entity authentication data.");n.qWa=new n(4025,c.default.J.aa,"Entity is revoked.");new n(4026,c.default.J.ih,"Entity is rejected by the application.");new n(4028,c.default.J.ih,"X.509 certificate is expired.");new n(4029,c.default.J.ih,"X.509 certificate is not yet valid.");new n(4030,c.default.J.ih,"X.509 certificate is invalid.");n.zIb=new n(4031,c.default.J.ih,"RSA private key not found.");new n(4032,c.default.J.aa,"Entity authentication data master token is not decrypted or verified.");new n(4033,c.default.J.ih,"Invalid entity authentication data siganture.");new n(4034,c.default.J.ih,"Invalid entity authentication data ciphertext.");new n(4035,c.default.J.ih,"Entity authentication data signature verification failed.");new n(4036,c.default.J.aa,"Invalid entity authentication data master token.");new n(4037,c.default.J.ih,"ECC public key not found.");new n(4038,c.default.J.ih,"ECC private key not found.");n.AJb=new n(5003,c.default.J.aa,"Unable to identify user authentication scheme.");n.l5a=new n(5004,c.default.J.aa,"No factory registered for user authentication scheme.");n.uDb=new n(5005,c.default.J.Jc,"Email or password is blank.");n.hWa=new n(5007,c.default.J.Jc,"Email or password is incorrect.");n.CJb=new n(5008,c.default.J.aa,"Unsupported user authentication data.");new n(5011,c.default.J.Jc,"User authentication data user ID token is invalid.");new n(5013,c.default.J.aa,"Unable to identify user authentication mechanism.");new n(5014,c.default.J.aa,"Unsupported user authentication mechanism.");new n(5016,c.default.J.Jc,"User authentication required master token is missing.");new n(5021,c.default.J.Jc,"User authentication data user ID token is not decrypted or verified.");new n(5024,c.default.J.Jc,"User authentication data master token is invalid.");new n(5025,c.default.J.Jc,"User authentication data master token is not decrypted or verified.");new n(5030,c.default.J.Jc,"User authentication required user ID token is missing.");new n(5032,c.default.J.Jc,"User authentication data does not match entity identity.");new n(5033,c.default.J.aa,"Entity used incorrect user authentication data type.");new n(5037,c.default.J.Jc,"User is rejected by the application.");new n(5040,c.default.J.ee,"The entity is not associated with the user.");new n(5041,c.default.J.Jc,"Entity and user combination used incorrect user authentication data type.");new n(5042,c.default.J.Jc,"User authentication data signature verification failed.");new n(5043,c.default.J.Jc,"User ID token could not be checked for revocation.");n.h5a=new n(6E3,c.default.J.aa,"Unsupported compression algorithm.");n.ZBb=new n(6001,c.default.J.aa,"Error compressing data.");n.tJb=new n(6002,c.default.J.aa,"Error uncompressing data.");n.Zra=new n(6003,c.default.J.aa,"Message header entity authentication data or master token not found.");n.RGb=new n(6004,c.default.J.aa,"Payload chunk message ID does not match header message ID .");n.TGb=new n(6005,c.default.J.aa,"Payload chunk sequence number does not match expected sequence number.");n.VGb=new n(6006,c.default.J.aa,"Payload chunk payload signature verification failed.");n.GFb=new n(6007,c.default.J.aa,"No message data found.");new n(6008,c.default.J.aa,"Malformed message data.");n.MFb=new n(6009,c.default.J.aa,"Message header/error data signature verification failed.");n.wXa=new n(6010,c.default.J.aa,"No header data found.");n.QGb=new n(6011,c.default.J.aa,"No payload data found in non-EOM payload chunk.");new n(6012,c.default.J.aa,"Corrupt payload data found in non-EOM payload chunk.");n.f5a=new n(6013,c.default.J.aa,"Unidentified compression algorithm.");new n(6014,c.default.J.GX,"Message expired and not renewable. Rejected.");n.VZa=new n(6015,c.default.J.aa,"Message ID is out of range.");n.QEb=new n(6016,c.default.J.aa,"Error header internal code is negative.");n.wJb=new n(6017,c.default.J.aa,"Unexpected response message ID. Possible replay.");new n(6018,c.default.J.EY,"Message response requires encryption.");n.UGb=new n(6019,c.default.J.aa,"Payload chunk sequence number is out of range.");n.SGb=new n(6020,c.default.J.aa,"Payload chunk message ID is out of range.");new n(6021,c.default.J.ava,"Non-replayable message replayed.");n.qEb=new n(6022,c.default.J.aa,"Non-replayable message sent without a master token.");new n(6023,c.default.J.aa,"Invalid Header signature.");new n(6024,c.default.J.aa,"Invalid header data.");new n(6025,c.default.J.aa,"Invalid payload.");new n(6026,c.default.J.aa,"Invalid payload signature.");new n(6027,c.default.J.EY,"Message response requires a master token.");new n(6028,c.default.J.ee,"Message response requires a user ID token.");new n(6029,c.default.J.aa,"User-associated message requires user authentication data.");new n(6030,c.default.J.aa,"Message sender is equal to the local entity or not the master token entity.");n.uGb=new n(6031,c.default.J.aa,"Non-replayable message requires a master token.");n.Z_a=new n(6032,c.default.J.aa,"Non-replayable message non-replayable ID is out of range.");new n(6033,c.default.J.aa,"Service token master token or user ID token serial number does not match the message token serial numbers.");new n(6034,c.default.J.aa,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers.");new n(6035,c.default.J.EY,"Message response requires integrity protection.");n.eEb=new n(6036,c.default.J.aa,"Handshake message is not renewable or does not contain key request data.");new n(6037,c.default.J.aa,"Message recipient does not match local identity.");n.HFb=new n(6038,c.default.J.ih,"Message header entity-based signature verification failed.");n.KFb=new n(6039,c.default.J.wf,"Message header master token-based signature verification failed.");new n(6040,c.default.J.wf,"Non-replayable message replayed with a sequence number that is too far out of sync to recover.");new n(6041,c.default.J.aa,"Message sender is equal to the local entity.");n.vJb=new n(6042,c.default.J.aa,"User authentication data included in unencrypted message header.");n.LFb=new n(6043,c.default.J.aa,"Message sender entity identity does not match expected identity.");n.IFb=new n(6044,c.default.J.GX,"Message expired and not renewable. Rejected.");n.JFb=new n(6045,c.default.J.GX,"Message expired and missing key request data. Rejected.");new n(6046,c.default.J.wf,"Master token identity does not match entity authentication data identity.");n.fEb=new n(6047,c.default.J.aa,"Handshake message requires key request data.");n.g5a=new n(7E3,c.default.J.aa,"Unable to identify key exchange scheme.");n.bra=new n(7001,c.default.J.aa,"No factory registered for key exchange scheme.");new n(7002,c.default.J.aa,"No key request found matching header key response data.");new n(7003,c.default.J.aa,"Unable to identify key exchange key ID.");new n(7004,c.default.J.aa,"Unsupported key exchange key ID.");n.zJb=new n(7005,c.default.J.aa,"Unable to identify key exchange mechanism.");n.i5a=new n(7006,c.default.J.aa,"Unsupported key exchange mechanism.");n.RYa=new n(7007,c.default.J.aa,"Key exchange response does not match request.");n.bFb=new n(7008,c.default.J.aa,"Key exchange private key missing.");new n(7009,c.default.J.aa,"Key exchange parameters ID unknown or invalid.");new n(7010,c.default.J.aa,"Master token required for key exchange is missing.");new n(7011,c.default.J.aa,"Key exchange public key is invalid.");new n(7012,c.default.J.aa,"Key exchange public key missing.");new n(7013,c.default.J.aa,"Key exchange wrapping key missing.");new n(7014,c.default.J.aa,"Key exchange wrapping key ID missing.");new n(7015,c.default.J.aa,"Key exchange wrapping key is invalid.");new n(7016,c.default.J.aa,"Entity used incorrect key exchange data type.");new n(7017,c.default.J.aa,"Entity used incorrect key exchange mecahnism.");new n(7018,c.default.J.aa,"Key exchange derivation key missing.");new n(7019,c.default.J.aa,"Key exchange encryption key is invalid.");new n(7020,c.default.J.aa,"Key exchange HMAC key is invalid.");new n(7021,c.default.J.aa,"Key exchange wrap data is invalid.");new n(7022,c.default.J.aa,"Unsupported key exchange scheme.");new n(7023,c.default.J.aa,"Key exchange identity not found.");n.Ky=new n(9E3,c.default.J.ap,"Internal exception.");new n(9001,c.default.J.aa,"Error communicating with MSL entity.");n.NONE=new n(9999,c.default.J.aa,"Special unit test error.");return n;})();b["default"]=r;},1966:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);r=(function(n){function d(g,e,f){return n.call(this,"MslException",g,e,f) || this;}c.__extends(d,n);return d;})(c.__importDefault(a(63053)).default);b["default"]=r;},18595:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);r=(function(n){function d(g,e,f){var l;l=this.constructor;e=n.call(this,e) || this;l=l.prototype;"undefined" === typeof Object.setPrototypeOf?e.__proto__=l:Object.setPrototypeOf(e,l);e.name=g;e.Mb=f;g=e.toString();e.stack && (g+="\n" + e.stack);e.Mb && e.Mb.stack && (g+="\nCaused by " + e.Mb.stack);e.stack=g;return e;}c.__extends(d,n);d.prototype.toString=function(){return this.name + ": " + this.message;};return d;})(Error);b["default"]=r;},10690:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);r=(function(n){function d(g,e){return n.call(this,"MslInternalException",g,e) || this;}c.__extends(d,n);return d;})(c.__importDefault(a(18595)).default);b["default"]=r;},25978:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);r=(function(n){function d(g,e){return n.call(this,"MslInterruptedException",g,e) || this;}c.__extends(d,n);return d;})(c.__importDefault(a(18595)).default);b["default"]=r;},48795:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);r=(function(n){function d(g,e){return n.call(this,"MslIoException",g,e) || this;}c.__extends(d,n);return d;})(c.__importDefault(a(18595)).default);b["default"]=r;},35661:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);r=(function(n){function d(g,e,f){return n.call(this,"MslKeyExchangeException",g,e,f) || this;}c.__extends(d,n);return d;})(c.__importDefault(a(63053)).default);b["default"]=r;},80760:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);r=(function(n){function d(g,e){g=n.call(this,"MslMasterTokenException",g) || this;g.Qb=e;return g;}c.__extends(d,n);return d;})(c.__importDefault(a(63053)).default);b["default"]=r;},20754:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);r=(function(n){function d(g,e,f){return n.call(this,"MslMessageException",g,e,f) || this;}c.__extends(d,n);return d;})(c.__importDefault(a(63053)).default);b["default"]=r;},88361:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);r=(function(n){function d(g,e,f){return n.call(this,"MslUserAuthException",g,e,f) || this;}c.__extends(d,n);return d;})(c.__importDefault(a(63053)).default);b["default"]=r;},67609:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);r=(function(n){function d(g,e,f,l){g=n.call(this,"MslUserIdTokenException",g,f,l) || this;g.uf=e;return g;}c.__extends(d,n);return d;})(c.__importDefault(a(63053)).default);b["default"]=r;},45826:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b["default"]="netflixidentity";},99075:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);r=c.__importDefault(a(36114));n=c.__importDefault(a(51411));a=(function(d){function g(e,f,l){return d.call(this,1E5 + e,f,l) || this;}c.__extends(g,d);new g(22,n.default.J.aa,"Error parsing ASN.1.");new g(23,n.default.J.aa,"Error encoding ASN.1.");new g(49,n.default.J.aa,"Error parsing XML.");new g(50,n.default.J.aa,"Error encoding XML.");new g(1009,n.default.J.wf,"Master token sequence number does not have the expected value.");new g(1013,n.default.J.wf,"Master token entity identity is revoked.");new g(2013,n.default.J.ee,"The user identity was not found.");new g(2014,n.default.J.ee,"The user identity must be reauthenticated because the password version changed.");new g(2015,n.default.J.aa,"The user ID token MSL user type is incorrect.");new g(2016,n.default.J.ee,"The user ID token MSL user is invalid.");new g(2017,n.default.J.ap,"Error communicating with membership service");new g(2018,n.default.J.Jc,"Previous credentials are no longer valid");new g(2019,n.default.J.ee,"The user identity was not found.");new g(2020,n.default.J.ee,"The user identity was not found.");new g(2021,n.default.J.ee,"The user identity was not found.");new g(4005,n.default.J.aa,"Entity not recognized.");new g(4006,n.default.J.aa,"Entity used incorrect entity authentication data type.");new g(4024,n.default.J.aa,"Cryptex RSA key set not found.");g.qWa=new g(4025,n.default.J.aa,"Entity is revoked.");new g(4028,n.default.J.ih,"Error parsing Anycast challenge.");new g(4029,n.default.J.ih,"Anycast challenge is not acceptable.");new g(4030,n.default.J.ih,"X.509 certificates are missing from entity auth.");new g(4031,n.default.J.aa,"Cryptex ECC key set not found.");new g(4032,n.default.J.aa,"Invalid MSL Trust Store found.");new g(4033,n.default.J.aa,"Entity migration is not allowed.");new g(4034,n.default.J.ih,"FairPlay Streaming key request is invalid.");new g(5E3,n.default.J.Jc,"User must login again.");new g(5001,n.default.J.Jc,"Netflix ID cookie identity has expired.");g.qGb=new g(5002,n.default.J.Jc,"Netflix ID cookie is blank.");new g(5003,n.default.J.Jc,"Secure Netflix ID cookie is blank.");new g(5005,n.default.J.ap,"Unknown error communicating with authentication manager.");new g(5006,n.default.J.ap,"Error communicating with authentication manager.");g.hWa=new g(5007,n.default.J.Jc,"Email or password is incorrect.");new g(5008,n.default.J.Jc,"Password has not been set.");new g(5009,n.default.J.gaa,"SSO token is blank.");new g(5010,n.default.J.Jc,"SSO token is not associated with a Netflix user.");new g(5012,n.default.J.Jc,"Profile GUID is blank.");new g(5015,n.default.J.gaa,"SSO token invalid.");new g(5017,n.default.J.ap,"Error communicating with the account manager.");new g(5018,n.default.J.ap,"SSO user association failed.");new g(5019,n.default.J.ap,"SSO user disassociation failed.");new g(5020,n.default.J.Jc,"MDX user authentication data verification failed.");new g(5022,n.default.J.Jc,"MDX user authentication data action is invalid.");new g(5023,n.default.J.Jc,"CTicket decryption failed.");new g(5026,n.default.J.Jc,"Error creating CTicket crypto context.");new g(5027,n.default.J.Jc,"MDX controller or target PIN is blank.");new g(5028,n.default.J.Jc,"MDX controller and target PIN mismatch.");new g(5029,n.default.J.Jc,"MDX controller user ID token or CTicket is not decrypted or verified.");new g(5031,n.default.J.Jc,"MDX controller authentication data is invalid.");new g(5032,n.default.J.Jc,"User authentication data does not match entity identity.");new g(5033,n.default.J.aa,"Entity used incorrect user authentication data type.");new g(5034,n.default.J.Jc,"SSO user association failed because the customer is not a member.");new g(5035,n.default.J.Jc,"SSO user association failed because the customer is a former member.");new g(5036,n.default.J.Jc,"SSO user association failed because the token identifies a different member.");new g(5038,n.default.J.Jc,"Not permitted to switch to the requested user profile.");new g(5039,n.default.J.ap,"Error communicating with the membership manager.");new g(5040,n.default.J.Jc,"No entity association record found for the user.");new g(5041,n.default.J.aa,"The MSL user type is incorrect.");new g(5042,n.default.J.Jc,"User entity association record query returned an error.");new g(5043,n.default.J.Jc,"User entity association record query returned different entity identities.");new g(5044,n.default.J.Jc,"User entity association record is deactivated.");new g(5045,n.default.J.Jc,"User entity association record query returned different user identities.");new g(5046,n.default.J.ee,"No entity association record found for the user.");new g(5047,n.default.J.ee,"User entity association record query returned an error.");new g(5048,n.default.J.ee,"User entity association record query returned different entity identities.");new g(5049,n.default.J.ee,"User entity association record is deactivated.");new g(5050,n.default.J.ee,"User entity association record query returned different user identities.");new g(5052,n.default.J.ee,"User entity association record query returned different user identities.");new g(5053,n.default.J.ap,"The maximum number of devices has been reached for this user.");g.Z_a=new g(6032,n.default.J.aa,"Non-replayable message non-replayable ID is out of range.");new g(7E3,n.default.J.aa,"Invalid key exchange GUID.");new g(7001,n.default.J.ap,"Error communicating with key exchange service");new g(7002,n.default.J.aa,"Identity in challenge doesn't match device identity");new g(7003,n.default.J.aa,"Error returned by key exchange service");new g(7004,n.default.J.aa,"Request rejected by key exchange service");new g(7005,n.default.J.ap,"Internal error encountered during key exchange");new g(7006,n.default.J.aa,"Request failed validation during key exchange");new g(7007,n.default.J.aa,"Request blacklisted by key exchange service");new g(7008,n.default.J.aa,"Request could not be decoded by key exchange service");new g(7009,n.default.J.wf,"Widevine key exchange entity authentication scheme unknown.");new g(7010,n.default.J.wf,"Widevine key exchange issuer data parse error.");new g(7011,n.default.J.wf,"Widevine key exchange identity mismatch between key request data and entity auth data");new g(7012,n.default.J.wf,"Widevine key exchange identity mismatch between key request data and mastertoken");new g(7013,n.default.J.wf,"Widevine key exchange CDM ID mismatch between key request data and previous mastertoken");new g(8E3,n.default.J.aa,"Error encrypting data with cryptex.");new g(8001,n.default.J.aa,"Error decrypting data with cryptex.");new g(8002,n.default.J.aa,"Error computing MAC with cryptex.");new g(8003,n.default.J.aa,"Error verifying MAC or signature with cryptex.");new g(8004,n.default.J.aa,"Error creating cryptex cipher or MAC context.");new g(8005,n.default.J.ap,"Error accessing data model device.");new g(8006,n.default.J.aa,"Data model device type not found.");new g(8007,n.default.J.aa,"Cryptex key set not supported.");new g(8008,n.default.J.aa,"Insufficient privileges for cryptex operation.");new g(8009,n.default.J.aa,"Error wrapping data with cryptex.");new g(8010,n.default.J.aa,"Error unwrapping data with cryptex.");new g(8011,n.default.J.ap,"Error comunicating with cryptex.");new g(8012,n.default.J.aa,"Error computing signature with cryptex.");new g(8013,n.default.J.aa,"Error computing key fingerprint with cryptex.");new g(8014,n.default.J.aa,"Bypassing Error Header Signing.");return g;})(r.default);b["default"]=a;},48603:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.$Ua=void 0;c=a(5163).__importDefault(a(10690));r=(function(){function n(){}n.prototype.encrypt=function(d,g,e,f){f.result(d);};n.prototype.decrypt=function(d,g,e){e.result(d);};n.prototype.SI=function(d,g,e,f){f.error(new c.default("Wrap is unsupported by the MSL token crypto context."));};n.prototype.JI=function(d,g,e,f){f.error(new c.default("Unwrap is unsupported by the MSL token crypto context."));};n.prototype.sign=function(d,g,e,f){f.result(new Uint8Array(0));};n.prototype.verify=function(d,g,e,f){f.result(!1);};return n;})();b.$Ua=r;},69351:function(r,b,a){var c,n,d,g,e,f,l,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.QYa=b.AWa=b.Algorithm=void 0;r=a(5163);c=a(96837);n=r.__importDefault(a(10690));d=r.__importDefault(a(42458));g=r.__importDefault(a(36114));e=a(50441);f=a(36911);l=a(42486);h=a(60426);k=r.__importDefault(a(42979));b.Algorithm={WB:c.fe.WB.name,F8:c.fe.F8.name};b.AWa={xAb:"A128GCM",Lzc:"A256GCM"};a=(function(){function m(p,v,q,u,t){switch(v){case b.Algorithm.WB:v=c.fe.WB;t=t && (t.Ut || t);u=u && (u.Ut || u);break;case b.Algorithm.F8:v=c.fe.F8;t=u=u && (u.Ut || u);break;default:throw new n.default("Unsupported algorithm: " + v);}this.Zi=p;this.e8a=v;this.sNb=t;this.gNb=u;}m.prototype.encrypt=function(p,v,q,u){u.error(new d.default(g.default.Hpa));};m.prototype.decrypt=function(p,v,q){q.error(new d.default(g.default.$oa));};m.prototype.SI=function(p,v,q,u){k.default(u,function(){e.Vf.wrapKey("jwe+jwk",p.Ut,this.sNb,this.e8a).then(function(t){u.result(new Uint8Array(t));},function(t){u.error(new d.default(g.default.Jwa,null,t));});},this);};m.prototype.JI=function(p,v,q,u){function t(w){k.default(u,function(){switch(w.type){case "secret":h.Dda(w,u);break;case "public":l.Bda(w,u);break;case "private":f.Ada(w,u);break;default:throw new d.default(g.default.owa,"type: " + w.type);}});}k.default(u,function(){e.Vf.unwrapKey("jwe+jwk",p,this.gNb,this.e8a,v,!1,q).then(function(w){t(w);},function(w){u.error(new d.default(g.default.qwa,null,w));});},this);};m.prototype.sign=function(p,v,q,u){u.error(new d.default(g.default.tva));};m.prototype.verify=function(p,v,q,u){u.error(new d.default(g.default.zwa));};return m;})();b.QYa=a;},11475:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yj={$ua:"raw",Y9:"jwk",bF:"spki",jQ:"pkcs8"};},25881:function(r,b,a){var c,n,d,g,e,f,l,h,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.cMa=b.eCa=b.jGb=b.ve=void 0;c=a(5163);r=a(48235);n=c.__importDefault(a(51411));d=c.__importDefault(a(42979));g=a(44127);e=c.__importDefault(a(42458));f=c.__importDefault(a(6838));l=c.__importDefault(a(88257));h=c.__importDefault(a(36114));k=c.__importDefault(a(10690));b.ve={hk:1,Fw:2};m=(function(p){function v(q,u,t){var w,x,z,y,A;w=p.call(this) || this;x=b.ve.hk;z=q;y=null;for(A in n.default.Toa)if(n.default.Toa[A] == q){x=b.ve.Fw;z=null;y=q;break;}w.version=x;w.so=z;w.ETb=y;w.iv=u;w.cda=t;return w;}c.__extends(v,p);v.prototype.Al=function(q,u,t){var w;w=this;d.default(t,function(){var x;x=q.Ae();switch(w.version){case b.ve.hk:x.put("keyid",w.so);w.iv && x.put("iv",w.iv);x.put("ciphertext",w.cda);x.put("sha256",g.fj("AA=="));break;case b.ve.Fw:x.put("version",w.version);x.put("cipherspec",w.ETb);w.iv && x.put("iv",w.iv);x.put("ciphertext",w.cda);break;default:throw new k.default("Ciphertext envelope version " + w.version + " encoding unsupported.");}q.Ai(x,u,t);},this);};return v;})(r.Bm);b.jGb=m;b.eCa=function(p,v,q,u){d.default(u,function(){return new m(p,v,q);});};b.cMa=function(p,v,q){d.default(q,function(){var u,t,w,x,z;if(!v)try{v=p.dM("version");u=!1;for(t in b.ve)if(b.ve[t] == v){u=!0;break;}if(!u)throw new e.default(h.default.e5a,"ciphertext envelope " + p);}catch(y){if(y instanceof f.default)v=b.ve.hk;else throw y;}switch(v){case b.ve.hk:try{w=p.Jd("keyid");x=p.has("iv")?p.Uc("iv"):null;z=p.Uc("ciphertext");p.Uc("sha256");}catch(y){if(y instanceof f.default)throw new l.default(h.default.oe,"ciphertext envelope " + p,y);throw y;}break;case b.ve.Fw:try{if(p.dM("version") != b.ve.Fw)throw new e.default(h.default.e5a,"ciphertext envelope " + p);w=n.default.Toa.TL(p.Jd("cipherspec"));if(!w)throw new e.default(h.default.xJb,"ciphertext envelope " + p);x=p.has("iv")?p.Uc("iv"):null;z=p.Uc("ciphertext");}catch(y){if(y instanceof f.default)throw new l.default(h.default.oe,"ciphertext envelope " + p,y);throw y;}break;default:throw new e.default(h.default.BJb,"ciphertext envelope " + p);}return new m(w,x,z);});};},50441:function(r,b,a){var g,e,f,l,h,k;function c(m){return "undefined" === typeof m?!1:m;}function n(m){if(m && m.length){if(h === b.Eb.fp || h === b.Eb.gp)m=m.map(function(p){return "wrap" == p?"wrapKey":"unwrap" == p?"unwrapKey":p;});return m;}return h === b.Eb.fp || h === b.Eb.gp?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function d(m){return m.then?m:e.default.create(function(p,v){m.oncomplete=function(q){p(q.target.result);};m.onerror=function(q){v(q);};});}Object.defineProperty(b,"__esModule",{value:!0});b.Vf=b.prc=b.MGa=b.NPa=b.Eb=void 0;r=a(5163);g=a(11475);e=r.__importDefault(a(90122));f=a(69193);l=r.__importDefault(a(69763));b.Eb={Gq:1,Eu:2,fp:3,gp:4,xu:5,gFb:3};h=b.Eb.gFb;b.NPa=function(m){h=m;};b.MGa=function(){return h;};if("undefined" !== typeof Ba)if(Ba.msCrypto){k=Ba.msCrypto.subtle;h=b.Eb.Gq;}else if(Ba.crypto)if(Ba.crypto.Qyc)(k=Ba.crypto.Qyc,h=b.Eb.gp);else if(Ba.crypto.subtle)k=Ba.crypto.subtle;else throw new ReferenceError("Expected window.crypto.subtle but it was undefined. It may be unavailable if running in an insecure context.");b.prc=function(m){k=m;};b.Vf={encrypt:function(m,p,v){switch(h){case b.Eb.Gq:case b.Eb.Eu:case b.Eb.fp:case b.Eb.gp:case b.Eb.xu:return (m=k.encrypt(m,p,v),d(m));default:throw Error("Unsupported Web Crypto version " + h + ".");}},decrypt:function(m,p,v){switch(h){case b.Eb.Gq:case b.Eb.Eu:case b.Eb.fp:case b.Eb.gp:case b.Eb.xu:return (m=k.decrypt(m,p,v),d(m));default:throw Error("Unsupported Web Crypto version " + h + ".");}},sign:function(m,p,v){switch(h){case b.Eb.Gq:case b.Eb.Eu:case b.Eb.fp:case b.Eb.gp:case b.Eb.xu:return (m=k.sign(m,p,v),d(m));default:throw Error("Unsupported Web Crypto version " + h + ".");}},verify:function(m,p,v,q){switch(h){case b.Eb.Gq:case b.Eb.Eu:case b.Eb.fp:case b.Eb.gp:case b.Eb.xu:return (m=k.verify(m,p,v,q),d(m));default:throw Error("Unsupported Web Crypto version " + h + ".");}},digest:function(m,p){switch(h){case b.Eb.Gq:case b.Eb.Eu:case b.Eb.fp:case b.Eb.gp:case b.Eb.xu:return (m=k.digest(m,p),d(m));default:throw Error("Unsupported Web Crypto version " + h + ".");}},generateKey:function(m,p,v){p=c(p);v=n(v);switch(h){case b.Eb.Gq:case b.Eb.Eu:case b.Eb.fp:case b.Eb.gp:case b.Eb.xu:return (m=k.generateKey(m,p,v),d(m));default:throw Error("Unsupported Web Crypto version " + h + ".");}},deriveKey:function(m,p,v,q,u){q=c(q);u=n(u);switch(h){case b.Eb.Gq:case b.Eb.Eu:case b.Eb.fp:case b.Eb.gp:case b.Eb.xu:return (m=k.deriveKey(m,p,v,q,u),d(m));default:throw Error("Unsupported Web Crypto version " + h + ".");}},deriveBits:function(m,p,v){switch(h){case b.Eb.Gq:case b.Eb.Eu:case b.Eb.fp:case b.Eb.gp:case b.Eb.xu:return (m=k.deriveBits(m,p,v),d(m));default:throw Error("Unsupported Web Crypto version " + h + ".");}},importKey:function(m,p,v,q,u){var t;q=c(q);u=n(u);switch(h){case b.Eb.Gq:case b.Eb.Eu:case b.Eb.fp:case b.Eb.xu:return (v=k.importKey(m,p,v,q,u),d(v));case b.Eb.gp:if(m == g.yj.bF || m == g.yj.jQ){m=l.default.Zzb(v);t=l.default.$zb(u);p=l.default.Qtb(p,m,t,q);if(!p)throw Error("Could not make valid JWK from DER input");p=JSON.stringify(p);v=k.importKey(g.yj.Y9,f.Wy.Uc(p),v,q,u);}else v=k.importKey(m,p,v,q,u);return d(v);default:throw Error("Unsupported Web Crypto version " + h + ".");}},exportKey:function(m,p){switch(h){case b.Eb.Gq:case b.Eb.Eu:case b.Eb.fp:case b.Eb.xu:return (m=k.exportKey(m,p),d(m));case b.Eb.gp:if(m == g.yj.bF || m == g.yj.jQ)return (m=k.exportKey(g.yj.Y9,p),d(m).then(function(v){v=JSON.parse(f.Wy.Jd(new Uint8Array(v)));v=l.default.$kb(v);if(!v)throw Error("Could not make valid DER from JWK input");return v.d1.buffer;}));m=k.exportKey(m,p);return d(m);default:throw Error("Unsupported Web Crypto version " + h + ".");}},wrapKey:function(m,p,v,q){switch(h){case b.Eb.Gq:case b.Eb.xu:m=k.wrapKey(p,v,q);break;case b.Eb.Eu:case b.Eb.fp:case b.Eb.gp:m=k.wrapKey(m,p,v,q);break;default:throw Error("Unsupported Web Crypto version " + h + ".");}return d(m);},unwrapKey:function(m,p,v,q,u,t,w){switch(h){case b.Eb.Gq:m=k.unwrapKey(p,u,v);break;case b.Eb.Eu:case b.Eb.fp:case b.Eb.gp:case b.Eb.xu:t=c(t);w=n(w);m=k.unwrapKey(m,p,v,q,u,t,w);break;default:throw Error("Unsupported Web Crypto version " + h + ".");}return d(m);}};},75007:function(r,b,a){var c,n,d,g,e,f,l,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.dMa=b.fCa=b.mGb=b.ve=void 0;r=a(5163);c=r.__importDefault(a(42979));n=r.__importDefault(a(10690));d=r.__importDefault(a(42458));g=r.__importDefault(a(51411));e=r.__importDefault(a(6838));f=r.__importDefault(a(88257));l=r.__importDefault(a(36114));h=a(44127);b.ve={hk:1,Fw:2};k=(function(){function m(p,v,q){this.version=p;this.algorithm=v;this.i7=q;}m.prototype.Uc=function(p,v,q){var u;u=this;c.default(q,function(){var t;switch(u.version){case b.ve.hk:return u.i7;case b.ve.Fw:t=p.Ae();t.put("version",u.version);t.put("algorithm",u.algorithm);t.put("signature",u.i7);p.Ai(t,v,q);break;default:throw new n.default("Signature envelope version " + u.version + " encoding unsupported.");}});};return m;})();b.mGb=k;b.fCa=function(){var m,p,v,q;if(2 == arguments.length)(m=b.ve.hk,p=arguments[0],v=null,q=arguments[1]);else 3 == arguments.length && (m=b.ve.Fw,v=arguments[0],p=arguments[1],q=arguments[2]);c.default(q,function(){return new k(m,v,p);});};b.dMa=function(m,p,v,q){c.default(q,function(){var u,t,w,x,z;if(p)switch(p){case b.ve.hk:return new k(b.ve.hk,null,m);case b.ve.Fw:try{u=v.pn(m);t=u.dM("version");if(b.ve.Fw != t)throw new d.default(l.default.pwa,"signature envelope " + m);w=g.default.sZ.TL(u.Jd("algorithm"));if(!w)throw new d.default(l.default.nwa,"signature envelope " + m);x=u.Uc("signature");return new k(b.ve.Fw,w,x);}catch(A){if(A instanceof e.default)throw new f.default(l.default.oe,"signature envelope " + m,A);throw A;}default:throw new d.default(l.default.pwa,"signature envelope " + h.qh(m));}try{u=v.pn(m);}catch(A){if(A instanceof e.default)u=null;else throw A;}if(u && u.has("version"))try{z=u.dM("version");z !== z && (z=b.ve.hk);t=!1;for(var y in b.ve)if(b.ve[y] == z){t=!0;break;}t || (z=b.ve.hk);}catch(A){A instanceof e.default && (z=b.ve.hk);}else z=b.ve.hk;switch(z){case b.ve.hk:return new k(z,null,m);case b.ve.Fw:try{return (w=g.default.sZ.TL(u.Jd("algorithm")),x=u.Uc("signature"),w?new k(z,w,x):new k(b.ve.hk,null,m));}catch(A){if(A instanceof e.default)return new k(b.ve.hk,null,m);throw A;}default:throw new d.default(l.default.pwa,"signature envelope " + m);}});};},97962:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.s0a=void 0;r=(function(){function a(){}a.prototype.encrypt=function(c,n,d,g){g.result(c);};a.prototype.decrypt=function(c,n,d){d.result(c);};a.prototype.SI=function(c,n,d,g){g.result(c);};a.prototype.JI=function(c,n,d,g){g.result(c);};a.prototype.sign=function(c,n,d,g){g.result(new Uint8Array(0));};a.prototype.verify=function(c,n,d,g){g.result(!0);};return a;})();b.s0a=r;},36911:function(r,b,a){var n,d,g,e,f,l,h;function c(k,m){if(m == e.yj.jQ){if(k instanceof Uint8Array)return k;if("string" === typeof k)try{return l.fj(k);}catch(p){throw new d.default(f.default.TP,m + " " + k,p);}throw new d.default(f.default.TP,m + " " + k);}if(m == e.yj.Y9){if("string" === typeof k)try{k=JSON.parse(k);}catch(p){throw new d.default(f.default.TP,m + " " + k,p);}if("object" === typeof k && k.constructor === Object)return k;throw new d.default(f.default.TP,m + " " + k);}throw new d.default(f.default.TP,"Invalid format '" + m + "'");}Object.defineProperty(b,"__esModule",{value:!0});b.p$b=b.Ada=b.E2a=void 0;r=a(5163);n=r.__importDefault(a(42979));d=r.__importDefault(a(42458));g=a(50441);e=a(11475);f=r.__importDefault(a(36114));l=a(44127);h=(function(){function k(m,p,v){var u;function q(t){n.default(p,function(){u.Ut=m;u.IDa=t;return u;});}u=this;n.default(p,function(){if("object" !== typeof m || "private" != m.type)throw new TypeError("Only original private crypto keys are supported.");!v && m.extractable?g.Vf.exportKey(e.yj.jQ,m).then(function(t){q(new Uint8Array(t));},function(t){p.error(new d.default(f.default.dra,e.yj.jQ,t));}):q(v);});}k.prototype.Wz=function(){return this.IDa;};return k;})();b.E2a=h;b.Ada=function(k,m){new h(k,m);};b.p$b=function(k,m,p,v,q){n.default(q,function(){var u;u=c(k,v);g.Vf.importKey(v,u,m,!0,p).then(function(t){new h(t,q,u);},function(t){q.error(new d.default(f.default.TP,null,t));});});};},42486:function(r,b,a){var n,d,g,e,f,l,h;function c(k,m){if(m == e.yj.bF){if(k instanceof Uint8Array)return k;if("string" === typeof k)try{return l.fj(k);}catch(p){throw new d.default(g.default.sJ,m + " " + k,p);}throw new d.default(g.default.sJ,m + " " + k);}if(m == e.yj.Y9){if("string" === typeof k)try{k=JSON.parse(k);}catch(p){throw new d.default(g.default.sJ,m + " " + k,p);}if("object" === typeof k && k.constructor === Object)return k;throw new d.default(g.default.sJ,m + " " + k);}throw new d.default(g.default.sJ,"Invalid format '" + m + "'");}Object.defineProperty(b,"__esModule",{value:!0});b.vHa=b.Bda=b.R$=void 0;r=a(5163);n=r.__importDefault(a(42979));d=r.__importDefault(a(42458));g=r.__importDefault(a(36114));e=a(11475);f=a(50441);l=a(44127);h=(function(){function k(m,p,v){var u;function q(t){n.default(p,function(){u.Ut=m;u.IDa=t;return u;});}u=this;n.default(p,function(){if("object" !== typeof m || "public" != m.type)throw new TypeError("Only original public crypto keys are supported.");!v && m.extractable?f.Vf.exportKey(e.yj.bF,m).then(function(t){q(new Uint8Array(t));},function(t){p.error(new d.default(g.default.dra,e.yj.bF,t));}):q(v);});}k.prototype.Wz=function(){return this.IDa;};return k;})();b.R$=h;b.Bda=function(k,m){new h(k,m);};b.vHa=function(k,m,p,v,q){n.default(q,function(){var u;u=c(k,v);f.Vf.importKey(v,u,m,!0,p).then(function(t){new h(t,q,u);},function(t){q.error(new d.default(g.default.sJ,null,t));});});};},33863:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q;Object.defineProperty(b,"__esModule",{value:!0});b.daa=b.RB=void 0;r=a(5163);c=a(96837);n=r.__importDefault(a(42979));d=r.__importDefault(a(42458));g=r.__importDefault(a(6838));e=r.__importDefault(a(36114));f=a(50441);l=a(75007);h=a(60426);k=a(42486);m=a(36911);p=r.__importDefault(a(88257));v=a(25881);q=a(32260);b.RB={IDb:1,JDb:2,J5a:3,K5a:4,sQ:5};a=(function(){function u(t,w,x,z,y){var A;x && (x=x.Ut);z && (z=z.Ut);t=y == b.RB.JDb?c.fe.$$:y == b.RB.IDb?c.fe.WB:"nullOp";A=y == b.RB.K5a?c.fe.$$:y == b.RB.J5a?c.fe.WB:"nullOp";y=y == b.RB.sQ?c.fe.nZ:"nullOp";this.id=w;this.privateKey=x;this.publicKey=z;this.transform=t;this.qna=A;this.aca=y;}u.prototype.encrypt=function(t,w,x,z){var y;y=this;n.default(z,function(){if("nullOp" == y.transform)return t;if(!y.publicKey)throw new d.default(e.default.Hpa,"no public key");if(0 == t.length)return t;f.Vf.encrypt(y.transform,y.publicKey,t).then(function(A){v.eCa(y.id,null,new Uint8Array(A),{result:function(B){B.Al(w,x,{result:z.result,error:function(C){C instanceof g.default && (C=new d.default(e.default.d9,null,C));z.error(C);}});},error:function(B){q.$c(B) || (B=new d.default(e.default.z9,null,B));z.error(B);}});},function(A){z.error(new d.default(e.default.z9,null,A));});});};u.prototype.decrypt=function(t,w,x){var z;z=this;n.default(x,function(){var y;if("nullOp" == z.transform)return t;if(!z.privateKey)throw new d.default(e.default.$oa,"no private key");if(0 == t.length)return t;try{y=w.pn(t);}catch(A){if(A instanceof g.default)throw new d.default(e.default.EUa,null,A);throw new d.default(e.default.KE,null,A);}v.cMa(y,l.ve.hk,{result:function(A){try{f.Vf.decrypt(z.transform,z.privateKey,A.cda).then(function(B){x.result(new Uint8Array(B));},function(B){x.error(new d.default(e.default.KE,null,B));});}catch(B){q.$c(B)?x.error(B):x.error(new d.default(e.default.KE,null,B));}},error:function(A){A instanceof p.default && (A=new d.default(e.default.d9,null,A));q.$c(A) || (A=new d.default(e.default.KE,null,A));x.error(A);}});});};u.prototype.SI=function(t,w,x,z){var y;y=this;n.default(z,function(){if("nullOp" == y.qna || !y.publicKey)throw new d.default(e.default.I5a,"no public key");f.Vf.wrapKey("jwk",t.Ut,y.publicKey,y.qna).then(function(A){z.result(new Uint8Array(A));},function(A){z.error(new d.default(e.default.Jwa,null,A));});});};u.prototype.JI=function(t,w,x,z){var A;function y(B){n.default(z,function(){switch(B.type){case "secret":h.Dda(B,z);break;case "public":k.Bda(B,z);break;case "private":m.Ada(B,z);break;default:throw new d.default(e.default.owa,"type: " + B.type);}});}A=this;n.default(z,function(){if("nullOp" == A.qna || !A.privateKey)throw new d.default(e.default.j5a,"no private key");f.Vf.unwrapKey("jwk",t,A.privateKey,A.qna,w,!1,x).then(y,function(B){z.error(new d.default(e.default.qwa,null,B));});});};u.prototype.sign=function(t,w,x,z){var y;y=this;n.default(z,function(){if("nullOp" == y.aca)return new Uint8Array(0);if(!y.privateKey)throw new d.default(e.default.tva,"no private key");f.Vf.sign(y.aca,y.privateKey,t).then(function(A){l.fCa(new Uint8Array(A),{result:function(B){B.Uc(w,x,{result:z.result,error:function(C){C instanceof g.default && (C=new d.default(e.default.n3a,void 0,C));z.error(C);}});},error:z.error});},function(A){z.error(new d.default(e.default.o3a,void 0,A));});});};u.prototype.verify=function(t,w,x,z){var y;y=this;n.default(z,function(){if("nullOp" == y.aca)return !0;if(!y.publicKey)throw new d.default(e.default.zwa,"no public key");l.dMa(w,l.ve.hk,x,{result:function(A){n.default(z,function(){var B;B=z.result;f.Vf.verify(y.aca,y.publicKey,A.i7,t).then(B,function(C){z.error(new d.default(e.default.o3a,void 0,C));});});},error:z.error});});};return u;})();b.daa=a;},60426:function(r,b,a){var c,n,d,g,e,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.wHa=b.Dda=b.Dva=void 0;r=a(5163);c=r.__importDefault(a(42979));n=r.__importDefault(a(42458));d=r.__importDefault(a(36114));g=a(50441);e=a(11475);f=a(44127);l=(function(){function h(k,m,p){var q;function v(u){c.default(m,function(){var t;t=u?f.qh(u):void 0;q.algorithm=k.algorithm;q.Ut=k;q.HIa=u;q.CKc=t;return q;});}q=this;c.default(m,function(){if("object" !== typeof k)throw new n.default(d.default.Kqa);!p && k.extractable?g.Vf.exportKey(e.yj.$ua,k).then(function(u){v(new Uint8Array(u));},function(u){m.error(new n.default(d.default.dra,e.yj.$ua,u));}):v(p);});}h.prototype.size=function(){return this.HIa.length;};h.prototype.lW=function(){return this.HIa;};h.prototype.Wz=function(){return this.HIa;};return h;})();b.Dva=l;b.Dda=function(h,k){new l(h,k);};b.wHa=function(h,k,m,p){c.default(p,function(){try{h="string" === typeof h?f.fj(h):h;}catch(v){throw new n.default(d.default.Kqa,"keydata " + h,v);}g.Vf.importKey(e.yj.$ua,h,k,!0,m).then(function(v){new l(v,p,h);},function(v){p.error(new n.default(d.default.Kqa,null,v));});});};},43088:function(r,b,a){var c,n,d;Object.defineProperty(b,"__esModule",{value:!0});b.rZ=void 0;c=a(5163);r=a(72672);n=c.__importDefault(a(80760));d=c.__importDefault(a(36114));a=(function(g){function e(f,l,h,k,m){if(void 0 !== h || k || m)f=g.call(this,f,h?h + "_" + l.bk:"" + l.bk,k,m,null) || this;else {if(!l.B3())throw new n.default(d.default.SZa,l);f=g.call(this,f,l.zt + "_" + l.bk,l.nt,l.hE,null) || this;}return f;}c.__extends(e,g);return e;})(r.Xva);b.rZ=a;},72672:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q;Object.defineProperty(b,"__esModule",{value:!0});b.Xva=void 0;r=a(5163);c=r.__importDefault(a(42979));n=r.__importDefault(a(42458));d=r.__importDefault(a(36114));g=a(25881);e=r.__importDefault(a(6838));f=a(50441);l=a(96837);h=r.__importDefault(a(88257));k=a(60426);m=a(42486);p=a(36911);v=a(75007);q=a(32260);a=(function(){function u(t,w,x,z,y){this.ij=t;this.id=w;this.nt=null === x || void 0 === x?void 0:x.Ut;this.hE=null === z || void 0 === z?void 0:z.Ut;this.wrapKey=null === y || void 0 === y?void 0:y.Ut;}u.prototype.encrypt=function(t,w,x,z){var y;y=this;c.default(z,function(){var A;if(!y.nt)throw new n.default(d.default.Hpa,"no encryption/decryption key");if(0 == t.length)return t;A=new Uint8Array(16);y.ij.yhb().Ggc(A);f.Vf.encrypt({name:l.fe.UI.name,iv:A},y.nt,t).then(function(B){g.eCa(y.id,A,new Uint8Array(B),{result:function(C){C.Al(w,x,{result:z.result,error:function(D){D instanceof e.default && (D=new n.default(d.default.d9,null,D));z.error(D);}});},error:function(C){q.$c(C) || (C=new n.default(d.default.z9,null,C));z.error(C);}});},function(B){z.error(new n.default(d.default.z9,null,B));});});};u.prototype.decrypt=function(t,w,x){var z;z=this;c.default(x,function(){var y;if(!z.nt)throw new n.default(d.default.$oa,"no encryption/decryption key");if(0 == t.length)return t;try{y=w.pn(t);}catch(A){if(A instanceof e.default)throw new n.default(d.default.EUa,null,A);throw new n.default(d.default.KE,null,A);}g.cMa(y,g.ve.hk,{result:function(A){try{f.Vf.decrypt({name:l.fe.UI.name,iv:A.iv},z.nt,A.cda).then(function(B){x.result(new Uint8Array(B));},function(B){x.error(new n.default(d.default.KE,null,B));});}catch(B){q.$c(B)?x.error(B):x.error(new n.default(d.default.KE,null,B));}},error:function(A){A instanceof h.default && (A=new n.default(d.default.d9,null,A));q.$c(A) || (A=new n.default(d.default.KE,null,A));x.error(A);}});});};u.prototype.SI=function(t,w,x,z){var y;y=this;c.default(z,function(){if(!y.wrapKey)throw new n.default(d.default.I5a,"no wrap/unwrap key");f.Vf.wrapKey("raw",t.Ut,y.wrapKey,y.wrapKey.algorithm).then(function(A){z.result(new Uint8Array(A));},function(A){z.error(new n.default(d.default.Jwa,null,A));});});};u.prototype.JI=function(t,w,x,z){var A;function y(B){c.default(z,function(){switch(B.type){case "secret":k.Dda(B,z);break;case "public":m.Bda(B,z);break;case "private":p.Ada(B,z);break;default:throw new n.default(d.default.owa,"type: " + B.type);}});}A=this;c.default(z,function(){if(!A.wrapKey)throw new n.default(d.default.j5a,"no wrap/unwrap key");f.Vf.unwrapKey("raw",t,A.wrapKey,A.wrapKey.algorithm,w,!1,x).then(function(B){y(B);},function(B){z.error(new n.default(d.default.qwa,null,B));});},this);};u.prototype.sign=function(t,w,x,z){var y;y=this;c.default(z,function(){if(!y.hE)throw new n.default(d.default.tva,"no signature key.");f.Vf.sign(y.hE.algorithm,y.hE,t).then(function(A){c.default(z,function(){v.fCa(new Uint8Array(A),{result:function(B){B.Uc(w,x,{result:z.result,error:function(C){c.default(z,function(){C instanceof e.default && (C=new n.default(d.default.n3a,void 0,C));z.error(C);});}});},error:z.error});});},function(A){z.error(new n.default(d.default.EXa,null,A));});});};u.prototype.verify=function(t,w,x,z){var y;y=this;c.default(z,function(){if(!y.hE)throw new n.default(d.default.zwa,"no signature key.");v.dMa(w,v.ve.hk,x,{result:function(A){c.default(z,function(){var B;B=z.result;f.Vf.verify(y.hE.algorithm,y.hE,A.i7,t).then(B,function(C){z.error(new n.default(d.default.EXa,void 0,C));});});},error:z.error});});};return u;})();b.Xva=a;},96837:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bac=b.nbc=b.Rac=b.fe=void 0;b.fe={F8:{name:"AES-KW"},UI:{name:"AES-CBC"},sDb:{name:"ECDH"},ECb:{name:"DH"},SP:{name:"HMAC",hash:{name:"SHA-256"}},WB:{name:"RSA-OAEP",hash:{name:"SHA-1"}},$$:{name:"RSAES-PKCS1-v1_5"},xIb:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}},LSa:{name:"AES-CMAC"},tDb:{name:"ECDSA",hash:{name:"SHA-256"}},yIb:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}},nZ:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},Tzc:{name:"NFLX-DH"},sEc:{name:"SHA-256"},tEc:{name:"SHA-384"}};b.Rac=function(a){return "HMAC" == a.name;};b.nbc=function(a){switch(a.name){case b.fe.WB.name:case b.fe.$$.name:case b.fe.xIb.name:case b.fe.yIb.name:case b.fe.nZ.name:return !0;default:return !1;}};b.Bac=function(a){switch(a.name){case b.fe.sDb.name:case b.fe.tDb.name:return !0;default:return !1;}};},10558:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cC={y9:["encrypt","decrypt"],wBc:["encrypt"],UAc:["decrypt"],CFc:["wrap","unwrap"],H5a:["wrap"],nFc:["unwrap"],sQ:["sign","verify"],uEc:["sign"],wFc:["verify"],WAc:["deriveKey"]};},58768:function(r,b,a){var c,n,d,g,e,f;Object.defineProperty(b,"__esModule",{value:!0});b.aqb=b.HX=void 0;c=a(5163);r=a(48235);n=c.__importDefault(a(42979));d=c.__importDefault(a(24571));g=c.__importDefault(a(36114));e=c.__importDefault(a(6838));f=c.__importDefault(a(88257));a=(function(l){function h(k){var m;m=l.call(this) || this;m.scheme=k;m.encodings={};return m;}c.__extends(h,l);h.prototype.equals=function(k){return this === k?!0:k instanceof h?this.scheme == k.scheme:!1;};h.prototype.Al=function(k,m,p){var v;v=this;n.default(p,function(){if(v.encodings[m])return v.encodings[m];v.XL(k,{result:function(q){n.default(p,function(){var u;u=k.Ae();u.put("scheme",v.scheme.name);u.put("authdata",q);k.Ai(u,m,{result:function(t){n.default(p,function(){return v.encodings[m]=t;});},error:p.error});});},error:p.error});});};return h;})(r.Bm);b.HX=a;b.aqb=function(l,h,k){n.default(k,function(){var m,p,v,q;try{m=h.Jd("scheme");p=h.lo("authdata",l.Jf);v=l.s5b(m);if(!v)throw new d.default(g.default.yJb,m);q=l.Cfa(v);if(!q)throw new d.default(g.default.Jpa,v.name);q.O0(p,k);}catch(u){if(u instanceof e.default)throw new f.default(g.default.oe,"entityauthdata " + h,u);throw u;}});};},80477:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vpa=void 0;b.Vpa=(function(){return function(a){this.scheme=a;};})();},36332:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GB=void 0;r=(function(){function a(c,n,d){this.name=c;this.Cea=n;this.Rrb=d;a.oy[c]=this;}a.prototype.toString=function(){return this.name;};a.P2=function(c){return a.oy[c]?a.oy[c]:null;};a.oy={};return a;})();b["default"]=r;b.GB={YDc:new r("PSK",!0,!0),WHb:new r("PSK_PROFILE",!0,!0),EFc:new r("X509",!1,!0),qQ:new r("RSA",!1,!0),rDb:new r("ECC",!1,!0),NONE:new r("NONE",!1,!1),tGb:new r("NONE_SUFFIXED",!1,!1),RCc:new r("MT_PROTECTED",!1,!1),XDc:new r("PROVISIONED",!1,!1),OFb:new r("MIGRATION",!1,!1)};},75563:function(r,b,a){var c,n,d,g,e,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.Mjc=b.nIb=void 0;c=a(5163);r=a(58768);n=a(36332);d=c.__importDefault(a(42979));g=c.__importDefault(a(6838));e=c.__importDefault(a(88257));f=c.__importDefault(a(36114));l=(function(h){function k(m,p){var v;v=h.call(this,n.GB.WHb) || this;v.wka=m;v.profile=p;return v;}c.__extends(k,h);k.prototype.Xz=function(){return this.wka + "-" + this.profile;};k.prototype.XL=function(m,p){var v;v=this;d.default(p,function(){var q;q=m.Ae();q.put("pskid",v.wka);q.put("profile",v.profile);return q;});};k.prototype.equals=function(m){return this === m?!0:m instanceof k?h.prototype.equals.call(this,m) && this.wka == m.wka && this.profile == m.profile:!1;};return k;})(r.HX);b.nIb=l;b.Mjc=function(h){var k,m;try{k=h.Jd("pskid");m=h.Jd("profile");return new l(k,m);}catch(p){if(p instanceof g.default)throw new e.default(f.default.oe,"psk profile authdata " + h);throw p;}};},90973:function(r,b,a){var c,n,d,g,e,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.kqb=b.f3a=void 0;c=a(5163);r=a(58768);n=a(36332);d=c.__importDefault(a(42979));g=c.__importDefault(a(6838));e=c.__importDefault(a(88257));f=c.__importDefault(a(36114));l=(function(h){function k(m,p){var v;v=h.call(this,n.GB.qQ) || this;v.zt=m;v.Fka=p;return v;}c.__extends(k,h);k.prototype.Xz=function(){return this.zt;};k.prototype.XL=function(m,p){var v;v=this;d.default(p,function(){var q;q=m.Ae();q.put("identity",v.zt);q.put("pubkeyid",v.Fka);return q;});};k.prototype.equals=function(m){return this === m?!0:m instanceof k?h.prototype.equals.call(this,m) && this.zt == m.zt && this.Fka == m.Fka:!1;};return k;})(r.HX);b.f3a=l;b.kqb=function(h){var k,m;try{k=h.Jd("identity");m=h.Jd("pubkeyid");return new l(k,m);}catch(p){if(p instanceof g.default)throw new e.default(f.default.oe,"RSA authdata" + h);throw p;}};},18089:function(r,b,a){var c,n,d,g,e,f,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.g3a=void 0;c=a(5163);r=a(80477);n=a(36332);d=c.__importDefault(a(42979));g=a(90973);e=c.__importDefault(a(10690));f=c.__importDefault(a(24571));l=c.__importDefault(a(36114));h=a(33863);a=(function(k){function m(p,v){var q;q=k.call(this,n.GB.qQ) || this;q.Fr=p;q.store=v;return q;}c.__extends(m,k);m.prototype.O0=function(p,v){d.default(v,function(){return g.kqb(p);});};m.prototype.wx=function(p,v){var q,u,t,w;if(!(v instanceof g.f3a))throw new e.default("Incorrect authentication data type " + v + ".");q=v.zt;u=v.Fka;t=this.store.u7b(u);w=this.store.q7b(u);if(u == this.Fr && !w)throw new f.default(l.default.zIb,u).kf(v);if(u != this.Fr && !t)throw new f.default(l.default.AIb,u).kf(v);return new h.daa(p,q,w,t,h.RB.sQ);};return m;})(r.Vpa);b.g3a=a;},88774:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.h3a=void 0;r=a(5163);c=a(42486);a(36911);n=r.__importDefault(a(10690));r.__importDefault(a(32260));a=(function(){function d(){this.pNa={};this.Brb={};}d.prototype.xOb=function(g,e){if(!(e instanceof c.R$))throw new n.default("Incorrect key data type " + e + ".");this.pNa[g]=e;};d.prototype.u7b=function(g){return this.pNa[g];};d.prototype.q7b=function(g){return this.Brb[g];};d.prototype.clear=function(){this.pNa={};this.Brb={};};return d;})();b.h3a=a;},2479:function(r,b,a){var c,n,d,g,e,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.oqb=b.swa=void 0;c=a(5163);r=a(58768);n=a(36332);d=c.__importDefault(a(42979));g=c.__importDefault(a(6838));e=c.__importDefault(a(88257));f=c.__importDefault(a(36114));l=(function(h){function k(m){var p;p=h.call(this,n.GB.NONE) || this;p.zt=m;return p;}c.__extends(k,h);k.prototype.Xz=function(){return this.zt;};k.prototype.XL=function(m,p){var v;v=this;d.default(p,function(){var q;q=m.Ae();q.put("identity",v.zt);return q;});};k.prototype.equals=function(m){return this === m?!0:m instanceof k?h.prototype.equals.call(this,m) && this.zt == m.zt:!1;};return k;})(r.HX);b.swa=l;b.oqb=function(h){var k;try{k=h.Jd("identity");return new l(k);}catch(m){if(m instanceof g.default)throw new e.default(f.default.oe,"Unauthenticated authdata" + h);throw m;}};},28296:function(r,b,a){var c,n,d,g,e,f,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.m5a=void 0;c=a(5163);r=a(80477);n=a(36332);d=c.__importDefault(a(42979));g=a(2479);e=c.__importDefault(a(24571));f=c.__importDefault(a(36114));l=c.__importDefault(a(10690));h=a(97962);a=(function(k){function m(p){var v;v=k.call(this,n.GB.NONE) || this;v.b$a=p;return v;}c.__extends(m,k);m.prototype.O0=function(p,v){d.default(v,function(){return g.oqb(p);});};m.prototype.wx=function(p,v){if(!(v instanceof g.swa))throw new l.default("Incorrect authentication data type " + v + ".");p=v.Xz();if(this.b$a.Eac(p))throw new e.default(f.default.qWa,"none " + p).kf(v);return new h.s0a();};return m;})(r.Vpa);b.m5a=a;},66734:function(r,b,a){var c,n,d,g,e,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.$jc=b.PJb=void 0;c=a(5163);r=a(58768);n=a(36332);d=c.__importDefault(a(42979));g=c.__importDefault(a(6838));e=c.__importDefault(a(88257));f=c.__importDefault(a(36114));l=(function(h){function k(m,p){var v;v=h.call(this,n.GB.tGb) || this;v.root=m;v.mma=p;return v;}c.__extends(k,h);k.prototype.Xz=function(){return this.root + "." + this.mma;};k.prototype.XL=function(m,p){var v;v=this;d.default(p,function(){var q;q=m.Ae();q.put("root",v.root);q.put("suffix",v.mma);return q;});};k.prototype.equals=function(m){return this === m?!0:m instanceof k?h.prototype.equals.call(this,m) && this.root == m.root && this.mma == m.mma:!1;};return k;})(r.HX);b.PJb=l;b.$jc=function(h){var k,m;try{k=h.Jd("root");m=h.Jd("suffix");return new l(k,m);}catch(p){if(p instanceof g.default)throw new e.default(f.default.oe,"Unauthenticated suffixed authdata" + h);throw p;}};},83853:function(r,b,a){var c,n,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.OBb=void 0;c=a(5163);r=a(53389);n=a(25078);d=c.__importDefault(a(48795));g=c.__importDefault(a(79804));a=(function(e){function f(l){var h;h=e.call(this) || this;h.Rq=l;h.Vb=null;h.Hl=0;h.Is=-1;h.ik=!1;return h;}c.__extends(f,e);f.prototype.abort=function(){this.Rq.abort();};f.prototype.close=function(l,h){this.ik=!0;this.Rq.close(l,h);};f.prototype.mark=function(l){var h;if(!this.Vb)(this.Vb=new n.X8(),this.Hl=0);else if(0 < this.Hl){h=this.Vb.lW();this.Vb=new n.X8();this.Vb.write(h,this.Hl,h.length - this.Hl,-1,{result:function(){},error:function(){}});this.Hl=0;}this.Is=l;};f.prototype.reset=function(){if(!this.Vb)throw new d.default("Cannot reset before input stream has been marked or if mark has been invalidated.");this.Hl=0;};f.prototype.read=function(l,h,k){var p;function m(v,q){var u;if(!q)return v;p.Vb && (-1 != p.Is && p.Vb.size() + q.length > p.Is?(p.Vb=null,p.Hl=0,p.Is=-1):(p.Vb.write(q,0,q.length,-1,{result:function(){},error:function(){}}),p.Hl+=q.length));if(!v)return q;u=new Uint8Array(v.length + q.length);u.set(v);u.set(q,v.length);return u;}p=this;g.default(k,function(){var v,q;if(p.ik)throw new d.default("Stream is already closed.");if(p.Vb && p.Vb.size() > p.Hl){v=void 0;v=-1 == l?p.Vb.size():Math.min(p.Vb.size(),p.Hl + l);q=p.Vb.lW().subarray(p.Hl,v);p.Hl+=q.length;if(q.length >= l)return q;}else q=null;v=-1;-1 != l && (v=l - (q?q.length:0));p.Rq.read(v,h,{result:function(u){g.default(k,function(){return m(q,u);});},timeout:function(u){g.default(k,function(){var t;t=m(q,u);k.timeout(t);});},error:k.error});});};f.prototype.skip=function(l,h,k){var m;m=this;g.default(k,function(){var p;if(m.ik)throw new d.default("Stream is already closed.");p=0;if(m.Vb && m.Vb.size() > m.Hl && (p=Math.min(l,m.Vb.size() - m.Hl),m.Hl+=p,p == l))return p;m.read(l - p,h,{result:function(v){g.default(k,function(){return v?v.length + p:p;});},timeout:function(v){g.default(k,function(){return v?v.length + p:p;});},error:k.error});});};return f;})(r.W9);b.OBb=a;},99881:function(r,b,a){var c,n,d;Object.defineProperty(b,"__esModule",{value:!0});b.xUa=void 0;c=a(5163);r=a(53389);n=c.__importDefault(a(79804));d=c.__importDefault(a(48795));a=(function(g){function e(f){var l;l=g.call(this) || this;l.$i=f;l.ik=!1;l.Ju=0;l.Lxa=-1;return l;}c.__extends(e,g);e.prototype.abort=function(){};e.prototype.close=function(f,l){var h;h=this;n.default(l,function(){return h.ik=!0;});};e.prototype.mark=function(){this.Lxa=this.Ju;};e.prototype.reset=function(){if(-1 == this.Lxa)throw new d.default("Cannot reset before input stream has been marked or if mark has been invalidated.");this.Ju=this.Lxa;};e.prototype.read=function(f,l,h){var k;k=this;n.default(h,function(){var m;if(k.ik)throw new d.default("Stream is already closed.");if(k.Ju == k.$i.length)return null;-1 == f && (f=k.$i.length - k.Ju);m=k.$i.subarray(k.Ju,k.Ju + f);k.Ju+=m.length;return m;});};e.prototype.skip=function(f,l,h){var k;k=this;n.default(h,function(){var m;m=k.Ju;k.Ju=Math.min(k.Ju + f,k.$i.length);return k.Ju - m;});};return e;})(r.W9);b.xUa=a;},25078:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.X8=void 0;c=a(5163).__importDefault(a(48795));r=(function(){function n(){this.ik=!1;this.Uw=new Uint8Array(0);this.Wwa=[];}n.prototype.abort=function(){};n.prototype.close=function(d,g){this.ik=!0;g.result(!0);};n.prototype.write=function(d,g,e,f,l){var h;try{if(this.ik)throw new c.default("Stream is already closed.");if(0 > g)throw new RangeError("Offset cannot be negative.");if(0 > e)throw new RangeError("Length cannot be negative.");if(g + e > d.length)throw new RangeError("Offset plus length cannot be greater than the array length.");h=d.subarray(g,Math.min(d.length,g + e));this.Wwa.push(h);l.result(h.length);}catch(k){l.error(k);}};n.prototype.flush=function(d,g){var e,f;try{for(;0 < this.Wwa.length;){e=this.Wwa.shift();if(this.Uw){f=new Uint8Array(this.Uw.length + e.length);f.set(this.Uw);f.set(e,this.Uw.length);this.Uw=f;}else this.Uw=new Uint8Array(e);}g.result(!0);}catch(l){g.error(l);}};n.prototype.size=function(){this.flush(1,{result:function(){},error:function(){}});return this.Uw.length;};n.prototype.lW=function(){this.flush(1,{result:function(){},error:function(){}});return this.Uw;};return n;})();b.X8=r;},98263:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.YUa=void 0;r=a(5163);c=r.__importDefault(a(51411));n=r.__importDefault(a(12457));a=(function(){function d(){var g,e,f;g=n.default.te();g.mR=c.default.me;e={values:[],stack:[],gl:void 0,Nm:void 0,jL:void 0};f=!1;g.onerror=function(){f || (f=!0,g.end());};g.onopenobject=function(l){var h;if(e.gl)(e.gl[e.jL]={},e.stack.push(e.gl),e.gl=e.gl[e.jL]);else if(e.Nm){h={};e.stack.push(e.Nm);e.Nm.push(h);e.gl=h;e.Nm=void 0;}else e.gl={};e.jL=l;};g.oncloseobject=function(){var l;l=e.stack.pop();l?"object" === typeof l?e.gl=l:(e.gl=void 0,e.Nm=l):(e.values.push(e.gl),e.gl=void 0,g.pause());};g.onopenarray=function(){var l;if(e.gl)(e.gl[e.jL]=[],e.stack.push(e.gl),e.Nm=e.gl[e.jL],e.gl=void 0);else if(e.Nm){l=[];e.stack.push(e.Nm);e.Nm.push(l);e.Nm=l;}else e.Nm=[];};g.onclosearray=function(){var l;l=e.stack.pop();l?"object" === typeof l?(e.gl=l,e.Nm=void 0):e.Nm=l:(e.values.push(e.Nm),e.Nm=void 0,g.pause());};g.onkey=function(l){e.jL=l;};g.onvalue=function(l){e.gl?e.gl[e.jL]=l:e.Nm?e.Nm.push(l):(e.values.push(l),g.pause());};this.Vd=g;this.hb=e;}d.prototype.write=function(g){this.Vd.resume();this.Vd.write(g);};d.prototype.uob=function(){var g;g=this.hb;0 == g.values.length && 0 < this.Vd.pending.length && (this.Vd.resume(),this.Vd.parse());if(0 < g.values.length)return g.values.shift();};return d;})();b.YUa=a;},30370:function(r,b,a){var c,n,d,g,e,f;Object.defineProperty(b,"__esModule",{value:!0});b.HVa=void 0;c=a(5163);r=a(21399);n=a(65630);d=a(77593);g=c.__importDefault(a(6838));e=c.__importDefault(a(42979));f=a(72536);a=(function(l){function h(){return null !== l && l.apply(this,arguments) || this;}c.__extends(h,l);h.prototype.shb=function(){return n.Oy.JSON;};h.prototype.Z3b=function(k,m){if(n.Oy.JSON === m)return new d.PYa(this,k);throw new g.default("Unsupported encoder format: " + m + ".");};h.prototype.pn=function(k){var m;m=this.Ejc(k);if(n.Oy.JSON == m)return new f.xJ(this,k);throw new g.default("Unsupported encoder format: " + m + ".");};h.prototype.Ai=function(k,m,p){var v;v=this;e.default(p,function(){if(n.Oy.JSON == m)f.Tdb(v,k,p);else throw new g.default("Unsupported encoder format: " + m + ".");});};return h;})(r.S_a);b.HVa=a;},14894:function(r,b,a){var c,n,d,g,e,f;Object.defineProperty(b,"__esModule",{value:!0});b.XXa=void 0;r=a(5163);c=r.__importDefault(a(51411));n=r.__importDefault(a(79804));d=a(69193);g=a(99881);e=a(65630);f=r.__importDefault(a(48795));a=(function(){function l(h){this.Yxa=h;this.Vb=void 0;this.Is=-1;this.FQ=void 0;this.Hf=this.qp=!1;this.uLb=void 0;this.J6a=[];}l.prototype.abort=function(){this.Yxa.abort();};l.prototype.close=function(h,k){var m;m=this;n.default(k,function(){if(m.Vb)m.Vb.close(h,k);else return !0;});};l.prototype.mark=function(h){this.Vb?this.Vb.mark(h):this.Is=h;};l.prototype.reset=function(){this.Vb && this.Vb.reset();};l.prototype.u2=function(){return this.J6a;};l.prototype.read=function(h,k,m){var v;function p(q){n.default(m,function(){if(!q)return new Uint8Array(0);v.Yxa.N2({result:function(u){n.default(m,function(){var t;if(u.hha)(v.qp=!0,m.timeout());else {if(u.$G)throw (v.FQ=u.error || new f.default("Unknown HTTP exception."),v.FQ);if(!u.response)throw (v.FQ=new f.default("Missing HTTP response."),v.FQ);v.J6a=u.response.headers;if(void 0 !== u.response.json){v.uLb=u.response.json;t=new Uint8Array([e.Oy.JSON.identifier]);}else if(u.response.content instanceof Uint8Array)t=u.response.content;else if("string" === typeof u.response.body)t=d.Wy.Uc(u.response.body,c.default.ACb);else throw new f.default("Missing HTTP response content.");v.Vb=new g.xUa(t);-1 != v.Is && v.Vb.mark(v.Is);v.Vb.read(h,k,m);}});},error:m.error});});}v=this;n.default(m,function(){if(v.FQ)throw v.FQ;if(v.qp)m.timeout();else {if(v.Hf)return new Uint8Array(0);v.Vb?v.Vb.read(h,k,m):v.Yxa.close(k,{result:function(q){p(q);},timeout:m.timeout,error:m.error});}});};l.prototype.skip=function(){throw Error("wat?");};return l;})();b.XXa=a;},41161:function(r,b,a){var c,n,d,g,e,f;Object.defineProperty(b,"__esModule",{value:!0});b.ZXa=void 0;r=a(5163);c=r.__importDefault(a(10690));n=r.__importDefault(a(42979));d=a(89752);g=r.__importDefault(a(79804));e=a(25078);f=r.__importDefault(a(48795));a=(function(){function l(h,k){this.zxa=h;this.mk=k;this.Vb=new e.X8();this.Gaa=this.Wn=void 0;this.Hf=!1;this.AK=new d.fX();}l.prototype.setTimeout=function(h){this.mk=h;};l.prototype.N2=function(h){var k;k=this;this.AK.I5(-1,{result:function(m){n.default(h,function(){m && k.AK.add(m);return m;});},timeout:function(){n.default(h,function(){k.Wn={$G:!0};k.AK.add(k.Wn);k.abort();throw new c.default("Timeout while waiting for HttpOutputStream.getResponse() despite no timeout being specified.");});},error:function(m){n.default(h,function(){k.Wn={$G:!0};k.AK.add(k.Wn);throw m;});}});};l.prototype.abort=function(){this.Gaa && this.Gaa.abort();this.Hf=!0;};l.prototype.close=function(h,k){var m;m=this;g.default(k,function(){var p;if(m.Wn || m.Gaa || m.Hf)return !0;p=m.Vb.lW();0 < p.length && (m.Gaa=m.zxa.N2({body:p},{result:function(v){m.Wn={response:v};m.AK.add(m.Wn);},timeout:function(){m.Wn={hha:!0};m.AK.add(m.Wn);},error:function(v){m.Wn={$G:!0,error:v};m.AK.add(m.Wn);}}));return !0;});};l.prototype.write=function(h,k,m,p,v){var q;q=this;g.default(v,function(){if(q.Wn)throw new f.default("HttpOutputStream already closed.");q.Vb.write(h,k,m,p,v);},this);};l.prototype.flush=function(h,k){var m;m=this;g.default(k,function(){if(m.Wn)return !0;m.Vb.flush(h,k);});};return l;})();b.ZXa=a;},53389:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.W9=void 0;c=a(5163).__importDefault(a(79804));r=(function(){function n(){}n.prototype.skip=function(d,g,e){this.read(d,g,{result:function(f){c.default(e,function(){return f?f.length:0;});},timeout:function(f){c.default(e,function(){return f?f.length:0;});},error:e.error});};return n;})();b.W9=r;},89768:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.Z9=void 0;c=a(5163);n=a(77633);d=a(9E3);g=a(48235);e=a(65630);f=a(69193);l=c.__importDefault(a(6838));h=a(44127);k=c.__importDefault(a(42979));m=a(72536);p=a(32260);r=(function(v){function q(u,t){var w,z;w=v.call(this,null) || this;w.AL=u;u=[];if(t instanceof Array)u=t;else if(t instanceof n.zj)for(var x=0;x < t.size();++x)u.push(t.Fe(x));else if(t instanceof Uint8Array)try{x=f.Wy.Jd(t,f.Iy.aC);z=JSON.parse(x);if(!(z instanceof Array))throw new l.default("Invalid JSON array encoding.");u=z;}catch(y){if(!p.$c(y))throw new l.default("Invalid JSON array encoding.",y);throw y;}try{for(t=0;t < u.length;++t)w.put(-1,u[t]);}catch(y){if(y instanceof TypeError)throw new l.default("Invalid MSL array encoding.",y);throw y;}return w;}c.__extends(q,v);q.prototype.put=function(u,t){var w;try{w=t instanceof Object && t.constructor === Object?new m.xJ(this.AL,t):t instanceof Array?new q(this.AL,t):t;}catch(x){if(x instanceof l.default)throw new TypeError("Unsupported JSON object or array representation.");throw x;}return v.prototype.put.call(this,u,w);};q.prototype.Uc=function(u){var t;t=this.get(u);if(t instanceof Uint8Array)return t;try{if(t instanceof String)return h.fj(t.valueOf(),!1);if("string" === typeof t)return h.fj(t,!1);}catch(w){}throw new l.default("MslArray[" + u + "] is not binary data.");};q.prototype.Bma=function(u,t){var x;function w(z,y,A){k.default(t,function(){var B;if(A >= y)return z;B=x.Fe(A);B instanceof Uint8Array?(z.push(h.qh(B)),w(z,y,A + 1)):B instanceof m.xJ?B.VO(u,{result:function(C){k.default(t,function(){z.push(C);w(z,y,A + 1);});},error:t.error}):B instanceof q?B.Bma(u,{result:function(C){k.default(t,function(){z.push(C);w(z,y,A + 1);});},error:t.error}):B instanceof d.Uh?new m.xJ(u,B).VO(u,{result:function(C){k.default(t,function(){z.push(C);w(z,y,A + 1);});},error:t.error}):B instanceof n.zj?new q(u,B).Bma(u,{result:function(C){k.default(t,function(){z.push(C);w(z,y,A + 1);});},error:t.error}):B instanceof g.Bm?B.Al(u,e.Oy.JSON,{result:function(C){k.default(t,function(){new m.xJ(u,C).VO(u,{result:function(D){k.default(t,function(){z.push(D);w(z,y,A + 1);});},error:t.error});});},error:t.error}):(z.push(B),w(z,y,A + 1));});}x=this;k.default(t,function(){var z;z=x.size();w([],z,0);});};return q;})(n.zj);b.Z9=r;},72536:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q;Object.defineProperty(b,"__esModule",{value:!0});b.xJ=b.Tdb=void 0;c=a(5163);n=a(77633);d=a(9E3);g=a(69193);e=a(48235);f=a(65630);l=c.__importDefault(a(6838));h=a(44127);k=c.__importDefault(a(42979));m=a(21399);p=a(89768);v=a(32260);b.Tdb=function(u,t,w){k.default(w,function(){(t instanceof q?t:new q(u,t)).Ovc(u,{result:function(x){k.default(w,function(){return g.Wy.Uc(x,g.Iy.aC);});},error:w.error});});};q=(function(u){function t(w,x){var z,B;void 0 === x && (x=null);z=u.call(this) || this;z.AL=w;try{if((w=void 0,x instanceof d.Uh))for(var y=x.x2(),A=0;A < y.length;++A)(w=y[A],z.put(w,x.Fe(w)));else if(x instanceof Object && x.constructor === Object)for(w in x){if(!(w instanceof String) && "string" !== typeof w)throw new l.default("Invalid JSON object encoding.");z.put(w,x[w]);}else if(x instanceof Uint8Array){A=g.Wy.Jd(x,g.Iy.aC);B=JSON.parse(A);if(!(B instanceof Object) || B.constructor !== Object)throw new l.default("Invalid JSON object encoding.");for(w in B){if(!(w instanceof String) && "string" !== typeof w)throw new l.default("Invalid JSON object encoding.");z.put(w,B[w]);}}}catch(C){if(C instanceof TypeError)throw new l.default("Invalid MSL object encoding.",C);if(!v.$c(C))throw new l.default("Invalid JSON object encoding.",C);throw C;}return z;}c.__extends(t,u);t.prototype.put=function(w,x){var z;try{z=x instanceof Object && x.constructor === Object?new t(this.AL,x):x instanceof Array?new p.Z9(this.AL,x):x;}catch(y){if(y instanceof l.default)throw new TypeError("Unsupported JSON object or array representation.");throw y;}return u.prototype.put.call(this,w,z);};t.prototype.Uc=function(w){var x;x=this.get(w);if(x instanceof Uint8Array)return x;try{if(x instanceof String)return h.fj(x.valueOf(),!1);if("string" === typeof x)return h.fj(x,!1);}catch(z){}throw new l.default("MslObject[" + m.quote(w) + "] is not binary data.");};t.prototype.VO=function(w,x){var y;function z(A,B,C){k.default(x,function(){var D,E;if(C >= B.length)return A;D=B[C];E=y.Fe(D);E instanceof Uint8Array?(A[D]=h.qh(E),z(A,B,C + 1)):E instanceof t?E.VO(w,{result:function(F){k.default(x,function(){A[D]=F;z(A,B,C + 1);});},error:x.error}):E instanceof p.Z9?E.Bma(w,{result:function(F){k.default(x,function(){A[D]=F;z(A,B,C + 1);});},error:x.error}):E instanceof d.Uh?new t(w,E).VO(w,{result:function(F){k.default(x,function(){A[D]=F;z(A,B,C + 1);});},error:x.error}):E instanceof n.zj?new p.Z9(w,E).Bma(w,{result:function(F){k.default(x,function(){A[D]=F;z(A,B,C + 1);});},error:x.error}):E instanceof e.Bm?E.Al(w,f.Oy.JSON,{result:function(F){k.default(x,function(){new t(w,F).VO(w,{result:function(G){k.default(x,function(){A[D]=G;z(A,B,C + 1);});},error:x.error});});},error:x.error}):(A[D]=E,z(A,B,C + 1));});}y=this;k.default(x,function(){var A;A=y.x2();z({},A,0);});};t.prototype.Ovc=function(w,x){this.VO(w,{result:function(z){k.default(x,function(){return JSON.stringify(z);});},error:x.error});};return t;})(d.Uh);b.xJ=q;},77593:function(r,b,a){var c,n,d,g,e,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.PYa=void 0;c=a(5163);r=a(1454);n=c.__importDefault(a(42979));d=c.__importDefault(a(79804));g=c.__importDefault(a(6838));e=a(98263);f=a(72536);l=a(69193);a=(function(h){function k(m,p){var v;v=h.call(this) || this;v.Jf=m;v.Rq=p;v.e6a=l.Iy.aC;v.$Z="";v.Vd=new e.YUa();return v;}c.__extends(k,h);k.prototype.close=function(m,p){var v;v=this;d.default(p,function(){var q;if(0 == v.Vd.Vd.pending.length)return !0;q=l.Wy.Uc(v.$Z.substring(0,v.$Z.length - v.Vd.Vd.pending.length),v.e6a);v.Rq.reset();v.Rq.skip(q.length,m,{result:function(u){n.default(p,function(){if(u != q.length)throw new g.default("Only skipped " + u + " of " + q.length + " bytes. Source input stream may not be reusable for additional MSL messages.");return !0;});},timeout:function(u){n.default(p,function(){if(u != q.length)throw new g.default("Only skipped " + u + " of " + q.length + " bytes. Source input stream may not be reusable for additional MSL messages.");return !0;});},error:p.error});});};k.prototype.abort=function(){h.prototype.abort.call(this);this.Rq.abort();};k.prototype.Zpb=function(m,p){var v;v=this;d.default(p,function(){v.Rq.mark(65536);v.Rq.read(65536,m,{result:function(q){d.default(p,function(){var u;if(!q || !q.length)return null;v.$Z=l.Wy.Jd(q,v.e6a);u=v.Vd.Vd.pending.length + v.$Z.length;if(10485760 < u)throw new g.default("JSON parsing stopped after reaching " + u + " unparsed characters.");v.Vd.write(v.$Z);u=v.Vd.uob();if(void 0 !== u)return u;setTimeout(function(){v.Zpb(m,p);},0);});},timeout:p.timeout,error:function(q){n.default(p,function(){throw new g.default("Error reading from the source input stream.",q);});}});});};k.prototype.next=function(m,p){var q;function v(u){d.default(p,function(){if("object" !== typeof u)throw new g.default("Malformed MSL message. Parsed " + typeof u + " instead of object.");return new f.xJ(q.Jf,u);});}q=this;d.default(p,function(){var u;u=q.Vd.uob();void 0 !== u?v(u):q.Zpb(q.mk,{result:function(t){d.default(p,function(){if(q.Hf || !t)return null;v(t);});},timeout:p.timeout,error:p.error});});};return k;})(r.T_a);b.PYa=a;},77633:function(r,b,a){var c,n,d,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.zj=void 0;c=a(5163).__importDefault(a(6838));n=a(48235);d=a(21399);g=a(9E3);e=a(46383);r=(function(){function f(l){void 0 === l && (l=null);this.list=[];if(l)for(var h=0;h < l.length;++h)this.put(-1,l[h]);}f.prototype.get=function(l){var h;if(0 > l || l >= this.list.length)throw new RangeError("MslArray[" + l + "] is negative or exceeds array length.");h=this.list[l];if(null === h || void 0 === h)throw new c.default("MslArray[" + l + "] is null.");return h instanceof Object && h.constructor === Object?new g.Uh(h):h instanceof Array?new f(h):h;};f.prototype.h2=function(l){var h;h=this.get(l);if(h instanceof Boolean)return h.valueOf();if("boolean" === typeof h)return h;throw new c.default("MslArray[" + l + "] is not a boolean.");};f.prototype.Uc=function(l){var h;h=this.get(l);if(h instanceof Uint8Array)return h;throw new c.default("MslArray[" + l + "] is not binary data.");};f.prototype.dM=function(l){var h;h=this.get(l);if(h instanceof Number)return h.valueOf() << 0;if("number" === typeof h)return h << 0;throw new c.default("MslArray[" + l + "] is not a number.");};f.prototype.ZFa=function(l){var h;h=this.get(l);if(h instanceof f)return h;if(h instanceof Array)return new f(h);throw new c.default("MslArray[" + l + "] is not a MslArray.");};f.prototype.lo=function(l,h){var k;k=this.get(l);if(k instanceof g.Uh)return k;if(k instanceof Object && k.constructor === Object)return new g.Uh(k);if(k instanceof Uint8Array)try{return h.pn(k);}catch(m){if(m instanceof c.default)throw new c.default("MslObject[" + l + "] is not a MslObject.",m);throw m;}throw new c.default("MslArray[" + l + "] is not a MslObject.");};f.prototype.Zl=function(l){var h;h=this.get(l);if(h instanceof Number)return parseInt(h.valueOf());if("number" === typeof h)return parseInt(h);throw new c.default("MslArray[" + l + "] is not a number.");};f.prototype.Jd=function(l){var h;h=this.get(l);if(h instanceof String)return h.valueOf();if("string" === typeof h)return h;throw new c.default("MslArray[" + l + "] is not a string.");};f.prototype.Dc=function(l){if(0 > l || l >= this.list.length)throw new RangeError("MslArray[" + l + "] is negative or exceeds array length.");return null == this.list[l];};f.prototype.size=function(){return this.list.length;};f.prototype.Fe=function(l){if(0 > l || l >= this.list.length)throw new RangeError("MslArray[" + l + "] is negative or exceeds array length.");l=this.list[l];try{if(l instanceof Object && l.constructor === Object)return new g.Uh(l);if(l instanceof Array)return new f(l);}catch(h){if(h instanceof TypeError)return null;}return l;};f.prototype.Cja=function(l){l=this.Fe(l);return l instanceof f?l:l instanceof Array?new f(l):null;};f.prototype.n5=function(l,h){l=this.Fe(l);return l instanceof String?l.valueOf():"string" === typeof l?l:h instanceof String?h.valueOf():"string" === typeof h || null === h?h:"";};f.prototype.put=function(l,h){if(-1 > l)throw new RangeError("MslArray[" + l + "] is negative.");if(!(h instanceof Boolean || "boolean" === typeof h || h instanceof Uint8Array || h instanceof Number || "number" === typeof h || h instanceof g.Uh || h instanceof f || h instanceof String || "string" === typeof h || h instanceof n.Bm || null === h))if(h instanceof Object && h.constructor === Object)h=new g.Uh(h);else if(h instanceof Array)h=new f(h);else throw new TypeError("Value [" + typeof h + "] is an unsupported type.");for(var k=this.list.length;k < l;++k)this.list.push(null);if(-1 == l || l == this.list.length)return (this.list.push(h),this);this.list[l]=h;return this;};f.prototype.remove=function(l){var h;if(-1 > l || l >= this.list.length)throw new RangeError("MslArray[" + l + "] is negative or exceeds array length.");h=this.Fe(-1 == l?this.list.length - 1:l);this.list.splice(l,1);return h;};f.prototype.equals=function(l){if(this == l)return !0;if(!(l instanceof f))return !1;try{return e.eeb(this,l);}catch(h){if(h instanceof c.default)return !1;throw h;}};f.prototype.toString=function(){var k;for(var l="[",h=0;h < this.list.length;h++){k=this.list[h];l=k instanceof g.Uh?l + "{}":k instanceof f?l + "[]":l + d.stringify(k);h != this.list.length - 1 && (l+=",");}return l + "]";};return f;})();b.zj=r;},48235:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bm=void 0;b.Bm=(function(){return function(){};})();},6838:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);r=(function(n){function d(g,e){return n.call(this,"MslEncoderException",g,e) || this;}c.__extends(d,n);return d;})(c.__importDefault(a(18595)).default);b["default"]=r;},21399:function(r,b,a){var c,n,d,g,e,f;Object.defineProperty(b,"__esModule",{value:!0});b.S_a=b.stringify=b.quote=void 0;r=a(5163);c=a(44127);n=a(9E3);d=a(77633);g=a(65630);e=r.__importDefault(a(42979));f=r.__importDefault(a(6838));a(83853);b.quote=function(l){return JSON.stringify(l).replace(/["]/g,'\\"').replace(/[\\]/g,"\\\\").replace(/[\/]/g,"\\/").replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t");};b.stringify=function(l){return l instanceof n.Uh || l instanceof d.zj?l.toString():l instanceof Uint8Array?c.qh(l,!1):JSON.stringify(l).replace(/["]/g,'\\"').replace(/[\\]/g,"\\\\").replace(/[\/]/g,"\\/").replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t");};a=(function(){function l(){}l.prototype.cYb=function(h,k,m){var v;function p(q,u){e.default(m,function(){var t;t=g.n$.BFa(u);if(!t)throw new f.default("Unidentified encoder format ID: (byte)" + u + ".");q.reset();return v.Z3b(q,t);});}v=this;e.default(m,function(){h.mark(1);h.read(1,k,{result:function(q){e.default(m,function(){if(null == q || 1 > q.length)throw new f.default("End of stream reached when attempting to read the byte stream identifier.");p(h,q[0]);});},timeout:m.timeout,error:m.error});});};l.prototype.Ae=function(){var h;void 0 === h && (h=null);return new n.Uh(h);};l.prototype.Ejc=function(h){var k;if(1 > h.length)throw new f.default("No encoding identifier found.");h=h[0];k=g.n$.BFa(h);if(!k)throw new f.default("Unidentified encoder format ID: (byte)" + h + ".");return k;};l.prototype.M0=function(h){void 0 === h && (h=null);return new d.zj(h);};return l;})();b.S_a=a;},65630:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oy=b.n$=void 0;r=(function(){function a(c,n){this.name=c;this.identifier=n;a.XEa[c]=this;a.WEa[n]=this;}a.BFa=function(c){return "string" === typeof c && a.XEa[c]?a.XEa[c]:"number" === typeof c && a.WEa[c]?a.WEa[c]:null;};a.WEa={};a.XEa={};return a;})();b.n$=r;b.Oy={JSON:new r("JSON",123)};},46383:function(r,b,a){var d,g,e,f,l,h;function c(k,m){var p,v,q,u,t;if(k === m)return !0;if(null == k || null == m)return !1;p=k.x2();v=m.x2();if(p !== v && (null == p || null == v || p.length != v.length || !h.default.K0(p,v)))return !1;for(v=0;v < p.length;++v){q=p[v];u=k.Fe(q);t=m.Fe(q);if(u !== t){if(null == u || null == t)return !1;if(u instanceof Uint8Array || t instanceof Uint8Array){if((u=k.Uc(q),q=m.Uc(q),!h.default.equal(u,q)))return !1;}else if(u instanceof g.Uh && t instanceof g.Uh){if(!c(u,t))return !1;}else if(u instanceof e.zj && t instanceof e.zj){if(!n(u,t))return !1;}else if(typeof u !== typeof t || u != t)return !1;}}return !0;}function n(k,m){var v,q;if(k === m)return !0;if(null == k || null == m || k.size() != m.size())return !1;for(var p=0;p < k.size();++p){v=k.Fe(p);q=m.Fe(p);if(v !== q){if(null == v || null == q)return !1;if(v instanceof Uint8Array || q instanceof Uint8Array){if((v=k.Uc(p),q=m.Uc(p),!h.default.equal(v,q)))return !1;}else if(v instanceof g.Uh && q instanceof g.Uh){if(!c(v,q))return !1;}else if(v instanceof e.zj && q instanceof e.zj){if(!n(v,q))return !1;}else if(typeof v !== typeof q || v != q)return !1;}}return !0;}Object.defineProperty(b,"__esModule",{value:!0});b.em=b.o1b=b.eeb=b.feb=b.M0=void 0;r=a(5163);d=r.__importDefault(a(42979));g=a(9E3);e=a(77633);f=a(48235);l=r.__importDefault(a(6838));h=r.__importDefault(a(14945));b.M0=function(k,m,p){function v(q,u,t,w){d.default(w,function(){var x;if(t >= m.length)return u;x=m[t];if(x instanceof Boolean || "boolean" === typeof x || x instanceof Uint8Array || x instanceof Number || "number" === typeof x || x instanceof g.Uh || x instanceof e.zj || x instanceof String || "string" === typeof x || x instanceof Object && x.constructor === Object || x instanceof Array || null === x)(u.put(-1,x),v(q,u,t + 1,w));else if(x instanceof f.Bm)x.Al(q,q.shb(),{result:function(z){d.default(w,function(){var y;y=q.pn(z);u.put(-1,y);v(q,u,t + 1,w);});},error:w.error});else throw new l.default("Class " + typeof x + " is not MSL encoding-compatible.");});}d.default(p,function(){var q,u;q=k.Jf;u=q.M0();v(q,u,0,p);});};b.feb=c;b.eeb=n;b.o1b=function(k,m){if(k == m)return !0;if(null == k || null == m || k.size() != m.size())return !1;for(var p=[],v=[],q=0;q < k.size();++q)(p[q]=k.Fe(q),v[q]=m.Fe(q));return h.default.K0(p,v);};b.em=function(k,m){var q;if(!k && !m)return null;k=k?new g.Uh(k.Qgb()):new g.Uh();if(!m)return k;for(var p=m.x2(),v=0;v < p.length;++v){q=p[v];k.put(q,m.get(q));}return k;};},9E3:function(r,b,a){var c,n,d,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.Uh=void 0;c=a(5163).__importDefault(a(6838));n=a(48235);d=a(21399);g=a(77633);e=a(46383);r=(function(){function f(l){void 0 === l && (l=null);this.map={};if(l)for(var h in l){if(!(h instanceof String) && "string" !== typeof h)throw new TypeError("Map key is not a string.");this.put(h,l[h]);}}f.prototype.get=function(l){var h;l instanceof String && (l=l.valueOf());if("string" !== typeof l)throw new TypeError("Unsupported key.");h=this.map[l];if(null === h || void 0 === h)throw new c.default("MslObject[" + d.quote(l) + "] not found.");return h instanceof Object && h.constructor === Object?new f(h):h instanceof Array?new g.zj(h):h;};f.prototype.h2=function(l){var h;h=this.get(l);if(h instanceof Boolean)return h.valueOf();if("boolean" === typeof h)return h;throw new c.default("MslObject[" + d.quote(l) + "] is not a boolean.");};f.prototype.Uc=function(l){var h;h=this.get(l);if(h instanceof Uint8Array)return h;throw new c.default("MslObject[" + d.quote(l) + "] is not binary data.");};f.prototype.dM=function(l){var h;h=this.get(l);if(h instanceof Number)return h.valueOf() << 0;if("number" === typeof h)return h << 0;throw new c.default("MslObject[" + d.quote(l) + "] is not a number.");};f.prototype.ZFa=function(l){var h;h=this.get(l);if(h instanceof g.zj)return h;if(h instanceof Array)return new g.zj(h);throw new c.default("MslObject[" + d.quote(l) + "] is not a MslArray.");};f.prototype.lo=function(l,h){var k;k=this.get(l);if(k instanceof f)return k;if(k instanceof Object && k.constructor === Object)return new f(k);if(k instanceof Uint8Array)try{return h.pn(k);}catch(m){if(m instanceof c.default)throw new c.default("MslObject[" + d.quote(l) + "] is not a MslObject.");throw m;}throw new c.default("MslObject[" + d.quote(l) + "] is not a MslObject.");};f.prototype.Zl=function(l){var h;h=this.get(l);if(h instanceof Number)return parseInt(h.valueOf());if("number" === typeof h)return h;throw new c.default("MslObject[" + d.quote(l) + "] is not a number.");};f.prototype.Jd=function(l){var h;h=this.get(l);if(h instanceof String)return h.valueOf();if("string" === typeof h)return h;throw new c.default("MslObject[" + d.quote(l) + "] is not a string.");};f.prototype.has=function(l){if("string" !== typeof l)throw new TypeError("Null key.");return this.map.hasOwnProperty(l);};f.prototype.Fe=function(l){l instanceof String && (l=l.valueOf());if("string" !== typeof l)throw new TypeError("Unsupported key.");l=this.map[l];try{if(l instanceof Object && l.constructor === Object)return new f(l);if(l instanceof Array)return new g.zj(l);}catch(h){if(l instanceof TypeError)return null;}return l;};f.prototype.Cja=function(l){l=this.Fe(l);return l instanceof g.zj?l:l instanceof Array?new g.zj(l):null;};f.prototype.n5=function(l,h){l=this.Fe(l);return l instanceof String?l.valueOf():"string" === typeof l?l:h instanceof String?h.valueOf():"string" === typeof h || null === h?h:"";};f.prototype.put=function(l,h){l instanceof String && (l=l.valueOf());if("string" !== typeof l)throw new TypeError("Unsupported key.");if(null === h)return (delete this.map[l],this);if(h instanceof Boolean || "boolean" === typeof h || h instanceof Uint8Array || h instanceof Number || "number" === typeof h || h instanceof f || h instanceof g.zj || h instanceof String || "string" === typeof h || h instanceof n.Bm)this.map[l]=h;else if(h instanceof Object && h.constructor === Object)this.map[l]=new f(h);else if(h instanceof Array)this.map[l]=new g.zj(h);else throw new TypeError("Value [" + typeof h + "] is an unsupported type.");return this;};f.prototype.remove=function(l){var h;l instanceof String && (l=l.valueOf());if("string" !== typeof l)throw new TypeError("Unsupported key.");h=this.Fe(l);delete this.map[l];return h;};f.prototype.x2=function(){return Object.keys(this.map);};f.prototype.Qgb=function(){var l,h;l={};for(h in this.map)l[h]=this.map[h];return l;};f.prototype.equals=function(l){if(this == l)return !0;if(!(l instanceof f))return !1;try{return e.feb(this,l);}catch(h){if(h instanceof c.default)return !1;throw h;}};f.prototype.toString=function(){var m,p;for(var l="{",h=Object.keys(this.map),k=0;k < h.length;k++){m=h[k];p=this.map[m];l=p instanceof f || p instanceof g.zj?l + (d.quote(m) + ":{}"):l + (d.quote(m) + ":" + d.stringify(p));k != h.length - 1 && (l+=",");}return l + "}";};return f;})();b.Uh=r;},1454:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.T_a=void 0;r=a(5163);c=r.__importDefault(a(79804));n=r.__importDefault(a(10690));a=(function(){function d(){this.mC=null;this.ik=this.Hf=!1;}d.prototype.close=function(g,e){this.ik=!0;e.result(!0);};d.prototype.abort=function(){this.Hf=!0;};d.prototype.$nb=function(g){var e;e=this;c.default(g,function(){if(e.Hf || e.ik)return !1;if(e.mC)return !0;e.PKa({result:function(f){c.default(g,function(){e.mC=f;return null != e.mC;});},timeout:g.timeout,error:g.error});});};d.prototype.next=function(g,e){c.default(e,function(){throw new n.default("MslTokenizer.next() must be implemented by a subclass.");});};d.prototype.PKa=function(g){var e;e=this;c.default(g,function(){var f;if(e.Hf || e.ik)return null;if(null != e.mC){f=e.mC;e.mC=null;return f;}e.next(-1,g);});};return d;})();b.T_a=a;},94971:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.n5a=void 0;c=a(14894);n=a(41161);r=(function(){function d(g,e){void 0 === e && (e=null);this.zxa=g;this.mk=e;}d.prototype.setTimeout=function(g){this.mk=g;};d.prototype.Sic=function(){var g;g=new n.ZXa(this.zxa,this.mk);return {input:new c.XXa(g),xN:g};};return d;})();b.n5a=r;},93562:function(r,b,a){var g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A,B,C,D,E;function c(F,G){f.default(G,function(){var J,N,I;try{J=F.Jd("keypairid");N=F.Jd("mechanism");I=F.Uc("publickey");if(!b.rs[N])throw new h.default(p.default.zJb,N);}catch(M){if(M instanceof k.default)throw new m.default(p.default.oe,"keydata " + F);throw M;}try{switch(N){case b.rs.qQ:case b.rs.NYa:case b.rs.MYa:case b.rs.Yqa:v.vHa(I,q.fe.WB,u.cC.H5a,t.yj.bF,{result:function(M){G.result(new D(J,N,M,null));},error:G.error});break;case b.rs.OYa:v.vHa(I,q.fe.$$,u.cC.H5a,t.yj.bF,{result:function(M){G.result(new D(J,N,M,null));},error:G.error});break;default:throw new w.default(p.default.i5a,N);}}catch(M){if(!C.$c(M))throw new w.default(p.default.sJ,"keydata " + F,M);throw M;}});}function n(F,G){var J,N,I;try{J=G.Jd("keypairid");N=G.Uc("encryptionkey");I=G.Uc("hmackey");}catch(M){if(M instanceof k.default)throw new m.default(p.default.oe,"keydata " + G);throw M;}return new E(F,J,N,I);}function d(F,G,J,N,I){switch(J){case b.rs.NYa:case b.rs.MYa:return new z.QYa(F,z.Algorithm.WB,z.AWa.xAb,N,I);case b.rs.qQ:case b.rs.Yqa:return new y.daa(F,G,N,I,y.RB.J5a);case b.rs.OYa:return new y.daa(F,G,N,I,y.RB.K5a);default:throw new w.default(p.default.i5a,J);}}Object.defineProperty(b,"__esModule",{value:!0});b.PTa=b.Qjc=b.FIb=b.Ojc=b.W2a=b.rs=void 0;g=a(5163);r=a(59786);e=a(75948);f=g.__importDefault(a(42979));l=g.__importDefault(a(14945));h=g.__importDefault(a(35661));k=g.__importDefault(a(6838));m=g.__importDefault(a(88257));p=g.__importDefault(a(36114));v=a(42486);q=a(96837);u=a(10558);t=a(11475);w=g.__importDefault(a(42458));x=a(49140);z=a(69351);y=a(33863);A=g.__importDefault(a(10690));a(58892);g.__importDefault(a(80760));B=a(43088);C=a(32260);a(55531);a=a(75316);b.rs={qQ:"RSA",rDb:"ECC",NYa:"JWE_RSA",MYa:"JWEJS_RSA",Yqa:"JWK_RSA",OYa:"JWK_RSAES"};D=(function(F){function G(J,N,I,M){var K;K=F.call(this,e.a$.zna) || this;K.Fr=J;K.C4=N;K.publicKey=I;K.privateKey=M;return K;}g.__extends(G,F);G.prototype.PFa=function(J,N){var I;I=this;f.default(N,function(){var M;M=J.Ae();M.put("keypairid",I.Fr);M.put("mechanism",I.C4);M.put("publickey",I.publicKey.Wz());return M;});};G.prototype.equals=function(J){var N;if(J === this)return !0;if(!(J instanceof G))return !1;N=this.privateKey === J.privateKey || this.privateKey && J.privateKey && l.default.equal(this.privateKey.Wz(),J.privateKey.Wz());return F.prototype.equals.call(this,J) && this.Fr == J.Fr && this.C4 == J.C4 && l.default.equal(this.publicKey.Wz(),J.publicKey.Wz()) && N;};G.prototype.eh=function(){var J,N;J=this.publicKey.Wz();N=this.privateKey && this.privateKey.Wz();J=F.prototype.eh.call(this) + ":" + this.Fr + ":" + this.C4 + ":" + l.default.sga(J);N && (J+=":" + l.default.sga(N));return J;};return G;})(r.XYa);b.W2a=D;b.Ojc=c;E=(function(F){function G(J,N,I,M){J=F.call(this,J,e.a$.zna) || this;J.Fr=N;J.nt=I;J.g3=M;return J;}g.__extends(G,F);G.prototype.PFa=function(J,N){var I;I=this;f.default(N,function(){var M;M=J.Ae();M.put("keypairid",I.Fr);M.put("encryptionkey",I.nt);M.put("hmackey",I.g3);return M;});};G.prototype.equals=function(J){return this === J?!0:J instanceof G?F.prototype.equals.call(this,J) && this.Fr == J.Fr && l.default.equal(this.nt,J.nt) && l.default.equal(this.g3,J.g3):!1;};G.prototype.eh=function(){return F.prototype.eh.call(this) + ":" + this.Fr + ":" + l.default.sga(this.nt) + ":" + l.default.sga(this.g3);};return G;})(x.YYa);b.FIb=E;b.Qjc=n;a=(function(F){function G(J){var N;N=F.call(this,e.a$.zna) || this;N.b$a=J;return N;}g.__extends(G,F);G.prototype.TXb=function(J,N){c(J,N);};G.prototype.UXb=function(J,N,I){f.default(I,function(){return n(J,N);});};G.prototype.wx=function(J,N,I,M,K){f.default(K,function(){var L,H,O;if(!(N instanceof D))throw new A.default("Key request data " + N + " was not created by this factory.");if(!(I instanceof E))throw new A.default("Key response data " + I + " was not created by this factory.");L=N.Fr;H=I.Fr;if(L != H)throw new h.default(p.default.RYa,"request " + L + "; response " + H).Yb(M);H=N.privateKey;if(!H)throw new h.default(p.default.bFb,"request Asymmetric private key").Yb(M);O=d(J,L,N.C4,H,null);O.JI(I.nt,q.fe.UI,u.cC.y9,{result:function(P){O.JI(I.g3,q.fe.SP,u.cC.sQ,{result:function(Q){J.Bfa({result:function(S){f.default(K,function(){return new B.rZ(J,I.Qb,S.Xz(),P,Q);});},error:function(S){f.default(K,function(){C.$c(S) && S.Yb(M);throw S;});}});},error:function(Q){f.default(K,function(){C.$c(Q) && Q.Yb(M);throw Q;});}});},error:function(P){f.default(K,function(){C.$c(P) && P.Yb(M);throw P;});}});});};return G;})(a.WYa);b.PTa=a;},55531:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eFb=void 0;b.eFb=(function(){return function(a,c){this.zv=a;this.Mm=c;};})();},75316:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.WYa=void 0;r=a(5163);r.__importDefault(a(42979));a(60426);a(96837);a(10558);r.__importDefault(a(42458));r.__importDefault(a(36114));b.WYa=(function(){return function(c){this.scheme=c;};})();},75948:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.a$=void 0;r=(function(){function a(c){this.name=c;a.oy[c]=this;}a.prototype.toString=function(){return this.name;};a.P2=function(c){return a.oy[c]?a.oy[c]:null;};a.oy={};return a;})();b["default"]=r;b.a$={zna:new r("ASYMMETRIC_WRAPPED"),ECb:new r("DIFFIE_HELLMAN"),yCc:new r("JWE_LADDER"),zCc:new r("JWK_LADDER"),OEc:new r("SYMMETRIC_WRAPPED")};},59786:function(r,b,a){var c,n,d,g,e,f;Object.defineProperty(b,"__esModule",{value:!0});b.dqb=b.XYa=void 0;c=a(5163);r=a(48235);n=c.__importDefault(a(42979));d=c.__importDefault(a(35661));g=c.__importDefault(a(6838));e=c.__importDefault(a(88257));f=c.__importDefault(a(36114));a=(function(l){function h(k){var m;m=l.call(this) || this;m.Tx=k;return m;}c.__extends(h,l);h.prototype.Al=function(k,m,p){var v;v=this;this.PFa(k,{result:function(q){n.default(p,function(){var u;u=k.Ae();u.put("scheme",v.Tx.name);u.put("keydata",q);k.Ai(u,m,p);});},error:p.error});};h.prototype.equals=function(k){return this === k?!0:k instanceof h?this.Tx == k.Tx:!1;};h.prototype.eh=function(){return this.Tx;};return h;})(r.Bm);b.XYa=a;b.dqb=function(l,h,k){n.default(k,function(){var m,p,v,q;try{m=h.Jd("scheme");p=l.Egb(m);if(!p)throw new d.default(f.default.g5a,m);v=h.lo("keydata",l.Jf);q=l.OFa(p);if(!q)throw new d.default(f.default.bra,p.name);q.TXb(v,k);}catch(u){if(u instanceof g.default)throw new e.default(f.default.oe,"keyrequestdata " + h,u);throw u;}});};},49140:function(r,b,a){var c,n,d,g,e,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.eqb=b.YYa=void 0;c=a(5163);r=a(48235);n=c.__importDefault(a(42979));d=a(58892);g=c.__importDefault(a(35661));e=c.__importDefault(a(36114));f=c.__importDefault(a(6838));l=c.__importDefault(a(88257));a=(function(h){function k(m,p){var v;v=h.call(this) || this;v.Qb=m;v.Tx=p;return v;}c.__extends(k,h);k.prototype.Al=function(m,p,v){var q;q=this;this.PFa(m,{result:function(u){n.default(v,function(){var t;t=m.Ae();t.put("mastertoken",q.Qb);t.put("scheme",q.Tx.name);t.put("keydata",u);m.Ai(t,p,v);});},error:v.error});};k.prototype.equals=function(m){return this === m?!0:m instanceof k?this.Qb.equals(m.Qb) && this.Tx == m.Tx:!1;};k.prototype.eh=function(){return this.Qb.eh() + ":" + this.Tx;};return k;})(r.Bm);b.YYa=a;b.eqb=function(h,k,m){n.default(m,function(){var p,v,q,u,t;p=h.Jf;try{v=k.lo("mastertoken",p);q=k.Jd("scheme");u=h.Egb(q);if(!u)throw new g.default(e.default.g5a,q);t=k.lo("keydata",p);d.Kja(h,v,{result:function(w){n.default(m,function(){var x;x=h.OFa(u);if(!x)throw new g.default(e.default.bra,u.name);x.UXb(w,t,m);});},error:m.error});}catch(w){if(w instanceof f.default)throw new l.default(e.default.oe,"keyresponsedata " + k,w);throw w;}});};},69763:function(r,b,a){var y,A,B,C,D,E,F,G;function c(J,N,I,M,K,L,H,O,P,Q,S){this.n=J;this.e=N;this.d=I;this.p=M;this.q=K;this.dp=L;this.dq=H;this.qi=O;this.alg=P;this.uha=Q;this.ext=S;}function n(J,N,I,M){this.n=J;this.e=N;this.ext=I;this.uha=M;}function d(J){this.QZ=J;}function g(J,N,I,M,K,L){this.$i=J;this.gz=N || void 0;this.i6a=I || !1;this.a8a=0;this.Fba=M || 0;this.DQ=K || 0;this.eK=L || 0;}function e(J,N){var I;N.jw(J.TQa << 6 | J.OBa << 5 | J.tag);I=J.tqb;if(128 > I)N.jw(I);else {for(var M=I,K=0;M;)(++K,M>>=8);N.jw(128 | K);for(M=0;M < K;++M)N.jw(I >> 8 * (K - M - 1) & 255);}if(J.ye)for((J.tag == C.FE && N.jw(0),J=J.bK);J;){if(!e(J,N))return !1;J=J.next;}else switch(J.tag){case C.U9:J.PF[J.qx] >> 7 && N.jw(0);N.uda(J.PF,J.qx,J.Iz);break;case C.FE:N.jw(0);N.uda(J.PF,J.qx,J.Iz);break;case C.y$:N.uda(J.PF,J.qx,J.Iz);break;case C.bta:N.uda(J.PF,J.qx,J.Iz);}return !0;}function f(J){var N,I;N=J.Qr();I=N & 127;if(I == N)return I;if(3 < I || 0 === I)return -1;for(var M=N=0;M < I;++M)N=N << 8 | J.Qr();return N;}function l(J,N,I){var M,K,L,H,O,P,Q;M=J.PF;K=new B(M,N);N+=I;I=J;if(!(8 < E++)){for(;K.position < N;){H=K.Qr();if(31 == (H & 31)){for(L=0;H & 128;)(L<<=8,L|=H & 127);H=L;}O=H;L=O & 31;if(0 > L || 30 < L)return;H=f(K);if(0 > H || H > K.K2())return;I.OBa=O & 32;I.TQa=(O & 192) >> 6;I.tag=L;I.Iz=H;I.qx=K.position;L=K;P=O;O=H;if(P & 32)L=!0;else if(P < C.FE || P > C.y$)L=!1;else {Q=new B(L);P == C.FE && Q.skip(1);Q.Qr() >> 6 & 1?L=!1:(P=f(Q),L=Q.position - L.position + P == O);}L && (L=K.position,O=H,I.tag == C.FE && (I.qx++,I.Iz--,L++,O--),I.ye=new g(M,I),l(I.ye,L,O));I.tag == C.U9 && (L=K.position,0 == K.yqb(L) && K.yqb(L + 1) >> 7 && (I.qx++,I.Iz--));K.skip(H);K.position < N && (I.next=new g(M,I.parent),I=I.next);}E--;return J;}}function h(J,N,I){if(9 != I)return !1;for(I=0;9 > I;++I)if(J[N++] != F[I])return !1;return !0;}function k(J){var N;if(!(J && J.ye && J.ye.next && J.ye.ye && J.ye.next.ye))return !1;N=J.ye.ye;return h(N.PF,N.qx,N.Iz) && 2 == J.nU && 2 == J.ye.nU && 2 == J.ye.next.ye.nU?!0:!1;}function m(J){var N;if(!(J && J.ye && J.ye.next && J.ye.next.ye && J.ye.next.next && J.ye.next.next.ye))return !1;N=J.ye.next.ye;return h(N.PF,N.qx,N.Iz) && 3 == J.nU && 2 == J.ye.next.nU && 9 == J.ye.next.next.ye.nU?!0:!1;}function p(J){var N,I;N=D.MR();I=new d(N);I.GF(D.MR());I.GF(D.Obb(F));I.Su(D.Mbb());I.Y8a(N,D.MWb(null));I.GF(D.MR());I.GF(D.av(J.n));I.Su(D.av(J.e));return N;}function v(J){var N;J=J.ye.next.ye.ye;N=J.data;J=J.next;return new n(N,J.data,null,null);}function q(J){var N,I;N=D.MR();I=new d(N);I.GF(D.av(new Uint8Array([0])));I.Su(D.MR());I.GF(D.Obb(F));I.Su(D.Mbb());I.Y8a(N,D.LXb(null));I.GF(D.MR());I.GF(D.av(new Uint8Array([0])));I.Su(D.av(J.n));I.Su(D.av(J.e));I.Su(D.av(J.d));I.Su(D.av(J.p));I.Su(D.av(J.q));I.Su(D.av(J.dp));I.Su(D.av(J.dq));I.Su(D.av(J.qi));return N;}function u(J){var N;N=[];J=J.ye.next.next.ye.ye.next;for(var I=0;8 > I;I++)(N.push(J.data),J=J.next);return new c(N[0],N[1],N[2],N[3],N[4],N[5],N[6],N[7]);}function t(J,N,I,M){if(J instanceof n || J instanceof c){if(I)for(var K=0;K < I.length;++K)if(-1 == G.indexOf(I[K]))return;N={kty:"RSA",alg:N,key_ops:I || [],ext:void 0 == M?!1:M,n:y.qh(J.n,!0),e:y.qh(J.e,!0)};J instanceof c && (N.d=y.qh(J.d,!0),N.p=y.qh(J.p,!0),N.q=y.qh(J.q,!0),N.dp=y.qh(J.dp,!0),N.dq=y.qh(J.dq,!0),N.qi=y.qh(J.qi,!0));return N;}}function w(J){var N,I,M,K,L,H,O,P,Q,S;if(J.kty && "RSA" == J.kty && J.n && J.e){N=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(!J.alg || -1 != N.indexOf(J.alg)){N=[];J.use?"enc" == J.use?N=["encrypt","decrypt","wrap","unwrap"]:"sig" == J.use && (N=["sign","verify"]):N=J.key_ops;I=J.ext;M=y.fj(J.n,!0);K=y.fj(J.e,!0);if(J.d){L=y.fj(J.d,!0);H=y.fj(J.p,!0);O=y.fj(J.q,!0);P=y.fj(J.dp,!0);Q=y.fj(J.dq,!0);S=y.fj(J.qi,!0);return new c(M,K,L,H,O,P,Q,S,J.alg,N,I);}return new n(M,K,I,N);}}}function x(J,N,I,M){this.d1=J;this.type=N;this.uha=I;this.extractable=M;}function z(J){E=0;return l(new g(J),0,J.length);}Object.defineProperty(b,"__esModule",{value:!0});b.$zb=b.Zzb=b.$kb=b.Qtb=b.GIb=b.Sjc=b.KRb=b.Tjc=b.LRb=b.Ujc=b.MRb=b.HIb=b.IIb=b.dvc=b.QBb=b.JGb=b.obc=b.pbc=b.show=b.parse=void 0;y=a(44127);A=a(11475);B=(function(){function J(N,I){N instanceof B?(this.BF=N.BF,this.position=N.position):(this.BF=N,this.position=I || 0);}J.prototype={Qr:function(){return this.BF[this.position++];},jw:function(N){this.BF[this.position++]=N;},yqb:function(N){return this.BF[N];},uda:function(N,I,M){var K;K=new Uint8Array(this.BF.buffer,this.position,M);N=new Uint8Array(N.buffer,I,M);K.set(N);this.position+=M;},seek:function(N){this.position=N;},skip:function(N){this.position+=N;},setPosition:function(N){this.position=N;},K2:function(){return this.BF.length - this.position;},Hfa:function(){return this.BF.length;},show:function(){return "AbvStream: pos " + (this.position.toString() + " of " + this.Hfa().toString());}};return J;})();C={aAc:0,dAc:1,U9:2,FE:3,y$:4,$Y:5,bta:6,KDc:7,nCc:8,hEc:9,zBc:10,jBc:11,qFc:12,iEc:13,PIb:16,rEc:17,uDc:18,TDc:19,dFc:20,cFc:20,xFc:21,kCc:22,pFc:23,bCc:24,eCc:25,zFc:26,vCc:26,cCc:27,mFc:28,EAc:29,cAc:30};b.dvc=C;g.prototype={bK:void 0,mC:void 0,get data() {return new Uint8Array(this.$i.buffer.slice(this.DQ,this.DQ + this.eK));},get PF() {return this.$i;},get OBa() {return this.i6a;},set OBa(J) {this.i6a=0 != J?!0:!1;},get TQa() {return this.a8a;},set TQa(J) {this.a8a=J;},get tag() {return this.Fba;},set tag(J) {this.Fba=J;},get qx() {return this.DQ;},set qx(J) {this.DQ=J;},get Iz() {return this.eK;},set Iz(J) {this.eK=J;},get ye() {return this.bK;},set ye(J) {this.bK=J;this.bK.parent=this;},get next() {return this.mC;},set next(J) {this.mC=J;},get parent() {return this.gz;},set parent(J) {this.gz=J;},get tqb() {var J;J=0;if(this.bK){for(var N=this.bK;N;)(J+=N.length,N=N.next);this.Fba == C.FE && J++;}else switch(this.Fba){case C.U9:J=this.eK;this.$i[this.DQ] >> 7 && J++;break;case C.FE:J=this.eK + 1;break;case C.y$:J=this.eK;break;case C.$Y:J=0;break;case C.bta:h(this.$i,this.DQ,this.eK) && (J=9);}return J;},get length() {var J,N;J=this.tqb;if(127 < J)for(N=J;N;)(N>>=8,++J);return J + 2;},get d1() {var J,N;J=this.length;if(J){J=new Uint8Array(J);N=new B(J);if(e(this,N))return J;}},get nU() {for(var J=0,N=this.bK;N;)(J++,N=N.next);return J;}};D={MR:function(){return new g(null,null,!0,C.PIb,null,null);},Obb:function(J){return new g(J,null,!1,C.bta,0,J?J.length:0);},Mbb:function(){return new g(null,null,!1,C.$Y,null,null);},MWb:function(J){return new g(J,null,!1,C.FE,0,J?J.length:0);},av:function(J){return new g(J,null,!1,C.U9,0,J?J.length:0);},LXb:function(J){return new g(J,null,!1,C.y$,0,J?J.length:0);}};b.JGb=D;b.QBb=d;d.prototype={GF:function(J){this.gza(this.QZ,J);},Su:function(J){this.gza(this.QZ.parent,J);},gza:function(J,N){this.QZ=N;this.QZ.parent=J;if(J.ye){for(J=J.ye;J.next;)J=J.next;J.next=N;}else J.ye=N;},Y8a:function(J,N){this.J2b(J) && this.gza(J,N);},J2b:function(J){for(var N=this.QZ;N;){if(J == N)return !0;N=N.parent;}return !1;}};E=0;F=new Uint8Array([42,134,72,134,247,13,1,1,1]);b.show=function(){};b.pbc=k;b.obc=m;b.IIb=n;b.HIb=c;b.MRb=p;b.Ujc=function(J){J=z(J);if(k)return v(J);};b.LRb=q;b.Tjc=function(J){J=z(J);if(m(J))return u(J);};G=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");b.KRb=t;b.Sjc=w;b.Qtb=function(J,N,I,M){if(J=z(J)){if(k(J))J=v(J);else if(m(J))J=u(J);else return;return t(J,N,I,M);}};b.GIb=x;x.prototype.getDer=function(){return this.d1;};x.prototype.getType=function(){return this.type;};x.prototype.getKeyOps=function(){return this.uha;};x.prototype.getExtractable=function(){return this.extractable;};b.$kb=function(J){var N,I;if(J=w(J)){if(J instanceof n)(N=A.yj.bF,I=p(J).d1);else if(J instanceof c)(N=A.yj.jQ,I=q(J).d1);else return;return new x(I,N,J.uha,J.ext);}};b.$zb=function(J){return J.map(function(N){return "wrapKey" == N?"wrap":"unwrapKey" == N?"unwrap":N;});};b.Zzb=function(J){if("RSAES-PKCS1-v1_5" == J.name)return "RSA1_5";if("RSASSA-PKCS1-v1_5" == J.name){if("SHA-256" == J.hash.name)return "RS256";if("SHA-384" == J.hash.name)return "RS384";if("SHA-512" == J.hash.name)return "RS512";}};b.parse=z;},12457:function(r,b,a){var h,k,m,p,q,u;function c(t){for(var w in k)t[w]=k[w];}function n(t){if(!(this instanceof n))return new n(t);c(this);this.mR=h.DJ;this.pending=this.q=this.c=this.p="";this.Fe=t || ({});this.closed=this.ER=this.jO=this.paused=!1;this.tag=this.error=null;this.state=p.sP;this.stack=[];this.position=this.MC=0;this.line=1;this.Uvb=!1;this.pyb=0;this.Mma=null;this.depth=0;g(this,"onready");}function d(t){var w;if(!(this instanceof d))return new d(t);this.Vd=new n(t);this.readable=this.writable=!0;this.Wu=this.qR=0;this.XQa={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)};this.string="";w=this;u.apply(w);this.Vd.onend=function(){w.emit("end");};this.Vd.onerror=function(x){w.emit("error",x);w.Vd.error=null;};m.forEach(function(x){Object.defineProperty(w,"on" + x,{get:function(){return w.Vd["on" + x];},set:function(z){if(!z)return (w.removeAllListeners(x),w.Vd["on" + x]=z);w.on(x,z);},enumerable:!0,configurable:!1});});}function g(t,w,x){h.AY && console.log("-- emit",w,x);if(t[w])t[w](x);}function e(t,w){var x,z;x=t.Fe;z=t.textNode;void 0 !== z && (x.trim && (z=z.trim()),x.normalize && (z=z.replace(/\s+/g," ")));t.textNode=z;void 0 !== t.textNode && g(t,w?w:"onvalue",t.textNode);t.textNode=void 0;}function f(t,w){e(t);w+="\nLine: " + t.line + "\nColumn: " + t.MC + "\nChar: " + t.c;w=Error(w);t.error=w;g(t,"onerror",w);return t;}function l(t){t.state === p.Lq && 0 === t.depth || f(t,"Unexpected end");e(t);t.c="";t.closed=!0;g(t,"onend");n.call(t,t.Fe);return t;}Object.defineProperty(b,"__esModule",{value:!0});h={};r="object" === typeof process?{NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}:Ba;h.te=function(t){return new n(t);};h.IAc=n;h.JAc=d;h.mCa=function(t){return new d(t);};h.DJ=65536;h.G="debug" === r.AUa;h.AY="debug" === r.AUa || "info" === r.AUa;h.Pk=("value string key openobject closeobject openarray closearray error end ready").split(" ");k={textNode:void 0,qj:""};m=h.Pk.filter(function(t){return "error" !== t && "end" !== t;});p=0;h.$o={sP:p++,Lq:p++,fta:p++,zP:p++,z$:p++,Goa:p++,eFc:p++,yva:p++,Zzc:p++,xBc:p++,cta:p++,FUa:p++,x4a:p++,y4a:p++,z4a:p++,NWa:p++,OWa:p++,PWa:p++,QWa:p++,$Y:p++,a0a:p++,b0a:p++,yGb:p++,v$:p++};for(var v in h.$o)h.$o[h.$o[v]]=v;p=h.$o;Object.create || (Object.create=function(t){function w(){this.__proto__=t;}w.prototype=t;return new w();});Object.getPrototypeOf || (Object.getPrototypeOf=function(t){return t.__proto__;});Object.keys || (Object.keys=function(t){var w,x;w=[];for(x in t)t.hasOwnProperty(x) && w.push(x);return w;});q=/[\\"\n]/g;n.prototype={end:function(){l(this);},write:function(t){if(this.error)throw this.error;if(this.closed)return f(this,"Cannot write after close. Assign an onready handler.");if(null === t)return l(this);this.pending+=t;if(this.paused)return this;h.G && console.log("write -> [" + t + "]");return this.parse();},parse:function(){var y,A,B;for(var t=this.pending,w=0,x=t[0],z;x && !this.paused;){z=x;this.c=x=t.charAt(w++);z !== x?this.p=z:z=this.p;if(!x)break;h.G && console.log(w,x,h.$o[this.state]);this.position++;"\n" === x?(this.line++,this.MC=0):this.MC++;switch(this.state){case p.sP:"{" === x?this.state=p.fta:"[" === x?this.state=p.z$:"\r" !== x && "\n" !== x && " " !== x && "\t" !== x && f(this,"Non-whitespace before {[.");continue;case p.cta:case p.fta:if("\r" === x || "\n" === x || " " === x || "\t" === x)continue;if(this.state === p.cta)this.stack.push(p.FUa);else if("}" === x){g(this,"onopenobject");this.depth++;g(this,"oncloseobject");this.depth--;this.state=this.stack.pop() || p.Lq;continue;}else this.stack.push(p.zP);'"' === x?this.state=p.yva:f(this,'Malformed object key should start with "');continue;case p.FUa:case p.zP:if("\r" === x || "\n" === x || " " === x || "\t" === x)continue;":" === x?(this.state === p.zP?(this.stack.push(p.zP),e(this,"onopenobject"),this.depth++):e(this,"onkey"),this.state=p.Lq):"}" === x?(e(this),g(this,"oncloseobject",void 0),this.depth--,this.state=this.stack.pop() || p.Lq):"," === x?(this.state === p.zP && this.stack.push(p.zP),e(this),this.state=p.cta):f(this,"Bad object");continue;case p.z$:case p.Lq:if("\r" === x || "\n" === x || " " === x || "\t" === x)continue;if(this.state === p.z$)if((g(this,"onopenarray"),this.depth++,this.state=p.Lq,"]" === x)){g(this,"onclosearray");this.depth--;this.state=this.stack.pop() || p.Lq;continue;}else this.stack.push(p.Goa);'"' === x?this.state=p.yva:"{" === x?this.state=p.fta:"[" === x?this.state=p.z$:"t" === x?this.state=p.x4a:"f" === x?this.state=p.NWa:"n" === x?this.state=p.$Y:"-" === x?this.qj+=x:"0" === x?(this.qj+=x,this.state=p.v$):-1 !== ("123456789").indexOf(x)?(this.qj+=x,this.state=p.v$):f(this,"Bad value");continue;case p.Goa:if("," === x)(this.stack.push(p.Goa),e(this,"onvalue"),this.state=p.Lq);else if("]" === x)(e(this),g(this,"onclosearray",void 0),this.depth--,this.state=this.stack.pop() || p.Lq);else if("\r" === x || "\n" === x || " " === x || "\t" === x)continue;else f(this,"Bad array");continue;case p.yva:void 0 === this.textNode && (this.textNode="");z=w - 1;(y=this.Uvb,A=this.pyb);a:for(;;){for(h.G && console.log(w,x,h.$o[this.state],y);0 < A;)if((this.Mma+=x,x=t.charAt(w++),this.position++,4 === A?(this.textNode+=String.fromCharCode(parseInt(this.Mma,16)),A=0,z=w - 1):A++,!x))break a;if('"' === x && !y){this.state=this.stack.pop() || p.Lq;this.textNode+=t.substring(z,w - 1);this.position+=w - 1 - z;break;}if("\\" === x && !y && (y=!0,this.textNode+=t.substring(z,w - 1),this.position+=w - 1 - z,x=t.charAt(w++),this.position++,!x))break;if(y)if((y=!1,"n" === x?this.textNode+="\n":"r" === x?this.textNode+="\r":"t" === x?this.textNode+="\t":"f" === x?this.textNode+="\f":"b" === x?this.textNode+="\b":"u" === x?(A=1,this.Mma=""):this.textNode+=x,x=t.charAt(w++),this.position++,z=w - 1,x))continue;else break;q.lastIndex=w;B=q.exec(t);if(null === B){w=t.length + 1;this.textNode+=t.substring(z,w - 1);this.position+=w - 1 - z;break;}w=B.index + 1;x=t.charAt(B.index);if(!x){this.textNode+=t.substring(z,w - 1);this.position+=w - 1 - z;break;}}this.Uvb=y;this.pyb=A;continue;case p.x4a:if("" === x)continue;"r" === x?this.state=p.y4a:f(this,"Invalid true started with t" + x);continue;case p.y4a:if("" === x)continue;"u" === x?this.state=p.z4a:f(this,"Invalid true started with tr" + x);continue;case p.z4a:if("" === x)continue;"e" === x?(g(this,"onvalue",!0),this.state=this.stack.pop() || p.Lq):f(this,"Invalid true started with tru" + x);continue;case p.NWa:if("" === x)continue;"a" === x?this.state=p.OWa:f(this,"Invalid false started with f" + x);continue;case p.OWa:if("" === x)continue;"l" === x?this.state=p.PWa:f(this,"Invalid false started with fa" + x);continue;case p.PWa:if("" === x)continue;"s" === x?this.state=p.QWa:f(this,"Invalid false started with fal" + x);continue;case p.QWa:if("" === x)continue;"e" === x?(g(this,"onvalue",!1),this.state=this.stack.pop() || p.Lq):f(this,"Invalid false started with fals" + x);continue;case p.$Y:if("" === x)continue;"u" === x?this.state=p.a0a:f(this,"Invalid null started with n" + x);continue;case p.a0a:if("" === x)continue;"l" === x?this.state=p.b0a:f(this,"Invalid null started with nu" + x);continue;case p.b0a:if("" === x)continue;"l" === x?(g(this,"onvalue",null),this.state=this.stack.pop() || p.Lq):f(this,"Invalid null started with nul" + x);continue;case p.yGb:"." === x?(this.qj+=x,this.state=p.v$):f(this,"Leading zero not followed by .");continue;case p.v$:-1 !== ("0123456789").indexOf(x)?this.qj+=x:"." === x?(-1 !== this.qj.indexOf(".") && f(this,"Invalid number has two dots"),this.qj+=x):"e" === x || "E" === x?(-1 === this.qj.indexOf("e") && -1 === this.qj.indexOf("E") || f(this,"Invalid number has two exponential"),this.qj+=x):"+" === x || "-" === x?("e" !== z && "E" !== z && f(this,"Invalid symbol in number"),this.qj+=x):(this.qj && g(this,"onvalue",parseFloat(this.qj)),this.qj="",w--,this.state=this.stack.pop() || p.Lq);continue;default:f(this,"Unknown state: " + this.state);}}if(this.position >= this.mR){x=Math.max(h.DJ,10);z=0;for(var C in k){y=void 0 === this[C]?0:this[C].length;if(y > x)switch(C){case "text":closeText(this);break;default:f(this,"Max buffer length exceeded: " + C);}z=Math.max(z,y);}this.mR=h.DJ - z + this.position;}0 < w && (this.pending=t.substring(w));return this;},pause:function(){this.paused=!0;return this;},resume:function(){this.paused=!1;this.error=null;return this;},close:function(){return this.write(null);}};try{u=a(75177).XEc;}catch(t){u=function(){};}d.prototype=Object.create(null,{constructor:{value:d}});d.prototype.write=function(t){var x;t=new Buffer(t);for(var w=0;w < t.length;w++){x=t[w];if(0 < this.qR){for(x=0;x < this.qR;x++)this.XQa[this.Wu][this.Wu - this.qR + x]=t[x];this.string=this.XQa[this.Wu].toString();this.Wu=this.qR=0;w=w + x - 1;this.Vd.write(this.string);this.emit("data",this.string);}else if(0 === this.qR && 128 <= x){194 <= x && 223 >= x && (this.Wu=2);224 <= x && 239 >= x && (this.Wu=3);240 <= x && 244 >= x && (this.Wu=4);if(this.Wu + w > t.length){for(x=0;x <= t.length - 1 - w;x++)this.XQa[this.Wu][x]=t[w + x];this.qR=w + this.Wu - t.length;return !0;}this.string=t.slice(w,w + this.Wu).toString();w=w + this.Wu - 1;this.Vd.write(this.string);this.emit("data",this.string);}else {for(x=w;x < t.length && !(128 <= t[x]);x++);this.string=t.slice(w,x).toString();this.Vd.write(this.string);this.emit("data",this.string);w=x - 1;}}};d.prototype.end=function(t){t && t.length && this.Vd.write(t.toString());this.Vd.end();return !0;};d.prototype.on=function(t,w){var x;x=this;x.Vd["on" + t] || -1 === m.indexOf(t) || (x.Vd["on" + t]=function(){var z;z=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);z.splice(0,0,t);x.emit.apply(x,z);});return u.prototype.on.call(x,t,w);};d.prototype.Ep=function(){c(this.Vd);this.emit("close");};b["default"]=h;},31238:function(r,b,a){var c,n,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.Uoa=void 0;r=a(5163);r.__importDefault(a(42979));a(70390);c=a(93652);n=a(34801);d=a(25462);r.__importDefault(a(32260));g=a(56058);a=(function(){function e(){}e.prototype.cCa=function(f,l,h,k,m,p){n.Hbb(f,l,h,k,m,p);};e.prototype.MXb=function(f,l,h,k,m,p){d.Ibb(f,l,h,k,null,m,p);};e.prototype.LR=function(f,l,h,k,m){c.Gbb(f,l,h,k,m);};e.prototype.gXb=function(f,l,h){g.Abb(f,l,h);};return e;})();b.Uoa=a;},56058:function(r,b,a){var c,n,d,g,e,f;Object.defineProperty(b,"__esModule",{value:!0});b.Abb=b.aVa=void 0;c=a(5163);n=c.__importDefault(a(42979));d=a(68480);g=a(93652);e=a(32260);f=(function(l){function h(k,m,p){var v;v=l.call(this,k,null,null,0,p) || this;n.default(p,function(){var q,u,t,w,x,z,y,A;q=m.Qb;u=m.vk;t=m.uf;w=m.mi;x=m.Rd;z=g.QG(x);y=d.WHa(m.ynb,k.eC);try{A=m.zv;v.Hjb(k,z,y,u,A?A.Qb:q,t,m.mI);return v;}catch(B){throw (e.$c(B) && (B.Yb(q),B.kf(u),B.Sd(t),B.Ie(w),B.dh(x)),B);}});return v;}c.__extends(h,l);return h;})(g.Csa);b.aVa=f;b.Abb=function(l,h,k){new f(l,h,k);};},70390:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u;Object.defineProperty(b,"__esModule",{value:!0});b.bqb=b.cXb=b.IX=void 0;r=a(5163);c=r.__importDefault(a(51411));n=r.__importDefault(a(10690));d=r.__importDefault(a(20754));g=r.__importDefault(a(36114));e=r.__importDefault(a(42979));f=r.__importDefault(a(6838));l=r.__importDefault(a(24571));h=r.__importDefault(a(42458));k=r.__importDefault(a(58511));m=r.__importDefault(a(88257));p=a(44127);v=a(32260);q=(function(){return function(t,w){this.F1=t;this.BI=w;};})();u=(function(){function t(w,x,z,y,A,B,C,D){var E;0 > A && (A=-1);if(0 > z || z > c.default.me)throw new n.default("Message ID " + z + " is out of range.");if(!x)throw new d.default(g.default.Zra);if(D){E=D.BI;D=D.F1;}else (E=parseInt(w.getTime() / 1E3),D=w.Jf.Ae(),D.put("timestamp",E),D.put("messageid",z),D.put("errorcode",y),0 < A && D.put("internalcode",A),B && D.put("errormsg",B),C && D.put("usermsg",C));this.ij=w;this.vk=x;this.BI=E;this.Rd=z;this.errorCode=y;this.u3=A;this.errorMessage=B;this.F1=D;this.encodings={};}t.prototype.GGa=function(){return null !== this.BI?new Date(1E3 * this.BI):null;};t.prototype.Al=function(w,x,z){var y;y=this;e.default(z,function(){var A,B;if(y.encodings[x])return y.encodings[x];A=y.ij.Cfa(y.vk.scheme);if(!A)throw new f.default("No entity authentication factory found for entity.");try{B=A.wx(y.ij,y.vk);}catch(C){if(C instanceof l.default || C instanceof h.default)throw new f.default("Error creating the entity crypto context.",C);throw C;}w.Ai(y.F1,x,{result:function(C){B.encrypt(C,w,x,{result:function(D){B.sign(D,w,x,{result:function(E){e.default(z,function(){var F;F=w.Ae();F.put(k.default.cra,y.vk);F.put(k.default.cFb,D);F.put(k.default.fra,E);w.Ai(F,x,{result:function(G){e.default(z,function(){return y.encodings[x]=G;});},error:z.error});});},error:function(E){E instanceof h.default && (E=new f.default("Error signing the error data.",E));z.error(E);}});},error:function(D){D instanceof h.default && (D=new f.default("Error signing the error data.",D));z.error(D);}});},error:z.error});});};return t;})();b.IX=u;b.cXb=function(t,w,x,z,y,A,B,C){e.default(C,function(){return new u(t,w,x,z,y,A,B,null);});};b.bqb=function(t,w,x,z,y){e.default(y,function(){var A,B,C,D;A=t.Jf;if(!x)throw new d.default(g.default.Zra);try{B=x.scheme;C=t.Cfa(B);if(!C)throw new l.default(g.default.Jpa,B);D=C.wx(t,x);}catch(E){throw (v.$c(E) && E.kf(x),E);}D.verify(w,z,A,{result:function(E){e.default(y,function(){if(!E)throw new h.default(g.default.MFb).kf(x);D.decrypt(w,A,{result:function(F){e.default(y,function(){var G,J,N,I,M,K,L,H,O;try{G=A.pn(F);J=G.Zl("messageid");if(0 > J || J > c.default.me)throw new d.default(g.default.VZa,"errordata " + G).kf(x);}catch(P){if(P instanceof f.default)throw new m.default(g.default.oe,"errordata " + p.qh(F),P).kf(x);throw P;}try{N=G.has("timestamp")?G.Zl("timestamp"):null;I=G.dM("errorcode");M=!1;for(K in c.default.J)if(c.default.J[K] == I){M=!0;break;}M || (I=c.default.J.aa);if(G.has("internalcode")){L=G.dM("internalcode");if(0 > L)throw new d.default(g.default.QEb,"errordata " + G).kf(x).dh(J);}else L=-1;H=G.n5("errormsg",null);O=G.n5("usermsg",null);}catch(P){if(P instanceof f.default)throw new m.default(g.default.oe,"errordata " + G,P).kf(x).dh(J);throw P;}G=new q(G,N);return new u(t,x,J,I,L,H,O,G);});},error:function(F){e.default(y,function(){v.$c(F) && F.kf(x);throw F;});}});});},error:function(E){e.default(y,function(){v.$c(E) && E.kf(x);throw E;});}});});};},58511:function(r,b,a){var c,n,d,g,e,f,l,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.Jja=void 0;r=a(5163);c=r.__importDefault(a(42979));n=r.__importDefault(a(6838));d=r.__importDefault(a(88257));g=a(58768);e=a(58892);f=r.__importDefault(a(20754));l=r.__importDefault(a(36114));h=a(70390);k=a(54449);b["default"]={cra:"entityauthdata",TYa:"mastertoken",SYa:"headerdata",cFb:"errordata",fra:"signature"};b.Jja=function(m,p,v,q){function u(w,x,z){x?e.Kja(m,x,{result:function(y){t(w,y,z);},error:q.error}):t(w,null,z);}function t(w,x,z){c.default(q,function(){var y,A;try{if(p.has("headerdata")){y=p.Uc("headerdata");if(0 == y.length)throw new f.default(l.default.wXa).Yb(x).kf(w);k.hqb(m,y,w,x,z,v,q);}else if(p.has("errordata")){A=p.Uc("errordata");if(0 == A.length)throw new f.default(l.default.wXa).Yb(x).kf(w);h.bqb(m,A,w,z,q);}else throw new d.default(l.default.oe,p);}catch(B){if(B instanceof n.default)throw new d.default(l.default.oe,"header/errormsg " + p,B);throw B;}});}c.default(q,function(){var w,x,z,y;try{w=m.Jf;x=p.has("entityauthdata")?p.lo("entityauthdata",w):null;z=p.has("mastertoken")?p.lo("mastertoken",w):null;y=p.Uc("signature");}catch(A){if(A instanceof n.default)throw new d.default(l.default.oe,"header/errormsg " + p,A);throw A;}x?g.aqb(m,x,{result:function(A){u(A,z,y);},error:q.error}):u(null,z,y);});};},93652:function(r,b,a){var c,n,d,g,e,f,l,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.Gbb=b.Csa=b.VYb=b.QG=void 0;r=a(5163);c=r.__importDefault(a(51411));n=r.__importDefault(a(10690));d=r.__importDefault(a(42979));g=r.__importDefault(a(36114));e=r.__importDefault(a(20754));f=a(54449);a(61693);a(97962);l=r.__importDefault(a(32260));h=a(32260);new Uint8Array(0);b.QG=function(m){if(0 > m || m > c.default.me)throw new n.default("Message ID " + m + " is outside the valid range.");return m == c.default.me?0:m + 1;};b.VYb=function(m){if(0 > m || m > c.default.me)throw new n.default("Message ID " + m + " is outside the valid range.");return 0 == m?c.default.me:m - 1;};k=(function(){function m(p,v,q,u,t){var w;w=this;d.default(t,function(){if(void 0 == u || null == u)u=l.default.v7b(p);else if(0 > u || u > c.default.me)throw new n.default("Message ID " + u + " is outside the valid range.");p.Bfa({result:function(x){d.default(t,function(){w.Hjb(p,u,p.eC,x,v,q,null);return w;});},error:t.error});});}m.prototype.Hjb=function(p,v,q,u,t,w,x){var z,y;z=[];y=p.Xk.FG(t,w);z.push.apply(z,y);x && x.forEach(function(A){if(A.wv() && !A.Hg(t))throw new e.default(g.default.nva,"st " + A + "; mt " + t).Yb(t);if(A.Dt() && !A.Hg(w))throw new e.default(g.default.ova,"st " + A + "; uit " + w).Yb(t).Sd(w);z.push(A);},this);this.Zi=p;this.gK=u;this.Nq=t;this.pK=v;this.eC=q;this.jF=null;this.o_=this.Ku=this.d_=!1;this.kF={};this.Bya=null;this.FK=w;this.kz=z;this.pMb=this.nMb=null;this.oMb=[];};m.prototype.Xgb=function(){return this.pK;};m.prototype.dh=function(p){if(0 > p || p > c.default.me)throw new n.default("Message ID " + p + " is out of range.");this.pK=p;return this;};m.prototype.Yz=function(){return this.Nq;};m.prototype.qv=function(){return this.FK;};m.prototype.cAb=function(){return this.Nq || this.gK.scheme.Cea;};m.prototype.dAb=function(){return this.Nq || this.jF || this.gK.scheme.Cea;};m.prototype.eAb=function(){return this.Nq || this.gK.scheme.Rrb;};m.prototype.fAb=function(){return this.Nq || this.jF || this.gK.scheme.Rrb;};m.prototype.jD=function(p){var v;v=this;d.default(p,function(){var q,u,t;q=v.jF?v.jF.zv:null;u=[];for(t in v.kF)u.push(v.kF[t]);if(v.d_){if(!v.Nq)throw new e.default(g.default.uGb);t=v.Zi.Xk.P6b(v.Nq);}else t=null;q=new f.OXa(v.pK,t,v.o_,v.Ku,v.eC,u,q,v.Bya,v.FK,v.kz);u=new f.TXa(v.nMb,v.pMb,v.oMb);v.IR(v.Zi,v.gK,v.Nq,q,u,p);});};m.prototype.IR=function(p,v,q,u,t,w){f.IR(p,v,q,u,t,w);};m.prototype.Br=function(){return this.d_;};m.prototype.tO=function(p){if(this.d_=p)this.Ku=!1;};m.prototype.Cr=function(){return this.o_;};m.prototype.yPa=function(p){(this.o_=p) || (this.Ku=!1);};m.prototype.aH=function(){return this.Ku;};m.prototype.Crc=function(p){if(this.Ku=p)(this.d_=!1,this.o_=!0);};m.prototype.Pub=function(p,v){var q,u,w;q=this;if(v && !v.Hg(p))throw new n.default("User ID token must be bound to master token.");if(this.jF)throw new n.default("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{u=this.Zi.Xk.FG(p,v);}catch(x){if(h.$c(x))throw new n.default("Invalid master token and user ID token combination despite checking above.",x);throw x;}for(var t=this.kz.length - 1;0 <= t;--t){w=this.kz[t];(w.Dt() && !w.Hg(v) || w.wv() && !w.Hg(p)) && this.kz.splice(t,1);}u.forEach(function(x){q.leb(x.name,x.wv(),x.Dt());q.kz.push(x);});this.Nq=p;(this.FK=v) || (this.Bya=null);};m.prototype.Ie=function(p){this.Bya=p;return this;};m.prototype.kOb=function(p){this.kF[p.eh()]=p;};m.prototype.COb=function(p){var v;v=this.jF?this.jF.zv.Qb:this.Nq;if(p.wv() && !p.Hg(v))throw new e.default(g.default.nva,"st " + p + "; mt " + v).Yb(v);if(p.Dt() && !p.Hg(this.FK))throw new e.default(g.default.ova,"st " + p + "; uit " + this.FK).Yb(v).Sd(this.FK);this.leb(p.name,p.wv(),p.Dt());this.kz.push(p);};m.prototype.leb=function(){var p,v,q,t;if(1 == arguments.length){p=arguments[0];v=p.name;q=p.wv();p=p.Dt();}else (arguments.length=3,v=arguments[0],q=arguments[1],p=arguments[2]);for(var u=this.kz.length - 1;0 <= u;--u){t=this.kz[u];t.name == v && t.wv() == q && t.Dt() == p && this.kz.splice(u,1);}};m.prototype.FG=function(){var p;p=[];p.push.apply(p,this.kz);return p;};return m;})();b.Csa=k;b.Gbb=function(m,p,v,q,u){new k(m,p,v,q,u);};},68480:function(r,b,a){var n,d,g,e,f,l,h,k,m;function c(p,v){var q,u,t;q={};u=[];for(t=0;t < p.length;++t)q[p[t]]=!0;for(t=0;t < v.length;++t)q[v[t]] && u.push(v[t]);return u;}Object.defineProperty(b,"__esModule",{value:!0});b.gqb=b.L_a=b.WHa=void 0;n=a(5163);r=a(48235);d=n.__importDefault(a(42979));g=n.__importDefault(a(14945));e=a(51411);f=a(65630);l=n.__importDefault(a(6838));h=n.__importDefault(a(88257));k=n.__importDefault(a(36114));b.WHa=function(p,v){var q,u;if(!p || !v)return null;q=c(p.WF,v.WF);u=c(p.languages,v.languages);p=c(p.BL,v.BL);return new m(q,u,p);};m=(function(p){function v(q,u,t){var w;w=p.call(this) || this;q || (q=[]);u || (u=[]);t || (t=[]);q.sort();w.WF=q;w.languages=u;w.BL=t;return w;}n.__extends(v,p);v.prototype.Al=function(q,u,t){var w;w=this;d.default(t,function(){var x;x=q.Ae();x.put("compressionalgos",q.M0(w.WF));x.put("languages",w.languages);for(var z=q.M0(),y=0;y < w.BL.length;++y)z.put(-1,w.BL[y].name);x.put("encoderformats",z);q.Ai(x,u,t);});};v.prototype.equals=function(q){return this === q?!0:q instanceof v?g.default.K0(this.WF,q.WF) && g.default.K0(this.languages,q.languages) && g.default.K0(this.BL,q.BL):!1;};v.prototype.eh=function(){return this.WF.join(":") + "|" + this.languages.join(":") + "|" + this.BL.join(":");};return v;})(r.Bm);b.L_a=m;b.gqb=function(p){var t,w,x,z,y;try{for(var v=[],q=p.Cja("compressionalgos"),u=0;q && u < q.size();++u){t=q.Jd(u);(t in e.JE) && v.push(t);}q=[];w=p.Cja("languages");for(u=0;w && u < w.size();++u)q.push(w.Jd(u));w=[];x=p.Cja("encoderformats");for(u=0;x && u < x.size();++u){z=x.Jd(u);y=f.n$.BFa(z);y && w.push(y);}return new m(v,q,w);}catch(A){if(A instanceof l.default)throw new h.default(k.default.oe,"capabilities " + p,A);throw A;}};},54449:function(r,b,a){var h,k,m,p,v,q,u,t,w,x,z,y,A,B,C,D,E,F,G,J,N,I,M,K,L,H;function c(O,P,Q){var S;if(Q){if(P=O.Xk.wx(Q))return P;if(!Q.Qo || !Q.B3())throw new k.default(m.default.SZa,Q);return new p.rZ(O,Q);}Q=P.scheme;S=O.Cfa(Q);if(!S)throw new v.default(m.default.Jpa,Q.name);return S.wx(O,P);}function n(O,P,Q){q.default(Q,function(){if(P)E.eqb(O,P,Q);else return null;});}function d(O,P,Q,S){q.default(S,function(){if(P)C.hMa(O,P,Q,S);else return null;});}function g(O,P,Q,S){q.default(S,function(){if(Q)A.pqb(O,P,Q,S);else return null;});}function e(O,P,Q,S,X,W,V){var ba;function fa(ca,ia,na){q.default(na,function(){var oa,T;if(ia >= ca.size()){oa=[];for(T in ba)oa.push(ba[T]);return oa;}try{oa=ca.lo(ia,O.Jf);}catch(Z){if(Z instanceof w.default)throw new x.default(m.default.oe,"headerdata " + W,Z);throw Z;}B.Nja(O,oa,Q,S,X,{result:function(Z){q.default(na,function(){ba[Z.eh()]=Z;fa(ca,ia + 1,na);});},error:na.error});});}ba={};q.default(V,function(){if(P)fa(P,0,V);else return [];});}function f(O,P,Q,S,X){q.default(X,function(){return {mMa:null,oMa:null,nMa:[]};});}function l(O,P,Q){var X;function S(W,V){q.default(Q,function(){var fa;if(V >= W.size())return X;fa=W.lo(V,O.Jf);D.dqb(O,fa,{result:function(ba){q.default(Q,function(){X.push(ba);S(W,V + 1);});},error:Q.error});});}X=[];q.default(Q,function(){var W;try{if(!P.has("keyrequestdata"))return [];W=P.ZFa("keyrequestdata");S(W,0);}catch(V){if(V instanceof w.default)throw new x.default(m.default.oe,"headerdata " + P,V);throw V;}});}Object.defineProperty(b,"__esModule",{value:!0});b.hqb=b.IR=b.eQ=b.tCb=b.TXa=b.OXa=void 0;h=a(5163);k=h.__importDefault(a(80760));m=h.__importDefault(a(36114));p=a(43088);v=h.__importDefault(a(24571));r=a(48235);q=h.__importDefault(a(42979));u=h.__importDefault(a(51411));t=h.__importDefault(a(10690));w=h.__importDefault(a(6838));x=h.__importDefault(a(88257));z=h.__importDefault(a(42458));y=h.__importDefault(a(58511));A=a(5248);B=a(61693);a(58892);C=a(85065);D=a(59786);E=a(49140);F=h.__importDefault(a(20754));G=a(44127);J=a(68480);N=h.__importDefault(a(88361));I=a(32260);M=(function(){return function(O,P,Q,S,X,W,V,fa,ba,ca){this.Rd=O;this.VKa=P;this.VNa=Q;this.MG=S;this.Rf=X;this.hA=W;this.zv=V;this.pzb=fa;this.uf=ba;this.mI=ca;};})();b.OXa=M;K=(function(){return function(O,P,Q){this.mMa=O;this.oMa=P;this.nMa=Q;};})();b.TXa=K;L=(function(){return function(O,P,Q,S){this.hP=O;this.BI=P;this.ufc=Q;this.uga=S;};})();b.tCb=L;H=(function(O){function P(Q,S,X,W,V,fa,ba){var ia;function ca(na){q.default(ba,function(){var oa,T,Z,aa,R,Y,ea,ka,ha,U,da,la,pa,va,sa,ua;if(0 > W.Rd || W.Rd > u.default.me)throw new t.default("Message ID " + W.Rd + " is out of range.");if(!S && !X)throw new t.default("Message entity authentication data or master token must be provided.");if(!X && !S.scheme.Cea && W.pzb)throw new t.default("User authentication data cannot be included if the message is not encrypted.");S=X?null:S;oa=W.VKa;T=W.VNa;Z=W.MG;aa=W.Rf;R=W.Rd;Y=W.hA?W.hA:[];ea=W.zv;ka=W.pzb;ha=W.uf;U=W.mI?W.mI:[];da=[];la=ea?ea.Qb:X;if(ha && (!la || !ha.Hg(la)))throw new t.default("User ID token must be bound to a master token.");U.forEach(function(ma){if(ma.wv() && (!la || !ma.Hg(la)))throw new t.default("Master token bound service tokens must be bound to the provided master token.");if(ma.Dt() && (!ha || !ma.Hg(ha)))throw new t.default("User ID token bound service tokens must be bound to the provided user ID token.");},ia);da.forEach(function(ma){if(ma.wv())throw new t.default("Master token bound peer service tokens must be bound to the provided peer master token.");if(ma.Dt())throw new t.default("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},ia);if(fa)(pa=fa.hP,va=fa.BI,sa=fa.uga,ua=fa.ufc);else {pa=ha?ha.hP:null;va=parseInt(Q.getTime() / 1E3);try{sa=Q.Jf.Ae();"string" === typeof na && sa.put("sender",na);sa.put("timestamp",va);sa.put("messageid",R);sa.put("nonreplayable","number" === typeof oa);"number" === typeof oa && sa.put("nonreplayableid",oa);sa.put("renewable",T);sa.put("handshake",Z);aa && sa.put("capabilities",aa);0 < Y.length && sa.put("keyrequestdata",Y);ea && sa.put("keyresponsedata",ea);ka && sa.put("userauthdata",ka);ha && sa.put("useridtoken",ha);0 < U.length && sa.put("servicetokens",U);0 < da.length && sa.put("peerservicetokens",da);}catch(ma){if(ma instanceof w.default)throw new x.default(m.default.SFb,"headerdata",ma).Yb(X).kf(S).Sd(null).Ie(ka).dh(R);throw ma;}try{ua=c(Q,S,X);}catch(ma){throw (I.$c(ma) && (ma.Yb(X),ma.kf(S),ma.Sd(ha),ma.Ie(ka),ma.dh(R)),ma);}}ia.vk=S;ia.Qb=X;ia.uga=sa;ia.BI=va;ia.Rd=R;ia.VKa=oa;ia.VNa=T;ia.MG=Z;ia.ynb=aa;ia.hA=Y;ia.zv=ea;ia.mi=ka;ia.uf=ha;ia.mI=U;ia.mMa=null;ia.oMa=null;ia.nMa=da;ia.hP=pa;ia.Mm=ua;ia.encodings={};return ia;});}ia=O.call(this) || this;q.default(ba,function(){fa?ca(null):X?Q.Bfa({result:function(na){q.default(ba,function(){var oa;oa=na.Xz();ca(oa?oa:"");});},error:ba.error}):ca(null);});return ia;}h.__extends(P,O);P.prototype.GGa=function(){return new Date(1E3 * this.BI);};P.prototype.Cr=function(){return this.VNa;};P.prototype.aH=function(){return this.MG;};P.prototype.Al=function(Q,S,X){var W;W=this;q.default(X,function(){if(W.encodings[S.name])return W.encodings[S.name];Q.Ai(W.uga,S,{result:function(V){q.default(X,function(){W.Mm.encrypt(V,Q,S,{result:function(fa){q.default(X,function(){W.Mm.sign(fa,Q,S,{result:function(ba){q.default(X,function(){var ca;ca=Q.Ae();W.Qb?ca.put(y.default.TYa,W.Qb):ca.put(y.default.cra,W.vk);ca.put(y.default.SYa,fa);ca.put(y.default.fra,ba);Q.Ai(ca,S,{result:function(ia){q.default(X,function(){return W.encodings[S.name]=ia;});},error:X.error});});},error:function(ba){q.default(X,function(){ba instanceof z.default && (ba=new w.default("Error signing the header data.",ba));throw ba;});}});});},error:function(fa){q.default(X,function(){fa instanceof z.default && (fa=new w.default("Error encrypting the header data.",fa));throw fa;});}});});},error:X.error});});};return P;})(r.Bm);b.eQ=H;b.IR=function(O,P,Q,S,X,W){new H(O,P,Q,S,X,null,W);};b.hqb=function(O,P,Q,S,X,W,V){function fa(ia,na,oa,T,Z,aa,R,Y,ea){q.default(ea,function(){n(O,Z,{result:function(ka){q.default(ea,function(){var ha;ha=ka?ka.Qb:S;d(O,aa,ha,{result:function(U){q.default(ea,function(){g(O,ha,R,{result:function(da){q.default(ea,function(){var la,pa,va;if(da){if(!S && !Q.scheme.Cea)throw new F.default(m.default.vJb).Sd(U).Ie(da);la=da.scheme;pa=O.dib(la);if(!pa)throw new N.default(m.default.l5a,la).Sd(U).Ie(da);pa.$9a(da,U,{result:function(sa){e(O,Y,ha,U,W,na,{result:function(ua){ca(ia,na,oa,T,ka,U,da,sa,ua,ea);},error:ea.error});},error:ea.error});}else {va=U?U.hP:null;e(O,Y,ha,U,W,na,{result:function(sa){ca(ia,na,oa,T,ka,U,da,va,sa,ea);},error:ea.error});}});},error:ea.error});});},error:ea.error});});},error:ea.error});});}function ba(ia,na){q.default(V,function(){var oa,T,Z,aa,R,Y,ea,ka,ha;oa=O.Jf;try{T=oa.pn(na);Z=T.Zl("messageid");if(0 > Z || Z > u.default.me)throw new F.default(m.default.VZa,"headerdata " + T).Yb(S).kf(Q);}catch(U){if(U instanceof w.default)throw new x.default(m.default.oe,"headerdata " + G.qh(na),U).Yb(S).kf(Q);throw U;}try{aa=T.has("timestamp")?T.Zl("timestamp"):null;R=T.has("keyresponsedata")?T.lo("keyresponsedata",oa):null;Y=T.has("useridtoken")?T.lo("useridtoken",oa):null;ea=T.has("userauthdata")?T.lo("userauthdata",oa):null;ka=T.has("servicetokens")?T.ZFa("servicetokens"):null;}catch(U){if(U instanceof w.default)throw new x.default(m.default.oe,"headerdata " + T,U).Yb(S).kf(Q).dh(Z);throw U;}ha=V;V={result:ha.result,error:function(U){I.$c(U) && (U.Yb(S),U.kf(Q),U.dh(Z));ha.error(U);}};fa(ia,T,Z,aa,R,Y,ea,ka,V);});}function ca(ia,na,oa,T,Z,aa,R,Y,ea,ka){q.default(ka,function(){var ha,U,da,la,pa,va;ha=O.Jf;try{U=na.has("nonreplayableid")?na.Zl("nonreplayableid"):null;da=na.h2("renewable");la=na.has("handshake")?na.h2("handshake"):!1;if(0 > U || U > u.default.me)throw new F.default(m.default.Z_a,"headerdata " + na.toString());pa=null;if(na.has("capabilities")){va=na.lo("capabilities",ha);pa=J.gqb(va);}}catch(sa){if(sa instanceof w.default)throw new x.default(m.default.oe,"headerdata " + na.toString(),sa).Yb(S).kf(Q).Sd(aa).Ie(R).dh(oa);throw sa;}l(O,na,{result:function(sa){f(O,na,Z,W,{result:function(ua){q.default(ka,function(){var ma,ra,wa,ya;ma=ua.mMa;ra=ua.oMa;wa=ua.nMa;ya=new M(oa,U,da,la,pa,sa,Z,R,aa,ea);ma=new K(ma,ra,wa);ra=new L(Y,T,ia,na);new H(O,Q,S,ya,ma,ra,ka);});},error:ka.error});},error:function(sa){q.default(ka,function(){I.$c(sa) && (sa.Sd(aa),sa.Ie(R));throw sa;});}});});}q.default(V,function(){var ia,na;ia=O.Jf;Q=S?null:Q;if(!Q && !S)throw new F.default(m.default.Zra);try{na=c(O,Q,S);}catch(oa){throw (I.$c(oa) && (oa.Yb(S),oa.kf(Q)),oa);}na.verify(P,X,ia,{result:function(oa){q.default(V,function(){if(!oa){if(S)throw new z.default(m.default.KFb);throw new z.default(m.default.HFb);}na.decrypt(P,ia,{result:function(T){ba(na,T);},error:function(T){q.default(V,function(){if(T instanceof z.default || T instanceof v.default)(T.Yb(S),T.kf(Q));throw T;});}});});},error:function(oa){q.default(V,function(){if(oa instanceof z.default || oa instanceof v.default)(oa.Yb(S),oa.kf(Q));throw oa;});}});});};},34801:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A,B;function c(C,D,E,F){d.default(F,function(){var J,N,I,M,K,L,H;function G(){d.default(F,function(){var O;if(H >= E.length){if(L)throw L;throw new e.default(f.default.RYa,E);}O=E[H];M != O.Tx?(++H,G()):K.wx(C,O,N,J,{result:F.result,error:function(P){d.default(F,function(){if(!A.$c(P))throw P;L=P;++H;G();});}});});}J=D.Qb;N=D.zv;if(!N)return null;I=N.Qb;if(I.B3())return new g.rZ(C,I);M=N.Tx;K=C.OFa(M);if(!K)throw new e.default(f.default.bra,M);H=0;G();});}Object.defineProperty(b,"__esModule",{value:!0});b.Hbb=b.m$=void 0;n=a(5163);d=n.__importDefault(a(42979));g=a(43088);e=n.__importDefault(a(35661));f=n.__importDefault(a(36114));l=n.__importDefault(a(79804));h=n.__importDefault(a(88257));k=n.__importDefault(a(6838));r=a(53389);m=a(58511);p=a(70390);v=a(89752);q=n.__importDefault(a(20754));u=n.__importDefault(a(80760));t=n.__importDefault(a(67609));w=n.__importDefault(a(10690));x=a(42296);z=n.__importDefault(a(48795));y=a(54449);A=a(32260);B=(function(C){function D(E,F,G,J,N,I){var X;function M(W){l.default(I,function(){X.w_=W;X.w_.$nb({result:function(V){V?K():(X.re=new h.default(f.default.GFb),S());},timeout:function(){X.qp=!0;S();},error:function(V){V instanceof k.default && (V=new h.default(f.default.oe,"header",V));X.re=V;S();}});return X;});}function K(){X.w_.PKa({result:function(W){m.Jja(E,W,J,{result:L,error:function(V){X.re=V;S();}});},timeout:function(){X.qp=!0;S();},error:function(W){W instanceof k.default && (W=new h.default(f.default.oe,"header",W));X.re=W;S();}});}function L(W){var V;X.Lw=W;if(X.Lw instanceof p.IX)(X.jba=null,X.Oaa=null,S());else {V=X.Lw;c(E,V,G,{result:function(fa){var ba;try{X.jba=fa;X.Oaa=X.jba?X.jba:V.Mm;try{if(V.aH() && (!V.Cr() || 0 == V.hA.length))throw new q.default(f.default.eEb,V);try{ba=V.Qb;ba && ba.Qo?Q(E,V):H(E,V);}catch(ca){A.$c(ca) && (ca.Yb(V.Qb),ca.kf(V.uf),ca.Sd(V.mi),ca.Ie(V.Rd));X.re=ca;S();}}catch(ca){A.$c(ca) && (ca.Yb(V.Qb),ca.kf(V.vk),ca.Sd(V.uf),ca.Ie(V.mi),ca.dh(V.Rd));X.re=ca;S();}}catch(ca){A.$c(ca) && (ca.Yb(V.Qb),ca.kf(V.vk),ca.Sd(V.uf),ca.Ie(V.mi),ca.dh(V.Rd));X.re=ca;S();}},error:function(fa){A.$c(fa) && (fa.Yb(V.Qb),fa.kf(V.vk),fa.Sd(V.uf),fa.Ie(V.mi),fa.dh(V.Rd));X.re=fa;S();}});}}function H(W,V){var fa,ba;try{fa=V.Qb;ba=V.VKa;"number" === typeof ba?fa?(null).WFc(W,fa,ba,{result:function(ca){ca && (X.re=new q.default(ca,V).Yb(fa).Sd(V.uf).Ie(V.mi).dh(V.Rd));S();},error:function(ca){A.$c(ca) && (ca.Yb(fa),ca.Sd(V.uf),ca.Ie(V.mi),ca.dh(V.Rd));X.re=ca;S();}}):(X.re=new q.default(f.default.qEb,V).kf(V.vk).Sd(V.uf).Ie(V.mi).dh(V.Rd),S()):S();}catch(ca){A.$c(ca) && (ca.Yb(V.Qb),ca.kf(V.vk),ca.Sd(V.uf),ca.Ie(V.mi),ca.dh(V.Rd));X.re=ca;S();}}function O(W,V){var fa;try{fa=V.Qb;fa.vv(null)?V.Cr()?0 == V.hA.length?(X.re=new q.default(f.default.JFb,V).Yb(fa).Sd(V.uf).Ie(V.mi).dh(V.Rd),S()):(null).nKc(W,fa,{result:function(ba){ba?(X.re=new q.default(ba,"Master token is expired and not renewable.").Yb(fa).Sd(V.uf).Ie(V.mi).dh(V.Rd),S()):H(W,V);},error:function(ba){A.$c(ba) && (ba.Yb(V.Qb),ba.Sd(V.uf),ba.Ie(V.mi),ba.dh(V.Rd));X.re=ba;S();}}):(X.re=new q.default(f.default.IFb,V).Yb(fa).Sd(V.uf).Ie(V.mi).dh(V.Rd),S()):H(W,V);}catch(ba){A.$c(ba) && (ba.Yb(V.Qb),ba.Sd(V.uf),ba.Ie(V.mi),ba.dh(V.Rd));X.re=ba;S();}}function P(W,V){var fa,ba;try{fa=V.Qb;ba=V.uf;ba?(null).xKc(W,fa,ba,{result:function(ca){ca?(X.re=new t.default(ca,ba).Yb(fa).Sd(ba).dh(V.Rd),S()):O(W,V);},error:function(ca){A.$c(ca) && (ca.Yb(V.Qb),ca.Sd(V.uf),ca.Ie(V.mi),ca.dh(V.Rd));X.re=ca;S();}}):O(W,V);}catch(ca){A.$c(ca) && (ca.Yb(V.Qb),ca.Sd(V.uf),ca.Ie(V.mi),ca.dh(V.Rd));X.re=ca;S();}}function Q(W,V){var fa;try{fa=V.Qb;(null).oKc(W,fa,{result:function(ba){ba?(X.re=new u.default(ba,fa).Sd(V.uf).Ie(V.mi).dh(V.Rd),S()):P(W,V);},error:function(ba){A.$c(ba) && (ba.Yb(V.Qb),ba.Sd(V.uf),ba.Ie(V.mi),ba.dh(V.Rd));X.re=ba;S();}});}catch(ba){A.$c(ba) && (ba.Yb(V.Qb),ba.Sd(V.uf),ba.Ie(V.mi),ba.dh(V.Rd));X.re=ba;S();}}function S(){X.Dj=!0;X.rF.add(!0);}X=C.call(this) || this;X.Zi=E;X.Rq=F;X.iz=1;X.Uaa=!1;X.g6a=!1;X.Uk=!1;X.wi=[];X.Sw=-1;X.pC=0;X.Mxa=0;X.Is=0;X.OQ=0;X.Dj=!1;X.rF=new v.fX();X.Hf=!1;X.qp=!1;l.default(I,function(){E.Jf.cYb(F,N,{result:M,timeout:I.timeout,error:I.error});});return X;}n.__extends(D,C);D.prototype.Lgc=function(E){var F;F=this;l.default(E,function(){if(!F.ko())throw new w.default("Read attempted with error message.");if(F.Uaa)return null;F.w_.$nb({result:function(G){l.default(E,function(){if(!G)return (F.Uaa=!0,null);F.w_.PKa({result:E.result,timeout:E.timeout,error:function(J){l.default(E,function(){if(J instanceof k.default)throw new h.default(f.default.oe,"payloadchunk",J);throw J;});}});});},timeout:E.timeout,error:function(G){l.default(E,function(){if(G instanceof k.default)throw new h.default(f.default.oe,"payloadchunk",G);throw G;});}});});};D.prototype.NKa=function(E){var F;F=this;l.default(E,function(){var G;G=F.ko();if(!G)throw new w.default("Read attempted with error message.");if(-1 != F.Sw && F.Sw < F.wi.length)return F.wi[F.Sw++];if(F.Uaa)return null;F.Lgc({result:function(J){l.default(E,function(){if(!J)return null;x.jqb(F.Zi,J,F.Oaa,{result:function(N){l.default(E,function(){var I,M,K,L;I=G.Qb;M=G.vk;K=G.uf;L=G.CJc;if(N.Rd != G.Rd)throw new q.default(f.default.RGb,"payload mid " + N.Rd + " header mid " + G.Rd).Yb(I).kf(M).Sd(K).Ie(L);if(N.bk != F.iz)throw new q.default(f.default.TGb,"payload seqno " + N.bk + " expected seqno " + F.iz).Yb(I).kf(M).Sd(K).Ie(L);++F.iz;null == F.Ku && (F.Ku=G.Cr() && 0 < G.hA.length && N.ODa && 0 == N.data.length);N.ODa && (F.Uaa=!0);I=N.data;-1 != F.Mxa && (F.wi.push(I),F.Sw=-1);return I;});},error:E.error});});},timeout:E.timeout,error:E.error});});};D.prototype.Sp=function(E){var G;function F(){l.default(E,function(){if(G.Hf)return !1;if(G.qp)E.timeout();else {if(G.re)throw G.re;return !0;}});}G=this;l.default(E,function(){G.Dj?F():G.rF.I5(-1,{result:function(J){l.default(E,function(){if(void 0 === J)return !1;F();});},timeout:function(){d.default(E,function(){throw new w.default("Timeout while waiting for MessageInputStream.isReady() despite no timeout being specified.");});},error:E.error});});};D.prototype.aH=function(E){var F;F=this;l.default(E,function(){var G;G=F.ko();if(!G)return !1;if(G.aH())return !0;if(null == F.Ku)F.NKa({result:function(J){l.default(E,function(){if(!F.Hf)return (F.Cj=J,F.pC=0,F.Cj || (F.Ku=!1),F.Ku);});},timeout:E.timeout,error:function(J){l.default(E,function(){A.$c(J) && (F.m_=new z.default("Error reading the payload chunk.",J));throw J;});}});else return F.Ku;});};D.prototype.ko=function(){return this.Lw instanceof y.eQ?this.Lw:null;};D.prototype.WS=function(){return this.Lw instanceof p.IX?this.Lw:null;};D.prototype.Xz=function(){var E,F;E=this.ko();if(E){F=E.Qb;return F?F.zt:E.vk.Xz();}return this.WS().vk.Xz();};D.prototype.eUb=function(E){this.g6a=E;};D.prototype.abort=function(){this.Hf=!0;this.Rq.abort();this.rF.$ca();};D.prototype.close=function(E,F){var J;function G(){J.NKa({result:function(N){N?G():F.result(!0);},timeout:function(){F.timeout();},error:function(){F.result(!0);}});}J=this;l.default(F,function(){J.w_.close(E,{result:function(){J.g6a?J.Rq.close(E,F):J.ko()?J.aH({result:function(N){N?G():F.result(!0);},timeout:F.timeout,error:function(){F.result(!0);}}):F.result(!0);},timeout:F.timeout,error:function(){F.result(!0);}});});};D.prototype.mark=function(E){this.Is=E?E:-1;this.OQ=0;this.Uk=!0;if(this.Cj){for(;0 < this.wi.length && this.wi[0] !== this.Cj;)this.wi.shift();0 == this.wi.length && this.wi.push(this.Cj);this.Sw=0;this.Cj=this.wi[this.Sw++];this.Mxa=this.pC;}else (this.Sw=-1,this.wi=[]);};D.prototype.read=function(E,F,G){var I;function J(){l.default(G,function(){var M;if(I.Hf)return new Uint8Array(0);if(I.qp)G.timeout(new Uint8Array(0));else {if(I.re)throw I.re;if(null != I.m_){M=I.m_;I.m_=null;throw M;}I.aH({result:function(K){l.default(G,function(){if(void 0 === K)return new Uint8Array(0);if(K)return null;N();});},timeout:G.timeout,error:function(K){l.default(G,function(){I.m_=null;throw new z.default("Error reading the payload chunk.",K);});}});}});}function N(){l.default(G,function(){var K,L,H;function M(O){l.default(O,function(){var P,Q,S;if(K && H >= K.length)return K.subarray(0,H);P=-1;if(I.Cj){Q=I.Cj.length - I.pC;if(!K){S=Q;if(-1 != I.Sw)for(var X=I.Sw;X < I.wi.length;++X)S+=I.wi[X].length;0 < S && (K=new Uint8Array(S));}Q=Math.min(Q,K?K.length - H:0);0 < Q && (P=I.Cj.subarray(I.pC,I.pC + Q),K.set(P,L),P=Q,L+=Q,I.pC+=Q,I.Uk && (I.OQ+=Q,-1 != I.Is && I.OQ > I.Is && (I.Uk=!1,I.OQ=I.Is=0)));}-1 != P?(H+=P,M(O)):I.NKa({result:function(W){l.default(O,function(){if(I.Hf)return K?K.subarray(0,H):new Uint8Array(0);I.Cj=W;I.pC=0;if(I.Cj)M(O);else return 0 == H && 0 != E?null:K?K.subarray(0,H):new Uint8Array(0);});},timeout:function(){O.timeout(K?K.subarray(0,H):new Uint8Array(0));},error:function(W){l.default(O,function(){A.$c(W) && (W=new z.default("Error reading the payload chunk.",W));if(0 < H)return (I.m_=W,K.subarray(0,H));throw W;});}});});}K=-1 != E?new Uint8Array(E):void 0;L=0;H=0;M(G);});}I=this;l.default(G,function(){if(-1 > E)throw new RangeError("read requested with illegal length " + E);I.Dj?J():I.rF.I5(F,{result:function(M){void 0 === M?G.result(!1):J();},timeout:function(){G.timeout(new Uint8Array(0));},error:G.error});});};D.prototype.reset=function(){this.Uk && (this.Sw=0,0 < this.wi.length?(this.Cj=this.wi[this.Sw++],this.pC=this.Mxa):this.Cj=null,this.OQ=0);};return D;})(r.W9);b.m$=B;b.Hbb=function(C,D,E,F,G,J){new B(C,D,E,F,G,J);};},25462:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v;Object.defineProperty(b,"__esModule",{value:!0});b.Ibb=b.fGb=void 0;r=a(5163);c=r.__importDefault(a(79804));n=a(54449);d=a(68480);g=a(42296);e=a(51411);f=r.__importDefault(a(6838));l=r.__importDefault(a(48795));h=r.__importDefault(a(10690));k=a(70390);m=a(89752);p=a(32260);v=(function(){function q(u,t,w,x,z,y,A){var B;B=this;this.Zi=u;this.Taa=t;this.Lw=w;this.iz=1;this.Cj=[];this.f6a=this.ik=!1;this.d6a=!0;this.wi=[];this.Dj=!1;this.rF=new m.fX();this.qp=this.Hf=!1;this.re=null;c.default(A,function(){var D,E,F,G;function C(){B.Dj=!0;B.rF.add(!0);}D=u.Jf;if(w instanceof n.eQ)(F=(E=d.WHa(u.eC,w.ynb))?e.rhb(E.WF):null,G=D.shb());else (E=u.eC,F=null,G=z);B.OKb=G;B.eC=E;B.Oaa=x;B.bxa=F;w.Al(D,G,{result:function(J){t.write(J,0,J.length,y,{result:function(N){try{B.Hf?C():N < J.length?(B.qp=!0,C()):t.flush(y,{result:function(I){B.Hf || (B.qp=!I);C();},timeout:function(){B.qp=!0;C();},error:function(I){B.re=I;C();}});}catch(I){B.re=I;C();}},timeout:function(){B.qp=!0;C();},error:function(N){B.re=N;C();}});},error:function(J){B.re=J instanceof f.default?new l.default("Error encoding the message header.",J):J;C();}});return B;});}q.prototype.Sp=function(u){var w;function t(){c.default(u,function(){if(w.Hf)return !1;if(w.qp)u.timeout();else {if(w.re)throw w.re;return !0;}});}w=this;c.default(u,function(){w.Dj?t():w.rF.I5(-1,{result:function(x){c.default(u,function(){if(void 0 === x)return !1;t();});},timeout:function(){c.default(u,function(){throw new h.default("Timeout while waiting for MessageOutputStream.isReady() despite no timeout being specified.");});},error:u.error});});};q.prototype.krc=function(u,t,w){var z;function x(){z.flush(t,{result:function(y){c.default(w,function(){if(!y)throw new l.default("flush() aborted");z.bxa=u;return !0;});},timeout:w.timeout,error:w.error});}z=this;c.default(w,function(){if(!z.ko())throw new h.default("Cannot write payload data for an error message.");if(z.bxa == u)return !0;if(u){if(!z.eC)return !1;for(var y=z.eC.WF,A=0;A < y.length;++A)if(y[A] == u){x();return;}return !1;}x();});};q.prototype.ko=function(){return this.Lw instanceof n.eQ?this.Lw:null;};q.prototype.WS=function(){return this.Lw instanceof k.IX?this.Lw:null;};q.prototype.Ttc=function(){this.d6a=!1;this.wi=[];};q.prototype.abort=function(){this.Hf=!0;this.Taa.abort();this.rF.$ca();};q.prototype.dUb=function(u){this.f6a=u;};q.prototype.close=function(u,t){var w;w=this;c.default(t,function(){if(w.Hf)return !1;if(w.qp)t.timeout();else {if(w.re)throw w.re;if(w.ik)return !0;w.ik=!0;w.flush(u,{result:function(x){c.default(t,function(){x && (w.Cj=null);if(w.f6a)w.Taa.close(u,t);else return x;});},timeout:t.timeout,error:t.error});}});};q.prototype.flush=function(u,t){var x;function w(){c.default(t,function(){var z,y,D;if(!x.Cj || !x.ik && 0 == x.Cj.length)return !0;z=x.ko();if(!z || z.aH())return !0;y=0;x.Cj.forEach(function(E){y+=E.length;});for(var A=new Uint8Array(y),B=0,C=0;C < x.Cj.length;++C){D=x.Cj[C];A.set(D,B);B+=D.length;}g.Pbb(x.Zi,x.iz,z.Rd,x.ik,x.bxa,A,x.Oaa,{result:function(E){c.default(t,function(){x.d6a && x.wi.push(E);E.Al(x.Zi.Jf,x.OKb,{result:function(F){c.default(t,function(){x.Taa.write(F,0,F.length,u,{result:function(G){c.default(t,function(){if(x.Hf)return !1;G < E.length?t.timeout():x.Taa.flush(u,{result:function(J){c.default(t,function(){if(x.Hf)return !1;if(J)return (++x.iz,x.Cj=x.ik?null:[],!0);t.timeout();});},timeout:t.timeout,error:function(J){c.default(t,function(){p.$c(J) && (J=new l.default("Error encoding payload chunk [sequence number " + x.iz + "].",J));throw J;});}});});},timeout:function(){t.timeout();},error:function(G){c.default(t,function(){p.$c(G) && (G=new l.default("Error encoding payload chunk [sequence number " + x.iz + "].",G));throw G;});}});});},error:function(F){c.default(t,function(){if(F instanceof f.default)throw new l.default("Error encoding payload chunk [sequence number " + x.iz + "].",F);throw F;});}});});},error:function(E){c.default(t,function(){p.$c(E) && (E=new l.default("Error encoding payload chunk [sequence number " + x.iz + "].",E));throw E;});}});});}x=this;this.Sp({result:function(z){c.default(t,function(){if(z)w();else return !1;});},timeout:t.timeout,error:t.error});};q.prototype.write=function(u,t,w,x,z){var y;y=this;c.default(z,function(){var A;if(y.Hf)return !1;if(y.qp)z.timeout();else {if(y.re)throw y.re;if(y.ik)throw new l.default("Message output stream already closed.");if(0 > t)throw new RangeError("Offset cannot be negative.");if(0 > w)throw new RangeError("Length cannot be negative.");if(t + w > u.length)throw new RangeError("Offset plus length cannot be greater than the array length.");A=y.ko();if(!A)throw new h.default("Cannot write payload data for an error message.");if(A.aH())throw new h.default("Cannot write payload data for a handshake message.");A=u.subarray(t,t + w);y.Cj.push(A);return A.length;}});};return q;})();b.fGb=v;b.Ibb=function(q,u,t,w,x,z,y){new v(q,u,t,w,x,z,y);};},41962:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.N_a=void 0;r=a(5163);c=r.__importDefault(a(20754));r.__importDefault(a(42979));a(61693);r.__importDefault(a(10690));a=(function(){function n(d,g,e){this.ij=d;this.NR=g.ufa();this.Za=e;}n.prototype.T8a=function(d){try{this.Za.COb(d);}catch(g){if(!(g instanceof c.default))throw g;}};return n;})();b.N_a=a;},84898:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.R_a=void 0;c=a(5163).__importDefault(a(2178));r=(function(){function n(d,g){this.k7a=new c.default(d,g);}n.prototype.send=function(d,g){for(var e=[],f=2;f < arguments.length;f++)e[f - 2]=arguments[f];return this.k7a.send(d,g,e);};n.prototype.request=function(d,g){for(var e=[],f=2;f < arguments.length;f++)e[f - 2]=arguments[f];return this.k7a.request(d,g,e);};return n;})();b.R_a=r;},2178:function(r,b,a){var d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A,B,C,D,E,F,G,J,N,I,M,K;function c(L,H,O){return function(){H && L.SQ.cancel(H);O.abort();};}function n(L){for(;L;){if(L instanceof f.default)return !0;L=z.$c(L)?L.Mb:void 0;}return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.kGb=b.lGb=b.iGb=void 0;d=a(5163);g=d.__importDefault(a(42979));e=d.__importDefault(a(79804));f=d.__importDefault(a(25978));l=d.__importDefault(a(1966));h=a(31238);k=a(74015);m=a(93652);p=d.__importDefault(a(10690));v=d.__importDefault(a(51411));q=a(41962);u=d.__importDefault(a(20754));t=d.__importDefault(a(36114));w=a(89752);x=a(81214);z=a(32260);y=(function(){return function(L,H){this.input=L;this.xN=H;};})();b.iGb=y;A=(function(){function L(H,O){this.Zi=H;this.Nq=O;}L.prototype.equals=function(H){return this === H?!0:H instanceof L?this.Zi === H.Zi && this.Nq.equals(H.Nq):!1;};L.prototype.eh=function(){return this.Zi.eh() + ":" + this.Nq.eh();};return L;})();r=(function(){function L(H){this.Gu=H;}L.prototype.ufa=function(){return this.Gu.ufa();};L.prototype.oGa=function(){return this.Gu.oGa();};L.prototype.E3=function(){return this.Gu.E3();};L.prototype.bha=function(){return this.Gu.bha();};L.prototype.Br=function(){return this.Gu.Br();};L.prototype.K3=function(){return this.Gu.K3();};L.prototype.Cx=function(){return this.Gu.Cx();};L.prototype.dga=function(H,O,P,Q){this.Gu.dga(H,O,P,Q);};L.prototype.eM=function(H){this.Gu.eM(H);};L.prototype.XRa=function(H,O,P){this.Gu.XRa(H,O,P);};L.prototype.write=function(H,O,P){this.Gu.write(H,O,P);};L.prototype.xfa=function(){return this.Gu.xfa();};return L;})();B=(function(L){function H(O,P){P=L.call(this,P) || this;P.wi=O;return P;}d.__extends(H,L);H.prototype.write=function(O,P,Q){var S,X;S=this;if(this.wi && 0 != this.wi.length){X=function(W){var V;if(W == S.wi.length)Q.result(!0);else {V=S.wi[W];O.krc(V.mda,P,{result:function(){O.write(V.data,0,V.data.length,P,{result:function(){e.default(Q,function(){V.ODa?O.close(P,{result:function(fa){fa?X(W + 1):Q.result(fa);},timeout:Q.timeout,error:Q.error}):O.flush(P,{result:function(fa){fa?X(W + 1):Q.result(fa);},timeout:Q.timeout,error:Q.error});});},timeout:Q.timeout,error:Q.error});},timeout:Q.timeout,error:Q.error});}};X(0);}else L.prototype.write.call(this,O,P,Q);};return H;})(r);C=(function(L){function H(O){return L.call(this,O) || this;}d.__extends(H,L);H.prototype.K3=function(){return !1;};return H;})(r);D=(function(){return function(L,H){this.Qb=L;this.zvc=H;};})();E=(function(){return function(L,H){this.Za=L;this.mgc=H;};})();F=(function(){return function(L,H){this.request=L;this.MG=H;};})();G=(function(){return function(L,H){this.request=H.request;this.MG=H.MG;this.response=L;};})();J={};N=(function(){function L(H){H || (H=new h.Uoa());this.kC=H;this.Waa=null;this.rC=[];this.oK={};}L.prototype.hM=function(H,O,P,Q){var S;S=this;e.default(Q,function(){var X,W,V,fa,ba;X=O.Xk;W=X.Yz();if(!W)return null;V=new A(O,W).eh();fa=S.oK[V];fa || (fa=new k.eva(),S.oK[V]=fa);ba=fa.cnc(P,{result:function(ca){e.default(Q,function(){var ia;if(void 0 === ca)throw new f.default("getNewestMasterToken aborted.");ia=X.Yz();if(W.equals(ia))return new D(W,ca);fa.unlock(ca);fa.mAb(P,{result:function(na){e.default(Q,function(){if(void 0 === na)throw new f.default("getNewestMasterToken aborted.");delete S.oK[V];fa.unlock(na);return S.hM(H,O,P,Q);});},timeout:Q.timeout,error:Q.error});});},timeout:Q.timeout,error:Q.error});H.GV(function(){ba && (fa.cancel(ba),ba=void 0);});});};L.prototype.WCa=function(H,O){var P;P=this;O && setTimeout(function(){var Q,S;Q=new A(H,O).eh();S=P.oK[Q];S || (S=new k.eva(),P.oK[Q]=S);S.mAb(-1,{result:function(X){X && (H.Xk.Msb(O),delete P.oK[Q],S.unlock(X));},timeout:function(){throw new p.default("Unexpected timeout received.");},error:function(X){throw X;}});},0);};L.prototype.Rr=function(H,O){O && O.Qb && (H=new A(H,O.Qb).eh(),(H=this.oK[H]) && H.unlock(O.zvc));};L.prototype.kxc=function(H,O,P){var Q;Q=H.Xk;P && (Q.b7(P.zv.Qb,P.Mm),this.WCa(H,O.Qb));};L.prototype.axc=function(H,O,P){var Q,S;Q=P.ko();if(Q){S=H.Xk;if(Q=Q.zv)(S.b7(Q.Qb,P.jba),this.WCa(H,O.Qb));}};L.prototype.zwb=function(H,O,P,Q){var W,V;H=H.Xk;for(var S=[],X=0;X < Q.length;++X){W=Q[X];if(!W.Hg(O) || !O.Qo){V=W.getData();V && 0 == V.length?H.Rka(W.name,W.wv()?O:null,W.Dt()?P:null):S.push(W);}}0 < S.length && H.Wba(S);};L.prototype.IRb=function(H,O,P,Q,S){var X;X=this;this.hM(H,O,Q,{result:function(W){g.default(S,function(){var V,fa,ba,ca,ia;try{V=W && W.Qb;fa=void 0;if(V){ba=P.Cx();ca=O.Xk;ia=ba?ca.qv(ba):null;fa=ia && ia.Hg(V)?ia:null;}else fa=null;X.kC.LR(O,V,fa,null,{result:function(na){g.default(S,function(){na.tO(P.Br());return {Za:na,Dn:W};});},error:function(na){g.default(S,function(){X.Rr(O,W);z.$c(na) && (na=new p.default("User ID token not bound to master token despite internal check.",na));throw na;});}});}catch(na){X.Rr(O,W);}});},timeout:S.timeout,error:S.error});};L.prototype.ERb=function(H,O,P,Q,S,X){var W;W=this;this.kC.gXb(O,Q,{result:function(V){e.default(X,function(){V.tO(P.Br());W.hM(H,O,S,{result:function(fa){e.default(X,function(){var ba,ca,ia,na,oa;try{ba=fa && fa.Qb;ca=void 0;if(ba){ia=P.Cx();na=O.Xk;oa=ia?na.qv(ia):null;ca=oa && oa.Hg(ba)?oa:null;}else ca=null;V.Pub(ba,ca);return {Za:V,Dn:fa};}catch(T){W.Rr(O,fa);}});},timeout:X.timeout,error:X.error});});},error:X.error});};L.prototype.JRb=function(H,O,P,Q,S,X,W){var ba;function V(ca,ia){ba.hM(H,O,X,{result:function(na){e.default(W,function(){var oa,T,Z;oa=na && na.Qb;T=m.QG(S.Rd);Z=new B(ia,P);ba.kC.LR(O,oa,null,T,{result:function(aa){e.default(W,function(){aa.tO(Z.Br());return {bD:new E(aa,Z),Dn:na};});},error:W.error});});},timeout:W.timeout,error:W.error});}function fa(ca,ia){e.default(W,function(){var na,oa;na=m.QG(S.Rd);oa=new B(ia,P);ba.kC.LR(O,null,null,na,{result:function(T){e.default(W,function(){T.tO(oa.Br());return {bD:new E(T,oa),Dn:null};});},error:W.error});});}ba=this;e.default(W,function(){var ca,ia,na;ca=Q.request.ko();ia=Q.request.wi;na=S.errorCode;switch(na){case v.default.J.ih:case v.default.J.wf:O.Bfa({result:function(oa){e.default(W,function(){if(!oa)return null;fa(ca,ia);});},error:W.error});break;case v.default.J.Jc:case v.default.J.gaa:P.dga(na,!1,!0,{result:function(oa){e.default(W,function(){if(!oa)return null;V(ca,ia);});},error:W.error});break;case v.default.J.ee:V(ca,ia);break;case v.default.J.EY:P.eM({result:function(oa){e.default(W,function(){var T,Z;if(null === oa || 0 === oa.length)return null;T=m.QG(S.Rd);Z=new B(ia,P);ba.kC.LR(O,null,null,T,{result:function(aa){e.default(W,function(){aa.yPa(!0);aa.tO(Z.Br());return {bD:new E(aa,Z),Dn:null};});},error:W.error});});},error:W.error});break;case v.default.J.GX:P.eM({result:function(oa){e.default(W,function(){if(null === oa || 0 === oa.length)return null;ba.hM(H,O,X,{result:function(T){e.default(W,function(){var Z,aa,R,Y;Z=T && T.Qb;if(Z){aa=P.Cx();R=O.Xk;aa=(aa=aa?R.qv(aa):null) && aa.Hg(Z)?aa:null;}else aa=null;R=m.QG(S.Rd);Y=new B(ia,P);ba.kC.LR(O,Z,aa,R,{result:function(ea){e.default(W,function(){var ka;ka=ca.Qb;ka && !ka.equals(Z) || ea.yPa(!0);ea.tO(Y.Br());return {bD:new E(ea,Y),Dn:T};});},error:W.error});});},timeout:W.timeout,error:W.error});});},error:W.error});break;case v.default.J.ava:ba.hM(H,O,X,{result:function(oa){e.default(W,function(){var T,Z,aa,R;T=oa && oa.Qb;if(T){Z=P.Cx();aa=O.Xk;Z=(Z=Z?aa.qv(Z):null) && Z.Hg(T)?Z:null;}else Z=null;aa=m.QG(S.Rd);R=new B(ia,P);ba.kC.LR(O,T,Z,aa,{result:function(Y){e.default(W,function(){Y.tO(R.Br());return {bD:new E(Y,R),Dn:oa};});},error:W.error});});},timeout:W.timeout,error:W.error});break;default:return null;}});};L.prototype.MTb=function(H,O,P){switch(P.errorCode){case v.default.J.wf:case v.default.J.ih:this.WCa(H,O.Qb);break;case v.default.J.ee:case v.default.J.Jc:(P=O.uf,O.Qb && P && H.Xk.j6(P));}};L.prototype.send=function(H,O,P,Q,S,X,W,V){var na;function fa(oa,T,Z){e.default(V,function(){var aa;aa=new q.N_a(O,P,S);P.XRa(aa,Z,{result:function(){S.jD({result:function(R){e.default(V,function(){var Y,ea;Y=P.xfa();Y && Y.Uqc(R);Y=S.jF;na.kxc(O,R,Y);na.zwb(O,Y?Y.zv.Qb:oa,T,R.mI);Y=Y?Y.Mm:R.Mm;if(H.Hf)throw new f.default("send aborted.");ea=null != na.Waa?na.Waa.uJc(Q):Q;na.kC.MXb(O,ea,R,Y,W,{result:function(ka){e.default(V,function(){H.GV(function(){ka.abort();});ka.dUb(X);ka.Sp({result:function(ha){e.default(V,function(){if(!ha)throw new f.default("MessageOutputStream aborted.");ba(ka,Z);});},timeout:V.timeout,error:V.error});});},timeout:V.timeout,error:V.error});});},timeout:V.timeout,error:V.error});},error:V.error});});}function ba(oa,T){T?e.default(V,function(){return new F(oa,T);}):P.write(oa,W,{result:function(){e.default(V,function(){if(H.Hf)throw new f.default("MessageOutputStream write aborted.");return new F(oa,T);});},timeout:V.timeout,error:V.error});}function ca(oa,T,Z){e.default(V,function(){var aa,R,Y;aa=!(!(Z || P.E3() && !S.dAb() || P.bha() && !S.fAb()) && (!P.Br() || S.Br() && oa));S.Crc(aa);R=[];if(S.Cr()){Y=O.Ufa();if(!oa || oa.Cr(Y) || P.Br()){P.eM({result:function(ea){e.default(V,function(){var ha;if(aa && (null === ea || 0 == ea.length))throw new u.default(t.default.fEb);if(null !== ea)for(var ka=0;ka < ea.length;++ka){ha=ea[ka];R.push(ha);S.kOb(ha);}fa(oa,T,aa,R);});},error:V.error});return;}}fa(oa,T,aa,R);});}function ia(oa,T,Z){e.default(V,function(){ca(oa,T,Z);});}na=this;e.default(V,function(){var oa,T,Z,aa;oa=S.Yz();T=S.qv();Z=!1;if(P.Cx()){aa=!T;P.dga(null,S.Cr(),aa,{result:function(R){e.default(V,function(){R && (S.cAb() && S.eAb()?S.Ie(R):Z=!0);ia(oa,T,Z);});},error:V.error});}else ia(oa,T,Z);});};L.prototype.pnc=function(H,O,P,Q,S,X,W){var fa;function V(ba){e.default(W,function(){var ca,ia,na,oa,T,Z,aa,R,Y,ea,ka,ha,U;ca=ba.ko();ia=ba.WS();na=P.xfa();na && na.rnc(ca?ca:ia);if(ca){na=ca.Qb;oa=ca.vk;T=ca.uf;Z=ca.mi;}else (na=null,oa=ia.vk,Z=T=null);if(S){aa=ia?ia.errorCode:null;if(ca || aa != v.default.J.aa && aa != v.default.J.ap && aa != v.default.J.wf && aa != v.default.J.ih){aa=ca?ca.Rd:ia.Rd;R=m.QG(S.Rd);if(aa != R)throw new u.default(t.default.wJb,"expected " + R + "; received " + aa).Yb(na).kf(oa).Sd(T).Ie(Z);}}try{Y=P.oGa();if(Y && oa){ea=oa.Xz();if(ea && Y != ea)throw new u.default(t.default.LFb,"expected " + Y + "; received " + ea);}if(ca){S && fa.axc(O,S,ba);ka=ca.zv;aa=ea=Y=void 0;Y=ka?ka.Qb:ca.Qb;ea=ca.uf;aa=ca.mI;ha=P.Cx();ha && ea && !ea.Qo && O.Xk.Xba(ha,ea);fa.zwb(O,Y,ea,aa);}U=ca?ca.GGa():null === ia || void 0 === ia?void 0:ia.GGa();U && S && O.pxc(U);}catch(da){throw (z.$c(da) && (da.Yb(na),da.kf(oa),da.Sd(T),da.Ie(Z)),da);}return ba;});}fa=this;e.default(W,function(){var ba,ca,ia;if(H.Hf)throw new f.default("receive aborted.");ba=[];S && (ba=S.hA.filter(function(){return !0;}));ca=P.ufa();ia=fa.Waa?fa.Waa.nJc(Q):Q;fa.kC.cCa(O,ia,ba,ca,X,{result:function(na){e.default(W,function(){H.GV(function(){na.abort();});na.Sp({result:function(oa){e.default(W,function(){if(!oa)throw new f.default("MessageInputStream aborted.");V(na);});},timeout:W.timeout,error:W.error});});},timeout:W.timeout,error:W.error});});};L.prototype.Pqc=function(H,O,P,Q,S,X,W,V,fa,ba){var ia;function ca(na,oa,T){e.default(ba,function(){var Z,aa;Z=na.Za;aa=na.Dn;Z.yPa(T);ia.send(H,O,P,S,Z,V,fa,{result:function(R){e.default(ba,function(){var Y,ea;Y=R.request.ko();ea=Y.hA;0 == W || R.MG || 1 == W && (null == ea || 0 == ea.length) || Y.Cr() && Y.Qb && Y.mi?ia.pnc(H,O,P,Q,Y,fa,{result:function(ka){e.default(ba,function(){var ha;ha=ka.WS();ha && ia.MTb(O,Y,ha);T && ia.gV(O,oa,ka);ia.Rr(O,aa);ka.eUb(V);return new G(ka,R);});},timeout:function(){e.default(ba,function(){T && ia.gV(O,oa,null);ia.Rr(O,aa);ba.timeout();});},error:function(ka){e.default(ba,function(){T && ia.gV(O,oa,null);ia.Rr(O,aa);ba.error(ka);});}}):e.default(ba,function(){T && ia.gV(O,oa,null);ia.Rr(O,aa);return new G(null,R);});});},timeout:function(){e.default(ba,function(){T && ia.gV(O,oa,null);ia.Rr(O,aa);ba.timeout();});},error:function(R){e.default(ba,function(){T && ia.gV(O,oa,null);ia.Rr(O,aa);ba.error(R);});}});});}ia=this;e.default(ba,function(){var na;na=new w.fX();ia.FNb(H,O,P,na,X,fa,{result:function(oa){ca(X,na,oa);},timeout:function(){e.default(ba,function(){ia.Rr(O,X.Dn);ba.timeout();});},error:function(oa){e.default(ba,function(){ia.Rr(O,X.Dn);if(oa instanceof f.default)return null;ba.error(oa);});}});});};L.prototype.FNb=function(H,O,P,Q,S,X,W){var ca;function V(ia,na,oa,T,Z){e.default(W,function(){var Y,ea;if(H.Hf)throw new f.default("acquireRenewalLock aborted.");for(var aa=null,R=0;R < ca.rC.length;++R){Y=ca.rC[R];if(Y.ij === O){aa=Y.Bh;break;}}if(!aa)return (ca.rC.push({ij:O,Bh:Q}),!0);ea=aa.I5(X,{result:function(ka){e.default(W,function(){var ha;if(void 0 === ka)throw new f.default("acquireRenewalLock aborted.");aa.add(ka);if(ka === J)V(ia,na,oa,T,Z);else {ha=ia;ia && ia.equals(ka)?ba(ha,ia,na,oa,T,Z):(ca.Rr(O,Z),ca.hM(H,O,X,{result:function(U){e.default(W,function(){(ia=(S.Dn=U) && U.Qb)?ba(ha,ia,na,oa,T,U):V(ia,na,oa,T,U);});},timeout:W.timeout,error:W.error}));}});},timeout:W.timeout,error:W.error});H.GV(function(){ea && (aa.cancel(ea),ea=void 0);});});}function fa(ia,na){e.default(W,function(){var oa,Z;if(H.Hf)throw new f.default("acquireRenewalLock aborted.");oa=O.Ufa();if(!ia || ia.Cr(oa) || !na && P.Cx() || na && na.Cr(oa)){oa=null;for(var T=0;T < ca.rC.length;++T){Z=ca.rC[T];if(Z.ij === O){oa=Z.Bh;break;}}if(!oa)return (ca.rC.push({ij:O,Bh:Q}),!0);}return !1;});}function ba(ia,na,oa,T,Z,aa){e.default(W,function(){var R;if(T && !oa || oa && !oa.Hg(na)){R=O.Xk.qv(T);oa=R && R.Hg(na)?R:null;}Z.Pub(na,oa);R=O.Ufa();na.vv(R)?V(na,oa,T,Z,aa):Z.Cr() && na.equals(ia)?V(na,oa,T,Z,aa):P.K3() && !oa?V(na,oa,T,Z,aa):fa(na,oa);});}ca=this;e.default(W,function(){var ia,na,oa,T,Z,aa;ia=S.Za;na=S.Dn;oa=ia.Yz();T=ia.qv();Z=P.Cx();aa=O.Ufa();P.E3() && !ia.dAb() || P.bha() && !ia.fAb() || ia.Cr() || !oa && P.Br() || oa && oa.vv(aa) || !(T || !Z || ia.cAb() && ia.eAb()) || P.K3() && (!oa || Z && !T)?V(oa,T,Z,ia,na):fa(oa,T);});};L.prototype.gV=function(H,O,P){var W;for(var Q,S,X=0;X < this.rC.length;++X){W=this.rC[X];if(W.ij === H){Q=X;S=W.Bh;break;}}if(S !== O)throw new p.default("Attempt to release renewal lock that is not owned by this queue.");P?(H=P.ko())?(P=H.zv)?O.add(P.Qb):(H=H.Qb)?O.add(H):O.add(J):O.add(J):O.add(J);this.rC.splice(Q,1);};return L;})();b.lGb=N;r=(function(){function L(H,O){var P;P=null;"number" === typeof H && 0 < H && (P=new x.L3a(H));this.N6a=new N(O);this.SQ=P;this.U7a=!1;}L.prototype.submit=function(H,O,P,Q){var S,X;S=this;if(this.SQ){X={result:function(W){g.default(Q,function(){S.SQ.signal();return W;});},timeout:function(){g.default(Q,function(){S.SQ.signal();Q.timeout();});},error:function(W){g.default(Q,function(){S.SQ.signal();Q.error(W);});}};P=this.SQ.wait(P,{result:function(W){W?setTimeout(function(){H.call(X);},0):Q.result(O);},timeout:Q.timeout,error:Q.error});return c(this,P,H);}setTimeout(function(){H.call(Q);},0);return c(this,null,H);};L.prototype.send=function(H,O){var S,X,W,V,fa;for(var P=[],Q=2;Q < arguments.length;Q++)P[Q - 2]=arguments[Q];if(this.U7a)throw new l.default("MslControl is shutdown.");if(3 == P.length)(X=P[0],W=S=null,V=P[1],fa=P[2]);else 4 == P.length && (X=null,S=P[0],W=P[1],V=P[2],fa=P[3]);new C(O);P=new K(this.N6a,H,O,X,S,W,V);return this.submit(P,null,V,fa);};L.prototype.request=function(H,O,P){var Q,S,X,W,V;if(this.U7a)throw new l.default("MslControl is shutdown.");if(3 == P.length)(S=P[0],X=Q=null,W=P[1],V=P[2]);else 4 == P.length && (S=null,Q=P[0],X=P[1],W=P[2],V=P[3]);H=new M(this.N6a,H,O,S,Q,X,null,0,0,W);return this.submit(H,null,W,V);};return L;})();b.kGb=r;I={result:function(){},timeout:function(){},error:function(){}};M=(function(){function L(H,O,P,Q,S,X,W,V,fa,ba){var ca;if(W){ca=W.Za;W=W.Dn;}else W=ca=null;this.iF=H;this.Zi=O;this.j7a=P;this.xba=Q;this.ez=S;this.oC=X;this.sK=!1;this.Xwa=ca;this.d8a=W;this.nxa=V;this.mk=ba;this.QLb=fa;this.Hf=this.qba=!1;this.Pwa=null;}L.prototype.abort=function(){this.Hf=!0;this.Pwa && this.Pwa.call(this);};L.prototype.GV=function(H){this.Pwa=H;};L.prototype.ef=function(H,O,P,Q,S){var ca;function X(ia){e.default(S,function(){var na,oa,T;na=ia.request;oa=ia.response;T=oa.ko();if(!ia.MG)return new y(oa,na);V(ia,function(Z){e.default(S,function(){var aa;if(!Z)return null;aa=new B(null,H);ca.iF.ERb(ca,ca.Zi,H,T,P,{result:function(R){e.default(S,function(){var Y;Y=new L(ca.iF,ca.Zi,aa,ca.xba,null,null,R,ca.nxa,Q,ca.mk);ca.GV(function(){Y.abort();});Y.call(S);});},timeout:S.timeout,error:S.error});});});});}function W(ia){function na(oa,T){e.default(S,function(){return ca.qba || T && !T.input?new y(oa.response,null):T;});}e.default(S,function(){var oa;oa=ia.response;ca.iF.JRb(ca,ca.Zi,H,ia,oa.WS(),P,{result:function(T){e.default(S,function(){var Z,aa;if(!T)return new y(oa,null);Z=T.bD;aa=new L(ca.iF,ca.Zi,Z.mgc,ca.xba,null,null,{Za:Z.Za,Dn:T.Dn},ca.nxa,Q,ca.mk);ca.GV(function(){aa.abort();});aa.call({result:function(R){e.default(S,function(){ca.qba=aa.qba;na(ia,R);});},timeout:S.timeout,error:S.error});});},timeout:S.timeout,error:S.error});});}function V(ia,na){fa(ia,function(oa){oa?ia.response.close(ca.mk,{result:function(T){na.call(ca,T);},timeout:function(){na.call(ca,!0);},error:function(T){n(T) && na.call(ca,!1);na.call(ca,!0);}}):na.call(ca,!1);});}function fa(ia,na){ia.request.close(ca.mk,{result:function(oa){na.call(this,oa);},timeout:function(){na.call(this,!0);},error:function(oa){n(oa) && na.call(this,!1);na.call(this,!0);}});}function ba(ia){e.default(S,function(){V(ia,function(na){na?W(ia):S.result(null);});});}ca=this;e.default(S,function(){if(Q + 2 > v.default.xFb)return (ca.iF.Rr(ca.Zi,O.Dn),ca.qba=!0,null);ca.iF.Pqc(ca,ca.Zi,H,ca.ez,ca.oC,O,ca.nxa,ca.sK,P,{result:function(ia){e.default(S,function(){var na,oa;if(!ia)return null;na=ia.request;oa=ia.response;Q+=2;if(!oa)return new y(oa,na);oa.ko()?X(ia):ba(ia);});},timeout:S.timeout,error:S.error});});};L.prototype.call=function(H){var P;function O(Q,S,X){e.default(H,function(){P.ef(P.j7a,{Za:Q,Dn:S},X,P.QLb,{result:function(W){e.default(H,function(){W && W.xN && W.xN.Ttc();!P.sK || W && W.input || P.ez.close(X,I);return W;});},timeout:function(){e.default(H,function(){P.sK && (P.oC.close(X,I),P.ez.close(X,I));H.timeout();});},error:function(W){e.default(H,function(){P.sK && (P.oC.close(X,I),P.ez.close(X,I));if(n(W))return null;H.error(W);});}});});}P=this;e.default(H,function(){var Q,S,X;Q=P.mk;if(!P.ez || !P.oC)try{P.xba.setTimeout(P.mk);S=Date.now();X=P.xba.Sic();P.oC=X.xN;P.ez=X.input;-1 != Q && (Q=P.mk - (Date.now() - S));P.sK=!0;}catch(W){P.Xwa && P.iF.Rr(P.Zi,P.d8a);P.oC && P.oC.close(P.mk,I);P.ez && P.ez.close(P.mk,I);if(n(W))return null;throw W;}P.Xwa?O(P.Xwa,P.d8a,Q):P.iF.IRb(P,P.Zi,P.j7a,P.mk,{result:function(W){e.default(H,function(){O(W.Za,W.Dn,Q);});},timeout:function(){e.default(H,function(){P.sK && (P.oC.close(P.mk,I),P.ez.close(P.mk,I));H.timeout();});},error:function(W){e.default(H,function(){P.sK && (P.oC.close(P.mk,I),P.ez.close(P.mk,I));if(n(W))return null;H.error(W);});}});});};return L;})();K=(function(){function L(H,O,P,Q,S,X,W){this.KMb=new M(H,O,P,Q,S,X,null,2,0,W);}L.prototype.call=function(H){this.KMb.call({result:function(O){g.default(H,function(){return O?O.xN:null;});},timeout:H.timeout,error:H.error});};return L;})();b["default"]=r;},43056:function(r,b,a){var c,n,d;Object.defineProperty(b,"__esModule",{value:!0});b.Jbb=b.BGb=void 0;c=a(5163);n=a(28865);d=(function(g){function e(f,l,h,k,m){return g.call(this,f,l,h,k,m) || this;}c.__extends(e,g);e.prototype.IR=function(f,l,h,k,m,p){n.gCa(f,l,h,k,m,p);};return e;})(a(93652).Csa);b.BGb=d;b.Jbb=function(g,e,f,l,h){new d(g,e,f,l,h);};},61368:function(r,b,a){var c,n,d;Object.defineProperty(b,"__esModule",{value:!0});b.Vsa=void 0;c=a(5163);r=a(31238);n=a(9635);c.__importDefault(a(43125));d=a(43056);a=(function(g){function e(){return null !== g && g.apply(this,arguments) || this;}c.__extends(e,g);e.prototype.cCa=function(f,l,h,k,m,p){n.Kbb(f,l,h,k,m,p,void 0);};e.prototype.T0=function(f,l,h){d.Jbb(f,l,h,void 0,void 0);};return e;})(r.Uoa);b.Vsa=a;},28865:function(r,b,a){var c,n,d,g,e,f;Object.defineProperty(b,"__esModule",{value:!0});b.gCa=void 0;c=a(5163);n=c.__importDefault(a(42979));d=c.__importDefault(a(6838));g=c.__importDefault(a(42458));e=c.__importDefault(a(58511));f=a(54449);(function(l){function h(k,m,p,v,q,u,t){return l.call(this,k,m,p,v,q,u,t) || this;}c.__extends(h,l);h.prototype.Al=function(k,m,p){var v;v=this;n.default(p,function(){if(v.encodings[m])return v.encodings[m];k.Ai(v.uga,m,{result:function(q){n.default(p,function(){v.Mm.encrypt(q,k,m,{result:function(u){n.default(p,function(){v.Mm.sign(u,k,m,{result:function(t){n.default(p,function(){var w;w=k.Ae();v.Qb?w.put(e.default.TYa,v.Qb):w.put(e.default.cra,v.vk);w.put(e.default.SYa,u);w.put(e.default.fra,t);k.Ai(w,m,{result:function(x){n.default(p,function(){return v.encodings[m]=x;});},error:p.error});});},error:function(t){n.default(p,function(){t instanceof g.default && (t=new d.default("Error signing the header data.",t));throw t;});}});});},error:function(u){n.default(p,function(){u instanceof g.default && (u=new d.default("Error encrypting the header data.",u));throw u;});}});});},error:p.error});});};return h;})(f.eQ);b.gCa=function(l,h,k,m,p,v){new f.eQ(l,h,k,m,p,null,v);};},9635:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.Kbb=b.CGb=void 0;c=a(5163);a(66734);a(75563);r=a(34801);c.__importDefault(a(45826));n=(function(d){function g(e,f,l,h,k,m){return d.call(this,e,f,l,h,k,m) || this;}c.__extends(g,d);return g;})(r.m$);b.CGb=n;b.Kbb=function(d,g,e,f,l,h){new n(d,g,e,f,l,h);};},43125:function(r,b,a){var c,n,d;Object.defineProperty(b,"__esModule",{value:!0});b.IXb=b.DGb=void 0;c=a(5163);n=a(28865);d=(function(g){function e(f,l,h){return g.call(this,f,l,h) || this;}c.__extends(e,g);e.prototype.IR=function(f,l,h,k,m,p){n.gCa(f,l,h,k,m,p);};return e;})(a(56058).aVa);b.DGb=d;b.IXb=function(g,e,f){new d(g,e,f);};},42296:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u;Object.defineProperty(b,"__esModule",{value:!0});b.jqb=b.Pbb=b.YHb=void 0;c=a(5163);r=a(48235);n=c.__importStar(a(51411));d=c.__importDefault(a(10690));g=c.__importDefault(a(42979));e=c.__importDefault(a(42458));f=c.__importDefault(a(6838));l=c.__importDefault(a(88257));h=c.__importDefault(a(36114));k=c.__importDefault(a(20754));m=c.__importDefault(a(1966));p=a(44127);v=a(53140);q=(function(){return function(t){this.Uja=t;};})();u=(function(t){function w(x,z,y,A,B,C,D,E){var F;F=t.call(this) || this;if(0 > z || z > n.default.me)throw new d.default("Sequence number " + z + " is outside the valid range.");if(0 > y || y > n.default.me)throw new d.default("Message ID " + y + " is outside the valid range.");if(E)x=E.Uja;else {if(B){if((E=v.SB.Lm(B,C),!(E && E.length < C.length) || E.length * v.SB.UFa() < C.length))(B=null,E=C);}else (B=null,E=C);x=x.Jf.Ae();x.put("sequencenumber",z);x.put("messageid",y);A && x.put("endofmsg",A);null != B && x.put("compressionalgo",B);x.put("data",E);}F.Uja=x;F.bk=z;F.Rd=y;F.ODa=A;F.mda=B;F.data=C;F.Mm=D;F.encodings={};return F;}c.__extends(w,t);w.prototype.Al=function(x,z,y){var A;A=this;g.default(y,function(){if(A.encodings[z])return A.encodings[z];x.Ai(A.Uja,z,{result:function(B){g.default(y,function(){A.Mm.encrypt(B,x,z,{result:function(C){g.default(y,function(){A.Mm.sign(C,x,z,{result:function(D){g.default(y,function(){var E;E=x.Ae();E.put("payload",C);E.put("signature",D);x.Ai(E,z,{result:function(F){g.default(y,function(){return A.encodings[z]=F;});},error:y.error});});},error:function(D){g.default(y,function(){if(D instanceof e.default)throw new f.default("Error signing the payload.",D);throw D;});}});});},error:function(C){g.default(y,function(){if(C instanceof e.default)throw new f.default("Error encrypting the payload.",C);throw C;});}});});},error:y.error});});};return w;})(r.Bm);b.YHb=u;b.Pbb=function(t,w,x,z,y,A,B,C){g.default(C,function(){return new u(t,w,x,z,y,A,B,null);});};b.jqb=function(t,w,x,z){function y(A,B){g.default(z,function(){var C,D,E,F,G,J,N,I;try{C=A.pn(B);D=C.Zl("sequencenumber");if(0 > D || D > n.default.me)throw new m.default(h.default.UGb,"payload chunk payload " + C);E=C.Zl("messageid");if(0 > E || E > n.default.me)throw new m.default(h.default.SGb,"payload chunk payload " + C);F=C.has("endofmsg")?C.h2("endofmsg"):!1;G=void 0;if(C.has("compressionalgo")){J=C.Jd("compressionalgo");if(-1 === Object.values(n.JE).indexOf(J))throw new k.default(h.default.f5a,J);G=J;}else G=null;J=void 0;N=C.Uc("data");if(0 == N.length){if(!F)throw new k.default(h.default.QGb);J=new Uint8Array(0);}else J=null == G?N:v.SB.sE(G,N);I=new q(C);return new u(t,D,E,F,G,J,x,I);}catch(M){if(M instanceof f.default)throw new l.default(h.default.oe,"payload chunk payload " + p.qh(B),M);throw M;}});}g.default(z,function(){var A,B,C;A=t.Jf;try{B=w.Uc("payload");C=w.Uc("signature");}catch(D){if(D instanceof f.default)throw new l.default(h.default.oe,"payload chunk " + w,D);throw D;}x.verify(B,C,A,{result:function(D){g.default(z,function(){if(!D)throw new e.default(h.default.VGb);x.decrypt(B,A,{result:function(E){y(A,E);},error:z.error});});},error:z.error});});};},58892:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u;Object.defineProperty(b,"__esModule",{value:!0});b.Kja=b.BXb=b.h_a=void 0;c=a(5163);r=a(48235);n=c.__importDefault(a(10690));d=c.__importDefault(a(51411));g=c.__importDefault(a(42458));e=c.__importDefault(a(36114));f=c.__importDefault(a(42979));l=c.__importDefault(a(6838));h=c.__importDefault(a(88257));k=c.__importDefault(a(1966));m=a(44127);p=a(60426);v=a(10558);q=(function(){return function(t,w,x,z){this.Fla=t;this.Lo=w;this.sj=x;this.Qo=z;};})();u=(function(t){function w(x,z,y,A,B,C,D,E,F,G){var J,N,I,M,K;J=t.call(this) || this;if(y.getTime() < z.getTime())throw new n.default("Cannot construct a master token that expires before its renewal window opens.");if(0 > A || A > d.default.me)throw new n.default("Sequence number " + A + " is outside the valid range.");if(0 > B || B > d.default.me)throw new n.default("Serial number " + B + " is outside the valid range.");z=Math.floor(z.getTime() / 1E3);y=Math.floor(y.getTime() / 1E3);if(G){N=G.Fla;I=G.Lo;M=G.sj;G=G.Qo;}else {G=E.lW();I=d.default.Rpa.TL(E.algorithm);M=F.lW();K=d.default.sZ.TL(F.algorithm);if(!I || !K)throw new g.default(e.default.nwa,"encryption algorithm: " + E.algorithm + "; signature algorithm: " + F.algorithm);N=x.Jf.Ae();C && N.put("issuerdata",C);N.put("identity",D);N.put("encryptionkey",G);N.put("encryptionalgorithm",I);N.put("hmackey",M);N.put("signaturekey",M);N.put("signaturealgorithm",K);M=I=null;G=!0;}J.ij=x;J.$N=z;J.IL=y;J.bk=A;J.Ye=B;J.Fla=N;J.Jbc=C;J.zt=D;J.nt=E;J.hE=F;J.Lo=I;J.sj=M;J.Qo=G;J.encodings={};return J;}c.__extends(w,t);w.prototype.L2=function(){return new Date(1E3 * this.$N);};w.prototype.Xl=function(){return new Date(1E3 * this.IL);};w.prototype.B3=function(){return this.Fla?!0:!1;};w.prototype.Cr=function(x){return x?this.L2().getTime() <= x.getTime():this.Qo?this.L2().getTime() <= this.ij.getTime():!0;};w.prototype.vv=function(x){return x?this.Xl().getTime() <= x.getTime():this.Qo?this.Xl().getTime() <= this.ij.getTime():!1;};w.prototype.bbc=function(x){var z;if(this.bk == x.bk)return this.Xl() > x.Xl();if(this.bk > x.bk){z=this.bk - d.default.me + 127;return x.bk >= z;}z=x.bk - d.default.me + 127;return this.bk < z;};w.prototype.Al=function(x,z,y){var B;function A(C,D){f.default(y,function(){var E;E=x.Ae();E.put("tokendata",C);E.put("signature",D);x.Ai(E,z,{result:function(F){f.default(y,function(){return B.encodings[z.name]=F;});},error:y.error});});}B=this;f.default(y,function(){var C;if(B.encodings[z.name])return B.encodings[z.name];if(null != B.Lo || null != B.sj)A(B.Lo,B.sj);else {try{C=B.ij.sba;}catch(D){if(D instanceof g.default)throw new l.default("Error creating the MSL crypto context.",D);throw D;}x.Ai(B.Fla,z,{result:function(D){C.encrypt(D,x,z,{result:function(E){f.default(y,function(){var F;F=x.Ae();F.put("renewalwindow",B.$N);F.put("expiration",B.IL);F.put("sequencenumber",B.bk);F.put("serialnumber",B.Ye);F.put("sessiondata",E);x.Ai(F,z,{result:function(G){C.sign(G,x,z,{result:function(J){A(G,J);},error:function(J){f.default(y,function(){if(J instanceof g.default)throw new l.default("Error signing the token data.",J);throw J;});}});},error:y.error});});},error:function(E){f.default(y,function(){if(E instanceof g.default)throw new l.default("Error encrypting the session data.",E);throw E;});}});},error:y.error});}});};w.prototype.toString=function(){var x,z;x=this.ij.Jf;z=x.Ae();z.put("renewalwindow",this.$N);z.put("expiration",this.IL);z.put("sequencenumber",this.bk);z.put("serialnumber",this.Ye);z.put("sessiondata","(redacted)");x=x.Ae();x.put("tokendata",z);x.put("signature",this.sj?this.sj:"(null)");return x.toString();};w.prototype.equals=function(x){return this === x?!0:x instanceof w?this.Ye == x.Ye && this.bk == x.bk && this.Xl().getTime() == x.Xl().getTime():!1;};w.prototype.eh=function(){return this.Ye + ":" + this.bk + ":" + this.Xl().getTime();};return w;})(r.Bm);b.h_a=u;b.BXb=function(t,w,x,z,y,A,B,C,D,E){f.default(E,function(){return new u(t,w,x,z,y,A,B,C,D,null);});};b.Kja=function(t,w,x){function z(B,C,D,E,F){f.default(x,function(){var G,J,N,I,M,K,L,H;try{G=C.pn(D);J=G.Zl("renewalwindow");N=G.Zl("expiration");if(N < J)throw new k.default(e.default.qFb,"mastertokendata " + G);I=G.Zl("sequencenumber");if(0 > I || I > d.default.me)throw new k.default(e.default.rFb,"mastertokendata " + G);M=G.Zl("serialnumber");if(0 > M || M > d.default.me)throw new k.default(e.default.sFb,"mastertokendata " + G);K=G.Uc("sessiondata");if(0 == K.length)throw new h.default(e.default.tFb,"mastertokendata " + G);L=new Date(1E3 * J);H=new Date(1E3 * N);F?B.decrypt(K,C,{result:function(O){y(B,C,D,E,F,L,H,I,M,O);},error:x.error}):A(B,C,D,E,F,L,H,I,M,null,null,null,null,null);}catch(O){if(O instanceof l.default)throw new h.default(e.default.wFb,"mastertokendata " + m.qh(D),O);throw O;}});}function y(B,C,D,E,F,G,J,N,I,M){f.default(x,function(){var K,L,H,O,P,Q,S,X,W;try{K=C.pn(M);L=K.has("issuerdata")?K.lo("issuerdata",C):null;H=K.Jd("identity");O=K.Uc("encryptionkey");P=K.n5("encryptionalgorithm",d.default.Rpa.vna);Q=K.has("signaturekey")?K.Uc("signaturekey"):K.Uc("hmackey");S=K.n5("signaturealgorithm",d.default.sZ.Eqa);}catch(V){if(V instanceof l.default)throw new h.default(e.default.uFb,"sessiondata " + m.qh(M),V);throw V;}X=d.default.Rpa.pRa(P);W=d.default.sZ.pRa(S);if(!X || !W)throw new g.default(e.default.nwa,"encryption algorithm: " + P + "; signature algorithm: " + S);p.wHa(O,X,v.cC.y9,{result:function(V){p.wHa(Q,W,v.cC.sQ,{result:function(fa){A(B,C,D,E,F,G,J,N,I,K,L,H,V,fa);},error:function(fa){x.error(new g.default(e.default.RZa,fa));}});},error:function(V){x.error(new g.default(e.default.RZa,V));}});});}function A(B,C,D,E,F,G,J,N,I,M,K,L,H,O){f.default(x,function(){var P;P=new q(M,D,E,F);return new u(t,G,J,N,I,K,L,H,O,P);});}f.default(x,function(){var B,C,D,E;B=t.sba;C=t.Jf;try{D=w.Uc("tokendata");if(0 == D.length)throw new h.default(e.default.vFb,"mastertoken " + w);E=w.Uc("signature");}catch(F){if(F instanceof l.default)throw new h.default(e.default.oe,"mastertoken " + w,F);throw F;}B.verify(D,E,C,{result:function(F){z(B,C,D,E,F);},error:x.error});});};},61693:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t,w;function c(x,z,y){var A,B;try{A=z.Uc("tokendata");if(0 == A.length)throw new d.default(g.default.l3a,"servicetoken " + z);B=x.pn(A).Jd("name");return y[B]?y[B]:y[""];}catch(C){if(C instanceof e.default)throw new d.default(g.default.oe,"servicetoken " + z,C);throw C;}}Object.defineProperty(b,"__esModule",{value:!0});b.Nja=b.VXb=b.N3a=void 0;n=a(5163);d=n.__importDefault(a(88257));g=n.__importDefault(a(36114));e=n.__importDefault(a(6838));r=a(48235);f=n.__importDefault(a(10690));l=a(58892);h=a(85065);k=n.__importDefault(a(42979));m=n.__importDefault(a(1966));p=n.__importDefault(a(42458));v=n.__importStar(a(51411));q=a(44127);u=a(53140);t=(function(){return function(x,z,y){this.Lo=x;this.sj=z;this.Qo=y;};})();w=(function(x){function z(y,A,B,C,D,E,F,G,J){var N,I,M,K;N=x.call(this) || this;if(C && D && !D.Hg(C))throw new f.default("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");C=C?C.Ye:-1;D=D?D.Ye:-1;if(J){I=J.Lo;M=J.sj;J=J.Qo;}else {if(!G)throw new TypeError("Crypto context may not be null.");if(F){K=u.SB.Lm(F,B);K && K.length < B.length || (F=null,K=B);}else (F=null,K=B);M=I=null;J=!0;}N.ij=y;N.Mm=G;N.name=A;N.Ki=C;N.dw=D;N.sx=E;N.mda=F;N.Lub=B;N.CBa=K;N.Lo=I;N.sj=M;N.Qo=J;N.encodings={};return N;}n.__extends(z,x);z.prototype.E3=function(){return this.sx;};z.prototype.B3=function(){return this.Lub?!0:!1;};z.prototype.getData=function(){return this.Lub;};z.prototype.wv=function(){return -1 != this.Ki;};z.prototype.Hg=function(y){return y?y instanceof l.h_a?y.Ye == this.Ki:y instanceof h.r5a?y.Ye == this.dw:!1:!1;};z.prototype.Dt=function(){return -1 != this.dw;};z.prototype.Cbc=function(){return -1 == this.Ki && -1 == this.dw;};z.prototype.Al=function(y,A,B){var E;function C(F){k.default(B,function(){var G;G=y.Ae();G.put("name",E.name);-1 != E.Ki && G.put("mtserialnumber",E.Ki);-1 != E.dw && G.put("uitserialnumber",E.dw);G.put("encrypted",E.sx);E.mda && G.put("compressionalgo",E.mda);G.put("servicedata",F);y.Ai(G,A,{result:function(J){k.default(B,function(){E.Mm.sign(J,y,A,{result:function(N){D(J,N);},error:function(N){k.default(B,function(){if(N instanceof p.default)throw new e.default("Error signing the token data.",N);throw N;});}});});},error:B.error});});}function D(F,G){k.default(B,function(){var J;J=y.Ae();J.put("tokendata",F);J.put("signature",G);y.Ai(J,A,{result:function(N){k.default(B,function(){return E.encodings[A.name]=N;});},error:B.error});});}E=this;k.default(B,function(){if(E.encodings[A.name])return E.encodings[A.name];null != E.Lo || null != E.sj?D(E.Lo,E.sj):E.sx && 0 < E.CBa.length?E.Mm.encrypt(E.CBa,y,A,{result:C,error:function(F){k.default(B,function(){if(F instanceof p.default)throw new e.default("Error encrypting the service data.",F);throw F;});}}):C(E.CBa);});};z.prototype.toString=function(){var y,A;y=this.ij.Jf;A=y.Ae();A.put("name",this.name);A.put("mtserialnumber",this.Ki);A.put("uitserialnumber",this.dw);A.put("servicedata","(redacted)");y=y.Ae();y.put("tokendata",A);y.put("signature",this.sj?this.sj:"(null)");return y.toString();};z.prototype.equals=function(y){return this === y?!0:y instanceof z?this.name == y.name && this.Ki == y.Ki && this.dw == y.dw:!1;};z.prototype.eh=function(){return this.name + ":" + this.Ki + ":" + this.dw;};return z;})(r.Bm);b.N3a=w;b.VXb=function(x,z,y,A,B,C,D,E,F){k.default(F,function(){return new w(x,z,y,A,B,C,D,E,null);});};b.Nja=function(x,z,y,A,B,C){function D(F,G,J,N,I){k.default(C,function(){var M,K,L,H,O,P,Q,S,X;try{M=F.pn(G);K=M.Jd("name");if(M.has("mtserialnumber")){L=M.Zl("mtserialnumber");if(0 > L || L > v.default.me)throw new m.default(g.default.TIb,"servicetokendata " + M).Yb(y).Sd(A);}else L=-1;if(M.has("uitserialnumber")){H=M.Zl("uitserialnumber");if(0 > H || H > v.default.me)throw new m.default(g.default.VIb,"servicetokendata " + M).Yb(y).Sd(A);}else H=-1;O=M.h2("encrypted");if(M.has("compressionalgo")){P=M.Jd("compressionalgo");if(!((P in v.JE)))throw new m.default(g.default.f5a,P);Q=P;}else Q=null;S=M.Uc("servicedata");}catch(W){if(W instanceof e.default)throw new d.default(g.default.oe,"servicetokendata " + q.qh(G),W).Yb(y).Sd(A);throw W;}if(I){if(O && 0 < S.length)N.decrypt(S,F,{result:function(W){X=Q?u.SB.sE(Q,W):W;E(F,G,J,I,K,L,H,O,Q,N,W,X);},error:function(W){k.default(C,function(){W instanceof p.default && (W.Yb(y),W.Sd(A));throw W;});}});else {M=S;X=Q?u.SB.sE(Q,M):M;E(F,G,J,I,K,L,H,O,Q,N,M,X);}}else (M=S,X=0 == S.length?new Uint8Array(0):null,E(F,G,J,I,K,L,H,O,Q,N,M,X));});}function E(F,G,J,N,I,M,K,L,H,O,P,Q){k.default(C,function(){var S;if(-1 != M && (!y || M != y.Ye))throw new m.default(g.default.nva,"st mtserialnumber " + M + "; mt " + y).Yb(y).Sd(A);if(-1 != K && (!A || K != A.Ye))throw new m.default(g.default.ova,"st uitserialnumber " + K + "; uit " + A).Yb(y).Sd(A);S=new t(G,J,N);return new w(x,I,Q,-1 != M?y:null,-1 != K?A:null,L,H,O,S);});}k.default(C,function(){var F,G,J,N;F=x.Jf;G=null;B && (G=c(F,z,B));try{J=z.Uc("tokendata");if(0 == J.length)throw new d.default(g.default.l3a,"servicetoken " + z).Yb(y).Sd(A);N=z.Uc("signature");}catch(I){if(I instanceof e.default)throw new d.default(g.default.oe,"servicetoken " + z,I).Yb(y).Sd(A);throw I;}G?G.verify(J,N,F,{result:function(I){D(F,J,N,G,I);},error:function(I){k.default(C,function(){I instanceof p.default && I.Yb(y);throw I;});}}):D(F,J,N,G,!1);});};},85065:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v;Object.defineProperty(b,"__esModule",{value:!0});b.hMa=b.fYb=b.r5a=void 0;c=a(5163);r=a(48235);n=c.__importDefault(a(10690));d=c.__importDefault(a(51411));g=c.__importDefault(a(42979));e=c.__importDefault(a(42458));f=c.__importDefault(a(6838));l=c.__importDefault(a(1966));h=c.__importDefault(a(88257));k=c.__importDefault(a(36114));m=a(44127);p=(function(){return function(q,u,t,w){this.nSa=q;this.Lo=u;this.sj=t;this.Qo=w;};})();v=(function(q){function u(t,w,x,z,y,A,B,C){var D,E,F,G;D=q.call(this) || this;if(x.getTime() < w.getTime())throw new n.default("Cannot construct a user ID token that expires before its renewal window opens.");if(!z)throw new n.default("Cannot construct a user ID token without a master token.");if(0 > y || y > d.default.me)throw new n.default("Serial number " + y + " is outside the valid range.");w=Math.floor(w.getTime() / 1E3);x=Math.floor(x.getTime() / 1E3);z=z.Ye;if(C){E=C.nSa;F=C.Lo;G=C.sj;C=C.Qo;}else (E=t.Jf.Ae(),A && E.put("issuerdata",A),E.put("identity",B.Wz()),G=F=null,C=!0);D.ij=t;D.$N=w;D.IL=x;D.Ki=z;D.Ye=y;D.nSa=E;D.Jbc=A;D.hP=B;D.Lo=F;D.sj=G;D.Qo=C;D.encodings={};return D;}c.__extends(u,q);u.prototype.B3=function(){return this.hP?!0:!1;};u.prototype.L2=function(){return new Date(1E3 * this.$N);};u.prototype.Cr=function(t){return t?this.L2().getTime() <= t.getTime():this.Qo?this.L2().getTime() <= this.ij.getTime():!0;};u.prototype.Xl=function(){return new Date(1E3 * this.IL);};u.prototype.vv=function(t){return t?this.Xl().getTime() <= t.getTime():this.Qo?this.Xl().getTime() <= this.ij.getTime():!1;};u.prototype.Hg=function(t){return t && t.Ye == this.Ki;};u.prototype.Al=function(t,w,x){var y;function z(A,B){g.default(x,function(){var C;C=t.Ae();C.put("tokendata",A);C.put("signature",B);t.Ai(C,w,{result:function(D){g.default(x,function(){return y.encodings[w.name]=D;});},error:x.error});});}y=this;g.default(x,function(){var A;if(y.encodings[w.name])return y.encodings[w.name];if(null != y.Lo || null != y.sj)z(y.Lo,y.sj);else {try{A=y.ij.sba;}catch(B){if(B instanceof e.default)throw new f.default("Error creating the MSL crypto context.",B);throw B;}t.Ai(y.nSa,w,{result:function(B){A.encrypt(B,t,w,{result:function(C){g.default(x,function(){var D;D=t.Ae();D.put("renewalwindow",y.$N);D.put("expiration",y.IL);D.put("mtserialnumber",y.Ki);D.put("serialnumber",y.Ye);D.put("userdata",C);t.Ai(D,w,{result:function(E){A.sign(E,t,w,{result:function(F){z(E,F);},error:function(F){g.default(x,function(){if(F instanceof e.default)throw new f.default("Error signing the token data.",F);throw F;});}});},error:x.error});});},error:function(C){g.default(x,function(){if(C instanceof e.default)throw new f.default("Error encrypting the user data.",C);throw C;});}});},error:x.error});}});};u.prototype.toString=function(){var t,w;t=this.ij.Jf;w=t.Ae();w.put("renewalwindow",this.$N);w.put("expiration",this.IL);w.put("mtserialnumber",this.Ki);w.put("serialnumber",this.Ye);w.put("userdata","(redacted)");t=t.Ae();t.put("tokendata",w);t.put("signature",this.sj?this.sj:"(null)");return t.toString();};u.prototype.equals=function(t){return this === t?!0:t instanceof u?this.Ye == t.Ye && this.Ki == t.Ki:!1;};u.prototype.eh=function(){return this.Ye + ":" + this.Ki;};return u;})(r.Bm);b.r5a=v;b.fYb=function(q,u,t,w,x,z,y,A){g.default(A,function(){return new v(q,u,t,w,x,z,y,null);});};b.hMa=function(q,u,t,w){function x(A,B,C,D,E){g.default(w,function(){var F,G,J,N,I,M;try{F=A.pn(C);G=F.Zl("renewalwindow");J=F.Zl("expiration");if(J < G)throw new l.default(k.default.EJb,"usertokendata " + F).Yb(t);N=F.Zl("mtserialnumber");if(0 > N || N > d.default.me)throw new l.default(k.default.IJb,"usertokendata " + F).Yb(t);I=F.Zl("serialnumber");if(0 > I || I > d.default.me)throw new l.default(k.default.JJb,"usertokendata " + F).Yb(t);M=F.Uc("userdata");if(0 == M.length)throw new l.default(k.default.NJb).Yb(t);}catch(K){if(K instanceof f.default)throw new h.default(k.default.LJb,"usertokendata " + m.qh(C),K).Yb(t);throw K;}E?B.decrypt(M,A,{result:function(K){z(A,C,D,E,G,J,N,I,K);},error:function(K){g.default(w,function(){K instanceof e.default && K.Yb(t);throw K;});}}):y(C,D,E,G,J,N,I,null,null,null);});}function z(A,B,C,D,E,F,G,J,N){g.default(w,function(){var I,M,K;try{I=A.pn(N);M=I.has("issuerdata")?I.lo("issuerdata",A):null;K=I.Jd("identity");if(!K || 0 == K.length)throw new l.default(k.default.FJb,"userdata " + I).Yb(t);}catch(L){if(L instanceof f.default)throw new h.default(k.default.OJb,"userdata " + m.qh(N),L).Yb(t);throw L;}(null).qHc(q,K,{result:function(L){g.default(w,function(){if(!L)throw new n.default("TokenFactory.createUser() returned null in violation of the interface contract.");y(B,C,D,E,F,G,J,I,M,L);});},error:w.error});});}function y(A,B,C,D,E,F,G,J,N,I){g.default(w,function(){var M,K,L;M=new Date(1E3 * D);K=new Date(1E3 * E);if(!t || F != t.Ye)throw new l.default(k.default.rwa,"uit mtserialnumber " + F + "; mt " + t).Yb(t);L=new p(J,A,B,C);return new v(q,M,K,t,G,N,I,L);});}g.default(w,function(){var A,B,C,D;A=q.sba;B=q.Jf;try{C=u.Uc("tokendata");if(0 == C.length)throw new h.default(k.default.KJb,"useridtoken " + u).Yb(t);D=u.Uc("signature");}catch(E){if(E instanceof f.default)throw new h.default(k.default.oe,"useridtoken " + u,E).Yb(t);throw E;}A.verify(C,D,B,{result:function(E){x(B,A,C,D,E);},error:w.error});});};},23710:function(r,b,a){var c,n,d,g,e,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.$pb=b.Mpa=void 0;c=a(5163);r=a(5248);n=a(91331);d=c.__importDefault(a(42979));g=c.__importDefault(a(6838));e=c.__importDefault(a(88257));f=c.__importDefault(a(36114));l=(function(h){function k(m,p){var v;v=h.call(this,n.zaa.Dpa) || this;v.email=m;v.password=p;return v;}c.__extends(k,h);k.prototype.XL=function(m,p){var v;v=this;d.default(p,function(){var q;q=m.Ae();q.put("email",v.email);q.put("password",v.password);return q;});};k.prototype.equals=function(m){return this === m?!0:m instanceof k?h.prototype.equals.call(this,m) && this.email == m.email && this.password == m.password:!1;};return k;})(r.uwa);b.Mpa=l;b.$pb=function(h){var k,m;try{k=h.Jd("email");m=h.Jd("password");return new l(k,m);}catch(p){if(p instanceof g.default)throw new e.default(f.default.oe,"email/password authdata " + h,p);throw p;}};},25606:function(r,b,a){var c,n,d,g,e,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.xWa=void 0;c=a(5163);n=a(91331);d=c.__importDefault(a(42979));g=a(23710);e=c.__importDefault(a(10690));f=c.__importDefault(a(88361));l=c.__importDefault(a(36114));r=(function(h){function k(m,p){var v;v=h.call(this,n.zaa.Dpa) || this;v.Xk=m;v.PFc=p;return v;}c.__extends(k,h);k.prototype.O0=function(m,p,v){d.default(v,function(){return g.$pb(p);});};k.prototype.$9a=function(m,p,v){var q;q=this;d.default(v,function(){var u,t;if(!(m instanceof g.Mpa))throw new e.default("Incorrect authentication data type " + m + ".");u=m.email;t=m.password;if(!u || 0 == u.trim().length || !t || 0 == t.trim().length)throw new f.default(l.default.uDb).Ie(m);u=q.Xk.wKc(u,t);if(null == u)throw new f.default(l.default.hWa).Ie(m);if(p && (t=p.hP,!u.equals(t)))throw new f.default(l.default.MJb,"uad user " + u + "; uit user " + t).Ie(m);return u;});};return k;})(a(49137).vwa);b.xWa=r;},49123:function(r,b,a){var c,n,d,g,e,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.iqb=b.Usa=void 0;c=a(5163);r=a(5248);n=a(32256);d=c.__importDefault(a(42979));g=c.__importDefault(a(6838));e=c.__importDefault(a(88257));f=c.__importDefault(a(36114));l=(function(h){function k(m,p){var v;v=h.call(this,n.w$.Qsa) || this;v.T4=m;v.M6=p;return v;}c.__extends(k,h);k.prototype.XL=function(m,p){var v;v=this;d.default(p,function(){var q;q=m.Ae();v.T4 && q.put("netflixid",v.T4);v.M6 && q.put("securenetflixid",v.M6);return q;});};k.prototype.equals=function(m){return this === m?!0:m instanceof k?h.prototype.equals.call(this,m) && this.T4 == m.T4 && this.M6 == m.M6:!1;};return k;})(r.uwa);b.Usa=l;b.iqb=function(h){var k,m;try{k=h.has("netflixid")?h.Jd("netflixid"):void 0;m=h.has("securenetflixid")?h.Jd("securenetflixid"):void 0;return new l(k,m);}catch(p){if(p instanceof g.default)throw new e.default(f.default.oe,"Netflix ID authentication data " + h,p);throw p;}};},79925:function(r,b,a){var c,n,d,g,e,f,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.e0a=void 0;c=a(5163);n=a(32256);d=c.__importDefault(a(42979));g=a(49123);e=c.__importDefault(a(10690));f=c.__importDefault(a(88361));l=c.__importDefault(a(99075));h=c.__importDefault(a(36114));r=(function(k){function m(){return k.call(this,n.w$.Qsa) || this;}c.__extends(m,k);m.prototype.O0=function(p,v,q){d.default(q,function(){return g.iqb(v);});};m.prototype.$9a=function(p){var v;if(!(p instanceof g.Usa))throw new e.default("Incorrect authentication data type " + p + ".");v=p.M6;if(!p.T4 || !v)throw new f.default(l.default.qGb).Ie(p);throw new f.default(h.default.CJb,this.scheme).Ie(p);};return m;})(a(49137).vwa);b.e0a=r;},32256:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.w$=void 0;c=a(5163);r=(function(n){function d(g){return n.call(this,g) || this;}c.__extends(d,n);return d;})(c.__importDefault(a(91331)).default);b["default"]=r;b.w$={Qsa:new r("NETFLIXID"),vEc:new r("SSO"),NEc:new r("SWITCH_PROFILE"),FCc:new r("MDX"),OFb:new r("MIGRATION")};},5248:function(r,b,a){var c,n,d,g,e,f;Object.defineProperty(b,"__esModule",{value:!0});b.pqb=b.uwa=void 0;c=a(5163);r=a(48235);n=c.__importDefault(a(42979));d=c.__importDefault(a(88361));g=c.__importDefault(a(36114));e=c.__importDefault(a(6838));f=c.__importDefault(a(88257));a=(function(l){function h(k){var m;m=l.call(this) || this;m.scheme=k;m.encodings={};return m;}c.__extends(h,l);h.prototype.equals=function(k){return this === k?!0:k instanceof h?this.scheme == k.scheme:!1;};h.prototype.Al=function(k,m,p){var v;v=this;n.default(p,function(){if(v.encodings[m.name])return v.encodings[m.name];v.XL(k,{result:function(q){n.default(p,function(){var u;u=k.Ae();u.put("scheme",v.scheme.name);u.put("authdata",q);k.Ai(u,m,{result:function(t){n.default(p,function(){return v.encodings[m.name]=t;});},error:p.error});});},error:p.error});});};return h;})(r.Bm);b.uwa=a;b.pqb=function(l,h,k,m){n.default(m,function(){var p,v,q;try{p=k.Jd("scheme");v=l.C8b(p);if(!v)throw new d.default(g.default.AJb,p);q=l.dib(v);if(!q)throw new d.default(g.default.l5a,v.name);q.O0(h,k.lo("authdata",l.Jf),m);}catch(u){if(u instanceof e.default)throw new f.default(g.default.oe,"userauthdata " + k,u);throw u;}});};},49137:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vwa=void 0;b.vwa=(function(){return function(a){this.scheme=a;};})();},91331:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zaa=void 0;r=(function(){function a(c){this.name=c;a.oy[c]=this;}a.prototype.toString=function(){return this.name;};a.P2=function(c){return a.oy[c]?a.oy[c]:null;};a.oy={};return a;})();b["default"]=r;b.zaa={Dpa:new r("EMAIL_PASSWORD"),oFc:new r("USER_ID_TOKEN")};},14945:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b["default"]=(function(){function a(){}a.equal=function(c,n){if(c === n)return !0;if(!c || !n || c.length != n.length)return !1;for(var d=0;d < c.length;++d)if(c[d] != n[d])return !1;return !0;};a.O3=function(c){return c && c.constructor == Uint8Array;};a.sga=function(c){var g;if(!a.O3(c) && !Array.isArray(c))throw new TypeError("Cannot compute the hash code of " + c);for(var n=1,d=0;d < c.length;++d){g=c[d];if("number" !== typeof g)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + g);n=31 * n + g & 4294967295;}return n;};a.contains=function(c,n){var l;if(c === n)return !0;if(!c || !n)return !1;n instanceof Array || (n=[n]);for(var d=0;d < n.length;++d){for(var g=n[d],e=!1,f=0;f < c.length;++f){l=c[f];if(g.equals && "function" === typeof g.equals && g.equals(l) || g == l){e=!0;break;}}if(!e)return !1;}return !0;};a.K0=function(c,n){return a.contains(c,n) && (c.length == n.length || a.contains(n,c));};a.concat=function(c){var n,d,g,e,f;g=c.length;e=0;for(d=n=0;d < g;d++)n+=c[d].length;n=new Uint8Array(n);for(d=0;d < g;d++){f=c[d];n.set(f,e);e+=f.length;}return n;};return a;})();},42979:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b["default"]=function(a,c,n){var d,g;void 0 === n && (n=void 0);n && (d=n);if("object" !== typeof a || "function" !== typeof a.result || "function" !== typeof a.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{g=c.call(d,a);void 0 !== g && a.result(g);}catch(e){try{a.error(e);}catch(f){}}};},44127:function(r,b){var a,c,n;Object.defineProperty(b,"__esModule",{value:!0});b.fj=b.qh=b.Qub=b.fUa=b.Fbc=void 0;a=/\s*/g;c=/^([A-Za-z0-9+/_-]{4})*([A-Za-z0-9+/_-]{4}|[A-Za-z0-9+/_-]{3}=|[A-Za-z0-9+/_-]{2}==)?$/;b.Fbc=function(d,g){d=d.replace(a,"");if(g && (g=d.length % 4)){g=4 - g;for(var e=0;e < g;++e)d+="=";}return 0 == d.length % 4 && c.test(d)?!0:!1;};b.fUa=(function(){return function(){};})();b.Qub=function(d){if(!d)throw new TypeError("Base64 implementation cannot be null.");n=d;};b.qh=function(d,g){return n.encode(d,g);};b.fj=function(d,g){return n.decode(d,g);};},41294:function(r,b,a){var n,d,g,e,f,l,h,k;function c(m,p){m=h[m & 63];if(p){if("+" == m)return "-";if("/" == m)return "_";}return m;}Object.defineProperty(b,"__esModule",{value:!0});b.gUa=void 0;n=a(5163);r=a(44127);d=String.fromCharCode(9);g=String.fromCharCode(10);e=String.fromCharCode(13);f=String.fromCharCode(32);l=String.fromCharCode(127);h=(function(){var m,p;p=[];for(m=0;26 > m;m++)p[m]=String.fromCharCode(65 + m);for(m=26;52 > m;m++)p[m]=String.fromCharCode(97 + (m - 26));for(m=52;62 > m;m++)p[m]=String.fromCharCode(48 + (m - 52));p[62]="+";p[63]="/";return p;})();k=(function(){var m,p;p=[];for(m=0;128 > m;m++)p[m]=-1;for(m=65;90 >= m;m++)p[m]=m - 65;for(m=97;122 >= m;m++)p[m]=m - 97 + 26;for(m=48;57 >= m;m++)p[m]=m - 48 + 52;p[43]=62;p[47]=63;p[61]=l;return p;})();r=(function(m){function p(){return null !== m && m.apply(this,arguments) || this;}n.__extends(p,m);p.prototype.encode=function(v,q){var u,t,w;u="";t=v.length;for(w=0;3 <= t;(t-=3,w+=3))u+=c(v[w] >> 2) + c((v[w] & 3) << 4 | v[w + 1] >> 4 & 15) + c((v[w + 1] & 15) << 2 | v[w + 2] >> 6 & 3) + c(v[w + 2] & 63);1 == t?(u+=c(v[w] >> 2) + c((v[w] & 3) << 4),q || (u+="==")):2 == t && (u+=c(v[w] >> 2) + c((v[w] & 3) << 4 | v[w + 1] >> 4 & 15) + c((v[w + 1] & 15) << 2),q || (u+="="));return u;};p.prototype.decode=function(v,q){var C,D;for(var u=!1,t=v.length,w=Array(Math.floor(3 * t / 4)),x=0,z=Array(4),y=0,A=!1,B=0;B < t;++B){C=v[B];D=C.charCodeAt(0);isNaN(D)?D=void 0:(D=k[D],q && ("-" == D?D="+":"_" == D && (D="/")));if(void 0 === D || -1 == D)C != f && C != d && C != g && C != e && (u=!0);else if((A && (u=!0),z[y++]=D,4 == y)){if(z[0] == l || z[1] == l)u=!0;if(z[2] == l || z[3] == l)A=!0;w[x++]=z[0] << 2 | z[1] >> 4;z[2] != l && (w[x++]=z[1] << 4 | z[2] >> 2);z[3] != l && (w[x++]=z[2] << 6 | z[3]);y=0;}}q && 2 <= y && (w[x++]=z[0] << 2 | z[1] >> 4,3 == y && z[2] != l && (w[x++]=z[1] << 4 | z[2] >> 2),y=0);0 != y && (u=!0);if(u)throw Error("Invalid Base64 encoded string: " + v);v=new Uint8Array(x);for(t=u=0;u < w.length;++u)q && w[u] == l || (v[u]=w[t++]);return v;};return p;})(r.fUa);b.gUa=r;},89752:function(r,b,a){var d,g;function c(e){return e == d.default.me?1:e + 1;}function n(e){if(0 === Object.keys(e.Yk).length)return 0;for(var f=c(e.Pg);!e.Yk[f];)f=c(f);return f;}Object.defineProperty(b,"__esModule",{value:!0});b.fX=void 0;r=a(5163);d=r.__importDefault(a(51411));g=r.__importDefault(a(79804));a=(function(){function e(){this.Gm=[];this.Yk={};this.a_=this.Pg=0;}e.prototype.cancel=function(f){var l;if(this.Yk[f]){l=this.Yk[f];delete this.Yk[f];f == this.Pg && (this.Pg=n(this));l.call(this,void 0);}};e.prototype.$ca=function(){for(;0 !== this.Pg;)this.cancel(this.Pg);};e.prototype.I5=function(f,l){var h,k;h=this;k=c(this.a_);this.a_=k;g.default(l,function(){var m,p;if(0 < h.Gm.length){m=h.Gm.shift();setTimeout(function(){l.result(m);},0);}else {-1 != f && (p=setTimeout(function(){delete h.Yk[k];k == h.Pg && (h.Pg=n(h));l.timeout();},f));h.Yk[k]=function(v){clearTimeout(p);setTimeout(function(){l.result(v);},0);};h.Pg || (h.Pg=k);}});return k;};e.prototype.add=function(f){var l;if(this.Pg){l=this.Yk[this.Pg];delete this.Yk[this.Pg];this.Pg=n(this);l.call(this,f);}else this.Gm.push(f);};return e;})();b.fX=a;},79804:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163).__importDefault(a(42979));b["default"]=function(n,d,g){void 0 === g && (g=void 0);if("object" !== typeof n || "function" !== typeof n.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");c.default(n,d,g);};},75513:function(r,b,a){var n,d,g,e;function c(f,l){l || (l=f.length);return f.reduce(function(h,k,m){return m < l?h + String.fromCharCode(k):h;},"");}Object.defineProperty(b,"__esModule",{value:!0});b.OZa=void 0;n=a(5163).__importDefault(a(48795));d={};for(r=0;256 > r;++r)(a=c([r]),d[a]=r);g=Object.keys(d).length;e=[];for(r=0;256 > r;++r)e[r]=[r];r=(function(){function f(){}f.prototype.Lm=function(l){var k,y;function h(A,B){for(var C;0 < B;){if(u >= q.length)return !1;B > t?(C=A,C>>>=B - t,q[u]|=C & 255,B-=t,t=8,++u):B <= t && (C=A,C<<=t - B,C&=255,C>>>=8 - t,q[u]|=C & 255,t-=B,B=0,0 == t && (t=8,++u));}return !0;}k={};for(m in d)k[m]=d[m];for(var m=g,p=[],v=8,q=new Uint8Array(l.length),u=0,t=8,w,x,z=0;z < l.length;++z){y=l[z];p.push(y);w=c(p);x=k[w];if(void 0 === x){p=c(p,p.length - 1);if(!h(k[p],v))return null;0 != m >> v && ++v;k[w]=m++;p=[y];}}return 0 < p.length && (w=c(p),x=k[w],!h(x,v))?null:q.subarray(0,8 > t?u + 1:u);};f.prototype.sE=function(l,h){var z,y;for(var k=e.slice(),m=0,p=0,v=8,q=new Uint8Array(Math.ceil(1.5 * l.length)),u=0,t,w=[];m < l.length && !(8 * (l.length - m) - p < v);){for(var x=t=0;x < v;){z=Math.min(v - x,8 - p);y=l[m];y<<=p;y&=255;y>>>=8 - z;x+=z;p+=z;8 == p && (p=0,++m);t|=(y & 255) << v - x;}x=k[t];0 == w.length?++v:(x?w.push(x[0]):w.push(w[0]),k[k.length]=w,w=[],k.length == 1 << v && ++v,x || (x=k[t]));t=u + x.length;if(t > h * l.length)throw new n.default("Deflate ratio " + h + " exceeded. Aborting uncompression.");t >= q.length && (z=new Uint8Array(Math.ceil(1.5 * t)),z.set(q),q=z);q.set(x,u);u=t;w=w.concat(x);}return q.subarray(0,u);};return f;})();b.OZa=r;},53140:function(r,b,a){var c,n,d;Object.defineProperty(b,"__esModule",{value:!0});b.SB=void 0;r=a(5163);c=r.__importDefault(a(1966));n=r.__importDefault(a(36114));d=r.__importDefault(a(48795));b.SB=(function(){function g(){}g.register=function(e,f){f?g.Aga[e]=f:delete g.Aga[e];};g.Mrc=function(e){if(1 > e)throw new RangeError("The maximum deflate ratio must be at least one.");g.VJa=e;};g.UFa=function(){return g.VJa;};g.Lm=function(e,f){var l,h;l=g.Aga[e];if(!l)throw new c.default(n.default.h5a,e);try{h=l.Lm(f);return h && h.length < f.length?h:null;}catch(k){if(k instanceof d.default)throw new c.default(n.default.ZBb,"algo " + e,k);throw k;}};g.sE=function(e,f){var l;l=g.Aga[e];if(!l)throw new c.default(n.default.h5a,e);try{return l.sE(f,g.VJa);}catch(h){if(h instanceof d.default)throw new c.default(n.default.tJb,"algo " + e,h);throw h;}};g.Aga={};g.VJa=200;return g;})();},38470:function(r,b,a){var c,n,d;Object.defineProperty(b,"__esModule",{value:!0});b.Lsa=b.PDb=void 0;r=a(5163);c=r.__importDefault(a(51411));n=r.__importDefault(a(10690));b.PDb={wf:c.default.J.wf,ih:c.default.J.ih};d=0;a=(function(){function g(){var e;e=++d;if(0 >= e || !isFinite(e))throw new n.default("MSL context unique ID has overflowed. Are you sure you are using MSL context's correctly?");this.eNb=d;this.Z7a=!1;this.Ne=0;}g.prototype.pxc=function(e){var f;f=this.getTime() / 1E3;this.Ne=e.getTime() / 1E3 - f;this.Z7a=!0;};g.prototype.Ufa=function(){var e;if(!this.Z7a)return null;e=this.getTime() / 1E3 + this.Ne;return new Date(1E3 * e);};g.prototype.equals=function(e){return this === e?!0:!1;};g.prototype.eh=function(){return this.eNb.toString();};return g;})();b.Lsa=a;},80824:function(r,b,a){var c,n,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.Osa=void 0;r=a(5163);c=a(44127);n=a(53140);d=a(69193);a(31809);g=a(50441);r.__importDefault(a(90122));b.Osa=(function(){function e(){}e.ef=function(f){var l;l=f.hKb;l && c.Qub(l);if(l=f.vKb)for(var h in l)n.SB.register(h,l[h]);(h=f.UFa()) && n.SB.Mrc(h);(h=f.$Mb) && d.Wy.rPa(h);f=f.MGa();null !== f && void 0 !== f && g.NPa(f);};return e;})();},32260:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.$c=void 0;r=a(5163);c=r.__importDefault(a(51411));n=r.__importDefault(a(63053));b["default"]={RMc:function(d,g){if(d.length != g.length)return !1;for(var e=0,f=0;f < d.length;++f)e|=d[f] ^ g[f];return 0 == e;},v7b:function(d){var g,e;g=c.default.me;g=!("number" === typeof g && isFinite(g) && Math.floor(g) == g && Math.abs(g) <= Number.MAX_SAFE_INTEGER) || 0 > g?!1:0 == g?!0:0 == (g & g - 1);d=d.yhb();do {e=d.Kgc();g && (e&=c.default.me - 1);}while(0 > e || e > c.default.me);return e;},bOc:function(d){return d.sort().filter(function(g,e,f){return !e || g != f[e - 1];});}};b.$c=function(d){return d instanceof n.default;};},18461:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ata=void 0;r=(function(){function a(){}a.prototype.Eac=function(c){for(var n=1;n < arguments.length;n++);return !1;};return a;})();b.ata=r;},90122:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});"undefined" !== typeof Promise && (a=Promise);b["default"]={setImpl:function(c){a=c;},create:function(c){return new a(c);}};},31809:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.O2a=void 0;c=0 - a(5163).__importDefault(a(51411)).default.me;"undefined" !== typeof Ba && (n=Ba.msCrypto || Ba.crypto);r=(function(){function d(){}d.prototype.Kgc=function(){var e;for(var g=c;g == c;){g=new Uint8Array(7);n.getRandomValues(g);e=16777216 * ((g[6] & 31) << 24 | g[5] << 16 | g[4] << 8 | g[3]) + (g[2] << 16 | g[1] << 8 | g[0]);g=g[6] & 128?-e - 1:e;}return g;};d.prototype.Ggc=function(g){var f,l;for(var e=0;;){f=Math.min(65536,g.length - e);if(0 == f)break;l=new Uint8Array(f);n.getRandomValues(l);g.set(l,e);e+=f;}};return d;})();b.O2a=r;},74015:function(r,b,a){var g,e,f;function c(l){return l == g.default.me?1:l + 1;}function n(l){if(0 === Object.keys(l.Qu).length)return 0;for(var h=c(l.Rw);!l.Qu[h];)h=c(h);return h;}function d(l){if(0 === Object.keys(l.mz).length)return 0;for(var h=c(l.Gs);!l.mz[h];)h=c(h);return h;}Object.defineProperty(b,"__esModule",{value:!0});b.eva=void 0;r=a(5163);g=r.__importDefault(a(51411));e=r.__importDefault(a(79804));f=r.__importDefault(a(10690));a=(function(){function l(){this.PQ={};this.Qu={};this.UQ=null;this.mz={};this.kba=this.Gs=this.Rw=0;}l.prototype.cancel=function(h){var k;if(this.Qu[h]){k=this.Qu[h];delete this.Qu[h];h == this.Rw && (this.Rw=n(this));k.call(this,!0);}this.mz[h] && (k=this.mz[h],delete this.mz[h],h == this.Gs && (this.Gs=d(this)),k.call(this,!0));};l.prototype.$ca=function(){for(;0 !== this.Gs;)this.cancel(this.Gs);for(;0 !== this.Rw;)this.cancel(this.Rw);};l.prototype.cnc=function(h,k){var m,p;m=this;p=c(this.kba);this.kba=p;e.default(k,function(){var v;if(!m.UQ && 0 === Object.keys(m.mz).length)return (m.PQ[p]=!0,p);-1 != h && (v=setTimeout(function(){delete m.Qu[p];p == m.Rw && (m.Rw=n(m));k.timeout();},h));m.Qu[p]=function(q){clearTimeout(v);q?setTimeout(function(){k.result(void 0);},0):(m.PQ[p]=!0,setTimeout(function(){k.result(p);},0));};m.Rw || (m.Rw=p);});return p;};l.prototype.mAb=function(h,k){var m,p;m=this;p=c(this.kba);this.kba=p;e.default(k,function(){var v;if(0 === Object.keys(m.PQ).length && 0 === Object.keys(m.Qu).length && !m.UQ)return m.UQ=p;-1 != h && (v=setTimeout(function(){delete m.mz[p];p == m.Gs && (m.Gs=d(m));k.timeout();},h));m.mz[p]=function(q){clearTimeout(v);q?setTimeout(function(){k.result(void 0);},0):(m.UQ=p,setTimeout(function(){k.result(p);},0));};m.Gs || (m.Gs=p);});};l.prototype.unlock=function(h){var k;if(h == this.UQ)this.UQ=null;else {if(!this.PQ[h])throw new f.default("There is no reader or writer with ticket number " + h + ".");delete this.PQ[h];}if(this.Gs)0 < Object.keys(this.PQ).length || (h=this.mz[this.Gs],delete this.mz[this.Gs],this.Gs=d(this),h.call(this,!1));else {for(h=this.Rw;0 < Object.keys(this.Qu).length;h=c(h))if(this.Qu[h]){k=this.Qu[h];delete this.Qu[h];k.call(this,!1);}this.Rw=0;}};return l;})();b.eva=a;},81214:function(r,b,a){var d,g,e;function c(f){return f == d.default.me?1:f + 1;}function n(f){if(0 === Object.keys(f.Yk).length)return 0;for(var l=c(f.Pg);!f.Yk[l];)l=c(l);return l;}Object.defineProperty(b,"__esModule",{value:!0});b.L3a=void 0;r=a(5163);d=r.__importDefault(a(51411));g=r.__importDefault(a(79804));e=r.__importDefault(a(10690));a=(function(){function f(l){this.ILb=this.BQ=l;this.Yk={};this.a_=this.Pg=0;}f.prototype.cancel=function(l){this.Yk[l] && (this.Yk[l].call(this,!1),delete this.Yk[l],l == this.Pg && (this.Pg=n(this)));};f.prototype.$ca=function(){for(;0 !== this.Pg;)this.cancel(this.Pg);};f.prototype.wait=function(l,h){var k,m;k=this;if(0 < this.BQ)return (--this.BQ,setTimeout(function(){h.result(!0);},0),0);m=c(this.a_);this.a_=m;g.default(h,function(){var p;-1 != l && (p=setTimeout(function(){delete k.Yk[m];m == k.Pg && (k.Pg=n(k));h.timeout();},l));k.Yk[m]=function(v){clearTimeout(p);if(v){if(0 >= k.BQ){setTimeout(function(){h.error(new e.default("Semaphore waiter signaled without any available resources."));},0);return;}--k.BQ;}setTimeout(function(){h.result(v);},0);};k.Pg || (k.Pg=m);});return m;};f.prototype.signal=function(){var l;if(this.BQ == this.ILb)throw new e.default("Semaphore signaled despite all resources being already available.");++this.BQ;if(this.Pg){l=this.Yk[this.Pg];delete this.Yk[this.Pg];this.Pg=n(this);l.call(this,!0);}};return f;})();b.L3a=a;},25137:function(r,b,a){var c,n,d,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.tQ=void 0;r=a(5163);c=r.__importDefault(a(51411));n=r.__importDefault(a(10690));d=r.__importDefault(a(1966));g=r.__importDefault(a(36114));e=a(32260);a=(function(){function f(){this.Zp={};this.NR={};this.gw={};this.Y4={};this.uW={};this.mU={};this.tW={};}f.prototype.b7=function(l,h){var k;if(h){k=l.eh();this.Zp[k]=l;this.NR[k]=h;}else this.Msb(l);};f.prototype.Yz=function(){var l,h,k;l=null;for(h in this.Zp){k=this.Zp[h];if(!l || k.bbc(l))l=k;}return l;};f.prototype.P6b=function(l){var h;l=l.Ye;h=void 0 !== this.Y4[l]?this.Y4[l]:0;if(0 > h || h > c.default.me)throw new n.default("Non-replayable ID " + h + " is outside the valid range.");h=h == c.default.me?0:h + 1;return this.Y4[l]=h;};f.prototype.wx=function(l){return this.NR[l.eh()];};f.prototype.Msb=function(l){var h,k,m,p,v;h=this;k=l.eh();if(this.Zp[k]){m=l.Ye;for(p in this.Zp){v=this.Zp[p];if(!v.equals(l) && v.Ye == m){delete this.Zp[k];delete this.NR[k];return;}}Object.keys(this.gw).forEach(function(q){q=h.gw[q];q.Hg(l) && h.j6(q);});try{this.Rka(null,l,null);}catch(q){if(e.$c(q))throw new n.default("Unexpected exception while removing master token bound service tokens.",q);throw q;}delete this.Y4[m];delete this.Zp[k];delete this.NR[k];}};f.prototype.OTb=function(){[this.Zp,this.NR,this.Y4,this.gw,this.tW,this.mU].forEach(function(l){for(var h in l)delete l[h];});};f.prototype.Xba=function(l,h){var k,m;k=!1;for(m in this.Zp)if(h.Hg(this.Zp[m])){k=!0;break;}if(!k)throw new d.default(g.default.GJb,"uit mtserialnumber " + h.Ki);this.gw[l]=h;};f.prototype.qv=function(l){return this.gw[l];};f.prototype.j6=function(l){var h,k,m,p;h=this;k=null;for(m in this.Zp){p=this.Zp[m];if(l.Hg(p)){k=p;break;}}Object.keys(this.gw).forEach(function(v){if(h.gw[v].equals(l)){try{h.Rka(null,k,l);}catch(q){if(e.$c(q))throw new n.default("Unexpected exception while removing user ID token bound service tokens.",q);throw q;}delete h.gw[v];}});};f.prototype.Wba=function(l){var h;h=this;l.forEach(function(k){var m,p;if(k.wv()){m=!1;for(p in h.Zp)if(k.Hg(h.Zp[p])){m=!0;break;}if(!m)throw new d.default(g.default.SIb,"st mtserialnumber " + k.Ki);}if(k.Dt()){m=!1;for(var v in h.gw)if(k.Hg(h.gw[v])){m=!0;break;}if(!m)throw new d.default(g.default.UIb,"st uitserialnumber " + k.dw);}});l.forEach(function(k){var m;if(k.Cbc())h.uW[k.eh()]=k;else {if(k.wv()){m=h.mU[k.Ki];m || (m={});m[k.eh()]=k;h.mU[k.Ki]=m;}k.Dt() && ((m=h.tW[k.dw]) || (m={}),m[k.eh()]=k,h.tW[k.dw]=m);}});};f.prototype.FG=function(l,h){var k,m,p;if(h){if(!l)throw new d.default(g.default.HJb);if(!h.Hg(l))throw new d.default(g.default.rwa,"uit mtserialnumber " + h.Ki + "; mt " + l.Ye);}k={};for(m in this.uW){p=this.uW[m];k[p.eh()]=p;}if(l && (m=this.mU[l.Ye]))for(var v in m)(p=m[v],p.Dt() || (k[v]=p));if(h && (h=this.tW[h.Ye]))for(var q in h)(v=h[q],v.Hg(l) && (k[q]=v));l=[];for(var u in k)l.push(k[u]);return l;};f.prototype.Rka=function(l,h,k){var m,p,v;m=this;if(k && h && !k.Hg(h))throw new d.default(g.default.rwa,"uit mtserialnumber " + k.Ki + "; mt " + h.Ye);!l || h || k || Object.keys(this.uW).forEach(function(q){m.uW[q].name == l && delete m.uW[q];});h && !k && (p=this.mU[h.Ye]) && (Object.keys(p).forEach(function(q){var u;u=p[q];l && u.name != l || delete p[q];}),this.mU[h.Ye]=p);k && (v=this.tW[k.Ye]) && (h=Object.keys(v),h.forEach(function(q){var u;u=v[q];l && u.name != l || delete v[q];}),this.tW[k.Ye]=v);};return f;})();b.tQ=a;},69193:function(r,b){var c;function a(n){if(!n)throw new TypeError("Text encoding implementation cannot be null.");c=n;}Object.defineProperty(b,"__esModule",{value:!0});b.Wy=b.rPa=b.D4a=b.Iy=void 0;b.Iy={aC:"utf-8",rFc:"utf-16"};b.D4a=(function(){return function(){};})();b.rPa=a;b.Wy={rPa:a,Jd:function(n,d){void 0 === d && (d=b.Iy.aC);return c.Jd(n,d);},Uc:function(n,d){void 0 === d && (d=b.Iy.aC);return c.Uc(n,d);}};},14348:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.saa=void 0;c=a(5163);n=a(69193);r=(function(d){function g(){return null !== d && d.apply(this,arguments) || this;}c.__extends(g,d);g.prototype.Jd=function(e,f){if(!f || f === n.Iy.aC){f=0;for(var l,h=e.length,k="";f < h;){l=e[f++];if(l & 128)if(192 === (l & 224))l=((l & 31) << 6) + (e[f++] & 63);else if(224 === (l & 240))l=((l & 15) << 12) + ((e[f++] & 63) << 6) + (e[f++] & 63);else throw Error("unsupported character");k+=String.fromCharCode(l);}return k;}throw Error("unsupported encoding");};g.prototype.Uc=function(e,f){var l,h,k,m;if(!f || f === n.Iy.aC){f=e.length;l=0;k=0;for(h=f;h--;){m=e.charCodeAt(h);128 > m?l++:l=2048 > m?l + 2:l + 3;}l=new Uint8Array(l);for(h=0;h < f;h++)(m=e.charCodeAt(h),128 > m?l[k++]=m:(2048 > m?l[k++]=192 | m >>> 6:(l[k++]=224 | m >>> 12,l[k++]=128 | m >>> 6 & 63),l[k++]=128 | m & 63));return l;}throw Error("unsupported encoding");};return g;})(n.D4a);b.saa=r;},62807:function(r,b,a){var c,n,d,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.L5a=void 0;c=a(5163);n=a(41294);d=a(75513);g=a(14348);e=a(51411);r=(function(f){function l(){var h,k,m,p;h=f.call(this) || this;k=new n.gUa();m={};m[e.JE.mra]=new d.OZa();p=new g.saa();h.hKb=k;h.vKb=m;h.$Mb=p;return h;}c.__extends(l,f);l.prototype.UFa=function(){return null;};l.prototype.MGa=function(){return null;};return l;})(a(80824).Osa);b.L5a=r;},69452:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p;c=a(76113);n=a(69808);d=a(48668);g=a(99939);e=a(97911);f=a(51832);b=a(67286);l=a(62680);h=a(26302);k=l("String.prototype.charAt");m=b("%Array.prototype.indexOf%");p=b("%Math.max%");r.exports=function(v){var q,u,t;q=1 < arguments.length?c(arguments[1]):0;if(m && !e(v) && f(q) && "undefined" !== typeof v)return -1 < m.apply(this,arguments);u=d(this);t=n(u.length);if(0 === t)return !1;for(q=0 <= q?q:p(0,t + q);q < t;){if(g(v,h(u)?k(u,q):u[q]))return !0;q+=1;}return !1;};},44878:function(r,b,a){var c;c=a(69452);r.exports=function(){return Array.prototype.includes && Array(1).includes(void 0)?Array.prototype.includes:c;};},26860:function(r,b,a){var c,n;c=a(14926);n=a(44878);r.exports=function(){var d;d=n();c(Array.prototype,{includes:d},{includes:function(){return Array.prototype.includes !== d;}});return d;};},17187:function(r){function b(){this.Zb=this.Zb || ({});this.Pw=this.Pw || void 0;}function a(n){return "function" === typeof n;}function c(n){return "object" === typeof n && null !== n;}r.exports=b;b.EventEmitter=b;b.prototype.Zb=void 0;b.prototype.Pw=void 0;b.QCa=10;b.prototype.setMaxListeners=function(n){if("number" !== typeof n || 0 > n || isNaN(n))throw TypeError("n must be a positive number");this.Pw=n;return this;};b.prototype.emit=function(n){var d,g,e,f;this.Zb || (this.Zb={});if("error" === n && (!this.Zb.error || c(this.Zb.error) && !this.Zb.error.length)){g=arguments[1];if(g instanceof Error)throw g;e=Error('Uncaught, unspecified "error" event. (' + g + ")");e.context=g;throw e;}e=this.Zb[n];if(void 0 === e)return !1;if(a(e))switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:(g=Array.prototype.slice.call(arguments,1),e.apply(this,g));}else if(c(e)){g=Array.prototype.slice.call(arguments,1);f=e.slice();e=f.length;for(d=0;d < e;d++)f[d].apply(this,g);}return !0;};b.prototype.addListener=function(n,d){if(!a(d))throw TypeError("listener must be a function");this.Zb || (this.Zb={});this.Zb.Cgc && this.emit("newListener",n,a(d.listener)?d.listener:d);this.Zb[n]?c(this.Zb[n])?this.Zb[n].push(d):this.Zb[n]=[this.Zb[n],d]:this.Zb[n]=d;c(this.Zb[n]) && !this.Zb[n].zSa && (d=void 0 === this.Pw?b.QCa:this.Pw) && 0 < d && this.Zb[n].length > d && (this.Zb[n].zSa=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this.Zb[n].length),"function" === typeof console.trace && console.trace());return this;};b.prototype.on=b.prototype.addListener;b.prototype.once=function(n,d){var e;function g(){this.removeListener(n,g);e || (e=!0,d.apply(this,arguments));}if(!a(d))throw TypeError("listener must be a function");e=!1;g.listener=d;this.on(n,g);return this;};b.prototype.removeListener=function(n,d){var g,e,f;if(!a(d))throw TypeError("listener must be a function");if(!this.Zb || !this.Zb[n])return this;g=this.Zb[n];e=g.length;f=-1;if(g === d || a(g.listener) && g.listener === d)(delete this.Zb[n],this.Zb.removeListener && this.emit("removeListener",n,d));else if(c(g)){for(;0 < e--;)if(g[e] === d || g[e].listener && g[e].listener === d){f=e;break;}if(0 > f)return this;1 === g.length?(g.length=0,delete this.Zb[n]):g.splice(f,1);this.Zb.removeListener && this.emit("removeListener",n,d);}return this;};b.prototype.removeAllListeners=function(n){var d;if(!this.Zb)return this;if(!this.Zb.removeListener)return (0 === arguments.length?this.Zb={}:this.Zb[n] && delete this.Zb[n],this);if(0 === arguments.length){for(d in this.Zb)"removeListener" !== d && this.removeAllListeners(d);this.removeAllListeners("removeListener");this.Zb={};return this;}d=this.Zb[n];if(a(d))this.removeListener(n,d);else if(d)for(;d.length;)this.removeListener(n,d[d.length - 1]);delete this.Zb[n];return this;};b.prototype.listeners=function(n){return this.Zb && this.Zb[n]?a(this.Zb[n])?[this.Zb[n]]:this.Zb[n].slice():[];};b.prototype.listenerCount=function(n){if(this.Zb){n=this.Zb[n];if(a(n))return 1;if(n)return n.length;}return 0;};b.listenerCount=function(n,d){return n.listenerCount(d);};},70834:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.K2=function(){return this.buffer.length - this.position;};a.prototype.Hfa=function(){return this.buffer.length;};a.prototype.Qr=function(){return this.buffer[this.position++];};a.prototype.rl=function(c){var n;n=this.position;this.position+=c;return this.Bbc(this.buffer)?this.buffer.subarray(n,this.position):this.buffer.slice(n,this.position);};a.prototype.Bbc=function(c){return void 0 !== c.subarray;};a.prototype.Vt=function(c){for(var n=0;c--;)n=256 * n + this.buffer[this.position++];return n;};a.prototype.CNa=function(c){for(var n="";c--;)n+=String.fromCharCode(this.buffer[this.position++]);return n;};a.prototype.hi=function(){return this.Vt(2);};a.prototype.Wt=function(){return this.Vt(4);};a.prototype.dV=function(){return this.Vt(8);};a.prototype.QA=function(c){for(var n,d="";c--;)(n=this.Qr(),d+=("0123456789ABCDEF")[n >>> 4] + ("0123456789ABCDEF")[n & 15]);return d;};a.prototype.DNa=function(c){for(var n=0,d=0;d < c;d++)n+=this.Qr() << (d << 3);return n;};a.prototype.cV=function(){return this.DNa(4);};a.prototype.B8=function(c){this.LW(c,2);};a.prototype.CE=function(c){this.LW(c,4);};a.prototype.jw=function(c){this.buffer[this.position++]=c;};a.prototype.LW=function(c,n){this.position+=n;for(var d=1;d <= n;d++)(this.buffer[this.position - d]=c & 255,c=Math.floor(c / 256));};a.prototype.BE=function(c){for(var n=0;n < c.length;n++)this.buffer[this.position++]=c.charCodeAt(n);};a.prototype.A8=function(c){for(var n=c.length,d=0;d < n;d++)this.buffer[this.position++]=c[d];};a.prototype.KW=function(c,n){this.A8(c.rl(n));};a.prototype.lAb=function(c){c=new a(c);for(var n,d;;)if((n=c.K2(),d=n >>> 14))(d=Math.min(4,d),this.jw(192 | d),this.KW(c,16384 * d));else {128 > n?this.jw(n):this.LW(n | 32768,2);this.KW(c,n);break;}};a.prototype.hsb=function(){var d;for(var c=[],n=new a(c);;){d=this.Qr();if(d & 128){if(128 == (d & 192))(d&=63,d=(d << 8) + this.Qr(),n.KW(this,d));else if((d&=63,0 < d && 4 >= d)){n.KW(this,16384 * d);continue;}else throw Error("bad asn1");}else n.KW(this,d);break;}return new Uint8Array(c);};return a;})();b.CX=r;},28660:function(r,b,a){var c;(function(n){var D,E,F,G,J,N,I,M,K;function d(L,H,O){var P;P=K.get(L);if(!P){if(!O)return;P=new I();K.set(L,P);}L=P.get(H);if(!L){if(!O)return;L=new I();P.set(H,L);}return L;}function g(L,H,O){if(e(L,H,O))return !0;H=u(H);return null !== H?g(L,H,O):!1;}function e(L,H,O){H=d(H,O,!1);return void 0 !== H && !!H.has(L);}function f(L,H,O){if(e(L,H,O))return l(L,H,O);H=u(H);return null !== H?f(L,H,O):void 0;}function l(L,H,O){H=d(H,O,!1);return void 0 === H?void 0:H.get(L);}function h(L,H){var O,Q;O=k(L,H);L=u(L);if(null === L)return O;H=h(L,H);if(0 >= H.length)return O;if(0 >= O.length)return H;L=new M();for(var P=0;P < O.length;P++){Q=O[P];L.add(Q);}for(O=0;O < H.length;O++)(Q=H[O],L.add(Q));return x(L);}function k(L,H){var O;L=d(L,H,!1);O=[];L && w(L,function(P,Q){return O.push(Q);});return O;}function m(L){return void 0 === L;}function p(L){return Array.isArray?Array.isArray(L):L instanceof Array || "[object Array]" === Object.prototype.toString.call(L);}function v(L){return "object" === typeof L?null !== L:"function" === typeof L;}function q(L){return "symbol" === typeof L?L:String(L);}function u(L){var H,O;H=Object.getPrototypeOf(L);if("function" !== typeof L || L === N || H !== N)return H;O=L.prototype;O=O && Object.getPrototypeOf(O);if(null == O || O === Object.prototype)return H;O=O.constructor;return "function" !== typeof O || O === L?H:O;}function t(L){L=L.next();return L.done?void 0:L;}function w(L,H,O){var P,Q,S;P=L.entries;if("function" === typeof P){P=P.call(L);try{for(;Q=t(P);){S=Q.value;H.call(O,S[1],S[0],L);}}finally{Q && (L=P["return"]) && L.call(P);}}else (P=L.forEach,"function" === typeof P && P.call(L,H,O));}function x(L){var H;H=[];w(L,function(O,P){H.push(P);});return H;}function z(L,H,O){var P;P=0;return {next:function(){var Q;if((L || H) && P < (L || H).length){Q=P++;switch(O){case "key":return {value:L[Q],done:!1};case "value":return {value:H[Q],done:!1};case "key+value":return {value:[L[Q],H[Q]],done:!1};}}H=L=void 0;return {value:void 0,done:!0};},"throw":function(Q){if(L || H)H=L=void 0;throw Q;},"return":function(Q){if(L || H)H=L=void 0;return {value:Q,done:!0};}};}function y(){var L;L={};return (function(){function H(){this.Kf=[];this.Gh=[];this.az=L;this.Gw=-2;}Object.defineProperty(H.prototype,"size",{get:function(){return this.Kf.length;},enumerable:!0,configurable:!0});H.prototype.has=function(O){return 0 <= this.gC(O,!1);};H.prototype.get=function(O){O=this.gC(O,!1);return 0 <= O?this.Gh[O]:void 0;};H.prototype.set=function(O,P){O=this.gC(O,!0);this.Gh[O]=P;return this;};H.prototype.delete=function(O){var P;P=this.gC(O,!1);if(0 <= P){O=this.Kf.length;for(P+=1;P < O;P++)(this.Kf[P - 1]=this.Kf[P],this.Gh[P - 1]=this.Gh[P]);this.Kf.length--;this.Gh.length--;this.az=L;this.Gw=-2;return !0;}return !1;};H.prototype.clear=function(){this.Kf.length=0;this.Gh.length=0;this.az=L;this.Gw=-2;};H.prototype.keys=function(){return z(this.Kf,void 0,"key");};H.prototype.values=function(){return z(void 0,this.Gh,"value");};H.prototype.entries=function(){return z(this.Kf,this.Gh,"key+value");};H.prototype.gC=function(O,P){var Q;if(this.az === O)return this.Gw;Q=this.Kf.indexOf(O);0 > Q && P && (Q=this.Kf.length,this.Kf.push(O),this.Gh.push(void 0));return (this.az=O,this.Gw=Q);};return H;})();}function A(){return (function(){function L(){this.Yf=new I();}Object.defineProperty(L.prototype,"size",{get:function(){return this.Yf.size;},enumerable:!0,configurable:!0});L.prototype.has=function(H){return this.Yf.has(H);};L.prototype.add=function(H){return (this.Yf.set(H,H),this);};L.prototype.delete=function(H){return this.Yf.delete(H);};L.prototype.clear=function(){this.Yf.clear();};L.prototype.keys=function(){return this.Yf.keys();};L.prototype.values=function(){return this.Yf.values();};L.prototype.entries=function(){return this.Yf.entries();};return L;})();}function B(){var P,Q;function L(S,X){for(var W=0;W < X;++W)S[W]=255 * Math.random() | 0;return S;}function H(){var S,V;do {S="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):L(new Uint8Array(16),16):L(Array(16),16);S[6]=S[6] & 79 | 64;S[8]=S[8] & 191 | 128;for(var X="",W=0;16 > W;++W){V=S[W];if(4 === W || 6 === W || 8 === W)X+="-";16 > V && (X+="0");X+=V.toString(16).toLowerCase();}S="@@WeakMap@@" + X;}while(J.has(P,S));P[S]=!0;return S;}function O(S,X){if(!D.call(S,Q)){if(!X)return;Object.defineProperty(S,Q,{value:G()});}return S[Q];}P=G();Q=H();return (function(){function S(){this.Nw=H();}S.prototype.has=function(X){X=O(X,!1);return void 0 !== X?J.has(X,this.Nw):!1;};S.prototype.get=function(X){X=O(X,!1);return void 0 !== X?J.get(X,this.Nw):void 0;};S.prototype.set=function(X,W){O(X,!0)[this.Nw]=W;return this;};S.prototype.delete=function(X){X=O(X,!1);return void 0 !== X?delete X[this.Nw]:!1;};S.prototype.clear=function(){this.Nw=H();};return S;})();}function C(L){L.JFc=1;delete L.KFc;return L;}D=Object.prototype.hasOwnProperty;E="function" === typeof Object.create;F=(function(){var H;function L(){}H={};L.prototype=H;return new L().__proto__ === H;})();G=E?function(){return C(Object.create(null));}:F?function(){return C({__proto__:null});}:function(){return C({});};(function(L){var H;H=!E && !F;L.has=H?function(O,P){return D.call(O,P);}:function(O,P){return (P in O);};L.get=H?function(O,P){return D.call(O,P)?O[P]:void 0;}:function(O,P){return O[P];};})(J || (J={}));N=Object.getPrototypeOf(Function);I="function" === typeof Map?Map:y();M="function" === typeof Set?Set:A();K=new ("function" === typeof WeakMap?WeakMap:B())();n.dG=function(L,H,O,P){var S;if(m(P)){if(m(O)){if(!p(L))throw new TypeError();if("function" !== typeof H)throw new TypeError();for(O=L.length - 1;0 <= O;--O)if((P=(0,L[O])(H),!m(P))){if("function" !== typeof P)throw new TypeError();H=P;}return H;}if(!p(L))throw new TypeError();if(!v(H))throw new TypeError();O=q(O);for(P=L.length - 1;0 <= P;--P)(0,L[P])(H,O);}else {if(!p(L))throw new TypeError();if(!v(H))throw new TypeError();if(m(O))throw new TypeError();if(!v(P))throw new TypeError();O=q(O);for(var Q=L.length - 1;0 <= Q;--Q){S=(0,L[Q])(H,O,P);if(!m(S)){if(!v(S))throw new TypeError();P=S;}}return P;}};n.Qe=function(L,H){return function(O,P){if(m(P)){if("function" !== typeof O)throw new TypeError();d(O,void 0,!0).set(L,H);}else {if(!v(O))throw new TypeError();P=q(P);d(O,P,!0).set(L,H);}};};n.Uda=function(L,H,O,P){if(!v(O))throw new TypeError();m(P) || (P=q(P));d(O,P,!0).set(L,H);};n.q9b=function(L,H){var O;if(!v(H))throw new TypeError();m(O) || (O=q(O));return g(L,H,O);};n.ZGa=function(L,H){var O;if(!v(H))throw new TypeError();m(O) || (O=q(O));return e(L,H,O);};n.getMetadata=function(L,H,O){if(!v(H))throw new TypeError();m(O) || (O=q(O));return f(L,H,O);};n.dhb=function(L,H,O){if(!v(H))throw new TypeError();m(O) || (O=q(O));return l(L,H,O);};n.rJc=function(L,H){if(!v(L))throw new TypeError();m(H) || (H=q(H));return h(L,H);};n.vJc=function(L,H){if(!v(L))throw new TypeError();m(H) || (H=q(H));return k(L,H);};n.NHc=function(L,H,O){var P;if(!v(H))throw new TypeError();m(O) || (O=q(O));P=d(H,O,!1);if(m(P) || !P.delete(L))return !1;if(0 < P.size)return !0;L=K.get(H);L.delete(O);if(0 < L.size)return !0;K.delete(H);return !0;};(function(L){if("undefined" !== typeof L.Reflect){if(L.Reflect !== n)for(var H in n)D.call(n,H) && (L.Reflect[H]=n[H]);}else L.Reflect=n;})("undefined" !== typeof Ba?Ba:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof a.LS?a.LS:Function("return this;")());})(c || (c={}));},26388:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TAb=b.u=void 0;b.u={X:0,V:1,Ia:2,Kn:3};b.TAb={X:0,V:1};},84915:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},66164:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(84915),b);r.__exportStar(a(83403),b);r.__exportStar(a(93926),b);r.__exportStar(a(77985),b);r.__exportStar(a(67111),b);r.__exportStar(a(92884),b);r.__exportStar(a(13779),b);},83403:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},93926:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},77985:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},57421:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},3775:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},67111:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(3775),b);r.__exportStar(a(49971),b);r.__exportStar(a(57421),b);r.__exportStar(a(62103),b);},62103:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},49971:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},52991:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.n0a=void 0;r=(function(){function a(){}a.prototype.ya=function(){var c;c=process.UJc();return 1E3 * c[0] + c[1] / 1E6;};a.prototype.Aia=function(c){return c - this.ya() + this.now();};a.prototype.dja=function(c){return c - this.now() + this.ya();};a.prototype.now=function(){return Date.now();};return a;})();b.n0a=r;},92884:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.platform=void 0;r=a(52991);b.platform={uHa:function(c){for(var n in c)c.hasOwnProperty(n) && (this[n]=c[n]);},reset:function(){},time:new r.n0a()};},13779:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},89707:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=function(d,g){if(!d)throw new n(g || "Assertion failed");};c=a(5163);n=(function(d){function g(){return null !== d && d.apply(this,arguments) || this;}c.__extends(g,d);return g;})(Error);},85017:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.OI=b.c2=void 0;b.aFa=function(a,c){return a.ga / a.O === c.ga / c.O;};b.c2={23976:{ga:24E3,O:1001},24:{ga:24E3,O:1E3},25:{ga:25E3,O:1E3},2997:{ga:3E4,O:1001},30:{ga:3E4,O:1E3},50:{ga:5E4,O:1E3},5994:{ga:6E4,O:1001},60:{ga:6E4,O:1E3}};b.OI={h264:["23976","24","25","2997","30"],h264hpl:["23976","24","25","2997","30"],"hevc-main10":("23976 24 25 2997 30 50 5994 60").split(" ")};},80463:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzgCQAAgAPgBgCAUBignwAB0gAwAADgpYBDugB4CDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgRQAg5QFAA",Xa:!0,$a:[176,590],size:610},{data:"IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBADgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcYCG1kBhB0ALB3ABB/A/CHDAgKAAgCgBgHYCAEBIAfgAYAgAAAIBAAJAIQgBgBcY+fPnDPCfA+B8gAwBDfDzCrgBQGDHD8DqgC4Gfx/zq+gCQCgBgCB/DOCvgD4EgBgAAfgFgLgQwCcDxtttC2DbDHCPAeA7G7C4gB4BcNa1rWC1CggBABAbgCwBdvHjx4LuDggWQFB4gFQCd48ePHJ3gCQFADgCIBBtgCAACPAdHdDcgCQFAPgHIRgbgBgdIBDjgFgMAGC1CtgNgADQgOYCgCwBC3gQIAA8gKwBBwgGAFA8gFQCC8gNYBgSoAC7CAgtgFgCIBC2gPgBCOgK4BgEoFAHCNgHIQA2gAoDDxgFgMADgagBCtBogOYCgdoMgAACAeA2gCYBDegVwADxgSoADdguoAgAAEgdARgk4NgAACAbgioSABgagBDWC0gjQogdARgk4NgAACANgDYDgioOgagBgNgAgjQpgdAQgk4NgAACAGgDYDgioOhCwCCtgjQphHokBghiAJgAAEBIA4hf//hf//hf//hf//hf//hf//hf//hf//hf//hf//hf70",Xa:!0,$a:[44],size:6252},{ga:1536,O:48E3},{ga:12288,O:48E3},"ddplus-5.1-dash",192,"5.1"];},73502:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(80463);b.ja=[{data:"hMPLAIhMIMAEhMgBDogGYGhMJ3",Xa:!0,$a:[176,590],size:610,ib:r.ja[0]},{data:"sNY4AEsNYpAgsNYGD/htYKcD+B9lhtQChtIBhs4ChswFB9hpgJgAwThsIJgAwThuwJgAwTh3AJgAwTh5oKgQAVh2QCB3DNg0oAgCAAhEYCgAQIhEIBBAgDIdBfA+gDAMhlQEAOD5gD4AgDIvDIgoYCC+gNYADXDPCbgD4LhU4EgDIcgXIxgDIVB2gAYBAAAdDzhWIAgmgAgDgKgAQAiN4EgDIbgXIygDIVCyhPQCDvCagjQADzDmgNgMhpYBh3oBgDIbgXIxgDIWCQiBoCB8gNYAhUQAh6QCgAQIiUwEgDIcgXIxgDIVDsiV4CA7DmgjQAhWQAg2ILDbjNwEgDIbgXIygDIViJoGgAADBABZh///h///h///h///h///h///h///h///h///h///h///h///h///h//x",Xa:!0,$a:[44],size:8300,ib:r.ja[1]},{ga:1536,O:48E3},{ga:12288,O:48E3},"ddplus-5.1hq-dash",256,"5.1"];},86252:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(80463).ja[0];a=a(73502);b.ja=[{data:"hMPLAMhMIMg8oBAFDcgGYCgEQChMJ3",Xa:!0,$a:[176,590],size:610,ib:r},{data:"wNY4gAYAwNYoAwwNYFACiNYLcEEB+6iNYxiHgviRwwicAwiWIwgYwSgnwCA2gGwCg14BdvHjx4DxDjDHCPgAwDgB4AgCYAhBoBhaABiM4EAABvgGYBg6oCgD4FgAwCgBoADfA+gD4DgAgDgEYBANgLQBhy4CgIwIgAwAcbbbfPhUQBgEYEiFQCADBrgP4BhFICgEgbgSQBhagCDegSQJB2gB4AgCYAgEYGhs4CAADZgXwCgJ4SAegB4AgV4AA1gFQGhhgCAGgd4BDNhSwBC8gJ4IDGgJ4PgZwAhiADC3gcQIgAwAgB4AgCYAgJAHhZ4BglwTgEgPA3gsQBhgoCgSQJA3glwQiE4Cgv3/gvz8gABZBYAGi///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i//q",Xa:!0,$a:[44],size:12396,ib:a.ja[1]},{ga:1536,O:48E3},{ga:12288,O:48E3},"ddplus-5.1hq-dash",384,"5.1"];},27443:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(80463).ja[0];a=a(86252);b.ja=[{data:"hMPLAOhMIMAHgEgBDWgGYChMJ7",Xa:!0,$a:[176,590],size:610,ib:r},{data:"4NY4AH4NYpA44NYFADB/jNYLAoAfDMjNQAjNIAjM4AjMwFiuICDfjAwvjNozjBozjOgzjbY0jPYIAbhcwChOYEZ3gAAAhiYRhKwEgFgIA7a7C7haADCNgCgAhboAhLYIgAgAhxgDgFQCh2ADgFgqAdbdDdhvQDhkYMhWwEhpQAgFQDhbYCgFgMh0AMgFgFDwgcgCgRZwgFgcCObuDuDvidgQiF4EiQAAgFQDiKgCgFgMC7gFgSB4gcgCgRZwgFgdhJ4HiUYQisoEABC+gtIEgxICgFgLDdgFgSC8itoDgRZvgFgdhJwGC7itIDgCgAh+YAgQYJC1Cgi6oCjDgCi/IEgFgLBugFgSDeijwDgRZvgFgdhJwGDdju4RjXQEBvju4Cjl4EgFgLjOoNgFgFi5ADgRZvgFgdhJwGDuj4IRkQYEA3j4ICjvIEgFgLAbgCYBgFgQhQABgABpBhBJjf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf7m",Xa:!0,$a:[44],size:14444,ib:a.ja[1]},{ga:1536,O:48E3},{ga:12288,O:48E3},"ddplus-5.1hq-dash",448,"5.1"];},75452:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(86252).ja[0];a=a(27443);b.ja=[{data:"hMPLAUhMIMAKgAQAAJgYQCAChMJ7",Xa:!0,$a:[176,590],size:610,ib:r},{data:"8NY4AK8NYpBQ8NYFAED/jtYCgAAChQYBcAjgYYBhCGjQwzjfY+juA+j8o9jwo+gfwLhdACABhWwGgrgEgAAQADhkwBhWQChkYFgIYMgEACA7jcoFC4hFQWiJgBj4oDj7wEBfgQ4LhWgCAHiO4GgIAWAOhewADthhICiuAFgZYLjt4DiyIChjgCDggIAVABgb4BgIAChxwFghAMgEACAdjYgFDcgQQWgcABhxYDj3oEhG4MgnICADjFoEiLgGhxYWAHgcgAkGoBiqoHgpYLD4glYDki4FBwgRAWgcoBiCYDh/4EhQAMglYDjVIGgIAWgcwBibQDj0QEDXhC4Lgn4ChCCDglYDhCzDhCCAghQDhCzEhCCAgHIDhCzDhCCBgHIDjH0FhCA/k/xsgABrAXBQk///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k//c",Xa:!0,$a:[44],size:20588,ib:a.ja[1]},{ga:1536,O:48E3},{ga:12288,O:48E3},"ddplus-5.1hq-dash",640,"5.1"];},46871:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(54468);b.ja=[{data:"hZniCAhZjm",Xa:!0,$a:[176,599],size:717,ib:r.ja[0]},{data:"gXy9",Xa:!0,$a:[44],size:191,ib:r.ja[1]},{ga:1024,O:24E3},{ga:7168,O:24E3},"heaac-2hq-dash",128,"2.0"];},54468:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYge4CEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A3AuAyA1AuAxEw",Xa:!0,$a:[176,599],size:717},{data:"IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A3AuAyA0AuAxAwAyAABCAgAIDBAYA4AhAQAEBgCMAcgAoc",Xa:!0,$a:[44],size:191},{ga:1024,O:24E3},{ga:7168,O:24E3},"heaac-2-dash",64,"2.0"];},39532:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(54468);b.ja=[{data:"hZniBghZjm",Xa:!0,$a:[176,599],size:717,ib:r.ja[0]},{data:"gXy9",Xa:!0,$a:[44],size:191,ib:r.ja[1]},{ga:1024,O:24E3},{ga:7168,O:24E3},"heaac-2-dash",96,"2.0"];},43051:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.V9a=b.Czb=void 0;b.Gwc=function(c){return {Pb:c[0],Na:c[1],za:c[2],duration:c[3],profile:c[4],bitrate:c[5],width:c[6],height:c[7],ZLa:c[8],$La:c[9]};};b.Fwc=function(c){return {Pb:c[0],Na:c[1],za:c[2],duration:c[3],profile:c[4],bitrate:c[5],channels:c[6]};};b.Czb={padding:{"16:9":{h264:{23976:function(){return a(6350);},24:function(){return a(937);},25:function(){return a(6153);},2997:function(){return a(32477);},30:function(){return a(19034);}},h264hpl:{23976:function(){return a(98989);},24:function(){return a(5339);},25:function(){return a(95350);},2997:function(){return a(4029);},30:function(){return a(75034);}},"hevc-main10":{23976:function(){return a(9253);},24:function(){return a(48903);},25:function(){return a(82698);},2997:function(){return a(98194);},30:function(){return a(79489);},50:function(){return a(82421);},5994:function(){return a(16745);},60:function(){return a(92375);}}},"4:3":{h264:{23976:function(){return a(46977);},24:function(){return a(47976);},25:function(){return a(45185);},2997:function(){return a(5801);},30:function(){return a(26931);}},h264hpl:{23976:function(){return a(26776);},24:function(){return a(25378);},25:function(){return a(41470);},2997:function(){return a(6320);},30:function(){return a(59375);}},"hevc-main10":{23976:function(){return a(70493);},24:function(){return a(29036);},25:function(){return a(34600);},2997:function(){return a(38556);},30:function(){return a(67760);},50:function(){return a(81609);},5994:function(){return a(64255);},60:function(){return a(90059);}}}}};b.V9a={silence:{heaac:{64:function(){return a(54468);},96:function(){return a(39532);},128:function(){return a(46871);}},ddp:{192:function(){return a(80463);},256:function(){return a(73502);},384:function(){return a(86252);},448:function(){return a(27443);},640:function(){return a(75452);}}}};},46977:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(6350);b.ja=[{data:"hdjvgAgChdlACACIhdgdhNAFhdiM",Xa:!0,$a:[176,729],size:749,ib:r.ja[0]},{data:"h/v/h/v7",Xa:!0,$a:[44],size:1022,ib:r.ja[1]},{ga:1001,O:24E3},{ga:6006,O:24E3},"playready-h264mpl30-dash",64,320,240,1,1];},47976:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(937);b.ja=[{data:"hdzvgAgChd1ACACIhdwfhNQFhdyM",Xa:!0,$a:[176,731],size:751,ib:r.ja[0]},{data:"h/v/h/v7",Xa:!0,$a:[44],size:1022,ib:r.ja[1]},{ga:1E3,O:24E3},{ga:6E3,O:24E3},"playready-h264mpl30-dash",64,320,240,1,1];},45185:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(6153);b.ja=[{data:"hdzvgAgChd1ACAhLABhdwdhNQFhdyM",Xa:!0,$a:[176,731],size:751,ib:r.ja[0]},{data:"h7X/h7XY",Xa:!0,$a:[44],size:987,ib:r.ja[1]},{ga:1E3,O:25E3},{ga:5E3,O:25E3},"playready-h264mpl30-dash",64,320,240,1,1];},5801:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(32477);b.ja=[{data:"hdjvgAgChdlACACIhdgdhNAFhdiM",Xa:!0,$a:[176,729],size:749,ib:r.ja[0]},{data:"h/v/h/v7",Xa:!0,$a:[44],size:1022,ib:r.ja[1]},{ga:1001,O:3E4},{ga:6006,O:3E4},"playready-h264mpl30-dash",64,320,240,1,1];},26931:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(19034);b.ja=[{data:"hdzvgAgChd1ACACIhdwfhNQFhdyM",Xa:!0,$a:[176,731],size:751,ib:r.ja[0]},{data:"h/v/h/v7",Xa:!0,$a:[44],size:1022,ib:r.ja[1]},{ga:1E3,O:3E4},{ga:6E3,O:3E4},"playready-h264mpl30-dash",64,320,240,1,1];},26776:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(98989);b.ja=[{data:"hdzvgAgChd1BABhdwfhNQFhdyM",Xa:!0,$a:[176,731],size:751,ib:r.ja[0]},{data:"h/v/h/v7",Xa:!0,$a:[44],size:1022,ib:r.ja[1]},{ga:1001,O:24E3},{ga:6006,O:24E3},"playready-h264hpl30-dash",64,320,240,1,1];},25378:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(5339);b.ja=[{data:"heDvgAgCheFBABheAhhNgFheCM",Xa:!0,$a:[176,733],size:753,ib:r.ja[0]},{data:"h/v/h/v7",Xa:!0,$a:[44],size:1022,ib:r.ja[1]},{ga:1E3,O:24E3},{ga:6E3,O:24E3},"playready-h264hpl30-dash",64,320,240,1,1];},41470:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(95350);b.ja=[{data:"heDvgAgCheFBABheAhhNgFheCM",Xa:!0,$a:[176,733],size:753,ib:r.ja[0]},{data:"h7X/h7XY",Xa:!0,$a:[44],size:987,ib:r.ja[1]},{ga:1E3,O:25E3},{ga:5E3,O:25E3},"playready-h264hpl30-dash",64,320,240,1,1];},6320:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(4029);b.ja=[{data:"hdzvgAgChd1BABhdwfhNQFhdyM",Xa:!0,$a:[176,731],size:751,ib:r.ja[0]},{data:"h/v/h/v7",Xa:!0,$a:[44],size:1022,ib:r.ja[1]},{ga:1001,O:3E4},{ga:6006,O:3E4},"playready-h264hpl30-dash",64,320,240,1,1];},59375:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(75034);b.ja=[{data:"heDvgAgCheFBABheAhhNgFheCM",Xa:!0,$a:[176,733],size:753,ib:r.ja[0]},{data:"h/v/h/v7",Xa:!0,$a:[44],size:1022,ib:r.ja[1]},{ga:1E3,O:3E4},{ga:6E3,O:3E4},"playready-h264hpl30-dash",64,320,240,1,1];},70493:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(9253);b.ja=[{data:"hxbvgAgChxe6DABahxYvhegFhxYegFQBgAYChxZ4",Xa:!0,$a:[176,888],size:908,ib:r.ja[0]},{data:"g6Z1Ahg6Y/Acg6agANg6YEA2DwCagBoAACCCg6Jm",Xa:!0,$a:[44],size:466,ib:r.ja[1]},{ga:1001,O:24E3},{ga:6006,O:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},29036:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(48903);b.ja=[{data:"hxrvgAgChxu6DABahxoxhewFhxqf",Xa:!0,$a:[176,890],size:910,ib:r.ja[0]},{data:"g6PQ",Xa:!0,$a:[44],size:466,ib:r.ja[1]},{ga:1E3,O:24E3},{ga:6E3,O:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},34600:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(82698);b.ja=[{data:"hxrvgAgChxu6DABahxoxhewFhxqf",Xa:!0,$a:[176,890],size:910,ib:r.ja[0]},{data:"g0V4AuDwCcgBoAAGDUg0QZgEIF",Xa:!0,$a:[44],size:419,ib:r.ja[1]},{ga:1E3,O:25E3},{ga:5E3,O:25E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},38556:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(98194);b.ja=[{data:"hxbvgAgChxe6DABahxYvhegFhxYeAQgAYEhxZ4",Xa:!0,$a:[176,888],size:908,ib:r.ja[0]},{data:"g6R1Aig6Q/Acg6SggtQCg6QBg1wRg6Ja",Xa:!0,$a:[44],size:466,ib:r.ja[1]},{ga:1001,O:3E4},{ga:6006,O:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},67760:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(79489);b.ja=[{data:"hxrvgAgChxu6DABahxoxhewFhxqf",Xa:!0,$a:[176,890],size:910,ib:r.ja[0]},{data:"g6XR",Xa:!0,$a:[44],size:467,ib:r.ja[1]},{ga:1E3,O:3E4},{ga:6E3,O:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},81609:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(82421);b.ja=[{data:"hxrvgAgChxu6DABahxoxhewFhxqf",Xa:!0,$a:[176,890],size:910,ib:r.ja[0]},{data:"hRv/hRqL",Xa:!0,$a:[44],size:654,ib:r.ja[1]},{ga:1E3,O:5E4},{ga:1E4,O:5E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},64255:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(16745);b.ja=[{data:"hxbvgAgChxe6DABahxYvhegFhxaf",Xa:!0,$a:[176,888],size:908,ib:r.ja[0]},{data:"hvX/hvV4",Xa:!0,$a:[44],size:891,ib:r.ja[1]},{ga:1001,O:6E4},{ga:15015,O:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},90059:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(92375);b.ja=[{data:"hxrvgAgChxu6DABahxoxhewFhxqf",Xa:!0,$a:[176,890],size:910,ib:r.ja[0]},{data:"hvX/hvV4",Xa:!0,$a:[44],size:891,ib:r.ja[1]},{ga:1E3,O:6E4},{ga:15E3,O:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},6350:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CHAIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgA4BAEgAYBADgcYCBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG",Xa:!0,$a:[176,729],size:749},{data:"AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDggcjI3MjcgN2QwMjZlOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTYgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rqAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOAAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gAAAABJBmmVJqEFomUwIV//+OEAADUg=",Xa:!1,$a:[44],size:1022},{ga:1001,O:24E3},{ga:6006,O:24E3},"playready-h264mpl30-dash",64,320,240,4,3];},937:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(6350);b.ja=[{data:"hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG",Xa:!0,$a:[176,731],size:751,ib:r.ja[0]},{data:"h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP",Xa:!0,$a:[44],size:1022,ib:r.ja[1]},{ga:1E3,O:24E3},{ga:6E3,O:24E3},"playready-h264mpl30-dash",64,320,240,4,3];},6153:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(937);b.ja=[{data:"hdw8BhCohdz4gfYEhd0ACQhdwoB+CQgAYEhdxWATCIhdwe",Xa:!0,$a:[176,731],size:751,ib:r.ja[0]},{data:"gCoBCph/oVCRh/otBQh/oJAFgAYBCxh/o9ARh+ILgCgBAyh+H/h+AuA1h+CKAzh+ABDsC+h+AAAUDIh+ABcsxdpKBwA+AqCkGAB3A0DAhg4AcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDohgACh+AEC/h2AHh+Al",Xa:!0,$a:[44],size:987,ib:r.ja[1]},{ga:1E3,O:25E3},{ga:5E3,O:25E3},"playready-h264mpl30-dash",64,320,240,4,3];},32477:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(6350).ja[0];a=a(6153);b.ja=[{data:"hdg8B1Awhdj4gfYEhdj8AHBThdgpCBDYgAYEhdh4",Xa:!0,$a:[176,729],size:749,ib:r},{data:"gBoBC2h7QVCeh7QZDph7QRBch7QJAGgAYBC+h7QJDSh7QJCNh7QJgC4Ch7QSgL4CAWgEYJASh8wLAWgEIBBIh8//h88KB/h7IIh84BgBoBDph84IgBoGASgHIAdlSahBBoCZBMAIBPD/D9DxgCAAAfDg",Xa:!0,$a:[44],size:1022,ib:a.ja[1]},{ga:1001,O:3E4},{ga:6006,O:3E4},"playready-h264mpl30-dash",64,320,240,4,3];},19034:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(937).ja[0];a=a(32477);b.ja=[{data:"hdw8B1Awhdz4gfYEhd0ADghdwoCCgBwBgAYChdx4",Xa:!0,$a:[176,731],size:751,ib:r},{data:"h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/tU",Xa:!0,$a:[44],size:1022,ib:a.ja[1]},{ga:1E3,O:3E4},{ga:6E3,O:3E4},"playready-h264mpl30-dash",64,320,240,4,3];},98989:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(937).ja[0];a=a(6350);b.ja=[{data:"hd0VDShd0OgM4AhdwCAXBngA4BCsDZFBD7AOAQgDIAc+kAALC4AADxBCCZBggJYAAGhdoCAigiQChdwZBnDggAYEhdxXhUwChdwSDpgBoG",Xa:!0,$a:[176,731],size:751,ib:r},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Xa:!0,$a:[44],size:1022,ib:a.ja[1]},{ga:1001,O:24E3},{ga:6006,O:24E3},"playready-h264hpl30-dash",64,320,240,4,3];},5339:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(98989).ja[0];a=a(937);b.ja=[{data:"hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCgAoAheAphJ4BgAYDheBXgO4CheASDogBoG",Xa:!0,$a:[176,733],size:753,ib:r},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Xa:!0,$a:[44],size:1022,ib:a.ja[1]},{ga:1E3,O:24E3},{ga:6E3,O:24E3},"playready-h264hpl30-dash",64,320,240,4,3];},95350:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(5339).ja[0];a=a(6153);b.ja=[{data:"heA8BhCoheD4gfYEheEBAgheApB+CQgAYEheBWATCIheAe",Xa:!0,$a:[176,733],size:753,ib:r},{data:"h7VpAzh7QDgD4Ah7RZhRwBh7X/h7QH",Xa:!0,$a:[44],size:987,ib:a.ja[1]},{ga:1E3,O:25E3},{ga:5E3,O:25E3},"playready-h264hpl30-dash",64,320,240,4,3];},4029:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(98989).ja[0];a=a(32477);b.ja=[{data:"hdw8B1Awhdz4gfYEhdz9AOCmhdwqCBDYgAYEhdx4",Xa:!0,$a:[176,731],size:751,ib:r},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Xa:!0,$a:[44],size:1022,ib:a.ja[1]},{ga:1001,O:3E4},{ga:6006,O:3E4},"playready-h264hpl30-dash",64,320,240,4,3];},75034:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(5339).ja[0];a=a(19034);b.ja=[{data:"heA8B1AwheD4gfYEheEBDAheApCCgBwBgAYCheB4",Xa:!0,$a:[176,733],size:753,ib:r},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Xa:!0,$a:[44],size:1022,ib:a.ja[1]},{ga:1E3,O:3E4},{ga:6E3,O:3E4},"playready-h264hpl30-dash",64,320,240,4,3];},9253:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(6350);b.ja=[{data:"hdggADhcgAhdhwDAhdiEACgqYAhdhRDjhdg9CjhdgEABBXhdgMABBHBohdhSC6gKoBhdgAACgPgCCQgfAEgI4AH9H6gBAAAPADCggIoBcYQAEMABgFIAgEAChboAgEIBhcQBgAQAddmLAkChgDgBBtBCEBgDINegCggPATBnCYC5AkApAQATC4BCCwGJfl9/o8DZDLD6A5CUDJB7gAgAezL9GFAIBOAiCxAmBeD+COBsDLD0BhBEBOBqDECbD2BlD6AwCmCcCVCUDfCjAKBKDDCaKACCg0QDcAu4H0BVDvB+AACXBAASDwABAuCAAlDhCigOIBcHRAHBByD2A8gVQChvAOAThlwAg0gABuBjBshhgAgEwAgAIChxYIhwgAgAQAAiCwgAYEhxZ4",Xa:!0,$a:[176,888],size:908,ib:r.ja[0]},{data:"h/pcAABnh/oJAkh/oJAjh7IJgBYAh/oIgBYFgL4DAih/oaABAeh/oEgNIAdOAYEBADgboCAWgBIAgSYACggHgBcAIPWAAKD8CAgAoDCQgDICANgDIAABgSIBgDAAgAQBAEgCACcuJgGsB9DgCECCAkC/D/D8BhgAwAczjsxSCKBCD8BJgDQBgEAAADA8gFIDBXDAgeQAgBIEDagIQOAHgCACcPAgHgAmBYDCA+DwCYgCQCCjgCQCAMgEYFggABgMoDgEQCAWAogEQLgIwGgpoAgAYBgCACAOgZIAfgDjjCARC8CVgBoBBTgOYAgEQIgNQCga4DgEQCAeBIgEQKALgEQEAEgM4JcovGEfB4gM4F",Xa:!0,$a:[44],size:468,ib:r.ja[1]},{ga:1001,O:24E3},{ga:6006,O:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},48903:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(9253);b.ja=[{data:"hxYhBuhxZxDChxZ9DQhxYFA6hxZSDlhxY9ClhxYFBZhxYNBJhxZTC8hxY6BvhxZXgJIAhE4BgAgAAxhxpKCAgAYEhxpXgRQChxoSDogBoG",Xa:!0,$a:[176,890],size:910,ib:r.ja[0]},{data:"g6Y1Dog6YtDQg6YJCIgAgBAhg14FgC4Cg6YSgL4Cg6YGgEYCg6YQAcg6agANg6YEA2DwCagBoAACCCg6Jm",Xa:!0,$a:[44],size:466,ib:r.ja[1]},{ga:1E3,O:24E3},{ga:6E3,O:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},82698:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(48903);b.ja=[{data:"hxo8BhCohxr4gfYEhxt+AzhxpJAlg+oAgAYDhxpWATCIhxoe",Xa:!0,$a:[176,890],size:910,ib:r.ja[0]},{data:"gCQBCpg6IVCRg6ItBQg6IJAFgAYBCxg6IZg3IAg1oIg3IAg6IIgBYFgL4DARg4oLgA4BD6g4iggEQCg4gBgEQKg4wPANg4wEg9AQg4oHgEICg4oBgEIF",Xa:!0,$a:[44],size:419,ib:r.ja[1]},{ga:1E3,O:25E3},{ga:5E3,O:25E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},98194:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(9253);b.ja=[{data:"hxY8B1Awhxb4gfYEhxd7DqBhhxZJArA4gAYEhxZ4",Xa:!0,$a:[176,888],size:908,ib:r.ja[0]},{data:"g6aZAhg6YbAdg6cIAOg6YEAIDegEAE",Xa:!0,$a:[44],size:467,ib:r.ja[1]},{ga:1001,O:3E4},{ga:6006,O:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},79489:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(48903).ja[0];a=a(98194);b.ja=[{data:"hxo8B1Awhxr4gfYEhxt+A9hxpJArgjQBgAYChxp4",Xa:!0,$a:[176,890],size:910,ib:r},{data:"g6Q1Dog6QtDQg6QJCIg6QJgC4Cg6QSgL4Cg6QGgEYCg6Uq",Xa:!0,$a:[44],size:467,ib:a.ja[1]},{ga:1E3,O:3E4},{ga:6E3,O:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},82421:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(48903).ja[0];a=a(79489);b.ja=[{data:"hxo8DDBQhxr4gfYEhxt+BlhxpJBABggAYEhxpWAnAQhxoe",Xa:!0,$a:[176,890],size:910,ib:r},{data:"gCIBDqg6QVDSg6QtCMg6QJgFYCDyg6QNg4wFg6QnAigF4JgBYFgF4DgBYAgF4IgBYFhAQPAWhAQMhAwFCkhAx9gvYChAwBgzgJhAoVATC8CTgGgCAigTIBhApPhSAHdGGMIZC8CMgM4CACg1QCgEIFAFgRIJA2gRIMgVgFgRgDgMoGAugRALgEIFAHgQ4KA+gQ4SAIhRoJBIhRoI",Xa:!0,$a:[44],size:654,ib:a.ja[1]},{ga:1E3,O:5E4},{ga:1E4,O:5E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},16745:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(9253).ja[0];a=a(82421);b.ja=[{data:"hxY8DqBghxb4gfYEhxd6ABDUDBhxZJBIDogAYEhxZWA6CnhxYe",Xa:!0,$a:[176,888],size:908,ib:r},{data:"g0YBArhRoUABAThRoZDphRoRDIhRoJAPgEwBAzhRoJDShRoJCNhLoJgC4EhRoQgL4ChRoGgF4OhRoSgF4ygR4FALC7gO4NAbhZIQgAYCAagCAAACBQhZyfgEIChZwBhVQRhZrOgQ4HBmgQ4TAJgQ4JBWgQ4ThZ4BgQ4IBOgQ4SALgQ4KBegQ4SAMgeABgEACAQgMoBdw6rGEAnB4gMwPANgIgGhiYAgEYAdol8YQCNDggIoE",Xa:!0,$a:[44],size:891,ib:a.ja[1]},{ga:1001,O:6E4},{ga:15015,O:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},92375:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ja=void 0;r=a(48903).ja[0];a=a(16745);b.ja=[{data:"hxo8DqBghxr4gfYEhxt+B5hxpJBJgAwBgAYChxpWA6CYhxoe",Xa:!0,$a:[176,890],size:910,ib:r},{data:"hvQ1DohvQtDQhvQJCIhjQJgC4EhvQQgL4ChpQGgF4OhpQSgF4yhvQGC4gO4NhvX/hvRl",Xa:!0,$a:[44],size:891,ib:a.ja[1]},{ga:1E3,O:6E4},{ga:15E3,O:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},95316:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.vca=b.yE=void 0;r=a(5163);r.__exportStar(a(38454),b);r.__exportStar(a(85017),b);c=a(68954);Object.defineProperties(b,{yE:{enumerable:!0,get:function(){return c.yE;}}});Object.defineProperties(b,{vca:{enumerable:!0,get:function(){return c.vca;}}});},67769:function(r,b,a){var e,f;function c(l){return f[l >> 6] + f[l & 63];}function n(l,h){(0,e.assert)(0 < h && 8 > h);return c((h - 1 << 8) + l);}function d(l){return c(1792 + l[0]) + c((l[1] << 4) + (l[2] >>> 4)) + c((l[2] << 8 & 3840) + l[3]);}function g(l){return 43 === l?62:47 === l?63:58 > l?l - 48 + 52:91 > l?l - 65:l - 71;}Object.defineProperties(b,{__esModule:{value:!0}});b.SKc=function(l,h){var p,v,q,u,t,w;function k(x,z){var y;y=p;x=v - z - x;(0,e.assert)(1 <= x);(0,e.assert)(16384 > x - 1);(0,e.assert)(2 <= z && 512 > z - 2);z=c(2048 + (x - 1 >>> 3)) + c(((x - 1 & 7) << 9) + (z - 2));p=y + z;q=v;u=0;}function m(x,z,y){return l.subarray(x,x + y).every(function(A,B){return A === l[z + B];});}p="";v=h || 0;q=v;u=0;for(h=0;v < l.byteLength;){t=q;w=u;if(0 !== u && 513 > u && l[v] === l[q + u])(++u,++v);else if(513 === u)(k(t,w),h=0);else {for(--q;0 <= q && q >= v - u - 16384 && (l[t] !== l[q] || 0 < u && !m(v - u,q,u + 1));)--q;if(0 <= q && q >= v - u - 16384)(++u,++v);else if(t === v || 1 === w){v-=w;for(t=1;7 > t && l[v + t] === l[v];)++t;p+=n(l[v],t);v+=t;h=1 < t?0:h + 1;4 === h && (p=p.slice(0,p.length - 8),p+=d(l.subarray(v - 4,v)));q=v;u=0;}else (k(t,w),h=0);}}1 === u?p+=n(l[q],1):1 < u && k(q,u);return p;};b.ymb=function(l,h){var t,w;function k(z,y){p(y);if(z + y <= u)v.set(v.subarray(z,z + y),u);else for(var A=0;A < y;++A)v[u + A]=v[z + A];u+=y;}function m(){var z;z=l.slice(q,q+=2);return (g(z.charCodeAt(0)) << 6) + g(z.charCodeAt(1));}function p(z){u + z > v.byteLength && (z=new Uint8Array(2 * v.byteLength),z.set(v,0),v=z);}for(var v=h || new Uint8Array(4096),q=0,u=h?h.byteLength:0;q < l.length;){t=m();if(t & 2048){w=m();k(u - (((t & 2047) << 3) + (w >>> 9) + 1),(w & 511) + 2);}else if(1792 === (t & 3840))(p(4),v[u++]=t & 255,w=m(),t=m(),v[u++]=w >>> 4,v[u++]=(w << 4 & 240) + (t >>> 8),v[u++]=t & 255);else {w=t & 255;t=(t >>> 8) + 1;p(t);for(var x=0;x < t;++x)v[u++]=w;}}return v.subarray(h?h.byteLength:0,u);};e=a(89707);f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";},68954:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qQb=b.pQb=b.rQb=b.oQb=b.vca=b.sQb=b.qyc=b.jyc=b.yE=b.syc=b.OI=void 0;c=a(85017);Object.defineProperties(b,{OI:{enumerable:!0,get:function(){return c.OI;}}});b.syc=["padding"];b.yE=["h264","h264hpl","hevc-main10"];b.jyc=["16:9","4:3"];b.qyc={h264:"playready-h264mpl30-dash",h264hpl:"playready-h264hpl30-dash","hevc-main10":"hevc-main10-L30-dash-cenc-prk-do"};b.sQb=["silence"];b.vca=["heaac","ddp"];b.oQb={heaac:[64,96,128],ddp:[192,256,384,448,640]};b.rQb={heaac:{64:"heaac-2-dash",96:"heaac-2-dash",128:"heaac-2hq-dash"},ddp:{192:"ddplus-5.1-dash",256:"ddplus-5.1hq-dash",384:"ddplus-5.1hq-dash",448:"ddplus-5.1hq-dash",640:"ddplus-5.1hq-dash"}};b.pQb={heaac:{64:"2.0",96:"2.0",128:"2.0"},ddp:{192:"5.1",256:"5.1",384:"5.1",448:"5.1",640:"5.1"}};b.qQb={heaac:{ga:1024,O:24E3},ddp:{ga:1536,O:48E3}};},38454:function(r,b,a){var n,d,g,e,f,l,h;function c(k){if(-1 !== e.yE.indexOf(k))return k;for(var m,p=0;p < e.yE.length;++p)if(-1 !== k.indexOf(e.yE[p])){m=e.yE[p];break;}(0,l.assert)(m);return m;}Object.defineProperties(b,{__esModule:{value:!0}});b.d4a=void 0;n=a(5163);d=a(91176);g=a(43051);e=a(68954);f=a(85017);l=a(89707);h=a(67769);r=(function(){function k(m,p){this.atob=m;this.console=p;this.sR=1;this.q8=[];this.d0=[];}k.prototype.b8b=function(m,p,v,q,u){var t,z;void 0 === q && (q={w:16,sv:9});void 0 === u && (u=1);p=c(p);t=(0,d.oc)(f.OI[p],function(y){return (0,f.aFa)(v,f.c2[y]);});(0,l.assert)(t);(0,l.assert)(16 === q.w && 9 === q.sv || 4 === q.w && 3 === q.sv);q=16 === q.w?"16:9":"4:3";for(var w=0,x=this.q8;w < x.length;w++){z=x[w];if(z.type === m && z.rz === q && z.yd === p && z.frameRate === t && z.trackId === u)return z;}m=this.SYb(m,q,p,t,u);this.q8.unshift(m);this.q8.length > this.sR && this.q8.splice(this.sR,this.q8.length - this.sR);return m;};k.prototype.$7b=function(m,p,v){var w;void 0 === v && (v=1);for(var q,u=0,t=this.d0;u < t.length;u++){w=t[u];"silence" === w.type && w.yd === m && w.bitrate === p && w.trackId === v && (q=w);}void 0 === q && (q=this.NYb(m,p,v),this.d0.unshift(q),this.d0.length > this.sR && this.d0.splice(this.sR,this.d0.length - this.sR));return q;};k.prototype.a8b=function(){void 0 === k.Ddb && (k.Ddb=new Uint8Array(Array.from({length:40},function(m,p){return ('<tt xmlns="http://www.w3.org/ns/ttml" />').charCodeAt(p);})).buffer);return k.Ddb;};k.prototype.SYb=function(m,p,v,q,u){var t;t=g.Czb[m][p][v][q];(0,l.assert)(t);t=(0,g.Gwc)(t().ja);return n.__assign(n.__assign({},this.decode(t,u)),{type:m,rz:p,yd:v,frameRate:q,width:t.width,height:t.height,ZLa:t.ZLa,$La:t.$La});};k.prototype.NYb=function(m,p,v){var q;q=g.V9a.silence[m][p];(0,l.assert)(q);q=(0,g.Fwc)(q().ja);return n.__assign(n.__assign({},this.decode(q,v)),{type:"silence",yd:m,bitrate:p,channels:q.channels});};k.prototype.decode=function(m,p){var v,q,u,t;v=m.Pb.Xa?this.Y0(m.Pb):this.atob(m.Pb.data);q=m.Na.Xa?this.Y0(m.Na):this.atob(m.Na.data);if(1 !== p){u=new DataView(v);t=new DataView(q);m.Pb.$a.forEach(function(w){return u.setUint32(w,p);});m.Na.$a.forEach(function(w){return t.setUint32(w,p);});}return n.__assign(n.__assign({},m),{Pb:v,Na:q,trackId:p});};k.prototype.Y0=function(m){var p;if(m.Xa){if(void 0 === m.ib)m=(0,h.ymb)(m.data);else {p=this.Y0(m.ib);m=(0,h.ymb)(m.data,new Uint8Array(p));}}else m=new Uint8Array(this.atob(m.data));return m.buffer.slice(m.byteOffset,m.byteOffset + m.byteLength);};return k;})();b.d4a=r;},29088:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A,B,C,D,E,F,G,J,N,I,M,K,L,H,O,P,Q,S,X;Object.defineProperties(b,{__esModule:{value:!0}});b.nTa=void 0;c=a(5163);n=a(90745);d=a(91176);g=a(91176);e=a(66164);f=a(8743);l=a(58348);h=a(6200);k=a(79183);m=a(3033);p=a(65161);a(57141);v=a(19089);q=a(52571);u=a(7470);t=a(35438);w=a(37058);x=a(61996);z=a(54366);y=a(650);A=a(40666);B=a(17122);C=a(69575);D=a(8478);E=a(27255);F=a(93747);G=a(75402);J=a(91967);N=a(33143);I=a(29688);M=a(51371);K=a(14609);L=a(23102);H=a(27459);O=a(61567);P=a(66607);Q=a(66701);S=a(11177);X=a(358);r=(function(){function W(V){this.console=V;this.hb=f.wB.CLOSED;this.sm=[];this.g7=[];this.h_=[];this.Oq=[];this.b6a={};this.u_={};this.EQa=f.S8.default;this.BUb={vI:!1};this.iu=new x.Sn({Vj:this,source:"engine",hg:10,console:V});}Object.defineProperties(W.prototype,{FA:{get:function(){(0,q.assert)(this.qC);return this.qC;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{state:{get:function(){return this.hb;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{Ukc:{get:function(){return this.h_;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{IN:{get:function(){return this.Oq.map(function(V){return V.Z;});},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{Wkc:{get:function(){return this.Oq;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{Wc:{get:function(){this.zI();return this.Ez.Wc;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{CH:{get:function(){this.zI();return this.Ez.CH;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{ml:{get:function(){this.zI();return this.Ez.ml;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{sO:{get:function(){this.zI();return this.Ez.sO;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{xyc:{get:function(){return this.sm.length;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{nR:{get:function(){return this.b6a;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{DC:{get:function(){return this.$y;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{AO:{get:function(){return this.u_;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{rfc:{get:function(){return this.g7a || (this.g7a=this.nSb());},enumerable:!1,configurable:!0}});W.prototype.open=function(V,fa,ba,ca){var ia;ia=this;if(this.hb === f.wB.OPEN)return !1;this.NC=new X.hVa(V,this.console);this.config=this.NC.cAa;M.mva.mrc(this.config);this.Hn=new A.zZ(new B.naa({Kh:!0,currentTime:function(){return d.K.Pa(e.platform.time.ya());},speed:1}),this.console,"Engine Scheduler");this.jib=new k.fXa(this.console,V);this.Yj=new v.Z2a(this.lha.bind(this),this.Hn,V);if(V.i8 || e.platform.Am.Rf.BKc)this.$y=new l.vUa(this.console,V,function(){return ia.nR;});this.Ez=m.iJ.Ofa(V,this.console,fa);this.hb=f.wB.OPEN;this.qC=(0,L.Pfa)(V);ba && this.qC.lvb(ba);ca && this.qC.wPa(ca);this.erb=new H.k2a({gj:function(){ia.hb !== f.wB.CLOSED && ia.Yj.gj("playgraphOpportunity");}});this.vnb=new F.J_a(function(){return ia.Lfa();},function(){return ia.Mfa().global;},this.console);this.SXb();return !0;};W.prototype.N_=function(V,fa,ba,ca,ia){var oa,T,Z,aa,R;function na(Y){return oa.Tr(ca,R,Y);}oa=this;void 0 === ia && (ia=!0);this.zI();ba=Object.create(ba,{NV:{value:this.AO},i8:{value:!!this.$y}});if(ia){Z=this.FA.ITb(V,ba);if(Z){Z.aSa(fa);aa=this.Tr.bind(this,ca,Z);aa.Le=ca;aa=Z.Wrc(aa).Le;if((aa=null === (T=ca.cKc) || void 0 === T?void 0:T.call(ca,aa)) && !aa.ta)(aa={reason:aa.reason},this.SA(Z));else return Z;}}na.Le=ca;T=new N.a3a(na,function(Y){return oa.UA(ca,Y);});R=(0,P.jCa)(this.config,[V,fa,ba,W.Mgc++,this.Wc,T,function(Y){return oa.Yj.gj(Y);},ia?this.FA.GTb.bind(this.FA):function(){},this.Lfa.bind(this)],this.console);R.rd(new t.c4a(R));R.rd(new w.A4a(R.bd));aa && R.rd(new K.q2a(aa));R.Vha.rd(new G.ETa(R));R.Vha.rd(new I.wZa(R));this.Ef.aO.forEach(function(Y){return R.rd(Y);});this.erb.N_(R);V=new n.mf();V.on(R.events,"requestsPruned",this.$oc.bind(this));V.on(R.events,"weightUpdated",this.GLa.bind(this));V.on(R.events,"underflow",this.Li.bind(this,R));this.Oq.push({Z:R,mj:V,f6:0});this.GLa();return R;};W.prototype.Li=function(V){V=this.vnb.C3b(V);(null === V || void 0 === V?0:V.cea) || this.FA.reset();};W.prototype.SA=function(V){this.erb.SA(V);V.Ma();this.Oq=this.Oq.filter(function(fa){return fa.Z === V?(fa.mj.clear(),!1):!0;});this.GLa();};W.prototype.wOb=function(V,fa){var ba;this.zI();ba=fa.Zg;ba=void 0 === ba?[p.u.X,p.u.V]:ba;V=(0,Q.KR)(this.config,[V,ba,this.O1b(fa)]);this.h_.push(V);return V;};W.prototype.QNa=function(V){this.zI();this.h_=this.h_.filter(function(fa){return fa !== V;});V.Ma();};W.prototype.irc=function(V,fa){this.b6a=V;this.u_=fa;this.g7a=void 0;};W.prototype.IV=function(V,fa){var ba,ca;ca=null === (ba=(0,g.oc)(this.sm,function(ia){return ia.gL.equals(V);})) || void 0 === ba?void 0:ba.R;ca?ca.IV(c.__assign(c.__assign({},fa),{c5:this.$Ka.bind(this)})):this.g7.push({Izb:V,WPa:fa});};W.prototype.Wsb=function(V){this.g7=this.g7.filter(function(fa){return !fa.Izb.equals(V);});};W.prototype.close=function(){this.hb !== f.wB.CLOSED && (this.ioc(),(0,q.assert)(0 === this.sm.length,"Unexpected viewable lease after Playgraph destruction."),this.hoc(),this.g7=[],delete this.Ez,this.hb=f.wB.CLOSED,this.Hn.Ma());};W.prototype.esc=function(V){this.EQa=V;this.Yj.gj("streamingModeChanged");};W.prototype.lrc=function(V){var fa,ba,ca;this.BUb.vI=V.vI;if(this.config.ADa){ca=!0 === V.vI;this.config.set?this.config.set((fa={},fa.enableCprVideo=ca,fa)):this.config.enableCprVideo=!0 === V.vI;try{for(var ia=c.__values(this.Oq),na=ia.next();!na.done;na=ia.next())na.value.Z.Prc(ca);}catch(T){var oa;oa={error:T};}finally{try{na && !na.done && (ba=ia.return) && ba.call(ia);}finally{if(oa)throw oa.error;}}}};W.prototype.O1b=function(V){var fa,ba,ca,ia,na,oa,T;na=Object.create(V);oa=null !== (ba=null === (fa=Object.getOwnPropertyDescriptor(V,"getMediaSource")) || void 0 === fa?void 0:fa.enumerable) && void 0 !== ba?ba:!1;T=null !== (ia=null === (ca=Object.getOwnPropertyDescriptor(V,"minimumTimeBeforeBranchDecision")) || void 0 === ca?void 0:ca.enumerable) && void 0 !== ia?ia:!1;Object.defineProperties(na,{fU:{get:function(){return T?V.fU:void 0;}},C2:{get:function(){return oa?V.C2:void 0;}}});!V.NV && this.u_ && (na.NV=this.u_);return na;};W.prototype.SXb=function(){this.Ef=new J.caa(this.config,this.console);this.Ef.rd(new D.DWa(this));this.Ef.rd(new y.b3a(this.Wc,this.Yj));this.Ef.rd(new u.BWa(this.Wc));this.Ef.rd(new z.ep(this.iu));this.Ef.rd(new z.ep(this.Yj.Et));this.Ef.rd(new z.ep(this.jib.tf));this.Ef.rd(new z.ep(this.vnb.tf));this.$y && this.Ef.rd(new z.ep(this.$y.tf));};W.prototype.$Ka=function(){};W.prototype.xW=function(V){return c.__awaiter(this,void 0,void 0,function(){var fa,ba,ca,ia;return c.__generator(this,function(na){switch(na.label){case 0:return ((0,q.assert)(V,"ase.updateViewable(): Viewable config not found."),fa=(0,g.oc)(this.sm,function(oa){return oa.gL.equals(V);}),(0,q.assert)(fa,"ase.updateViewable(): Viewable entry not found."),[4,fa.AE]);case 1:return (ba=na.va(),ia=(ca=ba).xW,[4,V.lu]);case 2:return (ia.apply(ca,[na.va()]),[2]);}});});};W.prototype.Tr=function(V,fa,ba){var ca,ia,na,oa;ca=this;ia=ba.N;na=V.Jp(ia,ba.VA);(0,q.assert)(na,"ase.requestViewable(): Viewable config not found.");oa=(0,g.oc)(this.sm,function(T){return !0 !== T.gL.hr && T.gL.equals(na);});oa || (oa={gL:na,AE:(function(){return c.__awaiter(ca,void 0,void 0,function(){var T,Z;return c.__generator(this,function(aa){switch(aa.label){case 0:return [4,na.lu];case 1:return (T=aa.va(),Z=this.Gz(ia,na,T),oa.R=Z,[2,Z]);}});});})(),R:void 0,Cv:new d.XP({name:"viewableCollection",i5:function(T){T() && ca.TNa(oa);},console:(0,C.xg)(e.platform,this.console,("").concat(ia))})},this.sm.push(oa));V=new S.D5a(oa,this.console,fa,ba);V.events.once("error",this.TNa.bind(this,oa,!1));return V;};W.prototype.TNa=function(V,fa){var ba,ca,ia;void 0 === fa && (fa=!0);(0,q.assert)(V,"expected viewableEntry to exist");ba=V.gL;ca=V.R;ia=V.AE;fa && (ba.yR(),ca?ca.Ma():ia.then(function(na){na.Ma();}));this.sm=this.sm.filter(function(na){return na !== V;});};W.prototype.Gz=function(V,fa,ba){var ca,ia;ca=this;this.zI();ia=ba.config;ba={U:ba.U,config:ia,Cz:ba.Cz,qt:ba.qt,Wc:this.Ez.Wc,ml:this.Ez.ml,u1b:{LG:function(){return ca.Yj.gj("networkFailureReset");},We:this.We.bind(this,V),yv:this.yv.bind(this,V)},t6:{$w:this.$w.bind(this),Sv:this.Sv.bind(this),sJc:function(){return ca.Yj.Rob;}},AO:this.u_,DC:this.$y,NC:this.NC,Yj:this.Yj,HW:this.Hn};V=new h.NTa(V,ba);ia.lS && (ia=(0,g.oc)(this.g7,function(na){return na.Izb.equals(fa);})) && (ia=ia.WPa,this.Wsb(fa),V.IV(c.__assign(c.__assign({},ia),{c5:this.$Ka.bind(this)})));return V;};W.prototype.UA=function(V,fa){return c.__awaiter(this,void 0,void 0,function(){var ba,ca,ia,na,oa,T,Z,aa,R;return c.__generator(this,function(Y){switch(Y.label){case 0:(ba=fa.yi,ca=fa.N,ia=V.Jp(ca),(0,q.assert)(ia,"ase.requestAdBreakHydration(): Parent viewable config not found."),na=(0,g.oc)(this.sm,function(ea){return !0 !== ea.gL.hr && ea.gL.equals(ia);}),(0,q.assert)(na,("ase.requestAdBreakHydration(): Parent viewable entry not found, ").concat(ca)),oa=na.R,(0,q.assert)(oa,("ase.requestAdBreakHydration(): Parent viewable entry has no aseViewable, ").concat(ca)),T=oa.U.vc,Z={Cg:{vc:T,je:ca}},Y.label=1);case 1:return (Y.Ke.push([1,3,,4]),[4,V.UA(ba,Z)]);case 2:return (aa=Y.va(),[2,{Pba:aa,Hza:oa}]);case 3:return (R=Y.va(),[2,Promise.reject(R)]);case 4:return [2];}});});};W.prototype.lha=function(){var V,fa;(0,q.assert)(this.state === f.wB.OPEN);V=this.Mfa();fa=this.fT();return this.jib.qpb(V,fa);};W.prototype.fT=function(){var V,fa,ba;V=this;ba=null !== (fa=this.config.tlc) && void 0 !== fa?fa:this.Oq.every(function(ca){return !ca.Z.vr;});fa=(0,g.flatten)(this.Oq.map(function(ca){return ca.Z.fT().map(function(ia){ca.Z.vr || 1 === ca.f6 || (ia.Fx=ca.f6);return ia;});}));this.EQa === f.S8.disabled?fa=[]:this.EQa === f.S8.Vdc && (fa=fa.filter(function(ca){return V.config.Vmb >= ca.pm - ca.Om;}));ba || (ba=fa.filter(function(ca){var ia;return 1 === (null !== (ia=ca.Fx) && void 0 !== ia?ia:1);}),ba.length && (fa=ba));ba=this.sm.reduce(function(ca,ia){return ia.R?c.__spreadArray(c.__spreadArray([],c.__read(ca),!1),c.__read(ia.R.fT()),!1):ca;},[]);return (0,g.flatten)(c.__spreadArray(c.__spreadArray([],c.__read(fa),!1),c.__read(ba),!1));};W.prototype.zI=function(){if(this.hb === f.wB.CLOSED)throw Error("Engine CLOSED");};W.prototype.ioc=function(){var V,ca;try{for(var fa=c.__values(this.Oq),ba=fa.next();!ba.done;ba=fa.next()){ca=ba.value;ca.mj.clear();this.SA(ca.Z);}}catch(na){var ia;ia={error:na};}finally{try{ba && !ba.done && (V=fa.return) && V.call(fa);}finally{if(ia)throw ia.error;}}};W.prototype.hoc=function(){var V;try{for(var fa=c.__values(this.h_),ba=fa.next();!ba.done;ba=fa.next())this.QNa(ba.value);}catch(ia){var ca;ca={error:ia};}finally{try{ba && !ba.done && (V=fa.return) && V.call(fa);}finally{if(ca)throw ca.error;}}};W.prototype.We=function(V,fa,ba,ca,ia,na,oa){var T;void 0 === oa && (oa=!1);T=!1;this.mhb(V).forEach(function(Z){if(!oa || (0,p.zr)(Z.Fd.value))T=Z.We(fa,V,ba,ca,ia,na,oa);});return T;};W.prototype.yv=function(V){return this.mhb(V).some(function(fa){return fa.yv();});};W.prototype.mhb=function(V){return this.Oq.filter(function(fa){var ba;for(fa=fa.Z;fa.Sa;)fa=fa.Sa;ba=fa.Z;return Object.keys(ba.ba).some(function(ca){return ba.ba[ca].N === V;});}).map(function(fa){return fa.Z;});};W.prototype.Mfa=function(){var V;V=new E.cXa();this.Oq.forEach(function(fa){var ba,ca;ba=fa.Z;fa=fa.f6;ca=ba.Mfa();ca.Fx=fa;V.add(ba.id,ca);});return V;};W.prototype.Lfa=function(){return this.rfc;};W.prototype.nSb=function(){var V,fa;fa=(0,O.ASb)(this.config,this.nR);return {total:(V={},V[p.u.V]=this.nR.video || Infinity,V[p.u.X]=this.nR.audio || Infinity,V[p.u.Ia]=this.nR.text || Infinity,V.total=this.nR.total || Infinity,V),rQa:fa};};W.prototype.$w=function(V){var fa;this.Yj.$w(V);null === (fa=this.$y) || void 0 === fa?void 0:fa.$w(V);};W.prototype.Sv=function(V){this.Yj.Sv(V);};W.prototype.GLa=function(){var V;V=this.IN.reduce(function(fa,ba){return Math.max(ba.weight,0) + fa;},0);this.Oq.forEach(function(fa){fa.f6=0 >= fa.Z.weight?0:fa.Z.weight / V;});};W.prototype.$oc=function(V){var fa;fa=this;this.$y && (V.requests.forEach(function(ba){return fa.$y.Sv(ba);}),this.sm.forEach(function(ba){var ca;return null === (ca=ba.R) || void 0 === ca?void 0:ca.wpc();}),this.Yj.gj("prunedRequest"));};W.Mgc=0;c.__decorate([(0,x.ob)({methodName:"open"})],W.prototype,"open",null);c.__decorate([(0,x.ob)({methodName:"addPlaygraph",context:function(V){var fa,ba;return {playgraphCount:null !== (ba=null === (fa=V.$ob.Oq) || void 0 === fa?void 0:fa.length) && void 0 !== ba?ba:0};}})],W.prototype,"N_",null);c.__decorate([(0,x.ob)({methodName:"removePlaygraph",context:function(V){return {playgraphCount:V.$ob.Oq.length};}})],W.prototype,"SA",null);c.__decorate([(0,x.ob)({methodName:"close"})],W.prototype,"close",null);c.__decorate([(0,x.ob)({methodName:"setStreamingMode",Km:!0})],W.prototype,"esc",null);c.__decorate([(0,x.ob)({methodName:"setConcurrentStreamingDevice",Km:!0})],W.prototype,"lrc",null);c.__decorate([(0,x.ob)({methodName:"notifyAseException",Km:!0})],W.prototype,"$Ka",null);c.__decorate([(0,x.ob)({methodName:"updateViewable"})],W.prototype,"xW",null);c.__decorate([(0,x.ob)({methodName:"requestViewable"})],W.prototype,"Tr",null);c.__decorate([(0,x.ob)({methodName:"removeViewable"})],W.prototype,"TNa",null);c.__decorate([(0,x.ob)({methodName:"createViewable"})],W.prototype,"Gz",null);c.__decorate([(0,x.ob)({methodName:"requestAdBreakHydration"})],W.prototype,"UA",null);c.__decorate([(0,x.ob)({methodName:"issueRequestOpportunity",Sf:!0,return:!0})],W.prototype,"lha",null);c.__decorate([(0,x.ob)({methodName:"reportStreamingFailure",Km:!0})],W.prototype,"We",null);return W;})();b.nTa=r;},66701:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.KR=function(g,e){var f,l,h;f=[function(k){return new (d.ioa.bind.apply(d.ioa,c.__spreadArray([void 0],c.__read(k.Mkc),!1)))();}];if(g.p1){l=a(79).NBa;f.unshift(function(k,m){return l(k,m);});}if(g.jS){h=a(79).NBa;f.unshift(function(k,m){return h(k,m);});}return n.IE.BM({Mkc:e},f);};c=a(5163);n=a(91176);d=a(34434);},66607:function(r,b,a){var c,n,d,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.jCa=function(f,l,h){var k,m,p,v;k=[function(q){return new (g.joa.bind.apply(g.joa,c.__spreadArray([void 0],c.__read(q.H5),!1)))();}];m=(0,e.Vm)({Z:l[0]});d.G && h.trace("Creating playgraph",{vMc:m,cL:f.p1,qg:f.jS});if(f.p1){p=a(25750);k.unshift(function(q,u){return p.J0({},q,u);});}if(f.jS){v=a(86681);k.unshift(function(q,u){return v.J0({},q,u);});}return n.IE.BM({H5:l,sza:[]},k);};c=a(5163);n=a(91176);d=a(48170);g=a(62819);e=a(28871);},358:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hVa=void 0;r=(function(){function a(c,n){this.cAa=c;this.console=n;this.ina=new WeakMap();this.Xha=new WeakMap();this.console.trace("Created config manager with base config" + JSON.stringify(c));}a.prototype.dgb=function(){var c;c=this.cAa.LJa;if(void 0 === c || 0 === c.length)return (this.console.warn("ConfigManager: No manifestConfigAllowList found in base config, no manifest config will be applied."),[]);this.console.trace("ConfigManager allowed properties: " + JSON.stringify(c));return c;};a.prototype.ksc=function(c,n){this.ina.has(c) && this.console.trace("Updating existing viewable config for " + c);this.ina.set(c,n);};a.prototype.fib=function(c){if(this.ina.has(c))return this.ina.get(c);this.console.warn("ConfigManager: No viewable config found for " + c.P);return this.cAa;};a.prototype.Lrc=function(c,n){n=this.zxc(this.fib(c),n);this.Xha.has(c) && this.console.trace("Updating existing manifest config for " + c);this.Xha.set(c,n);};a.prototype.q6b=function(c){if(this.Xha.has(c))return this.Xha.get(c);this.console.warn("ConfigManager: No manifest config found for " + c.P);return this.fib(c);};a.prototype.SPa=function(c){var n;c=null === (n=c.steeringAdditionalInfo) || void 0 === n?void 0:n.jma;n=this.dgb();return c && 0 !== n.length?!0:!1;};a.prototype.zxc=function(c,n){var d,g,e,f,l,h;d=this;e=null === (g=n.steeringAdditionalInfo) || void 0 === g?void 0:g.jma;f=this.dgb();if(!e || 0 === f.length)return c;l=Object.create(c);h={};Object.keys(e).filter(function(m){return -1 !== f.indexOf(m);}).forEach(function(m){var p,v;if(void 0 !== l[m]){p=e[m];v=void 0;"number" === typeof l[m]?v=Number(p):"boolean" === typeof l[m]?v="true" === p:"string" === typeof l[m]?v=p:d.console.trace("Unsupported type for" + m);d.console.error("ConfigManager Updating value for key " + m + " from " + l[m] + " to " + v);h[m]=v;}else d.console.trace("Invalid key" + m);});if(0 < Object.keys(h).length)if("function" === typeof l.set)0 === l.set(h) && this.console.trace("Invalid keys" + JSON.stringify(Object.keys(h)));else for(var k in h)(c=k,l[c]=h[c]);return l;};return a;})();b.hVa=r;},60069:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.F2=function(){var g;if(!d){g=new c.platform.Console("ASEJS","media|asejs");d=new n.nTa(g);}return d;};b.HMc=function(){d=void 0;};c=a(66164);n=a(29088);},27459:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.k2a=void 0;r=(function(){function a(c){this.gj=c.gj;this.$z=this.I$b();}a.prototype.N_=function(c){c.events.on("requestsPruned",this.$z);};a.prototype.SA=function(c){c.events.removeListener("requestsPruned",this.$z);};a.prototype.I$b=function(){var c;c=this;return function(){return c.gj();};};return a;})();b.k2a=r;},23102:function(r,b,a){var n,d,g,e;function c(){return n.__awaiter(this,void 0,void 0,function(){var f;return n.__generator(this,function(l){switch(l.label){case 0:return [4,Promise.resolve().then(function(){return n.__importStar(a(60069));})];case 1:return (f=l.va().F2,[2,f()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.Pfa=function(f){var l;l=new d.platform.Console("ASEJS","media|asejs");e || (e=new g.t2a(function(){return c();},f,l));return e;};n=a(5163);d=a(66164);g=a(91961);},61567:function(r,b,a){var n;function c(d,g,e,f){return d && g?Math.min(d - g * e,d - f):(d || Infinity) - f;}Object.defineProperties(b,{__esModule:{value:!0}});b.ASb=function(d,g){var e,f,l,h,k,m,p,v;v=c(g.audio,g.kGc,d.RBa,null !== (f=d.pbb) && void 0 !== f?f:0);f=c(g.video,g.pOc,d.RBa,null !== (l=d.rbb) && void 0 !== l?l:0);l=c(g.text,g.JNc,d.RBa,null !== (h=d.qbb) && void 0 !== h?h:0);return (e={},e[n.u.X]=v,e[n.u.V]=f,e[n.u.Ia]=l,e.total=(g.total || Infinity) - (null !== (k=d.pbb) && void 0 !== k?k:0) - (null !== (m=d.rbb) && void 0 !== m?m:0) - (null !== (p=d.qbb) && void 0 !== p?p:0),e);};n=a(65161);},11177:function(r,b,a){var c,n,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.D5a=void 0;c=a(5163);n=a(90745);d=a(48170);g=a(95407);r=(function(){function e(f,l,h,k){this.Lzb=f;this.console=l;this.RPb=h;this.VA=k;this.events=new n.EventEmitter();this.Up=f.Cv.Ls();}Object.defineProperties(e.prototype,{R:{get:function(){var f;return null === (f=this.Lzb) || void 0 === f?void 0:f.R;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{AE:{get:function(){var f;f=this;return (function(){return c.__awaiter(f,void 0,void 0,function(){var l;return c.__generator(this,function(h){switch(h.label){case 0:return (h.Ke.push([0,2,,3]),[4,this.Lzb.AE]);case 1:return [2,h.va()];case 2:throw (l=h.va(),g.tua.fbc(l) && this.RPb.We(l),d.G && this.console.trace("Removing broken viewable entry due to error",this.VA),this.events.emit("error",{error:l}),l);case 3:return [2];}});});})();},enumerable:!1,configurable:!0}});return e;})();b.D5a=r;},67164:function(r,b,a){var n;function c(d,g){var e;void 0 === g && (g=c);e="";d.tS && (e=null === d || void 0 === d?void 0:d.tS.map(g).reduce(function(f,l){return ("").concat(f,",").concat(l);}));return ("").concat(null === d || void 0 === d?void 0:d.name,"::").concat(null === d || void 0 === d?void 0:d.message,"::{").concat(null === d || void 0 === d?void 0:d.stack,"}[").concat(e,"]");}Object.defineProperties(b,{__esModule:{value:!0}});b.Vna=void 0;n=a(5163);r=(function(d){function g(e,f){e=d.call(this,g.U3b(e,f)) || this;e.TKb=f;e.name="AggregateError";return e;}n.__extends(g,d);g.U3b=function(e,f){return f.reduce(function(l,h){return ("").concat(l,"\n").concat(h);},e);};g.stringify=function(e){return c(e);};Object.defineProperties(g.prototype,{tS:{get:function(){return this.TKb;},enumerable:!1,configurable:!0}});return g;})(Error);b.Vna=r;},83906:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(32973),b);r.__exportStar(a(16816),b);},32973:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},16816:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},63251:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},43520:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},20271:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});r=b.js={};r[r.CLOSED=0]="CLOSED";r[r.OPEN=1]="OPEN";r[r.Qn=2]="STREAMING";},89577:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},8743:function(r,b){var a,c;Object.defineProperties(b,{__esModule:{value:!0}});b.wB=b.S8=void 0;(function(n){n[n.default=0]="default";n[n.disabled=1]="disabled";n[n.Vdc=2]="lowCpuPlaybackStarting";})(a || (b.S8=a={}));(function(n){n[n.CLOSED=0]="CLOSED";n[n.OPEN=1]="OPEN";})(c || (b.wB=c={}));},51308:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Cc=void 0;r=a(5163);r.__exportStar(a(8743),b);r.__exportStar(a(43520),b);r.__exportStar(a(20271),b);r.__exportStar(a(89577),b);r.__exportStar(a(41186),b);r.__exportStar(a(83906),b);r.__exportStar(a(16816),b);r.__exportStar(a(85178),b);r.__exportStar(a(63251),b);r.__exportStar(a(35963),b);c=a(91967);Object.defineProperties(b,{Cc:{enumerable:!0,get:function(){return c.Cc;}}});},41186:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},85178:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},16756:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});r=b.Q8={};r[r.start=0]="start";r[r.end=1]="end";},86003:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},46062:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},97627:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},9980:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(16756),b);r.__exportStar(a(97627),b);r.__exportStar(a(86003),b);r.__exportStar(a(46062),b);},35963:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(5163).__exportStar(a(9980),b);},8171:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.hs=void 0;c=a(66164);n=a(65167);r=(function(){function d(g){g=("(").concat(g,")");this.console=new c.platform.Console("ASEJS","media|asejs",g);this.hKa=[];}d.prototype.Ax=function(g){var e;if(!this.hKa[g]){e=("[").concat(g,"]");this.hKa[g]=(0,n.xg)(c.platform,this.console,e);}return this.hKa[g];};return d;})();b.hs=new r(0);},6200:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A,B,C,D,E,F,G,J;function c(N,I,M){return N.R.fa?new A.kZa(N,I,M):new y.D0a(N,I,M);}Object.defineProperties(b,{__esModule:{value:!0}});b.NTa=b.gGb=void 0;n=a(5163);d=a(90745);g=a(91176);e=a(66164);f=a(24473);r=a(81392);l=a(83744);h=a(79857);k=a(18905);m=a(65161);p=a(52571);a(69575);v=a(24251);q=a(444);u=a(37191);t=a(97757);w=a(7675);x=a(8149);z=a(76452);y=a(1913);A=a(92945);B=a(91967);C=a(28057);D=a(31303);E=a(39795);F=a(66133);G=a(27457);J=(function(){return function(N){this.mediaType=N;this.Glb=void 0;};})();b.gGb=J;a=(function(N){function I(M,K){var L,H,O,P,Q,S,X,W,V,fa,ba,ca,ia,na,oa,T,Z,aa,R,Y,ea,ka,ha,U;H=K.U;O=K.Cz;P=K.qt;Q=K.config;S=K.t6;X=K.Wc;W=K.ml;V=K.u1b;fa=K.AO;ba=K.DC;ca=K.NC;ia=K.Yj;K=K.HW;aa=N.call(this) || this;aa.N=M;aa.Qib=!1;aa.mF={};aa.Fm={};aa.a7a={};aa.lA=(L={},L[m.u.X]={},L[m.u.V]={},L[m.u.Ia]={},L[m.u.Kn]={},L);aa.zub=[];aa.Ua=[];aa.Xla=[];aa.eG=[];aa.fba=!1;aa.Iob=!1;aa.yyc=[new J(m.u.X),new J(m.u.V),new J(m.u.Ia)];aa.Ak=-1;aa.LJa={KT:"liveEdgeCushion",eN:"maxMediaBufferAllowed",x1:"enableMissingSegmentsReplacement",$ha:"maxAttemptsOnFailure",MV:"simulateLiveEdge",uea:"enableConditionalServerTimeUpdate",Gia:"negligibleServerTimeDeltaDifference",Ak:"liveTargetBufferDuration",Rha:"liveTargetBufferDurationInStableNetwork",Aea:"enableLiveTargetBufferDurationHeuristics",hjb:"ignoreShortResponses",aq:"minPrebufSize",f4:"liveStreamSelectorUseLatency",Fha:"latencyMultiplierForLive",Hlb:"latencyAverageMultiplierForLive",j8:"useLiveEdgeUpdateTask",Pha:"liveRequestSpreadMs",ZM:"liveSlowBufferFilling",Lha:"liveMaxUpswitchSteps",zL:"enableRequestAbandonment",v1:"enableMediaEventsTrack",dca:"alwaysRetainAds"};aa.kbb=(0,w.thc)(aa.LJa);aa.Ef=new B.caa(Q,aa.console);aa.b7a=H;aa.console=new e.platform.Console("ASEJS","media|asejs","<" + String(aa.N) + ">");aa.NC=ca;Q.dzb?(aa.NC.ksc(aa,Q),aa.NC.Lrc(aa,H),aa.config=aa.NC.q6b(aa)):aa.config=aa.fxc(H,Q);aa.jH=new D.BZa(aa,aa.config);aa.rdc=null !== (oa=null === (na=H.steeringAdditionalInfo) || void 0 === na?void 0:na.ktc) && void 0 !== oa?oa:void 0;aa.events=new d.EventEmitter();aa.Jx=new E.QXa(aa,aa.console,aa.config,function(da){return aa.events.emit("logdata",da);});aa.Wc=X;aa.t6=S;aa.Yj=ia;aa.AO=fa;aa.$y=ba;aa.Cz=O;aa.qt=!!P;R=[[],[],[],[]];Y=[{},{},{},{}];ea=[0,0];ka=!1;if(aa.fa){U=H.Wg.maxBitrate;aa.Xp=new G.vZa(aa,aa.config,aa.console);}["audio_tracks","video_tracks",,"mediaEventTracks"].forEach(function(da,la){da && aa.U[da] && aa.U[da].forEach(function(pa,va){if(pa.type !== m.u.X || !pa.Px && !1 !== pa.Vg)(va=c({R:aa,vo:pa,mediaType:la,qt:aa.qt,FI:va,AF:va + (la === m.u.X?aa.U.video_tracks.length:0),JT:U},aa.config,aa.console),la === m.u.V && Q.P0b && new v.OTa(Q).wmc(va.Td),la === m.u.V && (ha=q.bC.from({Zx:pa.cKa,dv:pa.bKa})),R[la].push(va),Y[la]=n.__assign(n.__assign({},Y[la]),va.pM()),va.maxBitrate > ea[va.mediaType] && (ea[va.mediaType]=va.maxBitrate),ka=ka || va.Xm);});});aa.fa && aa.U.timedtexttracks.forEach(function(da,la){var pa;if(!da.Px && !1 !== da.Vg){pa=m.u.Ia;da=c({R:aa,vo:da,mediaType:pa,qt:!1,FI:la,AF:la},aa.config,aa.console);R[pa].push(da);Y[pa]=n.__assign(n.__assign({},Y[pa]),da.pM());}});aa.U.Jm && ((0,p.assert)(ha,"Should have video track if there are adverts"),aa.Jm={Sc:aa.U.Jm.Sc.map(function(da){var la;la=ha.normalize(da.gn);la=n.__assign(n.__assign({},da),{cs:da.gn,gn:la.H,fq:la,type:"dynamic"});da.qg !== da.ads && (la.unnormalizedLocationMs=la.cs,la.locationMs=la.gn,la.normalizedLocation=la.fq,la.type=la.type);return la;})});aa.Ji=new k.FZa(aa.U,Y,X,W,aa.config,function(da){return aa.events.emit("logdata",da);});aa.fa && (aa.Mha=new h.pZa(aa.console,aa.config,aa,aa.Jx));M=V.LG;L=V.yv;aa.wK=V.We;aa.yv=L;aa.LG=M;aa.Vaa=new l.FWa(aa.Ji,aa.config,aa.R8b.bind(aa),aa.Q8b.bind(aa));aa.Vaa.events.addListener("requestError",function(da){aa.fa && aa.config.odc && 404 === da.Op && aa.jH.Itb();});aa.LZ=R;aa.hma=Y;aa.TT=ea;aa.Xm=ka;aa.wy=n.__spreadArray([],n.__read(null !== (T=H.gRa) && void 0 !== T?T:[]),!1);aa.fa && (null === (Z=R[m.u.Kn]) || void 0 === Z?0:Z.length) && aa.config.v1 && (aa.sH=new z.w_a(K,aa,aa.config,H.jfc),aa.Ef.rd(new C.u_a(aa.sH.dr)));Q.j8 && aa.fa && aa.qla();return aa;}n.__extends(I,N);Object.defineProperties(I.prototype,{U:{get:function(){return this.b7a;},enumerable:!1,configurable:!0}});Object.defineProperties(I.prototype,{fa:{get:function(){var M,K;M=this.U;K=M.Wg;return "LIVE" === M.Je && !!K;},enumerable:!1,configurable:!0}});Object.defineProperties(I.prototype,{P:{get:function(){return this.U.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(I.prototype,{Zs:{get:function(){return this.U.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(I.prototype,{duration:{get:function(){return this.U.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(I.prototype,{po:{get:function(){return this.fba;},enumerable:!1,configurable:!0}});Object.defineProperties(I.prototype,{DC:{get:function(){return this.$y;},enumerable:!1,configurable:!0}});Object.defineProperties(I.prototype,{Oz:{get:function(){(0,p.assert)(this.Vaa,"ErrorDirector is not available on old architecture prefetch viewables.");return this.Vaa;},enumerable:!1,configurable:!0}});Object.defineProperties(I.prototype,{rS:{get:function(){return this.Oz.events;},enumerable:!1,configurable:!0}});Object.defineProperties(I.prototype,{du:{get:function(){return this.jH.du;},enumerable:!1,configurable:!0}});Object.defineProperties(I.prototype,{Wp:{get:function(){return this.mF;},enumerable:!1,configurable:!0}});Object.defineProperties(I.prototype,{ndc:{get:function(){return this.a7a;},enumerable:!1,configurable:!0}});I.prototype.SPa=function(){return this.config.dzb?this.NC.SPa(this.U):!1;};I.prototype.Ma=function(){var M;this.close();this.ze();null === (M=this.KAa) || void 0 === M?void 0:M.call(this);};I.prototype.qkb=function(M){M=this.Tfa(m.u.V,M);return !(null === M || void 0 === M || !M.nnb);};I.prototype.close=function(){var M,K;this.eG=[];null === (M=this.Vaa) || void 0 === M?void 0:M.Ma();this.Ji.Ma();null === (K=this.sH) || void 0 === K?void 0:K.Ma();this.fba=!0;};I.prototype.ze=function(){var M;this.Jx.ze();null === (M=this.Mha) || void 0 === M?void 0:M.ze();};I.prototype.xW=function(M){var K,L,H;K=this;L=M.U;M=M.Cz;if(this.fa)H=L.Wg.maxBitrate;(0,p.assert)(M === this.Cz,"Updating Viewable clearplay not supported");(0,p.assert)(L.movieId === this.U.movieId,"Changing Viewable manifest movieId unsupported");["audio_tracks","video_tracks"].forEach(function(O,P){var Q,S;Q=L[O];S=K.LZ[P];(0,p.assert)(S.every(function(X){var W;W=Q[X.FI];return W && W.bP === X.trackId && (W.type === m.u.V || !1 !== W.Vg);}),"Existing tracks must still exist and be hydrated in updated manifest");Q.forEach(function(X,W){var V,fa;if(X.type !== m.u.X || !X.Px && !1 !== X.Vg){V=K.getTrackById(X.bP);if(V){(0,x.$m)(V) && (V.JT=H);X=X.streams;fa=Object.keys(V.pM());(0,p.assert)(X.length === fa.length,"Expected updated manifest track to have same number of streams");X.forEach(function(ba){ba=ba.downloadable_id;(0,p.assert)(-1 !== fa.indexOf(ba),"Changing Viewable track streams unsupported");});}else (V=c({R:K,vo:X,mediaType:P,qt:K.qt,FI:W,AF:W + (P === m.u.X?K.U.video_tracks.length:0),JT:H},K.config,K.console),S.push(V),K.hma[P]=n.__assign(n.__assign({},K.hma[P]),V.pM()),V.maxBitrate > K.TT[V.mediaType] && (K.TT[V.mediaType]=V.maxBitrate),(0,p.assert)(K.Xm || !V.Xm,"Can not update clear viewable with drm track."));}});});this.b7a=L;this.Ji.aR(this.U,this.hma);};I.prototype.$9b=function(M,K){var L,H;L=this;(0,p.assert)(this.U.Jm,"AseViewable.manifest.adverts should be defined if an adBreak hydration was requested");(0,p.assert)(this.Jm,"AseViewable.adverts should be defined if an adBreak hydration was requested");this.U.Jm.Sc.some(function(O,P){var Q,S,X;if(O.yi === K){Q=L.Jm.Sc[P];S=Q.gn;X=Q.cs;Q=Q.fq;H=n.__assign(n.__assign({},M),{cs:X,gn:S,fq:Q,yi:K,type:"dynamic"});O.qg !== O.ads && (H.unnormalizedLocationMs=H.cs,H.locationMs=H.gn,H.adBreakToken=H.yi,H.normalizedLocation=H.fq,H.type=H.type);L.Jm.Sc[P]=H;return !0;}});return H;};I.prototype.IV=function(M){var K,L,H;K=M.Nh;L=M.Ea;H=M.iDa;M=M.c5;K && L?(this.LV=new f.O3a(K,{Ea:String(L),iDa:!!H,bfc:this.config.x$.mx,wRb:this.config.x$.lv,sjc:this.config.tjc},M),this.Oz.IV(this.LV)):this.Iob || (M("SideChannel: pbcid/xid is missing."),this.Iob=!0);};I.prototype.aIa=function(){return void 0 !== this.Zs;};I.prototype.getTracks=function(M){return void 0 === M?(0,g.flatten)(this.LZ):this.LZ[M];};I.prototype.Tfa=function(M,K){M=this.getTracks(M);K=K.oO(this.U,M.map(function(L){return L.vo;}));return "number" === typeof K && 0 <= K?M[K]:void 0;};I.prototype.getTrackById=function(M){var K;this.LZ.some(function(L){return L.some(function(H){if(H.trackId === M)return (K=H,!0);});});K || this.console.warn("getTrackById not found:",M,"length:",this.LZ.length);return K;};I.prototype.Ih=function(M,K){return (M=this.pM(M)) && M[K];};I.prototype.pM=function(M){return this.hma[M];};I.prototype.Dbc=function(M){var K,L;if(void 0 === M.yka || void 0 === M.$Ma){K=this.Ji.DH.filter(function(H){return void 0 !== H.streams[M.Jb];})[0];L=K.children.filter(function(H){return H.urls.some(function(O){return O.stream.id === M.Jb;});})[0];M.yka=K.id;M.$Ma=L.id;}return {CIa:M.location === M.yka,Ebc:M.pc === M.$Ma};};I.prototype.zPa=function(M,K,L){void 0 !== K && void 0 !== L && (this.ftb(M.mediaType,K),M.zPa(K,L));};I.prototype.ftb=function(M,K){var L;L=this.config.LKa;("location" === L || "video_location" === L && M === m.u.V) && this.Wc.Hla(K);};I.prototype.We=function(M,K,L,H,O,P){(0,p.assert)(this.wK,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.wK(M,K,L,H,O,P);};I.prototype.Via=function(M,K){var L;(0,p.assert)(!this.fa,"Unexpected normalizeTimestamp. Live segments not supported. Use AsePlaygraph.normalizeLiveSegment() instead.");L=this.Tfa(m.u.V,M[m.u.V]);L || (this.console.trace("normalizeTimestamp looking for audio track in absense of video track"),L=this.Tfa(m.u.X,M[m.u.X]));if(null !== L && void 0 !== L && L.qD)return (M=g.K.Pa(K),K=L.hv(this.config,M,void 0,!0).Ba,M.add(L.qD.kg).dn(K)?K:L.tG(this.config,M).Ga);};I.prototype.Gn=function(){var M;M=this;if(this.po)return (this.console.error("updateRequestUrls, closed Viewable:",this.N),!1);m.VY.forEach(function(K){M.sxc(K) && M.hxc(K);});this.Zwc();this.events.emit("urlsUpdated",{});return !0;};I.prototype.hv=function(M,K,L){L=this.Tfa(m.u.V,L);return (null === L || void 0 === L?void 0:L.qD) && L.hv(M,K);};I.prototype.WRa=function(M,K){this.jH.WRa(M,K);};I.prototype.k6b=function(){0 > this.Ak && (this.Ak=u.e$.SFa(this.Wc.Q2(),this.config,this.console));return this.Ak;};I.prototype.sxc=function(M){var K;K=this;return this.po?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.Ua.reduce(function(L,H){return (0,g.a0)(L,H.ca.filter(function(O){return O.mediaType === M;}));},[]).map(function(L){return K.Ji.Rma(K.N,L.Td);}).every(function(L){return L;});};I.prototype.Zwc=function(){(0,p.assert)(this.Jx,"Headers not available on old architecture prefetch viewables.");this.Jx.Gn();};I.prototype.hxc=function(M){var K,L,P;L=[];if(this.po)this.console.warn("updateStreamUrls ignored, viewable cleaned up");else try{for(var H=n.__values(this.Ua),O=H.next();!O.done;O=H.next()){P=O.value.Gn(M);P.length && L.push.apply(L,P);}}catch(S){var Q;Q={error:S};}finally{try{O && !O.done && (K=H.return) && K.call(H);}finally{if(Q)throw Q.error;}}};I.prototype.fxc=function(M,K){var L,O,P,Q,S;if((M=M.steeringAdditionalInfo) && M.streamingClientConfig && Object.keys(M.streamingClientConfig).length){M=M.streamingClientConfig;this.console.trace("applying manifest based streamingClientConfig" + JSON.stringify(M));for(var H in M)if(this.kbb.hasOwnProperty(H)){O=this.kbb[H];if(K.hasOwnProperty(O)){P=M[H];if(K.set)0 === K.set((L={},L[O]=P,L)) && this.console.trace("Invalid key" + H);else {Q=typeof K[O];S=void 0;"number" === Q?S=Number(P):"boolean" === Q?S="true" === P:"string" === Q?S=P:this.console.trace("Unsupported type for" + H);K[O]=S;}}}}return K;};I.prototype.Li=function(){var M;M=this;this.Ji.Li();this.Oz.Li();this.LV && m.VY.forEach(function(K){M.LV.aPa("rebuffer",M.Ygb(K).Glb);});};I.prototype.Ygb=function(M){return this.yyc[M];};I.prototype.wpc=function(){var M;if(0 !== this.Xla.length){M=[];this.Xla.forEach(function(K){K.resume() || M.push(K);});this.Xla=M;}};I.prototype.jD=function(M,K){return this.Jx.jD(M,K);};I.prototype.Vub=function(M,K,L){this.eG.push({M:K,stream:M,i8b:L});};I.prototype.Jsb=function(){this.eG=[];};I.prototype.noc=function(M){this.eG=this.eG.filter(function(K){return K.stream !== M;});};I.prototype.moc=function(M){this.eG=this.eG.filter(function(K){return K !== M;});};I.prototype.fT=function(){var M;M=this;return this.yv()?[]:this.eG.map(function(K){return new F.E5a(M,K);});};I.prototype.jB=function(M,K,L){(0,p.assert)(this.Jx,"Headers not available on old architecture prefetch viewables.");return this.Jx.jB(M,K,L);};I.prototype.C_=function(M,K){(0,p.assert)(this.Jx,"Headers not available on old architecture prefetch viewables.");this.Jx.C_(M,K);};I.prototype.T8b=function(M){var K;K=M.mediaType;this.Ih(K,M.Jb).Uwc(e.platform.ZS()[K],this.aIa()?this.config.Iec:0);this.events.emit("onHeaderFragments",M);};I.prototype.Xnc=function(M){this.Ua.push(M);};I.prototype.Hwc=function(M){M=this.Ua.indexOf(M);(0,p.assert)(-1 !== M,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.Ua.splice(M,1);};I.prototype.zja=function(M){var K;null === (K=this.t6) || void 0 === K?void 0:K.$w(M);};I.prototype.tN=function(M){this.po?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",M):void 0 !== M.location && this.ftb(M.mediaType,M.location);};I.prototype.JH=function(M){this.po?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",M):this.Oz.Nma(M);};I.prototype.nn=function(M){var K;null === (K=this.t6) || void 0 === K?void 0:K.Sv(M);this.po?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",M):this.yv() || this.Oz.Nma(M);};I.prototype.CU=function(M,K,L){var H;L && (null === (H=this.t6) || void 0 === H?void 0:H.Sv(M));};I.prototype.Jv=function(M){this.po?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",M):(this.Oz.Tv(M,void 0,M.status,M.Tg,M.Uj),this.Gn() || this.We(M.dD || "unknown","NFErr_MC_StreamingFailure",M.Tg,M.status,M.Uj));};I.prototype.Aja=function(M){this.Xla.push(M);};I.prototype.Hrb=function(){var M,K;this.RRa(null === (M=this.U.Wg) || void 0 === M?void 0:M.J1,null === (K=this.U.Wg) || void 0 === K?void 0:K.I1,!0);};I.prototype.znc=function(){this.Fm.prefetch && void 0 !== this.Fm.prefetch.startTime && void 0 !== this.Fm.prefetch.duration && this.Oma("prefetch",this.Fm.prefetch.startTime,this.Fm.prefetch.duration,!1);this.Fm.execute && void 0 !== this.Fm.execute.startTime && void 0 !== this.Fm.execute.duration && this.Oma("execute",this.Fm.execute.startTime,this.Fm.execute.duration,!1);};I.prototype.RRa=function(M,K,L,H){var O,P,Q,S,X;(0,p.assert)(this.U.Wg,"Missing manifest liveMetadata.");Q=this.U.Wg;S=Q.J1;X=Q.I1;Q=this.Wp;this.mF={startTime:null !== (O=null !== S && void 0 !== S?S:M) && void 0 !== O?O:Q.startTime,endTime:null !== (P=null !== X && void 0 !== X?X:K) && void 0 !== P?P:Q.endTime,oG:H};M=this.mF.startTime !== Q.startTime;K=this.mF.endTime !== Q.endTime;Q=this.l9b(Q);if(L || M || K || Q)(this.events.emit("liveEventTimesUpdated",n.__assign({R:this},this.mF)),this.znc());(K || Q) && this.Ua.forEach(function(W){W.dI();});};I.prototype.dxc=function(M,K){if(this.lA[M].nG !== K.nG || this.lA[M].pG !== K.pG)(this.lA[M]=K,this.events.emit("liveLoggingInfoUpdated",{R:this,mediaType:M,info:K}));};I.prototype.Oma=function(M,K,L,H){var O,P,Q,S,X;O=!this.Fm.execute || this.Fm.execute.startTime !== K || this.Fm.execute.duration !== L || H;H=!this.Fm.prefetch || this.Fm.prefetch.startTime !== K || this.Fm.prefetch.duration !== L || H;if(this.Xp.J1){P=this.Xp.cVb(K);Q=1E3 * Number(L);S=Math.floor(Math.random() * Q) + P.H;P=P.H;X="execute" === M?"ending":"prefetch";if("execute" === M && O || "prefetch" === M && H)(this.Fm[M]={startTime:K,duration:L},this.a7a[M]={rawStartMs:P,rawEndMs:P + Q,selectedStartMs:S},this.wy=this.wy.filter(function(W){return W.type !== X;}),this.wy.push({n7:S,$0b:S,type:X}),this.events.emit("livePostplayUpdated",{R:this,J5:S,action:M}));}else this.console.warn("Received oc live message prior to event start, ignoring",{action:M,actionTime:K,duration:L});};I.prototype.pLa=function(M,K){var L;if(this.fa && M.mediaType === m.u.X){K=(0,g.oc)(K.ca,function(H){return H.mediaType === m.u.V;});(0,p.assert)((0,x.$m)(K),"onFirstFragmentReceived called with non-live branch");L=K.jv;M.Shc(K.un,this.config.Wlb?L:g.K.wa);this.Ua.forEach(function(H){return H.dP(M);});}};I.prototype.aM=function(){var M;(0,p.assert)(this.fa && this.U.Wg,"liveMetadata missing from manifest");M=(0,g.oc)(this.zub,function(K){return K.mediaType === m.u.V;}) || this.getTracks(m.u.V)[0];(0,p.assert)((0,x.$m)(M),"getCushionedLiveEdge called with non-live selected video track");return Math.max(0,this.du - M.vz - this.config.KT - this.Yj.Ylb);};I.prototype.st=function(){return g.K.Pa(Math.max(0,this.aM() - this.k6b()));};I.prototype.$rc=function(M){this.yO={vz:this.du - this.config.KT - this.Yj.Ylb - this.config.Ak - M};};I.prototype.Yrc=function(M){this.zub=M;};I.prototype.R8b=function(M){var K,L,H;if(!this.fba){K=M.ebc;L=M.Zic;H=M.ajc;M=M.bjc;this.console.warn("Streaming failure, is permanent: " + K + ", last error code: " + L + ", last http code: " + H + ", last native code: " + M);K?(this.console.warn(" > Permanent failure, done"),K=this.We("Permanent failure","NFErr_MC_StreamingFailure",L,H,M)):(this.console.warn(" > We are buffering, calling it!"),K=this.We("Temporary failure while buffering","NFErr_MC_StreamingFailure",M,H,M,!0));K || (this.console.warn(" > Resetting failures"),this.Oz.Zka());}};I.prototype.Q8b=function(){(0,p.assert)(this.LG,"Error handling not available on old architecture prefetch viewables.");this.fba || (this.Gn(),this.LG());};I.prototype.qla=function(){var M;M=this.getTracks();M=M[(0,g.nk)(M,function(K){return K.mediaType === m.u.V;})];(0,p.assert)(M,"AseViewable.scheduleLiveEdgeUpdateTask(): No video track");(0,p.assert)((0,x.$m)(M),"AseViewable.scheduleLiveEdgeUpdateTask(): Video stream undefined or not live");this.KAa=this.Yj.qla(M.Ll.H,M.Td[0].track.vz,this.jH).Ma;};I.prototype.l9b=function(M){return M.oG && this.mF.oG?this.mF.oG < M.oG:this.mF.oG !== M.oG;};return I=n.__decorate([t.MS],I);})(r.ZI);b.NTa=a;},26286:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qUa=void 0;c=a(5163);r=(function(){function n(d,g,e,f){this.N=d;this.Tr=g;this.sN=e;this.FLa=f;}Object.defineProperties(n.prototype,{R:{get:function(){var d;return null === (d=this.v8) || void 0 === d?void 0:d.R;},enumerable:!1,configurable:!0}});n.prototype.Ma=function(){var d;this.R && (this.R.Hwc(this.Qa),this.FLa(this.R));null === (d=this.v8) || void 0 === d?void 0:d.Up.release();this.v8=void 0;};n.prototype.Pb=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,e,f,l,h;return c.__generator(this,function(k){switch(k.label){case 0:return (this.Qa=d,g=this.Tr(this.N),e=g.AE,f=g.R,l=g.Up,this.v8={Up:l,R:f},f?(this.Bjb(f,d,!1),[2,f]):[4,e]);case 1:return (h=k.va(),this.Bjb(h,d,!0),[2,h]);}});});};n.prototype.Bjb=function(d,g,e){this.v8 && (this.v8.R=d,d.Xnc(g),this.sN(g,d,e));};return n;})();b.qUa=r;},39795:function(r,b,a){var c,n,d,g,e,f;Object.defineProperties(b,{__esModule:{value:!0}});b.QXa=void 0;c=a(5163);n=a(66164);d=a(8171);g=a(35018);r=a(81392);e=a(52571);f=a(42431);a=(function(l){function h(k,m,p,v){var q;q=l.call(this,k) || this;q.R=k;q.console=m;q.config=p;q.cLa=v;q.headers=[Object.create(null),Object.create(null)];q.tlb=[void 0,void 0];q.Qq=f.nJ.instance.aG("headers","" + q.R.N,!0,!1,{},q.config);q.Qq.Pb();return q;}c.__extends(h,l);Object.defineProperties(h.prototype,{Ld:{get:function(){return this.Qq;},enumerable:!1,configurable:!0}});h.prototype.ze=function(){var k;k=this;this.headers.forEach(function(m,p){for(var v in m)(m[v].ze(),k.VCa(p,v));});this.Qq && f.nJ.instance.bea(this.Qq);this.Qq=void 0;};h.prototype.jD=function(k,m){return this.headers[k][m];};h.prototype.jB=function(k,m,p){var v,q,u,t;v=this.config;if(this.jD(k.mediaType,k.Jb))return !1;q=this.kcc;u=this.lcc;if(void 0 !== v.zKa && void 0 !== q && void 0 !== u){t=n.platform.time.ya();if(t - q < v.zKa || t - u < v.zKa)return !1;}k=this.mwc(k,m,p);this.lcc=n.platform.time.ya();return k;};h.prototype.mwc=function(k,m,p){var v;v=k.mediaType;d.hs.Ax(v);if(this.jD(v,k.Jb))k=!1;else {m={M:m,offset:0,la:this.G1(k)};p || (p=this.Qq);(0,e.assert)(p);k.fa && p.track.RQa && (m.offset=0,m.la=0);k.url && (this.R.Ygb(v).Glb=k.lM(!0));if(!this.kXb(k,p,m).open())return (this.R.We("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);k=!0;}return k;};h.prototype.Gn=function(){var k,m,p;k=this;m=[];p=this.R.fa;this.headers.forEach(function(v,q){var t;d.hs.Ax(q);for(var u in v){q=v[u];t=q.ZRa(p);1 === t?m.push(q):2 === t && k.R.We("swapUrl failure");}});return m;};h.prototype.nn=function(k,m){var p,v;p=k.mediaType;v=d.hs.Ax(p);this.R.po?v.warn("header onrequestcomplete ignored, session shutdown:",k.toString()):(this.cLa({type:"logdata",target:"startplay",Hc:{usedNativeDataView:k.Oxc}}),k.Pja > k.LLa && (this.tlb[p]=k.Pja),this.X8b(k),this.kcc=n.platform.time.ya());this.PL(k,m);};h.prototype.C_=function(k,m){var p,v,q;p=this.headers[k];for(v in p){q=p[v];q && !q.stream.Ha && q.Bh === m && (this.VCa(k,v),q.ze());}};h.prototype.hOb=function(k){this.headers[k.mediaType][k.Jb]=k;};h.prototype.X8b=function(k){var m,p,v,u;m=this.config;p=d.hs.Ax(k.mediaType);v=k.stream.Ha;if(m.DCa){m=v.length;p.trace("fragment count:",m);for(var q=0;q < m;++q){u=v.get(q);p.trace("fragment: " + q + ", startPts: " + u.Ba.H + ", duration: " + u.Ob.H + ", offset: " + u.offset);}}this.fOb(k);};h.prototype.fOb=function(k){var m,p;m=k.mediaType;p=k.Jb;d.hs.Ax(m);k.Dpb && (k.Dpb.forEach(function(v){(v=v.Ih(m,p)) && v !== k.stream && !v.Gg && v.vbb(k.stream);}),k.Dpb=void 0);this.R.T8b(k);};h.prototype.kXb=function(k,m,p){var v,q;v=this;q=d.hs.Ax(k.mediaType);k=new g.wTa(k,this.config,m,p,this,p.M,!1,q);this.config.gPb && (m=this.R.LV) && p.aB && (p.aB=m.ht({}));k.addListener("headerRequestCancelled",function(u){v.U8b(u.request);});this.hOb(k);return k;};h.prototype.G1=function(k){var m,p,v,q;m=k.xl;p=k.R;v=p.duration;q=this.config;return k.fa?512:p.qt?q.Eeb?q.Eeb:q.tga:q.Mxc && m?m.offset + m.size:(k=this.tlb[k.mediaType])?k + 128:q.G1?2292 + 12 * Math.ceil(v / 2E3):q.tga;};h.prototype.U8b=function(k){this.VCa(k.mediaType,k.Jb);};h.prototype.VCa=function(k,m){delete this.headers[k][m];};return h;})(r.ZI);b.QXa=a;},27457:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.vZa=void 0;c=a(91176);n=a(26388);d=a(8149);r=(function(){function g(e,f,l){this.R=e;this.config=f;this.console=l;this.R.Hrb();}g.prototype.SBa=function(e){return (e instanceof c.K?e:c.K.Pa(new Date(e).getTime())).ka(this.yQa);};g.prototype.cVb=function(e){var f;e=this.SBa(e);f=this.cEa;if(f)return e.ka(f);this.console.warn("LivePositionService.convertEpochToLiveUXContentTimestamp(): Event start time is not available");return c.K.wa;};g.prototype.sda=function(e){return this.yQa.add(e);};Object.defineProperties(g.prototype,{yQa:{get:function(){return this.iR.ka(this.y1b);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{fuc:{get:function(){var e;e=this.R.Wp.oG;if(void 0 !== e)return c.K.Pa(e);e=this.R.Wp.endTime;if(void 0 === e)return c.K.Qj;e=new Date(e).getTime() + this.config.Xlb;return c.K.Pa(e);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{J1:{get:function(){var e;e=this.R.Wp.startTime;if(void 0 !== e)return c.K.Pa(new Date(e).getTime());},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{I1:{get:function(){var e;e=this.R.Wp.endTime;if(void 0 !== e)return c.K.Pa(new Date(e).getTime());},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{euc:{get:function(){return this.fuc.ka(this.yQa);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{cEa:{get:function(){var e;e=this.R.Wp.startTime;if(void 0 !== e)return this.SBa(e);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{XDa:{get:function(){var e;e=this.R.Wp.endTime;if(void 0 !== e)return this.SBa(e);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{iR:{get:function(){var e;e=this.R.getTracks();e=e[(0,c.nk)(e,function(f){return f.mediaType === n.u.V;})];(0,c.assert)((0,d.$m)(e),"AseViewable.scheduleLiveEdgeUpdateTask(): Video stream undefined or not live");return c.K.Pa(e.Td[0].track.vz);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{y1b:{get:function(){var e,f;f=this.R.U.Wg;f=null !== (e=null === f || void 0 === f?void 0:f.H1) && void 0 !== e?e:0;return c.K.Pa(f);},enumerable:!1,configurable:!0}});return g;})();b.vZa=r;},31303:function(r,b,a){var c,n,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.BZa=b.lJb=void 0;c=a(66164);n=a(91176);d=a(48170);g=(function(){function e(){this.Vec=20;this.max=Number.NEGATIVE_INFINITY;this.min=Number.POSITIVE_INFINITY;this.trace=[];this.jPa=[];this.count=0;}e.prototype.Vba=function(f,l){this.count++;this.max < f && (this.max=f);this.min > f && (this.min=f);this.trace.length >= this.Vec && (this.trace.shift(),this.jPa.shift());this.trace.push(f);this.jPa.push(l);};return e;})();b.lJb=g;r=(function(){function e(f,l){this.R=f;this.config=l;this.console=new c.platform.Console("ASEJS","asejs|serverclock");this.Q7a=new g();}Object.defineProperties(e.prototype,{du:{get:function(){var f;if(void 0 === this.nq){f=c.platform.time.now();d.G && this.console.warn("serverTimeMs will be based on the device clock and may be inaccurate prior to setting serverTimeDelta from OC clock sync." + ("returning ").concat(f));return f;}return c.platform.time.ya() + this.nq;},set:function(f){var l;this.jA=c.platform.time.ya();this.Bv=f;l=this.Bv - this.jA;(void 0 === this.nq || l > this.nq) && this.Oyb(l,f);},enumerable:!1,configurable:!0}});e.prototype.Oyb=function(f,l){var h;h=this.nq;this.nq=f;void 0 !== h && (this.Jtb(h),this.Q7a.Vba(f - h,l));d.G && this.console.debug("Updating serverTimeDelta from ",h,"ms to ",f,"ms");};e.prototype.WRa=function(f,l){var h,k;d.G && this.console.log("updateServerTimeMs: ",f,l);if(!this.config.uea || void 0 === this.nq || 0 > l)this.du=f;else {this.jA=c.platform.time.ya();this.Bv=f;h=this.Bv - this.jA;k=this.jA + this.nq;if(k < this.Bv || k > this.Bv + l + this.config.Gia)(d.G && this.console.debug("updateServerTimeDelta: ",this.nq,h,this.Bv,k,l),this.Oyb(h,f));}};Object.defineProperties(e.prototype,{kPa:{get:function(){return this.Q7a;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{oS:{get:function(){var f;f=c.platform.time.ya();return void 0 === this.nq?{Lab:f}:{Lab:f,du:f + this.nq,jA:this.jA,Bv:this.Bv};},enumerable:!1,configurable:!0}});e.prototype.Itb=function(){var f;if(void 0 !== this.jA && void 0 !== this.Bv){f=this.nq;this.nq=this.Bv - this.jA;d.G && this.console.debug("resync: Updating serverTimeDelta from ",f,"ms to ",this.nq,"ms");this.Jtb(f);}};e.prototype.Jtb=function(f){this.R.yO && ((0,n.assert)(f && this.nq,"Unexpected simulatedLiveEdge during initial clock sync. simulatedLiveEdge should be set during pipeline normalization AFTER the initial header request and intial clock sync occurs."),this.R.yO={vz:this.R.yO.vz + (this.nq - f)});};return e;})();b.BZa=r;},10943:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.d1a=void 0;c=a(66164);n=a(79048);d=a(91176);r=(function(){function g(e,f){this.N=e;this.ryc=f;this.Cz=!0;this.Qib=this.Xm=this.qt=!1;this.P=("").concat(n.yu);this.fa=!1;this.console=new c.platform.Console("ASEJS","media|asejs","PaddingViewable");}Object.defineProperties(g.prototype,{du:{get:function(){this.console.warn("Uexpected access of serverTimeMs on PaddingViewable. serverTimeMs is not server synced on PaddingViewable and will be based on the device clock.");return c.platform.time.now();},enumerable:!1,configurable:!0}});g.prototype.qkb=function(){return !1;};g.prototype.getTrackById=function(){};g.prototype.Li=function(){};g.prototype.Jsb=function(){};g.prototype.We=function(){return !0;};g.prototype.Via=function(e,f){var l;(0,d.assert)(this.RL,"Padding viewable must have fragmentDuration set when timestamp normalization is requested");e=Math.floor(f / this.RL) * this.RL;l=Math.ceil(f / this.RL) * this.RL;return Math.abs(f - e) <= Math.abs(f - l)?d.K.Pa(e):d.K.Pa(l);};g.prototype.st=function(){};return g;})();b.d1a=r;},66133:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.E5a=void 0;r=(function(){function a(c,n){var d;this.R=c;this.Qcb=n;d=n.stream;n=n.i8b;n=n();this.identifier=("").concat(d.N,"-").concat(d.mediaType,"-").concat(d.bitrate);this.mediaType=d.mediaType;this.jg=n.jg;this.Fd=n.Fd;this.Mr=n.Mr;this.pm=n.pm;this.Om=n.Om;this.PN=0;this.ON=Infinity;this.au=this.UD=1;this.ES=0;this.groupId=("").concat(c.N);this.xv=!0;this.Rj=this.qo=!1;}a.prototype.jha=function(){return {result:!0};};a.prototype.KM=function(){var c,n;c=this.Qcb;n=c.stream;if(n.jB(c.M))return (this.R.noc(n),{Lh:!0,reason:"success"});this.R.moc(this.Qcb);return {Lh:!1,reason:"viewableTryIssueHeaderRequest"};};a.prototype.toJSON=function(){return {mediaType:this.mediaType,Fx:this.Fx,jg:this.jg,Fd:this.Fd,Mr:this.Mr,pm:this.pm,Om:this.Om,ES:this.ES,PN:this.PN,UD:this.UD,ON:this.ON,au:this.au,ug:this.ug,$V:this.$V,groupId:this.groupId,xv:this.xv,qo:this.qo,Rj:this.Rj,identifier:this.identifier};};return a;})();b.E5a=r;},24473:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.O3a=void 0;r=a(66164);c=a(69575);n=r.platform.Am;new r.platform.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function d(g,e,f){this.Hda=e;this.c5=f;this.uNb=new c.Lwa(g);this.Ea=e.Ea;this.kKb=1E3 * e.bfc / e.wRb;this.g_b=e.iDa;this.G9a=!1;}d.prototype.ht=function(g){var e,f,l;e={s_xid:this.Ea,dl:this.g_b?1:0};this.Hda.sjc && (e.r_pad=1);g.RF && (e.bs=(0,c.dda)(Math.floor(g.RF / this.kKb) + 1,1,5));g.Qia && (e.limit_rate=g.Qia);g.v$a && (e.bb_reason=g.v$a);g.yxb && (e.tm=g.yxb);g.Rqb && (e.play_ms=g.Rqb);if(g.Rpb){f=g.Rpb;l=f.Lt;"HYBRID" === l?(e.hybrid=f.lT.Y9b,e.cspr=f.lT.fm,e.cu=f.lT.NAa,e.cldl=f.lT.dOa,e.h_ms=f.lT.cfc):"CCSP" === l && ((l=f.eha()) || !l && this.G9a) && (e.cpr_ss=f.iE,e.cpr_ca=f.OC,e.cpr_rec=f.XD,this.G9a=l);}g.iAa && (e.br="" + g.iAa.start + "+" + g.iAa.size);return this.$Lb(e);};d.prototype.aPa=function(g,e){var f,l;try{f=new n(void 0,"notification");l=this.ht({v$a:g});e && l && f.open(e,void 0,2,void 0,void 0,void 0,l);}catch(h){this.c5("SideChannel: Error when sending sendBlackBoxNotification. Error: " + h);}};d.prototype.$Lb=function(g){var e;try{e=this.SMb(g);return this.uNb.encrypt(e);}catch(f){this.c5("SideChannel: Error when obfuscating msg. Error: " + f);}};d.prototype.SMb=function(g){return Object.keys(g).map(function(e){return encodeURIComponent(e) + "=" + encodeURIComponent(JSON.stringify(g[e]));}).join("&");};return d;})();b.O3a=a;},74418:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u,t;Object.defineProperties(b,{__esModule:{value:!0}});b.BTa=void 0;c=a(5163);r=a(90745);n=a(91176);d=a(91176);g=a(66164);e=a(48170);f=a(29358);l=a(29092);h=a(55024);k=a(63002);m=a(53693);p=a(33604);v=a(52571);q=a(54540);u=a(69575);t=a(59158);a=(function(w){function x(){var z;z=w.apply(this,c.__spreadArray([],c.__read(arguments),!1)) || this;z.J7a=0;z.mya=0;z.Laa=0;z.cxa=0;return z;}c.__extends(x,w);x.prototype.fOa=function(z){var y,A,B,C;w.prototype.fOa.call(this,z);this.J7a++;this.mya++;this.c8a=g.platform.time.ya();this.GQ || (this.GQ={UUb:null === (y=z.Ga) || void 0 === y?void 0:y.H,rda:null === (A=z.Ba) || void 0 === A?void 0:A.H,index:z.index},this.Yaa || (this.Yaa=this.GQ));y=this.mba;A=!1;y && 100 > Math.abs(y.Rb.H - (null === (B=z.Hb) || void 0 === B?NaN:B.H)) && (this.Laa+=z.Rb.H - y.Rb.H,this.cxa++,A=!0);A || (this.Laa=null === (C=z.Ob) || void 0 === C?void 0:C.H,this.cxa=1);this.mba=z;};x.prototype.stop=function(){w.prototype.stop.call(this);this.mya=0;this.GQ=void 0;};x.prototype.Dgb=function(){var z,y,A,B,C;y=this.Uv;A=y.Ida;if(A){C=A.Pe(this.jC);C && C.jf && (B=C.jf.xhb());return {RM:B,currentBranch:{sId:A.M && A.M.id,cancelled:A.Qf},currentReceivedCount:y && y.tYb,totalReceivedCount:this.J7a,currentState:y && y.mcb || "Uninitialized",lastRequestPushed:this.mba && ({contentEndPts:null === (z=this.mba.Ga) || void 0 === z?void 0:z.H,fragmentIndex:this.mba.index}),tslp:this.c8a && g.platform.time.ya() - this.c8a,cpts:this.Laa,crq:this.cxa,rslp:this.mya,firstRequestSSPushed:this.GQ && ({contentStartPts:this.GQ.rda,fragmentIndex:this.GQ.index}),firstRequestPushed:this.Yaa && ({contentStartPts:this.Yaa.rda,fragmentIndex:this.Yaa.index})};}};return x;})((function(w){function x(z,y,A,B,C,D,E,F,G,J,N){var I;I=w.call(this) || this;I.Zq=z;I.jC=y;I.config=B;I.console=C;I.$=D;I.Rt=E;I.bd=F;I.Fn=G;I.KQ=new d.us(!1);I.JQ=new d.us(n.K.Pa(-Infinity));I.console=(0,u.xg)(g.platform,I.console,("AsePlayerBuffer [").concat(y,"]:"));I.Uv=new f.pUa(I.console,A,y);I.resume();D && E && F && (N?(I.UH=N,N.bx(D,F,I.Zq)):I.Lbb(),z=new k.KWa(null === D || void 0 === D?void 0:D.bd,n.K.Pa(I.config.eU),C),I.Uv.O_(z),z=new t.iZa(null === D || void 0 === D?void 0:D.bd,n.K.Pa(I.config.eU),C,I.$),I.Uv.O_(z),I.config.x9a && (D=new m.a1a(null === D || void 0 === D?void 0:D.bd,I.config.x9a,n.K.Pa(I.config.tPb),C),I.Uv.O_(D)),J && (I.fub=new p.C3a(J,I.mediaType,C),I.Uv.O_(I.fub)),e.G && I.config.w0b && (C=new q.yZa(C),I.Uv.O_(C)));I.Zq.on("requestAppended",function(M){I.KQ.set(!0);M.request.Rb && I.JQ.set(M.request.Rb);I.emit("requestAppended");});return I;}c.__extends(x,w);Object.defineProperties(x.prototype,{$p:{get:function(){return this.KQ;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{NM:{get:function(){return this.JQ;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{akb:{get:function(){return this.Uv.Kh;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{xO:{get:function(){return this.Zq.endOfStream;},enumerable:!1,configurable:!0}});x.prototype.Lbb=function(){(0,v.assert)(this.$ && this.Rt && this.bd,"Player should be defined");this.UH && this.UH.ELa();this.UH=new h.A2a(this.jC,this.console,this.$,this.Zq,this.$.events,this.Rt,this.bd,this.Fn);};Object.defineProperties(x.prototype,{mediaType:{get:function(){return this.jC;},enumerable:!1,configurable:!0}});x.prototype.Dgb=function(){};x.prototype.resume=function(){e.G && this.console.trace("resume");this.gwb();};Object.defineProperties(x.prototype,{gQb:{get:function(){return this.AQ;},enumerable:!1,configurable:!0}});x.prototype.h7=function(){this.Zq.Yia(!0);};x.prototype.reset=function(z,y){var A,B,C;void 0 === z && (z=!1);e.G && this.console.trace("AsePlayerBuffer.reset mediaTypes:",y);this.stop();this.Zq.reset(z);this.KQ.set(!1);this.JQ.set(n.K.Pa(-Infinity));z || (this.AQ=void 0,null === (A=this.UH) || void 0 === A?void 0:A.reset(),z=null === (B=this.$) || void 0 === B?void 0:B.Zg,null === (C=this.fub) || void 0 === C?void 0:C.sic(z,y || z));};x.prototype.Md=function(z){void 0 === z && (z=!1);e.G && this.console.trace("restart");this.reset(z);this.Zq.resume();this.gwb(!0);};x.prototype.stop=function(){e.G && this.console.trace("stop");this.Uv.twb();this.Zq.pause();};x.prototype.close=function(){var z;e.G && this.console.trace("close");null === (z=this.UH) || void 0 === z?void 0:z.close();};x.prototype.Ma=function(){this.stop();this.close();};x.prototype.tU=function(){this.config.OEa && this.Zq.g3b();this.Zq.oea();};x.prototype.pI=function(z){this.Zq.pI(z);};x.prototype.W2b=function(z){this.Zq.Zgc(z);};x.prototype.Kj=function(z){var y;return !(null === (y=this.UH) || void 0 === y || !y.Kj(z));};x.prototype.gwb=function(z){if(!this.Uv.Kh || z)(this.Uv.spc(),l.AsyncIterator.DIa(this.Uv,this.Obc.bind(this)));};x.prototype.Obc=function(z){z.done || this.fOa(z.value);};x.prototype.fOa=function(z){var y,A,B,C,D,E,F,G;e.G && this.console.trace(("requestReceived: ").concat(null === (y=this.Uv.Ida) || void 0 === y?void 0:y.M.id) + (" ").concat(z.toString(),", edit: ").concat(JSON.stringify(z.sa)));this.Zq.endOfStream?e.G && this.console.error("Buffer manager has declared EOS, ignoring request",z.toString()):(this.AQ?(this.AQ.icc=null === (E=z.Ga) || void 0 === E?void 0:E.H,this.AQ.mcc=null === (F=z.Rb) || void 0 === F?void 0:F.H,this.AQ.vlb=z.Rb):this.AQ={HIc:null === (A=z.Ba) || void 0 === A?void 0:A.H,IIc:null === (B=z.Hb) || void 0 === B?void 0:B.H,icc:null === (C=z.Ga) || void 0 === C?void 0:C.H,mcc:null === (D=z.Rb) || void 0 === D?void 0:D.H,vlb:z.Rb},z.Sz && z.stream.track.Xm && (null === (G=this.$) || void 0 === G || !G.C3(z.R.N)) && this.emit("drmNeeded",{N:z.R.N,Or:z.Hb}),this.Zq.eQb(z));};return x;})(r.EventEmitter));b.BTa=a;},92140:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.X3a=void 0;r=(function(){function a(){this.E9b=this.zda([{x:32,y:3.3},{x:48,y:3.65},{x:64,y:4.24},{x:80,y:4.56},{x:96,y:4.67}]);this.fzc=this.zda([{x:16,y:2},{x:32,y:3.2},{x:48,y:3.6},{x:64,y:3.8},{x:80,y:4.3},{x:96,y:4.5},{x:112,y:4.6},{x:128,y:4.7},{x:144,y:4.8}]);this.DYb=this.zda([{x:48,y:2.73},{x:64,y:3.15},{x:80,y:3.39},{x:96,y:3.59},{x:128,y:4.55},{x:192,y:4.8}]);this.CYb=this.zda([{x:192,y:2.9},{x:256,y:3.4},{x:320,y:3.8},{x:384,y:4.3},{x:448,y:4.6},{x:512,y:4.75},{x:576,y:4.76},{x:640,y:4.9},{x:768,y:4.9}]);}a.T5b=function(){a.instance || (a.instance=new a());return a.instance;};a.prototype.zda=function(c){c.sort(function(n,d){return n.x - d.x;});return function(n){var d,g;if(n < c[0].x){d=(c[1].y - c[0].y) / (c[1].x - c[0].x);g=c[0].y - d * c[0].x;return d * n + g;}if(n > c[c.length - 1].x)return (d=(c[c.length - 1].y - c[c.length - 2].y) / (c[c.length - 1].x - c[c.length - 2].x),g=c[c.length - 1].y - d * c[c.length - 1].x,d * n + g);for(g=0;g < c.length - 1;g++)if(n >= c[g].x && n <= c[g + 1].x)return (d=(c[g + 1].y - c[g].y) / (c[g + 1].x - c[g].x),g=c[g].y - d * c[g].x,d * n + g);};};a.prototype.Ula=function(c,n){return (-1 !== n.indexOf("xheaac")?this.fzc:-1 !== n.indexOf("heaac")?this.E9b:-1 !== n.indexOf("ddplus-2")?this.DYb:this.CYb)(c);};return a;})();b.X3a=r;},71472:function(r,b,a){var c,n,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.P8=void 0;c=a(5163);n=a(52571);r=a(85254);d=a(5800);a=a(71808);g=(function(){function e(f,l){this.console=f;this.eb=[];this.If=void 0;this.pe=0;l && l.length && (Array.isArray(l)?(this.eb=l.slice(),this.KZ(0,this.eb.length)):l instanceof e && (this.eb=l.eb.slice(),this.KZ(0,this.eb.length)));}Object.defineProperties(e.prototype,{length:{get:function(){return this.eb.length;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{empty:{get:function(){return 0 === this.eb.length;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{first:{get:function(){return this.eb[0];},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{cd:{get:function(){return this.eb[this.eb.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{nb:{get:function(){return this.first && this.first.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{xb:{get:function(){return this.cd && this.cd.xb;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{ft:{get:function(){return this.If;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{la:{get:function(){return this.pe;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{O:{get:function(){return this.first && this.first.O;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{vn:{get:function(){return this.first && this.first.vn;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Ha:{get:function(){return this.eb;},enumerable:!1,configurable:!0}});e.prototype.Twc=function(f){this.pe+=f;};e.prototype.Bca=function(){var f;if(0 === this.eb.length)((0,n.assert)(void 0 === this.If),(0,n.assert)(0 === this.pe));else {(0,n.assert)(this.If instanceof d.xB);(0,n.assert)("number" === typeof this.pe);(0,n.assert)(void 0 !== this.ft && this.ft.nb === this.nb);f=this.eb.reduce(function(l,h,k){return 0 === k || h.nb === l?h.xb:l;},0);(0,n.assert)(this.ft.xb === f);(0,n.assert)(this.eb.reduce(function(l,h,k){return 0 === k || h.nb === l?h.xb:l;},0) === this.ft.xb);(0,n.assert)(this.eb.reduce(function(l,h){return l + h.la;},0) === this.pe);}};e.prototype.get=function(f){0 > f && (f+=this.eb.length);return this.eb[f];};e.prototype.push=function(f){this.eb.push(f);this.KZ(this.eb.length - 1);return this.length;};e.prototype.unshift=function(f){this.eb.unshift(f);this.KZ(0,1);return this.length;};e.prototype.pop=function(){if(0 !== this.eb.length)return (this.jya(this.eb.length - 1),this.eb.pop());};e.prototype.shift=function(){if(0 !== this.eb.length)return (this.jya(0),this.eb.shift());};e.prototype.splice=function(f,l){for(var h,k=[],m=2;m < arguments.length;m++)k[m - 2]=arguments[m];0 > f && (f+=this.eb.length);0 > f && (f=0);f > this.eb.length && (f=this.eb.length);if(void 0 === l || 0 > l)l=0;l=Math.min(l,this.eb.length - f);0 < l && this.jya(f,f + l);m=(h=this.eb).splice.apply(h,c.__spreadArray([f,l],c.__read(k),!1));0 < k.length && this.KZ(f,f + arguments.length - 2);return m;};e.prototype.slice=function(f,l){void 0 === f && (f=0);void 0 === l && (l=this.eb.length);0 > f && (f+=this.eb.length);if(f >= this.eb.length)return new e(this.console);l > this.eb.length && (l=this.eb.length);0 > l && (l+=this.eb.length);return new e(this.console,this.eb.slice(f,l));};e.prototype.yr=function(f){if(0 === this.eb.length || f.nb >= this.xb)this.push(f);else if(f.xb <= this.nb)this.unshift(f);else {for(var l=0,h=this.eb.length - 1,k;l < h - 1;)(k=Math.floor((h + l) / 2),(0,n.assert)(k !== h && k !== l),f.nb >= this.eb[k].xb?l=k:h=k);(0,n.assert)(l !== h,"Fragments may not be in order");(0,n.assert)(this.eb[l].xb <= f.nb && this.eb[h].nb >= f.xb,"Inserted fragment does not fit within array");this.splice(h,0,f);}};e.prototype.remove=function(f){f=this.eb.indexOf(f);if(0 > f)return !1;this.splice(f,1);return !0;};e.prototype.concat=function(){for(var f=[],l=0;l < arguments.length;l++)f[l]=arguments[l];f=f.map(function(h){return h.eb;});return new e(this.console,Array.prototype.concat.apply(this.eb,f));};e.prototype.forEach=function(f){var l;l=this;this.eb.forEach(function(h,k){return f(h,k,l);});};e.prototype.some=function(f){var l;l=this;return this.eb.some(function(h,k){return f(h,k,l);});};e.prototype.every=function(f){var l;l=this;return this.eb.every(function(h,k){return f(h,k,l);});};e.prototype.map=function(f){var l;l=this;return this.eb.map(function(h,k){return f(h,k,l);});};e.prototype.reduce=function(f,l){var h;h=this;return this.eb.reduce(function(k,m,p){return f(k,m,p,h);},l);};e.prototype.indexOf=function(f){return this.eb.indexOf(f);};e.prototype.find=function(f){var l,h;l=this;return this.eb.some(function(k,m){h=m;return f(k,m,l);})?this.eb[h]:void 0;};e.prototype.findIndex=function(f){var l,h;l=this;return this.eb.some(function(k,m){h=m;return f(k,m,l);})?h:-1;};e.prototype.filter=function(f){var l;l=this;return new e(this.console,this.eb.filter(function(h,k){return f(h,k,l);}));};e.prototype.FS=function(f){for(var l=this.eb.length - 1;0 <= l;--l)f(this.eb[l],l,this);};e.prototype.gQa=function(f){for(var l=this.eb.length - 1;0 <= l;--l)if(f(this.eb[l],l,this))return !0;return !1;};e.prototype.xEa=function(f){if(this.empty || f < this.Ba.H || f >= this.Ga.H)return -1;for(var l=0,h=this.eb.length - 1,k;h > l;){k=Math.floor((h + l) / 2);if(f >= this.eb[k].Ba.H && f < this.eb[k].Ga.H){h=k;break;}f < this.eb[k].Ga.H?h=k - 1:l=k + 1;}return h;};e.prototype.P1=function(f){if(this.empty || f < this.Hb.H || f >= this.Rb.H)return -1;for(var l=0,h=this.eb.length - 1,k;h > l;){k=Math.floor((h + l) / 2);if(f >= this.eb[k].Hb.H && f < this.eb[k].Rb.H){h=k;break;}f < this.eb[k].Rb.H?h=k - 1:l=k + 1;}return h;};e.prototype.Seb=function(f){f=this.P1(f);return 0 <= f?this.eb[f]:void 0;};e.prototype.Qxb=function(f,l){this.remove(f);l.yr(f);};e.prototype.update=function(){this.If && (this.If.nrc(this.nb),this.z_(0));};e.prototype[Symbol.iterator]=function(){var f;return c.__generator(this,function(l){switch(l.label){case 0:(f=0,l.label=1);case 1:return f < this.eb.length?[4,this.eb[f]]:[3,4];case 2:(l.va(),l.label=3);case 3:return (f++,[3,1]);case 4:return [2];}});};e.prototype.z_=function(f){var l;l=this.eb[f].xb;for(f+=1;f < this.eb.length && l === this.eb[f].nb;++f)l=this.eb[f].xb;f < this.eb.length?void 0 === this.If?this.If=new d.xB(this,{xb:l}):this.If.HV(l):void 0 === this.If?this.If=new d.xB(this,{}):this.If.fda();};e.prototype.bKb=function(f,l){for(var h=f;h < l;++h)this.pe+=this.eb[h].la;void 0 === this.If || 0 === f?this.z_(0):this.If.xb === this.xb?this.z_(f - 1):this.eb[f].nb === this.If.xb && this.z_(f);};e.prototype.Vn=function(f,l){var h;if(0 === f)(this.If=void 0,l < this.length && this.z_(l));else {h=this.If;h.xb > this.eb[f - 1].xb && (l < this.length?h.HV(this.eb[f - 1].xb):h.fda());}for(;f < l;++f)this.pe-=this.eb[f].la;};e.prototype.KZ=function(f,l){void 0 === l && (l=f + 1);this.bKb(f,l);};e.prototype.jya=function(f,l){void 0 === l && (l=f + 1);this.Vn(f,l);};return e;})();b.P8=g;(0,r.Mk)(a.ow,g);},47743:function(r,b,a){var c,n,d,g,e,f,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.doa=void 0;c=a(5163);n=a(66164);a(52571);r=a(85254);d=c.__importDefault(a(14282));g=a(50468);e=a(50247);f=n.platform.Am;l=a(51440);h=a(45691);a=(function(k){function m(p,v,q,u,t,w,x,z){var M2T,y;M2T=2;for(;M2T !== 7;){switch(M2T){case 2:var m_D="m";m_D+="ed";m_D+="ia";var j3A="media";j3A+="(ed";j3A+="it)";var O4F="1";O4F+="SI";O4F+="Yb";O4F+="ZrNJ";O4F+="Cp9";O4F;y=q.sa?j3A:m_D;void 0 === q.responseType && (q.responseType=q.sa || f.Rf && !f.Rf.rOa.xva?0:1);v=k.call(this,p,v,y,q,u,t,w,x) || this;v.tA=!1;g.Ro.Pb(v,p,t,q,z);return v;break;}}}var R8;R8=2;for(;R8 !== 3;){switch(R8){case 2:c.__extends(m,k);m.create=function(p,v,q,u,t,w,x,z){var l3K;l3K=2;for(;l3K !== 8;){switch(l3K){case 4:l3K=v.GDa && p.mediaType !== d.default.Ln.Ia && 0 === u.la?3:9;break;case 5:return new l.LTa(p,q,u,t,w,v,x,z);break;case 1:l3K=p.mediaType === d.default.Ln.V && 0 < u.la?5:4;break;case 9:return new m(p,q,u,t,w,v,x,z);break;case 3:return new h.yTa(p,q,u,t,w,v,x,z);break;case 2:l3K=!v.yl && u.sa?1:9;break;}}};m.prototype.toString=function(){var E3C;E3C=2;for(;E3C !== 1;){switch(E3C){case 2:var h8w="I";h8w+="D";h8w+=": ";return h8w + this.Fi() + ":" + g.Ro.prototype.toString.call(this);break;}}};return m;break;}}})(e.aX);b.doa=a;(0,r.Mk)(g.Ro,a,!1);},50468:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Ro=void 0;c=a(5163);n=a(91176);d=a(66164);g=a(52571);e=c.__importDefault(a(14282));f=a(95591);r=a(85254);l=a(89645);h=a(69575);k=a(78015);m=a(5800);a=a(71808);p=(function(v){function q(u,t,w,x){var z;z=v.call(this,u,w) || this;z.sea=!1;q.Pb(z,u,t,w,x);return z;}c.__extends(q,v);q.Pb=function(u,t,w,x,z){var y;k.rP.NHa(u,t,x);u.mh=x.index;u.fC=x.nb;u.Iu=x.xb;u.pNb=x.Gb?x.Gb:t.Gb;u.ZA=x.ZA;u.M=w;u.cGa=z;u.z6a=!!x.Sz;u.W6a=!!x.zk;u.G7a=null !== (y=x.region) && void 0 !== y?y:0;u.y6a=!!x.Wea;u.V6a=!!x.Ux;u.Na=void 0 === x.a2 || void 0 === x.gfa || x.a2 === x.nb && x.gfa === x.xb?u:new m.xB(u,{nb:x.a2,xb:x.gfa});u.OLb=x.Bia;u.cKb=x.Zk;u.kT=t.kT;u.Xh=x.sa?u.Eob(x.sa):void 0;u.b8a=x.fB;u.IF=!1;u.pib=!1;u.wn=[];};q.Eda=function(u){for(var t=new Uint32Array(u.length),w=new Uint32Array(u.length),x=new Uint8Array(u.length),z=new Uint8Array(u.length),y=0,A,B,C=0;C < u.length;++C)(A=u[C],B=A.pe,t[C]=A.Iu - A.fC,w[C]=B,x[C]=A.stream.gu,void 0 !== A.Gb && null !== A.Gb && (z[C]=A.Gb),y+=B);return new f.Iva(t,w,u.length?u[0].O:1E3,y);};Object.defineProperties(q.prototype,{qac:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ox:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{index:{get:function(){return this.mh;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Gb:{get:function(){return this.pNb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gAa:{get:function(){return 8 * this.la / this.Ob.H;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{nb:{get:function(){return this.fC;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{xb:{get:function(){return this.Iu;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{vn:{get:function(){var u,t;return null !== (t=null === (u=this.cGa) || void 0 === u?void 0:u.call(this)) && void 0 !== t?t:0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Sz:{get:function(){return this.z6a;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{zk:{get:function(){return this.W6a;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{region:{get:function(){return this.G7a;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Wea:{get:function(){return this.y6a;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ux:{get:function(){return this.V6a;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Bia:{get:function(){return this.OLb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Zk:{get:function(){return this.cKb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sa:{get:function(){return this.Xh;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{fB:{get:function(){return this.b8a;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$D:{get:function(){return this.Xh?this.Xh.end - this.Xh.start:this.Vl;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{a2:{get:function(){return this.Na.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gfa:{get:function(){return this.Na.xb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{v3b:{get:function(){return this.Na.jG;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{w3b:{get:function(){return this.Na.Ob;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Uz:{get:function(){return this.Na.Ba;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{IS:{get:function(){return this.Na.Ga;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Vl:{get:function(){var u;u=this.v3b;(0,g.assert)(u);return u / this.stream.za.ga;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{jT:{get:function(){return this.pib;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{z9b:{get:function(){return 0 < this.wn.length;},enumerable:!1,configurable:!0}});q.prototype.e8=function(u,t){(0,g.assert)(u.O === this.O,"Cannot change content timestamp timescale");(0,g.assert)(t.O === this.O,"Cannot change content timestamp timescale");!this.sa || 0 === this.sa.start && this.sa.end === this.Vl?(this.fC=u.ga,this.Iu=t.ga,this.Na=this,this.sa && (this.Xh=c.__assign(c.__assign({},this.Xh),{start:0,end:this.Vl}))):(this.Na=new m.xB(this,{nb:u.ga,xb:t.ga}),this.sa.end=Math.min(this.sa.end,this.Vl),this.fC=u.add(this.za.yg(this.sa.start)).ga,this.Iu=u.add(this.za.yg(this.sa.end)).ga);};q.prototype.Cyb=function(u){this.e8(this.Uz.Yc(this.O),this.Uz.add(this.za.yg(u)));};q.prototype.Dyb=function(u){(0,g.assert)(!this.sa || 0 === this.sa.start,"Cannot change start time of fragment with start edit");this.e8(u,this.IS);};q.prototype.wec=function(){this.z6a=!0;};q.prototype.Qmb=function(){this.W6a=!0;};q.prototype.Xrc=function(u){this.ZA={jd:u.lgb(),get IM() {return u.G7;}};};q.prototype.JV=function(u){this.b8a=u;};q.prototype.Urc=function(u,t,w){this.G7a=u;this.y6a=t;this.V6a=w;};q.prototype.ji=function(u){var t,w;void 0 === u && (u={});t=this.stream.za.ga;w=this.Xh || ({start:0,end:this.Vl});u=this.Eob(u);this.Na && this.Na !== this || (this.Na=new m.xB(this,this));u.start > w.start && (this.fC=this.Na.nb + u.start * t);u.end < w.end && (this.Iu=this.Na.nb + u.end * t);this.Xh=c.__assign(c.__assign({},w),u);};q.prototype.pDa=function(u){void 0 === u && (u=1);this.Xh?this.ji({start:this.Xh.start + u,end:this.Xh.end}):this.ji({start:u});};q.prototype.qea=function(u){this.Xh?this.ji({start:this.Xh.start,end:(this.Xh.end || 0) - u}):this.ji({start:0,end:-u});};q.prototype.Nj=function(){this.sa?this.ji({start:this.sa.start,end:this.sa.start}):this.ji({start:0,end:0});};q.prototype.Zrc=function(u){this.Xh || this.ji();this.Xh.Sla=u;};q.prototype.$ub=function(u){this.Xh || this.ji();this.Xh.jr=!0;u && (this.Xh.zeb=u);};q.prototype.avb=function(u){this.Xh || this.ji();this.Xh.Tm=!0;u && (this.Xh.Aeb=u);};q.prototype.$eb=function(u){var w;if(!(u < this.Ba.H || u >= this.Ga.H) && this.Zk && this.Zk.length){u=new n.K(u + 1 - this.Ba.H,1E3).Oe(this.stream.za);for(var t=this.Zk.length - 1;0 <= t;--t){w=this.Zk[t];if(w.Zj <= u)return w;}return {Zj:0,He:this.Uz.H};}};q.prototype.M2b=function(u){var w;if(!(u < this.Ba.H || u >= this.Ga.H) && this.Zk && this.Zk.length){u=new n.K(u + 1 - this.Ba.H,1E3).Oe(this.stream.za);for(var t=this.Zk.length - 1;0 <= t;--t){w=this.Zk[t];if(w.Zj <= u)return w;}return {Zj:0,He:this.Uz.H};}};q.prototype.Qeb=function(u,t){var w,x,z;if(!(u < this.Ba.H || u >= this.Ga.H)){if(!t && this.kT)return {Zj:0,He:this.Ba.H};w=this.za.ga;x=this.za.O;z=Math.floor(this.jG / w);u=Math.min((t?Math.ceil:Math.floor)((n.K.bob(u,x) - this.nb + (t?-1:1) * (x / 1E3 - 1)) / w),z);w=n.K.oRa(this.nb + u * w,x);return u === z?void 0:{Zj:u,He:w};}};q.prototype.L2b=function(u){return this.mediaType === e.default.Ln.V?this.$eb(u):this.Qeb(u,!1);};q.prototype.AEa=function(u){return this.mediaType === e.default.Ln.V?this.M2b(u):this.Qeb(u,!0);};q.prototype.$Ha=function(){return this.sa?this.jT:this.z9b;};q.prototype.Chb=function(){this.z6 || (this.z6=new l.$I((0,h.xg)(d.platform,this.stream.Wb,"FRAGMENT")));return this.z6.lfa();};q.prototype.uNa=function(u,t){this.z6?(this.z6.enqueue(u),t && this.z6.CL()):this.wn.push(u);this.pib=t;};q.prototype.hV=function(){this.wn=[];};q.prototype.lza=function(u){this.pe+=u.la;this.Iu=u.xb;this.Xh && (this.Na=new m.xB(this,{nb:this.a2,xb:this.Iu}),this.Xh.end=this.Vl);};q.prototype.etb=function(u){var t,w,x;t={type:"logdata",target:"endplay",fields:{}};w=this.mediaType === e.default.Ln.X?"audioedit":"videoedit";x=this.Uz.equal(this.Ba);x=[x?this.Ga.H:this.Ba.H,x?-this.Ob.H:this.Ob.H];u && x.push(u);t.fields[w]={type:"array",value:x};return t;};q.prototype.toString=function(){return ("[").concat(this.Jb,", ").concat(this.bitrate,"kbit/s, ") + ("c:").concat(this.Ba.H,"-").concat(this.Ga.H,",") + ("p:").concat(this.Hb.H,"-").concat(this.Rb.H,",d:").concat(this.Ob.H,"]");};q.prototype.toJSON=function(){return {movieId:this.P,streamId:this.Jb,bitrate:this.bitrate,index:this.index,startPts:this.Ba.H,endPts:this.Ga.H,contentStartPts:this.Ba.H,contentEndPts:this.Ga.H,fragmentStartPts:this.Uz.H,fragmentEndPts:this.IS.H,edit:this.sa};};q.prototype.Zeb=function(u){var w;if(this.Zk)for(var t=0;t < this.Zk.length;++t)if(this.Zk[t].Zj === u)w=this.Zk[t].offset;return w;};q.prototype.Eob=function(u){var t,w;t=Math.max(u.start || 0,0);w=void 0 === u.end?this.Vl:Math.min(this.Vl,Math.max(t,0 > u.end?this.Vl + u.end:u.end));return c.__assign(c.__assign({},u),{start:t,end:w});};return q;})(k.rP);b.Ro=p;(0,r.Mk)(a.ow,p);},21306:function(r,b,a){var c,n,d,g,e,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.vTa=void 0;c=a(5163);n=a(52571);d=a(99735);r=a(85254);g=a(71472);e=a(71808);f=a(81392);l=a(5800);a=(function(h){function k(m,p){var v,q;v=this;q=[new g.P8(m),new g.P8(m),new g.P8(m)];v=h.call(this,q,function(u){return u.complete?v.empty || u.nb <= v.vUb?0:1:u.active?1:2;}) || this;q=c.__read(q,3);v.Yi=q[0];v.jh=q[1];v.Yn=q[2];v.lp=0;v.Qwa=0;v.console=m;v.Wq=p;return v;}c.__extends(k,h);Object.defineProperties(k.prototype,{la:{get:function(){return this.Yi.la + this.jh.la + this.Yn.la;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{tyb:{get:function(){return this.Yn;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{active:{get:function(){return this.jh;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{complete:{get:function(){return this.Yi;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{qnc:{get:function(){return this.lp;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{kda:{get:function(){return this.Yi.la;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Kv:{get:function(){return this.Yi.la + this.jh.la - this.lp;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Iwc:{get:function(){return this.Yn.la;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{iV:{get:function(){return this.la - this.lp;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{first:{get:function(){return this.I3b();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{cd:{get:function(){return this.NQb();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{tDa:{get:function(){return !this.Yi.empty || this.Yn.empty || this.jh.empty?this.first:this.jh.nb < this.Yn.nb?this.jh.first:this.Yn.first;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ilb:{get:function(){return this.Yn.empty || this.jh.empty?this.cd:this.jh.xb < this.Yn.xb?this.Yn.cd:this.jh.cd;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{kfb:{get:function(){return this.Yn.first;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{O:{get:function(){return this.first && this.first.O;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{nb:{get:function(){return this.tDa && this.tDa.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xb:{get:function(){return this.Ilb && this.Ilb.xb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{vn:{get:function(){return this.first && this.first.vn;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{vUb:{get:function(){return this.Yi.empty?this.nb:this.Yi.xb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{uUb:{get:function(){var m;return this.Yi.empty?null === (m=this.Ba) || void 0 === m?void 0:m.H:this.Yi.Ga.H;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bbb:{get:function(){var m;return this.Yi.empty?null === (m=this.Hb) || void 0 === m?void 0:m.H:this.Yi.Rb.H;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{qqb:{get:function(){var m,p;return (null === (m=this.jh.Rb) || void 0 === m?void 0:m.H) || (null === (p=this.Yi.Rb) || void 0 === p?void 0:p.H);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{II:{get:function(){return this.Yn.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Fj:{get:function(){return this.jh.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ebb:{get:function(){return this.Yi.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{va:{get:function(){return this.Yi.concat(this.jh);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ft:{get:function(){return this.If;},enumerable:!1,configurable:!0}});k.prototype.Bca=function(){var m,p;if(0 === this.length)((0,n.assert)(0 === this.lp),(0,n.assert)(this.Yi.empty),(0,n.assert)(this.jh.empty),(0,n.assert)(this.Yn.empty));else {(0,n.assert)(this.Yi.every(function(u){return u.complete || u.aborted;}));(0,n.assert)(this.jh.every(function(u){return u.active || u.complete || u.aborted;}));(0,n.assert)(this.Yn.every(function(u){return !u.active && !u.complete;}));!this.jh.empty && this.jh.first.complete && (this.Yi.empty?(0,n.assert)(!this.Yn.empty && this.jh.nb > this.Yn.nb,"unsent earlier than active"):(0,n.assert)(this.jh.nb > this.Yi.xb,"gap in complete array"));this.lp !== this.Yi.reduce(function(u,t){return u + (t.aborted?0:t.bytesReceived);},0) + this.jh.reduce(function(u,t){return u + (t.aborted?0:t.bytesReceived);},0) && (0,n.assert)(!1,"receivedBytes does not match complete + active");m=this.ft;if(this.empty)(0,n.assert)(void 0 === m);else {(0,n.assert)(void 0 !== m);p=this.map(function(u){return u;});p.sort(function(u,t){return u.nb - t.nb;});(0,n.assert)(m.nb === p[0].nb);for(var v=p[0].xb,q=1;q < p.length && p[q].nb === v;++q)v=p[q].xb;(0,n.assert)(m.xb === v,"contigousEnd mismatch");}this.Cd.forEach(function(u){return u.Bca();});}};k.prototype.add=function(m){var p;m.aborted?++this.Qwa:this.lp+=m.bytesReceived || 0;if(this.empty)this.If=new l.xB(this,{});else if(m.nb !== this.xb)if(m.nb > this.If.xb)this.If.HV(this.If.xb);else if(m.nb < this.nb || m.nb === this.If.xb){p=m.xb;this.d3b(function(v,q){return v.nb - q.nb;},function(v){p=v.nb === p?v.xb:p;});p === Math.max(this.xb,m.xb)?this.If.fda():this.If.HV(p);}m.nvb(this);};k.prototype.Vn=function(m){m.aborted?--this.Qwa:this.lp-=m.bytesReceived;this.empty?this.If=void 0:m.nb !== this.xb && m.xb <= this.If.xb && m.nb > this.If.nb && this.If.HV(m.nb);m.UTb();};k.prototype.update=function(){var m;this.Yi.update();this.jh.update();this.Yn.update();if(this.If){m=this.map(function(q){return q;});m.sort(function(q,u){return q.nb - u.nb;});this.If.fda();for(var p=m[0].xb,v=1;v < m.length;++v){if(m[v].nb !== p){this.If.HV(p);break;}p=m[v].xb;}}};k.prototype.push=function(m){this.add(m);return h.prototype.push.call(this,m);};k.prototype.shift=function(){var m;m=h.prototype.shift.call(this);m && this.Vn(m);return m;};k.prototype.pop=function(){var m;m=h.prototype.pop.call(this);m && this.Vn(m);return m;};k.prototype.unshift=function(m){this.add(m);return h.prototype.unshift.call(this,m);};k.prototype.yr=function(m){this.add(m);h.prototype.yr.call(this,m);};k.prototype.remove=function(m){if(!h.prototype.remove.call(this,m))return !1;this.Vn(m);return !0;};k.prototype.splice=function(m,p){for(var v=[],q=2;q < arguments.length;q++)v[q - 2]=arguments[q];q=h.prototype.splice.apply(this,c.__spreadArray([m,p],c.__read(v),!1));v.forEach(this.add.bind(this));q.forEach(this.Vn.bind(this));return q;};k.prototype.U5=function(m){var p;p=this;this.reduce(function(v,q,u){q.aborted && !q.tA && (m && m(q,u,p),0 === v.length || v[0].end !== u?v.unshift({start:u,end:u + 1}):v[0].end+=1);return v;},[]).forEach(function(v){return p.splice(v.start,v.end - v.start);});};k.prototype.xEa=function(m){return this.Teb(function(p){return p.xEa(m);});};k.prototype.P1=function(m){return this.Teb(function(p){return p.P1(m);});};k.prototype.Seb=function(m){m=this.P1(m);return -1 !== m?this.get(m):void 0;};k.prototype.Gqc=function(m){var v;for(var p=[];m < this.length;){v=this.get(m);v && p.push(v);m++;}return p;};k.prototype.tN=function(m){this.move(m);this.ffa(m);};k.prototype.JH=function(m,p){this.lp+=p;this.HS(m,p);};k.prototype.nn=function(m,p){this.lp+=p;this.Dvb();this.PL(m,p);};k.prototype.CU=function(m,p,v){this.lp-=m.bytesReceived;++this.Qwa;this.GS(m,p,v);};k.prototype.uN=function(m,p,v){this.jh.Twc(p - v);this.$Ea(m,p,v);};k.prototype.Ric=function(){this.Dvb();};k.prototype.Dvb=function(){for(;this.jh.first && (this.jh.first.complete || this.jh.first.tA) && (this.Yi.empty?this.jh.first === this.tDa:this.jh.first.nb === this.Yi.xb);)this.wsc();};return k;})(d.eVa);b.vTa=a;(0,r.Mk)(f.ZI,a,!1);(0,r.Mk)(e.ow,a);},83527:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.eoa=void 0;c=a(5163);n=a(78015);r=(function(d){function g(e,f,l,h){var k;k=d.call(this,e,l) || this;k.Bh=void 0;g.zjb(k,e,f,l,h);return k;}c.__extends(g,d);g.zjb=function(e,f,l,h,k){n.rP.NHa(e,f,h);e.M=l;e.iC=h.Gi;e.$i=h.Qja;e.t6a=h.sx;e.Wb=k;};Object.defineProperties(g.prototype,{De:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Gi:{get:function(){return this.iC;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Qja:{get:function(){return this.$i;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{sx:{get:function(){return this.t6a;},enumerable:!1,configurable:!0}});g.prototype.toJSON=function(){return {movieId:this.P,streamId:this.Jb,bitrate:this.bitrate};};return g;})(n.rP);b.eoa=r;},35018:function(r,b,a){var n,d,g,e,f,l,h,k,m,p;function c(v){return {De:!0,Xv:{Uf:k.Sb.Pn},vd:v,responseType:0};}Object.defineProperties(b,{__esModule:{value:!0}});b.wTa=void 0;n=a(5163);d=a(91562);g=a(91176);r=a(90745);e=a(66164);f=a(69575);l=a(85254);h=a(52571);k=a(65161);m=a(83527);a=a(50247);p=e.platform.MediaSource;a=(function(v){function q(u,t,w,x,z,y,A,B){var C,D,E;C=w.track;A=(A?"(cache)":"") + u.id + " header";D=x.offset;E=x.la;x.Qja && (D+=x.Qja.byteLength,E-=x.Qja.byteLength);x=n.__assign(n.__assign(n.__assign({},x),c(x.vd)),{offset:D,la:E});t=v.call(this,u,C,A,x,z,y,t,B) || this;t.Bh=w;t.RKa=0;m.eoa.zjb(t,u,y,x,B);t.LLa=x.la;++t.RKa;return t;}n.__extends(q,v);Object.defineProperties(q.prototype,{De:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Pja:{get:function(){return this.mMb;},enumerable:!1,configurable:!0}});q.prototype.ze=function(){var u;if(!this.complete){u={type:"headerRequestCancelled",request:this};this.emit(u.type,u);}v.prototype.ze.call(this);};q.prototype.Z1=function(u){this.stream.qLa();v.prototype.Z1.call(this,u);};q.prototype.GS=function(u,t,w){this.stream.qja();v.prototype.GS.call(this,u,t,w);};q.prototype.nn=function(u,t){var w;w=u.response;w && this.$Nb(w);(0,h.assert)(this.$i);u.hV();this.parse()?(this.stream.qja(),v.prototype.nn.call(this,u,t)):this.Yba?(this.N1b(u.offset + u.la,this.Yba),v.prototype.nn.call(this,u,t)):v.prototype.Jv.call(this,u);};q.prototype.N1b=function(u,t){this.teb(this.hG,this.label + " (" + this.RKa + ")",c(this.vd),{offset:u,la:t});++this.RKa;};q.prototype.parse=function(){var u,t,w,x,z,y,A;x=this.config;z=new d.Sk(q.jgc,this.stream,this.$i,this.stream.fa?["moov"]:["sidx"],x.yjc,{mNc:this.stream.track.ZMa,lqb:void 0 === this.za,Zxb:!p.Rf || !p.Rf.fUb,yRa:x.yRa,vp:x.vp,zW:this.config.zW,Cpc:!0,Vla:!p.Rf || !p.Rf.tgc,WNa:this.config.WNa});y=z.parse({za:this.za});this.Oxc=x.zW && z.r9b;if(y.by){(0,h.assert)(y.Gi);this.iC=y.Gi;this.mMb=y.Pja;this.t6a=!!y.X0b;void 0 === this.za && void 0 === y.za && this.Wb.error("No frame duration available for " + this.Jb);z=y.za?new g.K(y.za):this.za;A=void 0;if(this.stream.mediaType === k.u.V && (null === (u=x.MU) || void 0 === u?0:u.enabled))if(null === (t=this.stream.nO) || void 0 === t?0:t.length)A=this.stream.nO;else if((u=this.stream.Gt.nO,0 < (null === u || void 0 === u?void 0:u.length)))for((A=new Uint8Array(u.length),w=0);w < u.length;w++)A[w]=u[w].Gb;else if(null === (w=y.sB) || void 0 === w?0:w.length)for((A=new Uint8Array(y.sB.length),w=0);w < y.sB.length;w++)A[w]=y.sB[w];w=y.eS?new g.K(y.eS):void 0;this.stream.uU(y.Gi,y.O,z,y.Ha,y.jU,y.Zk,A,y.trackId,w);this.$i=void 0;}else this.Yba=y.Yba || 0;return !!y.by;};q.prototype.$Nb=function(u){this.$i=this.$i?(0,f.XF)(this.$i,u):u;};q.jgc=new e.platform.Console("MP4","media|asejs");return q;})(a.aX);b.wTa=a;(0,l.Mk)(m.eoa,a,!1,!1);(0,l.Mk)(r.EventEmitter,a);},33923:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.EE=void 0;b.zQa=function(g){var e,f;(0,c.assert)(g.mediaType !== n.u.Kn,"Media events is unsupported");f=(e={},e[n.u.X]={audio:g},e[n.u.V]={video:g},e[n.u.Ia]={text:g},e);return new d(f[g.mediaType]);};c=a(91176);n=a(65161);d=(function(){function g(e){this.audio=e.audio;this.video=e.video;this.text=e.text;}g.prototype.Nhb=function(e){switch(e){case n.u.X:return this.audio;case n.u.V:return this.video;case n.u.Ia:return this.text;}};g.prototype.Ih=function(e){return this.Nhb(e);};g.prototype.V2=function(e){return (e=this.Nhb(e))?e.track:void 0;};Object.defineProperties(g.prototype,{Ve:{get:function(){return this.video || this.audio || this.text;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Tac:{get:function(){return void 0 !== this.video && void 0 !== this.audio;},enumerable:!1,configurable:!0}});g.prototype.X1=function(e){[this.audio,this.video,this.text].filter(function(f){return void 0 !== f;}).forEach(e);};g.prototype.dEa=function(e){return [this.audio,this.video,this.text].filter(function(f){return void 0 !== f;}).every(e);};Object.defineProperties(g.prototype,{P:{get:function(){return this.Ve.P;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{mediaType:{get:function(){return this.Ve.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{bitrate:{get:function(){return this.gRb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{gRb:{get:function(){return this.Tac?this.video.bitrate + this.audio.bitrate:this.Ve.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Uu:{get:function(){var e;return null === (e=this.audio) || void 0 === e?void 0:e.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ds:{get:function(){var e;return null === (e=this.video) || void 0 === e?void 0:e.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Gb:{get:function(){var e;return null !== (e=this.Ve.Gb) && void 0 !== e?e:0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{gb:{get:function(){return this.Ve.gb;},set:function(e){this.Ve.gb=e;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{id:{get:function(){return this.Ve.id;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Jb:{get:function(){return this.Ve.Jb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ha:{get:function(){return this.Ve.Ha;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Hv:{get:function(){return this.Ve.Hv;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{J7:{get:function(){return this.Ve.J7;},set:function(e){this.Ve.J7=e;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{kv:{get:function(){return this.dEa(function(e){return e.kv;});},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{pc:{get:function(){return this.Ve.pc;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{fa:{get:function(){return this.Ve.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Er:{get:function(){return this.dEa(function(e){return e.Er;});},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Rp:{get:function(){return this.Ve.Rp;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{yD:{get:function(){return this.Ve.yD;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{aA:{get:function(){return this.Ve.aA;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{$d:{get:function(){return this.Ve.$d;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{xq:{set:function(e){this.X1(function(f){f.xq=e;});},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{location:{get:function(){return this.Ve.location;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{nj:{get:function(){var e;e=[];this.X1(function(f){f.location && e.push(f.location);});return e;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Vr:{set:function(e){this.Ve.Vr=e;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{$Oa:{set:function(e){this.Ve.$Oa=e;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{sT:{set:function(e){this.Ve.sT=e;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{iHa:{set:function(e){this.Ve.iHa=e;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{jHa:{set:function(e){this.Ve.jHa=e;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Gt:{get:function(){return this.Ve.Gt;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{profile:{get:function(){return this.Ve.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{gu:{get:function(){return this.Ve.gu;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{R:{get:function(){return this.Ve.R;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{jb:{get:function(){return this.Ve.jb;},set:function(e){this.Ve.jb=e;},enumerable:!1,configurable:!0}});g.prototype.isEqual=function(e){return e && this.dEa(function(f){var l;l=e.Ih(f.mediaType);return void 0 !== l && f.Jb === l.Jb;});};g.prototype.toString=function(){return ("").concat(this.audio?this.audio.toString():"") + ("").concat(this.video?this.video.toString():"") + ("").concat(this.text?this.text.toString():"");};return g;})();b.EE=d;},45691:function(r,b,a){var c,n,d,g,e,f,l,h,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.yTa=void 0;c=a(5163);a(66164);n=a(91562);d=a(91176);g=a(26388);e=a(75539);r=a(85254);f=a(48170);l=a(69575);h=a(50247);k=a(50468);(function(p){p[p.Wo=0]="INITIAL";p[p.gXa=1]="HAVE_CONTENT_LENGTH";p[p.iXa=2]="HAVE_MOOF_LENGTH";p[p.hXa=3]="HAVE_MOOF";})(m || (m={}));a=(function(p){function v(q,u,t,w,x,z,y,A){t=q.mediaType === g.u.X?c.__assign(c.__assign({},t),{responseType:0}):t;u=p.call(this,q,u,"live-edit",t,w,x,z,y) || this;u.tA=!1;u.cO=m.Wo;u.Xcb=!1;k.Ro.Pb(u,q,x,t,A);u.sea=!0;(0,d.assert)(u.mediaType === g.u.X || u.mediaType === g.u.V);return u;}c.__extends(v,p);v.prototype.JAa=function(){return !1;};v.prototype.bCa=function(q,u,t){var w,x;w=t.offset;x=this.config.edc;t=c.__assign(c.__assign({},t),{UEa:!0,responseType:0});this.LA(q,u,t,{offset:w,la:x});};v.prototype.IH=function(q){(void 0 !== this.Nl || this.yhc(q)) && this.Xyb(q);this.cO === m.Wo && void 0 !== this.Nl && (this.uN(q,this.Nl,this.la),this.cO=m.gXa);};v.prototype.nn=function(q,u){if(!(this.state > e.Fh.Fl)){f.G && this.console.trace(("AseLiveEditingRequest: onrequestcomplete, ").concat(this.toString(),": ") + ("ID: ").concat(q.Fi(),", requestState: ").concat(this.cO,", bytes: ").concat(u));this.cO !== m.hXa && (this.data=void 0 === this.data?q.response:(0,l.XF)(this.data,q.response));switch(this.cO){case m.Wo:(0,d.assert)(!1,"Should not encounter request complete before obtaining content length");case m.gXa:if(!this.Dhc())break;this.cO=m.iXa;case m.iXa:this.Chc(q) && (this.cO=m.hXa);}p.prototype.nn.call(this,q,u);}};v.prototype.yhc=function(q){this.Nl=q.hgb();f.G && this.console.debug(("AseLiveEditingRequest: ").concat(this.toString()," setting contentLength to ").concat(this.Nl," from range"));return void 0 === this.Nl?(this.mib(q),!1):!0;};v.prototype.Dhc=function(){var q,u;(0,d.assert)(void 0 !== this.Nl,"Should have content length by now");(0,d.assert)(void 0 !== this.data,"Should have some data by now");q=n.UE.path(new DataView(this.data),["moof"]);u=q.offset;q=q.end;if(void 0 === u || void 0 === q)return (f.G && this.console.error("AseLiveEditingRequest: onrequestcomplete, failed to find moof in initial request"),u=this.offset + this.data.byteLength,q=this.config.Zlb,this.LA(this.Va[0].hG,this.label,c.__assign(c.__assign({},this.properties),{responseType:0}),{offset:u,la:q}),!1);this.FKa=u;this.XT=this.offset + q + 8;f.G && this.console.trace(("AseLiveEditingRequest: obtainMoofLength, ").concat(this.toString(),": ") + ("moofOffset: ").concat(this.FKa,", mediaDataOffset: ").concat(this.XT));return !0;};v.prototype.Chc=function(q){var u,t,w;(0,d.assert)(void 0 !== this.Nl,"Should have content length by now");(0,d.assert)(void 0 !== this.XT,"Should have sample offset by now");(0,d.assert)(void 0 !== this.data,"Should have some data by now");u=this.data.byteLength;t=this.XT > u;if(t){w=this.XT - u;f.G && this.console.trace("AseLiveEditingRequest: obtainMoof, request:",q.toString(),("did not contain all of the moof, requesting ").concat(w," more bytes"));this.LA(q.hG,this.label,c.__assign(c.__assign({},this.properties),{responseType:0}),{offset:u,la:w});u+=w;}this.sa?t || this.Kjc(u,this.Nl):(t || (q=n.UE.web(new DataView(this.data))) && void 0 !== q.jv && void 0 !== q.$D && (f.G && this.console.trace("AseLiveEditingRequest: fragment times (unoptimized): " + ("tfdt: ").concat(q.pW,", ") + ("ffco: ").concat(q.jv,", ") + ("sampleCount: ").concat(q.$D)),this.YEa(this,q,!1)),this.Xcb || (w=this.Nl - u,0 < w && (f.G && this.console.trace(("AseLiveEditingRequest: obtainMoof with  on edits: offset ").concat(u,", bytes ").concat(w,", ") + ("contentLength ").concat(this.Nl)),this.rNa(u,w,this.Nl),this.Xcb=!0)));return !t;};v.prototype.rNa=function(q,u,t){this.FRa(q,u) || (this.tC={offset:q,la:u,Nl:t},this.ZEa(this));};v.prototype.Kjc=function(q,u){var t,w,x,z,y,A,B;(0,d.assert)(void 0 !== this.XT,"Should have sample offset by now");(0,d.assert)(void 0 !== this.FKa,"Should have moof offset by now");(0,d.assert)(void 0 !== this.data,"Should have some data by now");(0,d.assert)(this.data.byteLength >= this.XT,"Should have enough data for the whole moof by now");(0,d.assert)(void 0 !== this.sa,"Should have an edit");t=new n.ww(this.console,{mediaType:this.mediaType},this.data);w=0;if(t.parse().done){x=n.Sk.path(t,["moof","traf"]);t=n.Sk.path(x,["tfhd"]);z=n.Sk.path(x,["tfdt"]);x=n.Sk.path(x,["trun"]);if(void 0 !== t && void 0 !== z && void 0 !== x && void 0 !== x.tk){t=x.fnc(t);z=z.CC;y=x.V2b;A=t.length;f.G && this.console.trace(("AseLiveEditingRequest: fragment times: tfdt: ").concat(z,", ") + ("firstFrameCompositionOffset: ").concat(y,", sampleCount: ").concat(A));B=this.FKa + x.tk;x=!1;if(this.sa.end > t.length || this.sa.end < t.length && this.sa.end === this.Vl)(f.G && this.console.error(this.sa.end > t.length?("AseLiveEditingRequest: edit end (").concat(this.sa.end,") is beyond ") + ("the number of samples ").concat(t.length," - truncating"):("AseLiveEditingRequest: edit end (").concat(this.sa.end,") is at end of fragent, ") + ("but actual fragment is longer (").concat(t.length,") - extending")),this.Cyb(t.length),this.ji({start:this.sa.start,end:t.length}),x=!0);this.YEa(this,{pW:z,jv:y,$D:A},x);for(x=0;x < this.sa.start && x < t.length;x++)B+=t[x];for(x=this.sa.start;x < this.sa.end && x < t.length;x++)w+=t[x];B < q && (w-=q - B,B=q);f.G && this.console.trace(("AseLiveEditingRequest: edit: ").concat(JSON.stringify(this.sa)) + (", samples expected ").concat(this.Vl,", actual ").concat(t.length,", sample sizes: ").concat(t) + (", start: ").concat(this.sa.start,", end: ").concat(this.sa.end) + (", requestOffset: ").concat(B,", bytes: ").concat(w,", contentLength: ").concat(u));}else f.G && this.console.error("AseLiveEditingRequest: failed to find trun or tfhd in moof");this.data=void 0;}void 0 !== B?0 < w && (this.rNa(B,w,u),this.EU={offset:B,la:w}):(w=u - q,0 < w && (this.rNa(q,w,u),this.EU={offset:q,la:w}));f.G && this.console.trace(("AseLiveEditingRequest: edit: ").concat(JSON.stringify(this.sa),", ") + ("requestOffset: ").concat(B,", bytes: ").concat(w,", contentLength: ").concat(u,", ") + ("optimizedRequest: ").concat(JSON.stringify(this.EU)));};return v;})(h.aX);b.yTa=a;(0,r.Mk)(k.Ro,a,!1);},11758:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.foa=void 0;c=a(5163);a(66164);n=a(52571);r=(function(d){function g(e,f,l,h,k,m,p){f=d.call(this,e,f,l,h,k,m,p) || this;f.gxb=0;(0,n.assert)(0 === l.responseType);(0,n.assert)(l.cm);f.cm=l.cm;f.gxb=e.un.H;return f;}c.__extends(g,d);return g;})(a(47743).doa);b.foa=r;},79459:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.hoa=void 0;c=a(5163);n=a(79048);d=a(48170);r=(function(g){function e(f,l,h,k,m,p,v,q,u,t,w,x,z){void 0 === x && (x=!0);void 0 === z && (z=!0);f=g.call(this,h,u,{index:0,offset:0,la:0,nb:m,xb:p,O:k,Sz:x,zk:z,fB:w},t) || this;f.vjc=h;f.console=q;f.M=u;d.G && f.console.log(("AsePaddingRequest [").concat(f.mediaType,"], constructed ").concat(f.toString()) + (", ").concat(l.byteLength," bytes") + (", ").concat(f.Vl," samples"));f.uNa(l,!0);return f;}c.__extends(e,g);Object.defineProperties(e.prototype,{profile:{get:function(){return this.vjc.profile;},enumerable:!1,configurable:!0}});e.prototype.abort=function(){return !1;};e.prototype.toJSON=function(){var f,l,h,k,m;return {viewableId:n.yu,startPts:null === (f=this.Hb) || void 0 === f?void 0:f.H,endPts:(null === (l=this.Hb) || void 0 === l?void 0:l.H) + (null === (h=this.Ob) || void 0 === h?void 0:h.H),"contentStartTicks:":this.nb,contentEndTicks:this.xb,contentStartPts:null === (k=this.Ba) || void 0 === k?void 0:k.H,contentEndPts:null === (m=this.Ga) || void 0 === m?void 0:m.H};};e.prototype.toString=function(){return ("[padding c:").concat(this.Ba.H,"-").concat(this.Ga.H,",") + ("p:").concat(this.Hb.H,"-").concat(this.Rb.H,",") + ("d:").concat(this.Ga.H - this.Ba.H,"]");};return e;})(a(50468).Ro);b.hoa=r;},81392:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ZI=b.FTa=void 0;c=a(5163);r=(function(){function n(d){this.Wq=d;}n.prototype.nvb=function(d){this.Wq=d;};n.prototype.UTb=function(){this.Wq=void 0;};n.prototype.Z1=function(d){var g,e;null === (e=null === (g=this.Wq) || void 0 === g?void 0:g.zja) || void 0 === e?void 0:e.call(g,d);};n.prototype.ffa=function(d){var g,e;null === (e=null === (g=this.Wq) || void 0 === g?void 0:g.tN) || void 0 === e?void 0:e.call(g,d);};n.prototype.Y1=function(d){var g,e;null === (e=null === (g=this.Wq) || void 0 === g?void 0:g.IH) || void 0 === e?void 0:e.call(g,d);};n.prototype.HS=function(d,g){var e,f;null === (f=null === (e=this.Wq) || void 0 === e?void 0:e.JH) || void 0 === f?void 0:f.call(e,d,g);};n.prototype.PL=function(d,g){var e,f;null === (f=null === (e=this.Wq) || void 0 === e?void 0:e.nn) || void 0 === f?void 0:f.call(e,d,g);};n.prototype.efa=function(d){var g,e;null === (e=null === (g=this.Wq) || void 0 === g?void 0:g.Jv) || void 0 === e?void 0:e.call(g,d);};n.prototype.GS=function(d,g,e){var f,l;null === (l=null === (f=this.Wq) || void 0 === f?void 0:f.CU) || void 0 === l?void 0:l.call(f,d,g,e);};n.prototype.$Ea=function(d,g,e){var f,l;null === (l=null === (f=this.Wq) || void 0 === f?void 0:f.uN) || void 0 === l?void 0:l.call(f,d,g,e);};n.prototype.vfb=function(d){var g,e;null === (e=null === (g=this.Wq) || void 0 === g?void 0:g.yja) || void 0 === e?void 0:e.call(g,d);};n.prototype.ZEa=function(d){var g,e;null === (e=null === (g=this.Wq) || void 0 === g?void 0:g.Aja) || void 0 === e?void 0:e.call(g,d);};n.prototype.YEa=function(d,g,e){var f,l;null === (l=null === (f=this.Wq) || void 0 === f?void 0:f.HLa) || void 0 === l?void 0:l.call(f,d,g,e);};return n;})();b.FTa=r;r=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);return d;})(r);b.ZI=r;r.prototype.zja=r.prototype.Z1;r.prototype.tN=r.prototype.ffa;r.prototype.IH=r.prototype.Y1;r.prototype.JH=r.prototype.HS;r.prototype.nn=r.prototype.PL;r.prototype.Jv=r.prototype.efa;r.prototype.CU=r.prototype.GS;r.prototype.uN=r.prototype.$Ea;r.prototype.yja=r.prototype.vfb;r.prototype.Aja=r.prototype.ZEa;r.prototype.HLa=r.prototype.YEa;},50247:function(r,b,a){var c,n,d,g,e,f,l,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.aX=b.Eq=void 0;c=a(5163);n=a(90745);d=a(91562);a(66164);r=a(85254);g=a(52571);a(1936);e=a(75539);f=a(45247);l=a(8149);h=a(81392);a=a(78015);(function(m){m[m.$_a=0]="NOTHING_APPENDED";m[m.C$=1]="PARTIAL";m[m.So=2]="COMPLETE";m[m.In=3]="ERROR";})(k || (b.Eq=k={}));k=(function(m){function p(v,q,u,t,w,x,z,y){var A;A=m.call(this,v,t) || this;A.hG=q;A.label=u;A.properties=t;A.M=x;A.config=z;A.console=y;A.events=new n.EventEmitter();A.hb=e.Fh.Gy;A.aK=0;A.ZZ=-Infinity;A.Va=[];A.cla=0;A.jSa=!1;A.nvb(w);A.hb=e.Fh.Gy;A.Zf=v.lM(!!t.De,t.cm);A.mK=v.location || t.location;A.t_=v.pc || t.vd;A.cm=t.cm;A.jSa=0 >= t.la && A.JAa();A.bCa(q,u,t);return A;}c.__extends(p,m);Object.defineProperties(p.prototype,{De:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{state:{get:function(){return this.hb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Bja:{get:function(){return this.hb >= e.Fh.OPENED && this.hb < e.Fh.So;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{active:{get:function(){return this.hb >= e.Fh.SW && this.hb < e.Fh.So;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{HNa:{get:function(){return this.hb === e.Fh.Fl;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{complete:{get:function(){return this.hb === e.Fh.So;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{aborted:{get:function(){return this.hb === e.Fh.nw;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{sq:{get:function(){return void 0 !== this.tC;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{url:{get:function(){return this.Zf;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{status:{get:function(){var v;return (null === (v=this.DT) || void 0 === v?void 0:v.status) || this.Va[0].status;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Tg:{get:function(){var v;return null === (v=this.DT) || void 0 === v?void 0:v.Tg;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{dD:{get:function(){var v;return null === (v=this.DT) || void 0 === v?void 0:v.dD;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Uj:{get:function(){var v;return null === (v=this.DT) || void 0 === v?void 0:v.Uj;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{bytesReceived:{get:function(){return this.aK;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ii:{get:function(){return this.ZZ;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{responseType:{get:function(){return this.properties.responseType;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{location:{get:function(){return this.mK;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{vd:{get:function(){return this.t_;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Nvb:{get:function(){return this.properties.aB;},enumerable:!1,configurable:!0}});p.prototype.zPa=function(v,q){this.mK=v;this.t_=q;};p.prototype.ZRa=function(v){var q,u,t;if(this.complete)return 0;q=this.stream;u=q.R;if(!q.url)return (this.console.warn("updateurl, missing url for streamId:",q.Jb,"mediaRequest:",this,"stream:",q),1);t=q.lM(this.De,this.cm);if(this.url !== t || v)if((u.zPa(this,q.location,q.pc),!this.eW(t)))return (this.console.warn("swapUrl failed: ",this.dD),2);return 0;};p.prototype.eTb=function(v){(0,g.assert)(0 >= this.la,"AseRequest.changeStream is only supported for open range requests");(0,g.assert)(1 <= this.Va.length && void 0 !== this.Va[0].Tg,"AseRequest.changeStream only supported when open range request has failed");(0,g.assert)(this.stream.track === v.track,"AseStream.changeStream cannot change stream to a different track");this.bsc(v);this.ZRa();};p.prototype.GRa=function(){var q,u;for(var v;this.cla < this.Va.length;){q=this.Va[this.cla];if(q.state < e.Fh.Fl || !q.response)break;++this.cla;u=!this.sq && this.cla === this.Va.length;null === (v=this.uNa) || void 0 === v?void 0:v.call(this,q.response,u);q.hV();}};p.prototype.bCa=function(v,q,u){var t,w;if(0 < u.la)u.rH && u.la > u.rH?this.Pmc(v,q,u,u.rH,u):this.LA(v,q,u,u);else if(this.jSa)this.LA(v,q,u,u);else {t=u.offset;w=this.mediaType === f.u.Ia?this.config.tdc:this.config.Zlb;if(this.config.Lda || this.config.Jdb)u=c.__assign(c.__assign({},u),{responseType:0,UEa:this.config.Jdb});this.LA(v,q,u,{offset:t,la:w});}};p.prototype.Pmc=function(v,q,u,t,w){var x,z;t=Math.ceil(w.la / t);x=w.offset;for(w=w.la;0 < w;--t){z=Math.ceil(w / t);this.LA(v,q,u,{offset:x,la:z});x+=z;w-=z;}};p.prototype.JAa=function(){return !!this.hG.RQa;};p.prototype.LA=function(v,q,u,t){v=new e.Ysa(this.stream,this.Zf,v,q,u,t,this,this.M,this.config,this.console);this.Va.push(v);this.state >= e.Fh.OPENED && (v.open(),this.state >= e.Fh.So && (this.hb=e.Fh.OPENED,this.Z1(this)));};p.prototype.Sv=function(v){var q;q=this.Va.indexOf(v);-1 !== q && (this.Va.splice(q,1),0 < this.pe && ((0,g.assert)(this.pe >= v.la),this.pe-=v.la));};p.prototype.teb=function(v,q,u,t){this.LA(v,q,u,t);this.pe+=t.la;};p.prototype.open=function(){var v;null === (v=this.Ixa) || void 0 === v?void 0:v.vic();if(v=this.Va.every(function(q){return q.open();}))(this.hb=e.Fh.OPENED,this.Z1(this));return v;};p.prototype.resume=function(){var v;(0,g.assert)(void 0 !== this.tC,"invalid attempt to resume request hat is not stalled");v=this.FRa(this.tC.offset,this.tC.la);v && (this.tC=void 0);return v;};p.prototype.abort=function(){var v,q;v=this.active;q=this.Bja;this.hb=e.Fh.nw;this.Va.forEach(function(u){return u.abort();});this.tC=void 0;this.GS(this,v,q);return !0;};p.prototype.ze=function(){this.Va.forEach(function(v){return v.ze();});this.tC=void 0;};p.prototype.eW=function(v){this.Zf=v;return this.Va.map(function(q){return q.eW(v);}).some(function(q){return q;});};p.prototype.N2=function(v){(0,g.assert)(0 <= v && v < this.Va.length);return this.Va[v].response;};p.prototype.getResponseHeader=function(v,q){var u;u=null;this.Va.some(function(t){return !!(u=t.getResponseHeader(v,q));});return u;};p.prototype.getAllResponseHeaders=function(v){var q;q=null;this.Va.some(function(u){return !!(q=u.getAllResponseHeaders(v));});return q;};p.prototype.Fi=function(){return 1 === this.Va.length?this.Va[0].Fi():"(" + this.Va.map(function(v){return v.Fi();}).join(", ") + ")";};p.prototype.Dhb=function(){return this.Va[0].Fi();};p.prototype.zja=function(){};p.prototype.tN=function(v){var q;this.state > e.Fh.OPENED || (this.hb=e.Fh.SW,this.ZZ=Math.max(this.ZZ,v.Ii),null === (q=this.Ixa) || void 0 === q?void 0:q.kic(),this.ffa(this));};p.prototype.f9b=function(v,q){var u;u=v.hgb();void 0 === u?this.mib(v):(v=u - q,0 < v && !this.FRa(q,v) && (this.tC={offset:q,la:v,Nl:u},this.ZEa(this)));return u;};p.prototype.IH=function(v){var q;0 >= this.la && !this.jSa && (q=this.f9b(v,this.offset + v.la));this.Xyb(v);void 0 !== q && this.uN(v,q,this.la);};p.prototype.Xyb=function(v){var q;this.state <= e.Fh.SW?(this.ILa(v,0),this.hb=e.Fh.Fl,this.GRa(),null === (q=this.Ixa) || void 0 === q?void 0:q.fic(),this.Y1(this)):this.GRa();};p.prototype.Aja=function(){(0,g.assert)(!1);};p.prototype.HLa=function(){(0,g.assert)(!1);};p.prototype.FRa=function(v,q){var u;u=this.stream.R;if(u.DC && !u.DC.YAa(this.mediaType,q))return !1;this.LA(this.Va[0].hG,this.label,this.properties,{offset:v,la:q});return !0;};p.prototype.mib=function(v){this.obb=(this.obb || 0) + 1;1 >= this.obb && (this.Sv(v),v.abort(),this.tC=void 0,this.bCa(v.hG,this.label,this.properties));};p.prototype.JH=function(v,q){this.ILa(v,q);this.HS(this,q);};p.prototype.nn=function(v,q){var u;this.state > e.Fh.Fl || (this.config.Lda && this.stream.fa && this.Lda(v),this.ILa(v,q),this.GRa(),this.Va.every(function(t){return t.complete;}) && !this.sq?(this.hb=e.Fh.So,null === (u=this.Ixa) || void 0 === u?void 0:u.Iv(),this.PL(this,q),this.ze()):this.HS(this,q));};p.prototype.yja=function(){this.vfb(this);};p.prototype.Jv=function(v){var q;this.console.warn("AseRequest.onrequesterror:",this.toString(),"sub request:",v.toString());q=v.status;(416 === q || 206 === q) && 0 >= this.la && !this.JAa()?(v.abort(),v.ze(),this.Sv(v),this.LA(v.hG,this.label,this.properties,{offset:v.offset,la:Math.max(Math.ceil(v.la / 2),1)})):(this.DT=v,this.efa(this));};p.prototype.CU=function(){var v,q;if(this.state !== e.Fh.nw){this.console.warn("AseRequest.onrequestaborted:",this.toString());v=this.active;q=this.Bja;this.hb=e.Fh.nw;this.GS(this,v,q);}};p.prototype.uN=function(v,q,u){this.pe+=q - u;v={type:"updatedBytes",nob:q,LLa:u};this.events.emit(v.type,v);this.$Ea(this,q,u);};p.prototype.ILa=function(v,q){this.DT === v && (this.DT=void 0);this.ZZ=Math.max(this.ZZ,v.Ii);this.aK+=q;};p.prototype.toString=function(){return "ID: " + this.Fi();};p.prototype.Lda=function(v){var q,u,t,w,x,z,y,A;(0,g.assert)((0,l.bm)(this.stream),"debugFragmentTimes only supported for live streams");if(this.mediaType !== f.u.Ia && this.qac && v === this.Va[0] && v.response instanceof ArrayBuffer){q=d.UE.web(new DataView(v.response));if(q){v=q.pW;u=q.jv;t=q.$D;if(void 0 === u || void 0 === t)(q=void 0 === u?this.mediaType === f.u.V?this.stream.za.Yc(this.Bk).ga:0:0,new f.K(v + q,this.stream.Bk));else {w=this.R.getTracks(f.u.V)[0];(0,g.assert)((0,l.$m)(w),"Unexpected on-demand video track in live branch");q=v;this.mediaType === f.u.X && this.config.Wlb && (q-=w.jv.Yc(this.Bk).ga);t=this.stream.za.yg(t);u=new f.K(q + u,this.stream.Bk).ka(this.stream.track.jv);x=this.Uz.add(w.un);z=this.w3b;w=!t.equal(z);y=1 < f.K.abs(u.ka(x)).ga;A=w && y?"both":w?"duration":y?"presentation":u.equal(x)?"ok":"onetick";v="onrequestcomplete, fragmentTimes: index " + this.index + (" decode ").concat(v) + (" adjusted ").concat(q) + (" presentation ").concat(u.Ka()) + (" expected ").concat(x.Ka()) + (" duration ").concat(t.Ka()) + (" expected ").concat(z.Ka()," ") + A;w?this.console.error(v):y?this.console.warn(v):this.console.trace(v);}}}};return p;})(a.rP);b.aX=k;(0,r.Mk)(h.FTa,k,!1);},11031:function(r,b,a){var c,n,d,g,e,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.bX=void 0;c=a(5163);n=a(91176);d=a(6198);g=a(52571);e=a(48170);f=a(92140);l=a(50468);r=(function(){function h(k,m,p){var v,q,u;this.bb=m;this.Wb=p;this.y7a=n.K.wa;this.W7a=k.gu;this.Gt=k.Gt;this.Sq=k.track;this.qLb=this.mediaType !== d.u.Ia?this.RT.Hi:!1;this.YQa=k.YQa;this.iC=k.Gi;m=k.Rp;this.Rp=void 0 === m?!0:m;this.gea=k.gea;this.HQ=void 0;this.anb=this.Xu=0;this.url=this.X6=this.pc=this.Vr=this.lJa=this.location=this.gb=this.jb=void 0;this.aA=!1;this.CIa=this.dg=void 0;k=this.bb;this.Sgc=0 <= (null === (v=k.W9a) || void 0 === v?void 0:v.indexOf(this.profile));this.Cac=this.mediaType === d.u.X?!0:this.mediaType === d.u.V?this.fa || -1 !== this.$d.indexOf("h264bpl") || -1 !== this.$d.indexOf("h264mpl") || -1 !== this.$d.indexOf("hevc") && -1 === this.$d.indexOf("do"):!1;if((null === (q=k.MU) || void 0 === q?0:q.eIc) && this.mediaType === d.u.V && (v=this.Gt,0 < (null === (u=v.nO) || void 0 === u?void 0:u.length))){u=v.nO.splice(0,v.nO.length);v=new Uint8Array(u.length);for(q=0;q < u.length;q++)v[q]=u[q].Gb;this.nO=v;}}Object.defineProperties(h.prototype,{bkb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{R:{get:function(){return this.Sq.R;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{N:{get:function(){return this.R.N;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{P:{get:function(){return this.Sq.P;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.Sq.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{za:{get:function(){return this.Sq.za;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{O:{get:function(){return this.Sq.O;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Bk:{get:function(){return this.Sq.Bk;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{trackId:{get:function(){return this.Sq.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{RT:{get:function(){if(this.mediaType !== d.u.Ia)return this.Gt;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{gu:{get:function(){return this.W7a;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Jb:{get:function(){var k,m;return this.mediaType === d.u.Ia?null !== (k=this.YQa) && void 0 !== k?k:"":null !== (m=this.RT.downloadable_id) && void 0 !== m?m:this.RT.downloadableId;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{id:{get:function(){return this.Jb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Hi:{get:function(){return this.qLb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{fa:{get:function(){return this.track.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{bitrate:{get:function(){return this.mediaType === d.u.Ia?0:this.RT.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Gb:{get:function(){var k;if(this.Iea)return this.Iea;if(this.mediaType === d.u.V)return null !== (k=this.Gt.vmaf) && void 0 !== k?k:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ula:{get:function(){return this.mediaType !== d.u.X?f.X3a.T5b().Ula(this.bitrate,this.profile):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ipc:{get:function(){if(this.mediaType === d.u.V)return this.Gt.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{y6:{get:function(){if(this.mediaType === d.u.V)return this.Gt.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{profile:{get:function(){return this.mediaType === d.u.Ia?"timedtext":this.RT.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{$d:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{xl:{get:function(){if(this.mediaType === d.u.V)return this.Gt.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{kg:{get:function(){return this.y7a;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{kT:{get:function(){return this.Sgc;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Hv:{get:function(){return this.Ha && this.Ha.Hv;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{kv:{get:function(){return void 0 !== this.HQ?this.HQ:this.wbc();},set:function(k){this.HQ=k;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Er:{get:function(){return this.Rp && !this.aA;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{yD:{get:function(){return this.Er && !1 !== this.kv;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Gi:{get:function(){return this.iC;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{uac:{get:function(){(0,g.assert)(!!this.Ha,"Initial header should have been received already");return this.R.aIa() && -1 < this.$d.indexOf("h264mpl") && void 0 === this.Ha.jza;},enumerable:!1,configurable:!0}});h.prototype.jD=function(){return this.R.jD(this.mediaType,this.Jb);};h.prototype.N5b=function(){var k;k=this.jD();return k && k.stream.Ha;};h.prototype.jB=function(k,m){return this.R.jB(this,k,m);};h.prototype.qLa=function(){this.track.qLa();};h.prototype.qja=function(){this.track.qja();};h.prototype.pr=function(k){e.G && (0,g.assert)(this.Ha && 0 <= k && k < this.Ha.length);return new l.Ro(this,void 0,this.Ha.get(k));};h.prototype.qgb=function(k){var m;e.G && (0,g.assert)(k instanceof l.Ro);e.G && (0,g.assert)(this.trackId === k.stream.trackId);m=this.pr(k.index);k.sa && (m.ji(k.sa),m.JV(k.fB),e.G && this.Wb && this.Wb.trace("AseStream: other stream fragment: " + JSON.stringify(k) + " transferring edit:" + JSON.stringify(k.sa)));return m;};h.prototype.Uwc=function(k,m){this.Xu=k;this.anb=m;};h.prototype.XTb=function(){this.gb=this.jb=this.pc=this.location=this.url=void 0;};h.prototype.Mp=function(){switch(this.mediaType){case d.u.X:return this.m4b();case d.u.V:return this.E8b();case d.u.Ia:return this.m8b();default:(0,g.assert)(!1,("Unsupported mediaType: ").concat(this.mediaType));}};h.prototype.toJSON=function(){return {movieId:this.P,mediaType:this.mediaType,streamId:this.Jb,bitrate:this.bitrate,streamIndex:this.gu,isAvailable:this.Rp,fittable:this.kv,vmaf:this.Gb,resolutionWidth:this.ipc,resolutionHeight:this.y6};};h.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Jb + ":" + this.bitrate;};h.prototype.wbc=function(){var k;if(!this.Gg)return !0;if(this.track.hHa >= this.bitrate)return this.HQ=!0;if(this.track.wmb <= this.bitrate)return this.HQ=!1;e.G && this.Wb && this.Wb.trace("isStreamFittableInBuffer: minRequiredBuffer " + this.bb.sA);k=this.Uca();k?this.track.ZMa && !this.Hi && this.track.Xm || (this.track.hHa=this.bitrate):this.track.wmb=this.bitrate;return this.HQ=k;};h.prototype.E8b=function(){return c.__assign(c.__assign({},this.track.Mp()),{profile:this.$d});};h.prototype.m4b=function(){return c.__assign(c.__assign({},this.track.Mp()),{profile:this.$d,bitrate:this.bitrate});};h.prototype.m8b=function(){return c.__assign(c.__assign({},this.track.Mp()),{profile:this.$d});};return h;})();b.bX=r;},78015:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.rP=void 0;a(52571);r=(function(){function c(n,d){c.NHa(this,n,d);}c.NHa=function(n,d,g){n.we=d;n.pe=g.la;n.Ne=g.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.we;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{la:{get:function(){return this.pe;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.Ne;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{R:{get:function(){return this.we.R;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{P:{get:function(){return this.we.P;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.we.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Jb:{get:function(){return this.we.Jb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.we.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.we.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{O:{get:function(){return this.we.O;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Bk:{get:function(){return this.we.Bk;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{za:{get:function(){return this.we.za;},enumerable:!1,configurable:!0}});c.prototype.bsc=function(n){this.we=n;};return c;})();b.rP=r;},5800:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.xB=void 0;r=a(85254);a=a(71808);c=(function(){function n(d,g){this.parent=d;this.fC=g.nb;this.Iu=g.xb;}Object.defineProperties(n.prototype,{nb:{get:function(){return void 0 !== this.fC?this.fC:this.parent.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{xb:{get:function(){return void 0 !== this.Iu?this.Iu:this.parent.xb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{O:{get:function(){return this.parent.O;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{vn:{get:function(){return this.parent.vn;},enumerable:!1,configurable:!0}});n.prototype.nrc=function(d){this.fC=d;};n.prototype.HV=function(d){this.Iu=d;};n.prototype.fda=function(){this.Iu=void 0;};return n;})();b.xB=c;(0,r.Mk)(a.ow,c);},71808:function(r,b,a){var d;function c(g,e){return void 0 === g?void 0:0 === g?d.K.wa:new d.K(g,e);}function n(g,e){return void 0 === g || void 0 === e?void 0:g + e;}Object.defineProperties(b,{__esModule:{value:!0}});b.ow=void 0;d=a(91176);r=(function(){function g(){}Object.defineProperties(g.prototype,{jG:{get:function(){var e,f;e=this.xb;f=this.nb;return (void 0 === e || void 0 === f?void 0:e - f) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Skc:{get:function(){return n(this.nb,this.vn);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Okc:{get:function(){return n(this.xb,this.vn);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ob:{get:function(){return c(this.jG,this.O);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ba:{get:function(){return c(this.nb,this.O);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ga:{get:function(){return c(this.xb,this.O);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Hb:{get:function(){return c(this.Skc,this.O);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Rb:{get:function(){return c(this.Okc,this.O);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{mNa:{get:function(){return c(this.vn,this.O);},enumerable:!1,configurable:!0}});return g;})();b.ow=r;},26279:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.cX=void 0;c=a(5163);n=a(6198);d=a(52571);g=a(69575);e=a(65077);f=a(444);l=a(52629);h=a(8149);k=a(48170);m=a(87225);p=a(48834);r=(function(){function v(q,u,t){var w;w=this;this.config=u;this.console=t;this.Kw=new g.P3a();this.e_=0;this.vo=q.vo;this.R=q.R;this.mediaType=q.mediaType;this.FI=q.FI;this.AF=q.AF;this.mediaType === n.u.V?(u=this.vo,t=c.__read(u.streams,1)[0],this.NMb=new l.yQ({w:u.maxWidth,sv:u.maxHeight},{w:u.Mqb,sv:u.Nqb}),void 0 !== t.framerate_value && void 0 !== t.framerate_scale && (this.sxa=f.bC.from({Zx:t.framerate_value,dv:t.framerate_scale}),this.nF=this.sxa.za(),k.G && this.console.trace("AseTrack: video frame duration normalized to " + this.nF.toString() + " from " + JSON.stringify(t))),void 0 !== u.cKa && void 0 !== u.bKa && (this.ELb=f.bC.from({Zx:u.cKa,dv:u.bKa}))):this.mediaType === n.u.X && (this.oKb=this.vo.streams[0].channels,this.OMb=48E3);this.qb=(this.Mq=this.nF) && this.Mq.O;this.mediaType === n.u.Ia && (this.qb=1E3);this.eya=!1;this.hHa=-Infinity;this.wmb=Infinity;q=v.BKb(this,q.qt);u=q.maxBitrate;t=q.Td;this.Xm=q.Xm;this.maxBitrate=u;this.Td=t;this.guc=t.reduce(function(x,z){x[z.Jb]=z;return x;},{});k.G && (function(){(0,d.assert)(void 0 !== w.P);(0,d.assert)(void 0 !== w.mediaType);(0,d.assert)(void 0 === w.Mq || w.qb === w.Mq.O);});k.G && this.console.trace(("AseTrack: new track for movie ").concat(this.P,", mediaType ").concat(this.mediaType) + (", viewableId ").concat(this.R.N,", track ").concat(this.trackId) + (", frameDuration ").concat(this.za && this.za.toString()) + (", trackIndex ").concat(this.FI) + (", absoluteTrackIndex ").concat(this.AF));}v.BKb=function(q,u){var t,w,x,z,y,A,B,C,D;t=q.config;w=q.mediaType === n.u.V;x=!1;z=0;y=[];A=(0,h.$m)(q)?m.jZa:p.C0a;if(q.mediaType === n.u.X || q.mediaType === n.u.V){B=q.vo;C=B.streams.some(function(E){return E.Hi;});B.streams.forEach(function(E,F){var G,J,N;G=E.bitrate;J=!0;if(w){N=E.Hi;J=u?!0:N === C;x=x || N;}J && G > z && (z=G);E=new A({Gt:E,gu:F,track:q,Rp:J},t,q.console);y.push(E);});}else if(q.mediaType === n.u.Ia){D=q.vo;B=D.downloadableIds["imsc1.1"];k.G && q.console.trace("parsing text track dlid:",B);if(D=D.ttDownloadables["imsc1.1"])(B=new A({Gt:D,gu:0,track:q,Rp:!0,YQa:B,Gi:[]},t,q.console),y.push(B),q.Kw.set(B));}else (B=q.vo,B.streams.forEach(function(E,F){E=new A({Gt:E,gu:F,track:q,Rp:!0},t,q.console);y.push(E);}));return {Xm:x,maxBitrate:z,Td:y};};Object.defineProperties(v.prototype,{S4:{get:function(){return !this.Gg && 0 === this.e_;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{ZMa:{get:function(){return this.eya;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{P:{get:function(){return String(this.R.P);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{trackId:{get:function(){return this.mediaType === n.u.Ia?this.vo.id:this.vo.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Ir:{get:function(){return this.i7a;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{za:{get:function(){return this.Mq;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{frameRate:{get:function(){return this.sxa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{cia:{get:function(){return this.ELb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{jm:{get:function(){return this.NMb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{channels:{get:function(){return this.oKb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{sampleRate:{get:function(){return this.OMb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{profile:{get:function(){return this.mediaType === n.u.Ia?this.vo.rawTrackType:this.vo.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{CO:{get:function(){return this.mediaType === n.u.Ia?this.vo.rawTrackType:this.vo.CO;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{O:{get:function(){return this.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Bk:{get:function(){return this.Rxa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Ri:{get:function(){return this.Wd;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{qD:{get:function(){return this.Kw.value;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{JEa:{get:function(){return this.Kw;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{nnb:{get:function(){return this.Td.some(function(q){var u;return 1 < ((null === (u=q.Gi) || void 0 === u?void 0:u.length) || 0);});},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{fa:{get:function(){return this.R.fa;},enumerable:!1,configurable:!0}});v.prototype.Ih=function(q){return this.pM()[q];};v.prototype.pM=function(){return this.guc;};v.prototype.equals=function(q){return !!q && this.P === q.P && this.mediaType === q.mediaType && this.trackId === q.trackId;};v.prototype.qLa=function(){this.e_++;};v.prototype.qja=function(){k.G && (0,d.assert)(0 < this.e_,"Removing more header requests than opened");0 < this.e_ && this.e_--;};v.prototype.jpb=function(q){void 0 === this.Kw.value && (k.G && this.console.trace("first AseTrack.onHeaderComplete for stream:",q.id),this.Kw.set(q));};v.prototype.wbb=function(q){k.G && (0,d.assert)(q instanceof v);k.G && this.console.trace("AseTrack: copying header to movie " + this.P + ", track " + this.trackId + ", mediaType " + this.mediaType + ", from movie " + q.P + ", track " + q.trackId + ", mediaType " + q.mediaType + ", track.headerReceived " + q.Gg);this.Gg || (this.JPa(q.O),this.vPa(q.Bk),this.qPa(q.za),this.Wd=q.Ri,q.JEa.value?this.Kw.set(q.JEa.value):this.Kw.ytb());};v.prototype.hv=function(q,u,t,w){var x;(0,d.assert)(this.qD);x=this.qD;return (0,e.hv)(this.mediaType,q,x,u,t,w);};v.prototype.tG=function(q,u,t){var w;(0,d.assert)(this.qD);w=this.qD;q=(0,e.tG)(this.mediaType,q,w,u,t);k.G && this.console.trace("AseTrack.findLastFragment() pts:",u,"found:",q);return q;};v.prototype.Mp=function(){switch(this.mediaType){case n.u.X:return ((0,d.assert)(this.mediaType === n.u.X),(0,d.assert)(void 0 !== this.channels),(0,d.assert)(void 0 !== this.sampleRate),{channels:this.channels,profile:this.profile,CO:this.CO,bitrate:this.Td[this.Td.length - 1].bitrate,sampleRate:this.sampleRate,Ir:this.Ir});case n.u.V:return ((0,d.assert)(this.mediaType === n.u.V),(0,d.assert)(void 0 !== this.cia),(0,d.assert)(void 0 !== this.jm),{N:this.R.N,Xm:this.Xm,profile:this.profile,RIc:this.cia.Zx,QIc:this.cia.dv,CO:this.CO,jm:this.jm,maxWidth:this.jm.jm.w,maxHeight:this.jm.jm.sv,Mqb:this.jm.Upb.w,Nqb:this.jm.Upb.sv,Ir:this.Ir});case n.u.Ia:return ((0,d.assert)(this.mediaType === n.u.Ia),{profile:this.profile,CO:this.CO});default:(0,d.assert)(!1,("Unsupported mediaType: ").concat(this.mediaType));}};v.prototype.toJSON=function(){return {movieId:this.P,mediaType:this.mediaType,trackId:this.trackId};};v.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};v.prototype.JPa=function(q){k.G && (0,d.assert)(void 0 === this.qb || this.qb === q);this.qb=q;};v.prototype.vPa=function(q){k.G && (0,d.assert)(void 0 === this.Rxa || this.Rxa === q);this.Rxa=q;};v.prototype.qPa=function(q){var u;k.G && (0,d.assert)(void 0 !== q);u=new f.bC(q.O,q.ga).za();k.G && (0,d.assert)(void 0 === this.Mq || this.Mq.equal(u));this.Mq=q;this.mediaType === n.u.V && (this.sxa=f.bC.cFa(q));};return v;})();b.cX=r;},51440:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.LTa=void 0;c=a(5163);a(91562);a(66164);a(52571);r=a(85254);n=a(50468);a=(function(d){function g(e,f,l,h,k,m,p,v){var q;q=c.__assign(c.__assign({},l),{offset:l.offset,la:l.Bia + 8,rH:void 0,responseType:0});h=d.call(this,e,f,"moof",q,h,k,m,p) || this;h.sea=!0;h.tA=!1;n.Ro.Pb(h,e,k,l,v);h.EU=h.mSb(l,q.la);h.teb(f,"mdat",l,h.EU);return h;}c.__extends(g,d);g.prototype.mSb=function(e,f){var l;f={offset:e.offset + f,la:e.la - f};if(this.sa){if(0 < this.sa.start){l=this.Zeb(this.sa.start);l && (f.offset=e.offset + l,f.la=e.la - l);}this.sa.end < this.Vl && (l=this.Zeb(this.sa.end)) && (f.la-=e.la - l);}return f;};g.prototype.toString=function(){return "ID: " + this.Fi() + ":" + d.prototype.toString.call(this);};return g;})(a(50247).aX);b.LTa=a;(0,r.Mk)(n.Ro,a);},87225:function(r,b,a){var c,n,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.jZa=void 0;c=a(5163);n=a(91176);d=a(48170);g=a(11031);r=(function(e){function f(l,h,k){l=e.call(this,l,h,k) || this;l.bb=h;l.Wb=k;return l;}c.__extends(f,e);Object.defineProperties(f.prototype,{Ha:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{track:{get:function(){return this.Sq;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Gg:{get:function(){return !!this.iC;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{un:{get:function(){return this.track.un;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{T1:{get:function(){return this.track.T1;},enumerable:!1,configurable:!0}});f.prototype.uU=function(l,h,k,m,p,v,q,u,t){d.G && this.Wb && this.Wb.trace("AseStream.onHeaderReceived");this.Gg?d.G && this.Wb.trace("Duplicate header received for stream ",this):(this.iC=l,this.track.uU(this,h,k,m,v,u,t),this.track.jpb(this));};f.prototype.vbb=function(l){d.G && (0,n.assert)(l instanceof g.bX);d.G && (0,n.assert)(l.Jb === this.Jb);this.Gg || (this.track.wbb(l.track),this.iC=l.Gi);};f.prototype.lM=function(l,h,k){var m,p,v;k=null === (m=k || this.url) || void 0 === m?void 0:m.split("?");m=null !== (p=null === k || void 0 === k?void 0:k[0]) && void 0 !== p?p:"";p=null !== (v=null === k || void 0 === k?void 0:k[1]) && void 0 !== v?v:"";l?l=this.track.T$b:(void 0 === h && this.Wb.error("AseStream.getRequestUrl: liveSegmentId undefined"),(0,n.assert)(void 0 !== h,"liveSegmentId is required for live media requests"),l=this.track.mfc.replace("$Number$",h.toString()));this.R.yO && (h=this.track.Ll,p+=(p?"&":"") + "flp=" + encodeURIComponent(("ast,").concat(this.track.vz,",startSegment,").concat(this.track.zn,",duration,").concat(h.ga,",timeScale,").concat(h.O)));return m + "/" + l + (p?"?" + p:"");};f.prototype.Uca=function(){var l,h;return this.bb.G4 * this.bitrate / 8 * (this.bb.sA + (null !== (h=null === (l=this.R) || void 0 === l?void 0:l.AO.H) && void 0 !== h?h:0)) < this.Xu;};f.prototype.vhb=function(l,h){var k;k=void 0 === l || l === this.track.zn;return this.lM(k,k?void 0:l,h);};return f;})(g.bX);b.jZa=r;},92945:function(r,b,a){var c,n,d,g,e,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.kZa=void 0;c=a(5163);n=a(91176);d=a(6198);g=a(52571);e=a(444);f=a(48170);l=a(8149);r=(function(h){function k(m,p,v){var q;p=h.call(this,m,p,v) || this;p.eS=n.K.wa;p.$6a=m.JT;m=p.R.U.Wg;(0,g.assert)(m,"Live metadata cannt be undefined on live viewable");v=p.Td[0].Jb;q=null === m || void 0 === m?void 0:m.lea[v];(0,g.assert)(void 0 !== q,"No segment template id found for downloadableId: " + v);p.$A=m.R6[q];(0,g.assert)(p.$A,"No segment template found for segmentTemplateId: " + q);p.IJa=new Date(p.$A.iR).getTime();p.vz=p.R.yO?p.R.yO.vz:p.IJa;p.zn=Number(p.$A.hwb);p.un=new n.K(Number(p.$A.Jlc),p.$A.O);p.Ll=new n.K(p.$A.duration,p.$A.O);return p;}c.__extends(k,h);Object.defineProperties(k.prototype,{T$b:{get:function(){return this.$A.S$b;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{mfc:{get:function(){return this.$A.media;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Gg:{get:function(){var m;return this.mediaType === d.u.Ia?!0:!(null === (m=this.Kw.value) || void 0 === m || !m.Gg);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{JT:{get:function(){return this.$6a;},set:function(m){this.$6a=m;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{T1:{get:function(){return this.Xaa || n.K.wa;},set:function(m){var p;f.G && this.Xaa && !m.equal(this.Xaa) && this.console.warn("Unexpected change in first frame offset timestamp" + ("").concat(null === (p=this.Xaa) || void 0 === p?void 0:p.Ka()," -> ").concat(m.Ka()));this.Xaa=m;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{jv:{get:function(){return this.HEa?new n.K(this.HEa.jv,this.Bk):this.eS || n.K.wa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{qD:{get:function(){var m;m=this.Kw.value;return (0,l.bm)(m)?m:void 0;},enumerable:!1,configurable:!0}});k.prototype.uU=function(m,p,v,q,u,t,w){f.G && this.console.trace(("[").concat(this.mediaType,"] AseTrack.onHeaderReceived for stream: ").concat(m.id,", ") + ("movieTimescale: ").concat(p,", ") + ("frameDuration: ").concat(null === v || void 0 === v?void 0:v.Ka(),", ") + ("editListOffset: ").concat(null === w || void 0 === w?void 0:w.Ka()));if(m.Hi || !m.track.Xm)this.eya=!0;this.Gg || (this.vPa(p),this.i7a=t,w && (this.eS=w),void 0 !== v && this.mediaType === d.u.V && this.config.Ytb && (v=e.bC.cFa(v).za()),(v=v || this.nF)?(f.G && this.console.trace(("[").concat(this.mediaType,"] AseTrack: Setting frame duration for movie ").concat(this.P) + (", track ").concat(this.trackId) + (" to ").concat(v.toString()) + (", was ").concat(this.Mq && this.Mq.toString()) + (", manifestFrameDuration ").concat(this.nF)),this.qPa(v || this.nF),void 0 === this.O && this.JPa(v.O)):(f.G && this.console.trace(("[").concat(this.mediaType,"] AseTrack: No frame duration for movie ").concat(this.P) + (", track ").concat(this.trackId) + (", mediaType ").concat(this.mediaType) + (", timescale ").concat(this.O)),f.G && (0,g.assert)(this.O)));};k.prototype.pLa=function(m,p,v){var q,u;this.fa || f.G && this.console.warn(("[").concat(this.mediaType,"] AseTrack.onFirstFragmentReceived called on non-live track"));if(void 0 === v.jv)f.G && this.console.warn(("[").concat(this.mediaType,"] AseTrack.onFirstFragmentReceived: no first frame composition offset"));else {if(this.mediaType === d.u.V){q=this.Ll;u=this.zn;p=new n.K(v.pW + v.jv,this.Bk).ka(q.yg(p - u)).ka(this.eS);p.equal(this.un) || f.G && this.console.warn(("[").concat(this.mediaType,"] AseTrack.onFirstFragmentReceived: presentation time offset difference"),this.un.Ka(),p.Ka(),p.ka(this.un).Ka());}else if(this.mediaType !== d.u.X){f.G && this.console.error(("[").concat(this.mediaType,"] AseTrack.onFirstFragmentReceived: unexpected media type"),this.mediaType);return;}f.G && this.console.warn(("[").concat(this.mediaType,"] AseTrack.onFirstFragmentReceived: firstFragmentTimes ").concat(JSON.stringify(v)));this.HEa=v;this.R.pLa(this,m);}};k.prototype.Shc=function(m,p){var v,q,u,t,w;(0,g.assert)(this.mediaType === d.u.X,("Unexpected call to onAudioFirstFragmentsReceived for media type ").concat(this.mediaType));v=this.HEa;q=v.pW;v=v.jv;p=q - p.Yc(this.Bk).ga;m=m.Yc(this.Bk);u=new n.K(p + v,this.Bk).ka(m);t=Math.floor(u.Oe(this.za));w=u.ka(this.za.yg(t));this.T1=w;f.G && this.console.trace(("[").concat(this.mediaType,"] AseTrack.onAudioFirstFragmentReceived: trackFragmentDecodeTime: "),("").concat(new n.K(q,this.Bk).Ka()),"adjustedTrackFragmentDecodeTime: ",("").concat(new n.K(p,this.Bk).Ka()),"firstFrameCompositionOffset",("").concat(new n.K(v,this.Bk).Ka(),","),("videoPresentationTimeOffset ").concat(m.Ka(),","),("fragment presentation offset ").concat(u.Ka(),","),("").concat(t," frames = ").concat(this.za.yg(t).Ka(),","),("firstFrameTimeOffsetTimestamp ").concat(w.Ka()));};k.prototype.z2=function(){(0,g.assert)(void 0 !== this.IJa,"Unexpected call to getLiveAvailabilityStartTime. Not a live track.");return this.IJa;};k.prototype.st=function(){return this.R.st();};k.prototype.Ifa=function(m){return this.R.aM() - m.H > 1E3 * this.R.Ji.udc?"DVR":"LIVE";};k.prototype.vx=function(m){var p,v,q,u,t,w;v=this.Ll.Yc(null !== (p=this.O) && void 0 !== p?p:this.$A.O);if(this.mediaType === d.u.X){q=this.T1.Yc(this.O);u=this.za.Yc(this.Bk);p=Math.ceil(v.yg(m - this.zn).ka(q).Oe(u));t=Math.ceil(v.yg(m - this.zn + 1).ka(q).Oe(u));w=u.yg(p).add(q).Yc(this.O);q=u.yg(t).add(q).Yc(this.O);f.G && this.console.trace("AseStream.getContentTimestampsBySegmentId",("[").concat(this.mediaType,"] ").concat(m,"-").concat(this.zn," ") + ("=> frames ").concat(p,"-").concat(t),("offset ").concat(this.T1.Ka()),("frame ").concat(this.za.H," segment ").concat(v.H),("start ").concat(w.H," end ").concat(q.H),("old start ").concat(v.yg(m - this.zn).H),("old end ").concat(v.yg(m - this.zn + 1).H));}else (w=v.yg(m - this.zn),q=w.add(v),f.G && this.console.trace("AseStream.getContentTimestampsBySegmentId",("[").concat(this.mediaType,"] ").concat(m,"-").concat(this.zn," =>"),("segment ").concat(v.H),("start ").concat(w.H," end ").concat(q.H)));return {Ba:w,Ga:q};};return k;})(a(26279).cX);b.kZa=r;},48834:function(r,b,a){var c,n,d,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.C0a=void 0;c=a(5163);n=a(91176);d=a(89613);g=a(48170);e=a(11031);r=(function(f){function l(h,k,m){h=f.call(this,h,k,m) || this;h.bb=k;h.Wb=m;h.eb=void 0;k=(k=h.bb) && "object" === typeof k.Bka && k.Bka[h.profile];"object" === typeof k && (k=k[h.bitrate]) && (h.y7a=new n.K(k.ticks,k.timescale));return h;}c.__extends(l,f);Object.defineProperties(l.prototype,{track:{get:function(){return this.Sq;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Gg:{get:function(){return !!this.eb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ha:{get:function(){return this.eb;},enumerable:!1,configurable:!0}});l.prototype.uU=function(h,k,m,p,v,q,u,t){g.G && this.Wb && this.Wb.trace("AseStream.onHeaderReceived");p && void 0 !== p.Wr && (this.track.Gg || void 0 !== p.Tf && p.Tf.length) && void 0 !== p.offset && void 0 !== p.sizes && p.sizes.length?(this.bb.vp && this.kg && 0 === p.Wr && (g.G && this.Wb.trace("Applying profile timestamp offset of " + this.kg.toString() + " fragments.startTicks " + p.Wr + " / " + p.O + " for profile " + this.profile),p.Wr+=this.kg.Yc(p.O).ga),this.Gg?g.G && this.Wb.trace("Duplicate header received for stream ",this):(this.iC=h,this.track.uU(this,k,m,p,q,t),this.eb=new d.i4a(this.W7a,this.track.Ri,p,v,q,u,this.P),this.track.jpb(this))):p?this.Wb.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== p.Wr) + "," + this.track.Gg + "," + this.track.ZMa + "," + (void 0 !== p.Tf) + "," + !(!p.Tf || !p.Tf.length) + "," + (void 0 !== p.offset) + "," + (void 0 !== p.sizes) + "," + !(!p.sizes || !p.sizes.length)):this.Wb.error("AseStream.onHeaderReceived: fragmentsData was undefined.");};l.prototype.vbb=function(h){g.G && (0,n.assert)(h instanceof e.bX);g.G && (0,n.assert)(h.Jb === this.Jb);this.Gg || (this.track.wbb(h.track),this.eb=h.Ha,this.iC=h.Gi);};l.prototype.lM=function(h,k,m){return m || this.url;};l.prototype.Uca=function(){var h,k,m,p;return this.eb.Uca(this.bb.sA,this.Xu,null !== (k=null === (h=this.R) || void 0 === h?void 0:h.AO.H) && void 0 !== k?k:0,null !== (p=null === (m=this.R) || void 0 === m?void 0:m.AO.la) && void 0 !== p?p:0,this.anb);};l.prototype.vhb=function(h,k){return k;};return l;})(e.bX);b.C0a=r;},1913:function(r,b,a){var c,n,d,g,e,f;Object.defineProperties(b,{__esModule:{value:!0}});b.D0a=void 0;c=a(5163);n=a(6198);d=a(82149);g=a(52571);e=a(444);f=a(48170);r=(function(l){function h(k,m,p){k=l.call(this,k,m,p) || this;k.xxa=!1;return k;}c.__extends(h,l);Object.defineProperties(h.prototype,{Gg:{get:function(){return this.mediaType === n.u.Ia?!0:!!this.Ri && !!this.Kw.value;},enumerable:!1,configurable:!0}});h.prototype.uU=function(k,m,p,v,q,u){f.G && this.console.trace("AseTrack.onHeaderReceived for stream:",k.id);if(v && void 0 !== v.Wr && (this.Gg || void 0 !== v.Tf && v.Tf.length)){if(k.Hi || !k.track.Xm)this.eya=!0;if(this.Gg)!this.xxa && v.Tf && v.Tf.length > this.Ri.length && (f.G && this.console.trace("AseTrack: extending durations from " + ("").concat(this.Ri.length," to ").concat(v.Tf.length)),this.Wd=new d.fwa(this.mediaType,this.za,v,q),this.Kw.ytb(),this.hHa=-Infinity,this.xxa=!0);else if((this.vPa(m),this.i7a=u,void 0 !== p && this.mediaType === n.u.V && this.config.Ytb && (p=e.bC.cFa(p).za()),(p=p || this.nF)?(f.G && this.console.trace(("AseTrack: Setting frame duration for movie ").concat(this.P) + (", track ").concat(this.trackId) + (", mediaType ").concat(this.mediaType) + (" to ").concat(p.toString()) + (", was ").concat(this.Mq && this.Mq.toString()) + (", manifestFrameDuration ").concat(this.nF)),this.qPa(p || this.nF),void 0 === this.O && this.JPa(p.O)):(f.G && this.console.trace(("AseTrack: No frame duration for movie ").concat(this.P) + (", track ").concat(this.trackId) + (", mediaType ").concat(this.mediaType) + (", timescale ").concat(this.O)),f.G && (0,g.assert)(this.O)),this.Wd=new d.fwa(this.mediaType,this.za,v,q),k.Hi || !k.track.Xm))this.xxa=!0;}else this.console && this.console.error("AseTrack.onHeaderReceived with missing fragments data");};return h;})(a(26279).cX);b.D0a=r;},24251:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.OTa=void 0;c=a(91176);r=(function(){function n(d){this.config=d;}n.prototype.wmc=function(d){var g,e,f;g=this.config;e=[];f=[];d.forEach(function(p,v){void 0 === p.Gb?f.push(v):e.push(v);});if(0 !== f.length)for(var l=-1,h=-1,k=function(p){var v,q,u,t,w,x;v=f[p];q=d[v];if(0 === p || v !== f[p - 1] + 1)(l=e[(0,c.I9a)(e,function(z){return z < v;})] || -1,h=e[(0,c.nk)(e,function(z){return z > v;})] || -1);u=0;t=g.Wec;p=0;w=g.Xec;-1 < h && (t=d[h].bitrate,w=d[h].Gb);-1 < l && (p=d[l].Gb,u=d[l].bitrate);t=Math.log(t);u=0 === u?0:Math.log(u);x=Math.log(q.bitrate);q.Iea=Math.max(0,Math.min(110,Math.round((p * (t - x) + w * (x - u)) / (t - u) * 100) / 100));},m=0;m < f.length;m++)k(m);};return n;})();b.OTa=r;},29092:function(r,b,a){var d,g,e,f,l,h,k;function c(m){return m && "function" === typeof m.Sg?!0:!1;}function n(m){return c(m) && (m=typeof m.DM,"boolean" === m || "undefined" === m)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.pCb=b.ZAb=b.AsyncIterator=void 0;b.iKc=c;b.yIc=n;b.map=function(m,p,v){return new k(m,p,v);};b.flatten=function(m,p,v){return new h(m,p,v);};d=a(5163);g=a(48170);f=(function(){function m(p){var v;v=this;this.lLb=p;this.IQ=!1;this.CMb=function(q){return v.omc(q);};this.zbb();}m.DIa=function(p,v){var u;function q(){p.next().then(function(t){return d.__awaiter(u,void 0,void 0,function(){return d.__generator(this,function(w){switch(w.label){case 0:return n(p) && p.DM && !t.done?[3,2]:[4,v(t)];case 1:(w.va(),w.label=2);case 2:return [2,t];}});});}).then(function(t){return !t.done && q();});}u=this;q();};Object.defineProperties(m.prototype,{Nx:{get:function(){return this.IQ;},enumerable:!1,configurable:!0}});m.p5b=function(){return new l([]);};m.AGa=function(){e || (e=Promise.resolve({done:!0}));return e;};Object.defineProperties(m.prototype,{wD:{get:function(){return this.Qf || !1;},enumerable:!1,configurable:!0}});m.prototype.Sg=function(){this.cancel();};m.prototype.cancel=function(){this.x5();this.Qf=!this.IQ;return this.LAa;};m.prototype.next=function(){return this.Qf || this.Nx?this.LAa:Promise.race([this.LAa,this.lLb()]).then(this.CMb);};m.prototype.omc=function(p){p.done && (this.wD || (this.IQ=!0),this.Sg());if(!this.wD || this.Nx)(this.x5(),this.zbb());return p;};m.prototype.zbb=function(){var p;p=this;this.LAa=new Promise(function(v){p.x5=function(){return v({done:!0});};});};return m;})();b.AsyncIterator=f;l=(function(m){function p(v){var q;q=m.call(this,function(){return q.J6b();}) || this;q.ax=v;q.index=0;return q;}d.__extends(p,m);p.prototype.Sg=function(){c(this.ax) && this.ax.Sg();m.prototype.Sg.call(this);};p.prototype.J6b=function(){return this.ax.length > this.index?Promise.resolve({value:this.ax[this.index++],done:!1}):Promise.resolve({done:!0});};return p;})(f);b.ZAb=l;h=(function(m){function p(v,q,u){var t;t=m.call(this,function(){return t.OKa();}) || this;t.console=q;t.Ym=u;t.hNa=!1;Array.isArray(v)?t.p5=new l(v):t.p5=v;return t;}d.__extends(p,m);p.prototype.qmc=function(v){var q;this.hNa=!1;q=this.console;g.G && q && q.trace("CompoundIterator: processNextOuterIterator");if(v.done)return v;v=v.value;if(this.DM)return (c(v) && v.Sg(),f.AGa());Array.isArray(v)?this.Ym=new l(v):this.Ym=v;return this.OKa();};p.prototype.pmc=function(v){var q;q=this.console;g.G && q && q.trace("CompoundIterator: processNextInnerResult",this.DM,v.done);if(!v.done || this.DM)return v;this.Ym=void 0;return this.OKa();};p.prototype.Sg=function(){var v;v=this.console;g.G && v && v.trace("CompoundIterator: dispose");this.DM=!0;m.prototype.Sg.call(this);c(this.p5) && this.p5.Sg();c(this.Ym) && this.Ym.Sg();};p.prototype.toString=function(){return ("CompoundIterator ").concat(this.DM," ").concat(this.p5," ").concat(this.Ym);};p.prototype.OKa=function(){var v,q;v=this;q=this.console;g.G && q && q.trace("CompoundIterator: nextImpl");if(this.Ym)return (g.G && q && q.trace("CompoundIterator: getNextInner"),this.Ym.next().then(function(u){return v.pmc(u);}));this.hNa=!0;g.G && q && q.trace("CompoundIterator: getNextOuter");return this.p5.next().then(function(u){return v.qmc(u);});};return p;})(f);b.pCb=h;k=(function(m){function p(v,q,u){var t;t=m.call(this,function(){return t.fLb();}) || this;t.source=v;t.OJa=q;t.EBa=u;return t;}d.__extends(p,m);p.prototype.Sg=function(){c(this.source) && this.source.Sg();m.prototype.Sg.call(this);};p.prototype.fLb=function(){var v,q,u;v=this.EBa;q=this.OJa;u=this.source;g.G && v && v.trace("MappedIterator: Requesting next");return u.next().then(function(t){return t.done?t:q(t.value);});};return p;})(f);},89645:function(r,b,a){var d,g,e,f,l,h,k,m;function c(p,v){return p.done?p:{value:{value:p.value,Jya:v}};}function n(p){p.Jya();return {done:!1,value:p.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.tIb=b.$I=void 0;b.pGc=function(p){return (0,e.map)(p,n);};d=a(5163);g=a(66164);r=a(90745);e=a(29092);f=a(48170);l=a(69575);h=a(52571);a=a(85254);k=(function(){function p(v,q){this.console=v;this.Mg=q;this.Jgc=this.c1=0;this.ph=[];this.console=(0,l.xg)(g.platform,this.console,"QueueIterator:");}Object.defineProperties(p.prototype,{BZb:{get:function(){return this.c1;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{cbb:{get:function(){var v,q,u;for(q=0;q < this.ph.length;q++){u=this.ph[q];if(!u.G3 || (null === (v=u.item) || void 0 === v?0:v.done))break;}return q;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{count:{get:function(){return this.Mg;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Nx:{get:function(){return 0 === this.Mg;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{hOa:{get:function(){var v;for(v=0;v < this.ph.length && this.ph[v].wIa;v++);return v;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{head:{get:function(){var v;v=d.__read(this.ph,1)[0];return (v=v && v.item) && !v.done && v.value;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{QKa:{get:function(){var v;for(v=0;v < this.ph.length && this.ph[v].G3;v++);return v;},enumerable:!1,configurable:!0}});p.prototype.CL=function(){var v;if(void 0 === this.Mg){v=this.console;f.G && v && v.trace("QueueIterator: enqueueEnd");this.NRa(this.QKa - (this.Mg || 0));}};p.prototype.uj=function(){return this.ph.map(function(v){return v.item;});};p.prototype.U7=function(){this.values || (this.values=this.ph.filter(function(v){return (null === v || void 0 === v?void 0:v.item) && !v.item.done;}).map(function(v){return v.item.value;}));return this.values;};p.prototype.NRa=function(v){var q;f.G && this.console.trace("updateCount",{VLc:this.Mg,cv:v});if(void 0 !== this.Mg){q=this.ph[this.Mg];q && this.THa(q);}this.Mg=void 0 === this.Mg?v:void 0 === v?v:this.Mg + v;void 0 !== this.Mg && (this.Mg=Math.max(0,this.Mg),(q=this.ph[this.Mg]) && q.LM.resolve({done:!0}));};p.prototype.enqueue=function(v){var q;f.G && this.console.trace("Enqueue called");q=this.QKa;this.eda();return this.Imc(q,{value:v,done:!1}).Ncb.promise;};p.prototype.wtb=function(){f.G && this.console.trace("resetEnd");this.NRa(void 0);};p.prototype.clear=function(v){var q,u,t;f.G && this.console.trace("clear");this.lNa();q=this.hOa;u=this.ph.length - q;if(0 < u){t={index:q,hLa:u};f.G && this.console.trace("Removing items",t);this.ph.splice(q,u);this.eda();this.emit("onRemoved",t);}for(u=1;u < q;u++)this.THa(this.ph[u]);this.Mg=void 0;this.NRa(v?v + q:v);this.c1 && (this.c1=0);};p.prototype.getIterator=function(){var v,q;v=this;q=(0,l.xg)(g.platform,this.console,"QueueIteratorInstance::");return new m(this,function(u){return v.bhb(u);},q);};p.prototype.AZb=function(){var v;if(0 < this.hOa){v=d.__read(this.ph,1)[0];v.G3 && (f.G && this.console.trace("dequeue",v.id),this.lNa(1),this.emit("onDequeue",v.LM.promise));}};p.prototype.remove=function(v){var q,u,t;for(q=0;q < this.ph.length;q++){u=this.ph[q];t=u.item;if(t && !t.done && t.value === v){this.ph.splice(q,1);this.Mg && this.Mg > q && this.Mg--;this.eda();f.G && this.console.trace("removed",{id:u.id});this.emit("onRemoved",{index:q,hLa:1});break;}}};p.prototype.lNa=function(v){var q;v=v || Math.min(this.hOa,this.QKa);if(0 < v){q=this.ph.splice(0,v);this.eda();this.Mg && (this.Mg-=v);f.G && this.console.trace("pruned",v);Promise.resolve().then(function(){q.forEach(function(u){u.Ncb.resolve();});});this.emit("onRemoved",{index:0,hLa:v});this.c1+=v;}};p.prototype.bhb=function(v){var q;f.G && this.console.trace("getNextItemCalled",{offset:v});if(void 0 === this.count || 0 < this.count){this.Ajb(v);q=this.ph[v];q.Zoc.resolve();v=q.LM.promise;f.G && this.console.trace("getNextItem:return",{id:q.id});}else (f.G && this.console.trace("getNextItem:returnDone"),v=Promise.resolve({done:!0}));return v;};p.prototype.Imc=function(v,q){var u;u=!q.done && q.value;u=u && u.toJSON?u.toJSON():u;f.G && this.console.trace("Providing result",{HPb:v,item:u});this.Ajb(v);v=this.ph[v];u=v.LM.resolve;u(q);return v;};p.prototype.Ajb=function(v){var q;if(void 0 === this.ph[v]){q={};this.THa(q);this.ph[v]=q;v === this.Mg && q.LM.resolve({done:!0});f.G && this.console.trace("Item initialized",{HPb:v});}};p.prototype.kCa=function(v){var q;q={};q.promise=new Promise(function(u,t){q.resolve=function(w){u(w);v && v(w);};q.reject=t;});return q;};p.prototype.THa=function(v){var q;q=this;v.LM=this.kCa(function(u){v.item=u;v.G3=!0;f.G && q.console.trace("Item resolved",{id:v.id});});v.id && v.wIa && !v.G3 && (v.LM.resolve({done:!0}),f.G && this.console.warn("Overwriting requested queue item",v.id));v.Ncb=this.kCa();v.Zoc=this.kCa(function(){v.wIa=!0;f.G && q.console.trace("Item requested",{id:v.id});});v.id=this.Jgc++;v.wIa=!1;v.G3=!1;v.item=void 0;};p.prototype.eda=function(){this.values=void 0;};p.prototype.lfa=function(){var v,q,u;v=this;q=(0,l.xg)(g.platform,this.console,"QueueIteratorInstance::");u=new m(this,function(t){var w,x;if(0 === v.count)return e.AsyncIterator.AGa();w=v.bhb(t);x=v.ph[0];return w.then(function(z){return c(z,function(){u.wD || (x === v.ph[0]?v.AZb():(0,h.assert)(!v.ph.filter(function(y){return y.LM.promise === w;}).length,"Out of order acknowledgements are not supported"));});});},q);return u;};return p;})();b.$I=k;(0,a.Mk)(r.EventEmitter,k);m=(function(p){function v(q,u,t){var w;w=p.call(this,function(){f.G && w.console.trace("Next item requested",{index:w.index});return w.Ipc(w.index++);}) || this;w.parent=q;w.Ipc=u;w.console=t;w.O6a=!1;w.index=0;w.Cxa=!1;w.HH=function(x){var z;z=x.index;x=x.hLa;w.index >= z && (w.index=Math.max(z,w.index - x));z=w.console;f.G && z && z.trace("QueueIteratorInstance: onRemoved modified",w.index);};return w;}d.__extends(v,p);v.prototype.Sg=function(){this.console.trace("disposed");this.O6a=!0;this.ze();p.prototype.Sg.call(this);};v.prototype.next=function(){this.wD || this.SHa();return p.prototype.next.call(this);};v.prototype.cancel=function(){this.ze();return p.prototype.cancel.call(this);};v.prototype.ze=function(){this.parent.yo("onRemoved",this.HH);this.Cxa=!1;};v.prototype.SHa=function(){this.Cxa || (this.Cxa=!0,this.parent.on("onRemoved",this.HH));};Object.defineProperties(v.prototype,{DM:{get:function(){return this.O6a;},enumerable:!1,configurable:!0}});return v;})(e.AsyncIterator);b.tIb=m;},29358:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.pUa=void 0;c=a(5163);n=a(29092);d=a(48170);r=(function(){function g(e,f,l){this.Wb=e;this.iKb=f;this.jC=l;this.Raa=0;this.pha=!1;this.Z_=[];this.kL=void 0;d.G && e.trace(("BranchRequestIterator [").concat(this.jC,"]: created"));}Object.defineProperties(g.prototype,{tYb:{get:function(){return this.Raa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ida:{get:function(){return this.l6a;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Kh:{get:function(){return this.pha;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{mcb:{get:function(){return this.Ym?this.Ym.Nx?"Complete":this.Ym.hNa?"WaitingForBranch":void 0 !== this.kL && 0 !== this.kL?("In Policy ").concat(this.Z_[this.kL].name):"WaitingForRequest":("Uninitialized;Prior:").concat(this.Clb);},enumerable:!1,configurable:!0}});g.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var e,f,l,h;return c.__generator(this,function(k){switch(k.label){case 0:e=this.Ym;if(!e)return [3,6];this.kL=void 0;return [4,e.next()];case 1:(f=k.va(),l=0,k.label=2);case 2:if(!(l < this.Z_.length))return [3,5];this.kL=l;h=this.Z_[l];return [4,h.process(f)];case 3:(f=k.va(),k.label=4);case 4:return (l++,[3,2]);case 5:this.kL=void 0;if(f.done || this.Ym !== e)return [2,{done:!0}];this.Raa++;f.value.Jya();return [2,{done:!1,value:f.value.value}];case 6:return [2,n.AsyncIterator.AGa()];}});});};g.prototype.spc=function(){this.twb();this.xnc();};g.prototype.twb=function(){var e;if(this.Ym){this.Clb=this.mcb;e=this.Ym;e && e.Sg();this.Z_.forEach(function(f){return f.reset();});e && d.G && this.Wb.trace(("BranchRequestIterator [").concat(this.jC,"]: Disposing iterator that was on branch "),this.Ida && this.Ida.M.id);this.pha=!1;this.kL=this.Ym=void 0;}};g.prototype.O_=function(e){this.Z_.push(e);};g.prototype.xnc=function(){var e,f,l,h;e=this;if(!this.pha){f=this.Wb;l=this.iKb;h=this.jC;this.Raa=0;this.Clb=this.l6a=void 0;this.Ym=(0,n.flatten)((0,n.map)(l.R7b(),function(k){return c.__awaiter(e,void 0,void 0,function(){var m;return c.__generator(this,function(p){switch(p.label){case 0:return (this.l6a=k,this.Raa=0,d.G && f.trace(("BranchRequestIterator [").concat(this.jC,"]: new branch ").concat(k.M.id)),[4,k.EG(h)]);case 1:if(m=p.va())return [2,{value:m}];d.G && f.error(("BranchRequestIterator [").concat(this.jC,"]: skipping branch ").concat(k.M.id));return [2,{value:[]}];}});});},f),f);this.pha=!0;}};return g;})();b.pUa=r;},50930:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.RXa=void 0;c=a(78541);n=a(42431);a(65161);d=a(52571);r=(function(){function g(e,f,l,h,k,m,p,v){this.Qa=e;this.track=f;this.Itc=l;this.Atc=h;this.config=k;this.console=m;this.events=p;this.Gic=v;this.It=0;this.UMa=this.cj=!1;}Object.defineProperties(g.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{L:{get:function(){return this.Qa.M.id;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{jg:{get:function(){return this.Qa.jg;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{$la:{get:function(){return this.Itc();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{hj:{get:function(){return this.$la;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{jE:{get:function(){return this.$la;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{CQa:{get:function(){return this.Atc;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{DS:{get:function(){return this.Qa.DS;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ld:{get:function(){return this.Qq || (this.Qq=this.aG());},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Rj:{get:function(){return !this.track.S4;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{jMa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{wq:{get:function(){return this.Qa.S2(this.mediaType);},enumerable:!1,configurable:!0}});g.prototype.xv=function(){return this.track.S4;};g.prototype.qo=function(){return this.track.Gg;};g.prototype.fg=function(){return !1;};g.prototype.vgb=function(){return {Ha:[],Rja:0,Kv:0,iV:0};};g.prototype.Rxb=function(){var e;(0,d.assert)(this.qo());e=this.Ld;this.Qq=void 0;return e;};g.prototype.ERa=function(e){return (e=e.jB(this.Qa.M,this.Ld))?{Lh:e,reason:"success"}:{Lh:e,reason:"pipelineTryIssueHeaderRequest"};};g.prototype.cancel=function(){this.Qq && (this.Qa.R.C_(this.mediaType,this.Qq),n.nJ.instance.bea(this.Qq),this.Qq.removeAllListeners(),this.Qq=void 0);};g.prototype.oIa=function(){var e,f,l;l=this.config.jq;if(null === (e=this.Ld) || void 0 === e?0:e.track)l=null === (f=this.Ld) || void 0 === f?void 0:f.track.jq;return l;};g.prototype.$S=function(){return this.Qa.fhb(this.mediaType);};g.prototype.aG=function(){var e,f;e=this;f=(0,c.aG)(this.mediaType,this.track.R,this.config,this.console,this.track.fa,function(l){return e.events.emit("transportReport",l);},function(l){return e.events.emit("mediaRequestComplete",l);},function(){});f.on("created",this.Gic);return f;};return g;})();b.RXa=r;},25813:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v;Object.defineProperties(b,{__esModule:{value:!0}});b.b1a=b.hX=void 0;c=a(5163);n=a(91176);d=a(66164);g=a(65161);r=a(71808);e=a(85254);f=a(89645);l=a(52571);h=a(69575);k=a(3033);m=a(27977);p=a(27259);a=a(58049);(function(q){q[q.Gy=0]="CREATED";q[q.iX=1]="CANCELLED";})(v || (b.hX=v={}));a=(function(q){function u(t,w,x,z,y,A){t=q.call(this,w,z,x,n.K.wa,(0,h.xg)(d.platform,t,"AsePadding")) || this;t.R=y;t.config=A;t.jP=new f.$I(t.console);t.MF=new f.$I(t.console);t.ln=new n.ns();t.HU=new p.c1a(A).create();t.console.trace(("PaddingBranch {").concat(w.id,"}: created"));return t;}c.__extends(u,q);u.prototype.KWb=function(t){return c.__awaiter(this,void 0,void 0,function(){var w,x,z,y,A,B,C,D;D=this;return c.__generator(this,function(E){switch(E.label){case 0:return [4,this.Plc()];case 1:return (w=E.va(),x=w.kg,z=w.yd,y=w.bitrate,A=w.Ir,B=(0,h.xg)(d.platform,this.console,"[0]"),this.MF=new f.$I(B),C=k.iJ.instance().s7.Srb(this.R,x,z,y,A,t,this.M,this.Tfb.bind(this),this.config,B),C.forEach(function(F){return D.MF.enqueue(F);}),this.MF.CL(),[2]);}});});};u.prototype.iYb=function(t){return c.__awaiter(this,void 0,void 0,function(){var w,x,z,y,A,B,C,D,E,F,G,J,N,I,M,K;N=this;return c.__generator(this,function(L){switch(L.label){case 0:return [4,this.Rlc()];case 1:return (w=L.va(),x=w.profile,z=w.rz,y=w.Ir,A=null === (K=null === (M=null === (I=this.parent) || void 0 === I?void 0:I.Pe(g.u.V)) || void 0 === M?void 0:M.track.za) || void 0 === K?void 0:K.INa(),(0,l.assert)(A,"padding branches should always have a frameRate"),B=(0,h.xg)(d.platform,this.console,"[0]"),C=this.HU.xub({profile:x,frameRate:A}),D=C.profile,E=C.frameRate,F=k.iJ.instance().s7.Trb(this.R,this.R.ryc,D,E,z,y,t,this.M,this.Tfb.bind(this),B),G=F.duration,J=F.Ha,this.M.mvb([]),J.forEach(function(H){return N.jP.enqueue(H);}),this.jP.CL(),this.Uxc=G,this.R.RL=G.H,[2,{duration:G}]);}});});};Object.defineProperties(u.prototype,{Rj:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{cj:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{HF:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{fg:{get:function(){return this.ln.sV;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{mP:{get:function(){return this.ln.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{no:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{O:{get:function(){return this.M.Db.O;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{nb:{get:function(){return this.M.Db.ga;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{xb:{get:function(){return this.M.kc.ga;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{vn:{get:function(){return this.Pd.Yc(this.O).ga;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{uD:{get:function(){return this.M.Db.add(this.Pd);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{DS:{get:function(){(0,l.assert)(!this.M.Sm,"exit zone not supported for padding segments");return n.K.wa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{cR:{get:function(){return this.MF && this.jP?this.MF.Nx && this.jP.Nx:!1;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{uza:{get:function(){return !(!this.MF && !this.jP);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Mv:{get:function(){return this.M.Db.add(this.Pd);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{HN:{get:function(){return this.M.kc.add(this.Pd);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Gha:{get:function(){return this.Rb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{hj:{get:function(){return this.Rb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Pd:{get:function(){return this.Zy;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{iKa:{get:function(){return this.d7a || this.M.kc.ka(this.M.Db);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{ew:{get:function(){return n.K.wa;},enumerable:!1,configurable:!0}});u.prototype.Pb=function(){return c.__awaiter(this,void 0,void 0,function(){var t;return c.__generator(this,function(w){switch(w.label){case 0:(q.prototype.Pb.call(this),w.label=1);case 1:return (w.Ke.push([1,5,,6]),this.console.trace(("PaddingBranch {").concat(this.M.id,"}: init")),this.parent?[4,this.parent.mP]:[3,3]);case 2:(w.va(),w.label=3);case 3:return (this.d7a=this.M.kc.ka(this.M.Db),[4,this.Zbb([g.u.X,g.u.V])]);case 4:return (w.va(),this.ln.resolve(),[3,6]);case 5:t=w.va();if(!this.Qf)throw t;return [3,6];case 6:return [2];}});});};u.prototype.update=function(t){this.Vw=t;};u.prototype.EG=function(t){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){this.console.trace(("PaddingBranch {").concat(this.M.id,"}: getRequestIterator(").concat(t,")"));return t === g.u.X?[2,this.MF.lfa()]:[2,this.jP.lfa()];});});};u.prototype.reset=function(){};u.prototype.Eg=function(t){void 0 === t && (t="other");q.prototype.Eg.call(this,t);this.hb=v.iX;this.d7a=void 0;this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:t});this.events.removeAllListeners();};u.prototype.Sga=function(){return !0;};u.prototype.Pe=function(){};u.prototype.mga=function(t){return [g.u.X,g.u.V].some(function(w){return w === t;});};u.prototype.Bx=function(){return [];};u.prototype.xk=function(t){var w;return null === (w=this.parent) || void 0 === w?void 0:w.xk(t);};u.prototype.Kfa=function(){return [];};u.prototype.CG=function(){};u.prototype.nr=function(){return this.iKa.H;};u.prototype.QS=function(){return {};};u.prototype.SS=function(){return this.M.kc.H;};u.prototype.eE=function(t,w,x,z){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(y){switch(y.label){case 0:return [4,this.ln.promise];case 1:return (y.va(),this.parent?[4,this.parent.mP]:[3,3]);case 2:(y.va(),y.label=3);case 3:return [4,this.Zbb(z)];case 4:return (y.va(),[2]);}});});};u.prototype.Zbb=function(t){return c.__awaiter(this,void 0,void 0,function(){var w,x;return c.__generator(this,function(z){switch(z.label){case 0:w=n.K.wa;if(-1 === t.indexOf(g.u.V))return [3,2];this.jP.clear();return [4,this.iYb(this.iKa)];case 1:(x=z.va(),w=x.duration,z.label=2);case 2:if(-1 === t.indexOf(g.u.X))return [3,4];this.MF.clear();this.console.trace(("AsePaddingBranch {").concat(this.M.id,"}: video duration ").concat(w.Ka()));return [4,this.KWb(this.Uxc)];case 3:(z.va(),z.label=4);case 4:return [2];}});});};u.prototype.Gn=function(){return [];};u.prototype.GR=function(t){var w,x;return !!((null === (w=this.Rb) || void 0 === w?0:w.greaterThan(t)) && (null === (x=this.Hb) || void 0 === x?0:x.lessThan(t)));};u.prototype.vfa=function(){return this.iKa;};u.prototype.Jma=function(){return !1;};u.prototype.toJSON=function(){var t,w;return {segment:this.M.id,viewableId:this.Vw.N,contentStartPts:null === (t=this.Ba) || void 0 === t?void 0:t.H,contentEndPts:null === (w=this.Ga) || void 0 === w?void 0:w.H};};u.prototype.Rlc=function(){return c.__awaiter(this,void 0,void 0,function(){var t,w,x,z,y,A,B,C,D,E,F;return c.__generator(this,function(G){switch(G.label){case 0:return (t=null === (A=null === (y=this.parent) || void 0 === y?void 0:y.Pe(g.u.V)) || void 0 === A?void 0:A.Jk.kl)?[3,2]:[4,null === (C=null === (B=this.parent) || void 0 === B?void 0:B.Pe(g.u.V)) || void 0 === C?void 0:C.Jk.Szb];case 1:G.va();if(this.Qf)return [2,Promise.reject()];G.label=2;case 2:return (t=null === (E=null === (D=this.parent) || void 0 === D?void 0:D.Pe(g.u.V)) || void 0 === E?void 0:E.Jk.kl,(0,l.assert)(t,"Parent of padding branch must have last selected video stream"),w=null === (F=t.track.jm) || void 0 === F?void 0:F.rz,x=t.track.Ir,z=t.$d,[2,{profile:z,rz:w,Ir:x}]);}});});};u.prototype.Plc=function(){return c.__awaiter(this,void 0,void 0,function(){var t,w,x,z,y,A,B,C,D,E,F;return c.__generator(this,function(G){switch(G.label){case 0:return (t=null === (B=null === (A=this.parent) || void 0 === A?void 0:A.Pe(g.u.X)) || void 0 === B?void 0:B.Jk.kl)?[3,2]:[4,null === (D=null === (C=this.parent) || void 0 === C?void 0:C.Pe(g.u.X)) || void 0 === D?void 0:D.Jk.Szb];case 1:G.va();if(this.Qf)return [2,Promise.reject()];G.label=2;case 2:return (t=null === (F=null === (E=this.parent) || void 0 === E?void 0:E.Pe(g.u.X)) || void 0 === F?void 0:F.Jk.kl,(0,l.assert)(t,"Parent of padding branch must have last selected audio stream"),w=t.kg || n.K.wa,x=(0,m.cgb)(t.profile),z=t.bitrate,y=t.track.Ir,[2,{kg:w,yd:x,bitrate:z,Ir:y}]);}});});};u.prototype.Tfb=function(t,w){return this.Zy.add(w).Yc(t).ga;};u.prototype.oM=function(){return [];};return u;})(a.yoa);b.b1a=a;(0,e.Mk)(r.ow,a);},58049:function(r,b,a){var n,d,g,e,f,l,h,k;function c(m){return m === f.u.V?0:m === f.u.X?1:m === f.u.Ia?2:3;}Object.defineProperties(b,{__esModule:{value:!0}});b.yoa=b.hX=b.eGb=b.iP=void 0;n=a(5163);d=a(90745);g=a(66164);e=a(48170);f=a(65161);l=a(69575);h=a(52571);b.iP=function(m,p){m=c(m.mediaType);p=c(p.mediaType);return m - p;};b.eGb={iP:b.iP};(function(m){m[m.Gy=0]="CREATED";m[m.iX=1]="CANCELLED";})(k || (b.hX=k={}));r=(function(){function m(p,v,q,u,t){this.Vw=p;this.getParent=v;this.Zy=q;this.Qp=u;this.hb=k.Gy;this.TQ=[];this.events=new d.EventEmitter();p=p.id && p.id.length?"{" + p.id + "}":"";this.console=(0,l.xg)(g.platform,t,p);}Object.defineProperties(m.prototype,{state:{get:function(){return this.hb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Qf:{get:function(){return this.hb === k.iX;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{M:{get:function(){return this.Vw;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ca:{get:function(){return this.TQ;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{parent:{get:function(){var p;return null === (p=this.getParent) || void 0 === p?void 0:p.call(this,this);},enumerable:!1,configurable:!0}});m.prototype.Pb=function(){return n.__awaiter(this,void 0,void 0,function(){var p,v,q;q=this;return n.__generator(this,function(){if(p=this.parent)(p.Rb && (v=p.Rb.ka(this.Qp),this.nB(v,"init from parent")),p.mP.then(function(){var u;if(!q.Qf){u=q.parent;(0,h.assert)(u,"Parent is undefined after parent normalization");u.Rb && (u=u.Rb.ka(q.Qp),q.nB(u,"parent normalization"));}}));return [2];});});};m.prototype.nB=function(p,v){void 0 === v && (v="unknown");e.G && this.console.log(("AseBranch adjusting branchOffset to ").concat(p.H) + (" from ").concat(this.Zy.H,".  ").concat(v));this.Zy=p;};m.prototype.fhb=function(p){var q;if(!this.Qf)for(var v=this.parent;v;){q=v.CG(p);if(q)return q;v=v.parent;}};m.prototype.Eg=function(){this.getParent=void 0;};m.prototype.mga=function(p){return this.ca.some(function(v){return v.mediaType === p;});};return m;})();b.yoa=r;},70842:function(r,b,a){var c,n,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.NUb=function(e){var f,l,h,k,m,p,v,q,u,t,w;f=e.config;l=e.console;h=e.LMa;k=e.M;m=e.events;p=e.pO;v=e.Qp;q=e.Pd;u=e.Kp;t=e.Fd;w=e.bd;e=e.rB;k.N === c.yu && f.jS?(m=new d.d1a(k.N,f.XLa),p=n.K.wa,f=new (a(25813).b1a)(l,k,p,h.Rfa.bind(h),m,f)):f=new g.nUa(f,l,m,k,p,v,q,u,h.Rfa.bind(h),t,w,e);return f;};c=a(79048);n=a(91176);d=a(10943);g=a(1552);},1552:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y;Object.defineProperties(b,{__esModule:{value:!0}});b.nUa=b.hX=void 0;c=a(5163);n=a(91176);d=a(91176);g=a(42431);e=a(65161);r=a(71808);f=a(52571);l=a(19595);h=a(32412);k=a(48170);m=a(78541);p=a(42556);v=a(7559);q=a(85254);u=a(97757);t=a(50930);w=a(58049);x=a(18447);z=a(20717);(function(A){A[A.Gy=0]="CREATED";A[A.iX=1]="CANCELLED";})(y || (b.hX=y={}));a=(function(A){function B(C,D,E,F,G,J,N,I,M,K,L,H){D=A.call(this,F,M,N,J,D) || this;D.config=C;D.DN=E;D.Bgb=G;D.Kp=I;D.Fd=K;D.bd=L;D.rB=H;D.rD=new h.dQ();D.eOa=0;D.Ic=void 0;D.mE=void 0;D.ln=new d.ns();D.Hga=new d.ns();D.rLa=D.L$b();D.Ewb=[];return D;}c.__extends(B,A);B.prototype.S2=function(C){return this.d7()?this.Sbc:this.Ewb[C];};Object.defineProperties(B.prototype,{ca:{get:function(){var C;this.no && 0 === (null === (C=this.TQ) || void 0 === C?void 0:C.length) && this.Bgb && (k.G && this.console.trace("Branch getting initial tracks"),this.TQ=this.Bgb(this.R).sort(w.iP),k.G && this.console.trace("Branch got initial tracks:",this.TQ));return this.TQ;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{cR:{get:function(){return this.cj?this.Bx().every(function(C){return C.jf.cR;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{uza:{get:function(){return this.Bx().some(function(C){return C.hPb;});},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Rj:{get:function(){var C;return !(null === (C=this.Ad) || void 0 === C || !C.Rj);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{cj:{get:function(){var C;return !(null === (C=this.Ad) || void 0 === C || !C.cj);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{HF:{get:function(){var C,D;return null !== (D=null === (C=this.Ad) || void 0 === C?void 0:C.HF) && void 0 !== D?D:0;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{fg:{get:function(){var C;return !(null === (C=this.Ad) || void 0 === C || !C.fg);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{mP:{get:function(){return this.ln.promise.then(function(){});},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{no:{get:function(){var C;return !(null === (C=this.rB) || void 0 === C || !C.R);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{lga:{get:function(){return !!this.ca.length && this.ca.every(function(C){return C.Gg;});},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{R:{get:function(){(0,f.assert)(this.rB.R,"viewable should be available");return this.rB.R;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{O:{get:function(){var C;return (null === (C=this.Ad) || void 0 === C?void 0:C.O) || this.Qp.O;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{nb:{get:function(){var C,D;return null !== (D=null === (C=this.Ad) || void 0 === C?void 0:C.nb) && void 0 !== D?D:this.Qp.ga;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{xb:{get:function(){var C,D;return null !== (D=null === (C=this.Ad) || void 0 === C?void 0:C.xb) && void 0 !== D?D:this.M.kc.Yc(this.Qp.O).ga;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{vn:{get:function(){var C,D;return null !== (D=null === (C=this.Ad) || void 0 === C?void 0:C.vn) && void 0 !== D?D:this.Pd.Yc(this.O).ga;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{uD:{get:function(){var C,D,E;return null !== (D=null === (C=this.Ad) || void 0 === C?void 0:C.uD) && void 0 !== D?D:null === (E=this.Qp) || void 0 === E?void 0:E.add(this.Pd);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{DS:{get:function(){var C,D;D=null === (C=this.M.Sm) || void 0 === C?void 0:C[0];return D && this.Ba?n.K.Pa(Math.max(0,D[0] - this.Ba.H - this.M.Db.H)):n.K.wa;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Mv:{get:function(){var C,D;return null !== (D=null === (C=this.Ad) || void 0 === C?void 0:C.Mv) && void 0 !== D?D:this.M.Db.add(this.Pd);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{HN:{get:function(){var C,D;return null !== (D=null === (C=this.Ad) || void 0 === C?void 0:C.HN) && void 0 !== D?D:this.M.kc.add(this.Pd);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Gha:{get:function(){var C;return null === (C=this.Ad) || void 0 === C?void 0:C.Gha;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Pd:{get:function(){var C,D;return null !== (D=null === (C=this.Ad) || void 0 === C?void 0:C.Pd) && void 0 !== D?D:this.Zy;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{ew:{get:function(){var C;return (null === (C=this.Ad) || void 0 === C?void 0:C.ew) || this.M.kc.ka(this.Qp || this.M.Db);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{hj:{get:function(){var C;return null === (C=this.Ad) || void 0 === C?void 0:C.hj;},enumerable:!1,configurable:!0}});B.prototype.Pb=function(){return c.__awaiter(this,void 0,void 0,function(){var C,D,E;E=this;return c.__generator(this,function(F){switch(F.label){case 0:A.prototype.Pb.call(this);if(this.Qf)return [2];k.G && this.console.log(("AseBranch {").concat(this.M.id,"} awaiting viewable"));return [4,this.rB.Pb(this)];case 1:F.va();k.G && this.console.log(("AseBranch {").concat(this.M.id,"} viewable available, branch ").concat(this.Qf?"cancelled":"active"));if(this.Qf)return [2];(0,f.assert)(this.rB.R,"viewable should be available");this.rB.R.SPa() && (this.config=this.rB.R.config);C=this.ca.map(function(G){var J;return null === (J=E.parent) || void 0 === J?void 0:J.xk(G.mediaType);});this.bvb(this.Qp);this.ca.some(function(G){G.mediaType === e.u.Ia && E.rvb(G);});return [4,this.Heb()];case 2:return (F.va(),k.G && this.console.log(("AseBranch {").concat(this.M.id,"} have headers")),this.Qf?[2]:(D=this.parent)?[4,D.mP]:[3,4]);case 3:F.va();if(this.Qf)return [2];this.lXb(C);F.label=4;case 4:return (this.normalize(),[2]);}});});};B.prototype.normalize=function(){this.Qf || (this.Ad=new (this.R.fa?x.oZa:z.E0a)(this,this.config,this.console,this.R,this.DN,this.Vw,this.Qp,this.rD.items,this.Zy,this.Kp,this.Fd,this.events,this.bd),this.vDa(this.Ad.rL),this.ln.resolve(this.Ad));};B.prototype.lXb=function(C){var D;D=this;this.rD.forEach(function(E){var F,G,J;J=null === (F=D.parent) || void 0 === F?void 0:F.xk(E.mediaType);(0,f.assert)(J,"Parent state should be defined");-1 === (null === C || void 0 === C?void 0:C.indexOf(J)) && (null === (G=D.S2(E.mediaType).xk(E.mediaType)) || void 0 === G?void 0:G.Ma(),F=new l.wZ(function(){var N;return null === (N=D.parent) || void 0 === N?void 0:N.xk(E.mediaType);}),D.S2(E.mediaType).qvb(F));J=void 0;});C=void 0;};B.prototype.Heb=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){this.lga?this.Hga.resolve():(this.R.events.on("onHeaderFragments",this.rLa),this.events.emit("needsRequest"));return [2,this.Hga.promise];});});};B.prototype.L$b=function(){var C;C=this;return function(){!C.Qf && C.lga && (C.R.events.yo("onHeaderFragments",C.rLa),C.Hga.resolve());};};B.prototype.dI=function(){var C;null === (C=this.Ad) || void 0 === C?void 0:C.dI();};B.prototype.update=function(C){var D;this.Vw=C;(null === (D=this.Ad) || void 0 === D?0:D.update(C)) && this.vDa(!0);};B.prototype.nB=function(C,D){var E;void 0 === D && (D="unknown");A.prototype.nB.call(this,C,D);null === (E=this.Ad) || void 0 === E?void 0:E.nB(C);};B.prototype.EG=function(C){return c.__awaiter(this,void 0,void 0,function(){var D;return c.__generator(this,function(E){switch(E.label){case 0:return [4,this.ln];case 1:return (D=E.va(),[2,null === D || void 0 === D?void 0:D.EG(C)]);}});});};B.prototype.reset=function(){var C;null === (C=this.Ad) || void 0 === C?void 0:C.reset();};B.prototype.Eg=function(C){var D;void 0 === C && (C="other");A.prototype.Eg.call(this,C);this.hb=y.iX;this.no && this.R.events.yo("onHeaderFragments",this.rLa);null === (D=this.Ad) || void 0 === D?void 0:D.Eg(C);this.rD.forEach(function(E){E.cancel();E.wq.xk(E.mediaType).Ma();});this.rB.Ma();this.mE && (this.mE.removeAllListeners(),k.G && this.console.trace("AseBranch destroying textRequestQueue:",this.mE),g.nJ.instance.bea(this.mE),this.mE=void 0);this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:C});this.events.removeAllListeners();};B.prototype.Sga=function(C){var D;return !(null === (D=this.Ad) || void 0 === D || !D.Sga(C));};B.prototype.Pe=function(C){var D;return null === (D=this.Ad) || void 0 === D?void 0:D.Pe(C);};B.prototype.mga=function(C){return this.ca.some(function(D){return D.mediaType === C;});};B.prototype.Bx=function(C){var D,E;void 0 === C && (C=w.iP);return null !== (E=null === (D=this.Ad) || void 0 === D?void 0:D.Bx(C)) && void 0 !== E?E:[];};B.prototype.xk=function(C){var D;return null === (D=this.S2(C)) || void 0 === D?void 0:D.xk(C);};B.prototype.Kfa=function(){var C,D,E;if(!this.lga)return this.rD.items;E=null !== (D=null === (C=this.Ad) || void 0 === C?void 0:C.Kfa()) && void 0 !== D?D:[];k.G && this.console.trace("getMediaStreamables returning:",E);return E;};B.prototype.CG=function(C){var D;return (null === (D=this.Ad) || void 0 === D?void 0:D.CG(C)) || this.rD.get(C);};B.prototype.nr=function(C,D){var E;return (null === (E=this.Ad) || void 0 === E?void 0:E.nr(C,D)) || 0;};B.prototype.QS=function(){var C;return (null === (C=this.Ad) || void 0 === C?void 0:C.QS()) || ({});};B.prototype.SS=function(C){var D;return (null === (D=this.Ad) || void 0 === D?void 0:D.SS(C)) || this.uD.H;};B.prototype.eE=function(C,D,E){return c.__awaiter(this,void 0,void 0,function(){var F,G,J,N,I;I=this;return c.__generator(this,function(M){switch(M.label){case 0:k.G && this.console.trace("Branch.setTracks:",C);this.R.Yrc(C);this.TQ=C.sort(w.iP);this.bvb(D);if(!this.fg)return [3,4];(0,f.assert)(this.Ad);F=this.rD.filter(function(K){return K.track.Gg;}).items;G=this.Ad.Kyb(F,D,E);J=G.eea;N=G.rL;J && this.vDa(N);if(this.lga)return [3,4];this.Hga=new d.ns();this.ln=new d.ns();k.G && this.console.log(("AseBranch {").concat(this.M.id,"} setTracks waiting for headers"));return [4,this.Heb()];case 1:return (M.va(),this.Qf?[2]:this.parent?[4,this.parent.mP]:[3,3]);case 2:(M.va(),M.label=3);case 3:(this.Ad.Kyb(this.rD.items,D,E),k.G && this.console.log(("AseBranch {").concat(this.M.id,"} setTracks pipelines updated")),this.ln.resolve(this.Ad),this.events.emit("needsRequest"),M.label=4);case 4:return (C.some(function(K){if(K.mediaType === e.u.Ia)return (I.rvb(K),!0);}),[2]);}});});};B.prototype.rvb=function(C){var D;D=this;this.Ic=C;this.mE || (this.mE=(0,m.aG)(e.u.Ia,this.R,this.config,this.console,!0,function(E){return D.DN.emit("transportReport",E);},function(E){return D.DN.emit("mediaRequestComplete",E);},function(){}),k.G && this.console.trace("AseBranch created textRequestQueue:",this.mE));};B.prototype.sXb=function(C){var D,E,F,G,J,N;D=this;C=C.track.fa?this.config.Qha:this.config.ima;E=this.V2(e.u.X);F=this.V2(e.u.V);G=this.Gvb(e.u.V);J=new l.wZ(function(){var I;return null === (I=D.parent) || void 0 === I?void 0:I.xk(e.u.X);});N=new l.wZ(function(){var I;return null === (I=D.parent) || void 0 === I?void 0:I.xk(e.u.V);});E && J.KPa(E);F && N.KPa(F);this.Sbc=new p.DY(C,this.config,J,N,G);};B.prototype.XXb=function(C){this.d7()?this.sXb(C):this.vXb(C);};B.prototype.vXb=function(C){var D,E,F;D=this;E=C.mediaType === e.u.X?this.config.xQb:C.track.fa?this.config.Qha:this.config.ima;F=new l.wZ(function(){var G;return null === (G=D.parent) || void 0 === G?void 0:G.xk(C.track.mediaType);});F.KPa(C.track);E=new p.xZ(E,this.config,F,this.Gvb(C.mediaType));this.Ewb[C.mediaType]=E;};B.prototype.bvb=function(C){var D;D=this.R.fa?this.ca:this.ca.filter(function(E){return E.mediaType !== e.u.Ia;});this.Erc(C,D);};B.prototype.Erc=function(C,D){var E,F;E=this;F=this.eOa=0;D=D.map(function(G){var J;J=E.rD.find(function(N){return N.track === G;});J || (++E.eOa,J=new t.RXa(E,G,function(){return (null === C || void 0 === C?void 0:C.add(E.Pd)) || n.K.wa;},C || n.K.wa,E.config,E.console,E.DN,function(){0 === --E.eOa && E.events.emit("requestQueuesCreated");}),E.d7() && 0 < F || (E.XXb(J),F++));return J;});this.rD=new h.dQ(D);};B.prototype.Gn=function(C){var D;return (null === (D=this.Ad) || void 0 === D?void 0:D.Gn(C)) || [];};B.prototype.GR=function(C){var D;return !(null === (D=this.Ad) || void 0 === D || !D.GR(C));};B.prototype.vfa=function(C){return this.Ad?this.Ad.vfa(C):n.K.wa;};B.prototype.Jma=function(C){var D;return !(null === (D=this.Ad) || void 0 === D || !D.Jma(C));};B.prototype.dP=function(C){(0,f.assert)(this.R.fa,"updateFragmentTimes called on non-live Branch");(0,f.assert)(this.Ad,"updateFragmentTimes called before Branch is normalized");(0,f.assert)(C.mediaType === e.u.X,"updateFragmentTimes called with non-audio track");this.Ad.dP(C);};B.prototype.vDa=function(C){C={type:"branchNormalized",segmentContentStart:this.M.Db,branchContentStart:this.Ba,branchContentEnd:this.Ga,didNormalizeSegment:C};this.events.emit(C.type,C);k.G && this.console.trace("branchNormalized:",C);};B.prototype.V2=function(C){var D;D=this.ca.filter(function(E){return E.mediaType === C;});return 0 < D.length?D[0]:void 0;};B.prototype.oM=function(C){var D;return (null === (D=this.V2(C)) || void 0 === D?void 0:D.Td) || [];};B.prototype.toJSON=function(){var C;return (null === (C=this.Ad) || void 0 === C?void 0:C.toJSON()) || ({});};B.prototype.d7=function(){return this.config.rha && !this.R.fa;};B.prototype.Gvb=function(C){return !this.config.E0b && this.B9b()?!1:this.config.yea || C === e.u.X && this.config.vea || C === e.u.V && this.config.wea || this.config.ADa;};B.prototype.B9b=function(){var C,D;D=(null === (C=this.oM(e.u.X)[0]) || void 0 === C?void 0:C.profile) || void 0;return D?(0,v.ckb)(D,this.config):void 0;};return B=c.__decorate([u.MS],B);})(w.yoa);b.nUa=a;(0,q.Mk)(r.ow,a);},18447:function(r,b,a){var c,n,d,g,e,f,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.oZa=void 0;c=a(5163);n=a(91176);d=a(48170);g=a(32412);e=a(95324);r=a(71808);f=a(85254);l=a(98561);h=a(8149);a=(function(k){function m(){return null !== k && k.apply(this,arguments) || this;}c.__extends(m,k);m.prototype.hCa=function(p,v,q){var u,t;u=this;d.G && this.console.trace("LiveNormalizedBranch.createPipelines");t=new g.dQ();p.forEach(function(w){var x;x=u.Ge.find(function(z){return z.track === w.track;});void 0 === x?((0,n.assert)((0,h.$m)(w.track),"live normalized branch expected live track"),x=new e.f$(u,u.config,u.console,u.DN,u.Qa,w.track,v,u.bd,w.Rxb()),u.Lga(x)):x.VQ();t.add(x);});return this.Tjb(t,v,q);};m.prototype.Lga=function(p){var v;v=this;p.events.on("liveMissingSegment",function(q){return v.events.emit("liveMissingSegment",q) && v.g5();});k.prototype.Lga.call(this,p);};m.prototype.normalize=function(p,v){var q;null === (q=this.BA) || void 0 === q?void 0:q.ze();this.BA=new l.qZa({console:this.console,config:this.config,R:this.R,M:this.M,Ge:this.Ge,Ba:p,Ga:this.M.kc,splice:v});return k.prototype.normalize.call(this,p,v);};m.prototype.Gn=function(p){var v;return (null === (v=this.Pe(p)) || void 0 === v?void 0:v.Gn(!0)) || [];};m.prototype.dP=function(p){this.Ge.forEach(function(v){v.track === p && v.dP();});};return m;})(a(33928).$sa);b.oZa=a;(0,f.Mk)(r.ow,a);},33928:function(r,b,a){var n,d,g,e,f,l,h,k,m,p;function c(v,q){return (v.mediaType === l.u.V?0:1) - (q.mediaType === l.u.V?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.$sa=b.bIb=void 0;n=a(5163);d=a(91176);g=a(91176);e=a(66164);r=a(81392);f=a(29092);l=a(65161);h=a(52571);k=a(32412);m=a(99548);p=a(69575);b.bIb={iP:c};a=(function(v){function q(u,t,w,x,z,y,A,B,C,D,E,F,G){var J,N;N=v.call(this,x) || this;N.Qa=u;N.config=t;N.R=x;N.DN=z;N.Vw=y;N.Zy=C;N.Kp=D;N.Fd=E;N.events=F;N.bd=G;N.Ge=new k.dQ([]);N.gF=!1;N.plb=0;N.H$a=N.Yhc.bind(N);(0,h.assert)(x.N === N.M.N || isNaN(x.N) && isNaN(N.M.N));u=y.id && y.id.length?"{" + y.id + "}":"";N.console=(0,p.xg)(e.platform,w,u);N.Qp=A || N.M.Db;w=N.parent;N.Vpb=null === w || void 0 === w?void 0:w.Rb;null === (J=N.Fd) || void 0 === J?void 0:J.addListener(N.H$a);B=N.hCa(B,N.Qp,!!w).rL;N.rL=B;return N;}n.__extends(q,v);Object.defineProperties(q.prototype,{Qf:{get:function(){return this.gF;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{M:{get:function(){return this.Vw;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Rj:{get:function(){return this.Ge.every(function(u){return u.Rj;});},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{cj:{get:function(){return this.Ge.every(function(u){return u.cj;});},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{HF:{get:function(){return this.Bx().reduce(function(u,t){return u + t.HF;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{fg:{get:function(){return this.Bx().every(function(u){return u.fg();});},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ca:{get:function(){return this.Qa.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{O:{get:function(){return this.VD.O;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{nb:{get:function(){return this.VD.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{xb:{get:function(){return this.VD.xb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{vn:{get:function(){return this.Pd.Yc(this.O).ga;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{uD:{get:function(){return this.Qp.add(this.Pd);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Mv:{get:function(){return this.M.Db.add(this.Pd);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{HN:{get:function(){return this.M.kc.add(this.Pd);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Gha:{get:function(){return this.Ge.reduce(function(u,t){return u && t.Rb?d.K.max(u,t.Rb):t.Rb?t.Rb:u;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{hj:{get:function(){return this.Ge.reduce(function(u,t){t=t.hj;return u && t?d.K.max(u,t):u || t;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ew:{get:function(){return this.VD.ew;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Pd:{get:function(){return this.Zy;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{parent:{get:function(){return this.Qa.parent;},enumerable:!1,configurable:!0}});q.prototype.Kyb=function(u,t,w){void 0 === t && (t=this.Ba || this.Qp);return this.hCa(u,t,w);};q.prototype.dI=function(){var u,t,w,x;if(this.BA){u=this.Vw;t=n.__read(this.BA.dI(u,u.kc),3);w=t[0];u=t[1];t=t[2];x=this.Pe(l.u.X);x && ((0,h.assert)(w,"branch.renormalize: audioLastFragment should be defined"),x.truncate(w));if(w=this.Pe(l.u.V))((0,h.assert)(u,"branch.renormalize: videoLastFragment should be defined"),w.truncate(u));if(u=this.Pe(l.u.Ia))((0,h.assert)(t,"branch.renormalize: lastTextFragment should be defined"),u.truncate(t));this.events.emit("branchEdited",{type:"branchEdited"});}};q.prototype.update=function(u){var t;t=u.kc.b5(this.Vw.kc);this.Vw=u;return t && this.BA?(this.dI(),!0):!1;};q.prototype.nB=function(u){this.Pd.equal(u) || (this.Zy=u,this.events.emit("branchEdited",{type:"branchEdited"}));};q.prototype.EG=function(u){return n.__awaiter(this,void 0,void 0,function(){var t;return n.__generator(this,function(w){switch(w.label){case 0:return [4,Promise.resolve()];case 1:return (w.va(),(t=this.Pe(u))?[2,t.EG()]:[2,f.AsyncIterator.p5b()]);}});});};q.prototype.VQ=function(){this.Ge.forEach(function(u){return u.VQ();});};q.prototype.reset=function(){this.Ge.forEach(function(u){u.reset();});};q.prototype.Eg=function(u){var t,w;this.gF || (this.gF=!0,null === (t=this.BA) || void 0 === t?void 0:t.ze(),this.BA=void 0,this.Ge.forEach(function(x){x.Eg("aborted" === u);}),null === (w=this.Fd) || void 0 === w?void 0:w.removeListener(this.H$a));};q.prototype.Sga=function(){return !0;};q.prototype.Pe=function(u){return this.Ge.get(u);};q.prototype.Bx=function(u){void 0 === u && (u=c);return this.Ge.items.slice().sort(u);};q.prototype.Kfa=function(){return this.Ge.items;};q.prototype.CG=function(u){return this.Pe(u);};q.prototype.nr=function(u,t){u=this.Pe(u);if(!u)return 0;if(t)return u.Xka;t=u.I0;if(void 0 === t)return 0;u=this.Kp();return t - u;};q.prototype.QS=function(){var u,t,w,x,z,y,A;A=null === (u=this.Pe(l.u.X)) || void 0 === u?void 0:u.FR;u=null === (t=this.Pe(l.u.V)) || void 0 === t?void 0:t.FR;return {$ma:null !== (w=null === u || void 0 === u?void 0:u.H) && void 0 !== w?w:0,Kba:null !== (x=null === A || void 0 === A?void 0:A.H) && void 0 !== x?x:0,o8:null !== (z=null === u || void 0 === u?void 0:u.la) && void 0 !== z?z:0,D_:null !== (y=null === A || void 0 === A?void 0:A.la) && void 0 !== y?y:0};};q.prototype.SS=function(u){var t;return (u=this.Pe(u))?null !== (t=u.I0) && void 0 !== t?t:0:0;};q.prototype.Yhc=function(u){u=u.newValue;(0,l.zr)(u) && this.g5();};q.prototype.GR=function(u){return this.Ge.every(function(t){return t.GR(u);});};q.prototype.vfa=function(u){var t;return (null === (t=this.Ge.get(u)) || void 0 === t?void 0:t.vYb) || d.K.wa;};q.prototype.Jma=function(u){var t,w,x,z;t=this.VD.fcc;if(!t)return !1;u=(0,g.oc)(u,function(y){return t.H <= y.Ba.H;});if(!u)return !1;w=u.Ba;u=!1;x=n.__read((0,m.btb)(this.config,this.Ge,w),3);w=x[0];z=x[1];x=x[2];z && (this.Pe(l.u.V).truncate(z),u=!0);w && (this.Pe(l.u.X).truncate(w),u=!0);x && (this.Pe(l.u.Ia).truncate(x),u=!0);u && (w={type:"branchEdited"},this.events.emit(w.type,w));return u;};q.prototype.nn=function(u,t){this.gF || ((0,h.assert)(!u.De),this.g5(),this.events.emit("requestComplete",{type:"requestComplete",Qa:this.Qa}),this.cj && this.Mic());this.PL(u,t);};q.prototype.JH=function(u,t){this.config.Qdb && this.g5(!0);this.HS(u,t);};q.prototype.IH=function(u){this.config.Qdb && this.g5(!0);this.Y1(u);};q.prototype.Tjb=function(u,t,w){var x;x=0 < u.length;this.Ge.filter(function(z){return !u.Hib(z);}).forEach(function(z){x=!0;z.Eg();});this.Ge=u;return x?this.normalize(t,w):{eea:!1,rL:!1};};q.prototype.Lga=function(u){var t;t=this;u.events.on("lastRequestIssued",function(){return t.Rj && t.events.emit("lastRequestIssued",{type:"lastRequestIssued"});});};q.prototype.normalize=function(){var u,t;(0,h.assert)(this.BA,"Must call through normalize through subclass to create pipeline normalizer");this.VD=this.Ge.VD;u=this.BA.normalize();t=u.eea;u=u.rL;t && this.Vpb && (this.Zy=this.Vpb.ka(this.Ba));return {eea:t,rL:u};};q.prototype.Csc=function(u){var t;return (0,l.zr)((null === (t=this.Fd) || void 0 === t?void 0:t.value) || l.wd.Qn) && (!u || this.plb + this.config.xKa < e.platform.time.ya());};q.prototype.g5=function(u){void 0 === u && (u=!1);this.Csc(u) && (this.plb=e.platform.time.ya(),u={type:"checkBufferingProgress"},this.events.emit(u.type,u));};q.prototype.Mic=function(){var u;u={type:"branchStreamingComplete"};this.events.emit(u.type,u);};q.prototype.toJSON=function(){var u,t,w;return {segment:this.M.id,branchOffset:null === (u=this.Pd) || void 0 === u?void 0:u.H,viewableId:this.Vw.N,contentStartPts:null === (t=this.Ba) || void 0 === t?void 0:t.H,contentEndPts:null === (w=this.Ga) || void 0 === w?void 0:w.H};};return q;})(r.ZI);b.$sa=a;},20717:function(r,b,a){var c,n,d,g,e,f;Object.defineProperties(b,{__esModule:{value:!0}});b.E0a=void 0;c=a(5163);n=a(48170);d=a(32412);g=a(95052);r=a(85254);e=a(71808);f=a(72117);a=(function(l){function h(){return null !== l && l.apply(this,arguments) || this;}c.__extends(h,l);h.prototype.hCa=function(k,m,p){var v,q;v=this;n.G && this.console.trace("OnDemandNormalizedBranch.createPipelines");q=new d.dQ();k.forEach(function(u){var t;t=v.Ge.find(function(w){return w.track === u.track;});void 0 === t?(t=new g.F0a(v,v.config,v.console,v.DN,v.Qa,u.track,m,v.bd,u.Rxb()),v.Lga(t)):t.VQ();q.add(t);});return this.Tjb(q,m,p);};h.prototype.normalize=function(k,m){var p;null === (p=this.BA) || void 0 === p?void 0:p.ze();this.BA=new f.G0a({console:this.console,config:this.config,R:this.R,M:this.M,Ge:this.Ge,Ba:k,Ga:this.M.kc,splice:m});return l.prototype.normalize.call(this,k,m);};h.prototype.Gn=function(k){var m;return (null === (m=this.Pe(k)) || void 0 === m?void 0:m.Gn(!1)) || [];};return h;})(a(33928).$sa);b.E0a=a;(0,r.Mk)(e.ow,a);},45550:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.dJ=void 0;c=a(15913);n=a(52571);r=(function(){function d(g){this.config=g;this.reset();}d.instance=function(){(0,n.assert)(void 0 !== d.Mw);return d.Mw;};d.HUb=function(g){d.Mw=new d(g);};d.prototype.push=function(g){this.ck && this.ck.push(g);};d.prototype.jb=function(){if(this.ck)return (this.ck.Lm(),this.ck.Wj([.25,.5,.75,.9,.95,.99]).map(function(g){return g?parseFloat(g.toFixed(1)):0;}));};d.prototype.reset=function(){this.config.H0b && this.config.Xqa && (this.ck=new c.TDigest(this.config.Xqa.c,this.config.Xqa.maxc));};return d;})();b.dJ=r;},78647:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.uUa=void 0;b.uA=function(x){return x.ka(n.K.Pa(x.hO));};c=a(5163);r=a(90745);n=a(91176);d=a(91176);g=a(66164);e=a(8171);f=c.__importDefault(a(14282));l=a(65161);h=a(52571);k=a(82450);m=a(50247);p=a(40666);v=a(69575);q=a(29092);u=a(11758);t=a(8149);w=0;a=(function(x){function z(y,A,B,C,D,E){var F,G;G=x.call(this) || this;G.mediaType=y;G.ig=A;G.ed=B;G.config=C;G.$=D;G.ec=E;G.Rzb=!1;G.sdb=!1;G.m7=!1;G.console=e.hs.Ax(G.mediaType);G.console=(0,v.xg)(g.platform,e.hs.Ax(G.mediaType),"BUFFERMANAGER");G.error=G.console.error.bind(G.console);G.warn=G.console.warn.bind(G.console);G.trace=G.console.trace.bind(G.console);null === (F=B.events) || void 0 === F?void 0:F.addListener("ready",function(){G.append();});G.tnb=new k.F_a(G.config,G.mediaType,G.ig.Rf,G.console);G.reset();return G;}c.__extends(z,x);Object.defineProperties(z.prototype,{endOfStream:{get:function(){return this.UZ;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Puc:{get:function(){return !!this.ed.Z0b;},enumerable:!1,configurable:!0}});z.prototype.reset=function(y){var A,B,C;null === (A=this.Job) || void 0 === A?void 0:A.Ma();y || (this.oE=[]);this.Hxa=this.Zaa=this.SM=void 0;this.Ns && (this.Ns.iterator.Sg(),this.Ns=void 0);this.Tu && (this.Tu.iterator.Sg(),this.Tu=void 0);this.cDa=!1;this.WM=void 0;this.m7=this.UZ=!1;this.T7a(n.K.wa);null === (C=(B=this.ed).reset) || void 0 === C?void 0:C.call(B);this.tnb.reset();};z.prototype.pause=function(){this.Ns && this.Ns.iterator.Sg();this.Tu && this.Tu.iterator.Sg();};z.prototype.resume=function(){this.Ns && this.vza(this.Ns.Na,(0,v.HJa)(this.Ns.Na),this.Ns.wn);this.Tu && this.y9a(this.Tu.Na,this.Tu.wn);};z.prototype.MQb=function(){c.__awaiter(this,void 0,void 0,function(){var y,A;return c.__generator(this,function(B){switch(B.label){case 0:return this.Ns || this.Tu?[4,Promise.all([null === (y=this.Ns) || void 0 === y?void 0:y.Iv.promise,null === (A=this.Tu) || void 0 === A?void 0:A.Iv.promise])]:[3,2];case 1:(B.va(),B.label=2);case 2:return [2];}});});};z.prototype.g3b=function(){this.Zaa=!0;};z.prototype.oea=function(){this.sdb=!0;this.append();};z.prototype.pI=function(y){this.Rzb=y;};z.prototype.eQb=function(y){this.oE.push(y);this.append();this.MQb();};z.prototype.xE=function(){this.append();};z.prototype.Zgc=function(y){this.config.wza && void 0 === this.Hxa && this.dR(y,0);this.append();};z.prototype.Yia=function(y){var A,B,C,D;A=this;void 0 === y && (y=!1);if(!this.UZ && (this.UZ=!0,this.append(),y || !this.Puc))if(this.WM && this.ec && this.config.rZb){y=n.K.Pa(this.config.Bvc);y=this.WM.ka(y);D=(0,p.nna)(this.ec,y,!0);y=D.Ag;D=D.promise;null === (B=this.Job) || void 0 === B?void 0:B.Ma();this.Job=y;D.then(function(){var E,F;A.UZ && (null === (F=(E=A.ed).endOfStream) || void 0 === F?void 0:F.call(E));});}else null === (C=(D=this.ed).endOfStream) || void 0 === C?void 0:C.call(D);};z.prototype.T7a=function(y){var A;null !== (A=this.timestampOffset) && void 0 !== A && A.equal(y) || (this.timestampOffset=y,this.ed.svb(y.ga,y.O));};z.prototype.append=function(){var y,A,B,C,D,E,F,G;D=this.config;if(!this.Ns && !this.Tu && this.oE.length)if(this.ed && !1 !== this.ed.ready){E=this.oE[0];if(E.aborted)(this.warn("aborted fragment should not appear in the toAppend list:",E.toString(),"complete:",E.complete),this.n6("@" + g.platform.time.ya() + ", append: removing aborted fragment from toAppend: " + E.toString()),this.oE.shift());else {F=E.stream;G=F.R;if(F.Gg)if((E.Sz && !this.m7 && (null === (A=(y=this.ed).iwb) || void 0 === A?void 0:A.call(y,{N:F.track.R.N,jkb:F.Hi}),this.m7=!0),this.zsc(F,E.index)))(this.Zaa=!1,this.dR(F,E.index));else if((y=this.$.C3(G.N),F=this.q$b(F),y || F || !this.cDa && !D.xSa))if((y=this.Bhb(E),this.mediaType === f.default.Ln.X && (E.zk || E.Ux || (null === (B=E.sa) || void 0 === B?0:B.Tm)) && E.sa && !D.qV && !this.UZ && this.oE.length <= (E.zk || E.Ux?1:2) && y > D.eU && (null === (C=E.ZA) || void 0 === C || !C.IM)))this.gqc();else {this.cDa || (this.cDa=F);this.oE.shift();try{this.qPb(E);}catch(J){throw (this.console.error(J),J);}}}}else this.n6("@" + g.platform.time.ya() + ", append: not appending, sourceBuffer not ready");};z.prototype.gqc=function(){var y;y=this;this.ec && (this.FIa?this.FIa.eA || this.FIa.Md():this.FIa=this.ec.nx(function(){return y.Vbc();},"JIT Appender"));};z.prototype.Vbc=function(){var y,A,B,C;return c.__generator(this,function(D){switch(D.label){case 0:if(1 !== this.oE.length)return [3,3];y=this.oE[0];if(!y.zk && !y.Ux || (null === (C=y.ZA) || void 0 === C?0:C.IM))return [2];A=this.Bhb(y);B=this.config.eU;return A > B?[4,p.Og.tB(n.K.Pa(A - B))]:[3,2];case 1:(D.va(),D.label=2);case 2:return (this.append(),[3,0]);case 3:return [2];}});};z.prototype.Bhb=function(y){var A;return (null === (A=y.Hb) || void 0 === A?NaN:A.H) - this.$.Hd.H;};z.prototype.zsc=function(y,A){var B;B=y.Gi;(0,h.assert)(B);return 0 === B.length?this.Zaa=!1:this.Zaa || void 0 === this.SM || y.Jb !== this.SM.Jb?!0:1 < B.length?(0,d.I9a)(B,function(C){return C.Ce <= A;}) !== this.SM.okb:!1;};z.prototype.q$b=function(y){if(y.mediaType === l.u.X || !y.Hi)return !0;if(void 0 === this.SM)return !1;if(!y.track.nnb)return !y.Hi;y=y.Gi;(0,h.assert)(y);return !1 === y[this.SM.okb].sx;};z.prototype.dR=function(y,A){var B,C,D,E;if(!this.Rzb || this.sdb){if(y.Gi && 0 !== y.Gi.length){D=y.Gi.reduce(function(F,G,J){return G.Ce <= A?J:F;},0);E=y.Gi[D];this.SM || (null === (C=(B=this.ed).iwb) || void 0 === C?void 0:C.call(B,{N:y.track.R.N,jkb:y.Hi}),this.m7=!0);if(!this.ed.appendBuffer(E.data,{De:!0,profile:y.profile,bitrate:y.bitrate,Jb:y.Jb}))throw (this.warn("appendHeader error: " + this.ed.error),this.n6("@" + g.platform.time.ya() + ", appendHeader error: " + this.ed.error),Error("appendHeaderError"));this.n6("@" + g.platform.time.ya() + ", header appended, streamId: " + y.Jb);this.SM={Jb:y.Jb,okb:D};this.Doc(y.Jb,D);}this.append();}};z.prototype.qPb=function(y){var A,B,C,D,E;A=this;D=y.mNa || n.K.wa;E=y.M;E.kc && !E.kc.equal(n.K.Qj) && (D=E.kc.add(D).Ch,Infinity === this.ig.duration || this.ig.duration < D) && (this.ig.duration=D);D=void 0 !== y.fB?n.K.Pa(y.fB).add(y.mNa):void 0;E=null === (B=this.oE[0]) || void 0 === B?void 0:B.Hb;B={endOfStream:this.endOfStream || !(null === (C=y.ZA) || void 0 === C || !C.IM),aU:D,MKa:E};E=this.tnb.append(y,B);C=E.Nj;D=E.Tj;B=E.wn;E=E.offset;null === D || void 0 === D?void 0:D.forEach(function(F){return A.emit(F.type,F);});D=y.stream;(0,t.bm)(D) && (E=E.ka(D.un.Yc(D.O)));this.T7a(E);C && (y.zk || y.Ux) && y.Nj();D=m.Eq.$_a;C || (this.mediaType === l.u.X || this.mediaType === l.u.V?D=this.mPb(y,B):this.mediaType === l.u.Ia && (D=this.wPb(y)));switch(D){case m.Eq.In:this.pPb(y);break;case m.Eq.C$:this.Hxa=y;break;case m.Eq.So:this.hpb(y);this.Hxa=y;break;case m.Eq.$_a:this.ipb(y,!0);}};z.prototype.Swb=function(){var y;return g.platform.Am.Rf.rOa.xva || !(null === (y=this.ig.Rf) || void 0 === y || !y.Swb);};z.prototype.mPb=function(y,A){return this.Swb()?this.nPb(y,A):this.oPb(y,A);};z.prototype.nPb=function(y,A){var B,C;B=this;C=(0,v.HJa)(y);(A=(A || y.wn).every(function(D,E){return B.ed.appendBuffer(D,0 === E?C:void 0);})) && !y.jT?(this.vza(y,C),y=m.Eq.C$):y=A?m.Eq.So:m.Eq.In;return y;};z.prototype.oPb=function(y,A){var B;B=(0,v.HJa)(y);A || (A=y.wn);y.jT?y=(y=this.jbb(A,B))?m.Eq.So:m.Eq.In:(this.vza(y,B,A),y=m.Eq.C$);return y;};z.prototype.vza=function(y,A,B){var C,D,E;C=this;D=y.Chb();E=new n.ns();this.Ns={Na:y,iterator:D,wn:B,Iv:E};w++;q.AsyncIterator.DIa(D,function(F){F.done?D.wD || (B && C.jbb(B,A),C.Ns=void 0,C.hpb(y),E.resolve()):B?B.push(F.value.value):(C.ed.appendBuffer(F.value.value,A),F.value.Jya());});};z.prototype.jbb=function(y,A){y=1 < y.length?(0,v.XF)(y):y[0];return this.ed.appendBuffer(y,A);};z.prototype.wPb=function(y){var A,B,C;A=this;(0,h.assert)(y instanceof u.foa);B=y.wn;if(y.jT){(0,h.assert)(B.every(function(D){return D instanceof ArrayBuffer;}));Promise.resolve().then(function(){return A.Cdb(y,B);});C=m.Eq.So;}else (this.y9a(y,B),C=m.Eq.C$);return C;};z.prototype.y9a=function(y,A){var B,C,D;B=this;C=y.Chb();D=new n.ns();this.Tu={Na:y,iterator:C,wn:A,Iv:D};q.AsyncIterator.DIa(C,function(E){E.done?C.wD || (B.Tu=void 0,B.Cdb(y,A),D.resolve()):A.push(E.value.value);});};z.prototype.Cdb=function(y,A){var B,C;A=(0,v.XF)(A);A=new Uint8Array(A);A=g.platform.HCa(A);(0,h.assert)(A);C=y.zk && (null === (B=y.ZA) || void 0 === B?void 0:B.IM);y={vKc:!0,L:y.cm,ub:y.Ba.H,cg:y.Ga.H,Ov:y.gxb,fyb:A,endOfStream:C};B=c.__assign({type:"subtitleData"},y);this.ig.events.emit(B.type,B);"function" === typeof this.ed.vPb && this.ed.vPb(y);};z.prototype.hpb=function(y){var A;void 0 === this.WM || this.mediaType !== f.default.Ln.X || y.Hb.equal(this.WM) || (this.WM=void 0);this.n6("@" + g.platform.time.ya() + ", request appended, type: " + y.mediaType + ", streamId: " + y.Jb + ", pts: " + (null === (A=y.Hb) || void 0 === A?void 0:A.H) + "-" + y.Rb.H);this.ipb(y,!1);};z.prototype.ipb=function(y,A){var B,C,D;y.zk || y.Ux?(this.WM=A?y.Hb:y.Rb,null === (C=(B=this.ed).Z0b) || void 0 === C?void 0:C.call(B,y.ZA),this.m7=!1,(null === (D=y.ZA) || void 0 === D?0:D.IM) && this.Yia()):this.WM=void 0;y.IF=!0;y.hV();this.Eoc(y);this.append();};z.prototype.pPb=function(y){if(void 0 !== this.ed.error){if("done" === this.ed.error)return;this.error("failure to append queued mediaRequest:",null === y || void 0 === y?void 0:y.toString(),"err:",JSON.stringify(this.ed.error));throw this.ed.error;}y=Error("failure to append queued mediaRequest: " + (null === y || void 0 === y?void 0:y.toString()) + " err: " + this.ed.error);this.error(y.message);throw y;};z.prototype.Doc=function(y,A){y={type:"headerAppended",mediaType:this.mediaType,streamId:y,isIndex:A};this.emit(y.type,y);};z.prototype.Eoc=function(y){y={type:"requestAppended",mediaType:this.mediaType,request:y};this.emit(y.type,y);};z.prototype.n6=function(y){y={type:"managerdebugevent",message:y};this.emit(y.type,y);};return z;})(r.EventEmitter);b.uUa=a;},58348:function(r,b,a){var c,n,d,g,e,f;Object.defineProperties(b,{__esModule:{value:!0}});b.vUa=void 0;c=a(90745);n=a(66164);d=a(91176);g=a(65161);e=a(61996);f=a(52571);r=(function(){function l(h,k,m){this.Wb=h;this.bb=k;this.cLb=m;this.Pu=this.Hu=this.rp=0;this.Fu=[];this.lya=new Map();this.tf=new e.Sn({hg:4,Vj:this,source:"BufferSizeLimiter"});}Object.defineProperties(l.prototype,{la:{get:function(){return {total:this.rp,audio:this.Hu,video:this.Pu};},enumerable:!1,configurable:!0}});l.prototype.$w=function(h){var k,m,p,v;k=this;if(!h.De){m={requestId:h.Dhb(),mediaType:h.mediaType,la:h.la,AI:n.platform.time.ya(),P:h.stream.R.P};this.Fu.push(m);p=h.la;if(0 >= p){v=new c.mf();v.on(h.events,"updatedBytes",function(q){k.E8a(h.mediaType,q.nob - q.LLa);m.la=q.nob;v.clear();k.lya.delete(h);});this.lya.set(h,v);}else this.E8a(h.mediaType,p);}};l.prototype.Sv=function(h){var k,m;if(!h.De){k=h.Dhb();m=(0,d.nk)(this.Fu,function(p){return p.requestId === k;});-1 !== m && (this.Fu.splice(m,1),m=h.la,0 < m && (this.rp-=m,h.mediaType === g.u.X?this.Hu-=m:this.Pu-=m,(0,f.assert)(this.rp === this.Hu + this.Pu),(0,f.assert)(0 <= this.rp),(0,f.assert)(0 <= this.Hu),(0,f.assert)(0 <= this.Pu)),this.lya.delete(h));}};l.prototype.YAa=function(h,k){var m;(0,f.assert)(this.rp === this.Hu + this.Pu);m=this.cLb();if(void 0 !== m.total && this.rp + k > m.total)return (this.Ixb(),!1);m=h === g.u.X?m.audio:m.video;h=h === g.u.X?this.Hu:this.Pu;return void 0 !== m && h + k > m?(this.Ixb(),!1):!0;};l.prototype.E8a=function(h,k){this.rp+=k;h === g.u.X?this.Hu+=k:this.Pu+=k;(0,f.assert)(this.rp === this.Hu + this.Pu);(0,f.assert)(0 < this.rp);(0,f.assert)(0 <= this.Hu);(0,f.assert)(0 <= this.Pu);};l.prototype.Ixb=function(){var h;if(this.bb.b0b){h=n.platform.time.ya();this.tf.Q_("traceActiveRequests",{Fj:this.Fu.map(function(k){return {requestId:k.requestId,la:k.la,P:k.P,PNc:h - k.AI};})});}};l.prototype.Bca=function(){var h,k,m;h=0;k=0;m=0;this.Fu.forEach(function(p){h+=p.la;p.mediaType === g.u.X?k+=p.la:m+=p.la;});(0,f.assert)(h === k + m);(0,f.assert)(0 < h);(0,f.assert)(0 <= k);(0,f.assert)(0 <= m);(0,f.assert)(h === this.rp);(0,f.assert)(k === this.Hu);(0,f.assert)(m === this.Pu);};return l;})();b.vUa=r;},35779:function(r,b,a){var c,n,d,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.Xfb=b.rFa=b.MNa=b.zAa=b.aQ=void 0;c=a(5163);n=a(66164);d=a(52571);g=a(69575);r=(function(){function f(l,h,k){void 0 === k && (k={});this.config=l;this.RDa=h;this.pd=[];this.rR=new g.Xf();this.Tca=new g.Xf();this.options=c.__assign({hg:10},k);}Object.defineProperties(f.prototype,{isEnabled:{get:function(){return this.config.$_b;},enumerable:!1,configurable:!0}});f.prototype.Ofa=function(l,h){var k;if(!this.isEnabled)return h();k=this.jfa(l);if(k)return k.value;h=h();this.yr(l,h);return h;};f.prototype.findIndex=function(l){var h,k,m,p;h=Infinity;k=Infinity;if(this.options.Ru || this.options.Yt){m=n.platform.time.ya();this.options.Yt && (h=m - this.options.Yt);this.options.Ru && (k=m - this.options.Ru);}for(m=0;m < this.pd.length;m++){p=this.pd[m];if(this.options.Yt && p.X3 < h){this.pd.splice(m,this.pd.length - m);break;}if(this.options.Ru && p.fo < k)(this.pd.splice(m,1),m--);else if(this.RDa(p.key,l))return m;}return -1;};f.prototype.jfa=function(l){var h;l=this.findIndex(l);if(-1 !== l){h=this.pd[l];this.pd.splice(l,1);this.pd.unshift(h);this.options.Yt && (h.X3=n.platform.time.ya());this.Tca.push(l);this.rR.push(1);return h;}this.rR.push(0);};f.prototype.yr=function(l,h){this.pd.unshift({key:l,value:h});if(this.options.Yt || this.options.Ru)(l=n.platform.time.ya(),this.options.Yt && (this.pd[0].X3=l),this.options.Ru && (this.pd[0].fo=l));this.VAa();};f.prototype.VAa=function(){this.pd.length > this.options.hg && this.pd.pop();};f.prototype.clear=function(){this.pd=[];};return f;})();b.aQ=r;e=new WeakMap();b.zAa=function(f){void 0 === f && (f="default");return function(l,h,k){var m;m=k.value;k.value=function(p){var v,q,u;v=this;u=null === (q=e.get(this)) || void 0 === q?void 0:q[f];(0,d.assert)(u,"lruCache not defined");return u.Ofa(p,function(){return m.call(v,p);});};};};b.MNa=function(f,l,h){e.has(f) || e.set(f,{});e.get(f)[l]=h;};b.rFa=function(f){var l;if(!e.has(f))return [];l=e.get(f);return Object.keys(l).map(function(h){return l[h];});};b.Xfb=function(f){return e.has(f)?e.get(f):{};};},36948:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.LUb={xKa:["minCheckBufferingCompleteInterval",200],Qdb:["enableMoreFrequentBufferingCompleteCheck",!1],Bka:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}],HU:["paddingCodecSelector","strict"],yl:["stallAtFrameCount",void 0],pla:["saveBitrateMs",0],jOa:["requireDownloadDataAtBuffering",!1],wjb:["indicatorForDownloadDataAtBuffering","oncomplete"],kOa:["requireSetupConnectionDuringBuffering",!1],rH:["maxRequestSize",0],A0b:["enableNginxRateLimit",!1],Qia:["nginxSendingRate",4E4],vea:["enableCprAudio",!1],wea:["enableCprVideo",!1],yea:["enableHybridPacing",!1],NAa:["catchUpMode",!1],Sec:["maxSegHint",4],dOa:["requestLevelLogging",!1],ADa:["enableConcurrentStreamingHandling",!1],E0b:["enablePacingOnSwitchableAudio",!1],jq:["pipelineEnabled",!0],I0b:["enableSCByteRangeHints",!1],bE:["segmentFadeDuration",400],qH:["maxPrebufSize",4E4],aq:["minPrebufSize",5800],eU:["minimumJustInTimeBufferLevel",3E3],jIc:["enableMissingSegmentsDetection",!0],x1:["enableMissingSegmentsReplacement",!0],gJa:["liveSwitchStreamsOnErrorInPipeline",!0],cdc:["liveEdgeRetryWindowMs",6E3],MV:["simulateLiveEdge",!1],AKa:["minVideoMediaRequestSizeBytes",0],wKa:["minAudioMediaRequestSizeBytes",0],Zec:["maxVideoMediaRequestSizeBytes",Infinity],Fec:["maxAudioMediaRequestSizeBytes",Infinity],OD:["minVideoMediaRequestDuration",0],qA:["minAudioMediaRequestDuration",0],wia:["minMediaRequestDuration",0],dia:["maxMediaRequestDuration",Infinity],Yec:["maxVideoMediaRequestDuration",Infinity],Eec:["maxAudioMediaRequestDuration",Infinity],nza:["allowFirstRequestAggregation",!1],Nec:["maxMediaRequestSizeBytesInFraction",1],hSa:["useExitZones",!0],Xlb:["liveEndSlateMaxDuration",6E4],ima:["ase_stream_selector","optimized"],xQb:["audiostreamSelectorAlgorithm","selectaudioadaptive"],Qha:["liveStreamSelectorAlgorithm","livesimple"],rha:["jointStreamSelectorEnabled",!1],Wvb:["smartHeaderPreDownloading",!1],M4:["minBufferLenForHeaderDownloading",1E4],HBa:["connectTimeMultiplier",1],FD:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],DJa:["lowestWaterMarkLevelBufferRelaxed",!1],sA:["minRequiredBuffer",2E4],fN:["maxTrailingBufferLen",15E3],eN:["maxMediaBufferAllowed",27E4],aQa:["simulationDurationStrategy","default"],atc:["simulationFullBufferPercentage",1],Nnb:["minSimulationDuration",2E4],fia:["maxSimulationDuration",3E5],eHa:["highStreamRetentionWindow",9E4],yJa:["lowStreamTransitionWindow",51E4],gHa:["highStreamRetentionWindowUp",5E5],AJa:["lowStreamTransitionWindowUp",1E5],fHa:["highStreamRetentionWindowDown",6E5],zJa:["lowStreamTransitionWindowDown",0],dHa:["highStreamInfeasibleBitrateFactor",.5],sEa:["fastDownswitchFactor",3],Pea:["fastUpswitchFactor",3],$1b:["fastUpswitchFactorWithoutHeaders",3],Z1b:["fastUpswitchFactorForNextSegment",1],LBa:["considerConnectTime",!0],ED:["lowestBufForUpswitch",9E3],j4:["lockPeriodAfterDownswitch",15E3],CJa:["lowWatermarkLevel",15E3],dQa:["skipBitrateInUpswitch",!1],BSa:["watermarkLevelForSkipStart",8E3],juc:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],Fdb:["enableAllHeadersPreDownloading",!1],K0b:["enableStreamSelectionAugmentData",!1],CQb:["augmentDataNumOfChunks",30],DLc:["minFragmentVmaf",void 0],f4:["liveStreamSelectorUseLatency",!0],Fha:["latencyMultiplierForLive",4],Hlb:["latencyAverageMultiplierForLive",1],lxb:["throughputDiscountForLive",.8],kxb:["throughputDiscountExponentBC",1.5],fJa:["liveStrictBufferRatioCalculation",!1],wvc:["throughputThresholdSelectorParam",0],kya:["reportedFilters",[]],Oca:["bufferingSelectorAlgorithm","default"],$yb:["upswitchDuringBufferingFactor",2],n9a:["allowUpswitchDuringBuffering",!1],Lha:["liveMaxUpswitchSteps",Infinity],Bob:["noRepeatedFirstSelectionLogic",!1],cZb:["defaultThroughput",void 0],rA:["minInitVideoBitrate",-Infinity],KD:["maxInitVideoBitrate",Infinity],ND:["minInitAudioBitrate",-Infinity],Gv:["maxInitAudioBitrate",Infinity],L4:["minAcceptableVideoBitrate",-Infinity],K4:["minAcceptableVMAF",0],Jfc:["minAcceptableVMAFRebufferScalingFactor",0],uKa:["minAllowedVideoBitrate",-Infinity],Cec:["maxAllowedVideoBitrate",Infinity],jN:["minAllowedVmaf",-Infinity],Umb:["maxAllowedVmaf",Infinity],dU:["minRequiredAudioBuffer",0],tT:["initialBitrateSelectionCurve",null],I7:["throughputPercentForAudio",15],Zza:["bandwidthMargin",0],aAa:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],l$a:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,IC:76376,scale:18862.4,gamma:3.0569}],$za:["bandwidthMarginContinuous",!1],m$a:["bandwidthMarginForAudio",!0],SQa:["switchConfigBasedOnInSessionTput",!0],IBa:["conservBandwidthMargin",20],KBa:["conservBandwidthMarginTputThreshold",6E3],JBa:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],dx:["bandwidthManifold",{curves:[{min:.05,max:.82,IC:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,IC:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],lnb:["maxStartingVideoVMAF",110],Yx:["minStartingVideoVMAF",1],Mba:["activateSelectStartingVMAF",!1],Bla:["selectStartingVMAFTDigest",-1],DV:["selectStartingVMAFMethod","fallback"],wub:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],FNa:["rebufferingFactor",1],a6:["rebufferCheckDuration",6E4],iSa:["useMaxPrebufSize",!0],BJa:["lowThroughputThreshold",400],fEa:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],F0b:["enablePenaltyForLongConnectTime",!1],pMa:["penaltyFactorForLongConnectTime",2],vJa:["longConnectTimeThreshold",200],hza:["additionalBufferingLongConnectTime",2E3],iza:["additionalBufferingPerFailure",8E3],Ht:["maxBufferingTime",2E3],fSa:["upperThroughputPredictionFactor",1.6],G4:["mediaRate",1.5],Avc:["timeAtEachBitrateRoundRobin",1E4],Kpc:["roundRobinDirection","forward"],PJa:["marginPredictor","simple"],P0b:["enableVmafEstimationFromBitrate",!1],Wec:["maxVMAFMappingBitrate",16E3],Xec:["maxVMAFMappingVMAF",110],Nza:["audioBwFactor",1],zQb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],AQb:["audioSwitchConfigLive",{upSwitchFactor:2.5,downSwitchFactor:1.3,lowestBufForUpswitch:6E3,lockPeriodAfterDownswitch:3E4}],LO:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],wca:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],ZIa:["limitAudioDiscountByMaxAudioBitrate",!1],ZM:["liveSlowBufferFilling",!1],odc:["liveResyncClockOn404Error",!0],uea:["enableConditionalServerTimeUpdate",!0],Gia:["negligibleServerTimeDeltaDifference",1E3],LKa:["networkMeasurementGranularity","video_location"],Iec:["maxFragsForFittableOnBranching",300],vp:["applyProfileStreamingOffset",!0],Ytb:["sanitizeMediaVideoFrameDuration",!0],Q0b:["enableWsslEstimate",!1],Qec:["maxRequestsToAttachOnBranchActivation",void 0],Odb:["enableManagerDebugTraces",!1],Ovb:["simulatePartialBlocks",!0],Zlb:["liveInitialFetchSizeBytes",1024],tdc:["liveTextInitialFetchSizeBytes",40],edc:["liveEditInitialFetchSizeBytes",4096],MU:["perFragmentVMAFConfig",{enabled:!1,earlyManifestProcessing:!1}],Wlb:["liveAdjustAudioTimestamps",!1],Lda:["debugFragmentTimes",!1],GDa:["enableTwoPartLiveFragmentEditing",!0],yjc:["parseAdditionalBoxesMp4Header",!0],yLc:["minAudioMediaRequestDurationCache",0],GLc:["minVideoMediaRequestDurationCache",0],Jdb:["enableForcedJsRequests",!1],Rmb:["markRequestActiveOnFirstByte",!1],zW:["useNativeDataViewMethods",!0],Kia:["networkRequestRetryDelay",500],yRa:["translateToVp9Draft",!1],WNa:["reorderTrakMvex",!1],Pjb:["insertSilentFrames",0],NIc:["forceDiscontinuityAtTransition",!0],BNc:["supportAudioResetOnDiscontinuity",void 0],ANc:["supportAudioEasingOnDiscontinuity",void 0],mLc:["maxWsslRequestSize",131072],lLc:["maxWsslRequestRatio",.2],bJa:["liveEarlyRequestProbability",.05],aJa:["liveEarlyRequestDefaultOffsetMs",-500],g0b:["enableCsprNonPipelined",!1],e0b:["enableCprAudioNonPipelined",!1],f0b:["enableCprVideoNonPipelined",!0],D0b:["enablePaceReportLogging",!1],njc:["paceRateSelectorAlgorithm","default"],ojc:["paceRateSelectorAlgorithmAudio","default"],pjc:["paceRateSelectorAlgorithmNonPipelined","default"],rwb:["staticPacingRateKbps",0],gda:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1,lowestAllowedFragmentBitrateFactors:[0,0,0]}],Ewc:["unpacedFragmentInterval",0],doc:["regressionAlgoPacingCoefficients",[{playerStates:[0,1,2],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[0,1,2],bufferLevelPct:0,coefficients:{offset:1E5}},{playerStates:[],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[],bufferLevelPct:1,coefficients:{maxAverageBitrate:2}}]],fvc:["targetBufferLevelStddevMultiplier",1],evc:["targetBufferLevelDurationMs",0],rjc:["pacingTargetBufferStrategy","implicit"],Tfc:["minTargetBufferLevelMs",27E4],IKa:["needMinimumNetworkConfidence",!0],eAa:["biasTowardHistoricalThroughput",!1],bdc:["liveDvrSwitchThresholdms",1E4],RN:["probeServerWhenError",!0],Kdb:["enableInitialThroughputHistory",!1],Jdc:["locationSelectorPersistFailures",!0],kJa:["locationStatisticsUpdateInterval",6E4],W9b:["httpsConnectErrorAsPerm",!1],$ha:["maxAttemptsOnFailure",18],uma:["throttledNetworkFailureThresholdMs",200],gia:["maxThrottledNetworkFailures",5],JKa:["networkFailureAbandonMs",6E4],KKa:["networkFailureResetWaitMs",2E3],EDa:["enableMaxAttemptsOnFailure",!0],aia:["maxBufferingTimeAllowedWithNetworkError",6E4],Rgc:["noDuplicateUnderflowTimer",!1],V_:["allowSwitchback",!0],bia:["maxDelayToReportFailure",300],Drb:["probeRequestTimeoutMilliseconds",3E4],wMc:["probeRequestConnectTimeoutMilliseconds",8E3],Crb:["probeDetailDenominator",100],yKa:["minStreamableConcurrencyWindow",3E3],Uec:["maxStreamableConcurrencyWindow",Infinity],BQa:["streamableConcurrencyFactor",.3],s0:["bufferingConcurrencyWindow",7800],tsb:["rebufferRiskHalfLife",1E4],xea:["enableDiscontiguousBuffering",!1],Zha:["maxAllowedOutstandingRequests",4],Pha:["liveRequestSpreadMs",1E3],adc:["liveConsiderSpreadInCushion",!1],KT:["liveEdgeCushion",0],yq:["switchableAudioProfiles",[]],$Ja:["maxRebufSize",Infinity],K5:["prebufferTimeLimit",6E4],Mza:["audioBufferTargetAvailableSize",262144],rSa:["videoBufferTargetAvailableSize",1048576],iib:["graphSelectorSetAudioRate",!1],Rbc:["jointStreamCreationAlgorithm","optimized"],Pnb:["minimumBufferingCompleteInterval",1E4],yRb:["bufferingCompleteOnMemoryLimit",!1],WJa:["maxFastPlayBufferInMs",2E4],Vmb:["maxBufferingCompleteBufferInMs",Infinity],Vkc:["playgraphDefaultWeight",65520],BKa:["minimumDownstreamBranchProbability",.075],p1:["enableCombinedPlaygraphs",!0],jS:["enableAdPlaygraphs",!0],zea:["enableLiveAdPlaygraphs",!0],jAa:["branchCreationThreshold",12E4],oRb:["branchDistanceThreshold",6E4],Eyc:["waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!1],A4:["maxTotalBufferLevelPerSession",0],bPb:["allowParallelStreaming",!0],PCa:["defaultHeaderCacheSize",4],OCa:["defaultHeaderCacheDataPrefetchMs",0],Wbc:["keepWishListOnExpiration",!0],LMc:["reuseOnErrorCacheSize",1],Imb:["manifestCacheDormantCacheEnabled",!0],fec:["manifestCacheReuseOnErrorEnabled",!0],dJa:["livePrefetchEnabled",!1],slc:["prefetchWeightBudget",32],tlc:["prefetchWhilePlaying",!0],ylc:["prefetcherSoftReset",!0],plc:["prefetchBudgetInBytes",0],aka:["pipelineHealthThresholdCriticalMs",2E3],bka:["pipelineHealthThresholdLowMs",6E3],zL:["enableRequestAbandonment",!1],Wka:["requestAbandonmentLockIntervalMs",1E4],wQa:["streamModeAppendAttachThreshold",.75],usc:["shareDownloadTracks",!0],vsc:["shareOpenRangeTracks",!1],Jxc:["usePipelineForAudio",!1],Ixc:["usePipelineDetectionForAudio",!1],Kxc:["usePipelineForBranchedAudio",!0],Lxc:["usePipelineForText",!0],YJa:["maxParallelConnections",3],x4:["maxActiveRequestsPerSession",void 0],O4:["minRequestSize",65536],Xvb:["socketReceiveBufferSize",0],yca:["audioSocketReceiveBufferSize",32768],fna:["videoSocketReceiveBufferSize",65536],rvc:["textSocketReceiveBufferSize",32768],kzb:["usePipelineDetectionForVideo",!1],Wfc:["minVideoSocketReceiveBufferSize",65536],bHa:["headersSocketReceiveBufferSize",32768],YZb:["disableHeaderDownloadTracks",!1],ZV:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],ijb:["ignoreUserFilterOnEmptyResult",!0],Bea:["enableResolutionVMAFStreamFilter",!1],tMa:["percentCapTitlesForResolutionVMAFStreamFilter",100],ala:["resolutionVMAFCappingRuleList",[]],Hxc:["useLiveBitrateDynamicCap",!0],MPb:["aseDiagnostics",[{wc:"queue-audit",enabled:!0},{wc:"task-audit",enabled:!0},{wc:"trace-ShimSession",enabled:!0},{wc:"trace-engine",enabled:!0},{wc:"trace-RequestPacer",enabled:!0},{wc:"trace-BufferStateTracker",enabled:!0},{wc:"trace-GraphStreamingProcess",enabled:!0},{wc:"trace-AsePlaygraph",enabled:!0},{wc:"playgraph-branch-audit",enabled:!0},{wc:"content-playgraph",enabled:!0},{wc:"trace-CphAsePlaygraph",enabled:!0},{wc:"trace-GraphLocation",enabled:!0},{wc:"cache-ads::gls",enabled:!0},{wc:"cache-content::gls",enabled:!0},{wc:"trace-LiveOCSideChannel",enabled:!0},{wc:"trace-ad-composer",enabled:!0},{wc:"trace-media-events-store",enabled:!0},{wc:"trace-media-events-manager",enabled:!0},{wc:"trace-media-events-provider",enabled:!0}]],a0b:["enableAseReporting",!0],qfc:["memDeadlockShouldCheckMemory",!0],pfc:["memDeadlockOverageThreshold",.9],ofc:["memDeadlockMaxUtilizationPercentage",.5],$_b:["enableAdLruCaches",!1],XLa:["paddingMediaType","padding"],WLa:["paddingDurationMs",1E3],mS:["enablePrerollForInitialSeek",!1],eoc:["rehydrateSkippableAdBreaks",!0],cjb:["hydrateWaitTimeBetweenAdBreaksMs",5E3],fnb:["maxPlayerDistancePriorToAdBreakHydrationMs",6E4],gEa:["excludedContentPlaygraphIds",[]],M9a:["aseGcSettings",{segmentPresenting:!0,branchPruned:!0}],BV:["seamlessAudio",!1],wza:["appendFirstHeaderOnComplete",!0],xSa:["waitForDrmToAppendMedia",!1],iIc:["enableJustInTimeAppends",!1],Bvc:["timeBeforeEndOfStreamBufferMark",6E3],rZb:["delayNotificationOfEoS",!1],tia:["minAudioPtsGap",void 0],Zfc:["minimumAudioFramesPerFragment",1],qV:["requireAudioStreamToEncompassVideo",!1],nia:["mediaSourceSupportsNegativePts",!1],jwc:["truncateEndOfStreamAudio",!1],VHa:["insertSilentFramesOnSeek",!1],Qjb:["insertSilentFramesOnSeekForTitles",[]],QOa:["seamlessAudioMaximumSyncError",void 0],ROa:["seamlessAudioMinimumSyncError",void 0],W9a:["audioProfilesNonSyncSamples",["xheaac-dash"]],$_:["applyProfileTimestampOffset",!1],Gxc:["useDpiAssumedAacEncoderDelay",!0],Z$b:["insertSilentFramesOnSeekCount",3],xla:["segmentFadeInDuration",-1],yla:["segmentFadeOutDuration",-1],WT:["maximumFade",{"heaac-2-dash":-44,"heaac-2hq-dash":-44,"ddplus-5.1hq-dash":-44,"ddplus-5.1-dash":-44}],fla:["retainSbrOnFade",!1],Ojb:["insertSilentFrameOnFade",!0],OEa:["forceAppendHeadersAfterDrm",!1],x9a:["appendPacingFactor",0],tPb:["appendPacingThreshold",3E3],w0b:["enableLiveRequestLogger",!1],$Sb:["cdndldistEnabled",!1],Rkc:["playerPtsPadding",1],Ak:["liveTargetBufferDuration",1E4],Rha:["liveTargetBufferDurationInStableNetwork",8E3],Aea:["enableLiveTargetBufferDurationHeuristics",!1],Lnb:["minNumSessionHistory",5],p$a:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],j8:["useLiveEdgeUpdateTask",!0],bmb:["liveReportSendIntervalMs",6E4],eJa:["liveReportCollectIntervalMs",5E3],dzb:["useConfigManager",!1],LJa:["manifestConfigAllowList",("liveEdgeCushion maxMediaBufferAllowed enableMissingSegmentsReplacement maxAttemptsOnFailure enableConditionalServerTimeUpdate negligibleServerTimeDeltaDifference liveTargetBufferDuration liveTargetBufferDurationInStableNetwork enableLiveTargetBufferDurationHeuristics ignoreShortResponses minPrebufSize liveStreamSelectorUseLatency latencyMultiplierForLive enableMediaEventsTrack latencyAverageMultiplierForLive alwaysRetainAds enableRequestAbandonment liveMaxUpswitchSteps liveRequestSpreadMs liveSlowBufferFilling simulateLiveEdge useLiveEdgeUpdateTask").split(" ")],UKb:["expandDownloadTime",!0],hjb:["ignoreShortResponses",!1],OPa:["shortResponseDurationMs",10],NLb:["minimumMeasurementTime",500],MLb:["minimumMeasurementBytes",131072],zMb:["throughputMeasurementTimeout",2E3],yMb:["initThroughputMeasureDataSize",262144],ALb:["historicBandwidthUpdateInterval",2E3],dma:["stopOnAllInactiveRequests",!1],Edb:["enableActiveRequestsInFilters",!1],ttb:["resetActiveRequestsAtSessionInit",!0],Rdb:["enableThroughputTraceResearchData",!1],mxb:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],nAb:["wsslAggregationMethod","max"],SOa:["secondThroughputEstimator","slidingwindow"],o6a:["defaultFilter","throughput-ewma"],IKb:["defaultFilterField","average"],N7a:["secondaryFilter","throughput-sw"],mQa:["startMonitorOnLoadStart",!1],NKb:["enableFilters",("throughput-ewma initial-throughput-ewma throughput-sw throughput-sw-fast throughput-iqr avtp entropy deliverytime").split(" ")],VKb:["experimentalFilter",["throughput-wssl"]],oxa:["filterDefinitionOverrides",{}],p6a:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"initial-throughput-ewma":{type:"initial-discontiguous-ewma",mw:5E3,playerStates:[0,1]},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-sw-fast":{type:"slidingwindow",mw:500},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3},"throughput-ci":{type:"ci",max_n:10,maxc:25,c:.5,lowPercentile:.1,highPercentile:.9,initialPercentile:.2,decay:!1,halfLife:5E3,maxDecay:1E9},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},deliverytime:{type:"deliverytime",hl:4E3,max_n:10,min_iv:500,min_b:16384},"deliverytime-ci":{type:"deliverytime-ci",hl:4E3,max_n:10,metric:"deliverytime",lowPercentile:.1,highPercentile:.9,initialPercentile:.2,accuracy:1E-10,maxIterations:20,min_iv:500,min_b:16384}}],YKb:["fastHistoricBandwidthExpirationTime",10368E3],mLb:["bandwidthExpirationTime",5184E3],XKb:["failureExpirationTime",86400],WZ:["historicByLocationOrGlobal","timedPerLocation"],M6a:["historicThroughputHalflife",14400],L6a:["historicResponseTimeHalflife",100],K6a:["historicHttpResponseTimeHalflife",100],t7a:["historyTimeOfDayGranularity",4],m7a:["minReportedNetIntrDuration",4E3],Agc:["netIntrStoreWindow",36E3],NLc:["minNetIntrDuration",8E3],xia:["minSessionHistoryDuration",3E5],eia:["maxNumSessionHistoryStored",10],l$b:["ignorePacedRequestStrategy","none"],t5:["pacedThresholdPct",.1],uDa:["effectivePaceRateFactor",1],sQa:["stddevPredictorMultiplier",-.3],tQa:["stddevPredictorUpperMultiplier",2],Stc:["stddevPredictorSource","deliverytime"],gBa:["ciPredictorSource","throughput-ci"],Vya:["addHeaderDataToNetworkMonitor",!0],$Na:["reportFailedRequestsToNetworkMonitor",!1],ECa:["ase_location_history",0],Zja:["periodicHistoryPersistMs",0],tga:["headerRequestSize",4096],G1:["estimateHeaderSize",!0],Mxc:["useSidxInfoFromManifestForHeaderRequestSize",!1],Eeb:["fastPlayHeaderRequestSize",0],zKa:["minTimeBetweenHeaderRequests",void 0],lS:["enableOCSideChannel",!0],LCa:["decryptOCSideChannelMinInterval",1E3],MCa:["decryptOCSideChannelMinIntervalAfterCompleted",1E3],u1:["enableLiveOCSideChannelRefresh",!0],e4:["liveOCSideChannelRefreshInterval",3E4],x$:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],REa:["forceImmediateTransitionTypeForTitles",[]],QEa:["forceImmediateTransitionExitZone",0],Tmb:["maxActiveRequestsSABCell100",2],iHc:["contentOverrides",void 0],jHc:["contentProfileOverrides",void 0],dnb:["maxNetworkErrorsDuringBuffering",20],Hec:["maxFastPlayContentTimeThresholdMs",112E3],fU:["minimumTimeBeforeBranchDecision",2E3],Yfc:["minimumAppendedMediaBeforePlayback",5E3],GMc:["researchEnvironmentEnabled",!1],DCa:["ase_dump_fragments",!1],cwb:["stallAtFrameCountAudio",void 0],bnb:["maxIQRSamples",100],Inb:["minIQRSamples",5],YMc:["seamlessAudioProfiles",[]],ZMc:["seamlessAudioProfilesAndTitles",{}],L_b:["editCompleteFragments",!0],uQb:["audioOverlapGuardSampleCount",2],H0b:["enableRecordJSBridgePerf",!1],Xqa:["JSBridgeTDigestConfig",{maxc:25,c:.5}],Uib:["hindsightDenominator",0],Tib:["hindsightDebugDenominator",0],PJc:["hindsightAlgorithmsEnabled",[]],Vib:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],b0:["aseReportDenominator",0],Gza:["aseReportIntervalMs",3E5],OPb:["aseReportMaxStreamSelections",400],RBa:["contiguousBufferMultiplier",3],pbb:["contiguousBufferMinimumAudio",1048576],rbb:["contiguousBufferMinimumVideo",8388608],qbb:["contiguousBufferMinimumText",0],i8:["useBufferSizeLimiter",!1],Nxc:["useStaticBufferSizeLimiter",!1],Xwb:["supportsPtsChanged",!0],MI:["usePrioritySetTimeout",!1],bab:["centralizeClockSchedulers",!0],j$a:["backOffSetTimeout",!0],oNc:["skipIntroPlaygraphEnabled",!1],b0b:["enableBufferSizeLimiterTracer",!1],cmb:["liveShouldAccountForPlayDelay",!1],hOc:["useManifestServerExpiration",!1],dca:["alwaysRetainAds",!1],v1:["enableMediaEventsTrack",!1],tjc:["padOcaSideChannelRequests",!0],hdc:["liveMediaEventsMinBufferMs",4E3],kLc:["maxWaitTimeForMediaEventsWhileBufferingMS",5E3],gdc:["liveMediaEventsCatchupMs",3E4],fdc:["liveMaximumEventsCatchupMs",12E4],l3:["ignoreRetainAdBreaksWhenLive",!1],gPb:["alwaysSendSideChannel",!0]};b.KUb=b.LUb;b.kj=b.KUb;},49502:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},7559:function(r,b){function a(n,d){var g;d.some(function(e){var f;f=e.profiles;(f=f && 0 <= f.indexOf(n)) && (g=e.override);return f;});return g;}function c(n,d){return !!d && d.yq && 0 <= d.yq.indexOf(n);}Object.defineProperties(b,{__esModule:{value:!0}});b.dGc=function(n){return n.BV;};b.Zgb=function(n,d){return void 0 !== n.tia?n.tia:d && void 0 !== d.tia?d.tia:100;};b.n4b=function(n,d){n=n.profile;n=c(n,d)?a(n,d.LO):a(n,d.wca);return {ND:n && n.minInitAudioBitrate || d.ND,Gv:n && n.maxInitAudioBitrate || d.Gv,Lfc:n && n.minAudioBitrate || -Infinity,Dec:n && n.maxAudioBitrate || Infinity,sA:n && n.minRequiredAudioBuffer || d.dU};};b.ckb=c;},78541:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.aG=function(g,e,f,l,h,k,m,p){var v;c.G && l.trace("AsePlaygraph.createRequestQueue()");v=n.nJ.instance.aG(g,e.P,!0,!1,{lG:f.lG,fa:h},f);v.mj.on(v,"networkfailing",function(){var q;c.G && l.trace("requestQueue OnNetworkFailing: ",v);v.pEa && ((0,d.assert)(v.qEa),null === (q=e.Oz) || void 0 === q?void 0:q.Tv(void 0,v.qEa,void 0,v.Tg,v.Uj));e.Gn();});v.mj.on(v,"error",function(){p(v.Tg,v.Uj);});v.on("transportreport",function(q){q.JDa=e.jH.oS;k(q);});v.on("mediaRequestComplete",m);v.Pb();return v;};c=a(48170);n=a(42431);d=a(52571);},42431:function(r,b,a){var c,n,d,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.nJ=void 0;c=a(5163);n=a(66164);d=c.__importDefault(a(14282));g=a(65161);e=a(91772);r=(function(){function f(l){this.XJ=l;this.ca=[];this.console=new n.platform.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(f,{instance:{get:function(){void 0 === f.Mw && (f.Mw=new f(n.platform.EX));return f.Mw;},enumerable:!1,configurable:!0}});f.reset=function(){f.Mw=void 0;};f.prototype.aG=function(l,h,k,m,p,v){var q;q=v.usc?this.F2b(k,h,l,v.vsc):-1;-1 === q?(q={track:this.aXb(k,m,l,p,v),Ni:k,P:h,csb:l,aI:[],fo:!1,pL:!1},this.ca.push(q),this.wnc(q),l=!1):(l=!0,q=this.ca[q]);l=new e.$2a(this.console,q.track,q.fo,l);q.aI.push(l);return l;};f.prototype.wnc=function(l){function h(){l.fo=!0;l.track.removeListener("created",h);}l.track.on("created",h);};f.prototype.bea=function(l){var h,k;l.Ep();h=this.R1(function(m){return m.track === l.track;});if(-1 !== h){if((h=this.ca[h],1 === h.aI.length))(h.track.Ep(),h.pL=!0);else {k=h.aI.indexOf(l);0 <= k && h.aI.splice(k,1);}}else l.track.Ep();};f.prototype.ef=function(){this.XJ.ef();};f.prototype.aXb=function(l,h,k,m,p){var v,q,u,t,w,x;v=this;u=!1;t=q=!1;w=m.fa;l?k === g.u.V?(l=1,p.jq?(t=!0,l=p.YJa):p.x4 && 2 < p.x4 && (t=!0,l=p.x4),q=w?!!p.k8:p.k8 || !t,q={type:this.XJ.V,openRange:q,pipeline:t,connections:l,socketBufferSize:p.fna,minRequestSize:p.O4}):k === g.u.X?(u=p.jq && (p.Jxc || h && p.Kxc),q=w?!!p.k8:p.k8 || !u,q={type:this.XJ.X,openRange:q,pipeline:u,connections:1,socketBufferSize:p.yca,minRequestSize:p.O4}):k === g.u.Ia?(q=w?!!p.k8:p.k8 || !p.Lxc,q={type:this.XJ.Ia,openRange:q,pipeline:p.jq,connections:1,socketBufferSize:p.rvc,minRequestSize:p.O4}):q={type:p.YZb?this.XJ.V:this.XJ.gEb,openRange:!1,pipeline:!0,connections:1,socketBufferSize:p.bHa,minRequestSize:p.O4}:q={type:k === g.u.X?d.default.Ln.X:d.default.Ln.V,openRange:!1,pipeline:!1,connections:1,socketBufferSize:k === g.u.X?p.yca:p.fna,minRequestSize:p.O4};x=new this.XJ(q,m);x.jq=t;x.on("transportreport",function(z){var y;y=v.R1(function(A){return A.track === x;});-1 !== y && (y=v.ca[y],y.aI.length && y.aI[0].emit("transportreport",z));});x.on("mediaRequestComplete",function(z){var y;y=v.R1(function(A){return A.track === x;});-1 !== y && (y=v.ca[y],y.aI.length && y.aI[0].emit("mediaRequestComplete",z));});x.on("destroyed",function(){var z;z=v.R1(function(y){return y.track === x;});-1 !== z && v.ca.splice(z,1);x.removeAllListeners();});x.on("pipelinedisabled",function(){x.jq=!1;if(w)x.JNa(c.__assign(c.__assign({},x.config),{pipeline:!1,openRange:!1,connections:1}));else if(u && p.Ixc || p.kzb)p.kzb && x.config.type === g.u.V?x.JNa(c.__assign(c.__assign({},x.config),{socketBufferSize:p.Wfc,pipeline:!1,openRange:!0,connections:1})):x.JNa(c.__assign(c.__assign({},x.config),{pipeline:!1,openRange:!0}));});return x;};f.prototype.F2b=function(l,h,k,m){return this.R1(function(p){return !p.pL && (!m && p.track.config.YLc || !l?!p.Ni && p.csb === k:p.Ni && p.P === h && p.csb === k);});};f.prototype.R1=function(l){for(var h=0;h < this.ca.length;++h)if(l(this.ca[h]))return h;return -1;};return f;})();b.nJ=r;},91772:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.$2a=void 0;c=a(5163);n=a(90745);r=(function(d){function g(e,f,l,h){var k;k=d.call(this) || this;k.Wb=e;k.track=f;k.fo=!1;k.TG=!1;k.mj=new n.mf();k.mj.on(f,"networkfailing",function(){k.emit("networkfailing");});k.mj.on(f,"error",function(){k.Wb.warn("requestQueue got error");k.emit("error");});if(l)(k.fo=!0,Promise.resolve().then(function(){return k.emit("created");}));else k.mj.on(f,"created",function(){k.fo=!0;k.emit("created");});k.TG=h;return k;}c.__extends(g,d);Object.defineProperties(g.prototype,{pEa:{get:function(){return this.track.pEa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Tg:{get:function(){return this.track.Tg;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Uj:{get:function(){return this.track.Uj;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{qEa:{get:function(){return this.track.qEa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});g.prototype.Pb=function(){var e,f;this.TG || (null === (f=(e=this.track).Pb) || void 0 === f?void 0:f.call(e),this.TG=!0);};g.prototype.toString=function(){return this.track.toString();};g.prototype.toJSON=function(){return this.track;};g.prototype.Ep=function(){this.mj.clear();};return g;})(n.EventEmitter);b.$2a=r;},14282:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(6198);b["default"]={uAc:{Uy:0,wEc:1,name:["STARTUP","STEADY"]},Ln:{X:r.u.X,V:r.u.V,Ia:r.u.Ia,name:["AUDIO","VIDEO","TEXT"]},GCc:{X:r.u.X,V:r.u.V,Ia:r.u.Ia,name:["AUDIO","VIDEO","TEXT"]},Sh:{URL:0,QJ:1,LOCATION:2,Py:3,name:["URL","SERVER","LOCATION","NETWORK"]},Mn:{HAVE_NOTHING:0,OP:1,NP:2,OX:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},Ty:{$zc:0,TBc:1,SDc:2,kDc:3,MDc:4,fFc:5,YBc:6,ECc:7,Uy:8,In:9,wta:10,UHb:11,qoa:12,jFb:13,iFb:14,RIb:15,QIb:16,oFb:17,kJb:18,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded switchlivedvr").split(" ")},yBc:{Py:0,TAc:1,name:["NETWORK","DECODE"]},qEc:{VAc:"delayedSeamless",hCc:"hideLongTransition"}};},48170:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.G=!1;},83744:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x;Object.defineProperties(b,{__esModule:{value:!0}});b.FWa=void 0;c=a(5163);n=a(90745);d=c.__importStar(a(17267));g=a(66164);e=a(91176);f=new g.platform.Console("ASEJS_ERROR_DIRECTOR","asejs");l=c.__importDefault(a(14282));h=a(86429);k=g.platform.Am;m=k.ME;p={};v={};r=[l.default.Sh.Py,!1];a=[l.default.Sh.Py,!0];q=[l.default.Sh.QJ,!1];u=[l.default.Sh.QJ,!0];t=[l.default.Sh.URL,!0];w=[-1,!1];x=[l.default.Sh.QJ,!1];p[m.Mzc]=q;p[m.UNKNOWN_ERROR]=q;p[m.nDc]=q;p[m.PCb]=q;p[m.yVa]=q;p[m.aDb]=q;p[m.TCb]=u;p[m.dCb]=u;p[m.MUa]=x;p[m.KUa]=x;p[m.eCb]=w;p[m.fCb]=x;p[m.gCb]=x;p[m.aCb]=q;p[m.cCb]=q;p[m.LUa]=r;p[m.bCb]=q;p[m.$Bb]=x;p[m.GAc]=u;p[m.kEb]=x;p[m.IXa]=x;p[m.HXa]=x;p[m.FXa]=x;p[m.wqa]=x;p[m.jEb]=t;p[m.xqa]=u;p[m.L9]=t;p[m.yqa]=a;p[m.LXa]=a;p[m.M9]=u;p[m.mEb]=t;p[m.N9]=x;p[m.JXa]=u;p[m.lEb]=u;p[m.WCb]=u;p[m.QCb]=q;p[m.$Ib]=q;p[m.GCb]=q;p[m.HCb]=q;p[m.ICb]=q;p[m.JCb]=q;p[m.KCb]=q;p[m.LCb]=q;p[m.MCb]=q;p[m.NCb]=q;p[m.OCb]=q;p[m.RCb]=q;p[m.SCb]=q;p[m.UCb]=q;p[m.VCb]=q;p[m.XCb]=q;p[m.YCb]=q;p[m.ZCb]=q;p[m.$Cb]=q;p[m.bDb]=q;p[m.cDb]=q;p[m.ZIb]=x;p[m.TIMEOUT]=r;v[m.MUa]=!0;v[m.IXa]=!0;v[m.HXa]=!0;v[m.wqa]=!0;v[m.yVa]=!0;r=(function(){var R01;R01=2;function z(y,A,B,C){var M$C;M$C=2;for(;M$C !== 18;){switch(M$C){case 19:this.oda=0;M$C=18;break;case 2:this.Ji=y;this.config=A;this.TGa=B;this.LG=C;this.events=new n.EventEmitter();this.mj=new n.mf();M$C=8;break;case 11:this.bRa={};this.QN=new h.G2a(y,C,A);this.BDa=!1;M$C=19;break;case 8:var G$F="1SIYbZ";G$F+="rN";G$F+="J";G$F+="C";G$F+="p9";G$F;this.Bab=new e.oZ();p[m.FXa]=A.W9b?u:x;M$C=14;break;case 14:var x3U="networkF";x3U+="ai";x3U+="le";x3U+="d";this.mj.addListener(this.Ji,x3U,this.Y8b.bind(this));this.GT=g.platform.time.ya();this.ox=0;M$C=11;break;}}}for(;R01 !== 13;){switch(R01){case 2:z.prototype.Ma=function(){var x5p;x5p=2;for(;x5p !== 5;){switch(x5p){case 2:this.mj.clear();this.QN.reset();x5p=5;break;}}};z.prototype.IV=function(y){var X1J;X1J=2;for(;X1J !== 1;){switch(X1J){case 2:this.Qla=y;X1J=1;break;}}};z.prototype.Tv=function(y,A,B,C,D){var c1f,E,F,G,J,N,I,L2i,V,fa,m3p,h$m,y1C,M,Z5p,H,O,P,Q,S,X,H6R,D8Z,L6q,K,L;c1f=2;for(;c1f !== 33;){switch(c1f){case 14:return;break;case 13:this.oda++;c1f=12;break;case 2:G=k.ME.name;G=C?G[C]:void 0;(J=this.config,N=this.Ji);c1f=4;break;case 7:var A$1=" consecutive network failure mode in underflo";A$1+="w";A$1+=" mode";var R07="F";R07+="orcing permanent network";R07+=" fai";R07+="lure after ";f.info(R07 + this.oda + A$1);this.Ji.Tv(l.default.Sh.Py,!0);c1f=14;break;case 12:var m2t="req";m2t+="ue";m2t+="st";m2t+="E";m2t+="rror";var k9n="reque";k9n+="s";k9n+="tE";k9n+="rror";var q1q="Treat HTTP_RESPONSE_5XX as SERVER_THR";q1q+="OTTLE";q1q+=" err";q1q+="or for live strea";q1q+="ming";I=p[C];N.fa && y && C === m.M9 && (f.info(q1q),I=x);this.QM={Op:B,Tg:C,Ceb:G,Uj:D};this.events.emit(k9n,{type:m2t,Op:B});c1f=19;break;case 9:c1f=this.BDa?8:12;break;case 26:c1f=J.RN?25:24;break;case 24:try{L2i=2;for(;L2i !== 13;){switch(L2i){case 14:fa=V.next();L2i=1;break;case 2:(V=c.__values(A),fa=V.next());L2i=1;break;case 8:L2i=I === x && !this.Foc(X)?13:7;break;case 7:var A5o="e";A5o+="r";A5o+="ror";Q.some(function(ca){var E1R;E1R=2;for(;E1R !== 5;){switch(E1R){case 2:N.Tv(K,L,ca.url);return K === l.default.Sh.QJ;break;}}});!this.Qla || 0 !== B && void 0 !== B || this.Qla.aPa(A5o,S);L2i=14;break;case 1:L2i=!fa.done?5:13;break;case 5:P=fa.value;X=P.vd;Q=P.urls;S=P.url;L2i=8;break;}}}catch(ca){var ba;ba={error:ca};}finally{m3p=2;for(;m3p !== 1;){switch(m3p){case 2:try{h$m=2;for(;h$m !== 1;){switch(h$m){case 2:fa && !fa.done && (F=V.return) && F.call(V);h$m=1;break;}}}finally{y1C=2;for(;y1C !== 5;){switch(y1C){case 2:y1C=ba?1:5;break;case 1:throw ba.error;y1C=5;break;case 9:throw ba.error;y1C=6;break;}}}m3p=1;break;}}}c1f=33;break;case 8:c1f=this.oda >= this.config.$ha?7:13;break;case 34:var c2O="Unmapped f";c2O+="ailure";c2O+=" code in JSASE e";c2O+="rr";c2O+="or director : ";p$i87.U73(0);f.error(p$i87.a0K(c2O,C));c1f=33;break;case 19:var T6Q="cr";T6Q+="iticalNe";T6Q+="tworkEr";T6Q+="ror";var n$V="criti";n$V+="ca";n$V+="lNet";n$V+="workError";v[C] && (++this.ox,this.events.emit(n$V,{type:T6Q,Tg:C}));c1f=18;break;case 22:A=N.Zqc(A.host,A.port).map(function(ca){var D4O,ia;D4O=2;for(;D4O !== 5;){switch(D4O){case 2:return {url:(null === (ia=ca.url.stream.nca) || void 0 === ia?void 0:ia.lM(!0)) || "",vd:ca.pc.id,pc:ca.pc,stream:ca.url.stream,urls:ca.pc.urls};break;}}}).filter(function(ca){var Q3c;Q3c=2;for(;Q3c !== 1;){switch(Q3c){case 2:return "" !== ca.url;break;case 4:return "" === ca.url;break;}}});c1f=27;break;case 16:M=N.P5b(y.stream);c1f=15;break;case 25:try{Z5p=2;for(;Z5p !== 8;){switch(Z5p){case 9:O=H.next();Z5p=1;break;case 1:Z5p=!O.done?5:8;break;case 2:(H=c.__values(A),O=H.next());Z5p=1;break;case 5:var i2d="e";i2d+="r";i2d+="r";i2d+="o";i2d+="r";(P=O.value,Q=P.urls,S=P.url,X=P.vd);I === x || I === q?this.QN.bmc(P,{j9a:X,Z7:I,Op:B,Tg:C,Ceb:G,Uj:D}):Q.some(function(ca){var r$I;r$I=2;for(;r$I !== 5;){switch(r$I){case 2:N.Tv(K,L,ca.url);return K === l.default.Sh.QJ;break;}}});!this.Qla || 0 !== B && void 0 !== B || this.Qla.aPa(i2d,S);Z5p=9;break;}}}catch(ca){var W;W={error:ca};}finally{H6R=2;for(;H6R !== 1;){switch(H6R){case 2:try{D8Z=2;for(;D8Z !== 1;){switch(D8Z){case 2:O && !O.done && (E=H.return) && E.call(H);D8Z=1;break;}}}finally{L6q=2;for(;L6q !== 5;){switch(L6q){case 1:throw W.error;L6q=5;break;case 3:L6q=W?0:1;break;case 2:L6q=W?1:5;break;}}}H6R=1;break;}}}c1f=33;break;case 23:c1f=A?22:21;break;case 35:return;break;case 17:c1f=y?16:23;break;case 27:(K=I[0],L=I[1]);c1f=26;break;case 4:var W8d=" : critical erro";W8d+="r";W8d+=" coun";W8d+="t = ";var u3B=" ";u3B+="o";u3B+="n";u3B+=" ";var J5p=" w";J5p+="ith";J5p+=" ";var L61=" o";L61+="n";L61+=" ";var B52="Fai";B52+="l";B52+="ure ";f.warn(B52 + G + L61 + (null === y || void 0 === y?void 0:y.url) + J5p + B + u3B + JSON.stringify(y?y:A) + W8d + this.ox);c1f=3;break;case 18:c1f=I !== w?17:33;break;case 21:var q$F="Invalid affe";q$F+="cted for ne";q$F+="twork failure";f.error(q$F);c1f=35;break;case 3:c1f=C && d.isArray(p[C])?9:34;break;case 15:A=N.Ihb(y.stream).map(function(ca){var m8n;m8n=2;for(;m8n !== 1;){switch(m8n){case 2:return {url:y.url,vd:ca.id,pc:ca,stream:M,urls:ca.urls,L:y.cm};break;}}});c1f=27;break;}}};R01=4;break;case 4:z.prototype.Foc=function(y){var V1X,A,B,C;V1X=2;for(;V1X !== 7;){switch(V1X){case 2:(A=g.platform.time.ya(),B=this.config,C=this.bRa[y]);V1X=1;break;case 9:return C.YD=!0;break;case 1:V1X=C?5:8;break;case 3:V1X=!(C.cd >= A - B.uma || C.YD || (C.cd=A,++C.count,C.count < B.gia))?9:7;break;case 8:this.bRa[y]={cd:A,count:1};V1X=7;break;case 4:(C.cd=A,C.count=1);V1X=7;break;case 5:V1X=C.cd < this.GT?4:3;break;}}};z.prototype.Y8b=function(y){var l64,E,F,G,A,B,C,D;l64=2;for(;l64 !== 7;){switch(l64){case 4:l64=this.QM?3:9;break;case 5:!y && B > D.JKa && (C=!0);l64=4;break;case 3:(E=this.QM.Tg,F=this.QM.Op,G=this.QM.Uj);l64=9;break;case 2:var a_J="Net";a_J+="work ";a_J+="has ";a_J+="failed";a_J+=" ";var U6R=" m";U6R+="s";U6R+=" ";U6R+="ago";var Y87=" last succes";Y87+="s";Y87+=" w";Y87+="as ";var n12="te";n12+="m";n12+="po";n12+="raril";n12+="y";var g$6="p";g$6+="e";g$6+="rmanent";g$6+="ly";(A=this,B=g.platform.time.ya() - this.GT,C=y,D=this.config);p$i87.s$f(1);f.warn(p$i87.g7m(y?g$6:n12,B,Y87,U6R,a_J));l64=5;break;case 9:var R4u="tem";R4u+="porar";R4u+="yNe";R4u+="tw";R4u+="orkError";var B7t="te";B7t+="mporaryN";B7t+="e";B7t+="tworkErro";B7t+="r";y || this.events.emit(B7t,{type:R4u,errorCode:E,httpCode:F,nativeCode:G});C?(this.rV && (clearTimeout(this.rV),this.rV=void 0),this.Kab(),this.QN.reset(),this.TGa({ebc:y,Zic:E,ajc:F,bjc:G})):this.rV || (this.rV=setTimeout(function(){var H8X;H8X=2;for(;H8X !== 5;){switch(H8X){case 2:A.rV=void 0;A.Zka();H8X=5;break;}}},D.KKa));l64=7;break;}}};z.prototype.Zka=function(){var u7D,y;u7D=2;for(;u7D !== 5;){switch(u7D){case 2:y=this;this.Bab.gca || this.Bab.hAb(function(){var K93;K93=2;for(;K93 !== 1;){switch(K93){case 2:y.rV || (y.Ji.Zka(),y.bRa={},y.LG());K93=1;break;}}});u7D=5;break;}}};z.prototype.Nma=function(y){var P7O,A;P7O=2;for(;P7O !== 7;){switch(P7O){case 2:A=this.config;this.GT=Math.max(y.Ii || g.platform.time.ya(),this.GT);this.Kab();this.BDa=!1;P7O=3;break;case 3:var p6f="updatingLa";p6f+="stSucce";p6f+="ssEvent";var b6J="updatingLa";b6J+="stS";b6J+="ucc";b6J+="e";b6J+="ssEvent";this.oda=0;A.RN && this.QN.Nma(y);this.events.emit(b6J,{type:p6f});P7O=7;break;}}};R01=7;break;case 7:z.prototype.Li=function(){var h1u,y,A,B;h1u=2;for(;h1u !== 3;){switch(h1u){case 2:var k4d="m";k4d+="s";var g95="Set";g95+="ting underflow timeout";g95+=" in ";(y=this,A=this.config,B=A.aia);this.GT=Math.max(g.platform.time.ya(),this.GT);this.b8 || A.Rgc || (f.info(g95 + B + k4d),this.b8=setTimeout(function(){var P8T;P8T=2;for(;P8T !== 4;){switch(P8T){case 2:var w50="Forcing permanent netw";w50+="ork failure ";w50+="after ";var Q2j="ms, since underflow w";Q2j+="ith ";Q2j+="no success";p$i87.U73(2);f.info(p$i87.g7m(Q2j,w50,B));y.b8=void 0;y.Ji.Tv(l.default.Sh.Py,!0);P8T=4;break;}}},B));this.config.EDa && (this.BDa=!0);h1u=3;break;}}};z.prototype.Kab=function(){var E6Z;E6Z=2;for(;E6Z !== 1;){switch(E6Z){case 2:var K33="Cleared u";K33+="nderflow ";K33+="timeout";this.b8 && (clearTimeout(this.b8),this.b8=void 0,f.info(K33));E6Z=1;break;}}};return z;break;}}})();b.FWa=r;},72681:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.DTa=void 0;c=a(5163);r=a(66164);n=a(90745);d=r.platform.Tk;a=(function(g){function e(f){var l;l=g.call(this) || this;l.QN=f;l.aba=f.groupId;l.mj=new n.mf();l.mj.on(l,d.Pk.cZ,l.Iv);l.mj.on(l,d.Pk.ZE,l.Kr);return l;}c.__extends(e,g);e.prototype.Uic=function(f,l,h){d.prototype.open.call(this,f,l,h);};e.prototype.Brc=function(f){this.aba=f;};Object.defineProperties(e.prototype,{groupId:{get:function(){return this.aba;},enumerable:!1,configurable:!0}});e.prototype.ze=function(){this.mj && this.mj.clear();d.prototype.ze.call(this);};e.prototype.Iv=function(f){this.QN.cmc(f.probed,f.affected);this.ze();};e.prototype.Kr=function(f){this.QN.$lc(f.probed,f.affected);this.ze();};return e;})(d);b.DTa=a;},86429:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.G2a=void 0;c=a(66164);n=a(52571);d=a(72681);new c.platform.Console("ASEJS_PROBE_MANAGER","asejs");r=(function(){function g(e,f,l){this.Ji=e;this.LG=f;this.config=l;this.zl=new Set();this.tx={};this.XH={};this.wO=!0;this.groupId=1;}g.prototype.bmc=function(e,f){var l,h,k,m,p,v,q,u,t,w;l=this;h=this.config;k=e.vd;m=e.stream;p=e.pc.location;(0,n.assert)(m,"Failing url should have an associated stream");(0,n.assert)(p,"Failing url should have an associated location");v=[];q=m.nj[0];u=!1;t=this.tx[k];w=c.platform.time.ya();if(!t)t=this.tsc(k,w,f,e);else if(t.cd >= w - h.uma)return;t.YD || (q && p.id === q.id && (e.isPrimary=!0),t.cd=w,t.YD=!1,t.error=f,++t.count,m && m.urls && 0 !== m.urls.length && (m.urls.forEach(function(x){var z,y,A,B,C;A=x.pc.id;B=A + "-" + k;C=l.XH[B];if(void 0 === C || void 0 === C.P5)(C && C.Ko && clearTimeout(C.Ko),x=null === (y=null === (z=e.stream) || void 0 === z?void 0:z.nca) || void 0 === y?void 0:y.vhb(e.L,x.url),(0,n.assert)(x,("Unexpected probeUrl: ").concat(x)),z=l.Vbb(x,e,A),l.XH[B]={ta:!1,count:0,P5:z.Fi()},v.push(z.Fi()),u=!0);-1 === t.lPa.indexOf(A) && t.lPa.push(A);}),0 < v.length && (h={ts:c.platform.time.ya(),es:f.j9a,fc:f.Tg,fn:f.Ceb,nc:f.Uj,pb:v,gid:this.groupId},f.Op && (h.hc=f.Op),this.$M(h,"errpb")),u && this.groupId++));};g.prototype.Vbb=function(e,f,l){var h,k;h=new d.DTa(this);k="random=" + parseInt(("").concat(1E7 * Math.random()));h.Uic(e + (-1 !== e.indexOf("?")?"&":"?") + k,f,l);return h;};g.prototype.tsc=function(e,f,l,h){var k;k=this.tx[e];h=h.pc.location;k || (k=this.tx[e]={count:0,cd:f,YD:!1,error:l,lPa:[],bNa:{},location:h,L:l.L,qIc:l});return k;};g.prototype.getState=function(e){return this.tx[e];};g.prototype.VTb=function(e){this.tx[e]=void 0;};g.prototype.$M=function(e,f){var l;if(this.wO){l={type:"logdata",target:"endplay",fields:{}};l.fields[f]={type:"array",value:e,adjust:["ts"]};this.Ji.cLa(l);}};g.prototype.cmc=function(e,f){var l,h,k,m,p,v,q,u,t,w,x,z,y;l=this;m=this.Ji;p=this.config;v=f.vd;q=this.tx[v];if(q){u=e.url;t=this.XH[e.vd + "-" + v];if(t){w=q.error;t && t.Ko && clearTimeout(t.Ko);t.ta=!0;t.count=0;t.P5=void 0;q.bNa[e.vd]=!0;t=this.tx[e.vd];if((null === t || void 0 === t?0:t.YD) && p.V_){m.xtb(e.vd,t.error.Z7[1]);if(this.wO){x={ts:c.platform.time.ya(),id:e.requestId,servid:f.vd,gid:e.groupId?e.groupId:-1};this.$M(x,"errst");}this.tx[e.vd]=void 0;this.LG();}if(u !== f.url){z=this.XH[v + "-" + v];if(!z || !z.ta){v=null === t || void 0 === t?void 0:t.location;p=Math.min((null === (k=null === (h=null === v || void 0 === v?void 0:v.jb) || void 0 === h?void 0:h.Pp) || void 0 === k?void 0:k.xa) || Math.random() * p.bia,p.bia);y=setTimeout(function(){var A;l.zl.delete(y);if(!(!1 !== q.YD || z && z.ta) && (q.YD=!0,m.Tv(w.Z7[0],w.Z7[1],f.stream.nca.url,w),l.wO)){A={ts:c.platform.time.ya(),id:e.requestId,servid:f.vd,gid:e.groupId?e.groupId:-1};l.$M(A,"erep");}},p);this.zl.add(y);}}this.wO && (x={ts:c.platform.time.ya(),id:e.requestId,result:1,servid:e.vd,gid:e.groupId?e.groupId:-1},this.$M(x,"pbres"));}}};g.prototype.$lc=function(e,f){var l,h,k,m,p,v,q,u,t,w,x,z,y;l=this;m=this.Ji;p=this.config;v=f.vd;q=this.tx[v];u=e.vd;t=this.XH[u + "-" + v];if(t)if(q){w=0;t.ta=!1;t.P5=void 0;q.bNa[u]=!1;x=q.lPa;if(p.V_ && u === v && f.isPrimary){z=q.location;z=(null === (k=null === (h=null === z || void 0 === z?void 0:z.jb) || void 0 === h?void 0:h.Pp) || void 0 === k?void 0:k.xa) || 300 * Math.random();h=Math.min(z * Math.pow(2,t.count),12E4);h+=Math.random() * (1E4 > h?100:1E4);t.Ko=setTimeout(function(){var A;t.Ko=void 0;A=l.Vbb(e.url,f,u);A.Brc(e.groupId);t.P5=A.Fi();},h);}++t.count;if(u === v && (w=0,x.forEach(function(A){!1 === q.bNa[A] && w++;}),x.length === w && q.count >= p.gia)){y=q.error;q.YD=!0;p=f.stream;(0,n.assert)(p,"Probe failed url should have an associated stream");p.urls.forEach(function(A){m.Tv(y.Z7[0],y.Z7[1],A.url,y);l.wO && (A={ts:c.platform.time.ya(),id:-1,servid:A.pc.id},l.$M(A,"erep"));});}this.wO && (p={ts:c.platform.time.ya(),id:e.requestId,result:0,servid:e.vd,gid:e.groupId?e.groupId:-1},this.$M(p,"pbres"));}else t && (t.ta=!1,t.P5=void 0);};g.prototype.Nma=function(e){var f,l,h;if(e.url){l=this.Ji;h=l.Vqc(e.url);h || (h=null === (f=this.Ji.Ihb(e.stream)[0]) || void 0 === f?void 0:f.id);h && (e=this.tx[h]) && e.YD && this.config.V_ && (l.xtb(e.error.j9a,!1),this.wO && (l={ts:c.platform.time.ya(),id:-1,servid:h},this.$M(l,"errst")),this.VTb(h),(h=this.XH[h + "-" + h]) && h.Ko && clearTimeout(h.Ko));}};g.prototype.reset=function(){var e,f,l;e=this.XH;for(l in e)e.hasOwnProperty(l) && (f=e[l + "-" + l]) && f.Ko && clearTimeout(f.Ko);this.zl.forEach(function(h){return clearTimeout(h);});this.zl.clear();this.XH={};this.tx={};};return g;})();b.G2a=r;},52045:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.A7b=function(d,g){if((d=d.Qa.M.Xt) && 0 !== d.length)return (0,c.oc)(d,function(e){return e.Ba.H <= g && g < e.Ga.H;});};b.Nac=function(d,g){return g.index === d.ae.index?!0:(d=d.Qa.M.Xt) && 0 !== d.length?d.some(function(e){e=e.Ba;return g.Ba.dn(e) && e.lessThan(g.Ga);}):!1;};b.jKc=function(d,g){return g.index === d.Qd.index?!0:(d=d.Qa.M.Xt) && 0 !== d.length?d.some(function(e){e=e.Ga;return g.Ba.lessThan(e) && e.dn(g.Ga);}):!1;};b.M_b=function(d,g,e,f){var l,h,k,m,p,v,q,u,t,w;n && d.trace("editFragmentForRegion, region:",e,"fragment:",g,"params:",f);q=null === (l=g.sa) || void 0 === l?void 0:l.start;l=null === (h=g.sa) || void 0 === h?void 0:h.end;t=h=!1;if((null === f || void 0 === f?0:f.abc) || (null === f || void 0 === f || !f.Lac) && g.Ba.lessThan(e.Ba)){if(u=g.AEa(e.Ba.H)){w=(null !== (m=null === (k=g.sa) || void 0 === k?void 0:k.start) && void 0 !== m?m:0) + u.Zj;n && d.trace("editFragmentForRegion found sap at start:",u,"adjusted sampleIndex:",w);q=Math.max(null !== q && void 0 !== q?q:0,w);}u=e.Ba.H;h=!0;}if((null === f || void 0 === f || !f.Uac) && g.Ga.greaterThan(e.Ga)){if(u=g.AEa(e.Ga.H))(w=(null !== (v=null === (p=g.sa) || void 0 === p?void 0:p.start) && void 0 !== v?v:0) + u.Zj,n && d.trace("editFragmentForRegion found sap at end:",u,"adjusted sampleIndex:",w),l=Math.min(null !== l && void 0 !== l?l:Infinity,w),g.U4=g.index,n && d.trace("editFragmentForRegion editing end of region, reusing index:",g.index));u=e.Ga.H;t=!0;}if(void 0 !== q || void 0 !== l)(g.ji({start:q,end:l}),n && d.trace("getFragmentForRequest setting edit window:",{start:q,end:l}),void 0 !== u && (!g.fB || u > g.fB) && (g.JV(u),n && d.trace("getFragmentForRequest setting splice pts:",u)));g.Urc(e.region,h,t);};c=a(91176);n=!1;},47317:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.M8=void 0;c=a(5163);n=a(77399);r=(function(){function d(g,e){this.gm=g;this.filter=e;this.Ymb=Math.max(g.max_n || 10,0);this.reset();}d.prototype.reset=function(){this.c6=[];this.offset=0;this.kB=this.lE=null;this.filter.reset();this.O7=null;};d.prototype.add=function(g,e,f){var l;l=this.kB;null !== l && f > l && (this.offset+=Math.max(e - l,0),this.kB=null);for((0,n.Y$b)(this.c6,[e - this.offset,f - this.offset,g]);this.c6 && this.c6.length > this.Ymb;)(g=c.__read(this.c6.shift(),3),this.filter.add(g[2],g[0],g[1]));this.O7=null;};d.prototype.get=function(g,e){var f,k;if(!this.O7){this.O7=this.filter.ar();try{for(var l=c.__values(this.c6),h=l.next();!h.done;h=l.next()){k=c.__read(h.value,3);this.O7.add(k[2],k[0],k[1]);}}catch(p){var m;m={error:p};}finally{try{h && !h.done && (f=l.return) && f.call(l);}finally{if(m)throw m.error;}}}m=this.kB;return this.O7.get((null === m?g:m) - this.offset,e);};d.prototype.ar=function(){var g;g=new d(this.gm,this.filter.ar());g.kB=this.kB;g.offset=this.offset;return g;};d.prototype.start=function(g){var e;e=this.kB;null !== e && g > e && (this.offset+=g - e,this.kB=null);this.filter.start(g - this.offset);};d.prototype.stop=function(g){this.kB=null === this.kB?g:Math.min(this.kB,g);this.filter.stop(g - this.offset);};d.prototype.flush=function(){this.filter.flush();};d.prototype.toString=function(){return "AggregatingFilter(" + this.Ymb + ", " + this.filter.toString() + ")";};return d;})();b.M8=r;},43276:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.aJ=void 0;r=(function(){var X9_;X9_=2;for(;X9_ !== 9;){switch(X9_){case 3:return a;break;case 2:a.prototype.start=function(c){var R8y;R8y=2;for(;R8y !== 1;){switch(R8y){case 2:this.PR?c < this.PR?(this.UN+=this.PR - c,this.PR=c):this.bG && c > this.bG && (this.bG=this.PR=c):this.bG=this.PR=c;R8y=1;break;}}};a.prototype.stop=function(c){var w0n;w0n=2;for(;w0n !== 1;){switch(w0n){case 2:this.bG && c > this.bG && (this.UN+=c - this.bG,this.bG=c);w0n=1;break;}}};a.prototype.add=function(c,n,d){var x5R;x5R=2;for(;x5R !== 4;){switch(x5R){case 2:this.start(n);this.stop(d);this.la+=c;x5R=4;break;}}};a.prototype.get=function(){var E3N;E3N=2;for(;E3N !== 1;){switch(E3N){case 2:return {xa:this.UN?Math.floor(8 * this.la / this.UN):null,hDa:this.UN || 0};break;}}};X9_=3;break;}}function a(){var U7F;U7F=2;for(;U7F !== 4;){switch(U7F){case 2:var h14="1SI";h14+="Yb";h14+="Zr";h14+="NJCp9";this.UN=this.la=0;this.bG=this.PR=void 0;h14;U7F=4;break;}}}})();b.aJ=r;},78416:function(r,b,a){var n,d;function c(g){this.bb={z4:g.maxc || 25,BBa:g.c || .5,Cy:g.w || 15E3,$h:g.b || 5E3};n.call(this,this.bb.Cy,this.bb.$h);this.r_();}n=a(72697).DX;d=a(15913).TDigest;c.prototype=Object.create(n.prototype);c.prototype.shift=function(){var g;g=this.iq(0);n.prototype.shift.call(this);null !== g && (this.Nf.push(g,1),this.xF=!0);return g;};c.prototype.flush=function(){var g;g=this.get();this.Nf.push(g,1);this.xF=!0;n.prototype.reset.call(this);return g;};c.prototype.get=function(){return this.Whb();};c.prototype.YS=function(){var g;g=this.Whb();return {min:g.min,p10:g.SLa,p25:g.Jt,p50:g.gq,p75:g.Kt,p90:g.TLa,max:g.max,centroidSize:g.aTb,sampleSize:g.sampleSize,centroids:g.cl};};c.prototype.Whb=function(){var g;if(0 === this.Nf.size())return null;g=this.Nf.Wj([0,.1,.25,.5,.75,.9,1]);if(g[2] === g[4])return null;if(this.xF || !this.pd)(this.xF=!1,this.pd={min:g[0],SLa:g[1],Jt:g[2],gq:g[3],Kt:g[4],TLa:g[5],max:g[6],Wj:this.Nf.Wj.bind(this.Nf),aTb:this.Nf.size(),sampleSize:this.Nf.n,cl:this.J4b(),YS:this.YS.bind(this)});return this.pd;};c.prototype.J4b=function(){var g;if(0 === this.Nf.size())return null;if(!this.xF && this.pd)return this.pd.centroids;g=this.Nf.Wj([.25,.75]);if(g[0] === g[1])return null;this.Nf.size() > this.bb.z4 && this.Nf.Lm();g=this.Nf.uj(!1).map(function(e){return {mean:e.Ig,n:e.n};});return JSON.stringify(g);};c.prototype.Qhb=function(){return this.Nf.summary();};c.prototype.size=function(){return this.Nf.size();};c.prototype.toString=function(){return "btdtput(" + this.rNb + "," + this.jKb + "," + this.qNb + "): " + this.Nf.summary();};c.prototype.r_=function(){this.Nf=new d(this.bb.BBa,this.bb.z4);};r.exports={NBb:c};},20596:function(r,b,a){var n,d;function c(g,e,f,l){n.call(this,f,l);this.fz=new d(g);this.LLb=e;}n=a(72697).DX;d=a(16514);c.prototype=Object.create(n.prototype);c.prototype.shift=function(){var g;g=this.iq(0);n.prototype.shift.call(this);null !== g && this.fz.Vba(g);return g;};c.prototype.flush=function(){var g;g=this.get();this.fz.Vba(g);n.prototype.reset.call(this);return g;};c.prototype.get=function(){var g;g=this.H2();return {sampleSize:this.O2(),uMa:g,TKa:g.gq?(g.Kt - g.Jt) / g.gq:void 0};};c.prototype.O2=function(){return this.fz.O2();};c.prototype.H2=function(){return this.fz.O2() < this.LLb?{Jt:void 0,gq:void 0,Kt:void 0,sampleSize:void 0,Wj:void 0}:{Jt:this.fz.w0(25),gq:this.fz.w0(50),Kt:this.fz.w0(75),sampleSize:this.fz.O2(),Wj:this.fz.w0.bind(this.fz)};};c.prototype.toString=function(){return "biqr(" + this.rNb + "," + this.jKb + "," + this.qNb + ")";};r.exports={MBb:c};},56089:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.SUa=void 0;c=a(5163);n=a(43276);r=(function(){function d(){var V7m;V7m=2;for(;V7m !== 5;){switch(V7m){case 3:this.fV={};"";V7m=1;break;case 2:var d76="1S";d76+="I";d76+="Y";d76+="bZ";d76+="rNJCp9";this.fV={};d76;V7m=5;break;}}}var M1R;M1R=2;for(;M1R !== 8;){switch(M1R){case 2:d.prototype.add=function(g,e,f,l,h){var y34,k;y34=2;for(;y34 !== 9;){switch(y34){case 2:k=this.fV;h=h || d.Ria;void 0 === k[l] && (k[l]={});y34=4;break;case 4:void 0 === k[l][h] && (k[l][h]=new n.aJ());k[l][h].add(g,e,f);y34=9;break;}}};d.prototype.start=function(g,e,f){var F0S,l;F0S=2;for(;F0S !== 9;){switch(F0S){case 3:l[e][f].start(g);F0S=9;break;case 2:l=this.fV;f=f || d.Ria;void 0 === l[e] && (l[e]={});void 0 === l[e][f] && (l[e][f]=new n.aJ());F0S=3;break;}}};d.prototype.stop=function(g,e,f){var Z5t,l;Z5t=2;for(;Z5t !== 4;){switch(Z5t){case 2:l=this.fV;f=f || d.Ria;void 0 !== l[e] && void 0 !== l[e][f] && l[e][f].stop(g);Z5t=4;break;}}};M1R=4;break;case 4:var r0E="no-pbc";r0E+="id";r0E+="-";r0E+="ke";r0E+="y";d.prototype.get=function(){var J1Y,e,f,l,h,k,O7M,m,p,w8z,U4X,A$3;J1Y=2;function g(q){var K_w;K_w=2;for(;K_w !== 1;){switch(K_w){case 2:Object.keys(k.fV[q]).forEach(function(u){var E3T,t;E3T=2;for(;E3T !== 5;){switch(E3T){case 2:t=f.fV[q][u].get();t && h.push({cdnid:q,pbcid:u === d.Ria?null:u,avtp:t.xa,tm:t.hDa});E3T=5;break;}}});K_w=1;break;}}}for(;J1Y !== 4;){switch(J1Y){case 2:(f=this,l=Object.keys(this.fV).map(function(q){var L0P;L0P=2;for(;L0P !== 1;){switch(L0P){case 2:return parseInt(q);break;case 4:return parseInt(q);break;}}}),h=[],k=this);try{O7M=2;for(;O7M !== 3;){switch(O7M){case 6:g(p.value);O7M=6;break;case 5:g(p.value);O7M=4;break;case 7:O7M=-p.done?7:9;break;case 1:O7M=!p.done?5:3;break;case 2:(m=c.__values(l),p=m.next());O7M=1;break;case 4:p=m.next();O7M=1;break;}}}catch(q){var v;v={error:q};}finally{w8z=2;for(;w8z !== 1;){switch(w8z){case 2:try{U4X=2;for(;U4X !== 1;){switch(U4X){case 2:p && !p.done && (e=m.return) && e.call(m);U4X=1;break;}}}finally{A$3=2;for(;A$3 !== 5;){switch(A$3){case 2:A$3=v?1:5;break;case 9:throw v.error;A$3=9;break;case 3:A$3=v?5:6;break;case 1:throw v.error;A$3=5;break;}}}w8z=1;break;}}}return h;break;}}};d.Ria=r0E;M1R=9;break;case 9:return d;break;}}})();b.SUa=r;},71409:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.fVa=void 0;c=a(5163);r=a(66164);n=a(15913);new r.platform.Console("ASEJS_TDIGEST_FILTER","media|asejs");a=(function(){function d(g){this.config=g;this.DBa=g.c;this.XJa=g.nLc;this.m4=g.m4;this.e3=g.e3;this.Jga=g.Jga;this.Fsc=g.xHc;this.Gx=g.Gx;this.Xmb=g.Xmb;this.reset();}d.prototype.reset=function(){this.ck=new n.TDigest(this.DBa,this.XJa);this.time=null;};d.prototype.add=function(g,e,f){var l,h,k,v;f=Math.max(f - e,1);g=8 * g / f;if(this.Fsc){null === this.time && (this.time=e);h=Math.pow(2,(e - this.time) / this.Gx);k=f * h;if(h >= this.Xmb){k=new n.TDigest(this.DBa,this.XJa);try{for(var m=c.__values(this.ck.uj()),p=m.next();!p.done;p=m.next()){v=p.value;k.push(v.Ig,v.n / h);}}catch(u){var q;q={error:u};}finally{try{p && !p.done && (l=m.return) && l.call(m);}finally{if(q)throw q.error;}}this.ck=k;k=f;this.time=e;}this.ck.push(g,k);}else this.ck.push(g,f);};d.prototype.get=function(){var g;g=this.ck.Wj([this.m4,this.e3,this.Jga]);return {low:g[0] || 0,high:g[1] || 0,initial:g[2] || 0};};d.prototype.ar=function(){var g,e,f,k;e=new d(this.config);f=new n.TDigest(this.DBa,this.XJa);try{for(var l=c.__values(this.ck.uj()),h=l.next();!h.done;h=l.next()){k=h.value;f.push(k.Ig,k.n);}}catch(p){var m;m={error:p};}finally{try{h && !h.done && (g=l.return) && g.call(l);}finally{if(m)throw m.error;}}e.ck=f;return e;};d.prototype.flush=function(){};d.prototype.start=function(){};d.prototype.stop=function(){};return d;})();b.fVa=a;},8239:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.LVa=b.jDb=b.KVa=b.RDb=b.kDb=void 0;c=a(5163);n=a(51117);a=(function(){return function(){};})();b.kDb=a;d=(function(){function g(e,f,l,h,k){this.alpha=e;this.xa=f;this.weight=h;this.Kva=l * this.weight;this.P7=k;}g.prototype.ar=function(){return new g(this.alpha,this.xa,this.af,this.weight,this.P7);};Object.defineProperties(g.prototype,{af:{get:function(){return this.weight?this.Kva / this.weight:0;},enumerable:!1,configurable:!0}});g.prototype.update=function(e,f,l){var h,k,m,p;h=this.alpha;k=this.weight;m=this.P7;p=h * (e - m);5 < p && (this.weight/=Math.exp(p),this.P7=m=e);e=Math.exp(h * (f - m)) - Math.exp(h * (e - m));f=this.weight+=e;h=this.xa;this.xa=m=h + e * (l - h) / f;this.Kva=k?this.Kva * (f - e) / k + e * (l - m) * (l - h):0;};return g;})();b.RDb=d;r=(function(){var d$n;d$n=2;function g(e){var Q8G,f,l;Q8G=2;for(;Q8G !== 7;){switch(Q8G){case 3:this.Hnb=f;this.Qfc=l;this.reset();Q8G=7;break;case 2:var c06="1";c06+="SIYbZ";c06+="rNJC";c06+="p";c06+="9";this.gm=e;c06;(f=e.min_b,l=e.min_iv);this.Gx=e.hl;Q8G=3;break;}}}for(;d$n !== 14;){switch(d$n){case 2:g.prototype.ar=function(e){var Z3F;Z3F=2;for(;Z3F !== 8;){switch(Z3F){case 9:return e;break;case 2:e || (e=new g(this.gm));e.ku=this.ku;e.lE=this.lE;e.DO=this.DO.ar();e.EO=this.EO.ar();Z3F=9;break;}}};g.prototype.reset=function(){var D1B,e;D1B=2;for(;D1B !== 3;){switch(D1B){case 2:e=-Math.log(.5) / this.Gx;this.DO=new d(e,0,0,0,0);this.EO=new d(e,0,0,0,0);this.ku=this.lE=null;D1B=3;break;}}};g.prototype.start=function(e){var M_f;M_f=2;for(;M_f !== 1;){switch(M_f){case 2:null === this.ku && (this.ku=e);M_f=1;break;}}};g.prototype.add=function(e,f,l){var j3K=p$i87;var U3G,h;U3G=2;for(;U3G !== 7;){switch(U3G){case 8:j3K.U73(3);this.EO.update(f,l,j3K.a0K(e,8,h));U3G=7;break;case 3:j3K.U73(4);h=Math.max(j3K.a0K(f,l),1);j3K.U73(5);this.DO.update(f,l,j3K.a0K(e,h));U3G=8;break;case 2:h=this.ku;this.ku=null === h?f:Math.min(h,f);h=this.lE;this.lE=null === h?l:Math.max(h,l);U3G=3;break;}}};g.prototype.get=function(e,f){var a51=p$i87;var f2i,u,t,l,h,k,m,p,v,q;f2i=2;for(;f2i !== 16;){switch(f2i){case 5:f2i=(p=new d(p.alpha,p.xa,p.af,p.weight,p.P7),v=new d(v.alpha,v.xa,v.af,v.weight,v.P7),0 < p.weight && 0 !== f)?4:20;break;case 1:f2i=0 < k?5:17;break;case 17:(p=this.DO,v=this.EO);f2i=20;break;case 20:e=p.weight;f=v.weight;return {xa:e?p.xa:null,af:e?p.af:null,jR:f?v.xa:null,EW:f?v.af:null};break;case 10:k=1E-11 < u?Math.max(t / u,k):k + 2 * q / m;f2i=14;break;case 13:a51.s$f(4);v.update(a51.a0K(l,h),a51.g7m(l,e),0);f2i=20;break;case 12:(u=new n.X9(m,q).USb(k),t=m - u[1]);a51.s$f(6);var d83=a51.g7m(9,1,8);u=d83 - u[0];f2i=10;break;case 2:(l=this.ku || 0,h=this.lE || 0,k=e - h,m=this.Qfc,p=this.DO,v=this.EO);f2i=1;break;case 6:k=Math.max(k,m);f2i=14;break;case 14:a51.U73(4);p.update(a51.g7m(l,h),a51.a0K(l,e,a51.s$f(4)),a51.g7m(f,k,a51.U73(5)));f2i=13;break;case 8:a51.U73(4);var o2t=a51.g7m(20,22);q=Math.pow(f,o2t) * p.af;f2i=7;break;case 4:void 0 === f && (f=this.Hnb);k >= m && (f=Math.min(f,this.Hnb));m=f * p.xa;f2i=8;break;case 7:f2i=0 === q?6:12;break;}}};d$n=9;break;case 9:g.prototype.toString=function(){var z9I;z9I=2;for(;z9I !== 1;){switch(z9I){case 4:return (")").concat(this.Gx,")");break;case 2:var C4y="Deli";C4y+="veryDi";C4y+="st(";return C4y.concat(this.Gx,")");break;}}};g.prototype.stop=function(){};g.prototype.flush=function(){};d$n=6;break;case 6:return g;break;}}})();b.KVa=r;a=(function(g){function e(){return null !== g && g.apply(this,arguments) || this;}c.__extends(e,g);return e;})(a);b.jDb=a;r=(function(g){function e(f){var l;l=g.call(this,f) || this;l.gm=f;return l;}c.__extends(e,g);e.prototype.get=function(){var f,l,h;if(0 === this.DO.weight || 0 === this.EO.weight)return {low:null,high:null,initial:null};switch(this.gm.cU){case "deliverytime":f=this.DO;f=new n.X9(f.xa,f.af);(l=this.gm.accuracy,h=this.gm.Kec);return {low:8 / f.EA(this.gm.e3,l,h),high:8 / f.EA(this.gm.m4,l,h),initial:8 / f.EA(this.gm.Jga,l,h)};default:return (f=this.EO,f=new n.X9(f.xa,f.af),l=this.gm.accuracy,h=this.gm.Kec,{low:f.EA(this.gm.m4,l,h),high:f.EA(this.gm.e3,l,h),initial:f.EA(this.gm.Jga,l,h)});}};e.prototype.ar=function(){var f;f=new e(this.gm);g.prototype.ar.call(this,f);return f;};e.prototype.toString=function(){return ("DeliveryDistCI([").concat((this.gm.m4,this.gm.e3),"])");};return e;})(r);b.LVa=r;},28855:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.tpa=b.sCb=b.TVa=void 0;c=a(5163).__importDefault(a(17267));r=(function(){function d(g,e){void 0 === e && (e=0);this.initial=e;this.reset();this.Qrc(g);}d.prototype.Qrc=function(g){this.alpha=Math.pow(.5,1 / g);this.Gx=g;};d.prototype.reset=function(g){g && void 0 !== g.xa && c.default.dc(g.xa)?(this.count=this.initial,this.xa=g.xa,g.af && c.default.dc(g.af)?this.OF=g.af + g.xa * g.xa:this.OF=g.xa * g.xa):this.OF=this.xa=this.count=0;};d.prototype.add=function(g){var e;if(c.default.dc(g)){this.count++;e=this.alpha;this.xa=e * this.xa + (1 - e) * g;this.OF=e * this.OF + (1 - e) * g * g;}};d.prototype.nGa=function(){var g,e;if(0 === this.count)return {xa:0,af:0};g=1 - Math.pow(this.alpha,this.count);e=this.xa / g;return {xa:e,af:Math.max(this.OF / g - e * e,0)};};d.prototype.get=function(){var g;g=this.nGa();return {xa:Math.floor(g.xa),af:Math.floor(g.af)};};d.prototype.getState=function(){return 0 === this.count?null:{a:Number(this.xa.toPrecision(6)),s:Number(this.OF.toPrecision(6)),n:this.count};};d.prototype.Lg=function(g){if(c.default.Dc(g) || !c.default.has(g,"a") || !c.default.has(g,"s") || !c.default.isFinite(g.a) || !c.default.isFinite(g.s))return (this.OF=this.xa=this.count=0,!1);this.xa=g.a;this.OF=g.s;c.default.has(g,"n") && c.default.dc(g.n)?this.count=g.n:this.count=16 * this.Gx;return !0;};return d;})();b.TVa=r;n=(function(){function d(g){this.setInterval(g);this.reset();}d.prototype.setInterval=function(g){this.Gx=g;this.alpha=-Math.log(.5) / g;};d.prototype.reset=function(g){this.kA=this.startTime=null;this.xa=g && c.default.isFinite(g.xa)?g.xa:0;};d.prototype.start=function(g){c.default.Dc(this.startTime) && (this.startTime=g);c.default.Dc(this.kA) && (this.kA=g);};d.prototype.add=function(g,e,f){var l,h,k;c.default.Dc(this.startTime) && (this.startTime=e);c.default.Dc(this.kA) && (this.kA=e);this.startTime=Math.min(this.startTime,e);e=Math.max(f - e,1);l=this.alpha;h=Math.max(f,this.kA);k=h - this.kA;f=h - f;this.xa=this.xa * (0 < k?Math.exp(-l * k):1) + 8 * g / e * (1 - Math.exp(-l * e)) * (0 < f?Math.exp(-l * f):1);this.kA=h;};d.prototype.get=function(g){var e,f;e=c.default.Dc(this.kA)?0:this.kA;f=c.default.Dc(this.startTime)?0:this.startTime;g=Math.max(g,e);e=this.xa * Math.exp(-this.alpha * (g - e));g=1 - Math.exp(-this.alpha * (g - f));0 < g && (e/=g);return {xa:Math.floor(e),af:0};};d.prototype.toString=function(){return "ewma(" + this.Gx + ")";};Object.defineProperties(d.prototype,{time:{get:function(){return this.kA;},enumerable:!1,configurable:!0}});return d;})();b.sCb=n;r=(function(){function d(g){this.HL=new n(g);this.offset=0;this.uq=null;}d.prototype.setInterval=function(g){this.HL.setInterval(g);};d.prototype.reset=function(g){this.HL.reset(g);this.offset=0;this.uq=null;};d.prototype.start=function(g){!c.default.Dc(this.uq) && g > this.uq && (this.offset+=g - this.uq,this.uq=null);this.HL.start(g - this.offset);};d.prototype.add=function(g,e,f){!c.default.Dc(this.uq) && f > this.uq && (this.offset+=e > this.uq?e - this.uq:0,this.uq=null);this.HL.add(g,e - this.offset,f - this.offset);};d.prototype.stop=function(g){var e;e=this.HL.time;this.uq=Math.max(c.default.Dc(e)?0:e + this.offset,c.default.Dc(this.uq)?g:Math.min(this.uq,g));};d.prototype.get=function(g){return this.HL.get((this.uq?this.uq:g) - this.offset);};d.prototype.toString=function(){return this.HL.toString();};return d;})();b.tpa=r;},97315:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t,w;function c(x,z){switch(x.type){case "slidingwindow":return new u.MJ(z,new l.SVa(x.mw));case "discontiguous-ewma":return new u.MJ(z,new f.tpa(x.mw));case "initial-discontiguous-ewma":return new v.a2a(new f.tpa(x.mw),x.playerStates);case "wssl":return new l.Q5a(x.mw,x.max_n);case "iqr":return new k.MBb(x.mx,x.mn,x.bw,x.iv);case "tdigest":return new m.NBb(x);case "ci":return new u.MJ(z,new q.M8(x,new t.fVa(x)));case "discrete-ewma":return new f.TVa(x.hl);case "tdigest-history":return new d.C4a(x);case "iqr-history":return new g.default();case "avtp":return new w.aJ();case "entropy":return new p.g0a(x);case "deliverytime":return new u.MJ(z,new q.M8(x,new h.KVa(x)));case "deliverytime-ci":return new u.MJ(z,new q.M8(x,new h.LVa(x)));}}Object.defineProperties(b,{__esModule:{value:!0}});b.dqa=void 0;n=a(5163);d=a(88318);g=n.__importDefault(a(21506));e=a(54520);f=a(28855);l=a(34391);h=a(8239);k=a(20596);m=a(78416);p=a(72869);v=a(82583);q=a(47317);u=a(66917);t=a(71409);w=a(43276);r=(function(){function x(z){this.config=z;this.JKb=z.p6a;}x.prototype.create=function(z,y){y=y[z];y=n.__assign(n.__assign({},this.JKb[z]),y);z=y.type;if(!z)return {type:"none"};y=c(y,this.config);return (0,e.iLa)(y,{type:z});};return x;})();b.dqa=r;},96965:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.f0a=void 0;r=a(66164);c=a(65161);new r.platform.Console("ASEJS_NETWORK_CONFIDENCE","media|asejs");a=(function(){function n(d,g){this.config=d;this.oja=g;this.reset();}n.prototype.reset=function(){this.confidence=c.KJ.HAVE_NOTHING;this.startTime=this.la=0;};n.prototype.ar=function(){var d;d=new n(this.config,this.oja);d.confidence=this.confidence;d.la=this.la;d.startTime=this.startTime;return d;};n.prototype.add=function(d,g,e){0 === this.startTime && (this.startTime=g,this.la=0);this.la+=d;d=e - this.startTime;this.confidence=Math.max(this.confidence,c.KJ.OP);this.confidence < c.KJ.NP && (d > this.config.NLb || this.la > this.config.MLb) && (this.confidence=c.KJ.NP);this.confidence < c.KJ.OX && (d > this.config.zMb || this.la > this.config.yMb) && (this.confidence=c.KJ.OX,this.oja());};n.prototype.get=function(){return this.confidence;};n.prototype.start=function(){};n.prototype.stop=function(){};n.prototype.flush=function(){};return n;})();b.f0a=a;},72869:function(r,b,a){var n,d,g,e,f,l;function c(h){h=h.length + 1;for(var k=Array(h),m=0;m < h;m++){k[m]=Array(h);for(var p=0;p < h;p++)k[m][p]=0;}return k;}Object.defineProperties(b,{__esModule:{value:!0}});b.g0a=void 0;n=a(5163);r=a(66164);d=a(72697);g=a(94451);e=a(51044);f=a(48170);l=new r.platform.Console("ASEJS_NETWORK_ENTROPY","media|asejs");a=(function(h){function k(m){var p;p=h.call(this,m.sw,m.mw) || this;p.Cy=m.sw;p.$h=m.mw;p.o0={uhd:(0,e.writable)(m.uhdl),hd:(0,e.writable)(m.hdl)};p.window=Math.max(Math.ceil(1 * p.Cy / p.$h),1);p.Sfc=m.mins || 1;p.reset();return p;}n.__extends(k,h);k.prototype.flush=function(){var m;m=this;this.ag.map(function(p,v){m.Z8a(p,m.eFa(v));});};k.prototype.bSb=function(){var m,p,v,q,u,t,w,A;m=this.o0;for(p in m){f.G && l.trace(("Calculating Network Entropy based on ").concat(p," bitrate ladder (").concat(JSON.stringify(m[p]),")"));v=m[p];q=this.Yxb[p];u=this.Wxb[p];if(q.first){t=q.first;w=q.VH;void 0 !== w && (u[t][w]+=1);q.first=void 0;}f.G && l.trace(("Transition Matrix: ").concat(this.H_b(u)));q=[];t=v=v.length + 1;for(var x=w=0;x < t;x++){for(var z=0,y=0;y < v;y++)z+=u[y][x];w+=z;q.push(z);}f.G && l.trace(("steadyStateVector: ").concat(JSON.stringify(q)));z=-1;if(w > this.Sfc){for(x=z=0;x < t;x++)if(0 < q[x])for(y=0;y < v;y++){A=u[y][x];0 < A && (z-=A * Math.log(1 * A / q[x]));}z/=w * Math.log(2);}f.G && l.trace(("entropy: ").concat(z));this.beb[p]=z;}return this.beb;};k.prototype.Z8a=function(m,p){var u,t,w;for(var v=this.window,q=this.o0;this.iea.length >= v;)this.iea.shift();for(;this.jea.length >= v;)this.jea.shift();this.iea.push(m);this.jea.push(p);m=(0,g.MQa)(this.iea);p=(0,g.MQa)(this.jea);if(0 < p)for(p in (m=8 * m / p,f.G && l.trace(("Adding sliding window throughput into Transition Matrix: ").concat(m)),p=void 0,q)){v=this.Yxb[p];u=this.Wxb[p];t=this.Qmc(m,q[p]);w=v.VH;void 0 !== w?u[t][w]+=1:v.first=t;v.VH=t;}};k.prototype.Qmc=function(m,p){for(var v=0;v < p.length && m > p[v];)v+=1;return v;};k.prototype.shift=function(){this.Z8a(this.ag[0],this.eFa(0));h.prototype.shift.call(this);};k.prototype.reset=function(){this.iea=[];this.jea=[];void 0 !== this.o0 && (this.beb={hd:0,uhd:0},this.Yxb={hd:{first:void 0,VH:void 0},uhd:{first:void 0,VH:void 0}},this.Wxb={hd:c(this.o0.hd),uhd:c(this.o0.uhd)},h.prototype.reset.call(this));};k.prototype.H_b=function(m){for(var p="",v=m.length,q=0;q < v;q++){for(var u=0;u < v;u++)p+=" " + m[q][u];p+="\n";}return p;};return k;})(d.DX);b.g0a=a;},66917:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.MJ=void 0;new (a(66164).platform.Console)("ASEJS_PACING_FILTER","media|asejs");r=(function(){function c(n,d){this.config=n;this.filter=d;}c.prototype.ar=function(){return new c(this.config,this.filter);};c.prototype.Jsc=function(n,d,g,e){var f,l,h;h=e.dO;if(!h || !h.eha())return !0;switch(this.config.l$b){case "requested":return !1;case "requested-low":return (h=h.FOa(this.config.uDa),h.Mnb() > ((null === (f=e.Xv) || void 0 === f?void 0:f.SH) || 0));case "inferred":h=h.FOa(this.config.uDa);n=h.TJa(n,d,g,this.config.t5);if(!n)break;return h.Mnb() > ((null === (l=e.Xv) || void 0 === l?void 0:l.SH) || 0);case "inferred-strict":if((h=h.FOa(this.config.uDa),h.TJa(n,d,g,this.config.t5)))return !1;}return !0;};c.prototype.add=function(n,d,g,e){this.Jsc(n,d,g,e) && this.filter.add(n,d,g,e);};c.prototype.get=function(n){if(this.filter.get)return this.filter.get(n);};c.prototype.start=function(n){this.filter.start && this.filter.start(n);};c.prototype.stop=function(n){this.filter.stop && this.filter.stop(n);};c.prototype.flush=function(){this.filter.flush && this.filter.flush();};c.prototype.reset=function(n){this.filter.reset && this.filter.reset(n);};return c;})();b.MJ=r;},82583:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.a2a=void 0;r=(function(){function a(c,n){this.Fj=0;this.filter=c;this.kka=n;this.Fj=0;}a.prototype.w4=function(c){return 0 < this.kka.filter(function(n){var d;return n === (null === (d=c.Xv) || void 0 === d?void 0:d.Uf);}).length;};a.prototype.add=function(c,n,d,g){this.w4(g) && this.filter.add(c,n,d,g);};a.prototype.start=function(c,n){this.filter.start && this.w4(n) && this.filter.start(c);};a.prototype.stop=function(c,n){this.filter.stop && this.w4(n) && this.filter.stop(c);};a.prototype.get=function(c){if(this.filter.get)return this.filter.get(c);};a.prototype.flush=function(){this.filter.flush && this.filter.flush();};a.prototype.reset=function(){this.Fj=0;this.filter.reset && this.filter.reset();};a.prototype.TA=function(c,n){this.w4(n) && (this.Fj+=1,this.filter.TA && this.filter.TA(c,n));};a.prototype.WA=function(c,n,d){this.w4(d) && (this.Fj=Math.max(this.Fj - 1,0),0 === this.Fj && this.stop(c,d),this.filter.WA && this.filter.WA(c,d));};return a;})();b.a2a=r;},34391:function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Q5a=b.SVa=b.rCb=void 0;a=(function(){function c(n){this.Cy=n;this.reset();}c.prototype.A7a=function(n,d){this.$Ga() && (this.hu+=n,this.ug+=n,this.la+=d,this.Bh.push({la:d,ug:n}));};c.prototype.k_=function(){var n;for(;this.ug > this.Cy;){n=this.Bh.shift();this.la-=n.la;this.ug-=n.ug;}};c.prototype.$Ga=function(){return !isNaN(this.hu);};c.prototype.reset=function(){this.Bh=[];this.hu=NaN;this.ug=this.la=0;};c.prototype.setInterval=function(n){this.Cy=n;this.k_();};c.prototype.start=function(n){this.$Ga() || (this.hu=n);};c.prototype.add=function(n,d,g){this.$Ga() || (this.hu=d);d > this.hu && this.A7a(d - this.hu,0);this.A7a(g > this.hu?g - this.hu:0,n);this.k_();};c.prototype.get=function(){return {xa:Math.floor(8 * this.la / this.ug),af:0};};return c;})();b.rCb=a;r=(function(){function c(n){this.GH=0;this.sy=NaN;this.window=new a(n);}c.prototype.reset=function(){this.window.reset();this.GH=0;this.sy=NaN;};c.prototype.add=function(n,d,g){this.wxa() && g > this.sy && (d > this.sy && (this.GH+=d - this.sy),this.sy=NaN);this.window.add(n,d - this.GH,g - this.GH);};c.prototype.start=function(n){this.wxa() && n > this.sy && (this.GH+=n - this.sy,this.sy=NaN);this.window.start(n - this.GH);};c.prototype.stop=function(n){this.sy=this.wxa()?Math.min(n,this.sy):n;};c.prototype.get=function(){return this.window.get();};c.prototype.setInterval=function(n){this.window.setInterval(n);};c.prototype.wxa=function(){return !isNaN(this.sy);};return c;})();b.SVa=r;r=(function(){function c(n,d){this.Cy=n;this.jnb=d;this.reset();}c.prototype.reset=function(){this.Bh=[];this.la=this.ug=0;};c.prototype.add=function(n,d,g,e){e && (d=g - d,this.ug+=d,this.la+=n,this.Bh.push({ug:d,la:n}),this.k_());};c.prototype.start=function(){};c.prototype.stop=function(){};c.prototype.get=function(){return {xa:Math.floor(8 * this.la / this.ug),af:0};};c.prototype.setInterval=function(n,d){this.Cy=n;this.jnb=d;this.k_();};c.prototype.k_=function(){var n;for(;this.ug > this.Cy || this.Bh.length > this.jnb;){n=this.Bh.shift();this.la-=n.la;this.ug-=n.ug;}};return c;})();b.Q5a=r;},8934:function(r,b,a){var c,n,d,g,e,f;Object.defineProperties(b,{__esModule:{value:!0}});b.p0a=b.YDb=void 0;c=a(5163);n=a(66164);d=a(6198);g=a(48170);e=a(52045);f=a(69575);r=(function(){return function(l,h,k,m){this.config=h;this.Mt=m;m="[" + l + "]";this.console=(0,f.xg)(n.platform,k,m);this.Knb=l === d.u.V?h.AKa:h.wKa;k=n.platform.ZS()[l];this.y4=l === d.u.V?h.Zec:h.Fec;this.y4=Math.min(h.Nec * k,this.y4);g.G && this.console.trace("This pipeline's buffer size ",k,this.y4);this.wia=(l === d.u.V?h.OD:h.qA) || h.wia;this.dia=(l === d.u.V?h.Yec:h.Eec) || h.dia;this.nza=h.nza;};})();b.YDb=r;r=(function(l){function h(k,m,p,v){return l.call(this,k,m,p,v) || this;}c.__extends(h,l);h.prototype.ugb=function(k,m,p,v){var q,u,t,w,x,z,y,A,B;void 0 === p && (p=!1);void 0 === v && (v=!1);t=this.Mt;w=k.R.aIa();x=t.ae.index;z=t.Qd.index;y=m === x;A=m === z;if(!A || y && t.ae.sa){if(y){B=k.qgb(t.ae);B.JV(t.ae.fB);A && (t.ae.sa || t.Qd.sa) && B.ji({start:null === (q=B.sa) || void 0 === q?void 0:q.start,end:null === (u=t.Qd.sa) || void 0 === u?void 0:u.end});}else B=k.pr(m);}else (B=k.qgb(t.Qd),B.JV(t.Qd.fB));B.U4=m + 1;if(q=(0,e.A7b)(t,t.Kk))(g.G && t.trace("getFragmentForRequest pts:",t.Kk,"in region:",q,"previous region:",t.OIa),u=void 0 === t.OIa || t.OIa !== q.region,(0,e.M_b)(t.console,B,q,{Lac:y,Uac:A,abc:u}));A && (B.Qmb(),B.Xrc(t.Qa.M));y && B.wec();if(B.U4 !== m && !w && (this.nza || !B.sa) && (!p || m > x + 1) && (!v || m < z - 2))for((p=v?z - 1:z,++m);m < k.Ha.length && m < p && (B.la < this.Knb || B.Ob.H < this.wia) && (1 === B.stream.Gi.length || this.ISb(k,m));++m){v=k.pr(m);if((0,e.Nac)(t,v))break;if(B.Ob.add(v.Ob).H > this.dia)break;if(B.la + v.la > this.y4)break;B.lza(v);B.U4=m + 1;g.G && t.trace("getFragmentForRequest: extended fragment startPts:",B.Ba.H,"to duration:",B.Ob.H,"size:",B.la,"min request size:",this.Knb,"max request size:",this.y4,"min request duration:",this.wia,"max request duration:",this.dia,"edit:",B.sa);}g.G && t.trace("getFragmentForRequest(" + m + ") returning:",B,"stream:",B.stream,"firstRequestInRegion:",B.Wea,"lastRequestInRegion:",B.Ux,"nextIndex:",B.U4);return B;};h.prototype.ISb=function(k,m){return !k.Gi.some(function(p){return m === p.Ce;});};return h;})(r);b.p0a=r;},65077:function(r,b,a){var c,n,d,g,e,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Wdb=b.tG=b.hv=b.Efa=void 0;c=a(91176);n=a(50468);d=a(65161);g=a(52571);e=a(8171);f=a(8149);b.Efa=function(l,h){return l.fD(h,void 0,!0);};b.hv=function(l,h,k,m,p,v){var q,u,t,w;e.hs.Ax(l);if((0,f.bm)(k)){q=k.O;u=k.track.zn;t=k.track.Ll.Yc(q);h=void 0;t=u + Math.floor(m.Oe(t));v || l !== d.u.X || (t=Math.max(u,t - 1));w=k.track.vx(t);u=w.Ba;w=w.Ga;v && l === d.u.X && p && p.R === k.R && p.index === t && w === p.Ga && (++t,p=k.track.vx(t),u=p.Ba,w=p.Ga);v && (l === d.u.X || l === d.u.V) && u.lessThan(m) && (l=Math.floor(m.add(c.K.zA).ka(u).Oe(k.za)),0 < l && (h={start:l}));(0,g.assert)(u.O === q,"Expected fragment start timestamp to be in stream timescale");(0,g.assert)(w.O === q,"Expected fragment end timestamps to be in stream timescale");k=new n.Ro(k,void 0,{index:t,nb:u.ga,xb:w.ga,O:q,offset:0,la:0});h && k.ji(h);return k;}(0,g.assert)(k.Ha,"findFirstFragment called without stream fragments");q=k.Ha;l === d.u.X && !v && h.vp && !h.$_ && k.kg && (m=m.add(k.kg));m=c.K.max(k.Ha.Db,m);t=(0,b.Efa)(q,m.H);u=k.pr(t);if(u.Ga.lessThan(m))return u;(w=u.L2b(m.H))?(0 < w.Zj && u.ji({start:w.Zj}),l !== d.u.X || h.nia || (0 > w.He && u.ji({start:w.Zj}),w.He < (h.vp && !h.$_ && k.kg?Math.floor(k.kg.H):0) && u.pDa())):m.H >= u.Ga.H && t < q.length - 1 && (u=k.pr(t + 1));l === d.u.V && p && u.Ga.equal(p.Ga) && t < q.length - 1 && (u=k.pr(t + 1));l === d.u.X && !u.sa && (h.Pjb || h.L_b) && v && u.ji({});u.JV(m.H);return u;};b.tG=function(l,h,k,m,p,v){var q,u;e.hs.Ax(l);if((0,f.bm)(k)){u=v=q=Infinity;h=void 0;p=k.O;if(void 0 !== m && m.isFinite()){q=k.track.zn;v=k.track.Ll.Yc(p);q+=Math.floor(m.cgc().Oe(v));u=k.track.vx(q);v=u.Ba;u=u.Ga;if(l === d.u.V?v.add(k.za).greaterThan(m):v.eg(m))(--q,u=k.track.vx(q),v=u.Ba,u=u.Ga);(0,g.assert)(v.lessThan(m),"Last fragment expected to start before end point");l === d.u.X && (0,g.assert)(u.eg(m),"Last audio fragment expected to end at or after end point");l === d.u.V && (0,g.assert)(u.greaterThan(m.ka(k.za)),"Last video fragment expected to end later than one frame before end point");l !== d.u.X && l !== d.u.V || !u.greaterThan(m) || (m=m.ka(v).Oe(k.za),l=l === d.u.V?Math.floor(m):Math.ceil(m),l < u.ka(v).Oe(k.za) && (h={start:0,end:l}));v=v.ga;u=u.ga;}k=new n.Ro(k,void 0,{index:q,nb:v,xb:u,O:p,offset:0,la:0});h && k.ji(h);return k;}q=k.Ha;m || (m=q.kc);if(p && (p=p.A2b(k,m.H,l,h,v)))return p;p=q.za;v=c.K.min(m.add((0,b.Wdb)(l,p,h.qV,h.BV)),q.kc);q=q.fD(v.H,void 0,!0);p=k.pr(q);0 === q || !p.Ba.equal(m) || l !== d.u.V && h.qV || (--q,p=k.pr(q));v=l === d.u.V?v:m;v.H < p.Ga.H && ((u=p.AEa(v.H)) && 0 !== u.Zj?p.ji({end:u.Zj}):l === d.u.X && (u || v.lessThan(p.Ba)) && 0 !== q?p=k.pr(q - 1):l !== d.u.V || k.uac && !u || 0 === q || (p=k.pr(q - 1)));l === d.u.X && !p.sa && h.Pjb && p.ji();p.JV(m.H);return p;};b.Wdb=function(l,h,k,m){return l === d.u.V || m?c.K.wa:k?h || c.K.wa:h?h.yg(-1):c.K.wa;};},97757:function(r,b,a){var n,d,g,e,f,l;function c(h,k){return h - k;}Object.defineProperties(b,{__esModule:{value:!0}});b.cEb=void 0;b.MS=function(h,k){var m;if(!e)return h;m=new l(h.name,k);return (function(p){function v(){for(var q=[],u=0;u < arguments.length;u++)q[u]=arguments[u];q=p.apply(this,n.__spreadArray([],n.__read(q),!1)) || this;q.Dfb=m.hXb(q);return q;}n.__extends(v,p);return v;})(h);};n=a(5163);d=a(66164);g=a(48170);e="gctag" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).$Db;l=(function(){function h(k,m){this.name=k;this.EBa=m;this.VG=[];this.dac=0;}Object.defineProperties(h,{console:{get:function(){f || (f=new d.platform.Console("GCTAGGER"));return f;},enumerable:!1,configurable:!0}});h.prototype.hXb=function(k){var m,p;if(e){m=this.EBa;m || (m=h.console);if(!k.Dfb && "undefined" !== typeof nrdp){k={type:this.name,id:this.dac++};this.VG.push(k.id);p=JSON.stringify(k);p=nrdp.Dfb(p,(function(v,q,u,t){v.VG.splice(v.VG.indexOf(q),1);v.VG=v.VG.sort(c);for(var w=[],x=0;x < v.VG.length && 5 > x;x++)w.push(v.VG[x]);null === t || void 0 === t?void 0:t.error(("Removing instance for ").concat(u,"/").concat(q,". ") + ("").concat(v.VG.length," remaining, earliest: ").concat(w,"}"));}).bind(null,this,k.id,k.type,m));g.G && m && m.info("Creating tagged instance",k);return p;}}};return h;})();b.cEb=l;},79183:function(r,b,a){var n,d,g,e,f,l,h;function c(k,m){return k.filter(function(p){return p.groupId === m.groupId;}).reduce((0,d.Pfc)(function(p){return p.Mr;}),m).Mr;}Object.defineProperties(b,{__esModule:{value:!0}});b.fXa=void 0;n=a(5163);d=a(91176);g=a(66164);e=a(57141);f=a(65161);l=a(61996);h=a(62629);r=(function(){function k(m,p){this.console=m;this.config=p;this.Elb=0;this.tf=new l.Sn({hg:10,Vj:this,source:"GraphStreamingProcess"});}k.prototype.qpb=function(m,p){var v,q,u,t,w,x,z,y,A,D,E,F,G,J;u=!1;t=[];if(0 < p.length){w=this.ttc(p);x=w.some(function(I){return 1 === (0,h.FSb)(I) && (0,f.zr)(I.Fd);});z=w.slice();y=[!1,!1,!1,!1];A=void 0;try{for(var B=n.__values(w),C=B.next();!C.done;C=B.next()){D=C.value;if(D.xv && (!A || D.groupId === A))if(D.Rj)A=D.groupId;else if("global" !== y[D.mediaType]){E=D.jha(m,null !== (q=D.Fx) && void 0 !== q?q:1);F=(0,e.knc)(E.reason);F && (y[D.mediaType]=F,(0,d.Dza)(z,D));if(E.result){G=c(z,D);if(this.vTb(D,x,G)){J=D.KM();this.qJa(t,D,J.reason);J.Lh && (this.Elb=g.platform.time.ya());if(u=J.Lh)break;if("globalVideoMemoryLimit" === J.reason || "globalAudioMemoryLimit" === J.reason){this.console.trace("GSP.onRequestOpportunity stopping at memory limit:",J.reason);break;}"pipelineTryIssueHeaderRequest" === J.reason && (A=D.groupId,this.console.trace("GSP.onRequestOpportunity stopping due to blocking header"));}else if((this.qJa(t,D,"concurrencyCheck"),!F))break;}else this.qJa(t,D,E.reason);}}}catch(I){var N;N={error:I};}finally{try{C && !C.done && (v=B.return) && v.call(B);}finally{if(N)throw N.error;}}}this.tf.Ij({streamableCount:p.length,streamableReasons:t,lastSuccessfulIssueRequestMs:this.Elb});return u;};k.prototype.ttc=function(m){return this.Ylc(m).sort(function(p,v){return p.priority - v.priority;}).map(function(p){return p.kuc;});};k.prototype.Ylc=function(m){var p;p=this;return m.map(function(v){return {priority:-(0,h.BSb)(p.config,v,p.console),kuc:v};});};k.prototype.qJa=function(m,p,v){this.tf.enabled && m.push(this.j8b(v,p));};k.prototype.j8b=function(m,p){return {mediaType:p.mediaType,reason:m,bufferingState:p.Fd,currentPlayerMs:p.Om,pathCompletePlayerMs:p.Mr,streamingPlayerMs:p.pm};};k.prototype.vTb=function(m,p,v){return this.config.s0 && (p || (0,f.zr)(m.Fd))?this.wTb(m,v):this.xTb(m,v);};k.prototype.yTb=function(m){return m.pm <= m.Mr;};k.prototype.xTb=function(m,p){return m.pm - (m.Om > p?m.Om:p) <= Math.max(this.config.yKa,Math.min((m.Mr - m.Om) * this.config.BQa,this.config.Uec));};k.prototype.wTb=function(m,p){var v,q;if(void 0 === this.config.s0)return !0;v=this.config.s0;q=m.Om + v;return m.pm <= q?!0:this.yTb(m) && p >= q && m.pm - p < v;};n.__decorate([(0,l.ob)({methodName:"onRequestOpportunity",Sf:!0})],k.prototype,"qpb",null);return k;})();b.fXa=r;},62629:function(r,b,a){var m,p,v;function c(q){return q.pm - q.Om;}function n(q,u){return Math.exp(-(Math.log(2) / q) * u);}function d(q,u){q=Math.log(2) * u / q;return (1 - Math.exp(-q)) / q;}function g(q,u){var t,w,x,z,y;t=u.PN;w=u.ON;x=u.UD;if(0 === u.jg.length)return {$ba:!1};z=u.jg[0];u=z.mg;y=z.OG;z=z.duration;if(!y || 1 === x)return {$ba:!1};(0,p.assert)(z,"duration should be defined when immediate probability is included in probabilities array");(0,p.assert)(0 < x,"presenting segment seamless probability cannot be zero");w-=z;if(t < w)return {$ba:!1};w=t - w;t=x + w / z * (1 - x);z-=w;y=y * (1 - t) / (1 - x);q=u * t / x * n(q,z) + y * d(q,z);(0,p.assert)(1 >= q);return {$ba:!0,UOb:q};}function e(q){var u,t,w,x,z;u=q.ug;t=q.$V;w=q.au;x=q.pm;z=q.Om;q=q.ES;(0,p.assert)(void 0 !== t);(0,p.assert)(void 0 !== u);w=1 - w;x-=z;q?(z=t - q - x,u-=q,0 >= z?q=Math.max(0,(t - q) / u):(t=u - z,q=0 < t?x / t:0,w*=0 < t?t / u:1)):(z=t - x,0 >= z?q=t / u:(t=u - z,q=0 < t?x / t:0,w*=0 < t?t / u:1));(0,p.assert)(0 <= q);(0,p.assert)(1 >= q);(0,p.assert)(0 <= w);(0,p.assert)(1 >= w);return 1 - q * w;}function f(q,u){q=Math.log(2) / q.tsb;return l(u) * Math.exp(-q * c(u));}function l(q){var u;return (null !== (u=q.Fx) && void 0 !== u?u:1) * q.jg.reduce(function(t,w){var x;x=w.OG;return t * (w.mg + (void 0 === x?0:x));},1);}function h(q){var u,t,w,x;if(0 === q.jg.length)return 0;t=0;if(1 > q.UD){t=q.PN;w=q.ON;x=null !== (u=q.jg[0].duration) && void 0 !== u?u:0;t=Math.max(0,Math.min(x,t - (w - x)));}return q.jg.reduce(function(z,y){y=y.duration;return z + (void 0 === y?0:y);},0) - t;}function k(q){return q.jg.filter(function(u){return !u.OG;}).reduce(function(u,t){return u * t.mg;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.MGc=c;b.BSb=function(q,u,t){var w,x,z,y,A,B,C,D;if(!q.xea || (0,m.zr)(u.Fd))return f(q,u);x=q.tsb;q=c(u);z=h(u);y=k(u);A=g(x,u);B=A.$ba;A=A.UOb;A=void 0 === A?1:A;C=1 > u.au?e(u):1;D=(null !== (w=u.Fx) && void 0 !== w?w:1) * y * n(x,q - z) * A * C * u.jg.filter(function(E,F){return E.OG && (0 < F || !B);}).reduce(function(E,F){var G,J;G=F.OG;J=F.duration;J=void 0 === J?0:J;G=void 0 === G?0:G;F=F.mg * n(x,J) + G * d(x,J);return E * F;},1);v.G && (null === t || void 0 === t?void 0:t.log(("{").concat(u.groupId,"} [").concat(u.mediaType,"] calculateStreamablePriority: ") + ("sp: ").concat(u.au,", ") + ("pssp: ").concat(u.UD,", ") + ("streamingDuration: ").concat(u.$V,", ") + ("duration: ").concat(u.ug,", ") + ("seamlessProbability: ").concat(y,", ") + ("distance: ").concat(q,", immediateDistance: ").concat(z,", ") + ("risk:").concat(n(x,q - z),", ") + ("adjustedFirstTerm: ").concat(A,", streamingAdjustment: ").concat(C,", ") + ("probabilities: ").concat(JSON.stringify(u.jg)," => ").concat(D)));return D;};b.KGc=f;b.FSb=l;b.T$a=k;m=a(65161);p=a(52571);v=a(48170);},45247:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v;Object.defineProperties(b,{__esModule:{value:!0}});b.kgc=b.kj=b.m1b=b.kD=b.Pfa=b.F2=b.ZHa=b.Qga=b.vH=b.oia=b.Sb=b.u=b.hJ=b.wd=b.yQ=b.Xf=b.$u=b.CZ=b.Th=b.Cc=b.L$=b.SY=b.Vy=b.IZ=b.us=b.K=void 0;b.TKc=function(q){n.platform.uHa(q);};c=a(5163);n=a(66164);c.__exportStar(a(66164),b);d=a(91176);Object.defineProperties(b,{K:{enumerable:!0,get:function(){return d.K;}}});Object.defineProperties(b,{us:{enumerable:!0,get:function(){return d.us;}}});c.__exportStar(a(49502),b);g=a(63576);Object.defineProperties(b,{IZ:{enumerable:!0,get:function(){return g.IZ;}}});Object.defineProperties(b,{Vy:{enumerable:!0,get:function(){return g.Vy;}}});Object.defineProperties(b,{SY:{enumerable:!0,get:function(){return g.SY;}}});c.__exportStar(a(85858),b);c.__exportStar(a(25218),b);c.__exportStar(a(40666),b);c.__exportStar(a(95407),b);c.__exportStar(a(51308),b);e=a(79048);Object.defineProperties(b,{L$:{enumerable:!0,get:function(){return e.L$;}}});f=a(91967);Object.defineProperties(b,{Cc:{enumerable:!0,get:function(){return f.Cc;}}});Object.defineProperties(b,{Th:{enumerable:!0,get:function(){return f.Th;}}});l=a(11862);Object.defineProperties(b,{CZ:{enumerable:!0,get:function(){return l.CZ;}}});h=a(6783);Object.defineProperties(b,{$u:{enumerable:!0,get:function(){return h.$u;}}});k=a(69575);Object.defineProperties(b,{Xf:{enumerable:!0,get:function(){return k.Xf;}}});m=a(52629);Object.defineProperties(b,{yQ:{enumerable:!0,get:function(){return m.yQ;}}});p=a(65161);Object.defineProperties(b,{wd:{enumerable:!0,get:function(){return p.wd;}}});Object.defineProperties(b,{hJ:{enumerable:!0,get:function(){return p.hJ;}}});Object.defineProperties(b,{u:{enumerable:!0,get:function(){return p.u;}}});Object.defineProperties(b,{Sb:{enumerable:!0,get:function(){return p.Sb;}}});Object.defineProperties(b,{oia:{enumerable:!0,get:function(){return p.oia;}}});Object.defineProperties(b,{vH:{enumerable:!0,get:function(){return p.vH;}}});Object.defineProperties(b,{Qga:{enumerable:!0,get:function(){return p.Qga;}}});Object.defineProperties(b,{ZHa:{enumerable:!0,get:function(){return p.ZHa;}}});b.F2=function(q){n.platform.uHa(q);return Promise.resolve().then(function(){return c.__importStar(a(60069));}).then(function(u){return u.F2();});};b.Pfa=function(q,u){n.platform.uHa(q);return Promise.resolve().then(function(){return c.__importStar(a(23102));}).then(function(t){return t.Pfa(u);});};b.kD=function(){return a(32838)["default"];};r=c.__importDefault(a(14282));b.m1b=r.default;r=a(36948);b.kj=r.kj;v=a(37268);b.kgc=function(){return {Sk:v.Sk};};},79857:function(r,b,a){var c,n,d,g,e,f,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.pZa=void 0;c=a(5163);n=a(66164);d=a(65161);g=a(75539);e=a(61996);f=a(54366);l=a(52571);h=a(48912);r=(function(){function k(m,p,v,q){this.console=m;this.config=p;this.R=v;this.Jx=q;this.gtb=!1;this.TIa=0;this.CR=!1;this.tf=new e.Sn({hg:10,Vj:this,source:"LiveOCSideChannel",console:this.console});}k.prototype.rd=function(m){this.gtb || (m.rd(new f.ep(this.tf)),this.gtb=!0);};k.prototype.ze=function(){this.cI && (clearTimeout(this.cI),this.cI=void 0);this.hBa();this.CR=!0;};k.prototype.Jjc=function(m,p,v,q,u,t,w){var x,z,y,A,B,C;x=this;if(u){y=v;A=v.indexOf("?");-1 !== A && (y=v.slice(0,A));u.split(";").some(function(D){if(0 === D.indexOf("sc="))return (B=D.slice(3),!0);});if(B)if((A=this.config.LCa,void 0 !== this.R.Wp.endTime && (A=Math.max(A,this.config.MCa)),u=n.platform.time.ya(),u-=this.TIa,u < A))this.tf.Q_("parseMessage",{parsed:!1,url:y,time:n.platform.time.now(),lastTimeParsed:this.TIa,delta:u},!0,!0);else {(0,l.assert)(null === (z=this.R.U.zz) || void 0 === z?void 0:z.Nh,"Missing pbcid for OC side channel message decryption.");z=new h.Lwa(this.R.U.zz.Nh).decrypt(B,!0);try{C=JSON.parse(z);}catch(D){this.console.error("Failed to parse decrypted OC side channel message. " + ("decryptedMessage:").concat(z));return;}z=C.time;u=Number(z);isNaN(u)?this.console.error(("Invalid live server time in OC side channel message. time:").concat(z)):this.R.WRa(u,t);t=C["live-msg-start"];z=C["live-msg-end"];void 0 !== t && isNaN(new Date(t).getTime()) || void 0 !== z && isNaN(new Date(z).getTime())?this.console.error("Invalid live event times in OC side channel message. " + ("live-msg-start:").concat(t,", live-msg-end:").concat(z)):this.R.RRa(t,z);u=C["encoder-tag"];A=C["encoder-region"];u && A || this.console.error("Invalid encoder info in OC side channel message. " + ("encoder-tag:").concat(u,", encoder-region:").concat(A));this.R.dxc(q,{pG:u,nG:A,XOa:w.cm,Nb:m.Jb});q=C.maxBitrate;void 0 !== q && (q=Number(q),0 < q && (m.track.JT=q));q=C["live-msg-prefetch-start"];w=C["live-msg-prefetch-dur"];void 0 !== q && isNaN(new Date(q).getTime())?this.console.error("Invalid postplay prefetch info in OC side channel message. " + ("live-msg-prefetch-start:").concat(q,", live-msg-prefetch-dur:").concat(w)):void 0 !== q && void 0 !== w && this.R.Oma("prefetch",q,w);q=C["live-msg-pp-start"];C=C["live-msg-pp-dur"];void 0 !== q && isNaN(new Date(q).getTime())?this.console.error("Invalid postplay transition info in OC side channel message. " + ("live-msg-pp-start:").concat(q,", live-msg-pp-dur:").concat(C)):void 0 !== q && void 0 !== C && this.R.Oma("execute",q,C);this.TIa=u=n.platform.time.ya();this.tf.Q_("parseMessage",{parsed:!0,url:y,pbcid:this.R.U.zz.Nh,time:n.platform.time.now(),startTime:t,endTime:z});this.config.u1 && m.mediaType === d.u.V && (this.tcc=m,this.Flb=v,this.Alb=p,this.cI && (clearTimeout(this.cI),this.cI=void 0),void 0 === z && (this.cI=setTimeout(function(){x.Nka();},this.config.e4)));}}};k.prototype.Nka=function(){var m,p,v;m=this;p=!1;v=this.tcc;v && !this.CR && ((0,l.assert)(this.Alb),(0,l.assert)(this.Flb),this.hBa(),p=this.Jx.Ld,this.Oka=new g.Ysa(v,this.Flb,p.track,"refreshOC",{responseType:0},{offset:0,la:p.track.RQa?0:8},this,this.Alb,this.config,this.console),this.Oka.open()?p=!0:(this.hBa(),p=!1));this.tf.Ij({time:n.platform.time.now(),issued:p});this.config.u1 && (this.cI=setTimeout(function(){m.Nka();},this.config.e4));};k.prototype.hBa=function(){this.Oka && (this.Oka.ze(),this.Oka=void 0);};k.prototype.IH=function(m){m.abort();};k.prototype.Jv=function(m){var p;p=this;m.abort();this.config.u1 && (this.cI=setTimeout(function(){p.Nka();},this.config.e4));};k.prototype.zja=function(){};k.prototype.tN=function(){};k.prototype.JH=function(){};k.prototype.nn=function(){};k.prototype.CU=function(){};k.prototype.uN=function(){};k.prototype.yja=function(){};k.prototype.Aja=function(){};c.__decorate([(0,e.ob)({methodName:"refreshOCSideChannel",Sf:!1})],k.prototype,"Nka",null);return k;})();b.pZa=r;},18905:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(5163).__exportStar(a(92517),b);},92517:function(r,b,a){var f,l,h,k,m,p,v,q,u;function c(t){var w,x,z;t=t.parent;w=!1;if(t && t.children){x={};x[q.Yo]=[];x[q.Cm]=[];x[q.TEMPORARY]=[];z=t.children;z.forEach(function(y){y && x[y.dg].push(y);});0 < x[q.Yo].length || (x[q.Cm].length === z.length?t.dg !== q.Cm && (t.dg=q.Cm,v.error("PERM failing :",m.default.Sh.name[t.Fp] + " " + t.id),w=!0):t.dg === q.Yo && (t.dg=q.TEMPORARY,v.error("TEMP failing :",m.default.Sh.name[t.Fp] + " " + t.id),w=!0),w && c(t));}}function n(t){var w;if((t=t.parent) && 0 < t.children.length && t.dg !== q.Yo){w={};w[q.Yo]=[];w[q.Cm]=[];w[q.TEMPORARY]=[];t.children.forEach(function(x){x && w[x.dg].push(x);});0 < w[q.Yo].length && (t.dg=q.Yo,n(t));}}function d(t){return t.dg !== q.Yo;}function g(t){switch(t.dg){case q.Yo:return "OK";case q.Cm:return "FAILED PERMANENTLY";case q.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function e(t,w){if(t.dg === q.TEMPORARY || t.dg === q.Cm && w)t.dg=q.Yo;t.children && t.children.forEach(function(x){x && e(x,w);});}Object.defineProperties(b,{__esModule:{value:!0}});b.FZa=void 0;f=a(5163);l=f.__importStar(a(17267));r=a(90745);h=a(66164);k=a(65161);m=f.__importDefault(a(14282));p=a(52571);v=new h.platform.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(t){t[t.Yo=0]="OK";t[t.TEMPORARY=1]="TEMPORARY";t[t.Cm=2]="PERMANENT";})(q || (q={}));(function(t){t[t.Uy=0]="STARTUP";t[t.wIb=1]="REBUFFER";})(u || (u={}));a=(function(t){var U5N;function w(x,z,y,A,B,C){var y6g,D;y6g=2;for(;y6g !== 25;){switch(y6g){case 18:var t2H="L";t2H+="I";t2H+="V";t2H+="E";D.FV=m.default.Ty.Uy;y=x.Wg;D.fa=t2H === x.Je && !!y;y6g=15;break;case 9:var Z6W="L";Z6W+="IV";Z6W+="E";D.S6a=Z6W;D.fmc=u.Uy;D.nj={};y6g=6;break;case 10:var B0U="net";B0U+="w";B0U+="o";B0U+="r";B0U+="k";D.Jr={id:B0U,Fp:m.default.Sh.Py,dg:q.Yo,KA:void 0,parent:void 0,children:D.DH};D.oba=null;D.lI=null;y6g=18;break;case 26:return D;break;case 2:D=t.call(this) || this;y6g=1;break;case 15:var h1C="1SIY";h1C+="bZ";h1C+="rNJ";h1C+="C";h1C+="p9";D.aR(x,z,m.default.Ty.Uy);h1C;y6g=26;break;case 6:D.mm={};D.urls={};D.streams={};D.DH=[];D.Iia=!1;y6g=10;break;case 1:D.Wc=y;y6g=5;break;case 5:D.ml=A;D.config=B;D.VLb=C;y6g=9;break;}}}U5N=2;for(;U5N !== 23;){switch(U5N){case 5:w.prototype.Vqc=function(x){var n3y;n3y=2;for(;n3y !== 5;){switch(n3y){case 2:n3y=(x=this.urls[x]) && x.parent?1:5;break;case 9:return x.parent.id;break;case 1:return x.parent.id;break;}}};w.prototype.Ihb=function(x){var E5C,z,y,R6N,A,B,C,O4R,p$I,j8x;E5C=2;for(;E5C !== 4;){switch(E5C){case 2:y=[];try{R6N=2;for(;R6N !== 9;){switch(R6N){case 3:B=A.next();R6N=1;break;case 2:(A=f.__values(Object.keys(this.urls)),B=A.next());R6N=1;break;case 12:B=A.next();R6N=9;break;case 1:R6N=!B.done?5:9;break;case 5:C=this.urls[B.value];C.url === x.url && y.push(C.pc);R6N=3;break;}}}catch(E){var D;D={error:E};}finally{O4R=2;for(;O4R !== 1;){switch(O4R){case 2:try{p$I=2;for(;p$I !== 1;){switch(p$I){case 2:B && !B.done && (z=A.return) && z.call(A);p$I=1;break;}}}finally{j8x=2;for(;j8x !== 5;){switch(j8x){case 2:j8x=D?1:5;break;case 1:throw D.error;j8x=5;break;}}}O4R=1;break;}}}return y;break;}}};w.prototype.P5b=function(x){var S80;S80=2;for(;S80 !== 1;){switch(S80){case 2:for(var z in this.streams)if(this.streams[z].nca === x){return this.streams[z];}S80=1;break;}}};U5N=9;break;case 2:f.__extends(w,t);w.prototype.gv=function(){var E7_;E7_=2;for(;E7_ !== 1;){switch(E7_){case 4:return d(this.Jr);break;case 2:return d(this.Jr);break;}}};U5N=5;break;case 9:w.prototype.aR=function(x,z,y){var W1N,A,B,C,D,E,F;W1N=2;for(;W1N !== 25;){switch(W1N){case 2:A=this;void 0 === y && (y=m.default.Ty.oFb);x.locations.forEach(function(G){var H4u,N,I,M,J;H4u=2;for(;H4u !== 7;){switch(H4u){case 4:(N=[],I=A.ml.get(J),M=A.Jr);G={id:J,Fp:m.default.Sh.LOCATION,dg:q.Yo,Fc:G.rank,level:G.level,weight:G.weight,KA:void 0,parent:M,children:N,mm:N,streams:{},jb:I};A.nj[G.id]=G;M.children.push(G);H4u=7;break;case 5:(A.nj[J].Fc=G.rank,A.nj[J].level=G.level,A.nj[J].weight=G.weight);H4u=7;break;case 2:J=G.key;H4u=1;break;case 1:H4u=A.nj[J]?5:4;break;}}});this.oba=h.platform.time.ya();this.DH.sort(function(G,J){var X3O;X3O=2;for(;X3O !== 1;){switch(X3O){case 2:return G.level - J.level || G.Fc - J.Fc;break;}}});W1N=9;break;case 9:var G53="L";G53+="I";G53+="VE";var y8o="L";y8o+="I";y8o+="VE";x.servers.forEach(function(G){var C_n,J,N,I;C_n=2;for(;C_n !== 14;){switch(C_n){case 2:J=G.id;C_n=1;break;case 3:C_n=N?9:14;break;case 1:C_n=A.mm[J]?5:4;break;case 5:A.mm[J].Fc=G.rank;C_n=14;break;case 4:N=A.nj[G.key];C_n=3;break;case 9:I=[];G={id:J,Fp:m.default.Sh.QJ,dg:q.Yo,KA:void 0,parent:N,children:I,urls:I,name:G.name,type:G.type,Fc:G.rank,location:N};A.mm[G.id]=G;N.children.push(G);C_n=14;break;}}});(D=x.Je,E=x.Wg);(0,p.assert)(this.fa && y8o === D && !!E || !this.fa && G53 !== D && !E);W1N=6;break;case 6:this.fa && (this.udc=E.Ehc);F=!0;W1N=13;break;case 13:z && (F=!1,this.vmc(z));x.audio_tracks.forEach(function(G){var O1e;O1e=2;for(;O1e !== 1;){switch(O1e){case 2:A.dNa(k.u.X,G,F);O1e=1;break;}}});x.video_tracks.forEach(function(G){var y9d;y9d=2;for(;y9d !== 1;){switch(y9d){case 2:A.dNa(k.u.V,G,F);y9d=1;break;}}});W1N=10;break;case 17:this.DH=x;this.Jr.children=x;this.lI=null;this.FV=y;this.dump();W1N=25;break;case 10:null === (B=x.timedtexttracks) || void 0 === B?void 0:B.forEach(function(G){var F1z;F1z=2;for(;F1z !== 1;){switch(F1z){case 2:A.mmc(G,F);F1z=1;break;case 4:A.mmc(G,F);F1z=6;break;}}});null === (C=x.mediaEventTracks) || void 0 === C?void 0:C.forEach(function(G){var d8c;d8c=2;for(;d8c !== 1;){switch(d8c){case 2:A.dNa(k.u.Kn,G,F);d8c=1;break;}}});x=this.DH.filter(function(G){var g6w,J;g6w=2;for(;g6w !== 4;){switch(g6w){case 2:J=G.mm.every(function(N){var b$5;b$5=2;for(;b$5 !== 1;){switch(b$5){case 2:return 0 === N.urls.length;break;}}});J && (G.mm.forEach(function(N){var w0_;w0_=2;for(;w0_ !== 1;){switch(w0_){case 2:A.mm[N.id]=void 0;w0_=1;break;}}}),A.nj[G.id]=void 0,G.parent=void 0,G.children.length=0,G.streams={});return !J;break;}}});x.forEach(function(G){var L84;L84=2;for(;L84 !== 1;){switch(L84){case 2:G.mm.sort(function(J,N){var w8L;w8L=2;for(;w8L !== 1;){switch(w8L){case 2:return J.Fc - N.Fc;break;}}});L84=1;break;}}});W1N=17;break;}}};w.prototype.Rma=function(x,z,y){var D8u,D,E,F,G,A,B,C;D8u=2;for(;D8u !== 16;){switch(D8u){case 9:D8u=d(this.Jr)?8:7;break;case 12:D8u=!this.lI?11:10;break;case 19:return (this.Tv(m.default.Sh.Py,!1),!1);break;case 18:var U6E="(empty s";U6E+="tre";U6E+="am list)";var i$m="Did ";i$m+="not find a URL";i$m+=" f";i$m+="or ANY stream...";var Z0Z="netwo";Z0Z+="rkFaile";Z0Z+="d";var B_d="Network has failed, not updating ";B_d+="stream sele";B_d+="ction";z.forEach(function(J,N){var i43,I;i43=2;for(;i43 !== 5;){switch(i43){case 2:var r6l=" ";r6l+="K";r6l+="b";r6l+="p";r6l+="s)";var d05=" ";d05+="(";var m99="]";m99+=" ";var A8R="Fail";A8R+="ing stre";A8R+="am [";I=J.id;G.some(function(M){var l21,K,L;l21=2;for(;l21 !== 8;){switch(l21){case 2:K=M.streams[I];l21=1;break;case 1:l21=!K?5:4;break;case 4:L=K.nj[0];void 0 === J.yka && (J.yka=L.id,J.$Ma=K.yW[L.id][0].pc.id);return K.yW[M.id].some(function(H){var f91,O;f91=2;for(;f91 !== 20;){switch(f91){case 2:f91=d(H.pc)?1:5;break;case 4:return !1;break;case 5:f91=d(H) || C && H.LT && !H.LT.some(function(P){var i2B;i2B=2;for(;i2B !== 1;){switch(i2B){case 2:p$i87.s$f(7);return p$i87.g7m(y,P);break;}}})?4:3;break;case 12:J.jb=B.eAa?M.jb.confidence >= m.default.Mn.NP || D.confidence < F?M.jb:D:D.confidence === m.default.Mn.HAVE_NOTHING || M.jb.confidence >= m.default.Mn.NP?M.jb:D;B.Kdb && !J.jb.Lx && (J.jb.Lx=M.jb.Lx);return !0;break;case 3:var R8O="lo";R8O+="cation";R8O+="failo";R8O+="v";R8O+="er";var X0U="se";X0U+="rve";X0U+="rfailo";X0U+="ve";X0U+="r";var k6f="p";k6f+="erform";k6f+="ance";var H4M="un";H4M+="kno";H4M+="wn";O=H4M;J.location !== M.id && (B.RN?J.CIa=M.id === L.id:O=M !== G[0] && C && K.cJa !== y?"" + m.default.Ty.kJb:M !== G[0]?"" + m.default.Ty.qoa:void 0 === J.location?"" + m.default.Ty.Uy:l.Dr(J.ulb) || J.ulb === M.id?l.Dr(J.Blb) || J.Blb === H.pc.id?k6f:X0U:R8O,J.location=M.id,J.lJa=M.level,J.Vr=O);J.url=H.url;f91=7;break;case 1:return (H.pc.dg === q.TEMPORARY && (J.dg=q.TEMPORARY),B.RN && J.pc === H.pc.id && H.pc.KA && (J.KA=H.pc.KA),!1);break;case 7:J.pc=H.pc.id;J.X6=H.pc.name;J.Zv=H.pc.type;C && (K.cJa=y);f91=12;break;}}});break;case 5:return !1;break;}}})?(J.aA=!1,J.dg=void 0,J.Rp && ++E):J.dg && J.dg === q.TEMPORARY?A.Jr.dg=q.TEMPORARY:J.aA || (v.warn(A8R + N + m99 + I + d05 + J.bitrate + r6l),J.XTb(),J.aA=!0);i43=5;break;}}});return d(this.Jr)?(v.warn(B_d),this.Iia=!0,this.emit(Z0Z,this.Jr.dg === q.Cm),!1):E?!0:(v.warn(i$m + (z.length?"":U6E)),this.Tv(m.default.Sh.Py,!0),!1);break;case 8:return !1;break;case 11:return (this.Tv(m.default.Sh.Py,!1),!1);break;case 4:(D=this.Wc.get(),E=0);h.platform.Fz && h.platform.Fz(x);D8u=9;break;case 7:F=m.default.Mn.OP;B.IKa && (F=m.default.Mn.NP);this.Wc.location && D.confidence >= F && (x=this.nj[this.Wc.location]) && (x.jb=D);D8u=13;break;case 10:G=this.lI;D8u=20;break;case 20:D8u=!G.length?19:18;break;case 13:l.Dc(this.lI) && (this.lI=this.exc());D8u=12;break;case 2:(A=this,B=this.config,C=!1);this.fa && void 0 !== y && y !== this.S6a && (void 0 === this.T6a || h.platform.time.ya() - this.T6a > B.bdc) && (this.S6a=y,this.T6a=h.platform.time.ya(),C=!0);C && (this.lI=null);D8u=4;break;}}};w.prototype.Zqc=function(x,z){var u86,y,A;u86=2;for(;u86 !== 4;){switch(u86){case 2:(y=[],A=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);l.forEach(this.urls,function(B,C){var n0C,D,E,F,G;n0C=2;for(;n0C !== 13;){switch(n0C){case 2:B=B.pc;D=C.match(A);n0C=5;break;case 5:n0C=D && 4 === D.length?4:13;break;case 4:(E="s" === D[1],F=D[2]);D=D[3];n0C=9;break;case 9:var k9L="8";k9L+="0";var N7o="4";N7o+="4";N7o+="3";D.length || (D=E?N7o:k9L);n0C=8;break;case 8:n0C=l.zh(F) && l.zh(D) && F === x && D == z?7:13;break;case 7:B.urls.some(function(J){var p0U;p0U=2;for(;p0U !== 5;){switch(p0U){case 9:return (G=J,~1);break;case 1:return (G=J,!0);break;case 3:p0U=J.url !== C?8:4;break;case 2:p0U=J.url === C?1:5;break;}}});G && y.push({url:G,pc:B});n0C=13;break;}}});return y;break;}}};w.prototype.Tv=function(x,z,y,A){var j3F,G,C5$,B,C,D,R9q,E,F;j3F=2;for(;j3F !== 42;){switch(j3F){case 19:F=F.parent;j3F=12;break;case 13:F=B;j3F=12;break;case 1:j3F=B && B.parent && B.Fp !== x?5:4;break;case 10:G=F;j3F=20;break;case 5:B=B.parent;j3F=1;break;case 33:this.FV=m.default.Ty.In;A && (this.FV=m.default.Ty.UHb,B.KA=A);this.dump();j3F=42;break;case 12:j3F=F?11:27;break;case 4:j3F=B?3:43;break;case 28:j3F=44;break;case 11:C5$=F.Fp;j3F=C5$ === m.default.Sh.QJ?10:18;break;case 18:j3F=C5$ === m.default.Sh.LOCATION?17:16;break;case 25:return;break;case 2:(B=x !== m.default.Sh.Py && y?this.urls[y]:this.Jr,C=this.Jr.dg,D=z?q.Cm:q.TEMPORARY);j3F=1;break;case 3:j3F=D !== B.dg?9:42;break;case 43:var a1C="Unable t";a1C+="o find fa";a1C+="ilure entity for U";a1C+="RL ";p$i87.s$f(0);v.warn(p$i87.a0K(a1C,y));j3F=42;break;case 30:j3F=R9q === q.TEMPORARY?24:29;break;case 26:R9q=B.dg;j3F=R9q === q.Cm?25:30;break;case 24:B.dg=D;j3F=23;break;case 9:var j1n=" ";j1n+="a";j1n+="t";j1n+=" ";var x3n=" failure ";x3n+="reporte";x3n+="d for ";var T9d="TE";T9d+="M";T9d+="P";var T$o="P";T$o+="ER";T$o+="M";var R8e="reportFailu";R8e+="re:";R8e+=" ";y=v;E=y.warn;x=R8e + (z?T$o:T9d) + x3n + m.default.Sh.name[x] + j1n;z=[];j3F=13;break;case 23:var i7f="n";i7f+="etwo";i7f+="rkFaile";i7f+="d";var m2T="Emitting ";m2T+="netwo";m2T+="rkFail";m2T+="ed, perman";m2T+="ent =";c(B);this.Iia=this.Iia || d(this.Jr);D=this.Jr.dg;D > C && (v.warn(m2T,D === q.Cm),this.emit(i7f,D === q.Cm));this.lI=null;j3F=33;break;case 15:var P_S="<u";P_S+="rl";P_S+=" f";P_S+="or";P_S+=" ";z.unshift(P_S + F.stream.bitrate + ">");j3F=19;break;case 27:var H83=" ";H83+=": ";H83+="was ";E.call(y,x + (z.length?"/" + z.join("/"):"") + H83 + g(B));j3F=26;break;case 20:z.unshift(G.id + "(" + G.name + ")");j3F=19;break;case 17:z.unshift(F.id);j3F=19;break;case 29:j3F=R9q === q.Yo?24:28;break;case 16:j3F=C5$ === m.default.Sh.URL?15:19;break;case 44:var o1q="Inv";o1q+="a";o1q+="lid failure state";throw Error(o1q);j3F=24;break;}}};w.prototype.xtb=function(x,z){var f11;f11=2;for(;f11 !== 3;){switch(f11){case 2:f11=(x=this.mm[x])?1:5;break;case 8:f11=(x=this.mm[x])?7:6;break;case 1:(e(x,z),n(x));f11=5;break;case 5:this.lI=null;this.FV=m.default.Ty.wta;f11=3;break;case 7:(e(x,z),n(x));f11=0;break;}}};w.prototype.Zka=function(){var L3c;L3c=2;for(;L3c !== 1;){switch(L3c){case 2:e(this.Jr,!1);L3c=1;break;}}};U5N=12;break;case 12:w.prototype.cLa=function(x){var X2K;X2K=2;for(;X2K !== 1;){switch(X2K){case 2:this.VLb(x);X2K=1;break;}}};w.prototype.Li=function(){var T19;T19=2;for(;T19 !== 1;){switch(T19){case 2:this.Koc(u.wIb);T19=1;break;}}};w.prototype.Ma=function(){var T0j;T0j=2;for(;T0j !== 1;){switch(T0j){case 2:this.config.Jdc && this.qkc();T0j=1;break;}}};w.prototype.vmc=function(x){var X9u,y,A,B,K__,C,D,g43,A_h,J49;X9u=2;for(;X9u !== 4;){switch(X9u){case 2:(A=this,B=new Set());try{K__=2;for(;K__ !== 3;){switch(K__){case 2:(C=f.__values(x),D=C.next());K__=1;break;case 14:D=C.next();K__=2;break;case 5:z(D.value);K__=4;break;case 4:D=C.next();K__=1;break;case 1:K__=!D.done?5:3;break;case 7:K__=~D.done?6:0;break;}}}catch(F){var E;E={error:F};}finally{g43=2;for(;g43 !== 1;){switch(g43){case 2:try{A_h=2;for(;A_h !== 1;){switch(A_h){case 2:D && !D.done && (y=C.return) && y.call(C);A_h=1;break;}}}finally{J49=2;for(;J49 !== 5;){switch(J49){case 1:throw E.error;J49=5;break;case 2:J49=E?1:5;break;case 3:J49=E?2:1;break;case 9:throw E.error;J49=6;break;}}}g43=1;break;}}}Object.keys(this.streams).forEach(function(F){var l66;l66=2;for(;l66 !== 1;){switch(l66){case 2:B.has(F) || delete A.streams[F];l66=1;break;}}});X9u=4;break;}}function z(F){var L6U;L6U=2;for(;L6U !== 1;){switch(L6U){case 2:Object.keys(F).forEach(function(G){var K1A,J,N;K1A=2;for(;K1A !== 9;){switch(K1A){case 14:K1A=J?9:0;break;case 5:K1A=J?4:9;break;case 2:J=F[G];B.add(G);K1A=5;break;case 4:var E39="L";E39+="I";E39+="VE";N=A.streams[G];A.streams[G]=N?f.__assign(f.__assign({},N),J):{id:G,bitrate:J.bitrate,Gb:null,type:J.mediaType,clear:J.Hi?!1:!0,Rp:!0,urls:[],yW:{},nj:[],nca:J,cJa:A.fa?E39:void 0};K1A=9;break;}}});L6U=1;break;}}}};w.prototype.dNa=function(x,z,y){var z8v,A;z8v=2;for(;z8v !== 5;){switch(z8v){case 2:A=this;z.streams.forEach(function(B){var e41;e41=2;for(;e41 !== 1;){switch(e41){case 2:A.Irb(x,B.downloadable_id,B,y);e41=1;break;}}});z8v=5;break;}}};w.prototype.mmc=function(x,z){var E9O,y;E9O=2;for(;E9O !== 4;){switch(E9O){case 1:var q7X="i";q7X+="m";q7X+="sc";q7X+="1.";q7X+="1";var D9I="i";D9I+="m";D9I+="sc";D9I+="1";D9I+=".1";y=x.downloadableIds[D9I];(x=x.ttDownloadables[q7X]) && y && this.Irb(k.u.Ia,y,x,z);E9O=4;break;case 9:E9O="" != x.id?5:2;break;case 2:var k4u="no";k4u+="n";k4u+="e";E9O=k4u !== x.id?1:4;break;}}};w.prototype.Irb=function(x,z,y,A){var D73,C,B;D73=2;for(;D73 !== 10;){switch(D73){case 11:return;break;case 12:D73=!B && !A?11:6;break;case 6:this.nmc(B,y.urls);l.kt(B.yW,function(D){var z__;z__=2;for(;z__ !== 1;){switch(z__){case 2:D.sort(function(E,F){var c9_;c9_=2;for(;c9_ !== 1;){switch(c9_){case 2:return E.pc.Fc - F.pc.Fc;break;}}});z__=1;break;}}});B.nj=B.nj.sort(function(D,E){var w7t;w7t=2;for(;w7t !== 1;){switch(w7t){case 2:return D.level - E.level || D.Fc - E.Fc;break;}}});D73=10;break;case 7:this.streams[B.id]=B;D73=6;break;case 5:var H4D="L";H4D+="I";H4D+="V";H4D+="E";var G0I="n";G0I+="on";G0I+="e";G0I+="-";A="";B=0;C=null;x !== k.u.Ia && (A=y.content_profile,B=y.bitrate,x === k.u.V && (C=y.vmaf));B={id:z,bitrate:B,Gb:C,type:x,profile:A,clear:0 === A.indexOf(G0I),Rp:!0,urls:[],yW:{},nj:[],cJa:this.fa?H4D:void 0};D73=7;break;case 1:D73=l.Dr(B) && A?5:12;break;case 2:B=this.streams[z];D73=1;break;}}};U5N=16;break;case 16:w.prototype.nmc=function(x,z){var J6j,y;J6j=2;for(;J6j !== 5;){switch(J6j){case 2:y=this;z.forEach(function(A){var A3v,F,B,C,D,E;A3v=2;for(;A3v !== 14;){switch(A3v){case 5:A3v=D?4:14;break;case 4:l.Dr(C) && (C={id:B,Fp:m.default.Sh.URL,dg:q.Yo,KA:void 0,parent:D,children:[],url:B,pc:D,stream:x,LT:E},y.urls[B]=C,D.children.push(C));F=D.location;A3v=9;break;case 9:x.urls.push(C);0 === x.nj.filter(function(G){var w2j;w2j=2;for(;w2j !== 1;){switch(w2j){case 4:return G.id !== F.id;break;case 2:return G.id === F.id;break;}}}).length && x.nj.push(F);F.streams[x.id]=x;(A=x.yW[F.id])?A.push(C):x.yW[F.id]=[C];A3v=14;break;case 2:(B=A.url,C=y.urls[B],D=y.mm[A.cdn_id]);y.fa && (E=A.liveOcaCapabilities);A3v=5;break;}}});J6j=5;break;}}};w.prototype.exc=function(){var R$$,x,z,y,A;R$$=2;for(;R$$ !== 6;){switch(R$$){case 3:R$$=null === this.oba || this.oba + z.kJa < A?9:8;break;case 2:(x=this,z=this.config,y=this.DH.filter(function(B){var T70;T70=2;for(;T70 !== 1;){switch(T70){case 2:return !d(B) && 0 !== B.level;break;}}}));R$$=1;break;case 9:(y.forEach(function(B){var u8X;u8X=2;for(;u8X !== 1;){switch(u8X){case 2:B.id !== x.Wc.location && (B.jb=x.ml.get(B.id));u8X=1;break;}}}),this.oba=A);R$$=8;break;case 1:R$$=0 === y.length?5:4;break;case 4:A=h.platform.time.ya();R$$=3;break;case 5:return null;break;case 8:y.sort(function(B,C){var w6C;w6C=2;for(;w6C !== 1;){switch(w6C){case 2:return B.level - C.level || B.Fc - C.Fc;break;}}});return y;break;}}};w.prototype.Koc=function(x){var t27,z;t27=2;for(;t27 !== 4;){switch(t27){case 2:z=this.Wc.location;this.fmc=x;this.DH.forEach(function(y){var z3E;z3E=2;for(;z3E !== 1;){switch(z3E){case 2:y.id !== z && y.jb && y.jb.confidence > m.default.Mn.OP && (y.jb.confidence=m.default.Mn.OP);z3E=1;break;}}});t27=4;break;}}};U5N=26;break;case 26:w.prototype.qkc=function(){var a2X,x;a2X=2;for(;a2X !== 5;){switch(a2X){case 2:x=this;this.Iia || this.DH.forEach(function(z){var E3O;E3O=2;for(;E3O !== 1;){switch(E3O){case 2:z.dg === q.TEMPORARY && x.ml.fail(z.id,h.platform.time.ya());E3O=1;break;}}});a2X=5;break;}}};w.prototype.dump=function(){};return w;break;}}})(r.EventEmitter);b.FZa=a;},62614:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.u6b=function(a){var c;a=a.Wg;if(!a)return 0;c=a.R6;return 1E3 * Object.keys(c).reduce(function(n,d){d=c[d];return Math.max(n,d.duration / d.O);},0);};},32412:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.dQ=void 0;c=a(91176);n=a(52571);d=a(65161);r=(function(){function g(e){var f;void 0 === e && (e=[]);f=this;this.items=e;e.forEach(function(l){return f.PRa(l);});}Object.defineProperties(g.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{VD:{get:function(){var e;return null !== (e=this.video) && void 0 !== e?e:this.audio;},enumerable:!1,configurable:!0}});g.prototype.get=function(e){switch(e){case d.u.V:return this.video;case d.u.X:return this.audio;case d.u.Ia:return this.text;}};g.prototype.Hib=function(e){return -1 !== this.items.indexOf(e);};g.prototype.every=function(e){return this.items.every(e);};g.prototype.some=function(e){return this.items.some(e);};g.prototype.forEach=function(e){this.items.forEach(e);};g.prototype.find=function(e){return (0,c.oc)(this.items,e);};g.prototype.reduce=function(e,f){return this.items.reduce(e,f);};g.prototype.filter=function(e){return new g(this.items.filter(e));};g.prototype.map=function(e){return this.items.map(e);};g.prototype.replace=function(e,f){var l;l=this.items.indexOf(e);(0,n.assert)(-1 < l);(0,n.assert)(e.mediaType === f.mediaType);this.items[l]=f;this.PRa(f);};g.prototype.add=function(e){this.items.push(e);this.PRa(e);};g.prototype.remove=function(e){var f;f=this.items.indexOf(e);if(-1 === f)return !1;this.items.splice(f,1);this.RTb(e.mediaType);return !0;};g.prototype.clear=function(){this.items=[];this.text=this.audio=this.video=void 0;};g.prototype.PRa=function(e){switch(e.mediaType){case d.u.V:this.video=e;break;case d.u.X:this.audio=e;break;case d.u.Ia:this.text=e;}};g.prototype.RTb=function(e){switch(e){case d.u.V:this.video=void 0;break;case d.u.X:this.audio=void 0;break;case d.u.Ia:this.text=void 0;}};return g;})();b.dQ=r;},58684:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.STa=void 0;c=a(91176);n=a(7559);r=(function(){function d(g,e,f,l){this.config=e;this.Rf=f;this.console=l;this.za=g.za;}d.prototype.append=function(g,e){var f,l,h,k,m,p,v,q,u,t,w,x,z;if(g.Nj)return g;f=!1;l=(0,n.Zgb)(this.config,this.Rf);h=g.Na;k=g.offset;m=g.mg;p=g.Tj;v=h.Rb;q=h.Hb;u=h.Ux;u=h.zk || u;if(!g.Na.sa || !u || m)return g;t=h.Ga.ka(h.Ba);u=Math.floor(t.Oe(this.za));w=e.MKa || v.ka(this.za.yg(2));x=w.ka(q);v=u;z=!1;e.MKa && (e=this.S$a(t,x,x),v=e.$j,z=e.yob);l=w.ka(c.K.Pa(l));q=c.K.max(l.ka(q),c.K.wa);z || (q=this.S$a(t,q,x),v=q.$j,q.yob && (--v,this.za.yg(v)));v < (this.config.Zfc || 1)?f=!0:0 < u - v && g.Na.qea(u - v);return {Na:h,offset:k,mg:m,Nj:f,Tj:p};};d.prototype.S$a=function(g,e,f){var l;g=c.K.min(g,e);g=Math.floor(g.Oe(this.za));e=this.za.yg(g);f=f.ka(e);l=0 < g && f.lessThan(c.K.zA);return {$j:g,UMc:e,YIc:f,yob:l};};return d;})();b.STa=r;},18395:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.noa=void 0;c=a(91176);n=a(48170);r=(function(){function d(g){this.console=g;}d.prototype.append=function(g){var e,f,l,h,k,m;if(g.Nj)return g;e=g.Na;f=g.offset;l=g.Tj;h=e.Ba;k=e.Ga;m=h.add(f);f=k.add(f);m=this.FT && m.ka(this.FT);this.FT=f;if(void 0 === m || m.equal(c.K.wa))return g;g.Tj=l || [];e={stream:e.Jb,pts:h.H,gap:m.H};g.Tj.push({type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:e}}});n.G && this.console.log(("Audio discontinuity: ").concat(JSON.stringify(e)));return g;};return d;})();b.noa=r;},15038:function(r,b,a){var d,g,e,f,l,h,k;function c(m,p,v,q,u,t){var w,x,z,y,A,B,C;if(void 0 !== m.Sla || void 0 !== m.YPa || m.jr || m.Tm){w=m.end - m.start;x=Array(w);z=m.jr;y=m.zeb?m.zeb - 1:0;A=m.Aeb?m.Aeb - 1:0;B=Math.min(w,Math.max(m.Sla || 0,t && z && !y?1:0));m=Math.min(w - B,Math.max(m.YPa || 0,t && p && !A?1:0));t=Math.floor(q.Oe(v));v=Math.max(0,Math.min(w - B - m,z?Math.max(0,t - y):0));C=Math.max(0,Math.min(w - B - m - v,p?Math.max(0,t - A):0));v=B + v;q=w - m - C;A=A?0:Math.max(0,t + 1 - C);t=(1 - u) / (t + 1);for(C=0;C < w;++C)x[C]=C < B?-Infinity:C >= w - m?-Infinity:z && C < v?n(u + (C - B + y) * t):p && C >= q?n(1 - (C - q + A + 1) * t):0;return x;}}function n(m){return 20 * Math.log(m) / Math.log(10);}Object.defineProperties(b,{__esModule:{value:!0}});b.TTa=void 0;d=a(5163);g=a(91562);e=a(91176);f=a(69575);l=a(52571);h=a(65161);k=a(87574);r=(function(m){var J4G;J4G=2;for(;J4G !== 8;){switch(J4G){case 2:d.__extends(p,m);p.prototype.sa=function(v,q){var v4d,B,J,C,D,E,F,G,u,t,w,x,z,y,A;v4d=2;for(;v4d !== 39;){switch(v4d){case 6:return {ta:!1};break;case 7:v4d=0 >= v.Ob.ga?6:14;break;case 42:z.push.apply(z,d.__spreadArray([],d.__read(G),!1));v4d=41;break;case 41:D=(D || [A]).concat(this.DPb(y,null !== (t=null === (u=v.EU) || void 0 === u?void 0:u.offset) && void 0 !== t?t:A.byteLength,null === (w=v.EU) || void 0 === w?void 0:w.la,z));v4d=40;break;case 40:return {ta:!0,Tj:x,wn:D};break;case 28:v4d=G?44:41;break;case 19:v4d=0 < v.sa.start || v.sa.Sla || v.sa.jr?18:24;break;case 10:B=!1 === v.sea && !z.every(function(N){var R_g;R_g=2;for(;R_g !== 1;){switch(R_g){case 2:p$i87.s$f(8);return p$i87.g7m(N,ArrayBuffer);break;}}});z=[];v4d=19;break;case 12:v4d=!A?11:10;break;case 44:J=A.byteLength - C.byteLength + z.reduce(function(N,I){var A$v;A$v=2;for(;A$v !== 1;){switch(A$v){case 2:return N + I.remove;break;case 4:return N * I.remove;break;}}},0);G.forEach(function(N){var H_V;H_V=2;for(;H_V !== 1;){switch(H_V){case 2:N.offset+=J;H_V=1;break;}}});v4d=42;break;case 8:var w2y="AudioMediaFrag";w2y+="men";w2y+="tEditor: fragment has missing responses";(0,l.assert)(v.jT,w2y);v4d=7;break;case 32:v4d=!D?31:30;break;case 35:E=q.Yp;F=q.data;G=q.sG;v4d=32;break;case 25:G && z.push.apply(z,d.__spreadArray([],d.__read(G),!1));v4d=24;break;case 24:v4d=v.sa.end !== v.Vl || v.sa.YPa || v.sa.Tm?23:41;break;case 11:return {ta:!1};break;case 23:C=D?(0,f.XF)(D):A;q=this.P_b(v,C,E,q,B);D=q.ta;v4d=35;break;case 9:return {ta:!0};break;case 30:E && x.push(E);D=F;v4d=28;break;case 3:v4d=!v.sa?9:8;break;case 18:(C=this.O_b(v,A,q,B),D=C.ta,E=C.Yp,F=C.data,G=C.sG);v4d=17;break;case 15:E && x.push(E);D=F;E=v.sa.start;v4d=25;break;case 2:var k8z="Aud";k8z+="ioMediaFragmentEd";k8z+="i";k8z+="tor [${fragment.mediaType}]: Attempt t";k8z+="o edit appended fragment";void 0 === q && (q=!0);x=[];(0,l.assert)(!v.IF,k8z);v4d=3;break;case 17:v4d=!D?16:15;break;case 31:return {ta:D};break;case 16:return {ta:D};break;case 14:(z=v.wn,y=this.yeb(z),A=y.GKa);y=y.WN;v4d=12;break;}}};p.prototype.O_b=function(v,q,u,t){var I_R,w;I_R=2;for(;I_R !== 14;){switch(I_R){case 2:void 0 === u && (u=!0);void 0 === t && (t=!1);(0,l.assert)(v.sa);w=v.sa.Sla;I_R=3;break;case 3:u=!(!v.sa.Tm || !u);I_R=9;break;case 7:var U5d=" ";U5d+="edit fa";U5d+="il";U5d+="ed";var g$3="]";g$3+=":";g$3+=" ";var V0y="AudioMediaFr";V0y+="agmentEd";V0y+="i";V0y+="tor [";u=c(v.sa,u,v.za,this.xla,this.WT,this.config.Ojb);return (q=new g.xw(this.yH,v.stream,q).Qsb({Zj:v.sa.start,O:v.Bk,BC:u,pOa:!1,gO:this.config.fla,cN:n(this.WT),fea:t}))?{ta:!0,Yp:v.etb(w),data:q.Na,sG:q.sG}:(this.console.error(V0y.concat(v.mediaType,g$3).concat(v.toString(),U5d)),{ta:!1});break;case 9:I_R=!(v.sa.start || w || v.sa.jr || u)?8:7;break;case 8:return {ta:!0};break;}}};p.prototype.P_b=function(v,q,u,t,w){var p_y,x;p_y=2;for(;p_y !== 13;){switch(p_y){case 2:void 0 === u && (u=0);void 0 === t && (t=!0);void 0 === w && (w=!1);p_y=4;break;case 4:(0,l.assert)(v.sa);x=v.sa.YPa;t=!(!v.sa.Tm || !t);p_y=8;break;case 8:p_y=v.sa.end === v.Vl && !x && !v.sa.jr && !t?7:6;break;case 7:return {ta:!0};break;case 6:var P$_=" ";P$_+="edit ";P$_+="failed";var s0F="]";s0F+=":";s0F+=" ";var N$F="Audi";N$F+="oMediaFr";N$F+="agmentE";N$F+="d";N$F+="itor [";t=c(v.sa,t,v.za,this.yla,this.WT,this.config.Ojb);return (q=new g.xw(this.yH,v.stream,q).Xsb({Zj:v.sa.end - u,O:v.Bk,BC:t,pOa:!1,gO:this.config.fla,cN:n(this.WT),fea:w}))?{ta:!0,Yp:v.etb(x),data:q.Na,sG:q.sG}:(this.console.error(N$F.concat(v.mediaType,s0F).concat(v.toString(),P$_)),{ta:!1});break;}}};J4G=3;break;case 3:p.prototype.DPb=function(v,q,u,t){var L3x,x,z,l3L,y,A,B,C,D,X2s,h3n,m7J,w;L3x=2;for(;L3x !== 10;){switch(L3x){case 9:var m2p="Request bytes";m2p+=" m";m2p+="ismatc";m2p+="h";var l3r="Must have array buffers ";l3r+="to edit optimized respo";l3r+="nse beyond original request";(0,l.assert)((0,k.pac)(v),l3r);v=1 < v.length?(0,f.XF)(v):v[0];(0,l.assert)(void 0 === u || u === v.byteLength,m2p);L3x=6;break;case 11:return z;break;case 6:t.sort(function(F,G){var S4l;S4l=2;for(;S4l !== 1;){switch(S4l){case 2:return F.offset - G.offset;break;case 4:return F.offset % G.offset;break;}}});(x=q,z=[]);try{l3L=2;for(;l3L !== 8;){switch(l3L){case 2:(y=d.__values(t),A=y.next());l3L=1;break;case 1:l3L=!A.done?5:8;break;case 5:(B=A.value,C=B.offset,D=B.remove);C >= x && z.push(v.slice(x - q,C - q));p$i87.U73(0);x=Math.max(x,p$i87.a0K(C,D));l3L=9;break;case 9:A=y.next();l3L=1;break;}}}catch(F){var E;E={error:F};}finally{X2s=2;for(;X2s !== 1;){switch(X2s){case 2:try{h3n=2;for(;h3n !== 1;){switch(h3n){case 2:A && !A.done && (w=y.return) && w.call(y);h3n=1;break;}}}finally{m7J=2;for(;m7J !== 5;){switch(m7J){case 1:throw E.error;m7J=5;break;case 3:m7J=E?3:8;break;case 2:m7J=E?1:5;break;}}}X2s=1;break;}}}x < q + v.byteLength && z.push(v.slice(x - q));L3x=11;break;case 5:return v;break;case 1:L3x=0 === t.length || t.every(function(F){var A7D,G;A7D=2;for(;A7D !== 5;){switch(A7D){case 2:G=F.offset;return G + F.remove <= q || void 0 !== u && G >= q + u;break;}}})?5:4;break;case 2:L3x=1;break;case 3:var J1W="Expected edit offset ";J1W+="to match request of";J1W+="fset when entire edited fragment is in initial response";var A$m="Expected only one edit when entire";A$m+=" edited fragment";A$m+=" is in initial response";return ((0,l.assert)(1 === t.length,A$m),(0,l.assert)(t[0].offset === q,J1W),[]);break;case 4:L3x=0 === v.length?3:9;break;}}};return p;break;}}function p(v,q,u){var g0M,t;g0M=2;for(;g0M !== 6;){switch(g0M){case 2:var a1n="1SIY";a1n+="bZrN";a1n+="J";a1n+="C";a1n+="p9";a1n;t=m.call(this,v,h.u.X) || this;t.console=v;g0M=4;break;case 4:t.config=q;t.xla=e.K.Pa(0 <= q.xla?q.xla:q.bE);g0M=9;break;case 9:t.yla=e.K.Pa(0 <= q.yla?q.yla:q.bE);t.WT=Math.pow(10,(q.WT[u] || -44) / 20);return t;break;}}}})(k.tsa);b.TTa=r;},32614:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.UTa=void 0;c=a(48170);r=(function(){function n(d){this.console=d;}n.prototype.append=function(d,g){var e,f,l,h,k,m,p;if(d.Nj)return d;e=!1;f=d.Na;l=d.offset;h=d.mg;d=d.Tj;g=g.aU;k=f.Rb;if(this.Bo && k.lessThan(this.Bo.Rb)){m=this.Bo.aU.ka(f.Hb);p=f.Rb.ka(this.Bo.aU);p.lessThan(m) && (c.G && this.console.trace(("AudioOverlapGuard: skipping append of ").concat(f) + (", current error: ").concat(m.Ka()) + (", discard error: ").concat(p.Ka())),e=!0);}this.Bo=(f.zk || f.Ux) && g?{aU:g,Rb:k}:void 0;return {Na:f,offset:l,mg:h,Nj:e,Tj:d};};return n;})();b.UTa=r;},89245:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.HYa=void 0;r=(function(){function a(c){this.v6=!1;this.Ysc=c.Z$b;}a.prototype.append=function(c){c.Na.sa && (c.Na.Zrc(this.v6?0:this.Ysc),this.v6=!0);return c;};return a;})();b.HYa=r;},87574:function(r,b,a){var n,d,g,e;function c(f){var l;return null === (l=f.every) || void 0 === l?void 0:l.call(f,function(h){return h instanceof ArrayBuffer;});}Object.defineProperties(b,{__esModule:{value:!0}});b.tsa=void 0;b.pac=c;n=a(66164);d=a(91562);g=a(91176);e=a(69575);r=(function(){function f(l,h){this.console=l;this.mediaType=h;this.yH=new n.platform.Console("MP4","media|asejs");}f.prototype.yeb=function(l,h){var k,m,u;void 0 === h && (h=!1);k=l[0];if(!(k instanceof ArrayBuffer))return (this.yH.warn(("MediaFragmentEditor [").concat(this.mediaType,"]: response is not ArrayBuffer")),{WN:l});m=d.UE.path(new DataView(k),["moof"]).end;if(!m)return (this.yH.warn(("MediaFragmentEditor [").concat(this.mediaType,"]: start of moof not found in first response")),{WN:l});for(var p=m + (h?8:0),v=k.byteLength,q=1;v < p && q < l.length;){u=l[q];u instanceof ArrayBuffer && (v+=u.byteLength);++q;}if(v < p)return (this.yH.warn(("MediaFragmentEditor [").concat(this.mediaType,"]: moof not found in responses")),{WN:l});if(1 !== q){k=l.slice(0,q);if(!c(k))return (this.yH.warn(("MediaFragmentEditor [").concat(this.mediaType,"]: moof responses are not ArrayBuffer")),{WN:l});k=(0,e.XF)(k);}l=l.slice(q);return h?(h=new DataView(k),q=h.getUint32(m),(0,g.assert)("mdat" === (0,d.hF)(h.getUint32(m + 4)),"Expected mdat after moof"),{GKa:k,dfc:m,efc:q,WN:l}):{GKa:k,WN:l};};return f;})();b.tsa=r;},82450:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.F_a=void 0;c=a(91176);n=a(65161);d=a(52571);g=a(15033);e=a(77970);f=a(93883);l=a(25073);h=a(83083);k=a(89245);m=a(58684);p=a(32614);v=a(15038);q=a(18395);u=a(31469);r=(function(){function t(w,x,z,y){this.config=w;this.mediaType=x;this.Rf=z;this.console=y;}t.prototype.append=function(w,x){var z,y,A,B,C;void 0 === this.track?this.SHa(w.stream):this.track !== w.stream.track && ((0,d.assert)(this.track.za),(0,d.assert)(w.stream.track.za),this.track=w.stream.track);(0,d.assert)(void 0 !== this.dt);A={Na:w,offset:null !== (z=w.mNa) && void 0 !== z?z:c.K.wa,mg:this.config.BV,Nj:!1};A=this.dt.reduce(function(D,E){return E.append(D,x);},A);B=A.Na;z=A.offset;C=A.Nj;A=A.Tj;A=void 0 === A?[]:A;B.sa && ((0,d.assert)(w.sa,"Fragments must be marked for edit at request time"),w.ji(B.sa));if(C || !this.jKa)return {offset:z,Nj:C};w=this.jKa.sa(w,!(null === (y=w.M) || void 0 === y || !y.Tm));y=w.ta;B=w.Tj;w=w.wn;Array.prototype.push.apply(A,void 0 === B?[]:B);return {offset:z,Nj:!y,Tj:A,wn:w};};t.prototype.reset=function(){this.dt=this.track=void 0;};t.prototype.SHa=function(w){var x,z;this.track=w.track;this.mediaType === n.u.X?this.jKa=new v.TTa(this.console,this.config,w.profile):w.Cac && (this.jKa=new u.v5a(this.console,this.config));this.dt=[];if(this.mediaType === n.u.X){this.config.BV && this.dt.push(new f.A3a(this.config,w.track,this.console));z=this.GAa(w);z.equal(c.K.wa)?this.config.vp && w.kg && this.VHa(w.R.N) && this.dt.push(new k.HYa(this.config)):this.dt.push(new g.Vua(z));this.config.nia || (this.console.log(("MediaSplicer: NegativePtsGuard: ").concat(z.Ka(),", ") + ("").concat(null === (x=w.kg) || void 0 === x?void 0:x.Ka())),this.dt.push(new l.d0a(this.config,w,this.console)));this.cbc()?(this.config.yl || this.dt.push(new m.STa(w,this.config,this.Rf,this.console)),this.config.BV && this.dt.push(new q.noa(this.console)),this.dt.push(new e.q0a(this.config,w,this.console)),this.Psc(w) && ((0,d.assert)(w.za),this.dt.push(this.RUb(w.kg || c.K.wa,w.za,z)))):(this.dt.push(new p.UTa(this.console)),this.config.BV && this.dt.push(new q.noa(this.console)));}};t.prototype.VHa=function(w){return this.config.VHa || this.config.Qjb && -1 !== this.config.Qjb.indexOf(w);};t.prototype.GAa=function(w){return g.Vua.GAa(this.config,w.kg,this.Rf,this.console);};t.prototype.cbc=function(){return !this.config.qV;};t.prototype.Psc=function(w){return this.config.jwc && this.config.vp && !!w.kg;};t.prototype.RUb=function(w,x,z){return new h.$4a(w.ka(z),x,this.console);};return t;})();b.F_a=r;},25073:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.d0a=void 0;c=a(91176);n=a(52571);d=a(48170);r=(function(){function g(e,f,l){var h;this.console=l;this.v6=!1;(0,n.assert)(f.za,"NegativePtsGuard: stream.frameDuration must exist.");this.za=f.za;this.vp=e.vp;this.kg=null !== (h=f.kg) && void 0 !== h?h:c.K.wa;}g.prototype.append=function(e){var f,l,h,k,m;if(this.v6 || e.Nj)return e;f=e.Na;l=e.offset;h=e.mg;e=e.Tj;if(f.sa){k=f.Ba.ka(this.vp?this.kg:c.K.wa).add(l);if(k.lessThan(c.K.wa)){m=Math.ceil(k.yg(-1).Oe(this.za));d.G && this.console.trace(("NegativePtsGuard: dropping ").concat(m," frames on first fragment to avoid nagative pts, ") + ("profile offset ").concat(this.kg.Ka(),", ") + ("request content start ").concat(f.Ba.Ka(),", ") + ("current timestamp offset ").concat(l.Ka()," => ") + ("firstPlatformTimestamp ").concat(k.Ka(),"."));f.pDa(m);}}this.v6=!0;return {Na:f,offset:l,mg:h,Nj:!1,Tj:e};};return g;})();b.d0a=r;},77970:function(r,b,a){var n,d,g,e,f;function c(l){return ("").concat(l.Ka()," (nrdp: ").concat(l.hO,"ms)");}Object.defineProperties(b,{__esModule:{value:!0}});b.q0a=void 0;n=a(91176);d=a(78647);g=a(48170);e=a(52571);f=a(8149);r=(function(){function l(h,k,m){this.console=m;this.offset=n.K.wa;this.kg=h.vp?k.kg || n.K.wa:n.K.wa;this.un=(0,f.bm)(k)?k.un || n.K.wa:n.K.wa;(0,e.assert)(k.za);this.za=k.za;}l.prototype.append=function(h){var k,m,p,v;if(h.Nj)return h;k=h.Na;m=h.offset;p=h.mg;v=h.Tj;void 0 !== this.slb && ((0,e.assert)(void 0 !== this.NIa),k.Ba.add(h.offset).equal(this.slb)?(h=this.sSb(k,m.add(this.offset)).H - this.NIa,0 > h?this.offset=this.offset.add(n.K.zA):0 === h?this.offset.lessThan(n.K.wa) && (this.offset=this.offset.add(n.K.zA)):1 === h?this.offset.greaterThan(n.K.wa) && (this.offset=this.offset.ka(n.K.zA)):this.offset=this.offset.ka(n.K.zA)):this.offset=n.K.wa);this.NIa=this.rSb(k,m.add(this.offset)).H;this.slb=k.Ga.add(m);return {Na:k,offset:m.add(this.offset),mg:p,Nj:!1,Tj:v};};l.prototype.sSb=function(h,k){var m,p;h=this.e9a(h.Ba);k=k.ka(this.un);m=(0,d.uA)(h).add((0,d.uA)(k));p=h.add(k).ka(m);g.G && this.console.trace("NrdpRounding: content start " + c(h) + ", adjusted offset: " + c(k) + ", start rounding error: " + (0,d.uA)(h).toString() + ", adjusted offset rounding error: " + (0,d.uA)(k).toString() + ", total error: " + m.toString() + ", expected nrdp value:" + p.Ka() + ", (" + h.hO + k.hO + "ms), last fragment end nrdp: " + this.NIa);return p;};l.prototype.rSb=function(h,k){var m,p,v;m=this.za;h=this.e9a(h.Ga);k=k.ka(this.un);p=(0,d.uA)(h.ka(m)).add((0,d.uA)(m)).add((0,d.uA)(k));v=h.add(k).ka(p);g.G && this.console.trace("NrdpRounding: content end: start of last frame:" + c(h.ka(m)) + ", frame duration: " + c(m) + ", adjusted offset: " + c(k) + ", timestamp rounding error: " + (0,d.uA)(h.ka(m)).toString() + ", frame duration rouding error: " + (0,d.uA)(m).toString() + ", adjusted offset rounding error: " + (0,d.uA)(k).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + v.Ka() + ", (" + h.ka(m).hO + m.hO + k.hO + "ms)");return v;};l.prototype.e9a=function(h){return h.add(this.un).ka(this.kg);};return l;})();b.q0a=r;},15033:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Vua=void 0;c=a(91176);n=a(48170);r=(function(){function d(g){this.kg=g;}d.GAa=function(g,e,f,l){var h;h=c.K.wa;e && !e.equal(c.K.wa) && (f=null === f || void 0 === f?void 0:f.PHc,g.Gxc && void 0 !== f && 0 <= f?(g=new c.K(f,48E3),h=e.add(g),n.G && l.trace(("Adjusting profile timestamp offset of ").concat(e) + (" by DPI assumed delay of ").concat(g) + (" for ASE applied offset of ").concat(h,"."))):g.$_ && (h=e));return h;};d.prototype.append=function(g){var e,f,l;e=g.mg;f=g.Nj;l=g.Tj;return {Na:g.Na,offset:g.offset.add(this.kg),mg:e,Nj:f,Tj:l};};return d;})();b.Vua=r;},93883:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.A3a=void 0;c=a(91176);n=a(52571);d=a(48170);r=(function(){function g(e,f,l){this.config=e;this.console=l;this.uz=c.K.wa;(0,n.assert)(f.za);this.za=f.za;f=f.Td[0].profile;this.yia=this.C6b(f,this.za);this.iia=this.x6b(f,this.za);this.kT=-1 !== e.W9a.indexOf(f);}g.prototype.append=function(e,f){var l,h,k,m,p;if(e.Nj)return e;l=e.Na;h=e.offset;k=e.Tj;k=void 0 === k?[]:k;e=e.mg;m=f.aU;f=f.MKa;if(this.sMa){p=this.egc(l,this.sMa);l.sa && !this.kT && this.Vza(p)?(d.G && this.console.trace("SeamlessAudio: dropping first frame"),l.pDa(1),this.uz=p):(this.uz=p.add(this.za),this.g$a(this.uz) || (d.G && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + l.Hb.Ka() + " error would be " + this.uz.Ka() + " (editing " + (l.sa?"":"not ") + "allowed)"),k.push({type:"logdata",target:"endplay",fields:{avsyncreset:{type:"array",value:{id:l.Jb,pts:l.Ba.H}}}}),this.uz=c.K.wa,e=!1));this.sMa=void 0;}if(l.zk || l.Ux)((0,n.assert)(m,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!l.sa || !f && l.Ux || (p=this.fgc(l,m,f),f && this.kT && p.eg(this.za)?(d.G && this.console.trace("SeamlessAudio: dropping last two frames"),l.qea(2)):p.eg(c.K.wa) && (d.G && this.console.trace("SeamlessAudio: dropping last frame"),l.qea(1))),this.sMa=m);(0,n.assert)(this.g$a(this.uz));this.FT=l.Rb;return {Na:l,offset:h.add(this.uz),mg:e,Nj:0 === l.$D,Tj:k.length?k:void 0};};g.prototype.fgc=function(e,f,l){var h;if(l)h=this.uz.add(e.Rb.ka(l)).ka(this.za);else (h=e.Rb.ka(f),h=this.uz.add(h).ka(this.za));d.G && this.console.trace("SeamlessAudio: fragment end: " + e.Rb.Ka() + ", splice " + f.Ka() + ", next start " + (null === l || void 0 === l?void 0:l.Ka()) + ", error " + h.add(this.za).Ka() + ", error with frame drop " + h.Ka() + ", is" + (this.Vza(h)?"":" not") + " within bounds of [" + this.yia.Ka() + " and " + this.iia.Ka() + ")");return h;};g.prototype.egc=function(e,f){var l;(0,n.assert)(this.FT);l=this.uz.add(this.FT.ka(e.Hb)).ka(this.za);d.G && this.console.trace("SeamlessAudio: fragment start: " + e.Hb.Ka() + ", splice " + f.Ka() + ", last fragment end: " + this.FT.Ka() + ", error " + l.add(this.za).Ka() + ", error with frame drop " + l.Ka() + ", is" + (this.Vza(l)?"":" not") + " within bounds of [" + this.yia.Ka() + " and " + this.iia.Ka() + ")");return l;};g.prototype.Vza=function(e){return e.lessThan(this.iia) && e.eg(this.yia);};g.prototype.g$a=function(e){return e.lessThan(this.iia.add(c.K.zA)) && e.eg(this.yia.ka(c.K.zA));};g.prototype.x6b=function(e,f){return "object" === typeof this.config.QOa && void 0 !== this.config.QOa[e]?(e=new c.K(this.config.QOa[e],1E3).Yc(f.O).add(new c.K(1,f.O)),c.K.min(f,e)):f;};g.prototype.C6b=function(e,f){var l;if("object" === typeof this.config.ROa && void 0 !== this.config.ROa[e]){l=f.Oe(-2);e=new c.K(this.config.ROa[e],1E3).Yc(f.O).ka(new c.K(1,f.O));return c.K.max(l,e);}return new c.K(-12,1E3);};return g;})();b.A3a=r;},83083:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.$4a=void 0;c=a(91176);n=a(48170);r=(function(){function d(g,e,f){this.kg=g;this.za=e;this.console=f;}d.prototype.append=function(g,e){var f,l,h,k,m,p;f=g.Na;l=g.offset;h=g.mg;k=g.Tj;g=g.Nj;if(!g){m=e.endOfStream;e=e.aU;if(m && e){m=f.Ba.ka(this.kg).add(l);p=f.Ga.ka(this.kg).add(l);e=e.ka(c.K.zA);n.G && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + m.Ka() + "-" + p.Ka() + " vs media splice point at " + e.Ka());m.add(this.za).eg(e)?(n.G && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),g=!0):p.eg(e) && (e=Math.ceil(p.ka(e).Oe(this.za)),f.sa?(n.G && this.console.trace(("TruncateEndOfStreamAudio: drop ").concat(e," frames")),f.qea(e)):(n.G && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),g=!0));}else m && n.G && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");}return {Na:f,offset:l,mg:h,Nj:g,Tj:k};};return d;})();b.$4a=r;},31469:function(r,b,a){var c,n,d,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.v5a=void 0;c=a(5163);n=a(91562);d=a(52571);g=a(69575);e=a(45247);r=(function(f){function l(h,k){var m;m=f.call(this,h,e.u.V) || this;m.console=h;m.config=k;return m;}c.__extends(l,f);l.prototype.sa=function(h){var k,m,p,v,q,u,t,w,x;(0,d.assert)(!h.IF,"AudioMediaFragmentEditor [${fragment.mediaType}]: Attempt to edit appended fragment");if(!h.sa)return {ta:!0};k=0 < h.sa.start;m=h.sa.end < h.Vl;if(!k && !m)return {ta:!0};(0,d.assert)(h.jT,"AudioMediaFragmentEditor: fragment has missing responses");if(0 >= h.Ob.ga)return {ta:!1};p=h.wn;v=this.yeb(p,!0);q=v.GKa;u=v.dfc;t=v.efc;v=v.WN;if(!q || !u || !t)return {ta:!1};u=q.slice(0,u);p=!1 === h.sea && !p.every(function(z){return z instanceof ArrayBuffer;});if(k){k=new n.xw(this.yH,h.stream,q);w=k.Qsb({Zj:h.sa.start,O:h.O,fea:p});}if(m && !1 !== w){k=new n.xw(this.yH,h.stream,w?(0,g.XF)(w.Na):q);x=k.Xsb({Zj:h.sa.end - h.sa.start,O:h.O,fea:p});}h=(h=m?x:w)?h.Na:[u];h.push.apply(h,c.__spreadArray([],c.__read(v),!1));return {ta:!0,wn:h};};return l;})(a(87574).tsa);b.v5a=r;},27255:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.cXa=void 0;c=a(52571);n=a(16146);r=(function(){function d(){this.global=new n.WY();this.IN={};}d.prototype.add=function(g,e){(0,c.assert)(void 0 === this.IN[g],"Cannot add new memory object for playgraph");this.IN[g]=e;this.global.add(e.ft);this.global.add(e.h1);};return d;})();b.cXa=r;},16146:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.WY=void 0;c=a(65161);r=(function(){function n(){this[c.u.X]=0;this[c.u.V]=0;this[c.u.Ia]=0;this[c.u.Kn]=0;}Object.defineProperties(n.prototype,{total:{get:function(){return this[c.u.X] + this[c.u.V] + this[c.u.Ia];},enumerable:!1,configurable:!0}});n.prototype.add=function(d){this[c.u.X]+=Math.max(d[c.u.X] || 0,0);this[c.u.V]+=Math.max(d[c.u.V] || 0,0);this[c.u.Ia]+=Math.max(d[c.u.Ia] || 0,0);};n.prototype.Yya=function(d,g){this[d]+=Math.max(g || 0,0);};return n;})();b.WY=r;c.u.X;c.u.V;c.u.Ia;c.u.Kn;},59839:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.i2a=void 0;c=a(16146);r=(function(){function n(){this.ft=new c.WY();this.h1=new c.WY();}Object.defineProperties(n.prototype,{total:{get:function(){var d;d=new c.WY();d.add(this.ft);d.add(this.h1);return d;},enumerable:!1,configurable:!0}});n.prototype.add=function(d){this.ft.add(d.ft);this.h1.add(d.h1);};n.prototype.Yya=function(d,g,e){(e?this.h1:this.ft).Yya(d,g);};return n;})();b.i2a=r;},3033:function(r,b,a){var c,n,d,g,e,f,l,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.iJ=void 0;r=a(5163);c=a(66164);n=a(45550);d=r.__importDefault(a(32838));g=r.__importDefault(a(95880));e=r.__importDefault(a(40497));f=a(52571);l=a(27977);h=r.__importDefault(a(66058));a=(function(){function m(p,v,q){var u;u=this;this.ml=new d.default(p,q);this.CH=new g.default(p);this.sO=new h.default(p);this.Wc=new e.default(this.CH,this.ml,this.sO,p);this.s7=new l.e4a(c.platform.Mda,v);n.dJ.HUb(p);p.Zja && (this.Wib=setInterval(function(){u.ml.save();u.CH.save();},p.Zja));}m.Ofa=function(p,v,q){void 0 === k?(m.config=p,m.dRa=q,k=new m(p,v,q)):((0,f.assert)(m.config === p),(0,f.assert)(m.dRa === q));return k;};m.instance=function(){(0,f.assert)(k,"CommonGlobals accessed too early");return k;};m.reset=function(){m.config=void 0;m.dRa=void 0;null === k || void 0 === k?void 0:k.reset();k=void 0;};m.prototype.reset=function(){this.Wc.reset();this.Wib && clearInterval(this.Wib);};return m;})();b.iJ=a;},29340:function(r,b){function a(c,n){var d;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,n);Object.getOwnPropertyNames(c).forEach(function(g){d=Object.getOwnPropertyDescriptor(c,g);void 0 !== d && Object.defineProperty(n,g,d);});}Object.defineProperties(b,{__esModule:{value:!0}});b["default"]=a;},10561:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(58982),b);r.__exportStar(a(6152),b);r.__exportStar(a(85886),b);r.__exportStar(a(33421),b);r.__exportStar(a(76829),b);r.__exportStar(a(11528),b);r.__exportStar(a(65427),b);r.__exportStar(a(41535),b);r.__exportStar(a(41756),b);r.__exportStar(a(13520),b);r.__exportStar(a(67592),b);r.__exportStar(a(32984),b);r.__exportStar(a(57141),b);r.__exportStar(a(23612),b);r.__exportStar(a(90206),b);r.__exportStar(a(6198),b);r.__exportStar(a(56368),b);r.__exportStar(a(87959),b);r.__exportStar(a(84819),b);r.__exportStar(a(17479),b);r.__exportStar(a(38702),b);r.__exportStar(a(15065),b);r.__exportStar(a(80426),b);r.__exportStar(a(52741),b);r.__exportStar(a(2023),b);r.__exportStar(a(48244),b);r.__exportStar(a(9612),b);r.__exportStar(a(30030),b);r.__exportStar(a(60223),b);r.__exportStar(a(23530),b);r.__exportStar(a(77856),b);r.__exportStar(a(55025),b);r.__exportStar(a(49961),b);r.__exportStar(a(78909),b);r.__exportStar(a(34439),b);r.__exportStar(a(43102),b);r.__exportStar(a(53894),b);r.__exportStar(a(9273),b);r.__exportStar(a(66581),b);r.__exportStar(a(15869),b);r.__exportStar(a(44972),b);r.__exportStar(a(24109),b);r.__exportStar(a(6401),b);},6152:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},85886:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},33421:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},76829:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},58982:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},11528:function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.wd=void 0;b.zr=function(c){return c === a.lf || c === a.El || c === a.qaa;};(function(c){c[c.Bw=0]="STOPPED";c[c.lf=1]="BUFFERING";c[c.El=2]="REBUFFERING";c[c.Qn=3]="STREAMING";c[c.qaa=4]="TRACK_SWITCH";})(a || (b.wd=a={}));},65427:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},41535:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},78909:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hJ=void 0;r=b.hJ={};r[r.BO=0]="skipped";r[r.VOb=1]="adjustment";},41756:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},13520:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},32984:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},24109:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},15869:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},65161:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(5163).__exportStar(a(10561),b);},57141:function(r,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.qsb=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.knc=a;b.wNc=function(c){return ("IStreamable: ").concat(c.identifier," [").concat(c.mediaType,"] ").concat(c.groupId," ") + ("p:").concat(JSON.stringify(c.jg)," sp:").concat(c.au," ") + ("pssp:").concat(c.UD," ") + ("state:").concat(c.Fd," path-complete:").concat(c.Mr," ") + ("streaming:").concat(c.pm," current:").concat(c.Om);};},23612:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},90206:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},56368:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},6198:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.oia=b.VY=b.u=void 0;b.vH=function(n){return n === c.u.X?"audio":n === c.u.V?"video":n === c.u.Ia?"text":"unknown";};c=a(26388);Object.defineProperties(b,{u:{enumerable:!0,get:function(){return c.u;}}});b.VY=[c.u.X,c.u.V,c.u.Ia];b.oia=function(n,d,g){n=n || d?d?[c.u.V]:[c.u.X]:[c.u.X,c.u.V];g && n.push(c.u.Ia);return n;};},87959:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(6198);},84819:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(6198);},17479:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});r=b.KJ={};r[r.HAVE_NOTHING=0]="HAVE_NOTHING";r[r.OP=1]="HAVE_SOMETHING";r[r.NP=2]="HAVE_MINIMUM";r[r.OX=3]="HAVE_ENOUGH";},38702:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},15065:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},80426:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Sb=void 0;b.JMa=function(d){return d === c.wd.lf?n.lf:d === c.wd.El?n.El:d === c.wd.qaa?n.lf:d === c.wd.Qn?n.yf:n.Pn;};c=a(11528);(function(d){d[d.Pn=0]="STARTING";d[d.lf=1]="BUFFERING";d[d.El=2]="REBUFFERING";d[d.yf=3]="PLAYING";d[d.haa=4]="STOPPING";d[d.Bw=5]="STOPPED";d[d.vi=6]="PAUSED";})(n || (b.Sb=n={}));},34439:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(58457),b);r.__exportStar(a(27066),b);r.__exportStar(a(92251),b);r.__exportStar(a(80094),b);r.__exportStar(a(87519),b);r.__exportStar(a(81451),b);r.__exportStar(a(60248),b);r.__exportStar(a(59638),b);},58457:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},60248:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},81451:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},27066:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},87519:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},92251:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},59638:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},80094:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},52741:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},2023:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},9612:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},48244:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},30030:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},60223:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},67592:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},23530:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},77856:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},6401:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},44972:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},55025:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},49961:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},9273:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});r=b.Xy={};r[r.xHb=0]="PLAYGRAPH_CHANGED";r[r.yHb=1]="PLAYGRAPH_UNCHANGED";r[r.wGb=2]="NO_MATCHING_SEGMENT_FOUND";r[r.NIb=3]="SEGMENT_ALREADY_APPENDED_REMOVAL_NOT_SUPPORTED";r[r.ODb=4]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";r[r.NDb=5]="EXISTING_SEGMENT_START_TIME_MISMATCHED";r[r.OIb=6]="SEGMENT_EXTENSION_NOT_SUPPORTED";r[r.BAb=7]="APPENDED_PAST_TRUNCATION_POINT";r[r.lFb=8]="LOSS_OF_POSITION";},43102:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(85892),b);r.__exportStar(a(61555),b);},61555:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Qga=function(a){return void 0 !== a.fyb;};b.ZHa=function(a){return void 0 !== a.xml && void 0 !== a.images;};},85892:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},66581:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},53894:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},37268:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.xw=b.ww=b.Sk=b.QT=b.maa=void 0;c=a(5163);n=a(66164);d=a(91562);Object.defineProperties(b,{ww:{enumerable:!0,get:function(){return d.ww;}}});Object.defineProperties(b,{xw:{enumerable:!0,get:function(){return d.xw;}}});Object.defineProperties(b,{QT:{enumerable:!0,get:function(){return d.QT;}}});Object.defineProperties(b,{maa:{enumerable:!0,get:function(){return d.maa;}}});r=(function(g){function e(f,l,h,k,m){return g.call(this,e.console,f,l,h,k,m) || this;}c.__extends(e,g);Object.defineProperties(e,{console:{get:function(){return this.Wb || (this.Wb=new n.platform.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return e;})(d.Sk);b.Sk=r;},64772:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Spa=void 0;r=a(66164);c=a(56089);n=a(65161);new r.platform.Console("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){var f7G;function d(g){var J1y;J1y=2;for(;J1y !== 4;){switch(J1y){case 2:var u3p="1";u3p+="SIYbZrN";u3p+="JC";u3p+="p9";this.CHa=g;this.ZC={};u3p;J1y=4;break;}}}f7G=2;for(;f7G !== 7;){switch(f7G){case 2:d.prototype.reset=function(){var r6I;r6I=2;for(;r6I !== 1;){switch(r6I){case 2:this.yI=new c.SUa();r6I=1;break;case 4:this.yI=new c.SUa();r6I=7;break;}}};d.prototype.TA=function(g,e){var H2V;H2V=2;for(;H2V !== 1;){switch(H2V){case 2:e.il && (this.CHa?this.yI.start(g,e.il,e.Nh):e.type === n.u.V && (this.ZC[e.il]?this.ZC[e.il].s8+=1:this.ZC[e.il]={il:e.il,Nh:e.Nh,s8:1,Tea:!1},this.xyb(g)));H2V=1;break;}}};d.prototype.WA=function(g,e){var N1f,f;N1f=2;for(;N1f !== 9;){switch(N1f){case 2:N1f=e.il?1:9;break;case 1:N1f=this.CHa?5:4;break;case 6:N1f=this.CHa?8:5;break;case 5:this.yI.stop(g,e.il,e.Nh);N1f=9;break;case 4:f=this.ZC[e.il];e.type === n.u.V && f && (--f.s8,0 === f.s8 && (f.Tea && this.yI.stop(g,e.il,e.Nh),f.Tea=!1,delete this.ZC[e.il]),this.xyb(g));N1f=9;break;}}};d.prototype.$Q=function(g,e,f,l){var j8G;j8G=2;for(;j8G !== 1;){switch(j8G){case 2:l.il && (this.CHa?this.yI.add(g,e,f,l.il,l.Nh):this.F_ === l.il && this.yI.add(g,e,f,l.il,l.Nh));j8G=1;break;}}};f7G=3;break;case 3:d.prototype.Np=function(){var c0y;c0y=2;for(;c0y !== 1;){switch(c0y){case 2:return this.yI.get();break;}}};d.prototype.xyb=function(g){var B18,e,f;B18=2;for(;B18 !== 5;){switch(B18){case 2:(e=Object.keys(this.ZC).map(function(l){var g1F;g1F=2;for(;g1F !== 1;){switch(g1F){case 2:return parseInt(l);break;}}}),f=this.ZC[e[0]]);1 === e.length && !1 === f.Tea?(this.yI.start(g,f.il,f.Nh),this.F_=f.il):1 < e.length && this.F_ && (e=this.ZC[this.F_],this.yI.stop(g,this.F_,e.Nh),e.Tea=!1,this.F_=void 0);B18=5;break;}}};return d;break;}}})();b.Spa=a;},21506:function(r,b,a){var n;function c(){this.kp=void 0;this.sF=0;}n=a(17267);c.prototype.start=function(){};c.prototype.stop=function(){};c.prototype.add=function(){};c.prototype.getState=function(){return 0 !== this.sF && this.kp?{p25:this.kp.Jt,p50:this.kp.gq,p75:this.kp.Kt,c:this.sF}:null;};c.prototype.Lg=function(d){if(!(!n.Dc(d) && n.has(d,"p25") && n.has(d,"p50") && n.has(d,"p75") && n.has(d,"c") && n.isFinite(d.p25) && n.isFinite(d.p50) && n.isFinite(d.p75) && n.isFinite(d.c)))return (this.kp=void 0,this.sF=0,!1);this.kp={Jt:d.p25,gq:d.p50,Kt:d.p75};this.sF=d.c;};c.prototype.get=function(){return {uMa:this.kp,$j:this.sF};};c.prototype.set=function(d,g){this.kp=d;this.sF=g;};c.prototype.reset=function(){this.kp=void 0;this.sF=0;};c.prototype.toString=function(){return "IQRHist(" + this.kp + "," + this.sF + ")";};r.exports=c;},32838:function(r,b,a){var n,d,g,e,f,l,h,k,m;function c(p,v,q){return n.has(p,v)?p[v]:p[v]=q;}Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);n=r.__importStar(a(17267));d=a(66164);g=r.__importStar(a(69575));e=r.__importDefault(a(14282));f=a(97315);l=g.bXa;new d.platform.Console("ASEJS_LOCATION_HISTORY","media|asejs");h={confidence:e.default.Mn.HAVE_NOTHING};k=(function(){function p(v){var q;this.config=v;q=v.oxa;this.confidence=e.default.Mn.HAVE_NOTHING;this.Dcb=v.p6a;v=new f.dqa(v);this.gb=v.create("throughput-location-history",q);this.Lx=v.create("throughput-location-history",q);this.wma=v.create("throughput-location-history",q);this.xma=v.create("throughput-location-history",q);this.vma=v.create("throughput-location-history",q);this.Kg=v.create("respconn-location-history",q);this.Pp=v.create("respconn-location-history",q);this.tma=v.create("throughput-tdigest-history",q);this.Pga=v.create("throughput-iqr-history",q);this.Vda=v.create("throughput-location-history",q);this.Xda=v.create("throughput-location-history",q);this.Wda=v.create("throughput-location-history",q);this.Yda=v.create("throughput-location-history",q);this.time=null;}p.prototype.OK=function(v,q){this.confidence=q;this.gb.add(v);this.tma.add(v);this.time=d.platform.time.ya();};p.prototype.LK=function(v){this.Lx.add(v);};p.prototype.PK=function(v){this.wma.add(v.initial);this.xma.add(v.low);this.vma.add(v.high);};p.prototype.eP=function(v,q){this.Pga.set(v,q);};p.prototype.yC=function(v){this.Kg.add(v);};p.prototype.xC=function(v){this.Pp.add(v);};p.prototype.KK=function(v){this.Vda.add(v.xa);this.Xda.add(v.af);this.Wda.add(v.jR);this.Yda.add(v.EW);};p.prototype.getState=function(){var v;v={c:this.confidence,t:n.Dc(this.time)?null:d.platform.time.Aia(this.time),tp:this.gb.getState(),itp:this.Lx.getState(),tcii:this.wma.getState(),tcil:this.xma.getState(),tcih:this.vma.getState(),rt:this.Kg.getState(),hrt:this.Pp.getState(),iqr:this.Pga.getState(),td:this.tma.getState(),dta:this.Vda.getState(),dtv:this.Xda.getState(),dtta:this.Wda.getState(),dttv:this.Yda.getState()};return n.Dc(v.tp) && n.Dc(v.rt) && n.Dc(v.hrt)?null:v;};p.prototype.Lg=function(v){var q;q=d.platform.time.now();if(!v || n.Dc(v.c) || n.Dc(v.c) || n.Dc(v.tp) || !n.isFinite(v.c) || !n.isFinite(v.t) || n.Dc(v.t) || 0 > v.c || v.c > e.default.Mn.OX || v.t > q || !this.gb.Lg(v.tp))return (this.confidence=e.default.Mn.HAVE_NOTHING,this.Qz=this.time=null,this.gb.Lg(null),this.Kg.Lg(null),this.Pp.Lg(null),!1);this.confidence=v.c;this.time=d.platform.time.dja(v.t);this.Kg.Lg(v.rt);this.Pp.Lg(v.hrt);this.Lx.Lg(v.itp);this.wma.Lg(v.tcii);this.xma.Lg(v.tcil);this.vma.Lg(v.tcih);this.Vda.Lg(v.dta);this.Xda.Lg(v.dtv);this.Wda.Lg(v.dtta);this.Yda.Lg(v.dttv);n.Dc(v.iqr) || this.Pga.Lg(v.iqr);n.Dc(v.td) || this.tma.Lg(v.td);return !0;};p.prototype.get=function(){var v,q,u,t,w,x,z,y,A,B,C;v=this.config;if(n.Dc(this.time))return h;q=(d.platform.time.ya() - this.time) / 1E3;q > v.mLb?this.confidence=e.default.Mn.HAVE_NOTHING:q > v.YKb && (this.confidence=Math.min(this.confidence,e.default.Mn.OP));u=this.gb.get();t=this.Lx.get();v=this.wma.get().xa;w=this.xma.get().xa;x=this.vma.get().xa;z=this.Kg.get();y=this.Pp.get();A=this.Pga.get();B=this.tma.get();C={xa:this.Vda.nGa().xa,af:this.Xda.nGa().xa,jR:this.Wda.get().xa,EW:this.Yda.get().xa};q={U_:q,confidence:this.confidence,gb:u,Lx:t,Kg:z,Pp:y,YG:A,ck:B,Dp:C,NNc:u?l.prototype.EA.bind(u):void 0,KMc:z?l.prototype.EA.bind(z):void 0,XJc:y?l.prototype.EA.bind(y):void 0,gv:!1};q["throughput-ci"]={initial:v,low:w,high:x};return q;};p.prototype.debug=function(){this.get();n.Dc(this.time) || d.platform.time.ya();};return p;})();m=(function(){function p(v,q,u,t,w){this.config=w;this.global=new k(w);this.Aq=[];this.Gfc=d.platform.time.ya() - Date.now() % 864E5;for(v=0;v < t;++v)this.Aq.push(new k(w));}p.prototype.index=function(){return ((d.platform.time.ya() - this.Gfc) / 1E3 / 3600 / (24 / this.Aq.length) | 0) % this.Aq.length;};p.prototype.getState=function(){return {f:n.Dr(this.Qz)?void 0:d.platform.time.Aia(this.Qz),g:this.global.getState(),h:this.Aq.map(function(v){return v.getState();})};};p.prototype.Lg=function(v){var q,u;if(!this.global.Lg(v.g))return !1;q=this.Aq.length;u=!1;this.Aq.forEach(function(t,w){u=!t.Lg(v.h[w * v.h.length / q | 0]) || u;});this.Qz=n.Dr(v.f)?void 0:d.platform.time.dja(v.f);return u;};p.prototype.OK=function(v,q){this.global.OK(v,q);this.Aq[this.index()].OK(v,q);this.Qz=void 0;};p.prototype.LK=function(v){this.global.LK(v);this.Aq[this.index()].LK(v);this.Qz=void 0;};p.prototype.PK=function(v){this.global.PK(v);this.Aq[this.index()].PK(v);this.Qz=void 0;};p.prototype.eP=function(v,q){this.global.eP(v,q);this.Aq[this.index()].eP(v,q);};p.prototype.yC=function(v){this.global.yC(v);this.Aq[this.index()].yC(v);};p.prototype.xC=function(v){this.global.xC(v);this.Aq[this.index()].xC(v);};p.prototype.KK=function(v){this.global.KK(v);this.Aq[this.index()].KK(v);};p.prototype.fail=function(v){this.Qz=v;};p.prototype.get=function(){var v,q;if(!n.Dr(this.Qz)){if((d.platform.time.ya() - this.Qz) / 1E3 < this.config.XKb)return {confidence:e.default.Mn.HAVE_NOTHING,gv:!0};this.Qz=void 0;}v=this.Aq[this.index()].get();q=this.global.get();v="untimedPerLocation" !== this.config.WZ && "untimedAndFallbackGlobal" !== this.config.WZ && v.confidence >= q.confidence?v:q;v.gv=!1;return v;};p.prototype.time=function(){return this.global.time;};p.prototype.debug=function(v){this.global.debug(v + ": global");this.Aq.forEach(function(q,u,t){n.Dc(q.time) || (u=24 * u / t.length,q.debug(v + ":  " + ((10 > u?"0":"") + u + "00h")));});};return p;})();a=(function(){function p(v,q){var u;this.config=v;this.dRa=q;this.p1b();this.Ex=new k(this.config);this.load();if(v=v.ECa){u={confidence:e.default.Mn.OX,gb:{xa:v,af:0},Kg:{xa:0,af:0},Pp:{xa:0,af:0}};this.get=function(){return u;};}}p.prototype.Ffa=function(v,q){var u;u=this.config;v=c(this.history,null !== v && void 0 !== v?v:"",{});return c(v,q?q:"",new m(u.M6a || 14400,u.L6a || 100,u.K6a || 100,u.t7a || 4,u));};p.prototype.load=function(){var v,q;v=d.platform.storage.get("lh");q=d.platform.storage.get("gh");v && this.Lg(v);q && this.Arc(q);};p.prototype.getState=function(){var v;v={};n.kt(this.history,function(q,u){n.kt(q,function(t,w){c(v,u,{})[w]=t.getState();},this);},this);return v;};p.prototype.Arc=function(v){this.Ex.Lg(v);};p.prototype.Lg=function(v){var q,u,t;q=this;u=!0;t=this.config;n.kt(v,function(w,x){n.kt(w,function(z,y){var A;A=new m(t.M6a || 14400,t.L6a || 100,t.K6a || 100,t.t7a || 4,t);A.Lg(z)?(c(q.history,x,{})[y]=A,u=!0):n.Dc(u) && (u=!1);},q);},this);return u;};p.prototype.save=function(){var v;v=this.getState();d.platform.storage.set("lh",v);d.platform.storage.set("gh",this.Ex.getState());};p.prototype.p1b=function(){this.history={};this.SR=this.kcb="";this.ml=null;};p.prototype.Hla=function(v){this.kcb=v;this.ml=null;};p.prototype.Tub=function(v){this.SR=v;this.ml=null;};p.prototype.kD=function(){n.Dc(this.ml) && (this.ml=this.Ffa(this.kcb,this.SR));return this.ml;};p.prototype.OK=function(v,q){this.kD().OK(v,q);this.Ex.OK(v,q);};p.prototype.LK=function(v){this.kD().LK(v);this.Ex.LK(v);};p.prototype.PK=function(v){this.kD().PK(v);this.Ex.PK(v);};p.prototype.eP=function(v,q){v && v.Jt && v.gq && v.Kt && (this.kD().eP(v,q),this.Ex.eP(v,q));};p.prototype.yC=function(v){this.kD().yC(v);this.Ex.yC(v);};p.prototype.xC=function(v){this.kD().xC(v);this.Ex.xC(v);};p.prototype.KK=function(v){this.kD().KK(v);this.Ex.KK(v);};p.prototype.fail=function(v,q){this.Ffa(v,this.SR).fail(q);};p.prototype.get=function(v){var q,u,t,w,x;q=this;if("overrideGlobal" === this.config.WZ)return this.Ex.get();v=(v=this.history[v])?v[this.SR]:null;u=null;if(v && (u=v.get(),u.confidence > e.default.Mn.HAVE_NOTHING))return u;if("fallbackGlobal" === this.config.WZ || "untimedAndFallbackGlobal" === this.config.WZ)return this.Ex.get();u=null;w=!1;n.kt(this.history,function(z){n.kt(z,function(y,A){var B;A=A.toString();if(!w || A === q.SR){B=y.get();B && (!t || t <= B.confidence) && (y=y.time(),!x || !n.Dc(t) && t < B.confidence || !n.Dc(y) && x < y) && (t=B.confidence,w=A === q.SR,x=y,u=B);}},q);},this);return u || h;};p.prototype.debug=function(){n.kt(this.history,function(v,q){n.kt(v,function(u,t){u.debug(q + ":" + t);});});};return p;})();b["default"]=a;},95880:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163).__importStar(a(17267));n=a(66164);new n.platform.Console("ASEJS_LOCATION_HISTORY","media|asejs");r=(function(){function d(g){this.config=g;this.load();}d.prototype.save=function(){var g;g=this.getState();n.platform.storage.set("nh",g);};d.prototype.Xjb=function(g,e){this.vI && (e > this.eV && (this.IO+=e - this.eV,this.eV=e),-1 === this.Aha || g > this.Aha) && (g=e - g,this.vT.push([this.IO - g,g]),this.trim(),this.Aha=e);};d.prototype.trim=function(){var g;g=this.IO - this.config.Agc;this.vT=this.vT.filter(function(e){return e[0] > g;});};d.prototype.load=function(){var g;g=n.platform.storage.get("nh");this.Lg(g) || (this.eV=n.platform.time.ya(),this.IO=0,this.vI=!1,this.Aha=-1,this.vT=[]);};d.prototype.Lg=function(g){if(!(g && c.has(g,"t") && c.has(g,"s") && c.has(g,"i") && c.dc(g.t) && c.dc(g.s) && c.isArray(g.i)))return !1;this.eV=n.platform.time.dja(1E3 * g.t);this.IO=1E3 * g.s;this.vI=!1;this.vT=g.i.map(function(e){return [1E3 * e[0],e[1]];});this.Aha=-1;return !0;};d.prototype.getState=function(){return this.vI?{t:n.platform.time.now() / 1E3 | 0,s:(this.IO + (n.platform.time.ya() - this.eV)) / 1E3 | 0,i:this.vT.map(function(g){return [g[0] / 1E3 | 0,g[1]];})}:{t:n.platform.time.Aia(this.eV) / 1E3 | 0,s:this.IO / 1E3 | 0,i:this.vT.map(function(g){return [g[0] / 1E3 | 0,g[1]];})};};return d;})();b["default"]=r;},40497:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);n=c.__importStar(a(17267));r=a(90745);d=a(66164);g=a(91176);e=a(72697);f=a(97315);l=a(96965);h=a(66917);k=a(64772);m=a(75640);p=new d.platform.Console("ASEJS_NETWORK_MONITOR","media|asejs");a=(function(q){function u(t,w,x,z){var y;y=q.call(this) || this;y.zq={};y.b6=0;y.NH=0;y.JZ=[];y.buffer=0;y.Ni=!1;y.xlb=-Infinity;y.scb=null;y.config=z;y.Keb=new f.dqa(z);y.z1=new k.Spa(!0);y.E_=new k.Spa(!1);z.D0b && (y.GU=new m.$0a(y.config));y.reset();y.CH=t;y.Ow=w;y.sO=x;y.Ujb=d.platform.Jr.name();y.Ow.Tub(y.Ujb);d.platform.events.on("networkchange",y.tic.bind(y));return v=y;}c.__extends(u,q);u.instance=function(){return v;};u.reset=function(){v && v.reset();};Object.defineProperties(u.prototype,{jbc:{get:function(){return d.platform.time.now() - this.xlb < this.config.Wka;},enumerable:!1,configurable:!0}});u.prototype.tic=function(t){this.Ujb=t;this.Ow.Tub(t);};Object.defineProperties(u.prototype,{ml:{get:function(){return this.Ow;},enumerable:!1,configurable:!0}});u.prototype.Fyb=function(){var t;if(!this.ORa){t=this.Xhb();this.Ow.OK(t.default.xa,this.confidence);t["initial-throughput-ewma"] && t["initial-throughput-ewma"].xa && this.Ow.LK(t["initial-throughput-ewma"].xa);t["throughput-ci"] && this.Ow.PK(t["throughput-ci"]);t.deliverytime && this.Ow.KK(t.deliverytime);this.Ow.eP(t.YG?t.YG.uMa:void 0,t.YG?t.YG.Rpc:void 0);n.Dc(this.op) || (this.ORa=!0);}};Object.defineProperties(u.prototype,{startTime:{get:function(){return this.Ww;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{confidence:{get:function(){return this.zq.confidence.get(0);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Fj:{get:function(){return this.Fu;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{KNb:{get:function(){return this.JZ;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{jcc:{get:function(){return this.R6a;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{location:{get:function(){return this.mK;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{lob:{get:function(){return this.l7a;},enumerable:!1,configurable:!0}});u.prototype.CKb=function(){var t,w,x,z;t=this.config;w=t.NKb.concat(t.VKb).filter(Boolean);x=t.oxa;z=this.Keb;w=w.reduce(function(y,A){y[A]=z.create(A,x);return y;},{});w.confidence=new h.MJ(t,new l.f0a(t,this.oja.bind(this)));return w;};u.prototype.reset=function(){var t,w,x,z;t=this.config.oxa;w=this.Keb;x=this.config;this.mK=null;this.l7a=void 0;this.zq=this.CKb();if(this.config.Rdb){z=this.config.mxb;this.zq.xvc=new e.DX(z.numB * z.bSizeMs,z.bSizeMs);}this.z1.reset();this.E_.reset();this.Kg=w.create("respconn-ewma",t);this.Pp=w.create("respconn-ewma",t);this.GU && this.GU.reset();this.$wc=this.Fyb.bind(this);n.Dr(this.vW) || (clearInterval(this.vW),this.vW=void 0);this.cd=this.op=this.Ww=null;this.Dma=0;x.ttb && (this.NH=this.b6=this.Fu=0,this.JZ=[]);};u.prototype.Hla=function(t){var w;w=this.zq;if(t !== this.mK){n.Dr(this.vW) || (clearInterval(this.vW),this.vW=void 0);n.Dc(this.mK) && (this.Dma=0,this.Ww=null);if(!n.Dc(t)){for(var x in w)w[x] && w[x].reset && w[x].reset();this.Kg.reset();this.Pp.reset();}n.Dc(this.Ww) || (this.Dma+=(n.Dc(this.op)?d.platform.time.ya():this.op) - this.Ww);this.op=this.Ww=null;this.mK=t;this.Ow.Hla(t);}};u.prototype.$Q=function(t,w,x,z){var y,A,B;this.R6a=Math.max(this.R6a || 0,x);this.NH-=t;A=this.config;B=this.zq;if(!0 === z.MW)(z=B["throughput-wssl"]) && z.add(t,w,x,!0);else if(n.Dr(w))p.warn("addDataReceived called with undefined start time");else if((this.GU && this.GU.$Q(t,w,x,z),!(A.hjb && x - w < A.OPa))){A.UKb && x - w < A.OPa?w=x - A.OPa:0 === x - w && (w=x - 1);this.z1.$Q(t,w,x,z);this.E_.$Q(t,w,x,z);for(var C in B)B[C] && B[C].add && B[C].add(t,w,x,z);n.Dc(this.Ww) && (this.Ww=w,this.op=null,this.ORa=!1);n.Dc(this.op) || (w > this.op && (this.Ww+=w - this.op),this.op=null,this.ORa=!1);n.Dc(this.cd) || (w - this.cd > A.m7a?this.CH.Xjb(this.cd,w):x - w > A.m7a && this.CH.Xjb(w,x));this.cd=this.cd?Math.max(x,this.cd):x;null === (y=this.scb) || void 0 === y?void 0:y.resolve();}};u.prototype.yC=function(t){isNaN(t) || n.Dc(t) || (this.Kg.add(t),this.Ow.yC(t));};u.prototype.xC=function(t){isNaN(t) || n.Dc(t) || (this.Pp.add(t),this.Ow.xC(t));};u.prototype.start=function(t,w){var x;n.Dc(this.cd) && !n.Dc(this.op) && (this.cd=t);x=this.zq;if(this.config.mQa)for(var z in x)x[z] && x[z].start && x[z].start(t,w);};u.prototype.stop=function(t,w){var x,z;x=this.zq;for(z in x)x[z] && x[z].stop && x[z].stop(t,w);this.op=n.Dc(this.op)?t:Math.min(this.op,t);this.cd=null;};u.prototype.flush=function(){var t,w;t=this.zq;for(w in t)t[w] && t[w].flush && t[w].flush();this.jSb();this.aqc();};u.prototype.aqc=function(){var t,w;t=this.lob;w=0;t && ("uhd" in t) && (w=t.uhd);(t=this.get()) && t.avtp && t.avtp.xa && (this.sO.pOb(t.avtp.xa,w,t.avtp.hDa),this.sO.save());};u.prototype.jSb=function(){var t;t=this.zq.entropy;t && (this.l7a=t.bSb(),t.reset());};u.prototype.Xhb=function(){var t,w,x,z,y,A,B,C;t=d.platform.time.ya();w=this.zq;x=this.config;z=x.o6a;y=x.IKb;A=x.N7a;B={};for(C in w)w[C] && w[C].get && (B[C]=w[C].get(t,this.NH),"iqr" === w[C].type && (B.YG=B[C]),"tdigest" === w[C].type && (B.ck=B[C]),"wssl" === w[C].type && (B.MW=B[C]));B.cdnavtp=this.z1.Np();B.activecdnavtp=this.E_.Np();B.default=z && B[z] && y && void 0 !== B[z][y]?{xa:B[z][y]}:z && B[z]?B[z]:B["throughput-ewma"];"none" !== x.SOa && "none" !== A && (B.hub=A && B[A]?B[A]:B["throughput-sw"]);return B;};u.prototype.eGa=function(){return this.GU?this.GU.eGa():void 0;};u.prototype.get=function(){var t,w,x,z,y,A;t=this.Xhb();w=t.default;x=this.Kg.get();z=this.Pp.get();y=this.config;if(t.hub){A=t.hub;w=n.dc(w.xa) && n.dc(A.xa) && w.xa > A.xa && 0 < A.xa?A:w;}t.gb=w;t.Lx=t["initial-throughput-ewma"];!y.Q0b || !w || n.Dc(w.xa) || isNaN(w.xa) || !t.MW || n.Dc(t.MW.xa) || isNaN(t.MW.xa) || ("max" === y.nAb?t.gb.xa=Math.max(t.MW.xa,w.xa):"sum" === y.nAb && (t.gb.xa+=t.MW.xa));t.Kg=x;t.Pp=z;this.config.Rdb && (w=this.config.mxb,t.TNc=this.zq.xvc.get(w.fillS,w.fillHl));w=this.Dma + (n.Dc(this.Ww)?0:(n.Dc(this.op)?d.platform.time.ya():this.op) - this.Ww);t.time=w;return t;};u.prototype.r8b=function(){var t,w,x;t={};w=this.get();if(w.confidence && w["throughput-ewma"]){t.aseavtp=Number(w["throughput-ewma"].xa).toFixed(2);t.asevartp=Number(w["throughput-ewma"].af).toFixed(2);if(w.YG){x=w.YG.uMa;!x || void 0 === x.Kt || void 0 === x.Jt || void 0 === x.gq || isNaN(x.Kt || 0) || isNaN(x.Jt) || isNaN(x.gq) || (t.aseniqr=0 < x.gq?Number((x.Kt - x.Jt) / x.gq).toFixed(2):-1,t.aseiqr=Number(x.Kt - x.Jt).toFixed(2),t.asemedtp=Number(x.gq).toFixed(2));t.iqrsamples=w.YG.Rpc;}w.ck && w.ck.YS && (t.tdigest=w.ck.YS());}return t;};u.prototype.Q2=function(){return this.sO.Q2();};u.prototype.TA=function(t,w){var x,z,y;x=w.requestId;1 === ++this.Fu && this.emit("active",t);if(this.config.Edb){z=this.zq;for(y in z)z[y] && z[y].TA && z[y].TA(t,w);}this.config.dma && this.start(t,w);x && (this.config.dma || this.start(t,w),this.JZ.push(x));this.NH+=w.la || 0;this.z1.TA(t,w);this.E_.TA(t,w);};u.prototype.Toc=function(){++this.b6;};u.prototype.WA=function(t,w,x){var z,y,A;z=x.requestId;w && --this.b6;--this.Fu;this.NH=Math.max((this.NH || 0) - ((x.la || 0) - (x.bytesReceived || 0)),0);this.config.ttb && (this.Fu=Math.max(this.Fu,0),this.b6=Math.max(this.b6,0));if(this.config.Edb){y=this.zq;for(A in y)y[A] && y[A].WA && y[A].WA(t,w,x);}this.config.dma && this.stop(t,x);0 === this.Fu && (this.config.dma || this.stop(t,x),this.emit("inactive",t));z && (w=this.JZ.indexOf(z),0 <= w && this.JZ.splice(w,1));this.z1.WA(t,x);this.E_.WA(t,x);};u.prototype.oja=function(){this.Fyb();this.vW=setInterval(this.$wc,this.config.ALb);};u.prototype.epc=function(){return c.__awaiter(this,void 0,void 0,function(){var t,w,x,z,y,A,B,C,D,E,F;return c.__generator(this,function(G){switch(G.label){case 0:t=this.get();w=t.gb.xa;x=t.Kg.xa;if(this.jbc)return [2,{pob:w,Mhc:w,Dtb:x}];this.xlb=d.platform.time.now();z=this.config;y=z.o6a;A=z.N7a;return y.match(/ewma/)?[4,this.scb=new g.ns()]:[2,null];case 1:return (G.va(),B=this.get(),C=(null === (F=B["throughput-sw-fast"]) || void 0 === F?void 0:F.xa) || 0,D=this.zq[y],E="none" !== A?this.zq[A]:null,null === D || void 0 === D?void 0:D.reset(),null === E || void 0 === E?void 0:E.reset(),[2,{pob:C,Mhc:w,Dtb:x}]);}});});};return u;})(r.EventEmitter);b["default"]=a;},75539:function(r,b,a){var c,n,d,g,e,f,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Ysa=b.Fh=void 0;r=a(5163);c=a(90745);n=a(66164);d=a(52571);g=a(45550);e=a(65161);f=a(8149);l=r.__importDefault(a(40497));(function(k){k[k.Gy=0]="CREATED";k[k.OPENED=1]="OPENED";k[k.SW=2]="ACTIVE";k[k.Fl=3]="RECEIVING";k[k.So=4]="COMPLETE";k[k.nw=5]="ABORTED";})(h || (b.Fh=h={}));a=(function(){function k(m,p,v,q,u,t,w,x,z,y){this.stream=m;this.Zf=p;this.properties=u;this.listener=w;this.M=x;this.config=z;this.console=y;this.aK=0;this.hb=h.Gy;this.request=new n.platform.Am(v,q,this.F7b(u,x));this.offset=t.offset;this.pe=t.la;this.id=this.Q5b();this.Nvb=u.aB;this.dO=u.dO;this.Xv=u.Xv;this.responseType=void 0 === u.responseType?n.platform.Am.Rf && !n.platform.Am.Rf.rOa.xva?0:1:u.responseType;this.mj=this.aQb();this.mediaType === e.u.Ia || !z.Vya && u.De || (this.Wc=l.default.instance());}Object.defineProperties(k.prototype,{url:{get:function(){return this.Zf;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{la:{get:function(){return this.pe;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{mediaType:{get:function(){return this.stream.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bytesReceived:{get:function(){return this.aK;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{status:{get:function(){return this.request.status;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ii:{get:function(){return this.request.Ii;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{response:{get:function(){return this.request.response;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Tg:{get:function(){return this.request.Tg;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{dD:{get:function(){return this.request.dD;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Uj:{get:function(){return this.request.Uj;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{hG:{get:function(){return this.request.track;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Bja:{get:function(){return this.hb >= h.OPENED && this.hb < h.So;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{active:{get:function(){return this.hb >= h.SW && this.hb < h.So;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{HNa:{get:function(){return this.hb === h.Fl;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{complete:{get:function(){return this.hb === h.So;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{aborted:{get:function(){return this.hb === h.nw;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{state:{get:function(){return this.hb;},enumerable:!1,configurable:!0}});k.prototype.open=function(){if(this.hb !== h.Gy || !this.request.open(this.Zf,{start:this.offset,end:this.offset + this.pe - 1},this.responseType,{},void 0,void 0,this.Nvb,this.stream.Zv,this.stream.fa?this.stream.R.jH.oS:void 0))return !1;this.hb=h.OPENED;return !0;};k.prototype.eW=function(m){if(this.state < h.OPENED || this.state >= h.So)return (this.Zf=m,!0);if(this.Zf === m)return this.hqc();this.nBa();this.Zf=m;return this.request.eW(m);};k.prototype.hqc=function(){var m,p;m=this;if(void 0 === this.G6){p=this.request.Ii?n.platform.time.ya() - this.request.Ii:0;this.G6=setTimeout(function(){m.G6=void 0;m.request.eW(m.Zf) || m.listener.Jv(m);},Math.max(0,this.config.Kia - p));}return !0;};k.prototype.abort=function(){var m;if(this.aborted)return !0;this.active && (null === (m=this.Wc) || void 0 === m?void 0:m.WA(n.platform.time.ya(),this.HNa,this.M2()));this.hb=h.nw;this.nBa();this.request.abort();return !0;};k.prototype.ze=function(){var m,p,v;if(7 !== this.request.readyState && 5 !== this.request.readyState){p=this.Bja;v=this.active;this.abort();this.listener.CU(this,v,p);}this.nBa();null === (m=this.mj) || void 0 === m?void 0:m.clear();this.request.ze();};k.prototype.getResponseHeader=function(m,p){return this.request.getResponseHeader(m,p);};k.prototype.getAllResponseHeaders=function(m){return this.request.getAllResponseHeaders(m);};k.prototype.hgb=function(){var m,p;m=this.getResponseHeader("content-range",!1);if(m){p=m.indexOf("/");(0,d.assert)(-1 !== p,"unable to parse content-range: " + m);p=m.slice(p + 1);p=parseInt(p);(0,d.assert)(0 < p,"unable to parse content-range: " + m);return p;}};k.prototype.hV=function(){this.request.hV();};k.prototype.Fi=function(){return this.request.Fi();};k.prototype.vU=function(){var m,p;if(this.hb === h.OPENED){this.hb=h.SW;p=this.request.Ii || this.request.loadTime;g.dJ.instance().push(n.platform.time.ya() - p);!this.config.Rmb && (null === (m=this.Wc) || void 0 === m?void 0:m.TA(p,this.M2()));this.listener.tN(this);this.timestamp=p;}};k.prototype.pja=function(){var m,p,v,q,u;if(!(this.hb >= h.Fl)){this.hb=h.Fl;u=this.request.Ii || this.request.EEa;g.dJ.instance().push(n.platform.time.ya() - u);this.config.Rmb && (null === (m=this.Wc) || void 0 === m?void 0:m.TA(u,this.M2()));null === (p=this.Wc) || void 0 === p?void 0:p.Toc();m=this.request.A6;this.request.connect && m.length && (null === (v=this.Wc) || void 0 === v?void 0:v.yC(m[0]));this.timestamp=u;this.listener.IH(this);0 === this.pe && this.qxc(this.request.Mo);this.eNa(null !== (q=null === m || void 0 === m?void 0:m[0]) && void 0 !== q?q:-1);}};k.prototype.rN=function(){var m;if(!(this.hb > h.Fl)){this.hb=h.Fl;m=this.request.Ii;g.dJ.instance().push(n.platform.time.ya() - m);m=this.nLa(!0);this.listener.JH(this,m);}};k.prototype.Iv=function(){var m,p,v;if(!this.aborted){p=this.request.Ii;g.dJ.instance().push(n.platform.time.ya() - p);v=this.nLa(!0);null === (m=this.Wc) || void 0 === m?void 0:m.WA(p,this.HNa,this.M2());this.hb=h.So;this.listener.nn(this,v);this.ze();}};k.prototype.$hc=function(){this.listener.yja(this);};k.prototype.Kr=function(){var m;if(!this.complete && !this.aborted && "number" === typeof this.request.Tg){m=this.request.Ii;g.dJ.instance().push(n.platform.time.ya() - m);this.nLa(this.config.$Na && void 0 === this.request.status);this.listener.Jv(this);}};k.prototype.nLa=function(m){var p,v,q,u;p=this;q=this.request.Ii;u=this.request.bytesReceived - this.aK;m && this.Wc && (void 0 !== this.timestamp && 0 < u && this.Wc.$Q(u,this.timestamp,q,this.M2()),null === (v=this.request.A6) || void 0 === v?void 0:v.forEach(function(t){return p.Wc.xC(t);}));this.timestamp=q;this.aK=this.request.bytesReceived;return u;};k.prototype.qxc=function(m){var p;p=this.pe;this.pe=m;this.listener.uN(this,this.pe,p);};k.prototype.eNa=function(m){var p,v;if((0,f.bm)(this.stream)){v=this.request.getResponseHeader("X-TCP-Info",!0);null === (p=this.stream.R.Mha) || void 0 === p?void 0:p.Jjc(this.stream,this.M,this.url,this.mediaType,v,m,this.properties);}else this.request.getAllResponseHeaders(!0);};k.prototype.M2=function(){var m;return {requestId:this.id,il:this.stream.pc,Nh:null === (m=this.stream.R.U.zz) || void 0 === m?void 0:m.Nh,type:this.mediaType,dO:this.dO,la:this.pe,bytesReceived:this.request.bytesReceived,Xv:this.Xv};};k.prototype.Q5b=function(){var m;m=(m=this.stream)?m.toString():this.url;this.pe && (m+=",range " + this.offset + "-" + (this.offset + this.pe - 1));return m;};k.prototype.aQb=function(){var m,p,v;m=this;p=new c.mf();v=n.platform.Am.Pk;p.on(this.request,v.v0a,function(){return m.vU();});p.on(this.request,v.u0a,function(){return m.pja();});p.on(this.request,v.w0a,function(){return m.rN();});p.on(this.request,v.cZ,function(){return m.Iv();});p.on(this.request,v.LDc,function(){return m.$hc();});p.on(this.request,v.ZE,function(){return m.Kr();});return p;};k.prototype.F7b=function(m,p){return {mediaType:this.mediaType,Jb:this.stream.Jb,bitrate:this.stream.bitrate,vd:this.stream.pc,Ox:!m.De,L:p.id,config:this.config,UEa:m.UEa};};k.prototype.nBa=function(){void 0 !== this.G6 && (clearTimeout(this.G6),this.G6=void 0);};k.prototype.toString=function(){return "ID: " + this.request.Fi() + " " + this.id;};k.prototype.toJSON=function(){return {requestId:this.request.Fi(),id:this.id};};return k;})();b.Ysa=a;},75640:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.$0a=void 0;c=a(65161);n=a(43276);r=(function(){var N3B;N3B=2;for(;N3B !== 3;){switch(N3B){case 2:d.prototype.reset=function(){var G0B;G0B=2;for(;G0B !== 4;){switch(G0B){case 2:this.w6=[0,0];this.Mo=[0,0];this.s5=[0,0];G0B=4;break;}}};d.prototype.$Q=function(g,e,f,l){var p4N,h,k;p4N=2;for(;p4N !== 8;){switch(p4N){case 2:this.Mo[l.type]+=g;p4N=5;break;case 5:p4N=(null === (h=l.dO) || void 0 === h?0:h.eha())?4:3;break;case 9:this.s5[l.type]+=g;p4N=8;break;case 4:(this.w6[l.type]+=g,this.Spb.add(g,e,f),this.ULa[l.type].add(g,e,f));p4N=3;break;case 3:p4N=(null === (k=l.dO) || void 0 === k?0:k.TJa(g,e,f,this.t5))?9:8;break;}}};d.prototype.eGa=function(){var H_8;H_8=2;for(;H_8 !== 1;){switch(H_8){case 2:return {bytesRequestedPacingVideo:this.w6[c.u.V],bytesRequestedPacingAudio:this.w6[c.u.X],estimatedBytesPacedVideo:this.s5[c.u.V],estimatedBytesPacedAudio:this.s5[c.u.X],bytestotalVideo:this.Mo[c.u.V],bytestotalAudio:this.Mo[c.u.X],pacedAvtpVideo:this.ULa[c.u.V].get().xa,pacedAvtpAudio:this.ULa[c.u.X].get().xa,pacedAvtp:this.Spb.get().xa};break;}}};return d;break;}}function d(g){var u9W;u9W=2;for(;u9W !== 7;){switch(u9W){case 2:var i4M="1";i4M+="S";i4M+="IYbZrNJ";i4M+="C";i4M+="p9";this.w6=[0,0];this.Mo=[0,0];this.s5=[0,0];i4M;this.t5=g.t5;this.ULa=[new n.aJ(),new n.aJ()];u9W=8;break;case 8:this.Spb=new n.aJ();u9W=7;break;}}}})();b.$0a=r;},66058:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});c=a(66164);n=new c.platform.Console("ASEJS_SESSION_HISTORY","media|asejs");r=(function(){function d(g){this.config=g;this.Hz={avtp:0,neuhd:0,d:0,t:0};this.load();}d.prototype.load=function(){var g;g=this;(this.Go=c.platform.storage.get("sth"))?(this.Go=this.Go.filter(function(e){return e.d >= g.config.xia && 0 <= e.neuhd && 0 < e.avtp;}),this.Go.sort(function(e,f){return e.t - f.t;}),n.log("session history list: ",this.Go)):this.Go=[];};d.prototype.save=function(){this.Hz.d >= this.config.xia && 0 <= this.Hz.neuhd && 0 < this.Hz.avtp && (this.Go.push(this.Hz),this.Go.length > this.config.eia && (this.Go=this.Go.slice(this.Go.length - this.config.eia)),this.Go.length && (n.log("saving state: ",JSON.stringify(this.Go)),c.platform.storage.set("sth",this.Go)));this.Hz={avtp:0,neuhd:0,d:0,t:0};};d.prototype.reset=function(){this.Go=[];this.Hz={avtp:0,neuhd:0,d:0,t:0};};d.prototype.Q2=function(){return this.Go;};d.prototype.pOb=function(g,e,f){this.Hz.avtp=g;this.Hz.neuhd=e;this.Hz.d=f;this.Hz.t=c.platform.time.ya();};return d;})();b["default"]=r;},88318:function(r,b,a){var n,d;function c(g){this.bb={z4:g.maxc || 25,BBa:g.c || .5,unc:g.rc || "none",Gx:g.hl || 7200};this.r_();this.HMb=this.bb.unc;this.iLb=this.bb.Gx;this.Uwa=Math.exp(Math.log(2) / this.iLb);this.Uwa=Math.max(this.Uwa,1);this.Paa=1;}n=a(17267);d=a(15913).TDigest;new (a(66164).platform.Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var g;if(0 === this.Nf.size())return null;g=this.Nf.Wj([.25,.75]);if(g[0] === g[1])return null;this.Nf.size() > this.bb.z4 && this.Nf.Lm();g=this.Nf.uj(!1).reduce((function(e,f){n.dc(f.Ig) && n.dc(f.n) && e.push({mean:f.Ig,n:f.n / this.Paa});return e;}).bind(this),[]);return {tdigest:JSON.stringify(g)};};c.prototype.Lg=function(g){var e;if(n.Dc(g) || !n.has(g,"tdigest") || !n.zh(g.tdigest))return !1;try{e=JSON.parse(g.tdigest);}catch(f){return !1;}e.forEach(function(f){n.isFinite(f.n) || (f.n=1);});g=e.map(function(f){return {Ig:f.mean,n:f.n};});this.Paa=1;this.Nf.vNa(g);void 0 === this.Nf.Wj(0) && this.r_();};c.prototype.get=function(){var g,e;g=this.Nf;e=g.Wj([0,.1,.25,.5,.75,.9,1]);return {min:e[0],SLa:e[1],Jt:e[2],gq:e[3],Kt:e[4],TLa:e[5],max:e[6],cl:g.uj(!1)};};c.d7b=function(g){var e;e=new c({});n.Dc(g) || n.Dr(g) || !n.isArray(g.cl) || (e.Nf.vNa(g.cl),void 0 === e.Nf.Wj(0) && e.r_());g=e.Nf.Wj([.25,.75]);return g[0] === g[1]?null:function(f){return e.Nf.Wj(f);};};c.prototype.add=function(g){var e;e=1;"ewma" === this.HMb && (this.Paa=e=this.Paa * this.Uwa);this.Nf.push(g,e);};c.prototype.toString=function(){return "TDigestHist(" + this.Nf.summary() + ")";};c.prototype.r_=function(){this.Nf=new d(this.bb.BBa,this.bb.z4);};r.exports={C4a:c};},36974:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.WWa=void 0;c=a(95316);n=a(91176);r=(function(){function d(){}d.prototype.xub=function(g){var e,f,l,h;f=g.profile;l=g.frameRate;g=null !== (e=(0,n.oc)(c.yE,function(k){return -1 !== f.indexOf(k);})) && void 0 !== e?e:"h264hpl";e=c.OI[g].some(function(k){return (0,c.aFa)(l,c.c2[k]);})?l:null;if(!e){h={ga:l.ga / 2,O:l.O};e=c.OI[g].some(function(k){return (0,c.aFa)(h,c.c2[k]);})?h:null;}e || (e=c.c2[c.OI[g][0]]);return {profile:g,frameRate:e};};return d;})();b.WWa=r;},27259:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.c1a=void 0;c=a(52571);n=a(36974);d=a(603);r=(function(){function g(e){this.config=e;}g.prototype.create=function(){switch(this.config.HU){case "strict":return new d.l4a();case "flexible":return new n.WWa();default:(0,c.assert)(!1,("Invalid padding codec selector: ").concat(this.config.HU));}};return g;})();b.c1a=r;},27977:function(r,b,a){var n,d,g,e,f,l,h,k,m,p;function c(v){return function(){return ("[").concat(v,":padding]");};}Object.defineProperties(b,{__esModule:{value:!0}});b.e4a=void 0;b.cgb=function(v){return -1 !== v.indexOf("heaac")?"heaac":"ddp";};n=a(95316);d=a(91176);g=a(26388);e=a(52571);f=a(48170);l=a(26279);h=a(79459);k=a(444);m=a(52629);r=(function(){function v(q,u){p=new n.d4a(q,u);}v.yAa=function(){(0,e.assert)(p,"expected StaticMediaCache to exist");return p;};v.prototype.Srb=function(q,u,t,w,x,z,y,A,B,C){var D,E,F,G,J,N,I,M,K;D=[];t=v.yAa().$7b(t,w,x);w=new d.K(t.duration);E=new d.K(t.za);F=E.O;G=t.profile;J={bkb:!0,mediaType:g.u.X,$d:G,profile:G,O:F,Gi:[{Ce:0,data:t.Pb}],Gg:!0,za:E,kg:u,R:q,bitrate:t.bitrate,Jb:"-1",track:{trackId:"1",mediaType:g.u.X,Xm:!1,za:E,R:q,channels:t.channels,sampleRate:48E3,profile:G,Td:[],Ir:x,toString:c(g.u.X)},toJSON:function(){return {mediaType:J.mediaType,Jb:J.Jb,bitrate:J.bitrate};}};J.Mp=J.track.Mp=l.cX.prototype.Mp.bind(J.track);J.track.Td.push(J);q=new d.K(t.za);x=B.vp?u:d.K.wa;G=x.add(w);f.G && C.trace(("StaticMedia: audio target duration is ").concat(z.Ka()));N=d.K.wa;u=B.vp?-Math.ceil(u.Oe(E)):0;B=x;for(E=!0;B.lessThan(z);){B=B.add(w);B.greaterThan(z) && (I=w.Oe(q) - Math.floor(B.ka(z).Oe(q)));M=B.eg(z);K=E?0:M?z.H:void 0;E=new h.hoa(t.Pb,t.Na,J,F,x.Yc(F).ga,G.Yc(F).ga,q,C,y,A.bind(void 0,F,N),K,E,M);E.ji({start:u,end:I});f.G && C.log(("PaddingBranch: enqueing request ").concat(E,", edit: ").concat(JSON.stringify({start:u,end:I}),", ") + ("offset ").concat(N.Ka()));D.push(E);N=N.add(w);u=void 0;E=!1;}return D;};v.prototype.Trb=function(q,u,t,w,x,z,y,A,B,C){var D,E,F,G,J,N,I,M,K;D=[];u=v.yAa().b8b(u,t,w,x,z);t=new d.K(u.duration);E=u.profile;F=u.bitrate;G=u.width;J=u.height;N=u.ZLa;I=u.$La;w=u.za.O;x=new d.K(u.za);M=new k.bC(w,u.za.ga);K={bkb:!0,mediaType:g.u.V,$d:E,profile:E,O:w,Gi:[{Ce:0,data:u.Pb}],Gg:!0,Jb:"-1",za:x,R:q,bitrate:F,track:{trackId:"1",mediaType:g.u.V,Xm:!1,za:x,frameRate:M,cia:M,jm:new m.yQ({w:G,sv:J},{w:N,sv:I}),R:q,profile:E,Td:[],Ir:z,toString:c(g.u.V)},toJSON:function(){return {mediaType:K.mediaType,Jb:K.Jb,bitrate:K.bitrate};}};K.Mp=K.track.Mp=l.cX.prototype.Mp.bind(K.track);f.G && C.trace(("StaticMedia {").concat(A.id,"}: video queue"),K);K.track.Td.push(K);E=Math.ceil(y.Oe(t));y=t.yg(E);q=d.K.wa.Yc(w);z=q.add(y).Yc(w);f.G && C.trace(("PaddingBranch: ").concat(E," fragments of ").concat(t.Ka(),", ") + ("duration ").concat(y.Ka(),", ") + ("c: ").concat(q.Ka(),"-").concat(z.Ka(),", "));for(F=d.K.wa;F.lessThan(y);)(E=F.add(t),F=new h.hoa(u.Pb,u.Na,K,w,0,t.Yc(w).ga,x,C,A,B.bind(void 0,w,F),void 0,F.equal(d.K.wa),E.eg(y)),f.G && C.trace(("PaddingBranch: appended ").concat(F)),D.push(F),F=E);return {Ba:q,Ga:z,duration:y,Ha:D};};v.prototype.Jmc=function(){return v.yAa().a8b();};return v;})();b.e4a=r;},603:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.l4a=void 0;r=(function(){function a(){}a.prototype.xub=function(c){return c;};return a;})();b.l4a=r;},73861:function(r,b,a){var c,n,d,g,e,f,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.y1a=void 0;r=a(5163);c=a(91176);n=a(66164);d=r.__importDefault(a(14282));g=d.default.Ln;e=d.default.Ty;f=a(65161);l=a(69575);h=r.__importDefault(a(40497));a=(function(){function k(m,p,v,q,u){this.Mt=m;this.Mz=p;this.config=v;this.console=q;this.mediaType=u;}k.prototype.ghc=function(m){var p;p=m.M;m={type:"updateStreamingPts",mediaType:m.mediaType,position:{L:p.id,offset:c.K.Pa(this.Mt.zBa).ka(p.Db)},completePlayerStreamingTimestamp:c.K.Pa(this.Mt.I0),trackIndex:m.stream.track.AF};(0,l.jx)(this.Mz,m.type,m);};k.prototype.ihc=function(m,p,v){var q,u,t;u=this.mediaType;t=this.Mt.wq.xk(u);t.uO(m);m.mediaType !== f.u.X && m.mediaType !== f.u.V || !this.config.pla || (void 0 === t.RIa?t.pvb(n.platform.time.ya()):n.platform.time.ya() - t.RIa > this.config.pla && (m.bitrate !== t.Dlb && (m.mediaType === f.u.V?(n.platform.storage.set("vb",m.bitrate),t.ovb(m.bitrate)):m.mediaType === f.u.X && (n.platform.storage.set("ab",m.bitrate),t.ovb(m.bitrate))),t.pvb(n.platform.time.ya())));t.Bha && t.Bha === m || (this.Mt.wq.Cwb(p,t.Bha,m),t.Nrc(m),p=0,m.jb && m.jb.confidence && m.jb.gb && (p=m.jb.gb.xa),v={L:this.Mt.Qa.M.id,offset:c.K.Pa(v).ka(this.Mt.Qa.M.Db)},m={type:"streamSelected",nativetime:n.platform.time.ya(),mediaType:u,streamId:m.id,trackIndex:m.track.AF,streamIndex:m.gu,bandwidth:p,longtermBw:p,rebuffer:0,position:v,stream:m,manifest:null === (q=m.R) || void 0 === q?void 0:q.U},(0,l.jx)(this.Mz,m.type,m));};k.prototype.dhc=function(m,p,v){var q,u,t,w;q=p.R;u=q.Ji;t=this.Mt.wq.xk(p.mediaType);w=q.Dbc(p);q=w.CIa;w=w.Ebc;v && p.pc && !t.VM?(w=e.Uy,p.Vr=e.name[w],this.Mob(m,p.pc,p.Vr,p.location,p.bitrate),t.VM=p.pc):!v && p.pc && p.pc !== t.VM && (w=w?void 0 === t.VM?e.Uy:u.FV === e.wta?e.RIb:e.qoa:e.QIb,p.Vr=e.name[w],this.Mob(m,p.pc,p.Vr,p.location,p.bitrate),t.VM=p.pc);!t.ET && p.location && (w={type:"logdata",target:"startplay",fields:{}},this.mediaType === g.X?w.fields.alocid=p.location:this.mediaType === g.V && (w.fields.locid=p.location),(0,l.jx)(this.Mz,w.type,w));v && p.location && !t.ET?(w=e.Uy,p.Vr=e.name[w],this.Lob(m,p.location,p.lJa,p.pc,p.X6,p.Vr,p.KA),t.ET=p.location):!v && p.location && p.location !== t.ET && (w=q?void 0 === t.ET?e.Uy:u.FV === e.wta?e.jFb:e.qoa:e.iFb,p.Vr=e.name[w],this.Lob(m,p.location,p.lJa,p.pc,p.X6,p.Vr,p.KA),p.KA=void 0,t.ET=p.location);this.config.RN || (p.ulb=p.location,p.Blb=p.pc);};k.prototype.bja=function(m){m={type:"requestsPruned",requests:m};(0,l.jx)(this.Mz,m.type,m);};k.prototype.Mob=function(m,p,v,q,u){var t,w;if(this.mediaType === g.Ia)this.console.warn("notifyServerSwitch ignored for MediaType.TEXT");else {w=(t={},t[f.u.X]="audio",t[f.u.V]="video",t[f.u.Ia]="subtitle",t[f.u.Kn]="mediaEvents",t)[this.mediaType];t=h.default.instance().get();m={type:"serverSwitch",segmentId:m,mediatype:w,server:p,reason:v,location:q,bitrate:u,confidence:t.confidence};t.confidence && (m.throughput=t.gb.xa);this.Mt.wq.xk(this.mediaType).VM && (m.oldserver=p);(0,l.jx)(this.Mz,m.type,m);}};k.prototype.Lob=function(m,p,v,q,u,t,w){var x,z;if(this.mediaType === g.Ia)this.console.warn("notifyServerSwitch ignored for MediaType.TEXT");else {z=(x={},x[f.u.X]="audio",x[f.u.V]="video",x[f.u.Ia]="subtitle",x[f.u.Kn]="mediaEvents",x)[this.mediaType];m={type:"locationSelected",segmentId:m,mediatype:z,location:p,locationlv:v,serverid:q,servername:u,selreason:t,seldetail:w};(0,l.jx)(this.Mz,"locationSelected",m);}};k.prototype.ULb=function(m,p){m={type:"lastSegmentPts",segmentId:m.id,pts:Math.floor(p)};(0,l.jx)(this.Mz,m.type,m);};k.prototype.u3b=function(m){(0,l.jx)(this.Mz,"transportReport",m);};k.prototype.t3b=function(m){(0,l.jx)(this.Mz,"mediaRequestComplete",m);};return k;})();b.y1a=a;},98561:function(r,b,a){var c,n,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.qZa=void 0;c=a(5163);n=a(91176);d=a(48170);r=a(2415);g=a(99548);a=(function(e){function f(l){return e.call(this,l) || this;}c.__extends(f,e);f.prototype.Kvb=function(){return this.splice?!0:this.M?0 !== this.M.rb:!1;};f.prototype.dI=function(l,h){d.G && this.console.trace("LivePipelineNormalizer.renormalize:",this.Ga);(0,n.assert)(this.TG,"expected to be called init() before renormalize");h=(0,g.Z4)(this.console,this.config,Math.min.apply(Math,c.__spreadArray([],c.__read(this.Ge.map(function(k){return k.track.z2();})),!1)),this.R,h) || h;return e.prototype.dI.call(this,l,h);};f.prototype.YKa=function(){var l;d.G && this.console.trace(("LivePipelineNormalizer.normalizePipelines ").concat(this.Ba.Ka()," ") + ("- ").concat(null === (l=this.Ga) || void 0 === l?void 0:l.Ka()));this.config.MV && void 0 !== this.R.Wp.endTime && this.R.$rc(this.Ba.H);l=this.Kvb()?n.K.Qj:this.R.st();this.Ba=(0,g.Uia)(this.console,l,this.R,this.Ba);this.Ga=(0,g.Z4)(this.console,this.config,Math.min.apply(Math,c.__spreadArray([],c.__read(this.Ge.map(function(h){return h.track.z2();})),!1)),this.R,this.Ga);return e.prototype.YKa.call(this);};f.prototype.ZKa=function(){var l;d.G && this.console.trace("LivePipelineNormalizer.normalizeSegment");(0,n.assert)(this.M,"missing segment");l=this.Kvb()?n.K.Qj:this.R.st();l=(0,g.Uia)(this.console,l,this.R,this.M.Db);return this.edb(l);};return f;})(r.gua);b.qZa=a;},95324:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v;Object.defineProperties(b,{__esModule:{value:!0}});b.f$=void 0;c=a(5163);a(66164);n=a(91176);d=a(90745);g=a(65161);e=a(52571);f=a(48170);r=a(85254);l=a(71808);h=a(97757);k=a(8149);m=a(27265);p=a(46512);v=a(71077);a=(function(q){function u(t,w,x,z,y,A,B,C,D){var E;E=q.call(this,t,w,x,z,y,A,B,C,D) || this;E.config=w;E.events=new d.EventEmitter();E.EKa=new Set();E.uCa=0;E.Pq=new m.zZa(E,w,E.console,E.kq,E.As,E.mediaType,E.pF,function(){return E.vn;});E.wqc=new v.wra(E.Qa.R,w);return E;}c.__extends(u,q);Object.defineProperties(u.prototype,{track:{get:function(){return this.Sq;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{kPa:{get:function(){return this.track.R.jH.kPa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{$lb:{get:function(){return this.zLb;},enumerable:!1,configurable:!0}});u.prototype.ERa=function(t,w,x){var z;z=this.jB(t);if(z)return z;(0,e.assert)(t.fa,"LivePipeline.tryIssueRequest: stream must be live");t=this.pwc(t,this.Ld,x,w);this.iab();return t;};u.prototype.K6b=function(){var t;t=Array.from(this.EKa).reduce(function(w,x){return void 0 !== x.cm && (void 0 === (null === w || void 0 === w?void 0:w.cm) || w.cm < x.cm)?x:w;},void 0);if(t && void 0 !== t.cm)return ((0,e.assert)((0,k.bm)(t.stream),"LivePipeline: stream must be live"),t.stream.track.vx(t.cm + 1).Ba);};u.prototype.oOb=function(t){f.G && this.trace("Marking missing request: ",t.toString());this.EKa.add(t);this.uCa+=1;this.zLb=this.EKa.size;this.jf.Roc(t);this.events.emit("liveMissingSegment",{type:"liveMissingSegment",L:t.index,mediaType:this.mediaType,Qa:this.Qa});this.config.x1 && this.It === t.index && this.nI(t.Ga.H,this.It + 1);};u.prototype.Iyb=function(t,w){var x,z,y,A,B;x=this;if(w){if(this.config.gJa){z=this.Td.indexOf(t.stream);if(-1 === z)this.error("reissueLiveRequest: stream not found in stream list, falling back to first stream");else {y=0 < z?Math.max(z - 1,0):Math.min(1,this.Td.length - 1);A=this.Td[y];t.eTb(A);if(!A.Gg){B=this.hj.H;this.Qa.R.Vub(A,this.Qa.M,function(){return {jg:x.jg,Fd:g.wd.Qn,Mr:B,pm:B,Om:x.pF.Aa.currentTime.H};});}f.G && this.trace("reIssueLiveRequest: ",t.toString()," switchStream: ",w," from ",z," to ",y);}}}else (f.G && this.trace("reIssueLiveRequest, request: ",t.toString()," switchStream:",w),this.Gn(!w));};u.prototype.nn=function(t,w){this.uCa=0;q.prototype.nn.call(this,t,w);};u.prototype.Jv=function(t){var w;if(t.De)this.efa(t);else {w=t.Hb.ka(this.pF.Aa.currentTime);switch(this.wqc.Jv(t,w,0 < this.Td.indexOf(t.stream))){case v.Cw.Z$:this.warn("onrequesterror: 4xx error for live request, retrying the same url",t.toString());this.Iyb(t,!1);break;case v.Cw.x3a:this.warn("onrequesterror: switching stream for 410 or 4xx after retries",t.toString());this.Iyb(t,!0);break;case v.Cw.p3a:case v.Cw.uva:this.warn("onrequesterror: declaring missing segment ",t.toString());this.oOb(t);break;case v.Cw.SWa:this.efa(t);break;case v.Cw.qZ:(w=this.Qa.R.Wp,t=this.Qa.R.Xp.sda(t.Ba),this.Qa.R.RRa(w.startTime,w.endTime,!1,t.H));}}};u.prototype.dP=function(){var t,w,x,z;(0,e.assert)(this.ae,"LivePipeline.updateFragmentTimes: firstFragment must be set");t=this.ae;w=this.Qd;x=this.track.vx(this.ae.index);z=x.Ba;x=x.Ga;f.G && this.console.trace("LivePipeline: updateFragmentTimes: firstFragment " + ("c:").concat(t.Uz.H,"-").concat(t.IS.H) + (" -> s:").concat(z.H,"-").concat(x.H));t.e8(z,x);w && isFinite(w.index) && (t=this.track.vx(w.index),z=t.Ba,x=t.Ga,f.G && this.console.trace("LivePipeline: updateFragmentTimes: lastFragment " + ("c:").concat(w.Uz.H,"-").concat(w.IS.H) + (" -> s:").concat(z.H,"-").concat(x.H)),w.e8(z,x));this.Pq.dP();};u.prototype.pwc=function(t,w,x,z){var y,A,B,C,D,E,F,G,J,N,I,M,K,L,H,O,P;E=this.As;F=E.R;G=this.It;J=G === (null === (y=this.Qd) || void 0 === y?void 0:y.index);y=G === (null === (A=this.ae) || void 0 === A?void 0:A.index);A=t.track.vx(G);N=A.Ba;I=A.Ga;if(y && this.ae){A=this.ae.Ba;M=this.ae.Ga;}else J && this.Qd?(A=this.Qd.Ba,M=this.Qd.Ga):(A=N,M=I);K=this.track.R.aM();f.G && this.trace("checkLiveDuration, stream:",t.bitrate,"contentEndPts:",M.H,"cushionedLiveEdgeMs:",K,"serverTimeMs:",F.du);if(M.H > K)return {Lh:!1,reason:"exceedsLiveEdge"};if(this.config.zea && F.sH && this.mediaType !== g.u.Ia && (K=this.track.za || n.K.Pa(50),K=M.ka(K),!F.sH.Bib(K)))return (f.G && this.trace("Waiting for media events",{FMc:K,Ga:M,qcc:F.sH.Wx}),{Lh:!1,reason:"waitingOnMediaEvents"});if(F.DC && !F.DC.YAa(this.mediaType,0))return (f.G && this.trace("existing buffer size limites already exceeded"),{Lh:!1,reason:this.mediaType === g.u.V?"globalVideoMemoryLimit":"globalAudioMemoryLimit"});if(J && this.mediaType === g.u.X && (K=this.Qa.Pe(g.u.V)) && K.Qd){L=K.Qd.Ga.H;f.G && this.trace("setting targetSplicePts:",L);}if(this.mediaType !== g.u.Ia)if(y)H=(null === (B=this.ae) || void 0 === B?void 0:B.sa) || ({});else J && (H=(null === (C=this.Qd) || void 0 === C?void 0:C.sa) || ({}));B=this.mediaType === g.u.Ia || this.mediaType === g.u.X && H?0:void 0;if(!N.equal(A) || !I.equal(M))(O=N.ga,P=I.ga);x={cm:G,index:G,nb:A.ga,xb:M.ga,a2:O,gfa:P,O:t.O,offset:0,la:0,Xv:x,Sz:y,zk:J,ZA:{jd:E.M.lgb(),IM:E.M.G7 && !isFinite(E.M.yb)},fB:L,responseType:B,sa:H};this.CPa(x,{stream:t,fm:z,oV:M.ka(A)});t=this.jf.T0(x,w,t);f.G && this.trace("making mediaRequest (LIVE):",t.toString(),"fragmentIndex:",G,"contentStartTicks:",A.ga,"contentEndTicks:",M.ga,"timescale:",A.O,"lastRequestInSequence:",x.zk,"isTerminal",null === (D=x.ZA) || void 0 === D?void 0:D.IM,"edit",H);if(!t.open()){this.warn("MediaRequest.open error: " + t.Tg + " native: " + t.Uj);if(t.aborted)return (f.G && this.trace("makeRequest aborted"),{Lh:!1,reason:"requestAborted"});this.warn("makeRequest caught:",t.Tg);F.We("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Lh:!1,reason:"openAseMediaRequest"};}this.nI(M.H,this.It + 1);return {Lh:!0,reason:"success"};};u.prototype.CPa=function(t){var w;w=this.As.R.LV;w && (t.aB=w.ht({}));};return u=c.__decorate([h.MS],u);})(p.fua);b.f$=a;(0,r.Mk)(l.ow,a);},27265:function(r,b,a){var c,n,d,g,e,f;Object.defineProperties(b,{__esModule:{value:!0}});b.zZa=void 0;c=a(5163);n=a(26388);d=a(91176);g=a(48170);e=a(11758);f=a(8149);r=(function(l){function h(k,m,p,v,q,u,t,w){return l.call(this,k,m,p,v,q,u,t,w) || this;}c.__extends(h,l);h.prototype.T0=function(k,m,p){var v;v=this.config;g.G && this.console.trace("LiveRequestManager: createRequest, params:",k);(0,d.assert)(!k.header);return p.mediaType === n.u.Ia?(k=new e.foa(p,this.Qa.mE.track,k,this.Ha,this.Qa.M,v,this.console),g.G && this.console.trace("created AseLiveTextRequest object:",k && k.toJSON(),"downloadTrack:",m.toString(),"movieId:",k.P,"streamId:",k.Jb,"offset:",k.offset,"bytes:",k.la,"contentStartTicks:",k.nb,"contentEndTicks:",k.xb,"ptsOffsetTicks:",k.vn,"liveSegmentId:",k.cm),this.$w(k),k):l.prototype.T0.call(this,k,m,p);};h.prototype.HLa=function(k,m,p){k.Sz && !this.Qa.parent && (k.stream.track.pLa(this.Qa,k.index,m),k.Vl !== m.$D && (this.console.error("LiveRequestManager: onfragmenttimes: predicted fragment sample count incorrect",("current = ").concat(k.Vl,", actual = ").concat(m.$D)),k.Cyb(m.$D),p=!0));p && (m=this.Ha.indexOf(k),m + 1 < this.Ha.length && (m=this.Ha.get(m + 1)) && m.Dyb(k.IS),this.Ha.update());};h.prototype.dP=function(){var k,m;k=this;g.G && this.console.trace(("LiveRequestManager: updateFragmentTimes ").concat(this.Ha.length," fragments"));if(this.Ha.length){m=this.Ha.get(0).stream.track;(0,d.assert)((0,f.$m)(m),"LiveRequestManager: updateFragmentTimes: stream is not live");this.Ha.forEach(function(p){var v,q;v=m.vx(p.index);q=v.Ba;v=v.Ga;g.G && k.console.trace("LiveRequestManager: update timestamps:",p,("updating start ").concat(p.Ba.Ka()," to ").concat(q.Ka()),("updating end ").concat(p.Ga.Ka()," to ").concat(v.Ka()));p.e8(q,v);});this.Ha.update();}};return h;})(a(99021).kva);b.zZa=r;},71077:function(r,b){var c;function a(n){return 410 === n || 404 === n;}Object.defineProperties(b,{__esModule:{value:!0}});b.wra=b.Cw=void 0;b.mKc=a;(function(n){n[n.Z$=0]="RETRY";n[n.x3a=1]="SWITCH_STREAM";n[n.uva=2]="SKIP";n[n.SWa=3]="FORWARD";n[n.qZ=4]="STOP";n[n.p3a=5]="SKIP_OR_FORWARD";})(c || (b.Cw=c={}));r=(function(){function n(d,g){this.R=d;this.config=g;}n.prototype.Jv=function(d,g,e){var f,l,h;f=d.status;l=d.Ba;d=d.Ga;if(!a(f))return c.SWa;this.R.jH.Itb();h=this.R.Xp.XDa;if(h && 410 === f && l.eg(h))return c.qZ;if(g.H <= this.config.eU)return c.uva;g=this.R.aM() - this.config.cdc;return 410 !== f && d.H > g?c.Z$:e?c.x3a:c.p3a;};return n;})();b.wra=r;},72117:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.G0a=void 0;c=a(5163);r=(function(n){function d(g){return n.call(this,g) || this;}c.__extends(d,n);return d;})(a(2415).gua);b.G0a=r;},95052:function(r,b,a){var c,n,d,g,e,f,l,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.F0a=void 0;c=a(5163);n=a(66164);d=a(90745);g=a(65161);e=a(52571);f=a(48170);r=a(71808);l=a(85254);h=a(97757);k=a(99021);a=(function(m){function p(v,q,u,t,w,x,z,y,A){var B;B=m.call(this,v,q,u,t,w,x,z,y,A) || this;B.events=new d.EventEmitter();B.Pq=new k.kva(B,q,B.console,B.kq,B.As,B.mediaType,B.pF,function(){return B.vn;});return B;}c.__extends(p,m);p.prototype.ERa=function(v,q,u){var t;t=this.jB(v);if(t)return t;(0,e.assert)(!v.fa,"OnDemandPipeline.tryIssueRequest: stream must not be live");t=v.N5b();(0,e.assert)(t,("initialHeaderReceived and headerFragments mismatch - initialHeaderReceived:").concat(v.Gg,", headerFragments:").concat(t));v=this.qwc(v,t,this.Ld,q,u);this.iab();return v;};p.prototype.qwc=function(v,q,u,t,w){var x,z,y,A,B,C,D,E,F;A=this.As;B=A.R;C=this.mediaType;f.G && this.trace("makeRequest on streamId:",v.Jb,"profile:",v.profile,"location:",v.location,"url:",v.url,"bufferLevelMs:",this.FR.H,"(ms)","nextFragmentIndex:",this.It,"firstFragment:",JSON.stringify(this.ae),"lastFragment:",JSON.stringify(this.Qd),"fragments:",q.length,"stream.frameDuration:",v.za);D=this.It;if(D >= q.length)return (this.warn("makeRequest nextFragmentIndex:",D,"past fragments length:",q.length),{Lh:!1,reason:"insufficientFragments"});if(!this.ae || !this.Qd)return (this.warn("makeRequest delayed, first or last fragment not set","first:",!!this.ae,"last:",!!this.Qd),{Lh:!1,reason:"noFirstOrLastFragment"});E=C === g.u.X && !!this.config.bE && this.Qa.M.jr && this.ae.Ob.H < this.config.bE && void 0 !== this.ae.sa;F=C === g.u.X && !!this.config.bE && this.Qa.M.Tm && this.Qd.Ob.H < this.config.bE && void 0 !== this.Qd.sa;D=this.QL.ugb(v,D,E,F);C === g.u.X && this.config.bE && (this.Qa.M.jr && (D.Sz?(f.G && this.trace("makeRequest marking fragment for fade in"),D.$ub()):D.index === this.ae.index + 1 && this.ae.Ob.H < this.config.bE && void 0 !== this.ae.sa && (f.G && this.trace("makeRequest marking second fragment for fade in"),D.$ub(this.ae.sa.end - this.ae.sa.start))),this.Qa.M.Tm && (D.zk?(f.G && this.trace(("makeRequest marking last fragment ").concat(D.index," for fade out")),D.avb()):D.index === this.Qd.index - 1 && (this.Qd.Ob.H < this.config.bE && void 0 !== this.Qd.sa?(f.G && this.trace(("makeRequest marking fragment ").concat(D.index," for fade out")),D.avb(this.Qd.sa.end - this.Qd.sa.start)):f.G && this.trace(("makeRequest marking fragment ").concat(D.index," not for fade out ") + (", ").concat(this.Qd.Ob.H,", ").concat(JSON.stringify(this.Qd.sa))))));if(B.DC && !B.DC.YAa(this.mediaType,D.la))return (f.G && this.trace("makeRequest would go over buffer limits:",D.la),{Lh:!1,reason:this.mediaType === g.u.V?"globalVideoMemoryLimit":"globalAudioMemoryLimit"});this.OIa=D.region;D.Xv=w;null === (x=this.yl) || void 0 === x?void 0:x.C$b(D,v);D.zk && C === g.u.V && this.kq.ULb(A.M,D.Rb.H);f.G && D.zk && this.trace("marking last request in sequence, ptsEnd:",D.Rb.H,"branch.contentEndPts:",A.Rb.H,"fragments.endPts:",q.cg,"fragmentIndex:",this.It,"lastFragmentIndex:",q.length - 1);this.config.rH && (f.G && this.trace("request.bytes:",D.la,"max request size:",this.config.rH),D.rH=this.config.rH);D.location=v.location;D.vd=v.pc;D.iNc=v.Vr;this.CPa(D,{stream:v,fm:t,oV:D.Ob});q=n.platform.time.ya();f.G && this.trace("calling createRequest with fragment " + JSON.stringify(D) + ", " + D.constructor && D.constructor.name + ", " + JSON.stringify(v));u=this.jf.T0(D,u,v);f.G && this.trace("making mediaRequest:",u.toString(),"branchOffset:",A.Pd.H,"offset:",D.offset,"bytes:",D.la,"lastRequestInSequence:",D.zk,"viewableId:",B.N,"frag:",D.Ba.H + "-" + D.Ga.H,"frag index:",D.index,"stream.frameDuration:",v.za,"fragment.movieDataOffset:",D.Bia,"fragment.profile:",D.profile,"frameCount:",null === (z=this.yl) || void 0 === z?void 0:z.yx(D,v),"edit:",JSON.stringify(u.sa),"editSecondFragment:",E,"editLastButOneFragment:",F,"this.lastFragment.durationMs:",this.Qd.Ob.H);if(!u.open()){this.warn("MediaRequest.open error: " + u.Tg + " native: " + u.Uj);if(u.aborted)return (f.G && this.trace("makeRequest aborted"),{Lh:!1,reason:"requestAborted"});this.warn("makeRequest caught:",u.Tg);B.We("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Lh:!1,reason:"openAseMediaRequest"};}null === (y=this.yl) || void 0 === y?void 0:y.f1b(u,D,v);f.G && this.trace("mediaRequest created in",n.platform.time.ya() - q,"ms," + u.toString(),"offset:",D.offset,"bytes:",D.la);this.nI(u.Ga.H,D.U4);f.G && this.trace("makeRequest done, mediaRequest:",u.toString(),"relative:",this.Kk,"branchOffset:",A.Pd.H,"nextFragmentIndex:",this.It);return {Lh:!0,reason:"success"};};return p=c.__decorate([h.MS],p);})(a(46512).fua);b.F0a=a;(0,l.Mk)(r.ow,a);},99548:function(r,b,a){var d,g,e,f,l;function c(h,k){var C,D;for(var m=[],p=0,v=h[p],q=null === v || void 0 === v?void 0:v[0],u=null === v || void 0 === v?void 0:v[1],t=k.Qd.index,w=k.track.Ri,x=0,z=k.ae.Ba,y=k.ae.Ga.H > v[0],A=y,B=k.ae.index;B <= t;++B){C=!1;if(v){D=w.get(B);y && (D.Ba.H >= u?(y=!1,++p >= h.length?u=q=v=void 0:(v=h[p],q=null === v || void 0 === v?void 0:v[0],u=null === v || void 0 === v?void 0:v[1])):A?A=!1:(m.push(new g.baa(x,z,D.Ba)),z=D.Ba,C=!0));!y && v && D.Ga.H > q && (y=!0,C=D.Ba,(D=k.track.qD.pr(B).$eb(q)) && 0 !== D.Zj && (C=d.K.Pa(D.He)),m.push(new g.baa(x,z,C)),z=C,C=!0);}C && ++x;}m.push(new g.baa(x,z,k.Qd.Ga));return m;}function n(h,k,m){var p,v,q;(0,f.assert)(h.U && h.Wp,"Unexpected normalizeLiveEndTimestamp.");p=h.U.Wg;v=null === p || void 0 === p?void 0:p.I1;p="none";if(v){l && m.trace("PipelineNormalizer.normalizeLiveEndTimestamp setting end timestamp:","manifestEndTime:",v);p="manifest";q=new Date(v).getTime();}else (v=h.Wp.endTime,(h=h.Wp.oG)?(p="oc",q=h,l && m.trace("PipelineNormalizer.normalizeLiveEndTimestamp,","eventEndTime:",v,"encoderShutdownTime: ",h,"endTimeMs:",q)):v && (p="oc",l && m.trace("PipelineNormalizer.normalizeLiveEndTimestamp setting end timestamp:","eventEndTime:",v),q=new Date(v).getTime() + k.Xlb,l && m.trace("PipelineNormalizer.normalizeLiveEndTimestamp,","eventEndTime:",v,"endTimeMs:",q)));q || (q=Infinity);return {yb:q,source:p};}Object.defineProperties(b,{__esModule:{value:!0}});b.btb=function(h,k,m){var p,v;p=k.get(e.u.X);v=k.get(e.u.V);k=k.get(e.u.Ia);v=null === v || void 0 === v?void 0:v.track.tG(h,m,v.yl);p=null === p || void 0 === p?void 0:p.track.tG(h,(null === v || void 0 === v?void 0:v.Ga) || m,p.yl);h=null === k || void 0 === k?void 0:k.track.tG(h,(null === v || void 0 === v?void 0:v.Ga) || (null === p || void 0 === p?void 0:p.Ga) || m,k.yl);return [p,v,h];};b.Vgc=function(h,k,m){(0,f.assert)(k,"missing pipeline");return k.track.hv(h,m,void 0,!0).Ba;};b.zec=function(h,k,m){var p;if(!k.Sm || 0 === k.Sm.length)return (l && h.trace("markExitZones, no exit zones"),[]);p=k.Sm.map(function(v){return [k.rb + v[0],k.rb + v[1]];});m=c(p,m.VD);l && h.trace("markExitZones found regions:",m);return m;};b.bLc=c;b.Uia=function(h,k,m,p){var v;v=p;p=void 0 === m.yO?d.K.min(v,k):v;l && h.trace("PipelineNormalizer.normalizeLiveStartTimestamp capping start timestamp to live:",v.H,"->",p.H);return p;};b.h6b=n;b.Z4=function(h,k,m,p,v){var q,u,t;(0,f.assert)(p.U && p.Wp,"Unexpected normalizeLiveEndTimestamp.");u=p.U.Wg;t=n(p,k,h);k=t.yb;t=t.source;!isFinite(k) || "oc" !== t && null !== v && void 0 !== v && v.isFinite() || (t=null !== (q=null === u || void 0 === u?void 0:u.H1) && void 0 !== q?q:0,q=k - m + t,0 > q && h.error("PipelineNormalizer.normalizeLiveEndTimestamp negative pts. ","liveMetadata:",JSON.stringify(u),"eventEndTime:",p.Wp.endTime),(0,f.assert)(0 <= q,"endPts is negative"),v=(null === v || void 0 === v?0:v.isFinite())?d.K.min(v,d.K.Pa(q)):d.K.Pa(q),l && h.trace("PipelineNormalizer.normalizeLiveEndTimestamp. ","new contentEndTimestamp:",v.H,"endTimeMs:",k,"availability:",m,"manifestEAO:",t));return v;};d=a(91176);g=a(79048);e=a(65161);f=a(52571);l=!1;},2415:function(r,b,a){var c,n,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.gua=void 0;c=a(5163);n=a(65161);d=a(52571);g=a(99548);r=(function(){function e(f){var l,h,k,m,p,v,q;l=f.console;h=f.config;k=f.R;m=f.Ge;p=f.M;v=f.Ba;q=f.Ga;f=f.splice;this.TG=this.CR=!1;this.console=l;this.config=h;this.Ge=m;this.R=k;this.M=p;this.Ba=v;this.Ga=q;this.splice=f;this.console.trace("PipelineNormalizer ctor:",this.Ge.map(function(u){return u.mediaType;}));}e.prototype.normalize=function(){var f,l;if(this.CR)throw Error("Cannot call normalize() after cleanup");if(this.TG)throw Error("Cannot call init() / normalize() twice");this.TG=!0;(0,d.assert)(this.YOb());f=this.YKa();l=!1;this.M && !this.M.Xt && (l=this.ZKa());this.ze();return {eea:f,rL:l};};e.prototype.dI=function(f,l){(0,d.assert)(this.TG,"expected to be called init() before renormalize");this.M=f;this.Ga=l;f=(0,g.btb)(this.config,this.Ge,this.Ga);this.ZKa();return f;};e.prototype.ze=function(){this.CR || (this.CR=!0);};e.prototype.YOb=function(){return this.Ge.every(function(f){return f.track.Gg;});};e.prototype.YKa=function(){var f,l,h,k,m,p,v,q,u,t,w,x;f=this.Ge.get(n.u.X);l=this.Ge.get(n.u.V);h=this.Ge.get(n.u.Ia);k=c.__read(l?this.XKa(l,this.Ba,this.Ga,this.splice):[!1],3);m=k[0];p=k[1];k=k[2];v=c.__read(f?this.XKa(f,m && void 0 !== (null === p || void 0 === p?void 0:p.Ba)?p.Ba:this.Ba,void 0 !== (null === k || void 0 === k?void 0:k.Ga)?k.Ga:this.Ga,this.splice):[!1],3);q=v[0];u=v[1];v=v[2];t=c.__read(h?this.XKa(h,this.Ba,this.Ga,this.splice):[!1],3);w=t[0];x=t[1];t=t[2];q && (null === f || void 0 === f?void 0:f.r3(u,v));m && (null === l || void 0 === l?void 0:l.r3(p,k));w && (null === h || void 0 === h?void 0:h.r3(x,t));return m || void 0 === this.Ge.get(n.u.V) && q;};e.prototype.XKa=function(f,l,h,k){var m,p;p=null === (m=f.Qa.parent) || void 0 === m?void 0:m.Pe(f.mediaType);l=f.ae || f.track.hv(this.config,l,null === p || void 0 === p?void 0:p.Qd,k);h=f.Qd || f.track.tG(this.config,h,f.yl);return [!f.fg(),l,h];};e.prototype.ZKa=function(){(0,d.assert)(this.M,"missing segment");return this.edb(this.M.Db);};e.prototype.edb=function(f){var l;(0,d.assert)(this.M,"missing segment");l=this.Ge.VD;if(void 0 === (0,g.Vgc)(this.config,l,f) || void 0 === l.Ga)return !1;f=this.config.hSa && "lazy" === this.M.jd?(0,g.zec)(this.console,this.M,this.Ge):[];this.M.mvb(f);return !0;};return e;})();b.gua=r;},46512:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v;Object.defineProperties(b,{__esModule:{value:!0}});b.fua=void 0;c=a(5163);n=a(66164);d=a(91176);r=a(81392);g=a(8934);e=a(65161);f=a(65161);l=a(14242);h=a(69575);k=a(52571);m=a(78541);p=a(42431);v=a(73861);a=(function(q){function u(t,w,x,z,y,A,B,C,D){var E;E=q.call(this,t) || this;E.config=w;E.As=y;E.Sq=A;E.nLb=B;E.pF=C;E.connected=!1;E.WGa=!1;E.gF=!1;E.$xa=!1;E.mlb=-Infinity;E.QL=new g.p0a(E.mediaType,w,x,E);t="[" + E.mediaType + "]";E.console=(0,h.xg)(n.platform,x,t);E.error=E.console.error.bind(E.console);E.warn=E.console.warn.bind(E.console);E.trace=E.console.trace.bind(E.console);E.Eba=B.H;w.yl && (E.yl=new l.$3a(w.yl,E.console));E.kq=new v.y1a(E,z,E.config,E.console,E.mediaType);E.Ld=D || (0,m.aG)(E.mediaType,E.track.R,E.config,E.console,E.track.fa,E.kq.u3b.bind(E.kq),E.kq.t3b.bind(E.kq),function(){});E.Ld.on("created",function(){return E.events.emit("requestQueueCreated");});return E;}c.__extends(u,q);Object.defineProperties(u.prototype,{mediaType:{get:function(){return this.Sq.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{track:{get:function(){return this.Sq;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Qa:{get:function(){return this.As;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{L:{get:function(){return this.As.M.id;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{xMa:{get:function(){return ("").concat(this.L,"-").concat((0,e.vH)(this.mediaType));},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{jf:{get:function(){return this.Pq;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Td:{get:function(){return this.Sq.Td;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{FR:{get:function(){return this.Pq.FR;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Xka:{get:function(){return this.Pq.Xka;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Kk:{get:function(){return this.Eba;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{$la:{get:function(){return this.Hb || this.uD;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{hj:{get:function(){return this.jf.hj || this.$la;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{I0:{get:function(){return this.jf.I0;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{zBa:{get:function(){return this.jf.zBa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{fcc:{get:function(){var t;t=this.jf.olb;return null === t || void 0 === t?void 0:t.Ga;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Rj:{get:function(){return !!this.Qd && (this.It > this.Qd.index || this.Eba >= this.Qd.Ga.H);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{aPb:{get:function(){return this.Rj && 0 === this.jf.II;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{cj:{get:function(){return this.Rj && 0 === this.Pq.ckc;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{jMa:{get:function(){var t;if(this.$xa)return !0;if(!this.cj)return !1;t=this.$S();return this.$xa || (this.$xa=void 0 === t || t.jMa);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{hPb:{get:function(){return !!this.jf.olb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{HF:{get:function(){return this.jf.HF;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{ew:{get:function(){return this.Rb?d.K.max(this.Rb.ka(this.jE),d.K.wa):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{DS:{get:function(){return this.Qa.DS;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Jk:{get:function(){return this.wq.xk(this.mediaType);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{vYb:{get:function(){return this.jf.Ha.Ob;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{kl:{get:function(){return this.Jk.kl;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{O:{get:function(){var t,w;return null !== (w=null === (t=this.ae) || void 0 === t?void 0:t.O) && void 0 !== w?w:1;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{nb:{get:function(){var t;return null === (t=this.ae) || void 0 === t?void 0:t.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{xb:{get:function(){var t;return null === (t=this.Qd) || void 0 === t?void 0:t.xb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{vn:{get:function(){return this.Qa.Pd.Yc(this.O).ga;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{YGa:{get:function(){return this.jf.YGa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{dB:{get:function(){return this.jf.dB;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{nQa:{get:function(){return this.jf.nQa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{uD:{get:function(){return this.nLb.add(this.Qa.Pd);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{mac:{get:function(){return n.platform.time.now() - this.mlb < this.config.Wka;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{wq:{get:function(){return this.Qa.S2(this.mediaType);},enumerable:!1,configurable:!0}});u.prototype.VQ=function(){var t;t=this;this.Pq.VQ(function(w){var x,z;z=w[0];w=null === (x=z.Ba) || void 0 === x?void 0:x.H;x=z.index;x < t.It && t.nI(w,x);});};u.prototype.reset=function(){this.jf.reset();this.ae && this.nI(this.ae.Ba.H,this.ae.index);this.Ld && this.Qa.R.C_(this.mediaType,this.Ld);};u.prototype.Eg=function(t){var w;this.gF=!0;this.Pq.Eg(t);null === (w=this.wq) || void 0 === w?void 0:w.xk(this.mediaType).Ma();this.Ld && (this.Qa.R.C_(this.mediaType,this.Ld),p.nJ.instance.bea(this.Ld),this.Ld.removeAllListeners(),this.Ld=void 0);};u.prototype.toJSON=function(){return {started:this.dB,startOfSequence:this.nQa,segmentId:this.L,requestedBufferLevel:this.Xka,viewableId:this.As.R.N,hasFragments:this.YGa};};u.prototype.Gn=function(t){return this.jf.Gn(t);};u.prototype.nI=function(t,w){this.Eba=t;this.It=w;};u.prototype.EG=function(){return this.jf.EG();};u.prototype.$S=function(){return this.Qa.fhb(this.mediaType);};u.prototype.GR=function(t){return (t=this.jf.K2b(t.H))?t.complete:!1;};Object.defineProperties(u.prototype,{jg:{get:function(){return this.As.jg;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{jE:{get:function(){var t,w;return this.jf.jE || (null === (w=null === (t=this.ae) || void 0 === t?void 0:t.Ba) || void 0 === w?void 0:w.add(this.Qa.Pd)) || this.uD;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{CQa:{get:function(){return d.K.Pa(this.Eba);},enumerable:!1,configurable:!0}});u.prototype.jB=function(t){(0,k.assert)(!this.gF,"pipeline.tryIssueRequest on disabled pipeline");(0,k.assert)(!this.qo(),"pipeline.tryIssueRequest on done pipeline");(0,k.assert)(!this.Rj);if(!t.Gg)return (t=t.jB(this.Qa.M,this.Ld))?{Lh:t,reason:"success"}:{Lh:t,reason:"pipelineTryIssueHeaderRequest"};};u.prototype.CPa=function(t,w){var x,z,y,A,B;x=w.stream;z=w.fm;w=w.oV;y=this.As;A=this.mediaType;B=y.R.LV;B && "OPEN_CONNECT_APPLIANCE" === x.Zv && (x=this.config.I0b && this.mediaType === f.u.V && this.config.jq,t.dO=this.config.yea || A === f.u.X && this.config.vea || A === f.u.V && this.config.wea?z:void 0,t.aB=B.ht({RF:y.nr(this.mediaType),Qia:this.config.A0b?this.config.Qia:void 0,yxb:String(n.platform.time.ya()),Rpb:z,iAa:x?{start:t.offset,size:t.la}:void 0,Rqb:w.H}));};u.prototype.r3=function(t,w){t && (this.ae=t);w && (this.Qd=w);(0,k.assert)(this.ae);(0,k.assert)(this.Qd);(0,k.assert)(void 0 === this.It);this.nI(this.ae.Ba.H,this.ae.index);};u.prototype.truncate=function(t){var w;w=this;(0,k.assert)(this.ae,"expected first fragment to exist on updateStreaming");this.Qd=t;this.Rj && (t=c.__read(this.Pq.zNb(t),2),this.nI(t[0],t[1]),this.Rj && (this.jf.Oub(),this.jf.jab(),Promise.resolve(function(){w.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:w.mediaType});})));};u.prototype.xv=function(){return this.qo()?!1:this.fg()?!0:this.track.S4;};u.prototype.fg=function(){return void 0 !== this.ae && void 0 !== this.Qd;};u.prototype.qo=function(){return this.gF || this.aPb;};u.prototype.oIa=function(){var t,w,x;x=this.config.jq;if(null === (t=this.Ld) || void 0 === t?0:t.track)x=null === (w=this.Ld) || void 0 === w?void 0:w.track.jq;return x;};Object.defineProperties(u.prototype,{UMa:{get:function(){var t;t=!0;this.config.kOa && (t=this.connected);this.config.jOa && (t=t && this.WGa);return t;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ipb:{get:function(){return void 0 !== this.yl;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Fja:{get:function(){var t;return (null === (t=this.yl) || void 0 === t?0:t.Az())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});u.prototype.nn=function(t,w){this.kq.ghc(t);"oncomplete" === this.config.wjb && (this.WGa=!0);this.PL(t,w);};u.prototype.tN=function(t){var w,x;t.De || this.kq.ihc(t.stream,null === (w=t.Hb) || void 0 === w?void 0:w.H,null === (x=t.Ba) || void 0 === x?void 0:x.H);this.kq.dhc(this.L,t.stream,t.De);this.ffa(t);};u.prototype.IH=function(t){this.connected=!0;"onfirstbyte" === this.config.wjb && (this.WGa=!0);this.Y1(t);};u.prototype.vgb=function(t){var w,x;w=this.jf.Ha;if(0 === w.length)return {Ha:[],Rja:0,Kv:0,iV:0};x=w.P1(t.H);0 > x && (x=void 0 === w.Hb || t.H <= w.Hb.H?0:w.length);return {Ha:w.Gqc(x),Rja:Math.max(0,w.ebb - x),Kv:w.Kv,iV:w.iV};};u.prototype.xNb=function(t,w,x){var z,y,A,B,E,F,G,J,N;if(!this.mac){A=this.jf.$6b();Array.prototype.sort.call(A,function(M,K){return M.index - K.index;});(0,e.vH)(this.mediaType);B=w / A.length;w=[];try{for(var C=c.__values(A),D=C.next();!D.done;D=C.next()){E=D.value;F=E.bitrate;G=E.Ob;J=E.IF;N=8 * ((E.la || G.H * F / 8) - E.bytesReceived);if(void 0 !== E.Na.Ba)if(0 < w.length)w.push(E);else if(Math.ceil(N / B) + (E.active?0:x) > t){if(J)return;w.push(E);}}}catch(M){var I;I={error:M};}finally{try{D && !D.done && (z=C.return) && z.call(C);}finally{if(I)throw I.error;}}0 !== w.length && (t=c.__read(w,1)[0],this.jf.yNb(w),this.nI(null === (y=t.Na.Ba) || void 0 === y?void 0:y.H,t.index),this.mlb=n.platform.time.now());}};u.prototype.iab=function(){this.Rj && (this.jf.Oub(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));};return u;})(r.ZI);b.fua=a;},99021:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q;Object.defineProperties(b,{__esModule:{value:!0}});b.kva=void 0;c=a(5163);n=c.__importStar(a(17267));d=a(91176);g=a(47743);e=a(21306);r=a(81392);f=a(65161);l=a(52571);h=a(89645);k=a(40666);m=a(97757);p=a(27977);v=a(3033);q=a(58418);a=(function(u){function t(w,x,z,y,A,B,C,D){var E;E=u.call(this,w) || this;E.config=x;E.console=z;E.kq=y;E.As=A;E.mediaType=B;E.cGa=D;E.Ld=new h.$I(E.console);E.error=E.console.error.bind(E.console);E.warn=E.console.warn.bind(E.console);E.trace=E.console.trace.bind(E.console);E.ztb();E.ql=null === C || void 0 === C?void 0:C.nx(function(){return E.Soc();},"pruner");return E;}c.__extends(t,u);Object.defineProperties(t.prototype,{Qa:{get:function(){return this.As;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{dB:{get:function(){return 0 < this.cOa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{nQa:{get:function(){return !this.U1;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{cOa:{get:function(){return this.Va.length;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{II:{get:function(){return this.Va.II;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{cR:{get:function(){return this.Ld.Nx;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{hj:{get:function(){return this.Va.complete.Rb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{I0:{get:function(){return this.Va.bbb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{zBa:{get:function(){return this.Va.uUb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{jE:{get:function(){return this.Va.Rb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Xka:{get:function(){return void 0 === this.Va.Hb?0:this.Va.Rb.H - this.Va.Hb.H;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{FR:{get:function(){return {la:this.Va.kda,H:this.Va.empty?0:Math.max(this.Va.bbb - this.Va.Hb.H,0)};},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{kda:{get:function(){return this.Va.kda;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{HF:{get:function(){return this.Va.la;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ckc:{get:function(){return this.c7b();},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{YGa:{get:function(){return this.Va.length > this.Va.II;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Fj:{get:function(){return this.Va.Fj;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{olb:{get:function(){return this.Q6a;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ha:{get:function(){return this.Va;},enumerable:!1,configurable:!0}});t.prototype.Eg=function(w){var z,y,A;function x(){var B;B=A.map(function(C){return C;});z.kq.bja(B);A.forEach(function(C){C.abort();C.ze();});}z=this;A=this.Va;w?setTimeout(x,1):x();this.ztb();this.Ld.CL();null === (y=this.ql) || void 0 === y?void 0:y.Ma();};t.prototype.reset=function(){this.Eg();this.Ld.wtb();};t.prototype.close=function(){this.Ld.CL();};t.prototype.Oub=function(){this.k9a=!0;};t.prototype.xhb=function(){return {endMarked:void 0 !== this.Ld.count,queueCount:this.Ld.count,isComplete:this.Ld.Nx,itemCount:this.Ld.cbb,continuousEndPts:this.Ld.uj().reduce(function(w,x){return x && !x.done && (x=x.value,100 > Math.abs(x.Uz.H - w) || -1 === w)?x.IS.H:w;},-1),sentinelItemCount:this.Ld.uj().filter(function(w){return w && w.done;}).length,processedCount:this.Ld.BZb,rc:this.cOa};};t.prototype.T0=function(w,x,z){var y;y=this.config;(0,l.assert)(!w.header);w=g.doa.create(z,y,x.track,w,this.Va,this.Qa.M,this.console,this.cGa);this.Va.length && this.Va.Ga && !w.Ba.equal(this.Va.Ga) && w.Dyb(this.Va.Ga);this.$w(w);return w;};t.prototype.$w=function(w){var x,z;this.Va.yr(w);(null === (x=this.ql) || void 0 === x?void 0:x.state) === k.Rn.complete && (null === (z=this.ql) || void 0 === z?void 0:z.Md());this.nTb();w.zk && (this.U1=!1);};t.prototype.EG=function(){return this.Ld.lfa();};t.prototype.jab=function(){this.vA === this.Va.length && this.k9a && this.Ld.CL();};t.prototype.Ima=function(){var w,x,z;w=this;Promise.resolve();if(this.As.Sga(this.mediaType) && this.vA !== this.Va.length){for(var y=this.config.Qec,A=0,B=[];this.vA < this.Va.length;){if(z=this.Va.get(this.vA)){if(z.tA){if(this.config.x1)B.push.apply(B,this.Emc(z));else break;}else {if(this.Va.kfb && this.Va.kfb.nb < z.nb)break;if(!z.$Ha())break;B.push(z);}++A;n.dc(this.HMa) || (this.HMa=null === (x=z.Hb) || void 0 === x?void 0:x.H);}++this.vA;if(!n.Dr(y) && A >= y)break;}B.length && (void 0 !== this.Ld.count && (this.error("tryToAtach() but requestQueue has sentinel:",this.Ld.count),this.Ld.wtb()),Promise.all(B.map(function(C){return w.Ld.enqueue(C).then(function(){return w.O8b(C);});})),this.jab());}};t.prototype.O8b=function(w){this.Q6a=w;};t.prototype.VQ=function(w){var x,z,y;x=this;z=[];if(0 !== this.Va.II){y=this.Va.qqb;this.Va.tyb.gQa(function(A){var B;if(A.zk || y > (null === (B=A.Hb) || void 0 === B?void 0:B.H))return !0;A.Sz && (x.U1=!1);if(!x.IK(A))return (x.warn("request abort failed:",A.toString()),!0);z.unshift(A);});this.U5();z.length && "function" === typeof w && w(z);}};t.prototype.Roc=function(w){w.tA=!0;w.abort();this.Va.Ric();this.Ima();};t.prototype.Soc=function(){var w,x,z,y,A,B;return c.__generator(this,function(C){switch(C.label){case 0:C.label=1;case 1:if(!this.Va.length)return [3,3];w=this.Va.get(0);x=d.K.Pa(null !== (B=null === (A=this.config.NV) || void 0 === A?void 0:A.H) && void 0 !== B?B:0);z=x.add(w.Rb);return [4,k.Og.iw(z)];case 2:C.va();if(1 >= this.Va.complete.length && !w.zk)return [3,3];(0,l.assert)(w === this.Va.get(0));w.IF || this.IK(w);y=this.Va.splice(0,1);0 < this.vA && this.vA--;this.kq.bja(y);y=void 0;return [3,1];case 3:return [2];}});};t.prototype.K2b=function(w){if(this.Va.length && (w=this.Va.Seb(w)))return w;};t.prototype.zNb=function(w){var x,z,y,A,B,C,D;C=w.Ga;w=this.Va.xEa(w.Ba.H);D=this.Va.get(w);(0,l.assert)(D && void 0 !== (null === (x=D.Ba) || void 0 === x?void 0:x.H) && void 0 !== (null === (z=D.Ga) || void 0 === z?void 0:z.H) && void 0 !== D.index,"expected existing request to be defined with properties");if(null === (y=D.Ga) || void 0 === y?0:y.equal(C))return (this.n8a(w),[null === (A=D.Ga) || void 0 === A?void 0:A.H,D.index + 1]);this.n8a(w - 1);return [null === (B=D.Ba) || void 0 === B?void 0:B.H,D.index];};t.prototype.Gn=function(w){var x,z;x=this;z=[];this.Va.forEach(function(y){var A;A=y.ZRa(w);1 === A?z.push(y):2 === A && x.Qa.R.We("swapUrl failure");});return z;};t.prototype.IH=function(w){w.Ox && w.$Ha() && !this.config.zL && this.Ima();this.Y1(w);};t.prototype.JH=function(w,x){var z,y;if(this.config.zL && w.$Ha() && !w.IF){z=w.stream;y=z.track;z=z.bitrate;y=(0,q.Ohb)({URb:w.la,Xdc:y.Td[0].bitrate,wYb:z,Kfc:this.config.wQa,Noc:w.Ob.Ch,fa:this.Qa.R.fa});w.bytesReceived >= y && this.Ima();this.HS(w,x);}};t.prototype.nn=function(w,x){var z,y;w.Ox && !w.IF && this.Ima();(null === (z=this.ql) || void 0 === z?void 0:z.state) === k.Rn.complete && (null === (y=this.ql) || void 0 === y?void 0:y.Md());this.PL(w,x);};t.prototype.$6b=function(){return this.Va.active.concat(this.Va.tyb);};t.prototype.yNb=function(w){var x,z,y;x=this;z=!1;y=-1;w.map(function(A){(0,l.assert)(-1 === y || A.index === y + 1,"requests to abort must be contiguous");y=A.index;if(!x.IK(A))return !1;z=!0;x.Ld.remove(A);A.ze();return !0;});z && this.U5();};t.prototype.c7b=function(){return this.Va.Fj + this.Va.II;};t.prototype.ztb=function(){var w,x,z;x=void 0 !== this.Va && 0 < this.Va.length;z=this.Va;this.Va=new e.vTa(this.console,this);this.vA=0;this.Ld.clear();this.Q6a=void 0;this.HMa=null;null === (w=this.ql) || void 0 === w?void 0:w.Md();this.k9a=this.U1=!1;x && (w=z.map(function(y){return y;}),this.kq.bja(w));};t.prototype.nTb=function(){this.U1 || (this.U1=!0);};t.prototype.n8a=function(w){var x;for(w+=1;w < this.cOa;w++){x=this.Va.get(w);(0,l.assert)(x,"expected request to exist");this.Ld.remove(x);x.aborted || (this.IK(x),x.ze());}this.U5();};t.prototype.IK=function(w){return w.abort()?!0:!1;};t.prototype.U5=function(){var w,x,z,y;w=this;if(0 !== this.Va.length){z=[];y=0;this.Va.U5(function(A,B){B < w.vA && ++y;z.push(A);});this.vA-=y;null === (x=this.ql) || void 0 === x?void 0:x.Md();this.kq.bja(z);}};t.prototype.Emc=function(w){switch(this.mediaType){case f.u.X:return this.Fmc(w);case f.u.V:return this.Hmc(w);case f.u.Ia:return this.Gmc(w);case f.u.Kn:return (this.console.error("providePaddingFragments not implemented for MEDIA_EVENTS"),[]);}};t.prototype.Fmc=function(w){return v.iJ.instance().s7.Srb(this.Qa.R,w.stream.kg,(0,p.cgb)(w.stream.profile),w.stream.bitrate,w.stream.track.Ir,w.Ob,this.Qa.M,function(x,z){return w.Hb.add(z).Yc(x).ga;},this.config,this.console);};t.prototype.Hmc=function(w){var x,z,y;y=null === (x=w.stream.track.za) || void 0 === x?void 0:x.INa();(0,l.assert)(y,"Video streams must have a frame rate");return v.iJ.instance().s7.Trb(this.Qa.R,"padding",w.stream.profile,y,null === (z=w.stream.track.jm) || void 0 === z?void 0:z.rz,w.stream.track.Ir,w.Ob,this.Qa.M,function(A,B){return w.Hb.add(B).Yc(A).ga;},this.console).Ha;};t.prototype.Gmc=function(w){w.uNa(v.iJ.instance().s7.Jmc(),!0);return [w];};return t=c.__decorate([m.MS],t);})(r.ZI);b.kva=a;},58418:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ohb=void 0;b.Ohb=function(a){var c,n,d,g,e;c=a.Noc;n=a.URb;d=a.Xdc;g=a.vIc;e=d / a.wYb;return Math.min(n * a.Kfc,n - (a.fa?c * d * 1E3 / 8:n * e)) - (void 0 === g?150:g) / 1E3 * (n / c);};},95407:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.tua=void 0;c=a(5163);r=(function(n){function d(g,e){g=n.call(this,g) || this;g.SDa=e;g.name="PlaybackError";return g;}c.__extends(d,n);d.fbc=function(g){return g && g.message && g.stack && g.SDa?"PlaybackError" === (null === g || void 0 === g?void 0:g.name):!1;};return d;})(Error);b.tua=r;},34434:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z;Object.defineProperties(b,{__esModule:{value:!0}});b.ioa=void 0;c=a(5163);n=a(90745);d=a(91176);g=a(91176);e=a(69575);f=a(52571);l=a(65161);h=a(40666);r=a(75393);k=a(26012);m=a(97757);p=c.__importDefault(a(40497));v=a(36948);q=a(74371);u=a(74504);t=a(82867);w=a(90111);x=a(85030);z=r.DA.KCa;a=(function(y){function A(B,C,D){var E,F,G,J;J=y.call(this) || this;J.$=B;J.f7a=C;J.aya=D;J.k1=[];J.he=void 0;J.Jea=new n.mf();J.V3=void 0;J.RH=void 0;J.Jea.on(J.$,"underflow",J.Li.bind(J));J.NZ=new w.W1a(B);J.Jea.on(J.$,"skipped",J.k5.bind(J));J.Jea.on(J.$,"playbackEnding",J.wLa.bind(J));J.pF=new h.zZ(J.NZ,J.Wb,"player");J.ASa=new e.Xf();B.lx && B.Md && (J.YA=new x.B3a(J,B,J.Wb));J.CN=(0,q.Qbb)({Wdc:Math.min(null !== (E=D.bka) && void 0 !== E?E:v.kj.bka[1],(null !== (F=D.Ak) && void 0 !== F?F:v.kj.Ak[1]) - 2500),oYb:null !== (G=D.aka) && void 0 !== G?G:v.kj.aka[1],iD:function(){return J.Hd;},f7b:function(){var N,I,M,K,L,P,X;L=(null === (K=J.he) || void 0 === K?void 0:K.mr()) || [];K=[];try{for(var H=c.__values(L),O=H.next();!O.done;O=H.next()){P=O.value;try{for(var Q=(I=void 0,c.__values([l.u.X,l.u.V,l.u.Ia])),S=Q.next();!S.done;S=Q.next()){X=P.Pe(S.value);X && K.push(X);}}catch(V){I={error:V};}finally{try{S && !S.done && (M=Q.return) && M.call(Q);}finally{if(I)throw I.error;}}}}catch(V){var W;W={error:V};}finally{try{O && !O.done && (N=H.return) && N.call(H);}finally{if(W)throw W.error;}}return K;},ec:J.bd,console:J.Wb,hgc:500});J.wU=J.wU.bind(J);J.tja=J.tja.bind(J);J.CN.addListener("healthChange",J.tja);J.$.addListener("playing",J.wU);return J;}c.__extends(A,y);Object.defineProperties(A.prototype,{Zg:{get:function(){return this.f7a;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Fn:{get:function(){var B;return null === (B=this.he) || void 0 === B?void 0:B.Fn;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{GA:{get:function(){var B;return (null === (B=this.he) || void 0 === B?void 0:B.GA) || new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Ua:{get:function(){var B;return (null === (B=this.he) || void 0 === B?void 0:B.mr()) || [];},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Da:{get:function(){var B;return null === (B=this.he) || void 0 === B?void 0:B.Da;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Aa:{get:function(){return this.NZ;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{z9a:{get:function(){var B,C;return !!((null === (B=this.he) || void 0 === B?0:B.xO) && (null === (C=this.Av) || void 0 === C?0:C.cj));},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{xO:{get:function(){var B,C;return null !== (C=null === (B=this.he) || void 0 === B?void 0:B.xO) && void 0 !== C?C:!1;},enumerable:!1,configurable:!0}});A.prototype.wLa=function(B){var C;if(this.se){B=this.lq(B.He || this.$.sd,!0);(0,f.assert)(B,"Playback ending at position outside playgraph");C=this.KG(B);(0,f.assert)(C,"Playback ending at clamped position outside playgraph");this.events.emit("playbackEnding",{type:"playbackEnding",playerTimestamp:C,position:B});}else this.console.warn(("Unexpected playback ending event at ").concat(B.He));};A.prototype.Yub=function(B){-1 === this.k1.indexOf(B) && this.k1.push(B);this.he && this.he.tU(B);this.events.emit("drmReady",{viewableId:B});};A.prototype.Xub=function(B){B=this.k1.indexOf(B);-1 !== B && this.k1.splice(B,1);};A.prototype.C3=function(B){var C;return -1 !== this.k1.indexOf(B) || !(null === (C=(0,g.oc)(this.Ua,function(D){return D.no && D.R.N === B;})) || void 0 === C || !C.R.Cz);};A.prototype.pI=function(B){var C;null === (C=this.he) || void 0 === C?void 0:C.pI(B);};A.prototype.f8=function(B){var C;null === (C=this.he) || void 0 === C?void 0:C.f8(B);this.f7a=B;};A.prototype.reset=function(){var B,C;this.ASa=new e.Xf();y.prototype.reset.call(this);this.RH=void 0;null === (B=this.he) || void 0 === B?void 0:B.reset();null === (C=this.YA) || void 0 === C?void 0:C.reset();};A.prototype.oOa=function(B){this.eO([B]);};A.prototype.eO=function(B){var C,D;C=this;B.forEach(function(E){var F;y.prototype.oOa.call(C,E);null === (F=C.YA) || void 0 === F?void 0:F.fpc(E);});null === (D=this.he) || void 0 === D?void 0:D.eO(B);};A.prototype.UF=function(){var B,C;null === (B=this.he) || void 0 === B?void 0:B.UF();null === (C=this.he) || void 0 === C?void 0:C.eO();};A.prototype.pause=function(B){this.FO(B);y.prototype.pause.call(this,B || this.Zg);};A.prototype.resume=function(B){var C;null === (C=this.he) || void 0 === C?void 0:C.resume(B);y.prototype.resume.call(this,B || this.Zg);};A.prototype.Ma=function(){var B;this.CN.removeListener("healthChange",this.tja);this.$.removeListener("playing",this.wU);this.V3=this.pga()?this.ur():void 0;this.he && this.$Ca(this.he.Da);this.NZ.Ma();this.pF.Ma();this.Jea.clear();null === (B=this.YA) || void 0 === B?void 0:B.Ma();y.prototype.Ma.call(this);this.CN.stop();};A.prototype.iD=function(){var B,C;if(null === (B=this.he) || void 0 === B?0:B.Vlc){B=this.$.sd;if(this.Aa.Kh){if(this.RH){if(this.RH.greaterThan(B))return (B=this.RH.ka(B),this.ASa.push(B.H),this.RH);if(this.Ua.length){C=this.he.xcc;if(C && C.lessThan(B))return (this.events.emit("logdata",{type:"logdata",target:"endplay",Hc:{clockdrift:{type:"count"}}}),this.RH);}}this.RH=B;}return B;}return y.prototype.iD.call(this);};A.prototype.aT=function(){var B;B=this.$.playbackRate;void 0 === B && (B=y.prototype.aT.call(this));return B;};A.prototype.pga=function(){return !!this.V3 || y.prototype.pga.call(this);};A.prototype.ur=function(){return this.V3?this.V3:y.prototype.ur.call(this);};A.prototype.AG=function(){var B,C,D,E;E=null === (B=this.he) || void 0 === B?void 0:B.wlb;if(null === (C=this.he) || void 0 === C || !C.Da || E && (null === (D=this.Da) || void 0 === D?0:D.Z.ba[E.M.id]))return E;};A.prototype.$Ca=function(B){var C,D;(0,f.assert)(B === this.Da);null === (C=this.he) || void 0 === C?void 0:C.Ma();this.he=void 0;null === (D=this.Da) || void 0 === D?void 0:D.events.removeListener("seeking",this.CN.uja);};A.prototype.tca=function(B,C){var D,E,F,G;this.V3=void 0;F=y.prototype.tca.call(this,B,C);if(F){G=new u.RTa(B,this,this.Wb,B.config,this.aya,this.events,this.Zg,this.pF,this.YA,this.KQ,this.JQ,this.h6a,null === C || void 0 === C?void 0:C.Fn,null === C || void 0 === C?void 0:C.GA);null === C || void 0 === C?void 0:C.BU();this.he=G;this.FO(this.KU);this.YA && (C=B.Ef.D7b(k.Cva),C || (C=new k.Cva(),B.rd(C)),this.YA.aoc(C));null === (E=null === (D=this.Da) || void 0 === D?void 0:D.events) || void 0 === E?void 0:E.addListener("seeking",this.CN.uja);}return F;};A.prototype.BU=function(){var B;null === (B=this.he) || void 0 === B?void 0:B.BU();};A.prototype.QDa=function(){var D;for(var B=[],C=0;C < arguments.length;C++)B[C]=arguments[C];D=this.he;(0,f.assert)(D);B.forEach(function(E){return D.d1b(E);});};A.prototype.h7=function(){var B;null === (B=this.he) || void 0 === B?void 0:B.h7();};A.prototype.Htc=function(B,C,D){var E;null === (E=this.Da) || void 0 === E?void 0:E.uRa(B.to,B.from,C,D);};A.prototype.Kj=function(B){var C,D,E;if(!this.he)return !1;C=this.i2(B);if(!C)return !1;D=C.M;E=d.K.Pa(this.aya.fU);return D.kc.ka(E).lessThan(B) || !C.GR(B)?!1:this.he.Kj(B);};A.prototype.Li=function(){var B,C,D;if(null === (B=this.Da) || void 0 === B?0:B.Zm)this.console.error("AsePlayer: received underflow in buffering state - ignoring");else {D=this.Hd;(0,f.assert)(this.Da);B=this.lq(D,!0);(0,f.assert)(B);null === (C=this.he) || void 0 === C?void 0:C.Li(B);C=this.i2(D);null === C || void 0 === C?void 0:C.R.Li();this.Da.Li(B);}};A.prototype.k5=function(){this.RH=void 0;};A.prototype.jFa=function(){var B;return null === (B=this.he) || void 0 === B?void 0:B.jFa();};A.prototype.y5=function(B){this.he?this.he.y5(B):y.prototype.y5.call(this,B);};A.prototype.FO=function(B){var C;null === (C=this.he) || void 0 === C?void 0:C.FO(B);};A.prototype.wRa=function(B){(0,f.assert)(this.Da && this.he);return y.prototype.wRa.call(this,B);};A.prototype.Cka=function(){(0,f.assert)(this.he);this.he.Cka();};A.prototype.wU=function(){this.aya.zL && !this.CN.eA && this.CN.start();};A.prototype.tja=function(B){var C;C=B.SZb;B.I9b === q.x1a.KY && C && this.lic(B);};A.prototype.lic=function(B){c.__awaiter(this,arguments,void 0,function(C){var D,E,F,G,J,N;J=C.nnc;N=C.Mt;return c.__generator(this,function(I){switch(I.label){case 0:return [4,p.default.instance().epc()];case 1:D=I.va();if(!D)return [2];E=D.pob;F=D.Dtb;G=Math.max(0,J - 500);N.xNb(G,E,F);return [2];}});});};c.__decorate([z.return.kAa(),z.return.Jo],A.prototype,"ur",null);c.__decorate([z.return.kAa(),z.return.gLa],A.prototype,"AG",null);return A=c.__decorate([m.MS],A);})(t.Dua);b.ioa=a;},74504:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z;Object.defineProperties(b,{__esModule:{value:!0}});b.RTa=void 0;c=a(5163);n=a(90745);d=a(91176);g=a(91176);e=a(66164);f=a(79048);l=a(74418);h=a(62614);k=a(89645);m=a(65161);p=a(78647);v=a(69575);q=a(40666);u=a(52571);t=a(67181);w=a(95324);x=a(16290);z=a(89527);r=(function(){function y(A,B,C,D,E,F,G,J,N,I,M,K,L,H){var O;O=this;this.Da=A;this.$=B;this.console=C;this.config=D;this.Rt=E;this.events=F;this.Zg=G;this.bd=J;this.YA=N;this.$p=I;this.NM=M;this.hj=K;this.i_=H;this.Jca=!1;this.hfb=new v.Q3a();this.Sxa=this.Uhc.bind(this);this.Uxa=this.Fic.bind(this);this.Txa=this.jic.bind(this);this.ix=new k.$I(this.console);this.y_=L || new x.iwa(this.console,A);this.NXb();this.dj && (this.Ulc=this.kfa(this.p7b()),this.k6a());this.ql=J.nx(function(){return O.pRb();},"branchPruner");this.Bi=new n.mf();this.Bi.on(this.events,"segmentPresenting",function(){return c.__awaiter(O,void 0,void 0,function(){var P;return c.__generator(this,function(Q){switch(Q.label){case 0:return (this.xLb=this.$.ur(),null !== (P=this.config.M9a) && void 0 !== P && P.segmentPresenting?[4,Promise.resolve()]:[3,2]);case 1:(Q.va(),this.events.emit("requestGarbageCollection",{time:e.platform.time.ya(),type:"requestGarbageCollection"}),Q.label=2);case 2:return [2];}});});});}Object.defineProperties(y.prototype,{Fn:{get:function(){return this.y_;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{GA:{get:function(){var A;A=new Map();this.dj.forEach(function(B){A.set(B.mediaType,B.UH);});return A;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{wlb:{get:function(){return this.xLb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{xO:{get:function(){return this.dj.every(function(A){return A.xO;});},enumerable:!1,configurable:!0}});y.prototype.pRb=function(){var A,B,C,D,E,F;return c.__generator(this,function(G){switch(G.label){case 0:if(!this.ix.cbb)return [3,2];A=c.__read(this.ix.U7(),1);B=A[0];C=B.M.type === f.gd.content && (null === (F=this.Rt.NV) || void 0 === F?void 0:F.H) || 0;D=B.Gha || B.Rb;E=D.add(d.K.Pa(C + 1E3));return [4,q.Og.iw(E)];case 1:return (G.va(),this.Vrb(B),[3,0]);case 2:return [2];}});};Object.defineProperties(y.prototype,{Vlc:{get:function(){var A;return !(null === (A=this.Ulc) || void 0 === A || !A.$p.value);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{xcc:{get:function(){return this.Jca?d.K.max.apply(d.K,c.__spreadArray([],c.__read(this.dj.map(function(A){var B;return null === (B=A.gQb) || void 0 === B?void 0:B.vlb;}).filter(g.Hob)),!1)):void 0;},enumerable:!1,configurable:!0}});y.prototype.pI=function(A){this.dj.forEach(function(B){B.pI(A);});};y.prototype.Uhc=function(){var A;this.ql.Md();A=this.dj.filter(function(B){return B.akb;}).map(function(B){return B.mediaType;});this.FO(A);this.resume(A);};y.prototype.Fic=function(A){this.R$a(A.Qa);};y.prototype.jic=function(A){this.R$a(A.Qa);};y.prototype.R$a=function(A){var B,C,D;B=this.mr();C=B.indexOf(A);if(-1 !== C && !B.slice(0,C).some(function(E){return !E.cj;})){D=A.hj;D && D.greaterThan(this.hj.value) && (A.cj && C < B.length - 1 && (D=d.K.max(D,B[C + 1].hj || d.K.Snb)),this.hj.set(D));}};y.prototype.d1b=function(A){(0,u.assert)(-1 === this.ix.U7().indexOf(A),("Branch ").concat(A.M.id," is already in the collection, cannot re-queue"));A.events.on("branchEdited",this.Sxa);A.events.on("requestComplete",this.Uxa);A.events.on("liveMissingSegment",this.Txa);A.hj && this.mr().every(function(B){return B.cj;}) && this.hj.set(A.hj);this.ix.enqueue(A);this.ql.state === q.Rn.complete && this.ql.Md();!A.M.G7 || A.R.fa && !isFinite(A.M.yb) || this.ix.CL();this.Jca || this.T2b(A);};y.prototype.tU=function(A){this.dj.forEach(function(B){B.tU(A);});};y.prototype.f8=function(A){var B,C,D,E;B=this;C=!1;D=this.dj.map(function(F){return F.mediaType;});this.Da.rM().some(function(F){return F.fa;}) || (D=D.filter(function(F){return F !== m.u.Ia;}));E=(0,g.wp)(D,A);E.forEach(function(F){var G;G=B.ig.sourceBuffers;G=(0,g.oc)(G,function(J){return J.mediaType === F;});(0,u.assert)(G);B.ig.removeSourceBuffer(G);G=B.kfa(F);(0,u.assert)(G);G.reset();G.Ma();(0,g.Dza)(B.dj,G);(0,g.Dza)(E,F);C=!0;});A=(0,g.wp)(A,D);if(!this.P_(this.ig,A))throw (this.wK("error creating source buffers","NFErr_MC_StreamingInitFailure"),this.ig.error);A.forEach(function(F){var G;G=B.ig.sourceBuffers;G=(0,g.oc)(G,function(J){return J.mediaType === F;});(0,u.assert)(G);G=B.Tbb(B.ig,G);B.dj.push(G);C=!0;});C && this.k6a();};y.prototype.reset=function(){this.dj.forEach(function(A){A.reset();});this.Jca=!1;this.hfb.removeAllListeners();this.UF();};y.prototype.oOa=function(A){this.eO([A]);};y.prototype.eO=function(A){var B;B=this;void 0 === A && (A=this.Zg);A.forEach(function(C){C=B.kfa(C);null === C || void 0 === C?void 0:C.reset(!1,A);});};y.prototype.UF=function(){var A;A=this;this.ix.U7().forEach(function(B){B.events.yo("branchEdited",A.Sxa);B.events.yo("requestComplete",A.Uxa);B.events.yo("liveMissingSegment",A.Txa);});this.ix.clear();this.ql.Md();};y.prototype.Cka=function(){var A;A=this;this.ix.U7().filter(function(B){return B.cR;}).forEach(function(B){return A.Vrb(B);});};y.prototype.resume=function(A){this.dj.forEach(function(B){void 0 !== A && -1 === A.indexOf(B.mediaType) || B.resume();});};y.prototype.y5=function(A){var B;B=this.dj.filter(function(C){return C.akb;});B.forEach(function(C){return C.stop();});A();B.forEach(function(C){return C.resume();});};y.prototype.FO=function(A){this.dj.forEach(function(B){return (void 0 === A || -1 !== A.indexOf(B.mediaType)) && B.stop();});};y.prototype.h7=function(){this.dj.forEach(function(A){return A.h7();});};y.prototype.Li=function(A){var B,C,D;this.console.trace("attached-player: onUnderflow");B=this.wlb;if(B.no && B.R.fa){C=B.Bx();if(C && 0 < C.length && C.every(function(E){return E instanceof w.f$;}) && (C=C.map(function(E){return E.K6b();}).filter(d.Zc),C.length)){C=d.K.max.apply(d.K,c.__spreadArray([],c.__read(C),!1));D=(0,h.u6b)(B.R.U);C=C.add(d.K.Pa(D));A=this.Da.Zz(A);(0,u.assert)(A.fl.H <= C.H);B=this.Da.$u({N:B.R.N,fl:C});(0,u.assert)(B);B={type:"fragmentsMissing",nextAvailableGraphPosition:B,nextAvailableContentTimestamp:C};this.events.emit(B.type,B);}}};y.prototype.R7b=function(){return this.ix.getIterator();};y.prototype.S5b=function(){return this.mr()[0];};y.prototype.mr=function(){return this.ix.U7();};y.prototype.P_=function(A,B){var C,D;C=!0;D=A.sourceBuffers;B.forEach(function(E){(0,g.oc)(D,function(F){return F.mediaType === E;}) || A.addSourceBuffer(E) || (C=!1);});C || this.console.warn("Error adding sourceBuffer:",A.error);return C;};y.prototype.NXb=function(){var A,B;A=this;this.NQ("createMediaSourceStart");if(this.Rt.C2)B=this.Rt.C2();else (B=new e.platform.MediaSource(this.$.$),B.Rf || (B.Rf=e.platform.MediaSource.Rf));if(1 !== B.readyState)this.wK("exception in init","NFErr_MC_StreamingInitFailure");else {this.NQ("createMediaSourceEnd");this.ig=B;if(!this.P_(B,this.Zg))throw (this.wK("error creating source buffers","NFErr_MC_StreamingInitFailure"),B.error);this.Z$a={};this.Da.rd(new t.TUa(this.Z$a,this.config));this.dj=B.sourceBuffers.filter(function(C){return 0 <= A.Zg.indexOf(C.mediaType);}).map(function(C){return A.Tbb(B,C);});}};y.prototype.Tbb=function(A,B){var C,D,E,F;C=this;A=new p.uUa(B.mediaType,A,B,this.config,this.$,this.bd);A.addListener("error",function(G){return C.wK(G.errorstr);});A.addListener("logdata",function(G){return C.events.emit("logdata",G);});A.addListener("managerdebugevent",function(G){C.events.emit("managerdebugevent",G);});F=null === (D=this.i_) || void 0 === D?void 0:D.get(B.mediaType);D=new l.BTa(A,B.mediaType,this,this.config,this.console,this.$,this.Rt,this.bd,this.Fn,this.YA,F);if(B.mediaType === m.u.V)D.on("drmNeeded",function(G){return C.events.emit("drmNeeded",G);});F || (null === (E=D.UH) || void 0 === E?void 0:E.GOb(new z.Qoa(this.Z$a[B.mediaType]={},this.console,this.$,A,this.$.events,this.Rt,this.bd)));return D;};y.prototype.Vrb=function(A){var B;(0,u.assert)(A.cR,"Attempted to prune branch that has not been fully appended");this.ix.remove(A);A.events.removeListener("branchEdited",this.Sxa);A.events.removeListener("requestComplete",this.Uxa);A.events.removeListener("liveMissingSegment",this.Txa);A.Eg("pruned");(null === (B=this.config.M9a) || void 0 === B?0:B.branchPruned) && this.events.emit("requestGarbageCollection",{time:e.platform.time.ya(),type:"requestGarbageCollection"});};y.prototype.Ma=function(){this.fKa.clear();this.nAa.clear();this.dj.forEach(function(A){return A.Ma();});this.Rt.C2 || this.ig.Ep();this.UF();this.ql.Ma();this.Bi.clear();};y.prototype.Kj=function(A){return this.dj.every(function(B){return B.Kj(A);});};y.prototype.BU=function(){this.dj.forEach(function(A){return A.Lbb();});this.y_=new x.iwa(this.console,this.Da);};y.prototype.jFa=function(){return {Vmc:this.mr(),Kkc:this.dj};};y.prototype.T2b=function(A){var B;B=this;this.Jca=!0;A.ca.forEach(function(C){var D;D=B.kfa(C.mediaType);if(void 0 !== D)B.hfb.once(C.JEa,function(E){return D.W2b(E);});});if(A.Ba)this.Bdb();else A.events.once("branchNormalized",function(){return B.Bdb();});};y.prototype.Bdb=function(){var A;A=this.S5b();A && ((0,u.assert)(A.Hb),this.events.emit("ptsChanged",{initialTimestamp:A.Hb,forcedTimestamp:void 0}));};y.prototype.kfa=function(A){return (0,g.oc)(this.dj,function(B){return B.mediaType === A;});};y.prototype.p7b=function(){return -1 !== this.Zg.indexOf(m.u.V)?m.u.V:m.u.X;};y.prototype.NQ=function(A){A={type:"startEvent",event:A,time:e.platform.time.ya()};this.events.emit(A.type,A);};y.prototype.wK=function(A,B){this.Da.We(A,void 0,B);};y.prototype.k6a=function(){var A;A=this;this.fKa && this.fKa.clear();this.fKa=d.us.Xzb(this.dj.map(function(B){return B.$p;}),function(B){return B.every(function(C){return C;});},function(B){return A.$p.set(B);});this.nAa && this.nAa.clear();this.nAa=new d.jta(this.dj.map(function(B){return B.NM;}),function(B){return d.K.min.apply(d.K,c.__spreadArray([],c.__read(B),!1));},function(B){A.NM.set(B);},d.K.Pa(-Infinity));};return y;})();b.RTa=r;},89527:function(r,b,a){var c,n,d,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.Qoa=void 0;c=a(5163);n=a(90745);d=a(52571);g=a(48170);e=0;r=(function(f){function l(h,k,m,p,v,q,u,t){k=f.call(this,("cdnList").concat(e++),k,m,p,v,q,u,"cdnList",t) || this;k.rh=h;k.Pb();return k;}c.__extends(l,f);l.prototype.Pb=function(){var h;h=this;this.G5=new n.mf();this.G5.on(this.sb.$,"skipped",function(k){h.IA && ((null === k || void 0 === k?0:k.Qlc) && h.G0(k.Qlc),h.IA=void 0);});this.G5.on(this.sb.$,"paused",function(){h.IA && h.sb.se && h.G0(h.sb.Hd);});this.G5.on(this.sb.$,"underflow",function(){h.IA && h.sb.se && h.G0(h.sb.Hd);});};l.prototype.bx=function(h,k,m){this.G5.clear();f.prototype.bx.call(this,h,k,m);this.Pb();};l.prototype.close=function(){g.G && this.console.trace("close");f.prototype.close.call(this);this.G5.clear();};l.prototype.otc=function(h,k){var m;m=this;this.IA && this.G0(h);return this.Ueb(k).map(function(p){return m.rh[p];});};l.prototype.Lsb=function(h){var k;k=this;this.Ueb(h).forEach(function(m){delete k.rh[m];});};l.prototype.Ueb=function(h){var k;k=this;return Object.keys(this.rh).filter(function(m){return k.rh[m].P === ("").concat(h);});};l.prototype.$p=function(h){var k,m,p;k=h.stream;m=h.vd;p=h.Hb;h=h.Rb;(0,d.assert)(void 0 !== p);(0,d.assert)(void 0 !== h);g.G && this.console.trace(("Media appended ").concat(p.Ka(),"-").concat(h.Ka()));this.Zya({stream:k,vd:m},p,h);};l.prototype.mha=function(h,k){return h.stream === k.stream && h.vd === k.vd;};l.prototype.J5b=function(h){var k,m;m=h.Zr;h=m.vd;m=null === (k=m.stream.R.U.zz) || void 0 === k?void 0:k.Nh;return ("").concat(h,"::").concat(m);};l.prototype.xDa=function(h,k){g.G && this.console.trace(("Presenting event for ( ").concat(h.Zr.stream.id,", ").concat(h.Zr.vd," )") + (" at ").concat(k.Ka()));this.IA?this.G0(k):this.H0=k;this.IA=h;};l.prototype.G0=function(h){var k,m,p,v,q,u,t,w,x;(0,d.assert)(this.IA);if(null === (k=this.vCa) || void 0 === k?0:k.lessThan(h))h=this.vCa;q=this.IA;k=this.rh;u=q.Zr;t=u.stream;u=u.vd;w=null === (m=t.RT) || void 0 === m?void 0:m.Qm;m=h.ka(this.H0 || q.timestamp).H;if(void 0 !== u && void 0 !== w){x=null === (p=t.R.U.zz) || void 0 === p?void 0:p.Nh;p=t.track.P;q=this.J5b(q);k=(v=(k[q] || (k[q]={Ap:u,Nh:x,P:p,wL:{}})).wL)[w] || (v[w]={bitrate:t.bitrate,Nb:w,mediaType:t.mediaType,totalTime:0,Gb:t.Gb});k.totalTime=Math.max(k.totalTime + m,0);}this.H0=h;};l.prototype.clone=function(h,k){k=void 0 === k?{}:k;h=new (k.yNc || l)(h,this.Xic,this.sb,this.ica,this.events,this.Rt,this.ec,k.priority);this.cUb(h);h.IA=this.IA;h.H0=this.H0;g.G && h.console.trace("Cloning",{fGc:h.nl.length});return h;};l.prototype.reset=function(){f.prototype.reset.call(this);this.H0=void 0;};l.prototype.oha=function(h){return ("(").concat(h.stream.Jb,", ").concat(h.vd,")");};return l;})(a(546).N$);b.Qoa=r;},63002:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.KWa=void 0;c=a(5163);n=a(48170);d=a(40666);r=(function(){function g(e,f,l){this.ec=e;this.vKa=f;this.Wb=l;}Object.defineProperties(g.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});g.prototype.waitUntil=function(e){var f;e=(0,d.nna)(this.ec,e,!0);f=e.promise;this.x8=e.Ag;return f;};g.prototype.process=function(e){return c.__awaiter(this,void 0,void 0,function(){var f,l;return c.__generator(this,function(h){switch(h.label){case 0:if(e.done)return [3,2];f=e.value.value;if(!f.Wea)return [3,2];l=f.Hb.ka(this.vKa);n.G && this.Wb.trace(("[").concat(f.mediaType,"] JIT: waiting until playertime >= ").concat(l.H),("to append next request ").concat(f.toString()));return [4,this.waitUntil(l)];case 1:(h.va(),n.G && this.Wb.trace(("[").concat(f.mediaType,"] JIT: now appending request ").concat(f.toString())),h.label=2);case 2:return [2,e];}});});};g.prototype.reset=function(){var e;null === (e=this.x8) || void 0 === e?void 0:e.Ma();};return g;})();b.KWa=r;},59158:function(r,b,a){var c,n,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.iZa=void 0;c=a(5163);n=a(79048);d=a(48170);g=a(40666);r=(function(){function e(f,l,h,k){this.ec=f;this.vKa=l;this.console=h;this.sb=k;}Object.defineProperties(e.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});e.prototype.waitUntil=function(f){var l;f=(0,g.nna)(this.ec,f,!0);l=f.promise;this.x8=f.Ag;return l;};e.prototype.process=function(f){return c.__awaiter(this,void 0,void 0,function(){var l,h,k,m;return c.__generator(this,function(p){switch(p.label){case 0:if(f.done)return [3,2];l=f.value.value;if(l.M.type !== n.gd.Kb || !l.Wea)return [3,2];h=l.Hb.ka(this.vKa);d.G && this.console.trace(("[").concat(l.mediaType,"] Live-JIT: waiting until playertime >= ").concat(h.H),("to append next request ").concat(l.toString()));return [4,this.waitUntil(h)];case 1:(p.va(),(k=null === (m=this.sb.Da) || void 0 === m?void 0:m.Lc) && k.qf.Esb(l.R),d.G && this.console.trace(("[").concat(l.mediaType,"] JIT: now appending request ").concat(l.toString())),p.label=2);case 2:return [2,f];}});});};e.prototype.reset=function(){var f;null === (f=this.x8) || void 0 === f?void 0:f.Ma();};return e;})();b.iZa=r;},54540:function(r,b,a){var c,n,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.yZa=void 0;c=a(5163);n=a(91562);d=a(91176);g=a(8149);r=(function(){function e(f){this.console=f;}Object.defineProperties(e.prototype,{name:{get:function(){return "LiveRequestLogger";},enumerable:!1,configurable:!0}});e.prototype.process=function(f){return c.__awaiter(this,void 0,void 0,function(){var l,h,k,m,p,v,q,u,t,w,x,z,y,A;return c.__generator(this,function(){f.done || (l=f.value.value,(0,g.bm)(l.stream) && (h=l.N2(0),h instanceof ArrayBuffer && (k=new n.Sk(this.console,l.stream,h,["moof"],!0,{fMa:!0}),m=k.parse(),m.by && (p=k.Hp("moof"),v=p.Hp("traf"),q=v.Hp("trun"),u=v.Hp("tfdt"),t=l.stream.un,w=q.Bd,x=u.CC,z=m.Ha.O,y=new d.K(x,z),A=this.Pv?y.ka(this.Pv.XQb):void 0,this.console.trace(("Live Request Logger: processing request [").concat(l.mediaType,"]"),{baseMediaDecodeTime:x,timescale:z,baseMediaDecodeMs:y.H,ptsOffsetMs:t.H,mediaTimestampMs:y.ka(t).H,offsetFromPriorMs:null === A || void 0 === A?void 0:A.H,sampleCount:w,url:l.url}),this.Pv={XQb:y}))));return [2,f];});});};e.prototype.reset=function(){this.Pv=void 0;};return e;})();b.yZa=r;},85030:function(r,b,a){var c,n,d,g,e,f,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.B3a=void 0;c=a(5163);n=a(91176);d=a(90745);g=a(66164);e=a(48170);f=a(65161);l=a(69575);h=a(52571);r=(function(){function k(m,p,v){var q;q=this;this.sb=m;this.$=p;this.pending=new Map();this.listeners=new d.mf();this.WKa=!1;this.b9b=function(u){q.Etb(!0,function(){e.G && q.console.debug("cancelling playback ending");u.cancel();});};this.listeners.addListener(p,"playbackEnding",this.b9b);this.console=(0,l.xg)(g.platform,v,"SEAMLESSMANAGER");e.G && this.console.debug("construct");}k.prototype.Ma=function(){e.G && this.console.debug("destruct");this.pending.clear();this.listeners.clear();};k.prototype.aoc=function(m){this.eub=m;};k.prototype.Jyc=function(m){var p;0 === this.pending.size && ((0,h.assert)(void 0 === this.Ql,"SeamlessManager: No pending transitions, but a wait is deferred"),this.Ql=new n.ns());(0,h.assert)(this.Ql,"SeamlessManager: deferred is undefined");(0,h.assert)(!this.pending.has(m.mediaType),"SeamlessManager: There is already a pending transition for mediaType " + m.mediaType);this.pending.set(m.mediaType,m);e.G && this.console.trace(("got new transition [").concat(m.mediaType,"] --\x3e ").concat(m.to.stream.id));if(this.pending.size === this.sb.Zg.length && !this.WKa){p=this.qbc();if(p.QMa)return (e.G && this.console.trace(("seamless transition possible at ").concat(m.timestamp.Ka())),this.Ql.resolve(),this.reset(),Promise.resolve());e.G && this.console.trace(("starting non-seamless transition at ").concat(m.timestamp.Ka()));this.Ftc(p.info);}return this.Ql.promise;};k.prototype.fpc=function(m){e.G && this.console.trace(("reset media [").concat(m,"]"));this.pending.delete(m);0 === this.pending.size && this.reset();};k.prototype.reset=function(){e.G && this.console.debug("resetting");this.WKa=!1;this.Ql=void 0;this.pending.clear();};k.prototype.qbc=function(){var m,p,v,q,w,x,z,y,A,B,C,D,E,F,G;q={QMa:!0};try{for(var u=c.__values(this.pending.entries()),t=u.next();!t.done;t=u.next()){w=c.__read(t.value,2);x=w[0];z=w[1];if(z.from){y=z.from.stream;A=z.to.stream;if(y.track === A.track)e.G && this.console.debug("Seamless deemed possible due to same track",{mediaType:x});else {B=y.Mp();C=A.Mp();D=void 0;E=this.sb.lq(z.timestamp);D=z.from.L && 0 > this.sb.NM.value.H?{L:z.from.L,offset:n.K.Pa(0)}:this.sb.lq(z.Arb);F=this.$.lx({mediaType:x,gfb:z.gfb,from:B,to:C,d2:D,Q7:E});if(F.lx)e.G && this.console.debug("Seamless deemed possible",{mediaType:x,from:B,to:C,d2:D,Q7:E});else {e.G && this.console.debug("Non-seamless transition; details:",{reason:F.reason,mediaType:x,from:B,to:C});G=q.QMa?[]:q.info.rsb;F.reason && (z.reason="string" !== typeof F.reason?F.reason:void 0,G.push(F.reason));q={QMa:!1,info:{LZb:null !== (p=z.to.L) && void 0 !== p?p:"unk",vtc:null !== (v=z.from.L) && void 0 !== v?v:"unk",Tkc:z.timestamp,rsb:G}};}}}}}catch(N){var J;J={error:N};}finally{try{t && !t.done && (m=u.return) && m.call(u);}finally{if(J)throw J.error;}}return q;};k.prototype.Ftc=function(m){var p;null === (p=this.eub) || void 0 === p?void 0:p.zOb(m);this.WKa=!0;this.sb.$p.value?(e.G && this.console.trace("Signaling EOS for upcoming restart"),this.sb.h7()):(e.G && this.console.trace("Signaling immediate restart"),this.Etb(!1));};k.prototype.Etb=function(m,p){var v,q,u,t,w,x,A,B,C;u=this;if(this.pending.size){e.G && this.console.trace("playback ending, restarting player");t={};w=(v={},v[f.u.X]=void 0,v[f.u.V]=void 0,v[f.u.Ia]=void 0,v[f.u.Kn]=void 0,v);v=void 0;x=[];try{for(var z=c.__values(this.pending.entries()),y=z.next();!y.done;y=z.next()){A=c.__read(y.value,2);B=A[0];C=A[1];t[B]=C.to.stream.Mp();v={to:{L:C.to.L,offset:C.timestamp}};C.reason && x.push(C.reason);C.from.L && (w[B]=C.from.L,v.from={L:C.from.L,offset:C.Arb});}}catch(E){var D;D={error:E};}finally{try{y && !y.done && (q=z.return) && q.call(z);}finally{if(D)throw D.error;}}null === p || void 0 === p?void 0:p();this.sb.Htc(v,m,x);e.G && this.console.debug("Restarting player",t);this.$.Md(t,w).then(function(){var E,F;null === (E=u.Ql) || void 0 === E?void 0:E.resolve();e.G && u.console.debug("Restart completed");null === (F=u.eub) || void 0 === F?void 0:F.AOb();u.reset();});}};return k;})();b.B3a=r;},33604:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.C3a=void 0;c=a(5163);n=a(48170);r=(function(){function d(g,e,f){this.YA=g;this.mediaType=e;this.console=f;this.Zga=!0;}Object.defineProperties(d.prototype,{name:{get:function(){return "Transition";},enumerable:!1,configurable:!0}});d.prototype.process=function(g){return c.__awaiter(this,void 0,void 0,function(){var e,f;return c.__generator(this,function(l){switch(l.label){case 0:if(g.done)return [3,3];e=g.value.value;if(!this.Pv || !e.Sz || e.stream.R === this.Pv.stream.R || this.Pv.Hb === e.Hb && this.Pv.Qoc === e.index)return [3,2];n.G && this.console.trace(("Seamless Throttler: Waiting on request [").concat(e.mediaType,"]"),e.index,"in",e.M.id);return [4,this.YA.Jyc({mediaType:e.mediaType,gfb:this.Zga,to:{stream:e.stream,L:e.M.id},from:{stream:this.Pv.stream,L:this.Pv.L},timestamp:e.Hb,Arb:null === (f=this.Pv) || void 0 === f?void 0:f.Hb})];case 1:(l.va(),l.label=2);case 2:(this.Zga=!1,this.Pv={Qoc:e.index,stream:e.stream,Hb:e.Hb,L:e.M.id},l.label=3);case 3:return [2,g];}});});};d.prototype.sic=function(g,e){void 0 === g && (g=[]);void 0 === e && (e=[]);n.G && this.console.trace(("Seamless Throttler: onMediaSourceReset() ").concat(e));this.Zga || (this.Zga=-1 !== e.indexOf(this.mediaType));(null === g || void 0 === g?0:g.length) && g.length !== e.length && (this.Pv=void 0);};d.prototype.reset=function(){};return d;})();b.C3a=r;},53693:function(r,b,a){var c,n,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.a1a=void 0;c=a(5163);n=a(48170);d=a(52571);g=a(40666);r=(function(){function e(f,l,h,k){var m;m=this;this.ec=f;this.qjc=l;this.VLa=h;this.console=k;f.Aa.on("stopStart",function(){return m.bUb();});n.G && this.console.trace(("PacingThrottler: pacingFactory=").concat(l,", pacingThreshold=").concat(h.Ka()));}Object.defineProperties(e.prototype,{name:{get:function(){return "Pacing";},enumerable:!1,configurable:!0}});e.prototype.bUb=function(){var f,l;l=this.ec.Aa;this.DR=l.Kh?l.currentTime:void 0;this.Y_=this.S1=void 0;n.G && this.console.trace(("PacingThrottler: clock reset ").concat(null === (f=this.DR) || void 0 === f?void 0:f.H));};e.prototype.waitUntil=function(f){var l;f=(0,g.nna)(this.ec,f,!0);l=f.promise;this.x8=f.Ag;return l;};e.prototype.process=function(f){return c.__awaiter(this,void 0,void 0,function(){var l,h,k,m;return c.__generator(this,function(p){switch(p.label){case 0:if(f.done)return [3,11];l=f.value.value;(0,d.assert)(l.Hb);h=this.ec.Aa;if(!this.S1 || !this.Y_)return [3,10];if(!this.Y_.greaterThan(this.VLa))return [3,8];if(!this.DR)return [3,5];k=l.Hb.ka(this.DR).ka(this.VLa);m=this.DR.add(k.Oe(this.qjc));if(!m.lessThan(l.Hb))return [3,3];if(!m.greaterThan(h.currentTime))return [3,2];n.G && this.console.trace(("PacingThrottler: waiting until ").concat(m.Ka()," for mediaRequest @") + ("").concat(l.Hb.Ka(),", ") + ("current time ").concat(h.currentTime.Ka(),", ") + ("clock start time ").concat(this.DR.Ka(),", ") + ("distance ").concat(k.Ka()));return [4,this.waitUntil(m)];case 1:(p.va(),p.label=2);case 2:return [3,4];case 3:(n.G && this.console.warn("PacingThrottler: invalid schedule time " + ("").concat(m.Ka()," for mediaRequest ") + ("@").concat(l.Hb.Ka(),", ") + ("current time ").concat(h.currentTime.Ka(),", ") + ("clock start time ").concat(this.DR.Ka(),", ") + ("distance ").concat(k.Ka())),p.label=4);case 4:return [3,7];case 5:k=l.Hb.ka(this.S1);if(!k.greaterThan(this.VLa))return [3,7];n.G && this.console.trace(("PacingThrottler: (buffering) waiting until ").concat(this.S1.H,"ms") + (" for mediaRequest @").concat(l.Hb.H,"ms, ") + ("current time ").concat(h.currentTime.H));return [4,this.waitUntil(this.S1)];case 6:(p.va(),p.label=7);case 7:return [3,9];case 8:(this.Y_=this.Y_.add(l.Ob),p.label=9);case 9:return [3,11];case 10:(this.S1=l.Hb,this.Y_=l.Ob,p.label=11);case 11:return [2,f];}});});};e.prototype.reset=function(){var f;null === (f=this.x8) || void 0 === f?void 0:f.Ma();};return e;})();b.a1a=r;},74371:function(r,b,a){var n,d,g,e,f,l;function c(h,k){return h > k.Wdc?f.xXa:h > k.oYb?f.KY:0 < h?f.nCb:f.EMPTY;}Object.defineProperties(b,{__esModule:{value:!0}});b.Qbb=b.x1a=void 0;n=a(5163);d=a(91176);g=a(90745);e=a(54520);(function(h){h[h.EMPTY=0]="EMPTY";h[h.nCb=1]="CRITICAL";h[h.KY=2]="LOW";h[h.xXa=3]="HEALTHY";})(f || (b.x1a=f={}));l=(function(){function h(){this.FU=this.buffer=f.EMPTY;}Object.defineProperties(h.prototype,{cL:{get:function(){return Math.min(this.buffer,this.FU);},enumerable:!1,configurable:!0}});return h;})();b.Qbb=function(h){var m,p,v,q,u;function k(){var t,w,y,A,B,C,D,E,F;w=h.f7b();try{for(var x=n.__values(w),z=x.next();!z.done;z=x.next()){y=z.value;if(!y.cj){w=y;A=p[w.xMa] || new l();B=(0,e.iLa)(new l(),p[w.xMa]);C=h.iD();D=w.hj.ka(C).H;B.FU=c(D,h);E=w.FR.H;F=c(E,h);B.buffer=F;q && B.cL < f.xXa || (q && (q=!1),B.cL !== A.cL && (p[w.xMa]=B,m.emit("healthChange",{I9b:B.cL,SZb:B.cL < A.cL,Mt:w,nnc:Math.min(E,D)})));}}}catch(J){var G;G={error:J};}finally{try{z && !z.done && (t=x.return) && t.call(x);}finally{if(G)throw G.error;}}}m=new g.EventEmitter();p={};v=null;q=!1;u={get eA() {return !(null === v || void 0 === v || !v.eA);},start:function(){return n.__awaiter(void 0,void 0,void 0,function(){return n.__generator(this,function(){if(u.eA)return [2];v=h.ec.dCa(k,d.K.Pa(h.hgc));return [2];});});},stop:function(){return null === v || void 0 === v?void 0:v.Ma();},uja:function(){q=!0;},addListener:m.addListener.bind(m),removeListener:m.removeListener.bind(m)};return u;};},61651:function(r,b,a){var c,n,d,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.I$=void 0;c=a(5163);n=a(91176);d=a(52571);g=a(48170);e=a(17122);r=(function(f){function l(h){var k;k=f.call(this) || this;k.Da=h;k.i_=new Map();k.Ua=[];k.NZ=new e.naa({Kh:!1,currentTime:function(){return k.se?k.Hd:n.K.Qj;},speed:1});return k;}c.__extends(l,f);Object.defineProperties(l.prototype,{Aa:{get:function(){return this.NZ;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{bd:{get:function(){throw Error("Can't get scheduler on placeholder player");},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Fn:{get:function(){return this.y_;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{GA:{get:function(){return this.i_;},enumerable:!1,configurable:!0}});l.prototype.tca=function(h,k){var m;m=!this.Da;m && (this.Da=h,this.fxa=(null === k || void 0 === k?0:k.se)?k.Hd:void 0,this.y_=null === k || void 0 === k?void 0:k.Fn,this.i_=k?k.GA:new Map(),null === k || void 0 === k?void 0:k.BU());return m;};l.prototype.BU=function(){this.i_=this.y_=void 0;};l.prototype.UF=function(){this.Ua=[];this.fxa=void 0;};l.prototype.$Ca=function(h){g.G && (0,d.assert)(this.Da === h);this.Da=void 0;this.UF();};l.prototype.QDa=function(){for(var h,k=[],m=0;m < arguments.length;m++)k[m]=arguments[m];(h=this.Ua).push.apply(h,c.__spreadArray([],c.__read(k),!1));};l.prototype.iD=function(){return this.fxa?this.fxa:f.prototype.iD.call(this);};l.prototype.C3=function(){return !1;};l.prototype.pI=function(){};l.prototype.FO=function(){};l.prototype.Cka=function(){this.Ua=this.Ua.filter(function(h){return h.cR?(h.Eg("pruned"),!1):!0;});};l.prototype.Ma=function(){f.prototype.Ma.call(this);this.GA.forEach(function(h){return h.close();});};return l;})(a(82867).Dua);b.I$=r;},82867:function(r,b,a){var c,n,d,g,e,f,l,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Dua=void 0;c=a(5163);n=a(90745);d=a(91176);g=a(66164);e=a(52571);f=a(65161);r=a(75393);l=a(48170);h=a(69575);k=r.DA.KCa;a=(function(){function m(){this.KU=[];this.KQ=new d.us(!1);this.JQ=new d.us(d.K.Pa(-Infinity));this.h6a=new d.us(d.K.Pa(-Infinity));this.events=new n.EventEmitter();this.Wb=new g.platform.Console("ASEJS","media|asejs");}Object.defineProperties(m.prototype,{console:{get:function(){return this.Wb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{bd:{get:function(){return this.pF;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Fn:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{GA:{get:function(){return new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{playbackRate:{get:function(){return this.aT();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{z9a:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{$p:{get:function(){return this.KQ;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{NM:{get:function(){return this.JQ;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{hj:{get:function(){return this.h6a;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{se:{get:function(){return this.vt;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Hd:{get:function(){return this.iD();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{th:{get:function(){var p,v;p=this.Hd;v=this.lq(p,!1);l.G && (0,e.assert)(v,("Could not find current branch for ").concat(p.H));return v;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{P$b:{get:function(){return this.Ua[0];},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Av:{get:function(){return this.vt?this.Ua[this.Ua.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{HA:{get:function(){var p,v;p=this.Hd;v=this.i2(p);(0,e.assert)(v,("Could not find presenting branch for ").concat(p.H));return v;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{vt:{get:function(){return 0 < this.Ua.length;},enumerable:!1,configurable:!0}});m.prototype.Yub=function(){};m.prototype.Xub=function(){};m.prototype.Kj=function(){return !1;};m.prototype.pga=function(){return 0 < this.Ua.length;};m.prototype.ur=function(){(0,e.assert)(0 < this.Ua.length,"Could not find presenting branch. Player has no branches.");return this.HA;};m.prototype.sib=function(p){return -1 !== this.Ua.indexOf(p);};m.prototype.tca=function(){return void 0 !== this.Da?!1:!0;};m.prototype.BU=function(){};m.prototype.Ma=function(){};m.prototype.KG=function(p){var v,q,u;v=this.Ua.filter(function(t){return t.M.id === p.L;});if(0 !== v.length){q=this.iD();u=new d.K(Infinity,1);v.forEach(function(t){t=t.Mv.add(p.offset);q.ZR(t).lessThan(q.ZR(u)) && (u=t);});return u;}};m.prototype.a3=function(p){var v,q,u,t,w,x,z,y,A,B;return c.__generator(this,function(C){switch(C.label){case 0:v=this.Ua.filter(function(D){return D.M.id === p.L;});if(0 === v.length)return [2,void 0];q=this.iD();C.label=1;case 1:(C.Ke.push([1,6,7,8]),u=c.__values(v),t=u.next(),C.label=2);case 2:if(t.done)return [3,5];w=t.value;x=w.Mv.add(p.offset);z=q.ZR(x);return [4,{Or:x,ZR:z}];case 3:(C.va(),C.label=4);case 4:return (t=u.next(),[3,2]);case 5:return [3,8];case 6:return (y=C.va(),A={error:y},[3,8]);case 7:try{t && !t.done && (B=u.return) && B.call(u);}finally{if(A)throw A.error;}return [7];case 8:return [2];}});};m.prototype.lq=function(p,v){var q,u,t;void 0 === v && (v=!1);q=this.i2(p,v);if(q){u=q.M;v=u.id;t=u.Ob;p=d.K.min(p.ka(u.Db.add(q.Pd)),t);return {L:v,offset:p};}};m.prototype.f8=function(){};m.prototype.reset=function(){this.UF();};m.prototype.oOa=function(){};m.prototype.eO=function(){};Object.defineProperties(m.prototype,{xO:{get:function(){return !1;},enumerable:!1,configurable:!0}});m.prototype.y5=function(p){p();};m.prototype.pause=function(p){void 0 === p && (p=f.VY);this.KU=null === p || void 0 === p?void 0:p.reduce(function(v,q){-1 === v.indexOf(q) && v.push(q);return v;},this.KU);};m.prototype.resume=function(p){var v;v=this;void 0 === p && (p=f.VY);p.forEach(function(q){q=v.KU.indexOf(q);-1 !== q && v.KU.splice(q,1);});};m.prototype.wRa=function(p){var v;(0,e.assert)(this.Da);(0,e.assert)(p !== this);this.FO();v=p.tca(this.Da,this);v && (this.Cka(),p.pause(this.KU),p.QDa.apply(p,c.__spreadArray([],c.__read(this.Ua),!1)),this.$Ca(this.Da));return v;};m.prototype.iD=function(){return this.Agb();};m.prototype.Agb=function(){var p,v;l.G && (0,e.assert)(this.vt,"Attempted to get initial time before any branches were queued");v=c.__read(this.Ua,1)[0];l.G && (0,e.assert)(v);return null !== (p=v.Hb) && void 0 !== p?p:v.uD;};m.prototype.aT=function(){return 1;};m.prototype.AG=function(){};m.prototype.i2=function(p,v){var q;void 0 === v && (v=!1);if(this.vt){q=this.Agb();return p.lessThan(q)?this.Ua[0]:(0,h.afb)(this.Ua,p) || (v?this.Av:void 0);}};m.prototype.S4b=function(){var p,v,t,w,x,z,y,A;v={};try{for(var q=c.__values(this.Ua),u=q.next();!u.done;u=q.next()){t=u.value;w=void 0;x=void 0;z=t.QS();for(w in z){y=w;A=z[y];A && (v[y]=(null !== (x=v[y]) && void 0 !== x?x:0) + A);}if(!t.cj)break;}}catch(C){var B;B={error:C};}finally{try{u && !u.done && (p=q.return) && p.call(q);}finally{if(B)throw B.error;}}return v;};c.__decorate([k.return.Jh()],m.prototype,"th",null);c.__decorate([k.return.kAa(),k.return.Jo],m.prototype,"ur",null);c.__decorate([c.__param(0,k.Jh())],m.prototype,"KG",null);c.__decorate([c.__param(0,k.Jh())],m.prototype,"a3",null);c.__decorate([k.return.Jh()],m.prototype,"lq",null);return m;})();b.Dua=a;},90111:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.W1a=void 0;c=a(90745);n=a(91176);d=a(65161);r=a(85254);a=(function(){function g(e){this.$=e;this.Exa=!1;this.iob=new c.mf();this.Ync();}g.prototype.Ync=function(){var e,f;e=this;f=this.iob;f.on(this.$,"paused",function(){return e.vja();});f.on(this.$,"playing",function(){return e.vja(!0);});f.on(this.$,"underflow",function(){return e.vja();});f.on(this.$,"skipped",function(){return e.k5();});f.on(this.$,"clockAdjusted",function(){return e.h5();});f.on(this.$,"playbackRateChanged",function(){return e.yic();});};Object.defineProperties(g.prototype,{currentTime:{get:function(){return this.vwb || this.$.sd || n.K.wa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Kh:{get:function(){return this.Exa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{speed:{get:function(){var e;return null !== (e=this.$.playbackRate) && void 0 !== e?e:1;},enumerable:!1,configurable:!0}});g.prototype.vja=function(e){void 0 === e && (e=!1);e !== this.Exa && (this.vwb=(this.Exa=e)?void 0:this.$.sd);this.emit("stopStart",{type:"stopStart"});};g.prototype.k5=function(){this.vwb=void 0;this.h5(d.hJ.BO);};g.prototype.h5=function(e){void 0 === e && (e=d.hJ.VOb);this.emit("clockAdjusted",{type:"clockAdjusted",reason:e});};g.prototype.yic=function(){this.emit("speedChanged",{type:"speedChanged"});};g.prototype.Ma=function(){this.vja();this.iob.clear();};return g;})();b.W1a=a;(0,r.Mk)(c.EventEmitter,a);},546:function(r,b,a){var c,n,d,g,e,f,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.N$=void 0;c=a(5163);n=a(90745);d=a(91176);g=a(66164);e=a(69575);f=a(48170);l=a(40666);h=d.K.Pa(1E3);r=(function(){function k(m,p,v,q,u,t,w,x,z,y){var A,B;this.D3b=m;this.Xic=p;this.ica=q;this.events=u;this.Rt=t;this.Oxb=x;this.priority=z;this.nl=[];this.console=(0,e.xg)(g.platform,p,("PresentationTracker [").concat(this.D3b,"] [").concat(this.Oxb,"]"));this.iMa=h.add(d.K.Pa(null !== (B=null === (A=t.NV) || void 0 === A?void 0:A.H) && void 0 !== B?B:0));this.listeners=new n.mf();this.GMa=new n.mf();this.gE=!0;this.p6=!y;this.$Xb(w);this.fvb(v,w,q);}k.prototype.fvb=function(m,p,v){var q;q=this;this.ica=v;this.listeners.clear();this.GMa.clear();this.sb=m;this.ec=p;this.GMa.on(m.$,"skipped",this.k5.bind(this));this.listeners.on(v,"requestAppended",function(u){return q.$p(u.request);});this.events=m.events;this.gS.eab(p);this.ql.eab(p);};k.prototype.$Xb=function(m){var p;p=this;this.gS=m.nx(function(){return p.X_b();},"Presentation Emit",this.priority);this.ql=m.nx(function(){return p.Kmc();},"Presentation Prune");};k.prototype.k5=function(){this.trace(("skipped, scheduler clock ").concat(this.ec.Aa.currentTime.Ka()));this.p6=this.gE=!0;this.gS.Md();};k.prototype.X_b=function(){var m,p,v;return c.__generator(this,function(q){switch(q.label){case 0:(f.G && this.console.trace("Starting emit job",this.gE),this.NN=this.Ngc(this.gE),m=this.sob(),q.label=1);case 1:if(!m)return [3,3];this.trace(("queuing task for ").concat(this.oha(m.Zr)) + (" at player time ").concat(m.timestamp.Ka()) + (" scheduler clock is ").concat(this.ec.Aa.currentTime.Ka()));return [4,l.Og.iw(m.timestamp)];case 2:q.va();this.trace(("executing task for ").concat(this.oha(m.Zr)) + (" for player time ").concat(m.timestamp.Ka()) + (", scheduler clock: ").concat(this.ec.Aa.currentTime.Ka()) + (", actual player time: ").concat(this.sb.Hd) + (", first item: ").concat(this.gE));p=this.p6?this.sb.Hd:m.timestamp;v=this.gE;this.p6=this.gE=!1;this.lcb=m;this.NN++;this.vCa=(m=this.sob())?m.timestamp:this.OM;try{this.xDa(this.lcb,p,v);}catch(u){this.console.error(("Error in ").concat(this.Oxb," emit, continuing"),u);}p=null === m || void 0 === m?void 0:m.timestamp;return [3,1];case 3:return (f.G && this.console.trace("Ending emit job"),[2]);}});};k.prototype.ELa=function(){this.gE=!0;};k.prototype.sob=function(){if(void 0 !== this.NN)return this.nl[this.NN];};k.prototype.Ngc=function(m){var p,v,u;void 0 === m && (m=!1);for(var q=m?0:null !== (p=this.NN) && void 0 !== p?p:0;q < this.nl.length;q++){p=this.nl[q];u=d.K.Pa(null !== (v=this.Rt.Rkc) && void 0 !== v?v:0);if(p.timestamp.greaterThan(this.sb.Hd.add(u)))return m && 0 < q?q - 1:q;}return Math.max(this.nl.length - 1,0);};k.prototype.Kmc=function(){var m,p;return c.__generator(this,function(v){switch(v.label){case 0:if(!(1 < this.nl.length))return [3,2];m=c.__read(this.nl,2);p=m[1];this.trace(("queuing pruning task for ").concat(p.Zr) + (" at player time ").concat(this.iMa.add(p.timestamp).Ka()) + (" scheduler clock is ").concat(this.ec.Aa.currentTime.Ka()));return [4,l.Og.iw(this.iMa.add(p.timestamp))];case 1:return (v.va(),this.trace(("executing pruning task for ").concat(p.Zr) + (" at player time ").concat(this.iMa.add(p.timestamp).Ka()) + (" scheduler clock is ").concat(this.ec.Aa.currentTime.Ka())),this.nl.shift(),this.NN && this.NN--,[3,0]);case 2:return [2];}});};k.prototype.bx=function(m,p,v){this.fvb(m,p,v);};k.prototype.reset=function(){this.nl=[];f.G && this.trace("reset");this.p6=this.gE=!0;this.OM=void 0;this.NN=0;this.ql.Md();this.gS.Md();};k.prototype.close=function(){f.G && this.trace("close()");this.p6=this.gE=!0;this.GMa.clear();this.gS.Ma();this.ql.Ma();this.listeners.clear();this.nl=[];};k.prototype.Kj=function(m){var p;f.G && this.trace(("canSkip() ").concat(m));if(0 === this.nl.length)return (f.G && this.trace("canSkip false, no media sequence"),!1);p=this.nl[0];return p.timestamp.greaterThan(m)?(f.G && this.trace(("canSkip false, before earliest item at ").concat(p.timestamp)),!1):void 0 === this.OM || this.OM.lessThan(m)?(f.G && this.trace(("canSkip false, later than last appended at ").concat(this.OM)),!1):!0;};k.prototype.trace=function(m){f.G && this.console.trace(m);};k.prototype.Zya=function(m,p,v){var q;v && (this.OM=v);q=this.nl.length?this.nl[this.nl.length - 1]:void 0;if(void 0 === q || !this.mha(q.Zr,m))return (this.nl.push({Zr:m,timestamp:p}),this.gS.state === l.Rn.complete && this.gS.Md(),this.ql.state === l.Rn.complete && this.ql.Md(),!0);q === this.lcb && (this.vCa=v);return !1;};k.prototype.mha=function(m,p){return m === p;};k.prototype.cUb=function(m){m.nl=c.__spreadArray([],c.__read(this.nl),!1);m.OM=this.OM;};k.prototype.uhb=function(){var m,p,v,t;if(this.sb.se){p=this.sb.Hd;v=void 0;try{for(var q=c.__values(this.nl),u=q.next();!u.done;u=q.next()){t=u.value;if(t.timestamp.dn(p))v=t;else break;}}catch(x){var w;w={error:x};}finally{try{u && !u.done && (m=q.return) && m.call(q);}finally{if(w)throw w.error;}}return null === v || void 0 === v?void 0:v.Zr;}};return k;})();b.N$=r;},55024:function(r,b,a){var c,n,d,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.A2a=void 0;c=a(5163);n=a(91176);d=a(65161);g=a(6832);e=a(36640);r=(function(){function f(l,h,k,m,p,v,q,u){this.mediaType=l;this.console=h;this.sb=k;this.ica=m;this.fr=p;this.Rt=v;this.ec=q;this.wF=[];this.mediaType === d.u.V && this.wF.push(new e.J3a(l,h,k,m,p,v,q,u,2));this.wF.push(new g.oaa(l,h,k,m,p,v,q,"stream",1,null === u || void 0 === u?void 0:u.kjb()));}f.prototype.bx=function(l,h,k){this.sb=l;this.ec=h;this.ica=k;this.GI.forEach(function(m){return m.bx(l,h,k);});};f.prototype.GOb=function(l){this.wF.push(l);};f.prototype.BEa=function(l){return (0,n.oc)(this.wF,function(h){return h instanceof l;});};f.prototype.reset=function(){this.wF.forEach(function(l){return l.reset();});};f.prototype.close=function(){this.wF.forEach(function(l){return l.close();});};f.prototype.Kj=function(l){return c.__read(this.wF,1)[0].Kj(l);};Object.defineProperties(f.prototype,{GI:{get:function(){return this.wF;},enumerable:!1,configurable:!0}});f.prototype.ELa=function(){this.GI.forEach(function(l){return l.ELa();});};return f;})();b.A2a=r;},36640:function(r,b,a){var c,n,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.J3a=void 0;c=a(5163);n=a(91176);d=a(48170);g=a(52571);r=(function(e){function f(l,h,k,m,p,v,q,u,t){l=e.call(this,l,h,k,m,p,v,q,"segment",t,null === u || void 0 === u?void 0:u.kjb()) || this;l.Fn=u;return l;}c.__extends(f,e);f.prototype.$p=function(l){var h,k,m,p,v,q,u,t,w,x;v=l.Hb;q=l.Rb;u=l.Ba;t=l.bitrate;w=l.Gb;(0,g.assert)(void 0 !== v);x=null === (h=this.sb.lq(v)) || void 0 === h?void 0:h.L;(0,g.assert)(x,"missing segment id");this.Dha=l={L:x,Y2b:l.Sz,Ba:u,wzb:t,Gb:w,Slc:null === (k=this.Dha) || void 0 === k?void 0:k.wzb,Tlc:null === (m=this.Dha) || void 0 === m?void 0:m.Gb,de:null === (p=l.stream.R.U) || void 0 === p?void 0:p.de};this.Zya(l,v,q) && d.G && this.trace(("segment ").concat(x," @ ").concat(v.H,"ms"));};f.prototype.mha=function(l,h){return l.L === h.L && !h.Y2b;};f.prototype.xDa=function(l,h,k){var m,p,v,q,u,t;m=l.Zr;p=m.L;v=m.wzb;q=m.Slc;u=m.Gb;m=m.Tlc;t=this.sb.lq(h);(0,g.assert)(void 0 !== t);d.G && this.trace(("emitSegmentPresentingEvent @ ").concat(l.timestamp.H,"ms for segment ").concat(p));t.L !== p && (d.G && this.console.warn("player position:",t,"not equal to trackedElement:",p),t={L:p,offset:n.K.wa});l={type:"segmentPresenting",playerTimestamp:h,position:t,seek:k,playbackContextId:l.Zr.de};if(this.Fn){if(p=this.Fn.YFa(p))(p.destvbitrate=v,p.destvmaf=u,p.srcvbitrate=q,p.srcvmaf=m);l.metrics=p;}d.G && this.trace(("segmentPresenting: ").concat(JSON.stringify(l)));this.events.emit(l.type,l);};f.prototype.reset=function(){e.prototype.reset.call(this);this.Dha=void 0;};f.prototype.close=function(){e.prototype.close.call(this);this.Dha=void 0;};f.prototype.oha=function(l){return l.L;};return f;})(a(546).N$);b.J3a=r;},6832:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.oaa=void 0;c=a(5163);n=a(48170);d=a(52571);r=(function(g){function e(){return null !== g && g.apply(this,arguments) || this;}c.__extends(e,g);e.prototype.$p=function(f){var l,h,k;l=f.stream;h=f.Hb;k=f.Rb;f=f.Ba;(0,d.assert)(void 0 !== h,"playerStartTimestamp undefined at media append");(0,d.assert)(void 0 !== f,"contentStartTimestamp undefined at media append");this.Zya({stream:l,Ba:f},h,k) && n.G && this.trace(("stream ").concat(l.id,", ").concat(l.bitrate,"kbit/s @ ").concat(h.H,"ms"));};e.prototype.mha=function(f,l){return f.stream === l.stream;};e.prototype.xDa=function(f,l){var h,k,m,p;m=f.Zr.stream;p=this.sb.lq(l);(0,d.assert)(void 0 !== p);n.G && this.trace(("emitStreamPresentingEvent @ ").concat(f.timestamp.H,"ms for ").concat(null === m || void 0 === m?void 0:m.id,", ") + ("").concat(null === m || void 0 === m?void 0:m.bitrate,"kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:m.mediaType,playerTimestamp:l,position:p,trackIndex:null === (h=null === m || void 0 === m?void 0:m.track) || void 0 === h?void 0:h.AF,streamIndex:null === m || void 0 === m?void 0:m.gu,stream:m,manifest:null === (k=m.R) || void 0 === k?void 0:k.U,contentStartTimestamp:f.Zr.Ba});};e.prototype.oha=function(f){return ("").concat(f.stream.Jb,"@").concat(f.Ba.Ka());};return e;})(a(546).N$);b.oaa=r;},16290:function(r,b,a){var c,n,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.iwa=void 0;c=a(79048);n=a(91176);d=a(66164);g=a(65161);r=(function(){function e(f,l){this.console=f;this.Z=l;}e.prototype.ama=function(f,l,h,k,m,p){var v,q;void 0 === m && (m=!1);void 0 === p && (p=void 0);v=f.M;q=this.L4b(v);this.transition={startTime:d.platform.time.ya(),ytc:f,xtc:h.H,rea:l,jd:this.g6b(k,l),Zvc:this.u8b(k,m),jnc:p,pZb:m,mg:k,sab:q,Hgc:this.L6b(v,h)};};e.prototype.kjb=function(){return !!this.transition;};Object.defineProperties(e.prototype,{rea:{get:function(){var f;return null === (f=this.transition) || void 0 === f?void 0:f.rea;},enumerable:!1,configurable:!0}});e.prototype.YFa=function(f){var l,h,k,m,p,v,q,u,t,w,x,z,y,A,B,C,D,E,F,G,J,N;if(this.transition && 0 !== Object.keys(this.transition.sab).length && f === this.transition.rea){t=this.transition;w=t.sab;x=t.Hgc;z=t.pZb;y=t.mg;A=t.ytc;B=t.xtc;C=t.startTime;D=t.jd;E=t.Zvc;t=t.jnc;this.transition=void 0;F=this.pFa(f).oAa;G=this.l4b(A.M.id,f,w);F=this.Cmb(G.weight,F);J={};for(N in w)N !== f && (J[N]=w[N].details);w=d.platform.time.ya() - C;C=y?0:w;N={offset:this.W7b(A,B,y,z),L:A.M.id};B={offset:n.K.Pa(B),L:A.M.id};x={segment:f,destPosition:{L:f,offset:n.K.wa},srcsegment:A.M.id,srcTransitionPosition:N,srcStartPosition:B,srcsegmentduration:A.W7.H,srcoffset:N.offset.H,seamlessRequested:this.yIa(y,z),atRequest:G,atTransition:F,discard:J,transitionType:D,transitionTypeAtRequest:E,delayToTransition:this.Y4b(w,y,z),durationOfTransition:C,nextExitPositionAtRequest:x};t && (x.reasonCodes=t);z=null !== (h=null === (l=this.Z.Z.ba[f]) || void 0 === l?void 0:l.type) && void 0 !== h?h:c.gd.content;l=null !== (m=null === (k=this.Z.Z.ba[A.M.id]) || void 0 === k?void 0:k.type) && void 0 !== m?m:c.gd.content;f=null !== (v=null === (p=this.Z.Z.ba[f]) || void 0 === p?void 0:p.N) && void 0 !== v?v:void 0;p=null !== (u=null === (q=this.Z.Z.ba[A.M.id]) || void 0 === q?void 0:q.N) && void 0 !== u?u:void 0;f && p && f !== p && (x.auxMidType=z,x.auxSrcmidType=l,x.auxMid=f,x.auxSrcmid=p);return x;}};e.prototype.l4b=function(f,l,h){var k,m,p;p={};(h=h[l])?p=h.details:((0,n.assert)(this.Z),p.weight=null === (m=null === (k=this.Z.Z.ba[f].next) || void 0 === k?void 0:k[l]) || void 0 === m?void 0:m.weight);return p;};e.prototype.Y4b=function(f,l,h){var k;h || (k=l?f:0);return k;};e.prototype.L6b=function(f,l){var h,k,m;k=f.Db.add(l);null === (h=f.Xt) || void 0 === h?void 0:h.some(function(p){k.lessThan(p.Ba) && (m=p.Ba.H);});return m;};e.prototype.W7b=function(f,l,h,k){return this.yIa(h,k)?f.W7:n.K.Pa(l);};e.prototype.g6b=function(f,l){return f?"perfect":this.pFa(l).tib?"reset":"long";};e.prototype.yIa=function(f,l){return f || l;};e.prototype.u8b=function(f,l){return this.yIa(f,l)?"lazy":"immediate";};e.prototype.L4b=function(f){var l,h;l=this;h={};f.wA.forEach(function(k){var m,p;m=f.Ogc[k];p=l.pFa(k).oAa;h[k]={details:l.Cmb(m,p)};});return h;};e.prototype.pFa=function(f){var l,h;f=this.Z.PS(f);l=0 < f.length?f[0]:void 0;f=null === l || void 0 === l?void 0:l.QS();if(!l || !f)return {tib:!1,oAa:{$ma:0,Kba:0,o8:0,D_:0}};h=l.mga(g.u.X) && !f.Kba;l=l.mga(g.u.V) && !f.$ma;return {tib:!h && !l,oAa:f};};e.prototype.Cmb=function(f,l){return {weight:f,vbuflmsec:l.$ma,abuflmsec:l.Kba,vbuflbytes:l.o8,abuflbytes:l.D_};};return e;})();b.iwa=r;},62819:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A,B,C,D,E,F,G,J,N,I,M,K,L,H,O,P,Q,S,X,W,V,fa,ba,ca,ia,na,oa,T,Z,aa,R,Y,ea,ka;function c(ha){var U;U={};ha.forEach(function(da){da.mediaType !== p.u.Ia && (U[da.mediaType]=da.Mp());});return U;}Object.defineProperties(b,{__esModule:{value:!0}});b.joa=void 0;n=a(5163);d=a(90745);g=a(79048);e=a(91176);f=a(91176);l=a(66164);h=a(79048);k=a(91176);m=a(20271);p=a(65161);v=a(26286);q=a(70842);u=a(31485);t=a(52571);w=a(61651);x=a(40666);z=a(63576);y=a(91967);A=a(5653);B=a(17122);C=a(54366);D=a(63172);E=a(61996);F=n.__importDefault(a(40497));G=a(46759);J=a(60028);N=a(27288);I=a(73036);M=a(69575);K=a(6783);L=a(99548);H=a(8149);O=a(29739);P=a(94328);Q=a(28696);S=a(19455);X=a(25317);W=a(86451);V=a(88874);fa=a(25510);ba=a(78538);ca=a(36472);ia=a(54775);na=a(4489);oa=a(35879);T=a(56879);Z=a(23895);aa=a(70494);R=a(31509);Y=a(75393);ea=a(46262);ka=Y.DA.KCa;r=(function(){function ha(U,da,la,pa,va,sa,ua,ma,ra){this.j8a=da;this.config=la;this.id=pa;this.Tw=sa;this.gj=ua;this.JTb=ma;this.jxa=!1;this.eF=void 0;this.VDa=[];this.Lj=this.Sa=this.gz=void 0;this.kPb="2.0";this.Cjb=this.zba=this.np=this.Jxa=void 0;this.hb=m.js.CLOSED;this.rxa=!0;this.mca=!1;this.gB=this.Dq=this.Rs=void 0;this.A$a=new d.mf();this.kG=0;this.kma=!1;this.J$b();this.console=new l.platform.Console("ASEJS_PLAYGRAPH","asejs",("").concat(this.id));this.tf=new E.Sn({hg:10,Vj:this,source:"AsePlaygraph",console:this.console});this.events=new d.EventEmitter();this.Yw=g.dC.create(U);this.hvb(this.Yw);this.Ua=new V.d2a();this.uh=new aa.e2a(this.console);this.zcc=new Q.eXa(this.config,e.K.Pa(this.config.fN),{parent:function(wa){return wa.$S();},next:this.chb.bind(this)},this.events,this.console);this.Qbc=new S.dXa(this.config,e.K.Pa(this.config.fN),{parent:function(wa){return wa.$S();},next:this.chb.bind(this)},this.events,this.console);this.lma=new u.k4a(this.console,this.events);this.q0={pD:la.A4 || Infinity};this.$=new w.I$(this);this.bd=new x.zZ(this.$.Aa,this.console,"playgraph",1);this.N$b();this.Of=new fa.wUa(this.console,la,va,this.events,this,this.Hn);this.Ica=new ia.oUa(this.bd,this.Hn,this.config,this.wl.bind(this),this.Fd,this.console);this.mja=this.Of.mja.bind(this.Of);this.l5=this.Of.l5.bind(this.Of);this.wja=this.Of.wja.bind(this.Of);this.cja=this.cja.bind(this);this.Zia=this.Zia.bind(this);this.$ia=this.$ia.bind(this);this.aja=this.aja.bind(this);this.pO=this.pO.bind(this);this.Ef=new y.caa(la,this.console);this.G$b();this.Ef.rd(new C.ep(this.Of.tf));this.Ef.rd(new D.z1a(this.e7b.bind(this)));this.Ef.rd(new C.ep(this.tf));this.Ef.rd(new G.c2a(this.Ua,this));this.Ef.rd(new N.xZa(this));this.Ef.rd(new I.B4a(this.bd));this.jna=new O.iva("viewables");this.Ef.rd(this.jna);this.Fwb=new Z.j4a(this,this.console,ra);this.Vha=new J.MZa(this.Hn,this.console,this.events);this.Xq=new R.f2a(this.LNa.bind(this));this.DPa((0,z.P0)(),(0,z.Q0)(this.console,this.config));}Object.defineProperties(ha.prototype,{parent:{get:function(){return this.gz;},set:function(U){this.gz=U;},enumerable:!1,configurable:!0}});Object.defineProperties(ha.prototype,{state:{get:function(){return this.hb;},enumerable:!1,configurable:!0}});Object.defineProperties(ha.prototype,{vr:{get:function(){return !(this.$ instanceof w.I$);},enumerable:!1,configurable:!0}});Object.defineProperties(ha.prototype,{Lc:{get:function(){return this.eF;},enumerable:!1,configurable:!0}});Object.defineProperties(ha.prototype,{cc:{get:function(){return this.Yw;},enumerable:!1,configurable:!0}});Object.defineProperties(ha.prototype,{X$b:{get:function(){return this;},enumerable:!1,configurable:!0}});Object.defineProperties(ha.prototype,{Z:{get:function(){return this.Yw.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(ha.prototype,{weight:{get:function(){return this.j8a;},enumerable:!1,configurable:!0}});Object.defineProperties(ha.prototype,{Oi:{get:function(){(0,t.assert)(this.yt,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.np.position;},enumerable:!1,configurable:!0}});Object.defineProperties(ha.prototype,{iub:{get:function(){(0,t.assert)(this.yt,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.Zz(this.Oi).fl;},enumerable:!1,configurable:!0}});Object.defineProperties(ha.prototype,{Fd:{get:function(){return this.Of.state;},enumerable:!1,configurable:!0}});Object.defineProperties(ha.prototype,{Zm:{get:function(){return this.Of.Zm;},enumerable:!1,configurable:!0}});Object.defineProperties(ha.prototype,{yt:{get:function(){return void 0 !== this.np;},enumerable:!1,configurable:!0}});Object.defineProperties(ha.prototype,{th:{get:function(){return this.$.se?this.$.th:this.Oi;},enumerable:!1,configurable:!0}});Object.defineProperties(ha.prototype,{Hd:{get:function(){var U;return this.$.se?this.$.Hd:(null === (U=this.np) || void 0 === U?void 0:U.Or) || this.iub;},enumerable:!1,configurable:!0}});Object.defineProperties(ha.prototype,{wQb:{get:function(){return this.fKb;},enumerable:!1,configurable:!0}});Object.defineProperties(ha.prototype,{hna:{get:function(){return this.mNb;},enumerable:!1,configurable:!0}});Object.defineProperties(ha.prototype,{RGa:{get:function(){return this.d7()?this.Qbc:this.zcc;},enumerable:!1,configurable:!0}});ha.prototype.N$b=function(){this.Hn=new x.zZ(new B.naa({Kh:!0,currentTime:function(){return e.K.Pa(l.platform.time.ya());},speed:1}),this.console,"wallclock");};ha.prototype.G$b=function(){var U;U=this;(0,T.OWb)({Of:this.Of,Hn:this.Hn},x.Og.tB(e.K.Pa(this.config.K5)),function(){U.$.se && U.$.HA && (U.Of.state.value === p.wd.El || U.Of.state.value === p.wd.lf) && U.q7a(U.$.HA);},"buffering");};ha.prototype.J$b=function(){var U;U=this;this.ay=function(da){var la,pa,va,sa;pa=U.cc.get(da.position.L);(0,t.assert)(pa,"segment must exsts in workingPlaygraph");va=U.aGa(pa);if(va && U.$.se){sa=(0,M.afb)(U.$.Ua.filter(function(ua){return ua.M.id === da.position.L;}),da.playerTimestamp,{$ab:!0});sa && (null === (la=U.$.Fn) || void 0 === la?void 0:la.ama({M:pa,get W7() {return sa.Ga.ka(pa.Db);}},va,U.th.offset,!0,!1,void 0));}U.Xq.start();};this.tU=function(){U.gj("onDrmReady");};this.npb=function(da){da=da.newValue;U.jxa || (U.jxa=da);};this.ric=function(){U.gj("waitingOnMediaEvents");};};ha.prototype.open=function(){this.rxa=!0;this.events.emit("opening",{type:"opening"});this.events.emit("openComplete",{type:"openComplete"});if(this.hb !== m.js.CLOSED)return !1;this.hb=m.js.OPEN;return !0;};ha.prototype.Ma=function(){var U;this.Hn.Ma();this.bd.Ma();this.hb !== m.js.CLOSED && (this.Eg(),this.Xq.Ma(),this.Of.stop(),this.hb=m.js.CLOSED,this.vr || this.$.Ma(),this.Vha.Ma(),null === (U=this.Lc) || void 0 === U?void 0:U.gN.Ma());};ha.prototype.kTb=function(U,da,la){U=(0,ba.ieb)(this.Ua,this.pO.bind(this),U,da,la).fab;return this.V$a(U);};ha.prototype.eE=function(U,da,la){var pa,va,sa,ua,ma,ra,wa,ya;pa=this;va=this.Rs;sa=this.Dq;ua=this.gB;this.Rs=U;this.Dq=da;this.gB=la;da=(0,ba.ieb)(this.Ua,this.pO.bind(this));ma=da.fab;U=da.qRb;da=da.$Ob;if(0 === ma.length)return !0;if(!this.V$a(ma))return (this.Rs=va,this.Dq=sa,this.gB=ua,!1);ra=this.th;this.$.eO(ma);this.$.f8(da);wa=this.Zz(ra).fl;ya=!0;U.forEach(function(za){var Aa;Aa=za.Qa;Aa.eE(za.ca,ra.L === Aa.M.id?wa:void 0,void 0 !== pa.Ua.Rfa(Aa),ma);Aa.no && pa.yt && pa.n7a(Aa,Aa.R,ya);ya=!1;});this.Of.Pic(ra,U[0].ca);return !0;};ha.prototype.P0=function(U){return (0,z.P0)(this.config,U);};ha.prototype.Q0=function(U){return (0,z.Q0)(this.console,this.config,U);};ha.prototype.E2=function(U,da){var la,pa;la=this.cc.get(U);pa=this.cc.get(da);(0,t.assert)(la,"currentSement must exist in workingPlaygraph");(0,t.assert)(pa,"currentSement must exist in workingPlaygraph");return {Vxc:la.s9b(da),r0:da !== U && this.Ua.has(da) && this.Ua.mr(da)[0].fg,rda:pa.Db.H,SKa:this.aGa(la)};};ha.prototype.wl=function(U,da,la,pa){var va,sa,ua,ma;va=this;void 0 === pa && (pa=!0);if(!da)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(pa && this.uh.get(U))la || this.uh.set(U,da);else {ua=this.PS(U)[0];ma=this.cc.get(U);(0,t.assert)(ma,"currentSegment must exist in workingPlaygraph");this.th.L === U && ua && (null === (sa=this.$.Fn) || void 0 === sa?void 0:sa.ama({M:ua.M,get W7() {return ua.Ga.ka(ua.M.Db);}},da,this.th.offset,pa,la,void 0));pa || (U={offset:e.K.wa,L:da},this.np={position:U,fg:!0,syb:U});la?this.uh.trc(ma.id,da):this.uh.set(ma.id,da);this.Xq.start();pa && ma.Xt && 0 < ma.Xt.length && ((0,t.assert)(ua),ua.Jma(ma.Xt) && this.PS(da).forEach(function(ra){return va.nB(ua,ra);}));pa || this.Of.yU(this.Oi);}};ha.prototype.V$a=function(U){var da,la;if(0 === U.length)return !0;if(this.$.xO && this.$.NM.value.ka(this.$.Hd).lessThan(e.K.Pa(5E3)))return !1;U=this.$.Ua;if(!U.length)return !0;la=null === (da=U[0]) || void 0 === da?void 0:da.R.N;return !U.some(function(pa){return pa.R.N !== la;});};ha.prototype.nB=function(U,da){var la;la=this;U=U.Rb.ka(da.M.Db);da.nB(U);this.Ua.M4b(da).forEach(function(pa){return la.nB(da,pa);});};ha.prototype.dk=function(U){var da;da=this;Object.keys(U).forEach(function(la){return da.cc.dk(la,U[la]);});this.Xq.start();};ha.prototype.DPa=function(U,da){this.fKb=U;this.mNb=da;this.state === m.js.Qn && this.gj("setStreamFilters");};ha.prototype.cOb=function(U){(0,t.assert)(-1 === this.VDa.indexOf(U),"Attempted to add the same evaluation hook twice");this.VDa.push(U);};ha.prototype.Wrc=function(U){return this.Tw.yoc(U);};ha.prototype.jI=function(U,da){this.vla(U,da);};ha.prototype.vla=function(U,da,la){var pa,va,sa,ua,ma,ra;ua=this.Z;ma=(0,P.Yxc)(ua,U);if(ma.BT){ra=this.Ypc(ua,U,da);if(void 0 === ra)this.We(("Invalid seekPosition after sanitization to ").concat(U.L) + ("(").concat(U.offset.H,"ms)") + (", reason: ").concat(ma.reason),null === (pa=ua.ba[U.L]) || void 0 === pa?void 0:pa.N);else if(void 0 === this.Rs || void 0 === this.Dq)this.We("No track selectors available");else if((pa=!(this.vr && this.$.vt) && (0,P.N8b)(null === (va=this.np) || void 0 === va?void 0:va.syb,ra),this.events.emit("seeking",{type:"seeking",position:U,duplicate:pa}),!pa)){this.zba=la;this.yt?(this.uRa(ra),this.Fab(U)):this.Ua.empty && la && (la=this.$.AG()) && (this.uRa(ra,{L:la.M.id,offset:la.Pd}),this.Fab(U));U=this.QFa();try{this.Eg(!0);this.NTb();this.np={position:ra,syb:ra,fg:!1,Or:da};this.Cjb=da?da.ka(this.iub):e.K.wa;this.Of.yU();null === (sa=this.Lc) || void 0 === sa?void 0:sa.gN.yU();this.hb=m.js.Qn;this.Xq.start();}finally{U.release();}}}else this.We(("Invalid seekPosition to ").concat(null === U || void 0 === U?void 0:U.L) + ("(").concat(U.offset.H,"ms)") + (", reason: ").concat(ma.reason),null === (ra=ua.ba[U.L]) || void 0 === ra?void 0:ra.N);};ha.prototype.uRa=function(U,da,la,pa){var va,sa;void 0 === la && (la=!1);sa=this.cc.get((null === da || void 0 === da?void 0:da.L) || this.th.L);(0,t.assert)(sa,"currentSegment must exist in workingPlaygraph");null === (va=this.$.Fn) || void 0 === va?void 0:va.ama({M:sa,W7:sa.Ob},U.L,da?da.offset:this.th.offset,!1,la,pa);};ha.prototype.Fab=function(U){var da,la;if((null === (da=this.$.AG()) || void 0 === da?void 0:da.M.id) === U.L){if((this.uh.PTb(U.L),!this.uh.get(U.L) && this.$.vt)){U=this.$.Ua;la=this.$.AG();la && (U=(0,f.oc)(U,function(pa){return pa.parent === la;})) && this.uh.set(la.M.id,null === U || void 0 === U?void 0:U.M.id);}}else this.uh.iBa();};ha.prototype.QFa=function(){var U,da;U=this;da=this.Ua.filter(function(la){return la.M.N !== g.yu;}).map(function(la){return U.Tw.Tr(la.M.N).Up;});return new k.XP({name:"playgraphLeases",i5:function(){da.forEach(function(la){return la.release();});},console:this.console}).Ls();};ha.prototype.Eg=function(U){var da,la,pa;pa=this.rM();this.Ua.reset();if(!U && (this.uh.iBa(),pa.length))try{for(var va=n.__values(pa),sa=va.next();!sa.done;sa=va.next())sa.value.Jsb();}catch(ma){var ua;ua={error:ma};}finally{try{sa && !sa.done && (da=va.return) && da.call(va);}finally{if(ua)throw ua.error;}}this.bd.Md();this.$.reset();this.np=void 0;this.Ica.reset();null === (la=this.A$a) || void 0 === la?void 0:la.clear();this.hb === m.js.Qn && (this.hb=m.js.OPEN);};ha.prototype.PS=function(U){return this.Ua.mr(U);};ha.prototype.Li=function(U){this.Of.Li(U);(0,t.assert)(this.$.Av,"Must have an appended branch on underflow");this.$.z9a && this.Of.Zm && (this.console.trace("End of stream flagged implying branch completion, declaring buffering complete"),U=this.nr(this.Hd),this.Of.al("complete",U.nW,U.oW));this.Ica.sRa(this.$.Av,this.Hd);this.gj("onUnderflow");this.events.emit("underflow");};ha.prototype.rd=function(U){this.Ef.rd(U);};ha.prototype.drc=function(U){(0,t.assert)(!this.Lc,"AdManager already set");this.eF=U;this.eF.gN.events.addListener("mediaEventsProgress",this.ric);};ha.prototype.bx=function(U){this.rd(new A.Y2a(U));this.Of.Aic();return this.T9a(U);};ha.prototype.T9a=function(U){var da;da=this.$;if(!this.$.wRa(U))return (this.We("player in use"),!1);this.$=U;this.bd.sca(this.$.Aa);this.$.events.on("segmentPresenting",this.ay);this.$.events.on("drmReady",this.tU);this.$.$p.addListener(this.npb);U=this.A6b();0 < U.length && this.$.f8(U);this.events.emit("playerChanged",{type:"playerChanged",old:da,"new":this.$});return !0;};ha.prototype.NZb=function(){this.vr && (this.$.events.yo("segmentPresenting",this.ay),this.$.events.yo("drmReady",this.tU),this.$.$p.removeListener(this.npb),this.T9a(new w.I$(void 0)));};ha.prototype.Zz=function(U){var da,la;da=U.offset;la=this.cc.get(U.L);(0,t.assert)(la,"segment must exist in workingPlaygraph");U=la.N;da=la.Db.add(da);return {N:U,fl:da};};ha.prototype.lq=function(U,da){var la,pa,va;va=this.$.lq(U);if(void 0 !== va)return va;if(null === (pa=null === (la=this.np) || void 0 === la?void 0:la.Or) || void 0 === pa?0:pa.equal(U))return this.zba || this.Oi;la=this.$.Av;return (0,P.lq)(U,{Da:this,Q$b:la && ({id:la.M.id,Aqc:la.Mv})},da);};ha.prototype.KG=function(U,da){void 0 === da && (da=!1);U=this.a3(U,da).next();if(!U.done)return (U=U.value,null === U || void 0 === U?void 0:U.Or);};ha.prototype.a3=function(U,da){var la,pa,va,sa,ua,ma,ra,wa,ya,za,Aa,Ia,Da,Ja;void 0 === da && (da=!1);return n.__generator(this,function(Ka){switch(Ka.label){case 0:(la=this.$.a3(U),pa=la.next(),Ka.label=1);case 1:return pa.done?[3,3]:[4,pa.value];case 2:return (Ka.va(),pa=la.next(),[3,1]);case 3:if(!da)return [2];va={};sa=this.th;this.vr && this.$.se && (ra=this.$.Av) && (sa={offset:e.K.wa,L:ra.M.id},ua=ra.Rb.ka(this.$.Hd),ma=ra.M);ua || (ma=this.cc.get(sa.L),(0,t.assert)(ma,"currentSegment must exist in workingPlaygraph"),ua=ma.Db.add(sa.offset).ka(ma.kc));(0,t.assert)(ma,"Current segment should be defined by here");wa=this.Hd;if(ma.Gc && ma.id !== U.L)return [3,6];if(ma.id !== U.L)return [3,5];ya=U.offset.ka(sa.offset);return [4,{ZR:ya,Or:wa.add(ya)}];case 4:(Ka.va(),Ka.label=5);case 5:return [2];case 6:(za=this.cc.get(ma.Gc),(0,t.assert)(za,"currentSegment.defaultNext must exist in workingPlaygraph"),Aa=this.cc,Ia=this.cc.Xkb(function(La,Na){La=Aa.get(Na);(0,t.assert)(La,"nextSegment must exist in workingPlaygraph");return La.Gc;},za.id),Da=Ia.next(),Ka.label=7);case 7:if(Da.done)return [3,11];Ja=Da.value;if(va[Ja.id])return [3,11];va[Ja.id]=!0;if(Ja.id !== U.L)return [3,9];ya=U.offset.add(ua);return [4,{ZR:ya,Or:wa.add(ya)}];case 8:return (Ka.va(),[2]);case 9:(ua=ua.add(Ja.Ob),Ka.label=10);case 10:return (Da=Ia.next(),[3,7]);case 11:return [2];}});};ha.prototype.Ztb=function(U){return (0,P.Xtb)(this.Z,U);};ha.prototype.$u=function(U){return (0,K.$u)(this.Z,U.N,U.fl);};ha.prototype.Ypc=function(U,da,la){var pa,va;pa=(0,P.Xtb)(U,da);va=e.K.Pa(1E4);if(!pa || !la || la.greaterThan(va))return pa;U=da.offset.add(e.K.Pa(U.ba[da.L].rb));la=la.ka(U);if(la.eg(e.K.wa))return pa;va=e.K.max(e.K.wa,U.ka(va)).add(la);if(va.eg(e.K.wa))return pa;va=pa.offset.add(va);return {L:pa.L,offset:va};};ha.prototype.hv=function(U,da){var la,pa,va;U="string" === typeof U?{N:this.Z.ba[U].N,fl:e.K.Pa(da)}:U;if(U.N !== g.yu){da=this.Tw.Tr(U.N);try{va=U.fl;if(null === (la=da.R) || void 0 === la?0:la.fa)va=(0,L.Uia)(this.console,da.R.st(),da.R,va);if(void 0 === this.Dq)this.We("No track selectors available");else return null === (pa=da.R) || void 0 === pa?void 0:pa.hv(this.config,va,this.Dq);}catch(sa){this.console.error(sa,sa.stack);}finally{da.Up.release();}}};ha.prototype.Mfa=function(){return (0,na.Sfb)(this.Ua,this.Uga.bind(this));};ha.prototype.Uga=function(U){U=this.Ua.Rfa(U);return void 0 === U || U.cj && this.Uga(U);};ha.prototype.Lfa=function(){return this.q0.pD;};ha.prototype.k5b=function(U){return (0,oa.Phb)(this.Ua,U);};ha.prototype.nr=function(U){var la,pa,va,sa;function da(ua){return ua?Math.max(ua - U.H,0):0;}la=this;this.Ua.NL(function(ua){var ma,ra,wa;ma=ua.SS(p.u.X);ra=ua.SS(p.u.V);wa=ua.SS(p.u.Ia);if(ua.M.G7 || !la.Ua.VGa(ua) || !ua.cj){if(!pa || ma < pa)pa=ma;if(!va || ra < va)va=ra;if(!sa || wa < sa)sa=wa;}return ua.cj;});return {nW:da(pa),oW:da(va),Hxb:da(sa)};};ha.prototype.YL=function(){var U,da,la,pa;la=this.yt?this.nr(this.Hd):{nW:0,oW:0,Hxb:0};pa=F.default.instance().get();return {totalabuflmsecs:la.nW,totalvbuflmsecs:la.oW,totaltbuflmsecs:la.Hxb,abuflbytes:0,vbuflbytes:0,tbuflbytes:0,currentBandwidth:null !== (da=Number(0 < pa.confidence) && (null === (U=pa.gb) || void 0 === U?void 0:U.xa)) && void 0 !== da?da:0};};ha.prototype.fT=function(){var U,da,la,pa,va,sa,ua,ma;U=this;if(this.yv())return (this.tf.Ij({isStreamingFailureReported:!0}),[]);la=this.Ua.size;this.tf.Ij({branchCount:la});if(!this.yt || 0 === la)return [];pa=this.Hd;va=this.th;sa=[];la=this.cc.get(this.th.L);(0,t.assert)(la,"presentingSegment must exist in workingPlaygraph");ua=la.Ob;ma=this.uh.get(la.id)?1:null !== (da=la.au) && void 0 !== da?da:1;da=this.Ua.reduce(function(ra,wa,ya){var za,Aa,Ia,Ka,La,Na,Ra;Ia=wa.Kfa();try{for(var Da=n.__values(Ia),Ja=Da.next();!Ja.done;Ja=Da.next()){Ka=Ja.value;if(!Ka.qo()){La=("p").concat(U.id,"-").concat(ya,"-").concat(null === (Aa=wa.Hb) || void 0 === Aa?void 0:Aa.H);Na=U.h8b(Ka);Ra=new ea.n2a(U,Ka,La,ma,ua.H,Na.H,pa.H,va);ra.push(Ra);}!Ka.xv() && U.tf.enabled && sa.push({segmentId:Ka.L,isDoneStreaming:Ka.qo(),isNormalized:Ka.fg(),needsHeaderRequest:Ka.track.S4});}}catch(Ta){var Oa;Oa={error:Ta};}finally{try{Ja && !Ja.done && (za=Da.return) && za.call(Da);}finally{if(Oa)throw Oa.error;}}return ra;},[]);this.tf.Ij({nonStreamables:sa});return da;};ha.prototype.h8b=function(U){var da;da=U.$S();if(this.config.xea && da && (0,h.gIa)(da.Qa.M.aga(U.L)))return U.hj;for(;da && !da.jMa;)(U=da,da=da.$S());return U.hj;};ha.prototype.chb=function(U){var da;if(!U.Qa.Qf){da=U.Qa.M.Gc;if(da)return (da=n.__read(this.Ua.mr(da),1)[0],null === da || void 0 === da?void 0:da.CG(U.mediaType));}};ha.prototype.Zhc=function(U){var da,la;if(!this.lma.yv()){da=void 0;la=this.$.th;la && (da=this.cc.get(la.L),(0,t.assert)(da,"currentPosition segment must exist in workingPlaygraph"),da=da.N);this.We("BufferingStateTracker: Temporary failure while buffering",da,"NFErr_MC_StreamingFailure",null === U || void 0 === U?void 0:U.Tg,null === U || void 0 === U?void 0:U.Op,null === U || void 0 === U?void 0:U.Uj);}};ha.prototype.We=function(U,da,la,pa,va,sa,ua){void 0 === ua && (ua=!1);"string" === typeof U?this.lma.We(U,la,{networkErrorCode:pa,httpCode:va,nativeCode:sa,viewableId:da,temporaryFailure:ua}):this.lma.Goc(U);return !0;};ha.prototype.CRa=function(U,da){da=this.Jfa(da,U);this.events.emit("logdata",{type:"logdata",target:U,fields:da});};ha.prototype.Jfa=function(U,da){void 0 !== U && this.Vha.Icc(U);da=this.Ef.Hh(U,da);U === y.Cc.Oj && (U=this.YL(),da.vbuflmsec=U.totalvbuflmsecs,da.abuflmsec=U.totalabuflmsecs,da.vbuflbytes=U.vbuflbytes,da.abuflbytes=U.abuflbytes);return da;};ha.prototype.yyb=function(U){this.q0=U;this.gj("updateBudget");};ha.prototype.yv=function(){return this.lma.yv();};ha.prototype.aSa=function(U){U !== this.weight && (this.j8a=U,this.events.emit("weightUpdated"));};ha.prototype.fP=function(U){var da,la;da=this;la=this.QSb(U.Z);la.ta?(this.$.y5(function(){da.hvb(U.S_(da.Yw));}),this.Xq.start()):this.tf.Ij({current:this.cc.Z,target:U.Z});return la;};ha.prototype.LI=function(U){U=g.dC.update(this.Yw,U);return this.fP(U);};ha.prototype.QSb=function(U){var da,la,pa,va,sa,ua,wa,ya,za,Aa,Ia,Da,Ja,Ka,La,Na;pa=(0,W.vSb)(this.Z,U);va=pa.ly;sa=pa.fTb;ua=pa.zwc;if([pa.R_,va,sa].every(function(Oa){return !Oa.length;}))return {ta:!0,reason:p.Xy.yHb};if(0 === sa.length && 0 === ua.length && this.vr && this.$.se)return {ta:!1,reason:p.Xy.wGb};if(this.$.Ua.some(function(Oa){return -1 < va.indexOf(Oa.M.id);}))return {ta:!1,reason:p.Xy.NIb};if(this.yt && !this.$.se && -1 < va.indexOf(this.Oi.L))return {ta:!1,reason:p.Xy.lFb};if(this.yt)try{for(var ma=n.__values(sa),ra=ma.next();!ra.done;ra=ma.next()){wa=ra.value;ya=this.Z.ba[wa];za=ya.rb;Aa=ya.yb;Ia=ya.N;Da=U.ba[wa];Ja=Da.yb;Ka=Da.rb;La=Da.N;if(this.th.L === wa && Ja !== Aa){if(!Ja)return {ta:!1,reason:p.Xy.OIb};Na=e.K.Pa(Ja - Ka);if(null === (la=this.th.offset) || void 0 === la?0:la.greaterThan(Na))return {ta:!1,reason:p.Xy.BAb};}if(za !== Ka)return {ta:!1,reason:p.Xy.NDb};if(Ia !== La)return {ta:!1,reason:p.Xy.ODb};}}catch(Oa){var Ra;Ra={error:Oa};}finally{try{ra && !ra.done && (da=ma.return) && da.call(ma);}finally{if(Ra)throw Ra.error;}}return {ta:!0,reason:p.Xy.xHb};};ha.prototype.st=function(U){var da;da="number" === typeof U?U:this.Z.ba[U].N;if(U=n.__read(this.rM().filter(function(la){return la.N === da;}),1)[0])return U.st();};ha.prototype.hvb=function(U){var da;da={type:"playgraphUpdating",Lhc:this.cc.Z,Bgc:U.Z};this.Yw=U;this.wxc();this.events.emit("playgraphUpdating",da);};ha.prototype.wxc=function(){var U,da,la,pa,va;la=this.$ && this.vr && this.$.se?this.th:void 0;if(la){pa=this.cc.get(la.L);(0,t.assert)(pa,"currentPosition segment must exist in workingPlaygraph");la=null === (U=this.$.Fn) || void 0 === U?void 0:U.rea;if((U=this.aGa(pa)) && U !== la && this.$.vt){va=this.$.HA;null === (da=this.$.Fn) || void 0 === da?void 0:da.ama({M:va.M,get W7() {return va.Ga.ka(va.M.Db);}},U,this.th.offset,!0,!1,void 0);}}};ha.prototype.sN=function(U,da){var la;this.Ysb(U);U.rS.addListener("criticalNetworkError",this.mja);U.rS.addListener("temporaryNetworkError",this.l5);U.rS.addListener("updatingLastSuccessEvent",this.wja);la=1 >= this.rM().filter(function(pa){return pa === U;}).length;U.events.addListener("logdata",this.cja);U.events.addListener("liveEventTimesUpdated",this.Zia);U.events.addListener("liveLoggingInfoUpdated",this.$ia);U.events.addListener("livePostplayUpdated",this.aja);U.fa && la && (U.Hrb(),U.Mha && U.Mha.rd(this.Ef),this.jna.w$b(U.Ef,U.P));this.hb === m.js.Qn && da && this.aub();};ha.prototype.FLa=function(U){0 === this.Ua.filter(function(da){return da.no && da.R === U;}).length && (this.Ysb(U),this.jna.Usb(U.Ef));};ha.prototype.Ysb=function(U){U.rS.removeListener("criticalNetworkError",this.mja);U.rS.removeListener("temporaryNetworkError",this.l5);U.rS.removeListener("updatingLastSuccessEvent",this.wja);U.events.removeListener("logdata",this.cja);U.events.removeListener("liveEventTimesUpdated",this.Zia);U.events.removeListener("liveLoggingInfoUpdated",this.$ia);U.events.removeListener("livePostplayUpdated",this.aja);this.jna.Usb(U.Ef);};ha.prototype.D8a=function(U){var da;(0,t.assert)(U.fg,"expected branch to be normalized on addBranchToPlayer");this.$.vt || (null === (da=this.np) || void 0 === da?0:da.fg) || this.S2b(U);this.Of.YRa(U.ca);this.$.vt && (da=this.$.Av) && this.uh.clear(da.M.id);this.$.QDa(U);this.Ica.sRa(U,this.Hd);};ha.prototype.S2b=function(U){var da,la;(0,t.assert)(U.Ba,"Normalized branch should have a defined content start timestamp");(0,t.assert)(this.np,"AsePlaygraph should have a seek position on first branch normalization");(0,t.assert)(!this.np.fg,"Seek position should not already be normalized on first branch normalization");da=U.R;la=this.cc.get(U.M.id);(0,t.assert)(la,"WorkingSegment for a normalized branch must exist");if(!la.ln)if(da.fa)this.Tia(U);else {if(void 0 === this.Rs || void 0 === this.Dq){this.We("No track selectors available");return;}this.cc.normalize(da.N,da.Via.bind(da,[this.Rs,this.Dq,this.gB]));}this.np=n.__assign(n.__assign({},this.np),{position:{L:la.id,offset:U.Ba.ka(la.Db)},fg:!0});this.Of.jrc(this.np.position,U.ca.filter(function(pa){return pa.mediaType === p.u.X;})[0]);};ha.prototype.Tia=function(U){var da,la;da=n.__read(U.ca,1)[0];(0,t.assert)((0,H.$m)(da),"Expected primary track to be live");da=(0,L.Z4)(this.console,this.config,da.z2(),U.R,U.M.kc) || e.K.Qj;la=U.parent || U.M.Db.b5(e.K.wa)?e.K.Qj:e.K.min.apply(e.K,n.__spreadArray([],n.__read(U.ca.map(function(pa){return pa.st();})),!1));la=(0,L.Uia)(this.console,la,U.R,e.K.Pa(U.M.rb));this.cc.Tia(U.M.id,la,da);};ha.prototype.NTb=function(){var U;this.Ica.reset();this.$.UF();this.np=void 0;null === (U=this.A$a) || void 0 === U?void 0:U.clear();};ha.prototype.jha=function(U,da,la){da=this.Fwb.LSb(da,U.dm.mediaType,1 > la || !U.dm.Qa.Qf && !this.Uga(U.dm.Qa));1 === la && "global" === (0,p.qsb)(da.reason) && this.Of.gic(U.dm.mediaType,this.nr(this.Hd));return da;};ha.prototype.KM=function(U){var da,la,pa,va,sa,ua,ma,ra,wa,ya,za,Aa,Ia,Da;da=this;sa=U.dm;U=sa.mediaType;ua=this.RGa.rub(this.Fd.value,this.Hd,sa.jE,sa.CQa,this.$.playbackRate,sa,this.wQb,this.hna,this.mca);ma=ua.stream;ra=ua.bB;wa=ua.uT;ya=ua.Xv;za=ua.fm;Aa=ua.reason;Ia=ua.Meb;ua=ua.vub;if(!ma)return {Lh:!1,reason:Aa || "selectLocationsAndStream"};if(void 0 === this.Dq)return (this.We("No track selectors available"),{Lh:!1,reason:"noTrackSelectors"});if(sa.qo())return {Lh:!1,reason:"pipelineDoneStreaming"};if(this.Fd.value === p.wd.Qn && sa.Qa && sa.Qa.R.Xm && !sa.Qa.R.qkb(this.Dq) && !this.$.C3(sa.Qa.R.N)){Aa=sa.jE.H - this.Hd.H;if(!sa.Qa.R.qt && Aa > this.config.Vmb)return {Lh:!1,reason:"maxBufferingCompleteBufferInMs"};if(!ma.Hi && ma.mediaType === p.u.V && Aa >= this.config.WJa)return {Lh:!1,reason:"maxFastPlayBufferInMs"};}Aa=p.u.V;if(null === (la=sa.Qa) || void 0 === la?0:la.ca.every(function(Ja){return Ja.mediaType === p.u.X;}))Aa=p.u.X;this.Of.Zm && U === Aa && this.Of.Drc(sa.wq.Aub,ma.bitrate,wa);this.urc(sa.Qa.M,ra);la=null === (pa=sa.Qa.ew) || void 0 === pa?void 0:pa.H;pa=sa.ERa(ma,za,ya);if(pa.Lh){this.rxa && (this.NQ("firstDriveStreaming"),this.rxa=!1);if(0 < this.kG){Da=null === (va=sa.Qa.ew) || void 0 === va?void 0:va.H;la && Da && (this.kG-=la - Da,0 >= this.kG && this.aub());}this.events.emit("requestIssued",{type:"requestIssued",mediaType:U,result:ua,streamList:Ia});}else "exceedsLiveEdge" !== pa.reason || this.config.j8?"waitingOnMediaEvents" === pa.reason && ((0,t.assert)(this.Lc,"waitingOnMediaEvents requires adManager"),this.Lc.gN.ugc(sa.Qa.R.N,sa.jE,sa.CQa)):((0,t.assert)((0,H.bm)(ma),"exceedsLiveEdge error:stream must be live"),null === (Da=this.Jxa) || void 0 === Da?void 0:Da.Ma(),this.Jxa=this.Hn.TC(x.Og.tB(ma.track.Ll),function(){da.Jxa=void 0;da.gj("liveEdgeRetry");}));return pa;};ha.prototype.Prc=function(U){this.config.enableCprVideo=U;};ha.prototype.urc=function(U,da){var la;la=this;da.forEach(function(pa){pa.R.Vub(pa,U,function(){var va,sa;(0,t.assert)(la.yt,"Speculative header callback after streaming is cancelled");va=la.Hd.H;sa=va + la.config.M4;return {jg:[],Fd:la.Of.state.value,Mr:sa,pm:sa,Om:va};});});};ha.prototype.aub=function(){var U;U=this;this.Xq.mna(R.YP.FB,function(){return U.Xq.start();});};ha.prototype.LNa=function(){var U,da,la,pa,va;U=this;if(this.hb === m.js.Qn){da=this.th;la=this.$.Ua;pa=this.Ua.z8b();va=n.__read(la,1)[0];da=va?this.cc.get(va.M.id):this.cc.get(da.L);(0,t.assert)(da,"startSegment must exist in workingPlaygraph");la=la.map(function(sa){return {id:sa.M.id,duration:sa.Rb.ka(sa.Hb).H};});pa=(0,X.LNa)(this.console,this.cc.hib,da,pa,this.uh,la,e.K.Pa(this.config.oRb),this.config.BKa,e.K.Pa(this.config.jAa));la=pa.lOa;this.kG=pa.kG || 0;pa=this.VDa.reduce(function(sa,ua){return ua(sa);},la);this.Ua.Rwc(pa,function(sa,ua){var ma,ra;ra=U.cc.get(sa);(0,t.assert)(ra,"segment must exist in workingPlaygraph");sa=sa === U.Oi.L?U.Oi.offset:sa === (null === (ma=U.zba) || void 0 === ma?void 0:ma.L)?U.zba.offset:e.K.wa;ma=ra.Db.add(sa);return U.lwc(ra,ma,ua);}).ly.forEach(function(sa){sa.Eg("aborted");});this.Csb();this.lab();this.Xq.mna(R.YP.FB,function(){var sa;(null === (sa=U.Ua.root()) || void 0 === sa?0:sa.no) && U.gj("reevaluateBranches");U.Xq.J4(R.YP.mZ);});this.events.emit("branchesReevaluated",{type:"branchesReevaluated"});}};ha.prototype.rM=function(){return (0,f.H9a)(this.Ua.filter(function(U){return U.no;}).map(function(U){return U.R;}));};ha.prototype.Csb=function(){var U,da;U=this;if(this.hb === m.js.Qn){if(!this.$.Av){da=n.__read(this.Ua.mr(this.Oi.L),1)[0];(null === da || void 0 === da?0:da.fg) && this.D8a(da);}if(this.$.Av)for(;;){da=this.wgb(this.$.Av.M);if(!da)break;da=n.__read(this.Ua.mr(da).filter(function(la){return la.parent === U.$.Av;}),1)[0];if(!da)break;if(null === da || void 0 === da || !da.fg)break;else if(this.$.sib(da))break;this.D8a(da);}}};ha.prototype.g1=function(){return this.jxa;};ha.prototype.aGa=function(U){var da,la,pa,va;if(this.$.vt){da=this.$.HA;la=!1;pa=this.$.Ua.filter(function(sa){la || (la=sa === da);return la;});va=(0,f.nk)(pa,function(sa){return sa.M.id === U.id;});if(pa=pa[va + 1])return pa.M.id;}return this.wgb(U);};ha.prototype.wgb=function(U){var da;da=this.uh.get(U.id);if(void 0 !== da)return da;if(1 === U.xI)return U.wA[0];};ha.prototype.lab=function(){var U;U=this.Ua.empty || 0 !== this.b4b();U || this.kma?U && this.kma && (this.kma=!1):(this.Of.Zm && (U=this.nr(this.Hd),this.Of.al("complete",U.nW,U.oW)),this.XLb(),this.kma=!0);};ha.prototype.b4b=function(){return this.Ua.filter(function(U){return !U.cj;}).length;};ha.prototype.q7a=function(U){this.Uga(U) && this.Of.$Aa(this.Hd,this.$.playbackRate,U,{ada:this.RGa.ada.bind(this.RGa,this.Fwb)});};ha.prototype.Whc=function(U,da){var la,pa,va;la=this;if(da.didNormalizeSegment){da=U.R;pa=this.cc.get(U.M.id);(0,t.assert)(pa,"WorkingSegment for a normalized branch must exist");if(da.fa)this.Tia(U);else {if(void 0 === this.Rs || void 0 === this.Dq){this.We("No track selectors available");return;}this.cc.normalize(da.N,da.Via.bind(da,[this.Rs,this.Dq,this.gB]));}va=ca.G3a.K8b(U,this.console,this.config);(0,t.assert)(va,"Segment should be normalized");Promise.resolve().then(function(){return la.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:pa.id,normalizedStart:pa.Db,normalizedEnd:pa.kc,viewableContentEnd:va.Jzb,viewableEarliestContentEnd:va.Kzb,media:c(U.ca)});});}Promise.resolve().then(function(){la.Csb();});this.gj("branchNormalized");};ha.prototype.Xhc=function(){this.lab();};ha.prototype.Vhc=function(){this.Xq.start();};ha.prototype.kYb=function(U,da){var la;la=this;return new v.qUa(U.N,this.Tw.Tr.bind(this.Tw),function(pa,va,sa){la.state !== m.js.CLOSED && (la.sN(va,sa),la.Xq.mna(R.YP.mZ,function(){pa.Qf || la.n7a(pa,va,da);}));},this.FLa.bind(this));};ha.prototype.lwc=function(U,da,la){var pa,va;if(this.JTb(U,da))throw Error("Not implemented");pa=this.kYb(U,!la);va=la?la.Rb.ka(da):this.Cjb || e.K.wa;U=(0,q.NUb)({config:this.config,console:this.console,M:U,events:this.events,pO:this.pO,Qp:da,Pd:va,Kp:this.xYb.bind(this),Fd:this.Fd,bd:this.bd,rB:pa,LMa:this.Ua});this.wuc(U,!!la);return U;};ha.prototype.xYb=function(){return this.Hd.H;};ha.prototype.wuc=function(U,da){var la,pa;la=this;U.mP.then(function(){var va,sa;if(!U.Qf){va=U.R;sa=la.cc.get(U.M.id);sa && !sa.ln && sa.type === g.gd.padding && (void 0 === la.Rs || void 0 === la.Dq?la.We("No track selectors available"):la.cc.normalize(va.N,va.Via.bind(va,[la.Rs,la.Dq,la.gB])));}});pa=new d.mf();pa.addListener(U.events,"needsRequest",function(){var va;va=la.Ua.root();va && !va.no || la.gj("branchNeedsHeader");});pa.addListener(U.events,"branchNormalized",this.Whc.bind(this,U));pa.addListener(U.events,"lastRequestIssued",this.Vhc.bind(this,U));pa.addListener(U.events,"branchStreamingComplete",this.Xhc.bind(this,U));pa.addListener(U.events,"checkBufferingProgress",this.q7a.bind(this,U));pa.addListener(U.events,"branchDestroyed",function(va){pa.clear();la.Ua.contains(U) && (la.Ua.koc(U),la.Xq.start());"aborted" === va.reason && (la.$.sib(U) || la.Xq.mna(R.YP.FB,function(){return la.WLb(U.M.id);}));});pa.addListener(U.events,"liveMissingSegment",function(va){la.events.emit("liveMissingSegment",va);});da || (this.NQ("createDlTracksStart"),U.events.once("requestQueuesCreated",function(){la.NQ("createDlTracksEnd");}));};ha.prototype.e7b=function(U){if(this.$.se)return this.$.HA.Pe(U);};ha.prototype.pO=function(U,da,la,pa){da=[[p.u.X,da || this.Rs,"audio_tracks"],[p.u.V,la || this.Dq,"video_tracks"]].map(function(va){var sa,ua;sa=n.__read(va,3);ua=sa[0];va=sa[1];sa=sa[2];if(U.U && ((0,t.assert)(va,("Expected mediaType ").concat(ua," track selector to be defined")),ua=U.U[sa],va=va.oO(U.U,ua),void 0 !== va && 0 <= va && va < ua.length))return U.getTrackById(ua[va].bP);}).filter(f.Hob);la=pa || this.gB;U.U && la && (pa=U.U.timedtexttracks,la=la.oO(U.U,pa),void 0 !== la && 0 <= la && la < pa.length && (pa=U.getTrackById(pa[la].id)) && da.push(pa));return da;};ha.prototype.A6b=function(){var U;U=new Set();this.Ua.map(function(da){return da.ca;}).forEach(function(da){return da.forEach(function(la){return U.add(la.mediaType);});});return Array.from(U).sort();};ha.prototype.d7=function(){return this.config.rha && this.rM().every(function(U){return !U.fa;});};ha.prototype.cja=function(U){this.events.emit("logdata",U);};ha.prototype.Zia=function(U){var da,la,pa,va;da=this;la=U.R;pa=U.startTime;va=U.endTime;this.Ua.filter(function(sa){return sa.no && sa.R === la;}).forEach(function(sa){sa={type:"liveEventTimesUpdated",L:sa.M.id,startTime:pa,endTime:va};da.events.emit(sa.type,sa);});};ha.prototype.$ia=function(U){var da,la,pa,va;da=this;la=U.R;pa=U.mediaType;va=U.info;this.Ua.filter(function(sa){return sa.no && sa.R === la;}).forEach(function(sa){sa={type:"liveLoggingInfoUpdated",L:sa.M.id,mediaType:pa,info:va};da.events.emit(sa.type,sa);});};ha.prototype.aja=function(U){U={type:"livePostplayUpdated",N:U.R.N,J5:U.J5,action:U.action};this.events.emit(U.type,U);};ha.prototype.n7a=function(U,da,la){(0,t.assert)(U.ca.length,"Branch should have tracks defined");U={type:"segmentStarting",segmentId:U.M.id,contentOffset:U.Pd.H,maxBitrates:{audio:da.TT[p.u.X],video:da.TT[p.u.V]},media:c(U.ca),initial:la};this.events.emit(U.type,U);};ha.prototype.WLb=function(U){U={type:"segmentAborted",segmentId:U};this.events.emit(U.type,U);};ha.prototype.XLb=function(){var U;U={type:"streamerEnd",time:l.platform.time.ya()};this.events.emit(U.type,U);};ha.prototype.NQ=function(U){U={type:"startEvent",event:U,time:l.platform.time.ya()};this.events.emit(U.type,U);};n.__decorate([ka.return.Jh()],ha.prototype,"Oi",null);n.__decorate([(0,E.ob)({methodName:"checkCanSetTracks",return:!0})],ha.prototype,"kTb",null);n.__decorate([(0,E.ob)({methodName:"setTracks",return:!0})],ha.prototype,"eE",null);n.__decorate([(0,E.ob)({methodName:"setNextSegment",Km:!0})],ha.prototype,"wl",null);n.__decorate([(0,E.ob)({methodName:"seekStreaming"}),n.__param(0,ka.Jh())],ha.prototype,"jI",null);n.__decorate([(0,E.ob)({methodName:"seekStreamingWithEntryPoint"}),n.__param(0,ka.Jh()),n.__param(2,ka.Jh()),n.__param(2,ka.gLa)],ha.prototype,"vla",null);n.__decorate([ka.return.QBa(),n.__param(0,ka.Jh())],ha.prototype,"Zz",null);n.__decorate([ka.return.Jh()],ha.prototype,"lq",null);n.__decorate([n.__param(0,ka.Jh())],ha.prototype,"KG",null);n.__decorate([n.__param(0,ka.Jh())],ha.prototype,"a3",null);n.__decorate([ka.return.Jh(),n.__param(0,ka.Jh())],ha.prototype,"Ztb",null);n.__decorate([ka.return.Jh(),n.__param(0,ka.QBa())],ha.prototype,"$u",null);n.__decorate([n.__param(0,ka.QBa()),n.__param(0,ka.L())],ha.prototype,"hv",null);n.__decorate([(0,E.ob)({methodName:"getStreamables",Sf:!0})],ha.prototype,"fT",null);n.__decorate([(0,E.ob)({methodName:"updateWorkingPlaygraph",return:!0})],ha.prototype,"fP",null);n.__decorate([(0,E.ob)({methodName:"updatePlaygraphMap",return:!0})],ha.prototype,"LI",null);n.__decorate([n.__param(0,ka.L({zqc:Y.B0a.end}))],ha.prototype,"st",null);return ha;})();b.joa=r;},31300:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v;Object.defineProperties(b,{__esModule:{value:!0}});b.XSa=b.t8a=void 0;c=a(5163);n=a(90745);d=a(91176);g=a(91176);e=a(91176);f=a(66164);l=a(65161);h=a(6783);k=a(40666);m=a(48170);p=a(69575);b.t8a=["AD_BREAK_UNAVAILABLE"];v=(function(){function q(u,t){this.N=u;this.Kb=t;this.r6=!1;this.bj=new d.AbortController();}q.isEqual=function(u,t){return t.N === u.N && t.Kb === u.Kb;};return q;})();r=(function(){function q(u,t,w,x,z,y){var A;A=this;this.Tw=u;this.Da=w;this.HW=x;this.config=z;this.console=y;this.items=[];this.events=new n.EventEmitter();t.events.addListener("adBreakComplete",function(){A.sxb=A.HW.Aa.currentTime;});this.console=(0,p.xg)(f.platform,y,"AdBreakHydrator");}q.prototype.fqc=function(u){c.__awaiter(this,void 0,void 0,function(){var t,w,x,z,y;y=this;return c.__generator(this,function(A){switch(A.label){case 0:t=u.map(function(B){return new v(B.N,B.Kb);});w=(0,e.mUb)(this.items,t,v.isEqual);this.items=w.result;w.PNa.forEach(function(B){var C;null === (C=B.bj) || void 0 === C?void 0:C.abort();});m.G && this.console.log("Evaluated schedule",{bGc:w.QOb.length,PNa:w.PNa.length,zrb:w.zrb.length,PLc:w.result.length});x=this.items.filter(function(B){return !B.r6;}).map(function(B){return y.ah(B);});if(!(0,l.zr)(this.Da.Fd.value))return [3,5];z=this.items.map(function(B){return y.Tw.Tr(B.N).Up;});A.label=1;case 1:return (A.Ke.push([1,,3,4]),[4,Promise.race(x)]);case 2:return (A.va(),[3,4]);case 3:return (z.forEach(function(B){return B.release();}),[7]);case 4:return [3,7];case 5:return [4,Promise.all(x)];case 6:(A.va(),A.label=7);case 7:return [2];}});});};q.prototype.ah=function(u){return c.__awaiter(this,void 0,void 0,function(){var t,w,x,z,y,A;return c.__generator(this,function(B){switch(B.label){case 0:(m.G && this.console.log("Start scheduling for adbreak",{lOc:u.N,zGc:u.Kb.$f}),null === (A=u.bj) || void 0 === A?void 0:A.abort(),t=new d.AbortController(),u.bj=t,w=(0,h.$u)(this.Da.Z,u.N,u.Kb.fq),x=(0,d.kca)(t.signal),B.label=1);case 1:return (B.Ke.push([1,,5,6]),[4,Promise.race([this.yLa(t.signal).then(function(){return "rebuffer";}),Promise.all([this.Fyc(x),this.Iyc(w,x)]).then(function(){return "gatesPassed";}),x.then(function(){return "cleanup";})])]);case 2:z=B.va();m.G && this.console.log("Schedule completed for reason",z);if(t.aborted)return [3,4];m.G && this.console.log("Making Item Fetch",{AGc:u.Kb.$f,gn:u.Kb.fq.H});u.r6=!0;return [4,this.Smc(u.Kb.Em.yi,u.N,t.signal)];case 3:(B.va(),B.label=4);case 4:return [3,6];case 5:return (u.bj === t && (y=this.items.indexOf(u),-1 !== y && (m.G && this.console.log(("Removing item ").concat(y,", ").concat(this.items.length - 1," left")),this.items.splice(y,1))),[7]);case 6:return [2];}});});};q.prototype.yLa=function(u){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){return [2,g.us.Nyc([this.Da.Fd],function(t){t=c.__read(t,1)[0];return (0,l.zr)(t);},u)];});});};q.prototype.Fyc=function(u){var t;t=this;return this.sxb && this.config.cjb?new Promise(function(w){var x,z;x=t.sxb.add(g.K.Pa(t.config.cjb));z=t.HW.TC(k.Og.iw(x),w,"hydratorWaitTask");u.then(function(){return z.Ma();});}):Promise.resolve();};q.prototype.Iyc=function(u,t){var w,x;w=this;if(!this.config.fnb)return Promise.resolve();x=g.K.Pa(this.config.fnb);return new Promise(function(z){var y,A;y=w.Da.KG(u,!0);A=w.Da.bd.TC(k.Og.iw(y.ka(x)),z,"waitJitHydrateAdBreak");t.then(function(){return A.Ma();});});};q.prototype.Smc=function(u,t,w){return c.__awaiter(this,void 0,void 0,function(){var x,z,y,A,B,C,D,E,F,G,J,N,I,M,K,L;return c.__generator(this,function(H){switch(H.label){case 0:(x=this.Tw.Tr(t),z=x.Up,H.label=1);case 1:return (H.Ke.push([1,4,5,6]),[4,x.AE]);case 2:return (H.va(),[4,this.Tw.UA({yi:u,N:t})]);case 3:return (y=H.va(),w.aborted || (A=y.Pba,B=y.Hza,m.G && this.console.log("Hydrated response " + ("with ").concat(null === (J=y.Pba.qg) || void 0 === J?void 0:J.length," ads")),this.events.emit("adBreakHydrated",{type:"adBreakHydrated",yi:u,Pba:A,Hza:B})),[3,6]);case 4:C=H.va();if(!w.aborted){if(D=null === (N=C.SDa) || void 0 === N?void 0:N.context)if((E=null !== (I=D.type) && void 0 !== I?I:D.type,F=null !== (M=D.error) && void 0 !== M?M:D.error,"adBreakHydration" === E && (G=null !== (L=null !== (K=F.edgeCode) && void 0 !== K?K:F.code) && void 0 !== L?L:F.code,-1 !== b.t8a.indexOf(G))))return (m.G && this.console.log("AdBreak hydration failed with recoverable error, playback can continue. Hydration will be attempted again if user revisits the adBreak location. " + ("code: ").concat(G,", ") + ("parentViewableId: ").concat(t,", ") + ("adBreakToken: ").concat(u)),this.events.emit("adBreakHydrationSkipped",{type:"adBreakHydrationSkipped",yi:u,je:t}),[2]);this.events.emit("adBreakHydrationFailed",{type:"adBreakHydrationFailed",yi:u,error:C});}return [3,6];case 5:return (z.release(),[7]);case 6:return [2];}});});};return q;})();b.XSa=r;},71398:function(r,b,a){var c,n,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.YSa=void 0;c=a(5163);n=a(91176);d=a(66164);g=a(31413);r=(function(){function e(f,l,h,k,m){this.Da=f;this.bd=l;this.events=h;this.Kb=k;this.console=m;this.lz=0;k.hR && d.platform.ping && d.platform.ping(k.hR);}Object.defineProperties(e.prototype,{uE:{get:function(){return this.lz;},enumerable:!1,configurable:!0}});e.prototype.lLa=function(f,l,h,k,m){this.pz && (this.pz.Ma(),this.pz=void 0);this.pz=new g.U3a(this.Da,this.bd,this.events,this.Kb,f,l,h,k,m,this.console);};e.prototype.ija=function(f){var l,h,k,m;this.pz && (this.pz.Ma(),this.pz=void 0);try{l={Jh:f,wC:this.Kb.cs,$f:this.Kb.$f,u8a:this.Kb.type};if("embedded" === this.Kb.type){h=this.Da.Zz(f).fl;k=this.gFa(f.L);(0,n.assert)(k.Xp,"livePositionService must be defined");m=k.Xp.sda(h).H;this.events.emit("adBreakEvent",c.__assign(c.__assign({type:"adBreakEvent",event:"adBreakComplete"},l),{H_:m,C5:this.Da.$.Hd.ka(this.Kb.fq).H,Qba:this.KIa}));}else this.events.emit("adBreakEvent",c.__assign(c.__assign({type:"adBreakEvent"},this.Kb.Lba.complete),l));this.Kb.qga=!0;}catch(p){this.console.error("Impression error event",p);this.lz++;}};e.prototype.Ohc=function(f){var l,h,k;if("embedded" === this.Kb.type)try{l=this.Da.Zz(f).fl;h=this.gFa(f.L);(0,n.assert)(h.Xp,"livePositionService must be defined");k=h.Xp.sda(l).H;this.KIa=this.Da.$.Hd.ka(this.Kb.fq).H;!1;this.events.emit("adBreakEvent",{type:"adBreakEvent",event:"adBreakStart",Jh:f,wC:this.Kb.cs,$f:this.Kb.$f,H_:k,C5:this.KIa,u8a:this.Kb.type});}catch(m){this.console.error("Impression error event",m);this.lz++;}};e.prototype.epb=function(f,l){var h,k,m,p;if("embedded" === this.Kb.type)try{h=this.Da.Zz(f).fl;k=this.gFa(f.L);(0,n.assert)(k.Xp,"livePositionService must be defined");m=k.Xp.sda(h).H;p=l || this.Da.$.Hd;!1;this.events.emit("adBreakEvent",{type:"adBreakEvent",event:"adBreakStop",Jh:f,wC:this.Kb.cs,$f:this.Kb.$f,H_:m,C5:p.ka(this.Kb.fq).H,Qba:this.KIa,u8a:this.Kb.type});}catch(v){this.console.error("Impression error event",v);this.lz++;}};e.prototype.jo=function(){var f;return {ad:null === (f=this.pz) || void 0 === f?void 0:f.jo(),errors:this.lz};};e.prototype.gFa=function(f){return this.Da.PS(f)[0].R;};return e;})();b.YSa=r;},40345:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v;function c(q){return null === q || void 0 === q?void 0:q.Sc.map(function(u){return u.qg;}).map(function(u){return null === u || void 0 === u?void 0:u.map(function(t){return t.id;});}).reduce(function(u,t){return null === t || void 0 === t?void 0:t.concat(u);},[]);}Object.defineProperties(b,{__esModule:{value:!0}});b.ZSa=void 0;n=a(5163);d=a(90745);g=a(79048);e=a(91176);f=a(48170);l=a(52571);h=a(61996);k=a(54366);m=a(54953);p=a(45991);v=a(8707);r=(function(){function q(u,t,w,x,z){var y;y=this;this.config=u;this.console=t;this.Sa=w;this.ud=x;this.gN=z;this.qz={};this.Cha=!1;this.events=new d.EventEmitter();this.Sa.cOb(this.x1b.bind(this));z.events.on("adsUpdated",function(A){return y.Esb(A.R);});this.iu=new h.Sn({Vj:this,source:"ad-composer",hg:10,console:t});this.Sa.Ef.rd(new k.ep(this.iu));}q.prototype.Esb=function(u){this.hya(u) && this.events.emit("adsUpdated",{type:"adsUpdated"});};q.prototype.hya=function(u){var t,w;t=this.Lfb(u);w=this.qz[u.P];this.qz[u.P]=t;if(w=(0,v.T_)(w,t))if((this.iu.Ij({c:w,ab:null === t || void 0 === t?void 0:t.Sc.length,meta:t}),null === t || void 0 === t?0:t.Sc))(this.Uq.erc(u.P,t.Sc),this.ZQ.jvb(),f.G && this.console.trace("Received ad metadata for",{R:u.P,VNb:c(t)}));return w;};Object.defineProperties(q.prototype,{Ljb:{get:function(){return this.Sa.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Sc:{get:function(){return this.Uq.I_;},enumerable:!1,configurable:!0}});q.prototype.Pb=function(u,t,w){this.Uq=new m.lTa(u,t);this.ZQ=new p.jTa(this.Uq,this.console,this.Sa,this.config);this.YQ=w;};q.prototype.iT=function(){var u;u=this;return !!(0,e.oc)(Object.keys(this.Sc),function(t){return 0 < u.Sc[t].length;});};q.prototype.yU=function(u){var t,w,x,z,y;t=this.ud.di;(0,l.assert)(t,"Could not get graph location service");w=this.ud.Z.ba[u.L].N;x=this.Sa.rM().filter(function(A){return A.N === w;})[0];if(0 < this.Uq.bSa || (null === x || void 0 === x?0:x.fa)){z=this.SC(this.ud.cc);t=t.uzb(this.ud.cc,z);this.Uq.reset();}x=null === z || void 0 === z?void 0:z.Z;y=this.ZQ.A9a(u,t,z);u=y.Oi;t=y.$C;this.zlb=y.oka;f.G && this.console.trace(("ads::seekStreaming: returning ").concat(JSON.stringify(u)));x=(x || this.Sa.Z).ba[u.L];this.Cha=!!x.type && -1 < [g.gd.qd,g.gd.padding].indexOf(x.type);return {Oi:u,$C:t,Lia:z};};q.prototype.sN=function(u,t){this.gN.sN(u);if((u=this.hya(u)) && t && this.Fib(t)){if(this.Fvb(t))return n.__assign({T_:u},this.Jyb(t,"viewableReceived"));f.G && this.console.trace(("ads::onViewableReceived: should NOT consider preroll on seek:\n                        seekPosition (unchanged): ").concat(t,",\n                        didAppendData: ").concat(this.Sa.g1(),",\n                        enablePrerollForInitialSeek ").concat(this.Sa.config.mS));}return {T_:u,Tma:t};};q.prototype.jja=function(u,t,w){var x;x=this.Lfb(u);(0,l.assert)(x,("adMetadata for viewable ").concat(u.N," should exist if an adBreak hydration was requested"));this.qz[u.P]=x;this.Uq.jja(u.P,t);this.ZQ.jvb();f.G && this.console.trace("ads::onAdBreakHydrated: Received new ad metadata after adBreakHydration for",{R:u.P,VNb:c(x)});if(w)return this.Jyb(w,"adBreakHydration");};q.prototype.kja=function(u,t){this.Uq.kja(u,t);};q.prototype.rbc=function(){return !this.Sa.$.vt && this.Sa.Zm;};q.prototype.Jyb=function(u,t){var w,x,z,y,A;f.G && this.console.trace(("ads::updatePendingSeekPosition: ").concat(JSON.stringify(u)));w=this.ud.di;(0,l.assert)(w,"Could not get graph location service");x=this.SC(this.ud.cc);w=w.uzb(this.ud.cc,x);z=x.Z;y=this.ZQ.A9a(u,w,x);A=y.Oi;y=y.$C;this.Cha=!1;(z=z.ba[A.L]) || (z=this.Sa.Z.ba[A.L]);this.Cha=!!z.type && -1 < [g.gd.qd,g.gd.padding].indexOf(z.type);w=null === w || void 0 === w?void 0:w.Ay(A);f.G && this.console.trace("ads::updatePendingSeekPosition: should consider preroll on seek",{ZLc:u,Tma:w,$C:y,g1:this.Sa.g1(),mS:this.Sa.config.mS,reason:t});return {Tma:w,$C:y,Lia:x};};q.prototype.SC=function(u){var t,w,x,z;t=this;w=u;x=u.Z;z=Object.keys(x.ba).map(function(y){return ("").concat(x.ba[y].N);});Object.keys(this.qz).forEach(function(y){var A,B;if(-1 !== z.indexOf(y)){A=t.qz[y];if(A){B=A.Sc.map(function(C,D){return t.ZQ.yG(t.Sc[y][D],D,Number(y));});t.iu.Ij({droppedAds:B,viewableId:y});B=B.map(function(C){return C.iG || C.pea;});A=g.dC.create((0,g.HWb)(parseInt(y),A.Sc,B,t.config.WLa));w=g.dC.em(u,A).ria;}}});w.S_(this.Sa.cc);return w;};q.prototype.Fib=function(u){return !!this.qz[this.ud.Z.ba[u.L].N];};q.prototype.Lfb=function(u){var t;if(u.Jm){t=u.Jm;if(t.Sc.length)return t;}if(u=this.gN.OS(u))return {Sc:u};};q.prototype.oDa=function(u){this.Uq.oDa(u);this.events.emit("adSegmentDropped",{type:"adSegmentDropped",adId:u});};q.prototype.PPa=function(u,t,w){var x;return this.ZQ.PPa(u,t,w,null === (x=this.Ljb) || void 0 === x?void 0:x.Cf);};q.prototype.x1b=function(u){var t,w,x,z,y,A,B;t=this;if(!this.iT())return u;w=!0;x=[];z=[];A=this.Sa.X$b.cc;u.NL(function(C,D){var E,F,G,J;if(!(D || !C.M.Yac || t.rbc() && t.Fvb(t.Sa.Oi)))return (t.console.trace("Hydration: Not checking root segment"),!0);F=A.get(C.M.id);(0,l.assert)(F,"Hydration: Segment must be present in innermost playgraph");G=F.N;if(F.type && -1 < [g.gd.qd,g.gd.padding].indexOf(F.type))w=!1;else {J=A.ST(F.id);J && (J=t.Sa.cc.get(J)) && J.N !== F.N && (t.console.trace("Hydration: segment evaluated is a content playgraph modification, get viewableId from equivalent segment. " + ("auxiliary viewableId: ").concat(F.N,", ") + ("main content viewableId: ").concat(J.N)),G=J.N);}if((F=t.Uq.Kfb(G,F.rb)) && !F.xt)if(F.U$a && !F.Vg){if(F.OV)t.console.trace("Hydration: Ignore skippable unhydrated ad break");else if((J=null === (E=null === D || void 0 === D?void 0:D.Qa) || void 0 === E?void 0:E.duration,t.Cha && J && 5E3 > J))t.console.trace("Hydration: Skipping unhydrated ad break too close to previous");else {x.push(C);if(w && 0 === z.length || y === D)(z.push({N:G,Kb:F}),y=D);return !1;}}else w=!1;return !0;});x.forEach(function(C){return u.remove(C);});this.YQ.fqc(z);if(this.config.eoc && u.root){B=A.get(u.root.M.id);(0,l.assert)(B,"root segment must exist in innermost playgraph");(B=this.Uq.Kfb(B.N,B.rb)) && B.OV && (B.OV=!1);}return u;};q.prototype.Fvb=function(u){var t,w,x;w=this.Sa.g1();(x=0 === u.offset.H) || (w?(w=this.zlb,x=null === (t=this.Sa.$.AG()) || void 0 === t?void 0:t.M.id,u=w && w.H3b === x && w.to.L === u.L && w.to.offset.H === u.offset.H?this.zlb.i9b:!0):u=this.Sa.config.mS,x=u);return x;};n.__decorate([(0,h.ob)({methodName:"_refreshAds",Sf:!0})],q.prototype,"hya",null);n.__decorate([(0,h.ob)({methodName:"onAdBreakHydrated"})],q.prototype,"jja",null);n.__decorate([(0,h.ob)({methodName:"onAdBreakHydratedSkipped"})],q.prototype,"kja",null);n.__decorate([(0,h.ob)({methodName:"createInnerWorkingPlaygraph"})],q.prototype,"SC",null);return q;})();b.ZSa=r;},13303:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.$Sa=void 0;c=a(91176);r=(function(){function n(d,g){this.Zw=d;this.qf=g;}n.prototype.TGa=function(d){var g;g=this;return this.Zw.$.Ua.some(function(e){return e.M.N === d && e.uza;})?!1:(0,c.oc)(Object.keys(this.qf.qz),function(e){if(e=g.qf.qz[e])return (0,c.oc)(e.Sc,function(f){return f.qg && (0,c.oc)(f.qg,function(l){return l.id === d;});});})?(this.qf.oDa(d),!0):!1;};return n;})();b.$Sa=r;},53787:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.aTa=void 0;c=a(90745);n=a(91967);r=(function(){function d(g,e,f){var l;l=this;this.qf=e;this.Bi=new c.mf();this.jn="adHydratorAudit";this.wc="adHydratorAuditor";this.enabled=!0;this.Bi.on(g.events,"adBreakPresenting",function(h){l.state.y8a.push(h.presentingInfo.Kb.nz.gPa);});this.Bi.on(f.events,"adBreakHydrated",function(){l.state.w8a++;});this.Bi.on(f.events,"adBreakHydrationFailed",function(){l.state.v8a++;});this.Bi.on(f.events,"adBreakHydrationSkipped",function(){l.state.z8a++;});this.state={w8a:0,v8a:0,z8a:0,y8a:[]};}d.prototype.Hh=function(g){g=g.ei;if(this.qf.iT() && g === n.Cc.Oj)return {adBreaksPresentedSequence:this.state.y8a,adBreaksHydratedCount:this.state.w8a,adBreaksFailedHydratedCount:this.state.v8a,adBreaksSkippedCount:this.state.z8a};};d.prototype.Ma=function(){this.Bi.clear();};return d;})();b.aTa=r;},60575:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.bTa=void 0;c=a(90745);n=a(91967);r=(function(){function d(g,e,f){var h;function l(k){var m,p;(m=h.state.Nya)[p=k.event] || (m[p]=0);h.state.Nya[k.event]++;}h=this;this.qf=e;this.xHa=f;this.Bi=new c.mf();this.jn="adImpressionAudit";this.wc="adImpressionAuditor";this.enabled=!0;this.Bi.on(g.events,"adPresenting",function(){return h.state.i9a++;});this.Bi.on(g.events,"adBreakPresenting",function(){return h.state.x8a++;});this.Bi.on(f.events,"adEvent",l);this.Bi.on(f.events,"adBreakEvent",l);this.state={x8a:0,Nya:{},i9a:0};}d.prototype.Hh=function(g){g=g.ei;if(this.qf.iT() && g === n.Cc.Oj)return {presented:{breaks:this.state.x8a,ads:this.state.i9a},events:this.state.Nya,logger:this.xHa.jo()};};d.prototype.Ma=function(){this.Bi.clear();};return d;})();b.bTa=r;},28143:function(r,b,a){var c,n,d,g,e,f;Object.defineProperties(b,{__esModule:{value:!0}});b.dTa=void 0;c=a(90745);n=a(66164);d=a(69575);g=a(52571);e=a(48170);f=a(71398);r=(function(){function l(h,k,m,p){this.Sa=k;this.bd=m;this.uE=0;this.events=new c.EventEmitter();this.console=(0,d.xg)(n.platform,p,"IMPRESSION");h.events.addListener("adBreakPresenting",this.lja.bind(this));h.events.addListener("adBreakComplete",this.ija.bind(this));h.events.addListener("adPresenting",this.lLa.bind(this));this.Sa.events.addListener("seeking",this.uja.bind(this));}Object.defineProperties(l.prototype,{o3:{get:function(){return !!this.Hj;},enumerable:!1,configurable:!0}});l.prototype.lja=function(h){(0,g.assert)(h.Ul.Kb,"Ad break must be defined for ad break presenting");this.Hj && (this.Hj.ija(h.Ul.position),"dynamic" === this.Hj.Kb.type && (e.G && this.console.warn("Unexpected back-to-back dynamic ad breaks"),this.uE+=this.Hj.uE,this.Hj=void 0));this.Hj=new f.YSa(this.Sa,this.bd,this.events,h.Ul.Kb,this.console);this.Hj.Ohc(h.Ul.position);};l.prototype.ija=function(h){var k,m,p;p=h.Ul.Kb || (null === (k=this.Hj) || void 0 === k?void 0:k.Kb);e.G && this.console.trace(("adBreakComplete event, ").concat(this.Hj?"have":"no"," impression logger, ") + (p?("ad break ").concat(p.$f," is ") + ("").concat(p.qg.length?"not ":"","empty, ") + ("has ").concat(p.xt?"":"not ","played"):"no ad break"));if(0 === (null === (m=h.Ul.Kb) || void 0 === m?void 0:m.qg.length))((0,g.assert)(!this.Hj,"Received ad break complete for empty ad break during ad break"),h.Ul.Kb.Src(),this.lja(h));else if(!this.Hj)return;h.Ul.seek && this.Hj.epb(h.Ul.position);this.Hj.ija(h.Ul.position);this.uE+=this.Hj.uE;this.Hj=void 0;};l.prototype.lLa=function(h){var k,m,p;(0,g.assert)(this.Hj,"Expect to be in ad break when ad presenting is received");(0,g.assert)(this.Hj.Kb === h.Ul.Kb,"Expect to be in correct ad break when ad presenting is received");m=this.Sa.PS(h.Ul.position.L)[0];p=h.Ul.Or;this.Hj.lLa(h.Ul.qd,null === m || void 0 === m?void 0:m.R,h.Ul.position.L,p,null !== (k=null === m || void 0 === m?void 0:m.Hb) && void 0 !== k?k:p);};l.prototype.uja=function(h){!h.duplicate && this.Hj && (h=this.Sa.$,this.Hj.epb(h.th,h.Hd));};l.prototype.jo=function(){var h;return {"break":null === (h=this.Hj) || void 0 === h?void 0:h.jo(),errors:this.uE};};return l;})();b.dTa=r;},13060:function(r,b,a){var c,n,d,g,e,f,l,h,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.eTa=void 0;c=a(41456);n=a(54366);d=a(40345);g=a(14103);e=a(67288);f=a(28143);l=a(13303);h=a(60575);k=a(31300);m=a(53787);r=(function(){function p(v,q,u,t,w,x){this.Sba=x;this.Nxa=new c.s_a(u.bd,q,v);this.W5a=new d.ZSa(q,v,u,t,this.Nxa);this.vMb=new g.kTa(u,t,this.qf);this.tK=new e.V1a(this,u,v);this.Bxa=new f.dTa(this.tK,u,u.bd,v);this.V5a=new k.XSa(w,this.tK,t,t.Hn,q,v);u.Ef.rd(new h.bTa(this.tK,this.qf,this.Bxa));u.Ef.rd(new m.aTa(this.tK,this.qf,this.V5a));u.Ef.rd(new n.ep(this.Nxa.iu));this.W5a.Pb(this.Bxa.events,this.tK.events,this.YQ);this.aKb=new l.$Sa(u,this.qf);}Object.defineProperties(p.prototype,{qf:{get:function(){return this.W5a;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{JN:{get:function(){return this.vMb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Xqb:{get:function(){return this.tK;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{xHa:{get:function(){return this.Bxa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{TNb:{get:function(){return this.aKb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{YQ:{get:function(){return this.V5a;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{gN:{get:function(){return this.Nxa;},enumerable:!1,configurable:!0}});p.prototype.Kj=function(v){return this.tK.Kj(v);};return p;})();b.eTa=r;},86681:function(r,b,a){var c,n,d,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.J0=void 0;c=a(5163);n=a(40981);d=a(17774);g=a(75393);e=a(23855);b.J0=function(f,l,h){var k,m,p,v;f=c.__assign({mqa:n.lqa},f).mqa;k=l.H5[5];m=(0,d.rpb)(function(){return v;});k.K8a(m.Tr);p={di:void 0,ud:void 0,Sa:void 0,Jlb:"ads"};p.di=new f(function(){return p.ud.cc;},function(){return p.Sa;},l.H5[2],"Ads:");v=new e.hTa(p,m.Kwb,g.DA.wOa.wV,k);f=l.sza;l.sza=c.__spreadArray(c.__spreadArray([],c.__read(f),!1),[v],!1);p.Sa=h(l);p.ud=g.DA.kNa(p.Sa,v,function(){return p;},f);v.Pb();return p.ud;};},23855:function(r,b,a){var c,n,d,g,e,f,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.hTa=void 0;c=a(5163);n=a(90745);d=a(91176);g=a(48170);e=a(35331);f=a(61996);l=a(52571);r=a(14739);h=a(13060);a=(function(k){function m(p,v,q,u){p=k.call(this,p,v,q,"AdsPlaygraphHost") || this;p.Tw=u;p.eF=void 0;p.EMa=new n.mf();p.nmb=new d.oZ();p.Sba=new n.EventEmitter();return p;}c.__extends(m,k);Object.defineProperties(m.prototype,{ud:{get:function(){return this.Do.ud;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Zw:{get:function(){var p;p=this.SC(this.ud.cc).Z;if(p !== this.ud.Z)return p;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Lc:{get:function(){return this.eF;},enumerable:!1,configurable:!0}});m.prototype.Pb=function(){var p;p=this;k.prototype.Pb.call(this);this.Do.Sa.rd(new e.iTa(this.Do));this.eF=new h.eTa(this.Wb,this.bb,this.Sa,this.ud,this.Tw,this.Sba);this.Do.Sa.drc(this.eF);this.Lc.YQ.events.on("adBreakHydrated",function(v){return p.Erb(v);});this.Lc.YQ.events.on("adBreakHydrationFailed",function(v){return p.We(v.error);});this.Lc.YQ.events.on("adBreakHydrationSkipped",function(v){return p.gmc(v);});this.eF.qf.events.on("adsUpdated",function(){p.Mka();});};m.prototype.YH=function(p){var v,q,u,t,w;u=k.prototype.YH.call(this,p);if(u){(0,l.assert)(this.Lc,"missing manager");p=this.Lc.qf.sN(p,null === (v=this.mT) || void 0 === v?void 0:v.Oi);v=p.Tma;t=p.$C;w=p.Lia;p.T_ && this.YU(w,v,null === (q=this.mT) || void 0 === q?void 0:q.Or,t);}return u;};m.prototype.Erb=function(p){var v,q,u;u=p.Hza;p=u.$9b(p.Pba,p.yi);(0,l.assert)(this.Lc,"missing manager");p && ((u=this.Lc.qf.jja(u,p,null === (v=this.mT) || void 0 === v?void 0:v.Oi))?(v=u.$C,this.YU(u.Lia,u.Tma,null === (q=this.mT) || void 0 === q?void 0:q.Or,v)):this.YU());};m.prototype.gmc=function(p){this.Lc.qf.kja(p.je.toString(),p.yi);this.YU();};m.prototype.We=function(p,v,q,u,t,w,x){var z,y;void 0 === x && (x=!1);z=!1;y=!1;v && !x && (z=this.Lc.TNb.TGa(v));z?this.YU():y=this.Do.Sa.We(p,v,q,u,t,w,x);return y;};m.prototype.jI=function(p,v){var q,u,t,w,x;q=this;this.APa(p,v);u=this.ud.bd.Aa;this.EMa.clear();this.EMa.addListener(u,"stopStart",function(){u.Kh && (q.mT=void 0,q.EMa.clear());});if(this.Lc.qf.Fib(p)){g.G && this.Wb.trace(("ads::seekStreaming: ").concat(JSON.stringify(p)));t=this.Lc.qf.yU(p);w=t.Oi;x=t.$C;if(t=t.Lia)(g.G && this.Wb.trace("ads::seekStreaming: ads playgraph was updated"),this.YU(t,p,v));g.G && this.Wb.trace(("ads::seekStreaming: forwarding seek to ").concat(JSON.stringify(w),", ") + ("playerTimestamp: ").concat(v,", ") + ("entryPoint: ").concat(JSON.stringify(x)));this.Sa.vla(w,v,x);}else this.Sa.jI(p,v);};m.prototype.YU=function(p,v,q,u){var t;t=this;this.nmb.gca || this.nmb.hAb(function(){t.Mka(p,t.ud.cc,v,q,u);t.Sba.emit("adPlaygraphUpdated",{type:"adPlaygraphUpdated"});});};m.prototype.SC=function(p){return this.Lc.qf.SC(p);};m.prototype.Eg=function(p){k.prototype.Eg.call(this,p);this.mT=void 0;};m.prototype.APa=function(p,v){this.mT={Oi:p,Or:v};};c.__decorate([(0,f.ob)({methodName:"ads::processViewableResponse"})],m.prototype,"YH",null);c.__decorate([(0,f.ob)({methodName:"ads::processAdBreakHydrationResponse"})],m.prototype,"Erb",null);c.__decorate([(0,f.ob)({methodName:"ads::reportStreamingFailure"})],m.prototype,"We",null);c.__decorate([(0,f.ob)({methodName:"ads::seekStreaming"})],m.prototype,"jI",null);c.__decorate([(0,f.ob)({methodName:"ads::cancelStreaming"})],m.prototype,"Eg",null);return m;})(r.Jua);b.hTa=a;},45991:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q;function c(u,t){var w;w=t && u.ba[t];if(w)return w.type !== g.gd.content?c(u,w.Gc):t;}Object.defineProperties(b,{__esModule:{value:!0}});b.jTa=void 0;n=a(5163);d=a(91176);g=a(79048);e=a(48170);f=a(52571);l=a(14103);h=a(3758);k=a(88700);m=a(15905);p=a(73803);v=a(70778);q=a(45496);r=(function(){function u(t,w,x,z){this.Uq=t;this.console=w;this.Sa=x;this.config=z;this.A_b=[new h.B2a(),new q.C2a(),new k.mZa(z),new m.aWa(),new p.$Va(),new v.r0a()].filter(d.Zc);}u.prototype.jvb=function(){this.vba=void 0;};u.prototype.V4b=function(){var t,w,x,z,y,A,B,C,D;return n.__generator(this,function(E){switch(E.label){case 0:t=this.Sa.$;if(!t.se)return [3,9];w=t.HA;x=!1;E.label=1;case 1:(E.Ke.push([1,7,8,9]),z=n.__values(t.Ua),y=z.next(),E.label=2);case 2:if(y.done)return [3,6];A=y.value;A === w && (x=!0);return x?A.uza?[4,A]:[3,4]:[3,5];case 3:return (E.va(),[3,5]);case 4:return [3,6];case 5:return (y=z.next(),[3,2]);case 6:return [3,9];case 7:return (B=E.va(),C={error:B},[3,9]);case 8:try{y && !y.done && (D=z.return) && D.call(z);}finally{if(C)throw C.error;}return [7];case 9:return [2];}});};u.prototype.yG=function(t,w,x){var z,y,A,B;y=this.Sa.rM();A=Array.from(this.V4b()).map(function(C){return C.M;});B=null === (z=this.Sa.Lc) || void 0 === z?void 0:z.JN;z=this.Sa.$.AG();t={Ydc:y.filter(function(C){return C.N === x;})[0],Kb:t,$f:w,xPb:A.map(function(C){return null === B || void 0 === B?void 0:B.vG(C.id);}).filter(d.Zc),occ:z && (null === B || void 0 === B?void 0:B.vG(z.M.id)),l3:this.config.l3};y=this.A_b.map(function(C){return C.yG.bind(C);});t=d.IE.BM(t,y);e.G && this.console.info("Evaluated ad-break drop",{$f:w,result:t});return t;};u.prototype.A9a=function(t,w,x){var z,y,A,B,C,D,E,F,G,J;void 0 === x && (x=this.Sa.cc);A=x.Z;B=null === (z=x.q5.get(t.L)) || void 0 === z?void 0:z.N;(0,f.assert)(void 0 !== B);C=this.Uq.I_[B];B=z=w.WC(t);D=A.ba[z.L];if(0 === z.offset.H)E=this.lGa(A,C,z);else {D.type === g.gd.padding && (z={L:D.Gc,offset:d.K.wa});F=null === (y=this.Sa.$.AG()) || void 0 === y?void 0:y.M.id;if(F)G=F;else (y=c(A,A.Cf),this.Sa.vr && this.Sa.$.vt || this.Sa.g1() || y !== z.L || !this.config.mS?G=y:E=this.lGa(A,C,w.WC({L:t.L,offset:d.K.wa})));!E && G && (e.G && this.console.trace(("ads::seekStreaming: seek from segment ").concat(G)),E=this.n7b(G,z,x));}if(E)if(E.L){B={L:E.L,offset:d.K.wa};J=z;}else this.vba=E.Kb;t={i9b:!!E,H3b:G,to:z};return J || D.type !== g.gd.qd?{Oi:B,$C:J,oka:t}:{Oi:z,$C:z,oka:t};};u.prototype.PPa=function(t,w,x,z){if(this.vba)return (w=this.vba,this.vba=void 0,w);if((t=this.Uq.I_[t]) && t.length)if(x && w.L === z && w.offset.equal(d.K.wa)){if((w=t[0],0 === w.fq.H && w.empty && !w.xt && !w.qga))return w;}else if(!x)return this.xFa(w.L,t);};u.prototype.n7b=function(t,w,x){var z,y,A,C;e.G && this.console.trace("AdPoliciesManager: getPrerollAdOnSeek: " + ("from ").concat(t," to ").concat(JSON.stringify(w)));if(x){y=x.v4(w.L);(0,f.assert)(y,"inner WorkingPlaygraph segmentId should map correctly to outermost");y=this.Uq.I_[x.q5.Z.ba[y].N];x=x.Z.ba;A=null === (z=x[t]) || void 0 === z?void 0:z.Gc;A || (A=this.Sa.Z.ba[t].Gc);for(var B=z=void 0;A;){t=x[A];if(t.type === g.gd.content && (z === g.gd.content || void 0 === z) && y){C=this.xFa(A,y);C && (B={Kb:C});}if(A === w.L)return (w=B && !B.L || z && z !== g.gd.content?B:void 0,e.G && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: returning ").concat(w)),w);t.type === g.gd.qd && z !== g.gd.qd && (e.G && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: found start of ad break: ").concat(A)),z=(0,l.vG)(A),(0,f.assert)(z,"AdPoliciesManager: getPrerollOnSeek: Unable to find ad from ad segmentId"),B={L:A,Kb:y[null === z || void 0 === z?void 0:z.$f]});z=t.type;A=t.Gc;}}e.G && this.console.trace("AdPoliciesManager: getPrerollOnSeek: returning undefined");};u.prototype.lGa=function(t,w,x){var z,y;z=t.ba;x=x.L;y=z[x].type;if(y === g.gd.padding)return this.lGa(t,w,{L:z[x].Gc,offset:d.K.wa});e.G && this.console.trace("AdPoliciesManager: getPrerollAdBreakForPlaygraph",x);if(y === g.gd.qd)return (t=(0,l.vG)(x),(0,f.assert)(t,"getPrerollAdBreakForPlaygraph: getPrerollSegmentId: Unable to find ad from ad segmentId"),w=w[null === t || void 0 === t?void 0:t.$f],{L:x,Kb:w});if(y === g.gd.content){if(t=this.xFa(x,w))return {Kb:t};if(w=this.O6b(x,w))return {L:x,Kb:w};}else e.G && (0,f.assert)(!0,"Can't get preroll; initial segment was padding and it had no default next segment");};u.prototype.xFa=function(t,w){t=(0,l.ggb)(t);(0,f.assert)(t,"Should have contentInfo from segment name");if(0 < t.qda && (w=w[t.qda - 1],w.empty && !w.xt && !w.qga))return w;};u.prototype.O6b=function(t,w){t=(0,l.ggb)(t);(0,f.assert)(t,"Should have contentInfo from segment name");if(0 < t.qda && (w=w[t.qda - 1],!w.empty && !w.xt && !w.qga))return w;};return u;})();b.jTa=r;},14103:function(r,b,a){var n,d,g;function c(e){var f;f=(/^.+:ad\-(\d+)\-(\d+)$/).exec(e);if(f)return {Rba:parseInt(f[2]),$f:parseInt(f[1]),HM:!1};if(e=(/^.+:pad((end)|(start))-(\d+)$/).exec(e))return {$f:parseInt(e[4]),HM:!0,u5:e[1]};}Object.defineProperties(b,{__esModule:{value:!0}});b.kTa=void 0;b.vG=c;b.ggb=function(e){if(e=(/^.+-(\d+)$/).exec(e))return {qda:parseInt(e[1])};};n=a(91176);d=a(51308);g=a(81749);r=(function(){function e(f,l,h){this.Zw=f;this.ud=l;this.qf=h;}e.prototype.h4b=function(f){var l,h,k,m,p,v,q,u,t,w,x;k=c(null === f || void 0 === f?void 0:f.L);m=this.Zw.cc;p=this.ud.cc;m.get(f.L);u=m.ST(f.L);t=[f.L];if(u){p=p.Z.ba[u].N;w=m.zD.uG(f.L);for(q=w.next();!q.done;){q=q.value;x=m.ST(q.id);if(!q || x !== u || q.N === p)break;t.push(q.id);q=w.next();}}m=null !== (v=t.pop()) && void 0 !== v?v:f.L;v=c(m);f=this.Zw.Z.ba[f.L];m=this.Zw.Z.ba[m];f=(null !== (l=f.yb) && void 0 !== l?l:Infinity) - f.rb;l=(null !== (h=m.yb) && void 0 !== h?h:Infinity) - m.rb;return {start:(null === k || void 0 === k?0:k.HM)?new g.goa(d.Q8.start,f):void 0,end:(null === v || void 0 === v?0:v.HM)?new g.goa(d.Q8.end,l):void 0};};Object.defineProperties(e.prototype,{TD:{get:function(){if(this.Zw.$.se)return this.e4b(this.Zw.$.th);},enumerable:!1,configurable:!0}});e.prototype.e4b=function(f){var l,h,k,m,p,v,q,u,t,w;h=c(f.L);if(h){k=null === (l=this.ud.di) || void 0 === l?void 0:l.Ay(f);l=this.qf.Sc[this.ud.Z.ba[k.L].N][h.$f];k=this.h4b(f);k=new g.rTa(l,k.start,k.end);m=this.Zw.cc;p=this.ud.cc;m.get(f.L);q=-f.offset.H;u=m.ST(f.L);if(u){p=p.Z.ba[u].N;t=m.zD.uG(f.L);for(v=t.next();!v.done;){v=v.value;w=m.ST(v.id);if(!v || w !== u || v.N === p)break;q+=v.yb - v.rb;v=t.next();}}m=n.K.Pa(q);q=m.ka(k.y1.duration);h.HM && ("end" === h.u5?q=n.K.wa:(u=k.Zla.duration.ka(f.offset),q=q.ka(u)));k={Kb:k,progress:{NNb:l.duration.ka(q),PNb:1 - Math.max(0,q.H) / l.duration.H,RNb:k.duration.ka(m),SNb:1 - Math.max(0,m.H) / k.duration.H},position:f,index:h.$f};m=this.Zw.Z.ba[f.L];m=m.yb - m.rb;f=f.offset.H / m;h.HM?k.Tpb={ujc:f,YLa:h.u5,Gja:n.K.Pa(m)}:k.FF={qd:l.qg[h.Rba],A8a:f,index:h.Rba};return k;}};e.prototype.g4b=function(f,l){var h,k;h=f.L;k=this.I8b(f);if(h=c(h))return (f=this.qf.Sc[k][h.$f],h.HM?{Kb:f,u5:h.u5}:{Kb:f,qd:f.qg[h.Rba]});if(f=this.qf.PPa(k,f,l))return {Kb:f};};e.prototype.vG=function(f){return c(f);};e.prototype.I8b=function(f){var l,h;h=this.ud;f=null === (l=h.di) || void 0 === l?void 0:l.Ay(f);return h.Z.ba[f.L].N;};return e;})();b.kTa=r;},54953:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.lTa=void 0;c=a(91176);n=a(52571);d=a(81749);r=(function(){function g(e,f){var l;l=this;this.bSa=0;this.Yy={};this.QNb=1;e.on("adEvent",function(h){return l.Phc(h);});f.on("adBreakPresenting",function(h){return l.lja(h);});}Object.defineProperties(g.prototype,{I_:{get:function(){return this.Yy;},enumerable:!1,configurable:!0}});g.prototype.erc=function(e,f){this.Yy[e]=f.map(function(l,h){return new d.sTa(l,h);});};g.prototype.jja=function(e,f){var l;l=this;this.Yy[e].some(function(h){if(h.Em.yi === f.yi)return (h.Z9b(f,l.QNb++),!0);});};g.prototype.kja=function(e,f){this.Yy[e].some(function(l){if(l.Em.yi === f)return l.OV=!0;});};g.prototype.reset=function(){this.bSa=0;};g.prototype.Phc=function(e){var f;f=this;"adComplete" === e.event && Object.keys(this.Yy).some(function(l){var h,k,m;l=null !== (h=(m=f.Yy)[l]) && void 0 !== h?h:m[l]=[];(0,n.assert)(void 0 !== e.$f,"complete event should have an adBreakIndex");return null === (k=l[e.$f].qg) || void 0 === k?void 0:k.some(function(p){return p.id == e.U.P?(p.xt=!0,f.bSa++,!0):!1;});});};g.prototype.lja=function(e){var f;f=this;Object.keys(this.Yy).forEach(function(l){var h,k;(null !== (h=(k=f.Yy)[l]) && void 0 !== h?h:k[l]=[]).forEach(function(m){m !== e.Ul.Kb && m.qZb();});});};g.prototype.oDa=function(e){var f;f=this;Object.keys(this.Yy).forEach(function(l){f.Yy[l].forEach(function(h){h.qg.forEach(function(k){k.id == e && (k.$G=!0);});});});};g.prototype.Kfb=function(e,f){return (e=this.I_[e]) && (0,c.oc)(e,function(l){return l.fq.H === f;});};return g;})();b.lTa=r;},14847:function(r,b,a){var c,n,d,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.rTa=b.goa=b.sTa=void 0;c=a(91176);n=a(35963);d=a(8707);g=a(88E3);r=(function(){function f(l,h,k){var m;void 0 === k && (k=NaN);this.Em=l;this.$f=h;this.P7a=k;this.OV=this.rib=this.H6a=this.vxa=!1;this.YJ=(null === (m=l.qg) || void 0 === m?void 0:m.map(function(p){return new g.boa(p);})) || [];}Object.defineProperties(f.prototype,{fq:{get:function(){return this.Em.fq;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{cs:{get:function(){return this.Em.cs;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{hR:{get:function(){return this.Em.hR;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{yn:{get:function(){var l;l=this.Em;return "embedded" === l.type?l.yn:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{gPa:{get:function(){return this.P7a;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Lba:{get:function(){return this.Em.Lba;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{qg:{get:function(){return this.YJ;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{empty:{get:function(){return "dynamic" === this.type && !this.YJ.length && this.duration.equal(c.K.wa);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{duration:{get:function(){return (0,d.wT)(this.Em)?this.Em.duration:this.qg.reduce(function(l,h){return l.add(h.endTime.ka(h.startTime));},c.K.wa);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{type:{get:function(){return this.Em.type;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Qac:{get:function(){return this.xt || !this.U$a && !this.rib?this.YJ.every(function(l){return l.xt;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{xt:{get:function(){return this.YJ.length?this.YJ.every(function(l){return l.xt;}):this.vxa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{U$a:{get:function(){return !this.Vg && !!this.Em.yi;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Vg:{get:function(){return !!this.Em.qg;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{qga:{get:function(){return this.H6a;},set:function(l){l && (this.H6a=!0);},enumerable:!1,configurable:!0}});f.prototype.Src=function(){this.qg.length || (this.vxa=!0);};f.prototype.Z9b=function(l,h){var k;this.Em=l;this.YJ=(null === (k=this.Em.qg) || void 0 === k?void 0:k.map(function(m){return new g.boa(m);})) || [];this.rib=!0;this.P7a=h;this.OV=!1;};f.prototype.qZb=function(){this.Em.yi && (this.vxa=this.xt,this.Em.qg=void 0,this.YJ=[],this.OV=!1);};return f;})();b.sTa=r;e=(function(){function f(l,h){this.YLa=l;this.MKb=h;}Object.defineProperties(f.prototype,{duration:{get:function(){return c.K.Pa(this.MKb);},enumerable:!1,configurable:!0}});Object.defineProperties(f,{fLa:{get:function(){return this.ZLb || (this.ZLb=new f(n.Q8.start,0));},enumerable:!1,configurable:!0}});Object.defineProperties(f,{nhc:{get:function(){return this.YLb || (this.YLb=new f(n.Q8.end,0));},enumerable:!1,configurable:!0}});return f;})();b.goa=e;r=(function(){function f(l,h,k){this.nz=l;this.V7a=h || e.fLa;this.QKb=k || e.fLa;}Object.defineProperties(f.prototype,{Zla:{get:function(){return this.V7a;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{y1:{get:function(){return this.QKb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{t9b:{get:function(){return this.V7a !== e.fLa || this.y1 !== e.nhc;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{duration:{get:function(){return this.nz.duration.add(this.Zla.duration).add(this.y1.duration);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Gja:{get:function(){return this.Zla.duration.add(this.y1.duration);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{type:{get:function(){return this.nz.type;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{yn:{get:function(){return this.nz.yn;},enumerable:!1,configurable:!0}});return f;})();b.rTa=r;},88E3:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.boa=void 0;c=a(91176);r=(function(){function n(d){this.qd=d;this.$G=this.xt=!1;}Object.defineProperties(n.prototype,{id:{get:function(){return this.qd.id;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{startTime:{get:function(){return c.K.Pa(this.qd.rb);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{endTime:{get:function(){return c.K.Pa(this.qd.yb);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{CF:{get:function(){return this.qd.CF;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{yma:{get:function(){return this.qd.yma;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Mx:{get:function(){return this.qd.Mx;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{fW:{get:function(){return this.qd.fW;},enumerable:!1,configurable:!0}});return n;})();b.boa=r;},81749:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(88E3),b);r.__exportStar(a(14847),b);r.__exportStar(a(46062),b);},67288:function(r,b,a){var c,n,d,g,e,f,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.V1a=void 0;c=a(5163);n=a(90745);d=a(79048);g=a(91176);e=a(66164);f=a(48170);l=a(69575);h=a(52571);r=(function(){function k(m,p,v){var q;q=this;this.Lc=m;this.Sa=p;this.aEa=new n.mf();this.Y9a=!1;this.console=(0,l.xg)(e.platform,v,"PLAYERADMANAGER");this.events=new n.EventEmitter();this.Sa.events.on("playerChanged",this.Yqb.bind(this));this.Yqb();this.Lc.Sba.on("adPlaygraphUpdated",function(u){return q.events.emit("adPlaygraphUpdated",u);});this.qf.events.on("adSegmentDropped",function(u){q.Qhc(u);});}Object.defineProperties(k.prototype,{o3:{get:function(){return !!this.rCa;},enumerable:!1,configurable:!0}});k.prototype.Kj=function(m){var p;if(!this.Sa.vr)return (f.G && this.console.trace("PlayerAdManager.canSkip(): no player"),!1);p=this.Sa.$;if(!p.i2(m))return (f.G && this.console.trace("PlayerAdManager.canSkip() false, no branch spanning playerTimestamp:",m),!1);f.G && this.console.trace(("PlayerAdManager.canSkip(): ").concat(p.Hd.Ka()," -> ").concat(m.Ka()));m=m.greaterThan(p.Hd)?(0,l.Peb)(p.Ua,p.Hd,m):(0,l.Peb)(p.Ua,m,p.Hd);p=!m.some(function(v){return v.M.type !== d.gd.content;});f.G && this.console.trace(("PlayerAdManager.canSkip(): ").concat(p,"; ").concat(m.map(function(v){return ("").concat(v.M.id," ").concat(v.M.type," ").concat(v.Hb.H,"..").concat(v.Hb.H);})));return p;};Object.defineProperties(k.prototype,{qf:{get:function(){return this.Lc.qf;},enumerable:!1,configurable:!0}});k.prototype.Yqb=function(){var m,p;m=this;this.console.trace("Player changed",this.Sa.vr);this.aEa.clear();if(this.Sa.vr){p=this.Sa.$;this.aEa.addListener(p.events,"segmentPresenting",function(v){return m.ay(v);});this.aEa.addListener(p.events,"playbackEnding",function(v){return m.wLa(v);});}};k.prototype.ay=function(m){var p,v,q,u,t,w;u=this.Sa.PS(m.Mga?m.Mga.position.L:m.position.L);u=u.length?null === (v=null === (p=u[0].R.U) || void 0 === p?void 0:p.Jm) || void 0 === v?void 0:v.hR:void 0;!this.Y9a && u && e.platform.ping && (e.platform.ping(u),this.Y9a=!0);if(p=this.JN.g4b(m.position,!!m.seek)){v=p.Kb;u=p.qd;f.G && this.console.trace(("Got segment presenting event: adBreak: ").concat(v.$f,", ad: ").concat(u));t=this.JN.TD;w={Or:m.playerTimestamp,position:m.position,Kb:v,seek:m.seek};this.o3 && "embedded" !== (null === (q=this.rCa) || void 0 === q?void 0:q.type) || (v.empty?v.Vg || u?this.DF(w):f.G && this.console.trace("Passed an unhydrated ad break; assume it was skipped intentionally"):this.ONb(t,w));u && this.Zn(t,w,u);}!this.o3 || p && "end" !== p.u5 || this.DF({Or:m.playerTimestamp,position:m.position,seek:m.seek});this.o3 && !p && this.s8a(m.position);};k.prototype.wLa=function(m){this.o3 && this.Dac(m.position) && (this.DF({Or:m.playerTimestamp,position:m.position}),this.s8a(m.position));};k.prototype.ONb=function(m,p){(0,h.assert)(m,"Should have presenting info for event corresponding to ad break");f.G && this.console.trace("Emitting adBreakPresenting");this.rCa=p.Kb;this.events.emit("adBreakPresenting",{type:"adBreakPresenting",presentingInfo:m,Ul:p});};k.prototype.Zn=function(m,p,v){f.G && this.console.trace("Emitting adPresenting");(0,h.assert)(m,"Should have presenting info for event corresponding to ad break");this.events.emit("adPresenting",{type:"adPresenting",presentingInfo:m,Ul:c.__assign(c.__assign({},p),{qd:v})});};k.prototype.DF=function(m){f.G && this.console.trace("Emitting adBreakComplete");this.events.emit("adBreakComplete",{type:"adBreakComplete",Ul:m});};k.prototype.s8a=function(m){this.rCa=void 0;f.G && this.console.trace("Emitting adBreakEnded");this.events.emit("adBreakEnded",{type:"adBreakEnded",eventInfo:{position:m}});};k.prototype.OS=function(m){var p,v,q,u;p=this;v={yPb:[],result:{}};q=this.qf.qz;u=Object.keys(q).filter(function(t){return q[t];});if(null === m || void 0 === m?0:m.zE)u=u.filter(function(t){var w;return -1 !== (null === (w=m.zE) || void 0 === w?void 0:w.indexOf(t));});v.yPb=u;u.forEach(function(t){var w,x,z;x=null === (w=q[t]) || void 0 === w?void 0:w.Sc;if(x){w=p.q2b(t,x);z=p.qf.Sc[t];v.result[("").concat(t)]=w.map(function(y,A){return c.__assign(c.__assign({},y),{hasCompletedPlayback:z[A].Qac});});}});return v;};Object.defineProperties(k.prototype,{JN:{get:function(){return this.Lc.JN;},enumerable:!1,configurable:!0}});k.prototype.q2b=function(m,p){var v,q;v=[];q=[];this.qf.Sc[m].forEach(function(u){return u.qg.forEach(function(t){t.$G && -1 === q.indexOf(t.id) && q.push(t.id);});});p.forEach(function(u){var t,w;u=c.__assign({},u);w=null === (t=u.ads) || void 0 === t?void 0:t.filter(function(x){return -1 === q.indexOf(x.id);});u.ads=w;v.push(u);});return v;};k.prototype.Qhc=function(m){var p,v,q,u;p=this;v=m.adId;q=this.qf.qz;m=Object.keys(q).filter(function(t){return q[t];});u=this.Sa.Z.ba;m.forEach(function(t){var w,x;null === (x=null === (w=q[t]) || void 0 === w?void 0:w.Sc) || void 0 === x?void 0:x.forEach(function(z,y){var A;null === (A=z.qg) || void 0 === A?void 0:A.forEach(function(B,C){B.id === v && (B=(0,g.oc)(Object.keys(u),function(D){D=p.JN.vG(D);return !D || D.HM?!1:C === D.Rba && y === D.$f;})) && p.events.emit("segmentDropped",{type:"segmentDropped",auxMid:v,auxMidType:d.gd.qd,adBreakLocationMs:z.cs,reason:"network_error",sev:"error",segmentId:B});});});});};k.prototype.Dac=function(m){m=this.Sa.cc.get(m.L);return !(!m || 0 < m.xI);};return k;})();b.V1a=r;},73803:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$Va=void 0;r=(function(){function a(){}a.prototype.yG=function(c,n){var d,g;d=c.Kb;g=n(c);g.iG || d.qg.forEach(function(e,f){e.$G && (g.pea.push(f),g.reason="error");});return g;};return a;})();b.$Va=r;},15905:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.aWa=void 0;r=(function(){function a(){}a.prototype.yG=function(c,n){return c.Kb.xt?{iG:!0,pea:[],reason:"played"}:n(c);};return a;})();b.aWa=r;},88700:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.mZa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.yG=function(c,n){var d,g,e,f,l;if(this.config.dca)return n(c);e=c.Ydc;f=null === e || void 0 === e?void 0:e.U.Jm;l=f && f.ypc && (!c.l3 || (null === (d=e.sH) || void 0 === d?void 0:d.model.R5));return (null === e || void 0 === e?0:e.fa) && f && !l && (d=null === (g=e.sH) || void 0 === g?void 0:g.Wx,g=c.Kb.fq.add(c.Kb.duration),d && g.lessThan(d))?{iG:!0,pea:[],reason:"live-drop"}:n(c);};return a;})();b.mZa=r;},70778:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.r0a=void 0;r=(function(){function a(){}a.prototype.yG=function(){return {pea:[],iG:!1,reason:"none"};};return a;})();b.r0a=r;},3758:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.B2a=void 0;r=(function(){function a(){}a.prototype.yG=function(c,n){n=n(c);n.iG && c.xPb.filter(function(d){return d.$f === c.$f;}).length && (n.iG=!1,n.reason="in buffer");return n;};return a;})();b.B2a=r;},45496:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.C2a=void 0;r=(function(){function a(){}a.prototype.yG=function(c,n){var d;n=n(c);d=c.occ;n.iG && d && d.$f === c.$f && (n.iG=!1,n.reason="last appended");return n;};return a;})();b.C2a=r;},31413:function(r,b,a){var c,n,d,g,e,f,l,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.U3a=void 0;c=a(5163);n=a(91176);d=a(91176);g=a(66164);e=a(65161);f=a(48170);l=a(89527);h=a(52571);k=a(40666);r=(function(){function m(p,v,q,u,t,w,x,z,y,A){var B;B=this;this.Da=p;this.bd=v;this.events=q;this.Kb=u;this.qd=t;this.Pya=w;this.Tba=x;this.LNb=z;this.K_=y;this.console=A;this.Io=g.platform.time.now();this.GI=new Map();this.lz=0;(0,h.assert)(w.U,"Presenting ad should have a manifest");this.B8a=v.nx(function(){return B.Uvc();},"impressionLogging");this.Da.$.GA.forEach(function(C,D){(C=C.BEa(l.Qoa)) && B.GI.set(D,C);});}Object.defineProperties(m.prototype,{uE:{get:function(){return this.lz;},enumerable:!1,configurable:!0}});m.prototype.Ma=function(){this.B8a.Ma();};m.prototype.Uvc=function(){var p,v,q,u,t,w,x,z,y,A,B,C,D,E,F,G;return c.__generator(this,function(J){switch(J.label){case 0:(f.G && this.console.trace("AdImpressionLogger: starting at",this.K_.Ka()),p=this.qd,this.Gab(),v=0,q=this.K_,u=this.K_.add(p.endTime),t=this.LNb,J.label=1);case 1:(J.Ke.push([1,12,13,14]),(0,h.assert)(null === (E=p.CF) || void 0 === E?void 0:E.start,"Start event info should be defined"),this.emit(p.CF.start,v,q,!1),(0,h.assert)(p.yma,"Timed event info should be defined"),J.label=2);case 2:(J.Ke.push([2,7,8,9]),w=c.__values(p.yma),x=w.next(),J.label=3);case 3:if(x.done)return [3,6];z=x.value;q=this.K_.add(n.K.Pa(z.hu));f.G && this.console.trace(("AdImpressionLogger[").concat(this.Tba,"]: waiting for ").concat(z.hu,"ms timed event") + (" at ").concat(q.Ka()));return [4,k.Og.iw(q)];case 4:(J.va(),t=q,this.emit(z,z.hu,q,!1),J.label=5);case 5:return (x=w.next(),[3,3]);case 6:return [3,9];case 7:return (y=J.va(),C={error:y},[3,9]);case 8:try{x && !x.done && (D=w.return) && D.call(w);}finally{if(C)throw C.error;}return [7];case 9:if(!u.greaterThan(q))return [3,11];q=u;f.G && this.console.trace(("AdImpressionLogger[").concat(this.Tba,"]: waiting for end of ad at ").concat(q.Ka()));return [4,k.Og.iw(q)];case 10:(J.va(),t=q,J.label=11);case 11:return [3,14];case 12:return (A=J.va(),this.console.error("AdImpressionLogger: error",A),this.lz++,[3,14]);case 13:this.Da.$.se && (t=this.Da.$.Hd);if(t.eg(u))((0,h.assert)(null === (F=p.CF) || void 0 === F?void 0:F.complete,"Complete event should be defined"),this.emit(p.CF.complete,p.endTime.H,u,!0));else if(null === (G=p.CF) || void 0 === G?0:G.stop)(B=t.ka(this.K_).H,this.emit(p.CF.stop,B,t,!0));this.Gab();return [7];case 14:return [2];}});};m.prototype.emit=function(p,v,q,u){f.G && this.console.trace(("AdImpressionLogger[").concat(this.Tba,"]: emitting ").concat(p.event," event at ").concat(v,"ms") + (" for player time ").concat(q.Ka()));v={L:this.Tba,offset:n.K.Pa(v)};q=this.fGa(q);try{this.events.emit("adEvent",c.__assign(c.__assign({type:"adEvent"},p),{Jh:v,CA:q,U:this.Pya.U,Io:this.Io,jNc:u?g.platform.time.now():-1,wC:this.Kb.cs,$f:this.Kb.$f,fW:this.qd.fW,Mx:this.qd.Mx}));}catch(t){this.console.error("Impression error event",t);this.lz++;}};m.prototype.fGa=function(p){var v,q,u;v=this.Pya.U.P;q=c.__read(this.nhb(p,this.GI.get(e.u.X),v),2);u=q[0];q=q[1];p=c.__read(this.nhb(p,this.GI.get(e.u.V),v),2);return {audio:u,video:p[0],text:[],total:Math.max(q,p[1])};};m.prototype.nhb=function(p,v,q){p=(null === v || void 0 === v?void 0:v.otc(p,q)) || [];p=(0,d.flatten)(p.map(function(u){return Object.keys(u.wL).map(function(t){t=u.wL[t];return {Nb:t.Nb,duration:t.totalTime,Ap:u.Ap};});}));v=p.reduce(function(u,t){return u + t.duration;},0);f.G && this.console.trace("Getting playtime journal",{P:q,lMc:p.length,totalTime:v});return [p,v];};m.prototype.Gab=function(){var p,v,q;q=this.Pya.U.P;null === (p=this.GI.get(e.u.X)) || void 0 === p?void 0:p.Lsb(q);null === (v=this.GI.get(e.u.V)) || void 0 === v?void 0:v.Lsb(q);};m.prototype.jo=function(){return {ad:this.B8a.jo(),errors:this.lz};};return m;})();b.U3a=r;},8707:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.wT=b.T_=void 0;b.T_=function(a,c){var d,g;if(!(a && c || a === c))return !0;if(a && c){if(a.Sc.length !== c.Sc.length)return !0;for(var n=0;n < a.Sc.length;n++){d=a.Sc[n];g=c.Sc[n];if(d.gn !== g.gn || (0,b.wT)(d) !== (0,b.wT)(g) || (0,b.wT)(d) && (0,b.wT)(g) && !d.duration.equal(g.duration))return !0;}}return !1;};b.wT=function(a){return "embedded" === a.type;};},25750:function(r,b,a){var c,n,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.J0=void 0;c=a(5163);n=a(40981);d=a(75393);g=a(17774);b.J0=function(e,f,l){var h,k,m,p,v;h=f.H5;k=f.sza;e=c.__assign({mqa:n.lqa},e).mqa;m=h[5];h=(0,g.rpb)(function(){return v;});m.K8a(h.Tr);l=l(f);p={di:void 0,ud:void 0,Sa:l,Jlb:"content"};p.di=new e(function(){return p.ud.cc;},function(){return p.Sa;},f.H5[2]);v=new g.lVa(p,h.Kwb,d.DA.wOa.wV);p.ud=d.DA.kNa(l,v,function(){return p;},k);v.Pb();return p.ud;};},17774:function(r,b,a){var c,n,d,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.lVa=void 0;b.rpb=function(f){var l;l=[];return {Tr:function(h,k){var m,p,v,q,u,t,w,x;v=h.N;q=h.VA;u=f();t=u.GQb;if(t && t !== v){w=null === (m=null === q || void 0 === q?void 0:q.Cg) || void 0 === m?void 0:m.vc;m=null === (p=null === q || void 0 === q?void 0:q.Cg) || void 0 === p?void 0:p.je;p=u.vc;(0,e.assert)(t,"did not receive parent viewable id");q={Cg:{vc:null !== w && void 0 !== w?w:p,je:null !== m && void 0 !== m?m:t}};}u.Sa.console.trace("In wrapped request viewable",v,q);x=k(c.__assign(c.__assign({},h),{VA:q}));l.forEach(function(z){return z({N:v,AE:x.AE});});return x;},Kwb:function(h){l.push(h);}};};c=a(5163);n=a(79048);d=a(5479);g=a(61996);e=a(52571);r=(function(f){function l(h,k,m,p){void 0 === p && (p="CphAsePlaygraph");p=f.call(this,h,k,m,p) || this;p.Do=h;p.wpb=k;p.Stb=m;h.Sa.rd(new d.mVa(p));return p;}c.__extends(l,f);l.prototype.YH=function(h){var k,m;k=f.prototype.YH.call(this,h);if(k){m=h.U.Cp;m && !this.Kaa && (this.ZBa.Ij({applyingContentPlaygraph:!0}),this.Kaa=m,this.kLb=this.VUb(h.U),this.Mka());}return k;};Object.defineProperties(l.prototype,{Cib:{get:function(){return this.kLb;},enumerable:!1,configurable:!0}});l.prototype.SC=function(h){if(this.Kaa)return (h=n.dC.em(h,n.dC.create(this.Kaa.Z)).ria,h.S_(this.Sa.cc),h);};l.prototype.VUb=function(h){var k,m;k=h.Ss;m=h.NG;return !(!k || !k.some(function(p){return p.NG !== m;}));};Object.defineProperties(l.prototype,{Cp:{get:function(){var h;return null === (h=this.Kaa) || void 0 === h?void 0:h.Z;},enumerable:!1,configurable:!0}});c.__decorate([(0,g.ob)({methodName:"processViewableResponse"})],l.prototype,"YH",null);return l;})(a(14739).Jua);b.lVa=r;},79:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.NBa=void 0;c=a(75393);n=a(4515);b.NBa=function(d,g){var e;d=g(d);e=new n.Z1a(d,c.DA.wOa.wV);return c.DA.kNa(d,e,function(){return e.Do;});};},64281:function(r,b,a){var n,d,g,e;function c(f,l){return l && !Array.isArray(l) && -1 === l.meb.indexOf(f)?l.rules:[];}Object.defineProperties(b,{__esModule:{value:!0}});b.aCa=void 0;n=a(5163);r=a(90745);d=a(49165);g=a(87561);e=(function(f){function l(h,k){var m;m=f.call(this) || this;m.mec=h;m.Kjb=k;m.mxa={};return m;}n.__extends(l,f);l.prototype.emit=function(h){for(var k=[],m=1;m < arguments.length;m++)k[m - 1]=arguments[m];return f.prototype.emit.call(this,h,this.mec(h,k[0]));};l.prototype.subscribe=function(h){var k,m;k=this;if(!this.listeners(h).length){m=function(){for(var p=[],v=0;v < arguments.length;v++)p[v]=arguments[v];return k.emit.apply(k,n.__spreadArray([h],n.__read(p),!1));};this.mxa[h]=m;this.Kjb.addListener(h,m);}};l.prototype.addListener=function(h,k){this.subscribe(h);f.prototype.addListener.call(this,h,k);return this;};l.prototype.removeListener=function(h,k){f.prototype.removeListener.call(this,h,k);k=this.mxa[h];!this.listeners(h).length && k && (this.Kjb.removeListener(h,k),this.mxa[h]=void 0);return this;};l.prototype.on=function(h,k){this.addListener(h,k);return this;};l.prototype.yo=function(h,k){this.removeListener(h,k);return this;};l.prototype.once=function(h,k){var p;function m(){for(var v=[],q=0;q < arguments.length;q++)v[q]=arguments[q];p.removeListener(h,m);k.apply(void 0,n.__spreadArray([],n.__read(v),!1));}p=this;this.addListener(h,m);return this;};l.prototype.tka=function(h,k){this.subscribe(h);f.prototype.tka.call(this,h,k);};l.prototype.xrb=function(h,k){var p;function m(){for(var v=[],q=0;q < arguments.length;q++)v[q]=arguments[q];p.removeListener(h,m);k.apply(void 0,n.__spreadArray([],n.__read(v),!1));}p=this;this.tka(h,m);};return l;})(r.EventEmitter);b.aCa=function(f,l,h,k){return new e(function(m,p){var v;v=c(m,k["*"]);m=k[m] || [];v=v.concat(m).filter(function(q){return "object" === typeof q;});m=n.__read(m.filter(function(q){return "function" === typeof q;}),1)[0];return v.length?(0,g.jla)(f,p,h,{rules:v,Jo:!1,oza:!0},d.SE.KI,m):p;},l);};},40981:function(r,b,a){var c,n,d,g,e,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.lqa=void 0;c=a(5163);n=a(66164);d=a(61996);g=a(94328);e=a(52571);f=a(48170);l=a(35779);r=(function(){function h(k,m,p,v){function q(u,t){return u.L === t.L && u.offset.equal(t.offset);}this.Ija=k;this.Sa=m;this.config=p;this.OOb=v;this.JW=new WeakMap();this.IW=new WeakMap();this.console=new n.platform.Console("GRAPHLOCATIONSERVICE");this.tf=new d.Sn({Vj:this,source:(v || "") + "GraphLocation",console:this.console});(0,l.MNa)(this,"d",new l.aQ(p,q));(0,l.MNa)(this,"u",new l.aQ(p,q));}h.prototype.Pb=function(){var k,m,p;k=this;"temp" !== this.OOb && (null === (m=this.Sa().events) || void 0 === m?void 0:m.on("segmentNormalized",function(){(0,l.rFa)(k).forEach(function(v){return v.clear();});k.JW=new WeakMap();k.IW=new WeakMap();}),null === (p=this.Sa().events) || void 0 === p?void 0:p.on("playgraphUpdating",function(){(0,l.rFa)(k).forEach(function(v){return v.clear();});k.JW=new WeakMap();k.IW=new WeakMap();}));};h.prototype.uzb=function(k,m){return new h(function(){return k;},function(){return {cc:m};},this.config,"temp");};h.prototype.WC=function(k){var m,p,v,q,u;f.G && this.console.trace("downConverting",k);if(this.JW.has(k))return this.JW.get(k);try{p=this.Ija().Z;v=this.Sa().cc.Z;if(p === v)return m=k;if(v.ba[k.L])return (p.ba[k.L] || f.G && this.console.warn("Received a down converted position unexpectedly",k,Error().stack),m=k);q=(0,g.zab)(k,this.Ija());u=this.Ija().qec({offset:q.Aab,L:k.L});(0,e.assert)(!!u,"mapPositionDown on uxPlaygraph should return a value");m={offset:q.cv.add(u.offset),L:u.L};f.G && this.console.trace("downConverting ret:",m);return m;}finally{m && (this.JW.set(k,m),this.IW.set(m,k));}};h.prototype.Ay=function(k){var m,p,v,q,u,t;f.G && this.console.trace("upConverting",k);if(this.IW.has(k))return this.IW.get(k);try{m=this.Ija().Z;p=this.Sa().cc.Z;if(m === p)return k;if(m.ba[k.L])return (p.ba[k.L] || f.G && this.console.warn("Received a up converted position unexpectedly",k,Error().stack),k);v=this.Sa().cc;q=(0,g.zab)(k,v);u=v.rec({offset:q.Aab,L:k.L});(0,e.assert)(!!u,"mapPositionUp on combinedPlaygraph should return a value");t={offset:q.cv.add(u.offset),L:u.L};f.G && this.console.trace("upConverting ret:",t);return t;}finally{t && (this.IW.set(k,t),this.JW.set(t,k));}};h.prototype.e6b=function(k){var m;m=this.WC(k);(0,e.assert)(!!m,"mapPositionDown on uxPlaygraph should return a value");for(var p=m.L,v=this.Sa().cc,q=v.zD.uG(p),u=q.next();!u.done;){u=u.value;if(v.v4(u.id) !== k.L && p !== m.L)break;p=u.id;u=q.next();}(0,e.assert)(p,("Could not find any segments in the path of ").concat(k));return p;};c.__decorate([(0,d.ob)({methodName:"downConvertPosition",Sf:!0,Km:!0,return:!0}),(0,l.zAa)("d")],h.prototype,"WC",null);c.__decorate([(0,d.ob)({methodName:"upConvertPosition",Sf:!0,Km:!0,return:!0}),(0,l.zAa)("u")],h.prototype,"Ay",null);return h;})();b.lqa=r;},75393:function(r,b,a){var g,e,f,l,h,k,m,p,v;function c(q,u){var t,w,x,z;if(q.ud.Z.ba[u] && q.ud.Lc){z=q.ud.cc.v4(u);z && (z=q.ud.cc.q5.Z.ba[z].N,(u=(0,m.vG)(u)) && (x=null === (w=null === (t=q.ud.Lc.qf.Sc[z]) || void 0 === t?void 0:t[u.$f]) || void 0 === w?void 0:w.cs));}return x;}function n(q,u,t,w){var x;return u === h.SE.tL?(u=e.K.wa,(null === w || void 0 === w?void 0:w.zqc) === v.end && (u=e.K.Pa(null !== (x=t.ud.Z.ba[q].yb) && void 0 !== x?x:0),(0,f.assert)(0 < u.H,"EndTime must be non null")),t.di.WC({offset:u,L:q}).L):t.di.Ay({offset:e.K.wa,L:q}).L;}function d(q,u,t){return u === h.SE.KI?t.di.Ay(q):t.di.WC(q);}Object.defineProperties(b,{__esModule:{value:!0}});b.DA=b.B0a=void 0;g=a(5163);e=a(91176);f=a(52571);r=a(42194);l=a(50599);h=a(49165);k=a(6783);m=a(14103);p=a(57722);a=(0,l.Rtb)();a=(0,r.L$a)()({Pmb:"combinedPlaygraph",wV:{Jh:a()({map:d,GC:p.gbc}),se:a()({map:function(q,u,t,w){var x;x=(null === w || void 0 === w?0:w.mq)?(0,p.DFa)(q,w.mq):q.position;u=d(x,u,t);q=(0,p.qBa)(q,null === w || void 0 === w?void 0:w.mq);(null === w || void 0 === w?0:w.mq)?(0,p.zrc)(q,w.mq,u):q.position=u;return q;},GC:function(q,u,t){return (null === t || void 0 === t?0:t.mq)?(0,p.DFa)(q,t.mq):(0,p.se)(q);}}),SI:a()({map:function(q,u,t,w){var x;if(u === h.SE.tL)return null !== (x=q.inner) && void 0 !== x?x:q;u=(0,p.qBa)(q,null === w || void 0 === w?void 0:w.mq);null !== w && void 0 !== w && w.mq || (u.inner=q,"gctag" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).$Db && (u.gctag=void 0));return u;},GC:function(q,u,t){return (null === t || void 0 === t?0:t.mq)?"object" === typeof (0,p.DFa)(q,t.mq):"object" === typeof q;}}),L:a()({map:n,GC:p.sbc}),Q6:a()({map:function(q,u,t,w){var x,z;z=null !== (x=q.L) && void 0 !== x?x:q.segmentId;u=n(z,u,t,w);return q.L?g.__assign(g.__assign({},q),{L:u}):g.__assign(g.__assign({},q),{segmentId:u});},GC:p.y9b}),QBa:a()({map:function(q,u,t){u === h.SE.tL?(q=(0,k.$u)(t.ud.Z,q.N,q.fl,{gub:!0}),(0,f.assert)(void 0 !== q,"Graph position must exist in ux playgraph"),q=t.di.WC(q),u=q.L,q=q.offset,u=t.Sa.Z.ba[u],t=u.N,u=u.rb,q=e.K.Pa(u).add(q)):(q=(0,k.$u)(t.Sa.Z,q.N,q.fl,{gub:!0}),(0,f.assert)(void 0 !== q,"Graph position must exist in combined playgraph"),q=t.di.Ay(q),u=q.L,q=q.offset,u=t.ud.Z.ba[u],t=u.N,u=u.rb,q=e.K.Pa(u).add(q));return {fl:q,N:t};},GC:p.yac}),kAa:a()({GC:p.tac,map:function(q,u,t){var w,x,z,y,A;w=t.Sa.cc;x=t.ud.cc;if(u === h.SE.tL){z={L:q.M.id,offset:e.K.wa};y=t.di.WC(z);u=w.get(y.L);(0,f.assert)(u,"workingSegment on inner playgraph must exist");x=x.get(z.L);(0,f.assert)(x,"equivalent workingSegment on outer playgraph must exist");z=u.Ob;t=q.Pd.add(u.Db.ka(x.Db));w=u.Db;u=u.kc;return {Pd:t,HN:q.Mv.add(z),Mv:q.Mv,M:{id:y.L,Db:w,kc:u}};}y={L:q.M.id,offset:e.K.wa};z=t.di.Ay(y);u=w.get(y.L);(0,f.assert)(u,"workingSegment on inner playgraph must exist");x=x.get(z.L);(0,f.assert)(x,"equivalent workingSegment on outer playgraph must exist");y=x.Ob;if(!y.isFinite()){A=t.di.e6b(z);(w=w.get(A)) && w.Ob.isFinite() && (y=t.di.Ay({L:A,offset:w.Ob}).offset);}z=q.Mv.ka(z.offset);A=z.add(y);t=q.Pd.add(x.Db.ka(u.Db));w=x.Db;u=y.add(w);return {Pd:t,HN:A,Mv:z,M:{id:x.id,Db:w,kc:u}};}}),DQb:a()({GC:function(q){return "segmentPresenting" === q.type;},map:function(q,u,t){var w;q=(0,p.qBa)(q);if((u=q.metrics) && void 0 === u.adBreakLocationMs){w=c(t,u.destPosition.L);void 0 !== w && (u.adBreakLocationMs=w);w=c(t,u.srcStartPosition.L);void 0 !== w && (u.srcadBreakLocationMs=w);}return q;}})}});(function(q){q[q.vGc=0]="beginning";q[q.end=1]="end";})(v || (b.B0a=v={}));b.DA=a;},5472:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Zqb=void 0;b.Zqb={"*":{meb:["logdata"],rules:[{Gk:function(a){return a.SI;}}]},segmentPresenting:[{Gk:function(a){return a.SI;},config:{mq:["metrics"]}},{Gk:function(a){return a.se;}},{Gk:function(a){return a.se;},config:{mq:["metrics","srcStartPosition"]}},{Gk:function(a){return a.se;},config:{mq:["metrics","srcTransitionPosition"]}},{Gk:function(a){return a.se;},config:{mq:["metrics","destPosition"]}},{Gk:function(a){return a.DQb;}}],streamPresenting:[{Gk:function(a){return a.se;}}],segmentAppended:[{Gk:function(a){return a.Q6;}}],fragmentsMissing:[{Gk:function(a){return a.se;},config:{mq:["nextAvailableGraphPosition"]}}]};},4515:function(r,b,a){var c,n,d,g,e,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Z1a=void 0;c=a(5163);n=a(66164);d=a(61996);g=a(69575);e=a(64281);f=a(5472);r=(function(){function l(h,k){var m;m=this;this.s3=h;this.events=(0,e.aCa)(function(){return m.Do;},this.s3.events,k,f.Zqb);this.S9b=(0,g.xg)(n.platform,this.s3.console,"PLAYERHOST");new d.Sn({hg:10,Vj:this,source:"PlayerHost",console:this.S9b});}l.prototype.mBa=function(){this.Do=void 0;};l.prototype.xPa=function(h){this.Do=h;};c.__decorate([(0,d.ob)({methodName:"clearProxyPlaygraphContext"})],l.prototype,"mBa",null);c.__decorate([(0,d.ob)({methodName:"setProxyPlaygraphContext"})],l.prototype,"xPa",null);return l;})();b.Z1a=r;},94152:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.crb=void 0;b.crb={"*":{meb:["logdata"],rules:[{Gk:function(a){return a.SI;}}]},locationSelected:[{Gk:function(a){return a.Q6;}}],segmentComplete:[{Gk:function(a){return a.Q6;}}],segmentStarting:[{Gk:function(a){return a.Q6;}}],serverSwitch:[{Gk:function(a){return a.Q6;}}],streamSelected:[{Gk:function(a){return a.se;}}]};},14739:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v;Object.defineProperties(b,{__esModule:{value:!0}});b.Jua=void 0;c=a(5163);n=a(79048);d=a(91176);g=a(54366);e=a(61996);f=a(65161);l=a(52571);h=a(48170);k=a(29254);m=a(36414);p=a(64281);v=a(94152);r=(function(){function q(u,t,w,x){var z;void 0 === x && (x="CphAsePlaygraph");z=this;this.Do=u;this.wpb=t;this.Stb=w;this.Tvc=x;this.D9b=new k.Zua();this.wpb(function(y){return c.__awaiter(z,[y],void 0,function(A){var B,C;C=A.AE;return c.__generator(this,function(D){switch(D.label){case 0:return [4,C];case 1:return (B=D.va(),this.YH(B),[2]);}});});});}Object.defineProperties(q.prototype,{Sa:{get:function(){return this.Do.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Lj:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Z:{get:function(){return this.Yw.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{cc:{get:function(){return this.Yw;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{parent:{get:function(){return this.gz;},set:function(u){this.gz=u;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{di:{get:function(){return this.Do.di;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Wb:{get:function(){return this.Sa.console;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{bb:{get:function(){return this.Sa.config;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Cib:{get:function(){return !1;},enumerable:!1,configurable:!0}});q.prototype.Pb=function(){var u,t;u=this.Do;this.ZBa=new e.Sn({hg:10,Vj:this,source:this.Tvc,console:this.Wb});this.events=(0,p.aCa)(function(){return u;},u.Sa.events,this.Stb,v.crb);this.Yw=u.Sa.cc;t=u.di;t.Pb();u.Sa.rd(new g.ep(this.ZBa));u.Sa.rd(new g.ep(u.di.tf));u.Sa.rd(new m.QUa(("").concat(u.Jlb,"::gls"),t));u.Sa.parent=u.ud;};q.prototype.bx=function(u){var t,w;w=null !== (t=this.$) && void 0 !== t?t:this.Sa.$;this.$=u;u.xPa && u.xPa(this.Do);(t=this.Do.Sa.bx(u.s3 || u))?(this.$=u,w !== u && w.mBa && w.mBa()):this.$=w;return t;};q.prototype.Mka=function(u,t,w,x,z){(u=u || this.SC(t || this.cc)) && this.uic(u,this.Cib,w,x,z);};q.prototype.uic=function(u,t,w,x,z){var y,A,B,C,D,E,F,G,J;y=u.Z;A=this.Do.ud;B=A.$;D=A.Z;if(C=w?w:A.vr && B.se?B.th:A.yt?A.Oi:void 0){E=this.Sa.cc.get(C.L);F=u.get(C.L);E && !F && (C=this.di.Ay(C));}A.config.Eyc && t && B.pI(!0);t=A.QFa();h.G && this.Wb.log(("onNewInnerPlaygraph: outer: ").concat(JSON.stringify(D)));h.G && this.Wb.log(("onNewInnerPlaygraph: combined: ").concat(JSON.stringify(y)));this.D9b.set(y,!0);D=this.Sa.fP(u);try{if(!D.ta || C && !B.se && !A.yt || w && z)if(((0,l.assert)(!B.Aa.Kh,"Player is not paused:" + f.Xy[D.reason]),A.Eg(!0),this.Sa.fP(u),C)){G=this.di.WC(C);J=y.ba[G.L];(null === J || void 0 === J?void 0:J.type) === n.gd.padding && (G={L:J.Gc,offset:d.K.wa});this.APa(C,x);this.Sa.vla(G,x,z);B.resume();}}finally{t.release();}};q.prototype.fP=function(u){var w,x;function t(){w.Yw=u.S_(w.Yw);}w=this;x=this.SC(u) || u;try{return (this.Sa.events.xrb("playgraphUpdating",t),this.Sa.fP(x));}finally{this.Sa.events.removeListener("playgraphUpdating",t);}};q.prototype.LI=function(u){u=n.dC.update(this.cc,u);return this.fP(u);};Object.defineProperties(q.prototype,{vc:{get:function(){return this.X5a;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{GQb:{get:function(){return this.Swa;},enumerable:!1,configurable:!0}});q.prototype.YH=function(u){var t,w,x,z;w=u.U;x=w.vc;w=w.Cp;z=null !== (t=this.bb.gEa) && void 0 !== t?t:[];if(w && z.some(function(y){return y == u.P;}))return (t=("").concat(u.P," was excluded from content playgraph"),this.ZBa.Ij(t),h.G && this.Wb.trace(t),!1);x && !this.X5a && (this.X5a=x,this.Swa=u.N);!this.Swa && w && (this.Swa=u.N);return !0;};q.prototype.Eg=function(u){this.Sa.Eg(u);};q.prototype.APa=function(){};c.__decorate([(0,e.ob)({methodName:"attachPlayer"})],q.prototype,"bx",null);c.__decorate([(0,e.ob)({methodName:"reevaluateInnerPlaygraph"})],q.prototype,"Mka",null);c.__decorate([(0,e.ob)({methodName:"processViewableResponse"})],q.prototype,"YH",null);c.__decorate([(0,e.ob)({methodName:"cancelStreaming"})],q.prototype,"Eg",null);return q;})();b.Jua=r;},57722:function(r,b,a){var n;function c(d,g){var e,f;e=n.__assign({},d);f=n.__read(g || [],1)[0];f && d[f] && (d=d[f],"object" === typeof d?(g=g.concat(),g.shift(),e[f]=c(d,g)):e[f]=d);return e;}Object.defineProperties(b,{__esModule:{value:!0}});b.se=function(d){return !(null === d || void 0 === d || !d.position);};b.gbc=function(d){return !(null === d || void 0 === d || !d.L) && !(null === d || void 0 === d || !d.offset);};b.y9b=function(d){return !(null === d || void 0 === d || !d.L) || !(null === d || void 0 === d || !d.segmentId);};b.sbc=function(d,g){return "string" === typeof d && !(!g.ud.Z.ba[d] && !g.Sa.Z.ba[d]);};b.yac=function(d){return !(null === d || void 0 === d || !d.N) && !(null === d || void 0 === d || !d.fl);};b.tac=function(d){return !(null === d || void 0 === d || !d.Pd);};b.DFa=function(d,g){var e;e=d;g.forEach(function(f){e=null === e || void 0 === e?void 0:e[f];});return e;};b.qBa=c;b.zrc=function(d,g,e){for(var f=0;f < g.length - 1 && d;f++)d=d[g[f]];return d?(d[g[g.length - 1]]=e,!0):!1;};n=a(5163);},54775:function(r,b,a){var c,n,d,g,e,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.oUa=void 0;c=a(90745);n=a(91176);d=a(66164);g=a(69575);e=a(40666);f=a(48170);l=a(65161);r=(function(){function h(k,m,p,v,q,u){this.ec=k;this.Hn=m;this.config=p;this.Thc=v;this.Fd=q;this.console=u;this.YDa=new c.mf();this.console=(0,g.xg)(d.platform,u,"BranchDecisionMaker");}h.B4b=function(k){var m;return null !== (m=k.Rb) && void 0 !== m?m:k.HN;};h.G5b=function(k){var m,p;m=k.Gc;p=k.pU;return m?m:p.length?p[0]:k.wA[0];};h.prototype.sRa=function(k,m){var p,v,q,u;p=this;q=k.M;f.G && this.console.trace(("tracking ").concat(k.M.id));this.reset();if(q.G7 || 1 >= q.wA.length && (null === (v=q.Xt) || void 0 === v || !v.length))f.G && this.console.trace(("").concat(k.M.id," does not need tracking"));else {u=this.eSb(k);v=u.KOa;m=m.lessThan(u.o$b);f.G && this.console.trace(("tracking ").concat(k.M.id),{L:q.id,yHc:m,VMc:null === v || void 0 === v?void 0:v.H});this.eqc(q,m?v:void 0);if(m)this.YDa.on(k.events,"branchEdited",function(){p.sRa(k,p.ec.Aa.currentTime);});}};h.prototype.Eab=function(){var k;null === (k=this.xcb) || void 0 === k?void 0:k.Ma();this.xcb=void 0;};h.prototype.reset=function(){this.Eab();this.YDa.clear();};h.prototype.eSb=function(k){var m,p;k=h.B4b(k);m=n.K.Pa(this.config.fU);p=n.K.Pa(this.config.Yfc + this.config.eU);m=k.ka(m);return {o$b:(0,l.zr)(this.Fd.value)?k.ka(p):m,KOa:m};};h.prototype.eqc=function(k,m){var p;p=this;this.Eab();this.xcb=m?this.ec.TC(e.Og.iw(m),function(){return p.Bmb(k);},"scheduled branch decision"):this.Hn.TC(e.Og.Kyc,function(){return p.Bmb(k);},"immediate branch decision");};h.prototype.Bmb=function(k){var m;this.YDa.clear();m=h.G5b(k);f.G && this.console.trace(("BranchDecisionMaker making decision for ").concat(k.id,", decision is ").concat(m));this.Thc(k.id,m,!0);};return h;})();b.oUa=r;},25510:function(r,b,a){var c,n,d,g,e,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.wUa=void 0;c=a(5163);n=a(91176);d=a(66164);g=a(65161);e=a(52571);f=a(61996);l=a(40666);r=(function(){function h(k,m,p,v,q,u,t){var w;void 0 === t && (t=500);w=this;this.console=k;this.config=m;this.Wc=p;this.events=v;this.E1=q;this.ec=u;this.ARb=t;this.YMa=this.IMa=this.qAa=0;this.pia=[];this.tS={ox:0};this.state=new n.us(g.wd.Bw);this.tf=new f.Sn({hg:10,Vj:this,source:"BufferStateTracker",b9a:function(){return {isBuffering:w.Zm};}});}Object.defineProperties(h.prototype,{ox:{get:function(){return this.tS.ox;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Zm:{get:function(){return (0,g.zr)(this.state.value);},enumerable:!1,configurable:!0}});h.prototype.YRa=function(k){var m;m=this;Array.isArray(k) || (k=[k]);k.forEach(function(p){p.mediaType === g.u.X && (m.G$a=c.__assign(c.__assign({},m.G$a),{audio:{trackId:p.trackId,trackIndex:p.FI}}));});};h.prototype.Aic=function(){this.IMa=d.platform.time.ya();};h.prototype.yU=function(k){this.set(g.wd.Bw);this.jQa(k,g.wd.lf);};h.prototype.mja=function(){this.tS.ox++;};h.prototype.l5=function(k){this.QM={Op:k.httpCode,Tg:k.errorCode,Uj:k.nativeCode};};h.prototype.wja=function(){this.QM=void 0;};h.prototype.Li=function(k){this.Zm || (this.jQa(k,g.wd.El),this.Zm && this.dcb());};h.prototype.Pic=function(k,m){this.state.value !== g.wd.lf && this.jQa(k,g.wd.qaa);this.YRa(m);};h.prototype.gic=function(k,m){var p;p=this;this.config.yRb && this.Zm && (-1 === this.pia.indexOf(k) && this.pia.push(k),2 === this.pia.length && Promise.resolve().then(function(){p.Zm && void 0 !== p.cB && p.al("memoryLimit",m.nW,m.oW);}));};h.prototype.jrc=function(k,m){(0,e.assert)(this.state.value === g.wd.lf && void 0 === this.cB);this.cB=k;m && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:m.trackId,trackIndex:m.FI}),this.YRa(m));};h.prototype.Drc=function(k,m,p){(0,e.assert)(this.Zm);this.PHa=null !== k && void 0 !== k?k:this.PHa;this.q3=null !== m && void 0 !== m?m:this.q3;this.uT=p || this.uT;};h.prototype.al=function(k,m,p){var v;(0,e.assert)(this.Zm && void 0 !== this.cB && void 0 === this.Nca && void 0 === this.Zma && void 0 === this.Iba);this.Nca=k;this.Zma=m;this.Iba=p;this.Xs=100;this.lBa();this.YCa();null === (v=this.aBa) || void 0 === v?void 0:v.Ma();this.state.value === g.wd.El && (this.YMa=d.platform.time.ya());this.R_b();this.set(g.wd.Qn);this.Iba=this.Zma=this.Nca=this.uT=this.q3=this.PHa=this.cB=void 0;};h.prototype.stop=function(){var k;this.set(g.wd.Bw);this.lBa();this.YCa();null === (k=this.aBa) || void 0 === k?void 0:k.Ma();};h.prototype.$Aa=function(k,m,p,v){var q,u,t,w,x,z,y,A,B,C;q=this;(0,e.assert)(this.Zm);null === (u=this.aBa) || void 0 === u?void 0:u.Ma();if(this.state.value === g.wd.El && d.platform.time.ya() < this.YMa + this.config.Pnb){x=this.config.Pnb - (d.platform.time.ya() - this.YMa);this.aBa=this.ec.TC(l.Og.tB(n.K.Pa(x)),function(){q.$Aa(k,m,p,v);});}else {u=p.CG(g.u.X);z=p.CG(g.u.V);y=d.platform.time.ya() - Math.max(this.qAa,this.IMa);if(u || z){A=function(D){return D?D.xv() || D.qo()?v.ada(q.state.value,k,y >= q.config.K5,m,D,q.ox):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};B=A(u);A=A(z);C=function(D){var E;return {reason:D.reason,complete:D.complete,bl:null !== (E=D.Ws) && void 0 !== E?E:0};};this.tf.Ij({as:C(B),vs:C(A),bt:y});C=z?A:B;C.kyc=z && A.Ws || 0;C.jQb=u && B.Ws || 0;B.complete && A.complete?(C.complete=!0,this.al(null !== (x=C.reason) && void 0 !== x?x:"unknown",null !== (t=C.kyc) && void 0 !== t?t:0,null !== (w=C.jQb) && void 0 !== w?w:0)):(C.complete=!1,this.dSb(C),this.tf.Ij({bp:this.Xs}));}}};h.prototype.dSb=function(k){var m,p,v;v=k.progress;k.n4?v=(d.platform.time.ya() - Math.max(this.qAa,this.IMa)) / this.config.K5:v || (v=(null !== (m=k.Ws) && void 0 !== m?m:0) / this.config.aq);k=Math.min(Math.max(Math.round(100 * v),null !== (p=this.Xs) && void 0 !== p?p:0),99);k != this.Xs && (this.Xs=k);};h.prototype.jQa=function(k,m){(0,e.assert)(m === g.wd.lf || void 0 !== k);this.cB=k;this.Xs=0;this.Wia=void 0;this.tS.ox=0;this.pia=[];k=this.state.value === g.wd.lf || this.state.value === g.wd.El;this.qAa=d.platform.time.ya();this.set(m);k || (this.T_b(),this.isc());};h.prototype.set=function(k){this.state.set(k);};h.prototype.T_b=function(){(0,e.assert)(this.events && void 0 !== this.Xs);this.Wia=this.Xs;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:d.platform.time.ya(),percentage:this.Xs});};h.prototype.isc=function(){var k;k=this;this.lBa();this.Wgc=this.ec.dCa(function(){return k.S_b();},n.K.Pa(this.ARb),"buffering-notification");};h.prototype.lBa=function(){var k;null === (k=this.Wgc) || void 0 === k?void 0:k.Ma();};h.prototype.S_b=function(){this.Zm && this.events && void 0 !== this.Xs && this.Xs !== this.Wia && this.events.emit("buffering",{type:"buffering",time:d.platform.time.ya(),percentage:this.Xs}) && (this.Wia=this.Xs);};h.prototype.R_b=function(){var k;(0,e.assert)(this.events && this.cB && void 0 !== this.Nca && void 0 !== this.Iba && void 0 !== this.Zma);this.Wia=this.Xs;k=c.__assign({type:"bufferingComplete",time:d.platform.time.ya(),actualStartPosition:this.cB,reason:this.Nca,aBufferLevelMs:this.Iba,vBufferLevelMs:this.Zma,selector:this.PHa,initBitrate:this.q3,initSelReason:this.uT},this.G$a);this.events.emit("bufferingComplete",k);};h.prototype.dcb=function(){var k;k=this;!this.tE || this.tE.state !== l.Rn.complete && this.tE.state !== l.Rn.pL?void 0 === this.tE && (this.tE=this.ec.nx(function(){return k.myb();},"underflow")):this.tE.Md();};h.prototype.YCa=function(){this.tE && (this.tE.state !== l.Rn.pL && this.tE.Ma(),this.tE=void 0);};h.prototype.myb=function(){var k,m,p;return c.__generator(this,function(v){switch(v.label){case 0:return (k=this.config.aia,this.console.trace(("BufferingStateTracker: starting underflow timer: ").concat(k,"ms")),[4,l.Og.tB(n.K.Pa(k))]);case 1:(v.va(),v.label=2);case 2:if(!this.Zm)return [3,4];m=this.Wc.jcc || 0;p=d.platform.time.ya() - m;if(p >= k)return (this.console.trace(("Forcing streaming failure, ").concat(p,"ms since data received")),this.E1.Zhc(this.QM),[2]);this.console.trace(("BufferingStateTracker: network activity, wait ").concat(k - p,"ms"));return [4,l.Og.tB(n.K.Pa(k - p))];case 3:return (v.va(),[3,2]);case 4:return [2];}});};c.__decorate([(0,f.ob)({methodName:"onTemporaryNetworkError",Sf:!0})],h.prototype,"l5",null);c.__decorate([(0,f.ob)({methodName:"onUnderflow",Sf:!0})],h.prototype,"Li",null);c.__decorate([(0,f.ob)({methodName:"bufferingComplete",Sf:!0})],h.prototype,"al",null);c.__decorate([(0,f.ob)({methodName:"stop",Sf:!0})],h.prototype,"stop",null);c.__decorate([(0,f.ob)({methodName:"checkStreamingBufferingComplete",Sf:!0})],h.prototype,"$Aa",null);c.__decorate([(0,f.ob)({methodName:"createUnderflowTask",Sf:!0})],h.prototype,"dcb",null);c.__decorate([(0,f.ob)({methodName:"destroyUnderflowTask",Sf:!0})],h.prototype,"YCa",null);c.__decorate([(0,f.ob)({methodName:"onUnderflowTimeout",Sf:!0})],h.prototype,"myb",null);return h;})();b.wUa=r;},56879:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.OWb=function(d){var l,h;function g(k){(0,n.zr)(k.newValue) && !(0,n.zr)(k.oldValue)?(null === h || void 0 === h?void 0:h.Ma(),h=l.TC.apply(l,c.__spreadArray([],c.__read(e),!1))):null === h || void 0 === h?void 0:h.Ma();}for(var e=[],f=1;f < arguments.length;f++)e[f - 1]=arguments[f];f=d.Of;l=d.Hn;f.state.addListener(g);g({oldValue:n.wd.Bw,newValue:f.state.value});};c=a(5163);n=a(65161);},78538:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ieb=function(n,d,g,e,f){var l,h;l=[];h=[];n=n.Oo.values.filter(function(k){return k.no;}).map(function(k){var m,p;m=d(k.R,g,e,f);p=m.map(function(v){return v.mediaType;});l=(0,c.a0)(l,p);p=(0,c.wp)(m,k.ca).map(function(v){return v.mediaType;});h=(0,c.a0)(h,p);p=(0,c.wp)(k.ca,m).map(function(v){return v.mediaType;});h=(0,c.a0)(h,p);return {Qa:k,ca:m};});return {fab:h,qRb:n,$Ob:l};};c=a(91176);},19455:function(r,b,a){var c,n,d,g,e,f,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.dXa=void 0;c=a(5163);n=a(45247);d=a(52571);g=a(65161);e=a(44284);f=a(14246);l=a(56841);h=a(8149);r=(function(k){function m(p,v,q,u,t){p=k.call(this,p,v,q,u,t) || this;v=(0,f.kGa)(p.config);p.qka=v.TU.bind(v);p.Zkb=new l.CY();return p;}c.__extends(m,k);m.prototype.rub=function(p,v,q,u,t,w,x,z,y){var A,B,C,D,E,F,G,J,N,I,M,K;B=[];C=w.track;if(!this.Yja(C,(0,h.$m)(C)?C.Ifa(u):void 0))return {stream:M,bB:B,reason:"locationSelectionFailure"};D=w.wq;E=w.QL;u=D.Gfa();F=w.mediaType;G=F === n.u.X;J=F === n.u.Ia;N=w;if((J || G) && !u){I=w.Qa.CG(n.u.V);N=I?I:N;}t=this.Ubb(p,v,t,N,!!y);v=this.Z5b(w,v,p,t.state,q,x,z,u);p=v.first;x=(null === x || void 0 === x?void 0:x.Zca) || (null === z || void 0 === z?void 0:z.Zca);if(0 === p.length && x)return {stream:void 0,bB:B,reason:"allStreamsFiltered"};!u || (null === (A=u.V2(C.mediaType)) || void 0 === A?0:A.equals(w.track)) || (u=this.H2b(u,p));if((J || G) && u){M=u.Ih(F);B=this.Khb(p,u);return {stream:M,bB:B};}A=D.EV(t,v,0,this.qka,N.oIa(),N.track.R.Oz,E);if(!A)return {stream:M,bB:B,reason:"streamSelectionFailure"};w={Uf:A.Uf,SH:A.SH};if(A.reason){K=A.reason;this.mab(F,p,q);}this.U_b(A,p);u=A.dd || p[0];D.xk(n.u.X).uO(u.Ih(n.u.X));D.xk(n.u.V).uO(u.Ih(n.u.V));B=this.Khb(p,u);M=u.Ih(F);q=A.fm;u=Array.from(new Set(p.map(function(L){return L.Ih(F);}).filter(function(L){return void 0 !== L;})));D=c.__assign(c.__assign({},A),{dd:M});return {stream:M,bB:B,uT:K,Xv:w,fm:q,Meb:u,vub:D};};m.prototype.Khb=function(p,v){var q;q=this.Lhb(p,v,n.u.X);p=this.Lhb(p,v,n.u.V);return c.__spreadArray(c.__spreadArray([],c.__read(q),!1),c.__read(p),!1);};m.prototype.Lhb=function(p,v,q){var u;p=p.map(function(t){return t.Ih(q);});u=v.Ih(q);return p.filter(function(t){var w;return void 0 !== t && t !== u && t.xq && !t.fa && !(null === (w=t.Ha) || void 0 === w?0:w.length);});};m.prototype.Z5b=function(p,v,q,u,t,w,x,z){var y,A,B,C,D,E;y=new e.Zqa();A=this.Ug(p.Qa.oM(n.u.V),q,t,p.Qa.Pd,p.Qa.fg,x);B=this.Ug(p.Qa.oM(n.u.X),q,t,p.Qa.Pd,p.Qa.fg,w);C=p.Qa.oM(n.u.Ia);D=this.mfa(p,v);A=this.Zkb.Ebb(this.config,this.qka,D,u,B,A,C,z);y.NK(A);v=p.Qa.Rb.ka(v);v=this.config.fia - v.H;for(A=p;0 < v;){E=this.navigator.next(A);if(null === E || void 0 === E || !E.fg)break;A=this.Ug(E.Qa.oM(n.u.V),q,t,E.Qa.Pd,E.Qa.fg,x);B=this.Ug(p.Qa.oM(n.u.X),q,t,p.Qa.Pd,p.Qa.fg,w);A=this.Zkb.Ebb(this.config,this.qka,D,u,B,A,C,z);y.NK(A);v-=E.Qa.M.Ob.H;A=E;}return y;};m.prototype.H2b=function(p,v){var q;q=v[0];v.filter(function(u){return u.Er;}).every(function(u){return u.Uu && u.ds && p.Uu && p.ds && u.Uu <= p.Uu && u.ds <= p.ds?(q=u,!0):!1;});return q;};m.prototype.ada=function(p,v,q,u,t,w,x){var z,y,A;if(!(0,g.zr)(v))return {complete:!0,reason:"playing"};if(!w.UMa)return {complete:!1,reason:"unknown"};if(w.Ipb)return ((0,d.assert)(w.Fja),w.Fja);z=w.wq;y=this.mfa(w,q);A=z.Gfa();q=y.Mj - y.sd;if(q < this.config.aq || void 0 === A)return {complete:!1,Ws:q,reason:"preBuf"};if(w.mediaType === n.u.X)return {complete:!0,Ws:q,reason:"audio"};if(p=p.ZAa(w.mediaType))return {complete:!0,Ws:q,reason:p};this.Yja(w.track);w=new e.Zqa();w.NK([A]);z.M5(w,(0,g.JMa)(v),y,this.qka);v=z.Az(y,v,t,A,{ox:x});if(!v.complete && u)return {complete:!0,reason:"prebufferTimeLimit",Ws:q};v.Ws=q;return v;};m.prototype.I7b=function(p,v){var q;return c.__assign(c.__assign({},v),{dd:null === (q=v.dd) || void 0 === q?void 0:q.Ih(p)});};m.prototype.f8b=function(p,v){return Array.from(new Set(v.map(function(q){return q.Ih(p);}).filter(function(q){return void 0 !== q;})));};m.prototype.U_b=function(p,v){var q;q=this;v[0].X1(function(u){var t,w;t=q.f8b(u.mediaType,v);w=q.I7b(u.mediaType,p);q.events.emit("streamSelection",{type:"streamSelection",mediaType:u.mediaType,result:w,streamList:t});});this.events.emit("jointStreamSelection",{type:"jointStreamSelection",result:p,streamList:v});};return m;})(a(54477).nqa);b.dXa=r;},94328:function(r,b,a){var c,n,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Yxc=function(e,f){e=e.ba[f.L];if(void 0 === e)return {BT:!1,reason:("Segment ").concat(f.L," was not found")};if(0 > f.offset.H)return {BT:!1,reason:("Offset ").concat(f.offset.H," was negative")};if(void 0 === e.yb || null === e.yb || Infinity === e.yb)return {BT:!0};e=e.yb - e.rb;return f.offset.H >= e?{BT:!1,reason:("Offset ").concat(f.offset.H," was greater than segment duration ").concat(e)}:{BT:!0};};b.N8b=function(e,f){if(e === f)return !0;if(e && f && e.L === f.L){if(e.offset === f.offset)return !0;e=c.K.abs(e.offset.ka(f.offset));if(g.greaterThan(e))return !0;}return !1;};b.lq=function(e,f,l){var h,k,p;h=f.Da;f=f.Q$b;void 0 === l && (l={});h=h.cc;k=(null === f || void 0 === f?0:f.id)?h.get(null === f || void 0 === f?void 0:f.id):h.initial;(0,n.assert)(k,"initialSegment must be found in workingPlaygraph");f=(null === f || void 0 === f?void 0:f.Aqc) || (null === k || void 0 === k?void 0:k.Db);if(f.greaterThan(e))return l.mtc?{offset:e.ka(f),L:k.id}:void 0;k=h.zD.uG(k.id);for(var m=k.next();!m.done;){h=m.value;p=f;f=p.add(h.Ob);if(f.greaterThan(e))return (e=e.ka(p),d.G && (0,n.assert)(e.eg(c.K.wa) && e.lessThan(h.Ob)),{L:h.id,offset:e});m=k.next();if(m.done && l.ntc)return {L:h.id,offset:e.ka(p)};}};b.zab=function(e,f){f=f.get(e.L);(0,n.assert)(f,"workingSegment must exist in workingPlaygraph for the position to clamp");f=f.yab(e.offset);return {Aab:f,cv:e.offset.ka(f)};};b.Xtb=function(e,f){e=e.ba[f.L];if(void 0 !== e)return null === e.yb || void 0 === e.yb?{L:f.L,offset:c.K.max(c.K.wa,f.offset)}:{L:f.L,offset:c.K.max(c.K.wa,c.K.min(f.offset,c.K.Pa(e.yb - e.rb)))};};c=a(91176);n=a(52571);d=a(48170);g=c.K.Pa(100);},54477:function(r,b,a){var c,n,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.nqa=void 0;r=a(5163);c=a(66164);n=a(65161);d=r.__importDefault(a(40497));g=a(37191);a=(function(){function e(f,l,h,k,m){this.config=f;this.dtc=l;this.navigator=h;this.events=k;this.console=m;}e.prototype.Ug=function(f,l,h,k,m,p){return p?p.Ug(f,l,h.ka(k),m):f;};e.prototype.W_b=function(f,l,h){this.events.emit("streamSelection",{type:"streamSelection",mediaType:f,result:l,streamList:h});};e.prototype.V_b=function(f,l,h,k){f={type:"maxVideoBitrateChanged",time:c.platform.time.ya(),streaming:k,maxvb_old:f,maxvb:l,reason:h};this.events.emit(f.type,f);};e.prototype.Yja=function(f,l){return f.R.Ji.Rma(f.R.N,f.Td,l);};e.prototype.mfa=function(f,l){var z;for(var h,k=l.ka(this.dtc),m=[],p=f,v=l,q,u,t=0,w=0,x=!0;p;){z=p.vgb(k);if(!x && !p.cj)break;0 < z.Ha.length && (v=z.Ha[0].Hb,void 0 === q && (q=z.Ha[z.Ha.length - 1].Rb,u=z.Rja >= z.Ha.length?q:z.Ha[z.Rja].Hb),m=z.Ha.concat(m),t+=0 < z.Kv?z.Kv:0,w+=z.iV);p=this.navigator.parent(p);x=!1;}return {Xu:c.platform.ZS()[f.mediaType],ub:Math.floor(v.H),sd:l.H,Kk:Math.floor(null !== (h=null === q || void 0 === q?void 0:q.H) && void 0 !== h?h:l.H),Mj:Math.floor(u?u.H:l.H),Mo:m.reduce(function(y,A){return y + A.la;},0),Kv:t,iV:w,OIc:m.length,Ha:m};};e.prototype.Ubb=function(f,l,h,k,m){var p,v,q,u;f=(0,n.JMa)(f);p=this.mfa(k,l);v=k.mediaType === n.u.V?this.config.rSa:this.config.Mza;q=d.default.instance();u=g.e$.SFa(q.Q2(),this.config,this.console);l={state:f,bH:f === n.Sb.yf,Ce:k.It,playbackRate:h,buffer:p,mea:v,hS:m,Fj:null === q || void 0 === q?void 0:q.Fj,mediaType:k.mediaType,sd:l.H,GNa:0,Ak:u};this.lxc(l,void 0 !== k.wq.Jk.kl);return l;};e.prototype.mab=function(f,l,h){var p,v;if(f === n.u.V){f="manifest";for(var k=0,m=l.length - 1;0 <= m;--m){p=l[m];v=p.bitrate;if(p.yD){k=Math.max(k,v);break;}else p.Rp?p.aA && (f="hf"):f="av";}this.mnb !== k && (this.V_b(this.mnb,k,f,h),this.mnb=k);}};e.prototype.lxc=function(f,l){switch(f.state){case n.Sb.lf:case n.Sb.El:case n.Sb.yf:case n.Sb.vi:if(l)break;f.state=n.Sb.Pn;case n.Sb.Pn:l && (f.state=n.Sb.lf);}};return e;})();b.nqa=a;},28696:function(r,b,a){var c,n,d,g,e,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.eXa=void 0;c=a(5163);n=a(45247);d=a(65161);g=a(14246);e=a(44284);f=a(52571);l=a(8149);r=(function(h){function k(m,p,v,q,u){m=h.call(this,m,p,v,q,u) || this;p=(0,g.kGa)(m.config);m.Gla=p.Gla.bind(p);m.MPa=p.MPa.bind(p);m.iFa=p.iFa.bind(p);m.KGa=p.KGa.bind(p);m.orb=[p.nrb.bind(p),p.TU.bind(p)];return m;}c.__extends(k,h);k.prototype.rub=function(m,p,v,q,u,t,w,x,z){var y,A,B,C,D,E,F;y=[];A=t.mediaType === n.u.X?w:x;w=t.track;if(!this.Yja(w,(0,l.$m)(w)?w.Ifa(q):void 0))return {stream:B,bB:y,reason:"locationSelectionFailure"};u=this.Ubb(m,p,u,t,!!z);z=t.wq;q=z.Jk;x=t.QL;B=q.kl;C=this.t8b(t,p,m,v,A);m=C.first;if(0 === m.length && (null === A || void 0 === A?0:A.Zca))return {stream:void 0,bB:y,reason:"allStreamsFiltered"};B && !B.track.equals(w) && (B=this.I2b(B,m));A=t.mediaType;if((p=A === n.u.X) && B && !this.Hsc(q,B))return (this.config.iib && this.Gla(B.bitrate),{stream:B,bB:y});D=this.orb[A];E=p?this.KGa():this.iFa();t=z.EV(u,C,E,D,t.oIa(),w.R.Oz,x);if(!t)return {stream:B,bB:y,reason:"streamSelectionFailure"};w={Uf:t.Uf,SH:t.SH};if(t.reason){F=t.reason;this.mab(A,m,v);}this.W_b(A,t,m);B=t.dd || m[0];v=B.bitrate;p?this.config.iib && this.Gla(v):this.MPa(v);q.uO(B);y=m.filter(function(G){var J;return G !== B && G.xq && !G.fa && !(null === (J=G.Ha) || void 0 === J?0:J.length);});return {stream:B,bB:y,uT:F,Xv:w,fm:t.fm,Meb:m,vub:t};};k.prototype.t8b=function(m,p,v,q,u){var t;t=new e.gwa();t.NK(this.Ug(m.track.Td,v,q,m.Qa.Pd,m.fg(),u));p=m.Qa.Rb.ka(p);for(p=this.config.fia - p.H;0 < p;){m=this.navigator.next(m);if(null === m || void 0 === m || !m.fg)break;t.NK(this.Ug(m.track.Td,v,q,m.Qa.Pd,m.fg(),u));p-=m.Qa.M.Ob.H;}return t;};k.prototype.Hsc=function(m,p){return 0 < this.config.yq.length?!0:(m=m.ET) && m === p.location?!1:!0;};k.prototype.I2b=function(m,p){var v;v=p[0];p.filter(function(q){return q.Er;}).every(function(q){return q.bitrate <= m.bitrate?v=q:!1;});return v;};k.prototype.ada=function(m,p,v,q,u,t,w){var x,z,y;if(!(0,d.zr)(p))return {complete:!0,reason:"playing"};if(!t.UMa)return {complete:!1,reason:"unknown"};if(t.Ipb)return ((0,f.assert)(t.Fja),t.Fja);x=t.wq;z=x.Jk;v=this.mfa(t,v);y=z.kl;z=v.Mj - v.sd;if(z < this.config.aq || void 0 === y)return {complete:!1,Ws:z,reason:"preBuf"};if(t.mediaType === n.u.X)return {complete:!0,Ws:z,reason:"audio"};if(m=m.ZAa(t.mediaType))return {complete:!0,Ws:z,reason:m};this.Yja(t.track);m=new e.gwa();m.NK([y]);x.M5(m,(0,d.JMa)(p),v,this.orb[t.mediaType]);p=x.Az(v,p,u,y,{ox:w});if(!p.complete && q)return {complete:!0,reason:"prebufferTimeLimit",Ws:z};p.Ws=z;return p;};return k;})(a(54477).nqa);b.eXa=r;},41456:function(r,b,a){var c,n,d,g,e,f;Object.defineProperties(b,{__esModule:{value:!0}});b.s_a=void 0;c=a(5163);n=a(90745);d=a(91176);g=a(61996);e=a(48170);f=a(40666);r=(function(){function l(h,k,m){this.Lkc=h;this.config=k;this.console=m;this.Oga=new n.mf();this.sm=new Map();this.events=new n.EventEmitter();this.iu=new g.Sn({Vj:this,source:"media-events-manager",hg:10,console:m});}l.prototype.vGa=function(h){return h.sH;};Object.defineProperties(l.prototype,{enabled:{get:function(){return this.config.zea;},enumerable:!1,configurable:!0}});l.prototype.sN=function(h){var k,m;k=this;if(this.enabled && h.fa && this.sm.get(h.N) !== h){m=this.vGa(h);if(m)return (e.G && this.console.trace("MediaEventsManager","onViewableReceived",h.N),this.Oga.addListener(m.events,"modelUpdated",function(p){(p.cSa.has("breakstart") || p.cSa.has("breakend")) && k.events.emit("adsUpdated",{R:h});}),this.Oga.addListener(h.events,"destructed",function(){k.sm.delete(h.N);}),this.Oga.addListener(m.events,"progress",function(p){k.qI && k.events.emit("mediaEventsProgress",{R:h,Ga:p.Ga});}),this.sm.set(h.N,h),!!m.model.Sc.length);}};l.prototype.yU=function(){this.qI && this.ZCa();};l.prototype.OS=function(h){if(this.enabled){if(h=this.vGa(h))return (h.model.Sc || []).map(function(k){var m;m=k.location;return {location:m,gn:m.H,fq:m,cs:m.H,qg:[],Lba:{},duration:k.duration,type:"embedded",yn:k.yn};});e.G && this.console.debug("No store found for viewable - not returning ads");}else e.G && this.console.debug("MediaEventsManager disabled - not returning ads");};l.prototype.ugc=function(h,k,m){var p,v;p=this.sm.get(h);if(p){v=k.ka(d.K.Pa(this.config.hdc)).ka(m);if(this.qI){(0,d.assert)(this.eQa,"Skip offset must be set if skip task is set");if(this.eQa.dn(v))return;this.ZCa();}e.G && this.console.trace("MediaEventsManager: needsMediaEvents starting skip task",h,k,m,v);this.WXb(p,v);}};l.prototype.WXb=function(h,k){var m;m=this;(0,d.assert)(!this.qI,"Skip task must not be set when creating a new one");this.qI=this.Lkc.nx(function(){return m.gtc(h,k);},"media-events-skipper");this.eQa=k;};l.prototype.ZCa=function(){var h;(0,d.assert)(this.qI,"Skip task must be set when destructing it");null === (h=this.qI) || void 0 === h?void 0:h.Ma();this.eQa=this.qI=void 0;};l.prototype.Ma=function(){this.qI && this.ZCa();this.Oga.clear();this.sm.clear();};l.prototype.gtc=function(h,k){var m,p,v;return c.__generator(this,function(q){switch(q.label){case 0:(m=this.vGa(h),(0,d.assert)(m,"Store must be present"),e.G && this.console.trace(("MediaEventsManager: starting skip task for viewable ").concat(h.N," ") + ("with skip offset ").concat(k.Ka())),q.label=1);case 1:if(m.complete)return [3,3];p=m.Wx;v=p.add(k);e.G && this.console.trace(("MediaEventsManager: waiting until ").concat(v.Ka()," ") + ("to skip media events at ").concat(p.Ka()));return [4,f.Og.iw(v)];case 2:return (q.va(),m.Bib(p) || (e.G && this.console.trace(("MediaEventsManager: skipping at ").concat(p.Ka())),m.ftc(p)),[3,1]);case 3:return [2];}});};c.__decorate([(0,g.ob)({methodName:"getAds",return:!0,Sf:!0})],l.prototype,"OS",null);return l;})();b.s_a=r;},76452:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.w_a=void 0;c=a(5163);n=a(90745);d=a(91176);g=a(91562);e=a(66164);f=a(48170);l=a(8149);h=a(61996);k=a(54366);m=a(45173);p=a(12381);r=(function(){function v(q,u,t,w){var x,z,y,A,B,C,D;x=this;this.R=u;this.config=t;this.YT=w;this.model={Sc:[]};this.Sc=new Map();this.OH=new d.HJ([],function(E,F){return E.ii - F.ii;});this.oF=d.K.Snb;this.dr=new p.p_a();(0,d.assert)(u.fa,"MediaEventsStore requires live Viewable");this.events=new n.EventEmitter();w=d.K.wa;this.console=new e.platform.Console("MEDIAEVENTSSTORE","asejs",("[").concat(this.R.P,"]"));this.iu=new h.Sn({Vj:this,source:"media-events-store",hg:10,console:this.console});this.R.Ef.rd(new k.ep(this.iu));if(this.YT){this.Jrb();B=this.YT;C=B.zYb;D=B.YQb;(B=B.O) && C >= D && (w=d.K.Pa(C - D).Yc(B));f.G && this.console.log("processed history: cutoffTimeMs",C,"baseTimeMs",D,"startContentTimestamp",w.toString());}else f.G && this.console.log("no media events history");void 0 === this.model.R5 && (this.Ur=new m.q_a(q,u,t,this.mkb.bind(this),this.dr),this.Ur.events.on("mediaEventsReceived",function(E){var F;x.OH.push(E);x.process();x.complete && (null === (F=x.Ur) || void 0 === F?void 0:F.Ma());}),this.Ur.events.on("eosReceived",function(){var E;null === (E=x.Ur) || void 0 === E?void 0:E.Ma();}));null !== (z=this.R.Xp.XDa) && void 0 !== z && z.isFinite()?void 0 === this.model.R5 && (q=this.R.Xp.cEa,void 0 !== q && (w=d.K.max(w,q))):w=d.K.max(w,d.K.Pa(this.R.aM() - t.fdc));this.R.events.on("urlsUpdated",function(){var E;null === (E=x.Ur) || void 0 === E?void 0:E.h8(x.kn);});this.start(w);f.G && this.Ur && this.console.log("" + ("starting retrieval at segment ").concat(this.kn,", ") + ("startSegmentNumber: ").concat(this.stream.track.zn,", ") + ("startContentTimestamp: ").concat(w.Ka(),", eventStartContentTimestamp: ") + ("").concat(null === (y=this.R.Xp.cEa) || void 0 === y?void 0:y.Ka(),", ") + ("eventEndContentTimestamp: ").concat(null === (A=this.R.Xp.XDa) || void 0 === A?void 0:A.Ka(),", ") + ("cushionedLiveEdge: ").concat(this.R.aM(),", ") + ("averageSegmentDuration: ").concat(this.stream.track.Ll.Ka()));}Object.defineProperties(v.prototype,{Wx:{get:function(){return this.oF;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{complete:{get:function(){return this.mkb(this.Wx);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{track:{get:function(){var q;q=this.R.getTracks(g.u.Kn)[0];(0,d.assert)((0,l.$m)(q),"MediaEventsStore: track is not live");return q;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{stream:{get:function(){return this.track.Td[0];},enumerable:!1,configurable:!0}});v.prototype.Bib=function(q){var u;if(this.complete || this.Wx.greaterThan(q))return (f.G && this.console.trace("" + ("hasMediaEvents ").concat(q.Ka()," returns true")),!0);u=q.ka(d.K.Pa(this.config.gdc));f.G && this.console.trace(("hasMediaEvents ").concat(q.Ka()," returns false,") + (" cutoff (").concat(this.Wx.Ka(),")") + (" catchup (").concat(u.Ka(),")"));this.Wx.lessThan(u) && (f.G && this.console.trace(("catchup to ").concat(u.Ka())),this.Md(u));return !1;};v.prototype.ftc=function(q){!this.complete && this.Wx.dn(q) && (q=q.add(this.track.Ll),f.G && this.console.trace(("skip to ").concat(q.Ka())),this.Md(q));};v.prototype.start=function(q){q=Math.floor(q.Oe(this.stream.track.Ll));this.kn=q + this.stream.track.zn;this.oF=this.stream.track.Ll.yg(q);this.Ur && ((0,d.assert)(!this.Ur.Kh,"retrieval service should not be running at start"),this.Ur.start(this.kn));};v.prototype.Md=function(q){var u,t;q=Math.floor(q.Oe(this.stream.track.Ll));u=this.kn;t=q + this.stream.track.zn;t > u && (this.kn=t,this.oF=this.stream.track.Ll.yg(q));this.Ur && (this.Ur.Kh?t > u && this.Ur.Md(this.kn):this.Ur.start(this.kn));this.process();};v.prototype.mkb=function(q){return this.model.R5?!0:q.eg(this.R.Xp.euc);};v.prototype.process=function(){var q,u,t,w,x,z,y,A,B,E,F;B=new Set();null !== (t=this.kn) && void 0 !== t?t:this.kn=this.stream.track.zn;t=!1;for(f.G && this.console.log("Starting process loop",{ii:this.kn,X2b:null === (w=this.OH.iq()) || void 0 === w?void 0:w.ii,kkc:this.OH.length,yYb:this.oF.toString()});0 < this.OH.length;)if((w=this.OH.iq(),(null === w || void 0 === w?void 0:w.ii) === this.kn)){w.events.length?f.G && this.console.log("Adding media events",{ii:this.kn,next:w}):f.G && this.console.debug("Empty media events",{ii:this.kn,next:w});try{for(var C=(q=void 0,c.__values(null === w || void 0 === w?void 0:w.events)),D=C.next();!D.done;D=C.next()){E=D.value;if(this.YT){F=this.YT.O;E.presentationTime=E.presentationTime.Yc(F);E.uS=E.uS?E.uS.Yc(F):void 0;}this.Sya(E) && B.add(E.type);}}catch(G){q={error:G};}finally{try{D && !D.done && (u=C.return) && u.call(C);}finally{if(q)throw q.error;}}this.oF=d.K.max(this.Wx,w.Ga);t=!0;this.kn++;this.OH.pop();}else if((null !== (x=null === w || void 0 === w?void 0:w.ii) && void 0 !== x?x:0) < this.kn)(f.G && this.console.warn("Dropping old media event",{SLc:this.kn,sIc:null === w || void 0 === w?void 0:w.ii}),this.OH.pop(),null === (z=this.dr) || void 0 === z?void 0:z.eic(null !== (y=null === w || void 0 === w?void 0:w.ii) && void 0 !== y?y:0));else break;0 < B.size && this.events.emit("modelUpdated",{type:"modelUpdated",cSa:B});t && (f.G && this.console.trace("" + ("progress to ").concat(this.oF.Ka())),this.events.emit("progress",{type:"progress",Ga:this.oF}));f.G && this.console.log("Exiting process loop",{ii:this.kn,X2b:null === (A=this.OH.iq()) || void 0 === A?void 0:A.ii,yYb:this.oF.toString(),qLc:t});};v.prototype.Jrb=function(){var q,u,t,w,x;q=this;if(this.YT){u=this.YT;t=u.kfc;w=u.O;if(t.length){x=new Set();t.forEach(function(z){var y,A;y=new d.K(z.timestamp,w);A=void 0 !== z.duration?new d.K(z.duration,w):void 0;q.Sya({type:z.type,presentationTime:y,uS:A,yn:z.yn});x.add(z.type);});x.size && this.events.emit("modelUpdated",{type:"modelUpdated",cSa:x});this.iu.Ij({store:this.model});}}};v.prototype.Sya=function(q){var u,t,w,x,z,y,A;x=!1;z=q.mqc;y=(null === z || void 0 === z?void 0:z.Ala) || q.yn;A=q.presentationTime.ga;this.console.debug("Processing event",{id:A,qcc:this.Wx,event:q});if(void 0 !== this.model.Orb || "programstart" === q.type)switch(q.type){case "breakstart":case "adbreak":if(q.presentationTime.lessThan(this.Wx))break;if((u=this.Sc.get(A)) && u.location.equal(q.presentationTime) && u.duration.equal(q.uS || d.K.wa) && u.yn === y)break;this.C8a(A,q,z);x=!0;break;case "cancel":u=this.model.Sc.filter(function(B){return B.lqc === (null === z || void 0 === z?void 0:z.id) && B.yn === y;}).sort(function(B,C){return B.location.el(C.location);});if(0 === u.length)break;u=u[u.length - 1];if(u.location.add(u.duration).lessThan(q.presentationTime))break;x=this.x5(q,u,A);break;case "programend":null !== (u=this.model.R5) && void 0 !== u && u.PBa.equal(q.presentationTime) || (this.console.debug("Setting program end",q.presentationTime),this.model.R5={PBa:q.presentationTime},x=!0);break;case "programstart":null !== (t=this.model.Orb) && void 0 !== t && t.PBa.equal(q.presentationTime) || (this.console.debug("Setting program start",q.presentationTime),this.model.Orb={PBa:q.presentationTime},x=!0);}x && (this.model.Sc=Array.from(this.Sc.values()));this.iu.Ij({store:this.model,QHc:x,type:q.type});null === (w=this.dr) || void 0 === w?void 0:w.Rhc(q.type,x,q.presentationTime);return x;};v.prototype.x5=function(q,u,t){var w;w=!1;q=q.presentationTime.ka(u.location);q.equal(d.K.wa)?(this.console.debug("Deleting event",t),this.iu.Ij({deleting:!0}),this.Sc.delete(parseInt(u.id)),w=!0):q.b5(u.duration) && (this.console.debug("Updating event",{id:t,OLc:q}),this.iu.Ij({adjusting:q}),this.Sc.set(parseInt(u.id),{id:u.id,duration:q,location:u.location,yn:u.yn}),w=!0);return w;};v.prototype.C8a=function(q,u,t){var w;w=(null === t || void 0 === t?void 0:t.Ala) || u.yn;this.console.debug("Upserting event",q);this.Sc.set(q,{id:("").concat(q),duration:u.uS || d.K.wa,location:u.presentationTime,yn:w,lqc:null === t || void 0 === t?void 0:t.id});};v.prototype.Ma=function(){var q;null === (q=this.Ur) || void 0 === q?void 0:q.Ma();};c.__decorate([(0,h.ob)({methodName:"processMediaEventsHistory",Sf:!0})],v.prototype,"Jrb",null);c.__decorate([(0,h.ob)({methodName:"addEvent",Sf:!0})],v.prototype,"Sya",null);c.__decorate([(0,h.ob)({methodName:"performCancel",Sf:!0,Km:!0})],v.prototype,"x5",null);c.__decorate([(0,h.ob)({methodName:"addAdBreak",Km:!0})],v.prototype,"C8a",null);c.__decorate([(0,h.ob)({methodName:"destruct"})],v.prototype,"Ma",null);return v;})();b.w_a=r;},28057:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.u_a=void 0;r=(function(){function a(c){this.dr=c;this.wc=this.jn=a.wc;}Object.defineProperties(a.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});a.prototype.Hh=function(){return this.dr.C7b();};a.wc="media-events";return a;})();b.u_a=r;},12381:function(r,b,a){var c,n,d,g,e,f;Object.defineProperties(b,{__esModule:{value:!0}});b.p_a=b.XDb=void 0;c=a(5163);n=a(91176);d=a(35536);g=a(94258);e=[50,100,150,200,250,300,500,1E3,2E3,1E4];f=(function(){function l(h){this.size=h;this.ax=[];}l.prototype.push=function(h){for(this.ax.push(h);this.ax.length >= this.size;)this.ax.shift();};l.prototype.uj=function(){return this.ax;};return l;})();b.XDb=f;r=(function(){function l(){this.state={m8a:new n.Xf(),o8a:0,geb:new n.Xf(),qHa:{},$ib:new g.uQ(e),cub:new n.Xf(),OOa:{},Owb:new n.Xf(),oyb:0,h8:0,mub:0,qub:new f(10),qlb:new f(10)};}l.prototype.pic=function(h){this.state.Owb.push(h);};l.prototype.oic=function(h){this.state.geb.push(h);};l.prototype.nic=function(h){this.state.m8a.push(h);};l.prototype.Vvc=function(h){c.__awaiter(this,void 0,void 0,function(){var k,m,p,v,q;return c.__generator(this,function(u){switch(u.label){case 0:(k=new d.uZ(),k.start(),u.label=1);case 1:return (u.Ke.push([1,3,,4]),[4,h]);case 2:return (m=u.va(),k.stop(),this.state.$ib.push(k.duration),[3,4]);case 3:return (p=u.va(),(0,n.Rga)(p)?this.state.o8a++:this.state.oyb++,[2]);case 4:return (m.ok || (v=null !== (q=this.state.qHa[m.status]) && void 0 !== q?q:0,this.state.qHa[m.status]=v + 1),[2]);}});});};l.prototype.Qic=function(){this.state.h8++;};l.prototype.eic=function(h){this.state.mub++;this.state.qub.push(h);};l.prototype.Rhc=function(h,k,m){var p,v;v=null !== (p=this.state.OOa[h]) && void 0 !== p?p:0;this.state.OOa[h]=v + 1;k && this.state.qlb.push({eventType:h,presentationTimeS:m.Ch});};l.prototype.qic=function(h){this.state.cub.push(h);};l.prototype.C7b=function(){return {httpLatencyBuckets:this.state.$ib,unhandledExceptions:this.state.oyb,abortsCount:this.state.o8a,httpErrorCounts:this.state.qHa,successAttemptsCounts:this.state.Owb,scheduledDelay:this.state.cub,errorAttemptsCounts:this.state.geb,abortAttemptsCounts:this.state.m8a,scteEventsReceivedCounts:this.state.OOa,urlsChanged:this.state.h8,segmentDroppedEvents:this.state.mub,segmentsDropped:this.state.qub.uj(),lastEventsAdded:this.state.qlb.uj()};};return l;})();b.p_a=r;},45173:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.q_a=void 0;c=a(5163);n=a(61996);d=a(44053);r=(function(g){function e(f,l,h,k,m){var p;p=g.call(this,f,l,h,k,m) || this;p.rnb=new d.v_a(l,h,p.console,fetch,m);p.rnb.events.on("eosReceived",function(v){p.events.emit("eosReceived",v);});p.g2b=p.rnb.x5b();return p;}c.__extends(e,g);e.prototype.peb=function(f,l){return c.__awaiter(this,void 0,void 0,function(){var h,k,m,p,v,q;return c.__generator(this,function(u){switch(u.label){case 0:h=this.stream;k=this.R.Ji;m=k.Rma(this.track.R.N,this.track.Td,this.track.Ifa(l.Ba));this.VM=this.stream.pc;if(!m)throw Error("Unable to perform location selection");p=h.lM(l.De,l.ii);return [4,this.g2b(l)(p,{signal:f})];case 1:v=u.va();!1;if(!v.ok)throw Error(("Failed to fetch media events: ").concat(v.status));return [4,v.arrayBuffer()];case 2:return (q=u.va(),[2,q]);}});});};e.prototype.h8=function(f){var l;null === (l=this.dr) || void 0 === l?void 0:l.Qic();l=this.stream.track.vx(f).Ba;this.R.Ji.Rma(this.track.R.N,this.track.Td,this.track.Ifa(l));this.stream.pc !== this.VM && (this.yya.Ij({url:this.stream.pc,out:this.FU,segmentIndex:this.ii}),this.Md(f));};c.__decorate([(0,n.ob)({methodName:"urlsChanged",Sf:!0})],e.prototype,"h8",null);return e;})(a(85981).r_a);b.q_a=r;},85981:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.r_a=void 0;c=a(5163);n=a(90745);d=a(91176);g=a(91562);e=a(66164);f=a(91176);l=a(40666);h=a(99548);k=a(8149);m=a(61996);p=a(54366);r=(function(){function v(q,u,t,w,x){this.HW=q;this.R=u;this.config=t;this.mvc=w;this.dr=x;this.events=new n.EventEmitter();this.ii=0;this.Ga=d.K.wa;this.Ar=!1;this.console=new e.platform.Console("MEDIAEVENTS_FETCHER","asejs",("[").concat(this.R.P,"]"));this.JA=new f.AbortController();this.vy=new d.eqa(this.console,{hg:10,Sza:!0});this.yya=new m.Sn({Vj:this,source:"media-events-provider",hg:10,console:this.console});this.R.Ef.rd(new p.ep(this.yya));}Object.defineProperties(v.prototype,{Kh:{get:function(){var q;return !(null === (q=this.L1) || void 0 === q || !q.eA);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{track:{get:function(){var q;q=this.R.getTracks(g.u.Kn)[0];(0,d.assert)((0,k.$m)(q),"MediaEventsFetchProviderBase: track is not live");return q;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{stream:{get:function(){return this.track.Td[0];},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{FU:{get:function(){return this.vy.MA;},enumerable:!1,configurable:!0}});v.prototype.nga=function(){return !this.Ar && !this.mvc(this.Ga);};v.prototype.e2b=function(){var q,u,t,w,x,z,y,A;return c.__generator(this,function(B){switch(B.label){case 0:((0,d.assert)((0,k.bm)(this.stream),"MediaEventsFetchProviderBase: stream is not live"),this.console.log("Fetch task: starting",{HJc:this.nga(),aMc:this.FU}),void 0 === this.Oib && (this.console.log("Fetch task: queuing header request"),this.Oib=this.W8a(!0).item),q=20,B.label=1);case 1:if(!(this.nga() && this.FU < q))return [3,3];u=this.stream.track.vx(this.ii);t=u.Ga;w=u.Ba;x=this.R.aM();z=Math.max(0,t.H - x);return [4,l.Og.tB(d.K.Pa(z))];case 2:return (B.va(),y=t.H - x,null === (A=this.dr) || void 0 === A?void 0:A.qic(y),this.W8a(!1,this.ii,w,t),this.Ga=t,this.ii++,[3,1]);case 3:return (this.nga || this.console.log("Fetch task: complete"),this.console.log("Fetch task: exiting"),[2]);}});};v.prototype.W8a=function(q,u,t,w){var x,z,y;x=this;(0,d.assert)(q || void 0 !== u && void 0 !== w && void 0 !== t,"segmentIndex must be defined if not a header request");z=new d.Faa();z.JQa(this.JA.signal);y=z.bj.signal;return this.vy.add({Iya:y,Zjb:function(){return c.__awaiter(x,void 0,void 0,function(){var A,B;return c.__generator(this,function(C){switch(C.label){case 0:return (C.Ke.push([0,,5,6]),q?[4,this.Dmb(y)]:[3,2]);case 1:return [2,C.va()];case 2:return [4,this.Emb(y,u,t,w)];case 3:return [2,C.va()];case 4:return [3,6];case 5:return ((null === (A=this.L1) || void 0 === A?0:A.eA) || !this.nga() || this.Ar?!1:null === (B=this.L1) || void 0 === B?void 0:B.Md(),[7]);case 6:return [2];}});});},priority:u || 0});};v.prototype.Dmb=function(q){return c.__awaiter(this,void 0,void 0,function(){var u,t,w,x;return c.__generator(this,function(z){switch(z.label){case 0:return (this.console.log("Making header request"),[4,this.peb(q,{ii:void 0,De:!0,stream:this.stream,Ba:d.K.wa,Ga:d.K.wa})]);case 1:u=z.va();t=new g.Sk(this.console,{},u,["moov"],!1,{vNc:!0});w=t.parse();if(!w.by)throw Error(w.parseError);x=g.Sk.path(t,["moov","trak","mdia","mdhd"]);(0,d.assert)(void 0 !== x,"mdhd should be defined");this.O=x.O;return [2];}});});};v.prototype.Emb=function(q,u,t,w){return c.__awaiter(this,void 0,void 0,function(){var x,z,y,A,B,C,D;C=this;return c.__generator(this,function(E){switch(E.label){case 0:(this.console.log("Making request",u,t.Ka(),w.Ka(),JSON.stringify((0,h.h6b)(this.R,this.config,this.console))),this.yya.Ij({si:u,cst:t.Ka(),cet:w.Ka()}),E.label=1);case 1:return (E.Ke.push([1,3,,4]),[4,this.peb(q,{De:!1,Ga:w,Ba:t,stream:this.stream,ii:u})]);case 2:return (x=E.va(),[3,4]);case 3:return (z=E.va(),(0,d.Rga)(z)?!1:this.events.emit("mediaEventsReceived",{type:"mediaEventsReceived",events:[],Ga:w,ii:u,pKc:!0}),[2]);case 4:return void 0 !== this.O?[3,6]:[4,this.Oib];case 5:(E.va(),E.label=6);case 6:(0,d.assert)(void 0 !== this.O,"timescale should be defined once header request resolves");y=new g.YY(this.console,{},x);A={events:[]};B=y.parse(A);this.console.debug("Parsed media events: ",B.done);if(B.error)throw Error(B.error);this.console.debug("Received media events",{events:A.events,et:w});this.events.emit("mediaEventsReceived",{type:"mediaEventsReceived",events:(null === (D=A.events) || void 0 === D?void 0:D.filter(function(F){return F.POa;}).map(function(F){return {type:F.POa.event,presentationTime:new d.K(F.VU,C.O).ka(C.track.un),uS:void 0 !== F.vS?new d.K(F.vS,C.O):void 0,mqc:F.POa};})) || [],Ga:w,ii:u});return [2,A.events];}});});};v.prototype.start=function(q){var u;u=this;(0,d.assert)(!this.Kh,"MediaEventsFetchProviderBase: start called while running");this.Ar?this.console.warn("MediaEventsFetchProviderBase: start called after destruct"):(this.ii=Math.max(q,this.stream.track.zn),this.L1=this.HW.nx(function(){return u.e2b();},"media-events-fetcher"));};v.prototype.Md=function(q){!1;this.Ar?this.console.warn("MediaEventsFetchProviderBase: restart called after destruct"):(this.Ma(),this.Ar=!1,this.JA=new f.AbortController(),this.start(q));};v.prototype.Ma=function(){var q;!1;this.Ar=!0;null === (q=this.L1) || void 0 === q?void 0:q.Ma();this.L1=void 0;this.JA.abort();this.vy.clear();};c.__decorate([(0,m.ob)({methodName:"makeHeaderRequest",Sf:!0})],v.prototype,"Dmb",null);c.__decorate([(0,m.ob)({methodName:"makeMediaSegmentRequest",Sf:!0})],v.prototype,"Emb",null);c.__decorate([(0,m.ob)({methodName:"start",Sf:!0})],v.prototype,"start",null);c.__decorate([(0,m.ob)({methodName:"restart",Sf:!0})],v.prototype,"Md",null);c.__decorate([(0,m.ob)({methodName:"destruct",Sf:!0})],v.prototype,"Ma",null);return v;})();b.r_a=r;},81621:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Jeb=void 0;c=a(5163);n=a(91176);b.Jeb=function(d,g){return function(e,f){return c.__awaiter(void 0,void 0,void 0,function(){var l,h,k,m,p;return c.__generator(this,function(v){switch(v.label){case 0:(h=(l=e instanceof Request)?e.signal:null === f || void 0 === f?void 0:f.signal,k=new n.Faa(),h && k.JQa(h),m=setTimeout(function(){k.abort();},g),v.label=1);case 1:return (v.Ke.push([1,,6,7]),p=void 0,l?[4,Promise.race([(0,n.kca)(k.signal,!0).then(function(){return Response.error();}),d(e,f)])]:[3,3]);case 2:return (p=v.va(),[3,5]);case 3:return [4,d(e,c.__assign(c.__assign({},f),{signal:k.signal}))];case 4:(p=v.va(),v.label=5);case 5:return [2,p];case 6:return (clearTimeout(m),[7]);case 7:return [2];}});});};};},58487:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.nZa=void 0;c=a(91176);n=a(66164);d=a(71077);r=(function(){function g(e,f){this.pdc=e;this.Kia=f;}g.prototype.cH=function(e,f){var l,h;h=this.Mgb(e);e=f(e);switch(h){case d.Cw.uva:return {lV:!1,oq:!1};case d.Cw.qZ:return {lV:!1,oq:!1,Fac:!0};case d.Cw.Z$:return {lV:!1,oq:null !== (l=e.oq) && void 0 !== l?l:!0};default:return e;}};g.prototype.Mgb=function(e){var f;f=e.VA;return this.pdc.Jv({Ga:f.Ga,Ba:f.Ba,status:e.response.status},c.K.Qj,!1);};g.prototype.uR=function(e,f){var l;f=f(e);if(this.Mgb(e) === d.Cw.Z$){l=e.gcc;404 === e.response.status && (e=l?n.platform.time.ya() - l:0,f.UCa=Math.max(0,this.Kia - e));}return f;};return g;})();b.nZa=r;},78203:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.k_a=void 0;r=(function(){function a(c){this.VT=c;}a.prototype.cH=function(c,n){var d;d=c.U9a < this.VT;return d?n(c):{oq:d};};return a;})();b.k_a=r;},44053:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v;Object.defineProperties(b,{__esModule:{value:!0}});b.v_a=void 0;c=a(5163);n=a(91176);d=a(66164);g=a(90745);e=a(71077);f=a(53914);l=a(87887);h=a(58487);k=a(79122);m=a(63206);p=a(81621);v=a(78203);r=(function(){function q(u,t,w,x,z){this.R=u;this.console=w;this.Geb=x;this.dr=z;this.events=new g.EventEmitter();this.bya=[];u=new e.wra(u,t);this.bya=[new h.nZa(u,t.Kia),new m.O4a(),new l.T4a(),new v.k_a(20),new f.t_a()];this.Geb=(0,p.Jeb)(x,8E3);}q.prototype.x5b=function(){var u;u=this;return function(t){return function(w,x){return u.lwb(w,x,t,0);};};};q.prototype.lwb=function(u){return c.__awaiter(this,arguments,void 0,function(t,w,x,z){var y,A,B,C,D,E,F,G,J,N,I,M,K,L,H,O,P,Q,S;void 0 === w && (w={});return c.__generator(this,function(X){switch(X.label){case 0:(y=x.Ba,A=x.Ga,B=new n.Faa(),w.signal && B.JQa(w.signal),(0,n.oxb)(B.signal),C=new Request(t,c.__assign(c.__assign({},w),{signal:B.signal})),E=d.platform.time.ya(),X.label=1);case 1:return (X.Ke.push([1,3,,4]),!1,F=this.Geb(C),null === (O=this.dr) || void 0 === O?void 0:O.Vvc(F),[4,F]);case 2:return (D=X.va(),D.ok?(null === (P=this.dr) || void 0 === P?void 0:P.pic(z),[2,D]):[3,4]);case 3:G=X.va();!1;if((0,n.Rga)(G))throw (!1,null === (Q=this.dr) || void 0 === Q?void 0:Q.nic(z),G);D=Response.error(C.url,{headers:new Headers(),status:0,statusText:"Unhandled error in fetch"});return [3,4];case 4:J={request:C,U9a:z,response:D,VA:x,gcc:E};N=this.cH(J);I=N.oq;M=N.lV;K=N.Fac;!1;M && this.lV(J);K && this.events.emit("eosReceived",{Ba:y,Ga:A});if(!I)return [3,7];L=this.uR(J);if(!(0 < L))return [3,6];H=(0,n.kca)(B.signal,!0);!1;return [4,Promise.race([H,new Promise(function(W){return setTimeout(W,L);})])];case 5:(X.va(),X.label=6);case 6:return [2,this.lwb(t,w,x,z + 1)];case 7:return (!1,null === (S=this.dr) || void 0 === S?void 0:S.oic(z),[2,D]);}});});};q.prototype.lV=function(u){u=new k.H_a(u);this.R.Jv(u);};q.prototype.uR=function(u){var t;t=this.bya.filter(function(w){return w.uR;}).map(function(w){return w.uR.bind(w);});return n.IE.BM(u,t).UCa;};q.prototype.cH=function(u){var t;t=this.bya.filter(function(w){return w.cH;}).map(function(w){return w.cH.bind(w);});return n.IE.BM(u,t);};return q;})();b.v_a=r;},79122:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.H_a=void 0;c=a(66164);n=a(26388);r=(function(){function d(g){this.context=g;}Object.defineProperties(d.prototype,{response:{get:function(){return this.context.response;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Tg:{get:function(){var g;g=this.response.status;return 0 === g || 900 === g?c.platform.Am.ME.wqa:500 <= g && 600 > g?c.platform.Am.ME.M9:400 <= g && 500 > g?c.platform.Am.ME.L9:c.platform.Am.ME.Kq;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{dD:{get:function(){return this.response.statusText;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{status:{get:function(){return this.response.status;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Uj:{get:function(){return this.status;},enumerable:!1,configurable:!0}});d.prototype.Fi=function(){return ("ME:").concat(this.context.U9a,"::").concat(this.context.VA.ii);};Object.defineProperties(d.prototype,{url:{get:function(){return this.context.request.url;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{cm:{get:function(){return this.context.VA.ii;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{stream:{get:function(){return this.context.VA.stream;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{mediaType:{get:function(){return n.u.Kn;},enumerable:!1,configurable:!0}});return d;})();b.H_a=r;},53914:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.t_a=void 0;r=(function(){function a(){}a.prototype.uR=function(){return {UCa:0};};a.prototype.cH=function(){return {lV:!0};};return a;})();b.t_a=r;},63206:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.O4a=void 0;r=(function(){function a(){}a.prototype.cH=function(c,n){var d;n=n(c);this.hha(c) && (n.oq=null !== (d=n.oq) && void 0 !== d?d:!0);return n;};a.prototype.uR=function(c,n){n=n(c);this.hha(c) && (n.UCa=0);return n;};a.prototype.hha=function(c){c=c.response;if(!c.ok && (0 === c.status || 900 === c.status))return !0;};return a;})();b.O4a=r;},87887:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.T4a=void 0;c=a(91176);r=(function(){function n(){this.Apc=[400,404,408,409,410];}n.prototype.cH=function(d,g){var e;g=g(d);if(void 0 === g.oq){e=d.response;e.ok || (600 > e.status && 500 <= e.status && (g.oq=!0),(0,c.oc)(this.Apc,function(f){return f === e.status;}) && (g.oq=!0));}return g;};return n;})();b.T4a=r;},93747:function(r,b,a){var c,n,d,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.J_a=void 0;c=a(5163);n=a(48170);d=a(62629);g=a(65161);e=a(61996);r=(function(){function f(l,h,k){this.EFa=l;this.I5b=h;this.console=k;this.tf=new e.Sn({Vj:this,console:k,source:"MemoryDeadlockProtector",hg:5});}f.prototype.C3b=function(l){var h,k,m,p;m=l.config;p=m.aq + (null !== (k=null === (h=m.NV) || void 0 === h?void 0:h.H) && void 0 !== k?k:0);h=this.m9b(p,l);n.G && this.console.debug(("MDP: has prebuf: ").concat(h));return h?{cea:!0}:(k=this.uSb(m),h=k.ijc,k=k.Rxc,h && k?(n.G && this.console.debug(("MDP: utilizing ").concat(Math.round(100 * k),"%")),k >= m.pfc?this.vtb(l,h):{cea:!0}):{cea:!1});};f.prototype.vtb=function(l,h){var k,m,p,v,q,t,z,y;this.tf.Ij({o:h});v=l.$;l=l.Ua;q=v.Ua;v=v.Av;for(var u=0;u < q.length;u++)if(!q[u].cj){v=q[u];q=q.slice(0,u + 1);break;}u=!1;t=[{mediaType:g.u.X,FC:0},{mediaType:g.u.V,FC:0},{mediaType:g.u.Ia,FC:0}];if(null === v || void 0 === v || !v.cj){l=l.map(function(B){return B;}).filter(function(B){return -1 === q.indexOf(B);}).sort(function(B,C){return (0,d.T$a)(B) - (0,d.T$a)(C);});try{for(var w=c.__values(l),x=w.next();!x.done;x=w.next()){z=x.value;y=z.QS();t[g.u.X].FC+=null !== (m=y.D_) && void 0 !== m?m:0;t[g.u.V].FC+=null !== (p=y.o8) && void 0 !== p?p:0;n.G && this.console.debug(("Resetting discontiguous branch ").concat(z.M.id),y);z.reset();if(u=t.every(function(B){return B.FC >= h[B.mediaType].FC;}))break;}}catch(B){var A;A={error:B};}finally{try{x && !x.done && (k=w.return) && k.call(w);}finally{if(A)throw A.error;}}}return {cea:u,SIc:t};};f.prototype.uSb=function(l){var h,k,m,p,v;h=[g.u.X,g.u.V,g.u.Ia];if(!l.qfc)return {};k=this.I5b();m=this.EFa().total;p=l.ofc;v=0;l=h.map(function(q){var u;u=k[q] - m[q] * p;v=Math.max(0 < m[q]?k[q] / m[q]:0,v);return {FC:Math.max(0,u),mediaType:q};});return {Rxc:v,ijc:l};};f.prototype.m9b=function(l,h){var k,m,p;k=this;m=!1;h=h.vr?h.$:void 0;if(null === h || void 0 === h?0:h.P$b){m=h.HA.Bx().map(function(v){return v.mediaType;});p=h.S4b();m=m.every(function(v){var q,u;if(v === g.u.X)v=null !== (q=p.Kba) && void 0 !== q?q:0;else if(v === g.u.V)v=null !== (u=p.$ma) && void 0 !== u?u:0;else return (n.G && k.console.trace("hasEnoughBuffer ignoring mediaType:",v),!0);return v >= l;});}return m;};c.__decorate([(0,e.ob)({methodName:"resetDiscontiguousBranches",return:!0,Sf:!0})],f.prototype,"vtb",null);return f;})();b.J_a=r;},88874:function(r,b,a){var c,n,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.d2a=void 0;c=a(91176);n=a(69575);d=a(52571);g=a(61520);r=(function(){function e(){this.Ua=new n.V_a();this.Oo=new g.xaa();}Object.defineProperties(e.prototype,{empty:{get:function(){return this.Ua.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{size:{get:function(){return this.Ua.size;},enumerable:!1,configurable:!0}});e.prototype.reset=function(){var f;f=this.Ua.values();this.Ua.clear();this.Oo.clear();f.forEach(function(l){return l.Eg();});};e.prototype.mr=function(f){return this.Ua.get(f);};e.prototype.has=function(f){return this.Ua.has(f);};e.prototype.root=function(){return this.Oo.root;};e.prototype.contains=function(f){var l;l=f.M.id;if(this.has(l))return -1 !== this.mr(l).indexOf(f);};e.prototype.NL=function(f){this.Oo.NL(f);};e.prototype.Rfa=function(f){return this.Oo.parent(f);};e.prototype.M4b=function(f){return this.Oo.children(f);};e.prototype.VGa=function(f){return this.Oo.VGa(f);};e.prototype.koc=function(f){var l;if(this.Ua.delete(f.M.id,f)){l=this.Oo.children(f);this.Oo.root === f?0 === l.length?this.Oo.clear():((0,d.assert)(1 === l.length,"cannot remove the root branch with multiple successors"),this.Oo.zoc(l[0])):((0,d.assert)(0 === l.length,"cannot remove non-root branch with successors"),this.Oo.remove(f));}};e.prototype.forEach=function(f){var l;l=this;this.Ua.forEach(function(h,k){return f(h,k,l);});};e.prototype.reduce=function(f,l){var h;h=this;return this.Ua.reduce(function(k,m,p){return f(k,m,p,h);},l);};e.prototype.map=function(f){var l;l=this;return this.Ua.map(function(h,k){return f(h,k,l);});};e.prototype.filter=function(f){var l;l=this;return this.Ua.filter(function(h,k){return f(h,k,l);});};e.prototype.z8b=function(){var f;f={};this.forEach(function(l,h){var k;(l=l.ew) && (null !== (k=f[h]) && void 0 !== k?k:f[h]=[]).push(l.H);});return f;};e.prototype.Rwc=function(f,l){var h,k,m;h=this;f=this.KXb(f,l);k=f.TZb(this.Oo);l=k.R_;m=k.ly;k=k.ctb;this.Oo.clear();this.Oo=f;l.forEach(function(p){return h.Ua.set(p.M.id,p);});l.forEach(function(p){return p.Pb();});m.forEach(function(p){return h.Ua.delete(p.M.id,p);});return {ly:m,ctb:k};};e.prototype.KXb=function(f,l){var h,k,m;h=this;k=new Map();m=new g.xaa();f.NL(function(p,v){var q,u;if(v){q=k.get(v);if(!q)return !0;}u=(0,c.oc)(h.mr(p.M.id),function(t){return h.Oo.parent(t) === q || !v;}) || l(p.M.id,q);u.jg=p.jg;k.set(p,u);m.add(u,q);(null === u || void 0 === u?0:u.no) && u.update(p.M);return !0;});return m;};return e;})();b.d2a=r;},70494:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.e2a=void 0;r=(function(){function a(c){this.console=c;this.iBa();}a.prototype.get=function(c){return this.XR[c] || this.uh[c];};a.prototype.set=function(c,n){void 0 === this.uh[c] && (this.uh[c]=n);};a.prototype.trc=function(c,n){void 0 === this.get(c) && (this.XR[c]=n);};a.prototype.clear=function(c){this.XR[c]=void 0;this.uh[c]=void 0;};a.prototype.PTb=function(c){var n;this.uh=(n={},n[c]=this.uh[c],n);this.XR={};};a.prototype.iBa=function(){this.uh={};this.XR={};};a.prototype.toJSON=function(){return {uh:this.uh,XR:this.XR};};return a;})();b.e2a=r;},86451:function(r,b,a){var d,g;function c(e,f){var l,h;l=Object.keys(e);if(l.some(function(k){var m,p,v,q;return (null === (m=e[k]) || void 0 === m?void 0:m.jd) !== (null === (p=f[k]) || void 0 === p?void 0:p.jd) || (null === (v=e[k]) || void 0 === v?void 0:v.weight) !== (null === (q=f[k]) || void 0 === q?void 0:q.weight);}))return !0;h=Object.keys(f);return 0 !== d.__spreadArray(d.__spreadArray([],d.__read((0,g.wp)(l,h)),!1),d.__read((0,g.wp)(h,l)),!1).length?!0:!1;}function n(e,f){return e.some(function(l,h){var k;return 0 !== (0,g.wp)(l,null !== (k=f[h]) && void 0 !== k?k:[]).length;}) || e.length !== f.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.vSb=function(e,f){var l,h,k,m,p,v;l=Object.keys(e.ba);h=Object.keys(f.ba);k=h.filter(function(q){return -1 === l.indexOf(q);});m=l.filter(function(q){return -1 === h.indexOf(q);});p=l.filter(function(q){var u;if(-1 === h.indexOf(q))u=!1;else (u=e.ba[q],q=f.ba[q],u=u.Gc !== q.Gc || u.yb !== q.yb || u.rb !== q.rb || u.jd !== q.jd || u.N !== q.N || n(u.Sm || [],q.Sm || []) || c(u.next || ({}),q.next || ({}))?!0:!1);return u;});v=(0,g.wp)(l,d.__spreadArray(d.__spreadArray(d.__spreadArray([],d.__read(p),!1),d.__read(k),!1),d.__read(m),!1));return {R_:k,ly:m,fTb:p,zwc:v};};d=a(5163);g=a(91176);},31509:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.f2a=b.YP=void 0;c=a(5163);n=a(52571);(function(g){g[g.Gy=0]="CREATED";g[g.vva=1]="STARTED";g[g.mZ=2]="REQUEST_ISSUED";g[g.FB=3]="EVALUATED";g[g.vVa=4]="DESTRUCTED";})(d || (b.YP=d={}));r=(function(){function g(e){this.xV=e;this.hb=d.Gy;this.sI={};this.q7={};}Object.defineProperties(g.prototype,{state:{get:function(){return this.hb;},enumerable:!1,configurable:!0}});g.prototype.start=function(){var e;e=this;this.hb !== d.vva && (this.J4(d.vva),[d.FB,d.mZ].forEach(function(f){var l;l=new Promise(function(h){(0,n.assert)(e.q7 && e.sI,"state promises should be defined");e.q7[f]=h;e.sI[f]=l;});}),this.xV(),this.J4(d.FB));};g.prototype.J4=function(e){this.hb=e;this.q7 && (e=this.q7[e],null === e || void 0 === e?void 0:e());};g.prototype.Ma=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(e){switch(e.label){case 0:if(this.hb !== d.vva)return [3,2];(0,n.assert)(this.sI,"state resolves should be defined");return [4,this.sI[d.FB]];case 1:(e.va(),e.label=2);case 2:return (this.q7=this.sI=void 0,this.hb=d.vVa,[2]);}});});};g.prototype.mna=function(e,f){c.__awaiter(this,void 0,void 0,function(){var l;return c.__generator(this,function(h){switch(h.label){case 0:if(this.hb === d.vVa)return [2];if(this.hb === d.FB)return [3,6];(0,n.assert)(this.sI,"state promises should be defined");l=e;switch(l){case d.FB:return [3,1];case d.mZ:return [3,3];}return [3,5];case 1:return [4,this.sI[d.FB]];case 2:return (h.va(),[3,6]);case 3:return [4,this.sI[d.mZ]];case 4:return (h.va(),[3,6]);case 5:return [3,6];case 6:return (null === f || void 0 === f?void 0:f(),[2]);}});});};return g;})();b.f2a=r;},46262:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.n2a=void 0;r=(function(){function a(c,n,d,g,e,f,l,h){var k,m;this.Z=c;this.dm=n;this.groupId=d;this.UD=g;this.ON=e;this.Mr=f;this.Om=l;d=null !== (m=null === (k=this.dm.Qa.Hb) || void 0 === k?void 0:k.H) && void 0 !== m?m:n.Qa.uD.H;this.au=c.uh.get(n.L)?1:this.dm.Qa.M.au;this.PN=h.offset.H;this.$V=Math.max(this.pm - d,0);}Object.defineProperties(a.prototype,{identifier:{get:function(){return this.dm.L;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{mediaType:{get:function(){return this.dm.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{jg:{get:function(){return this.dm.jg;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Fd:{get:function(){return this.Z.Fd.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{pm:{get:function(){return this.dm.jE.H;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ES:{get:function(){return this.dm.DS.H;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ug:{get:function(){return this.dm.Qa.Ob.H;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xv:{get:function(){return this.dm.xv();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qo:{get:function(){return this.dm.qo();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Rj:{get:function(){return this.dm.Rj;},enumerable:!1,configurable:!0}});a.prototype.jha=function(c,n){return this.Z.jha(this,c,n);};a.prototype.KM=function(){return this.Z.KM(this);};a.prototype.toJSON=function(){return {mediaType:this.mediaType,Fx:this.Fx,jg:this.jg,Fd:this.Fd,Mr:this.Mr,pm:this.pm,Om:this.Om,ES:this.ES,PN:this.PN,UD:this.UD,ON:this.ON,au:this.au,ug:this.ug,$V:this.$V,groupId:this.groupId,xv:this.xv,qo:this.qo,Rj:this.Rj,identifier:this.identifier,Z:"playgraph Object",dm:this.dm};};return a;})();b.n2a=r;},25317:function(r,b,a){var n,d,g;function c(e,f,l,h,k){var m,p,v,q,u,t,w,x,z,y,A,B,C,D,E,F,G,J,N,I,M,K;t=e.console;w=e.Jwc;x=e.uh;z=e.cpc;y=e.e_b;A=e.BKa;B=e.jAa;e=e.xN;C=k || ({complete:!0,ew:0});D=C.root;E=C.complete;F=C.JNb;G=C.ptb;G=void 0 === G?0:G;C=C.ew;J=G < z.length && z[G].id === f.id;N=G < z.length?z[G].id:h && x.get(h.id);I=k && h && N !== f.id?void 0 !== N?{mg:0}:h.oSb(f.id):{mg:1};x=I.mg;I=I.OG;M=void 0 === I?0:I;I=(x + M) * (null !== (m=null === k || void 0 === k?void 0:k.WD) && void 0 !== m?m:1);g && t.trace(("reevaluateBranches: visiting ").concat(f.id,", ") + ("distance: ").concat(l,", ") + ("probability: ").concat(I,", ") + ("predecessor: ").concat(null === h || void 0 === h?void 0:h.id,", ") + ("decision: ").concat(N,", ") + ("predecessorComplete: ").concat(E,", ") + ("isOnRequiredPath: ").concat(J,", ") + ("requiredPathIndex: ").concat(G,", ") + ("activeDistance: ").concat(F,", ") + ("seamless ").concat(x,", ") + ("immediate ").concat(M,", ") + ("predecessor sum of: successor weights=").concat(null === h || void 0 === h?void 0:h.KQa,", ") + ("immediate weights= ").concat(null === h || void 0 === h?void 0:h.nma));m=null !== (v=null === (p=w[f.id]) || void 0 === p?void 0:p.shift()) && void 0 !== v?v:f.Ob.H;p=0 === m;if(!J){if(0 === I)return {lP:!1,bca:!0};if(!E && 0 === M && C > B)return (e.kG=Math.min(e.kG || Infinity,C - B),{lP:!1,bca:!0});if(!p && l >= y && 1 > I || !1 === D && I < A)return {lP:!1,bca:!0};}if(G < z.length){(0,n.assert)(z[G].id === f.id,"");K={duration:z[G].duration};}k=(null === k || void 0 === k?void 0:k.jg) || [];h && 1 > x && (0 === M?k=k.concat([{mg:x}]):(z=(null === (u=null === (q=h.Sm) || void 0 === q?void 0:q[0]) || void 0 === u?void 0:u[0]) || 0,q=Math.max(0,h.Ob.H - z),g && t.trace(("reevaluateBranches: immediate: ").concat(h.Ob.H,",\n                ").concat(z,", ").concat(q)),k=k.concat([{mg:x,OG:M,duration:q}])));q=e.lOa.Yeb(function(L){return L.M === h;});e.lOa.add({M:f,jg:k,Qa:K},q);l=E?l + f.Ob.H:F;g && t.trace(("reevaluateBranches: added ").concat(f.id,", visiting successors, ") + ("active distance: ").concat(l," ") + ("probabilities: ").concat(JSON.stringify(k)));return {lP:!0,bca:J,state:{root:!h,complete:p,WD:I,jg:k,JNb:l,ptb:G + 1,ew:C + m}};}Object.defineProperties(b,{__esModule:{value:!0}});b.LNa=function(e,f,l,h,k,m,p,v,q){var u,t,w,x;t={lOa:new d.xaa()};w=(null === (u=l.kc) || void 0 === u?void 0:u.ka(l.Db).H) || 0;0 < m.length && (0,n.assert)(l.id === m[0].id,"First segment of required path (if it exists) must equal reevaluateBranches start segment.");g && e.trace(("reevaluateBranches: starting at ").concat(l.id," ") + ("requiredPath: ").concat(JSON.stringify(m)));x={console:e,Jwc:h,uh:k,cpc:m,e_b:p.H + w,BKa:v,jAa:q.H,xN:t};f.Mzb(l,function(z,y,A,B){return c(x,z,y,A,B);},{root:!1,complete:!0,ptb:0,ew:0});return t;};b.rOc=c;b.UNc=function(e,f,l){var h;h=(0,d.Wlc)(f,function(k){return ("").concat(k.M.id);});l(("requiredBranches(").concat(e,")"),h.replace(/\n/g,"<>"));l(("requiredBranches(").concat(e,")"),f.values.map(function(k){var m;return ("").concat(k.M.id,"::").concat(null === (m=f.parent(k)) || void 0 === m?void 0:m.M.id);}).join(", "));};n=a(52571);r=a(48170);d=a(61520);g=r.G && !1;},33143:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.a3a=void 0;c=a(91176);r=(function(){function n(d,g){this.bOa=g;this.u6=[];this.u6.push(d);}n.prototype.Tr=function(d,g){return c.IE.BM({N:d,VA:g},this.u6);};n.prototype.UA=function(d){return this.bOa(d);};n.prototype.yoc=function(d){var g;g=this.u6.pop();this.u6.push(d);return g;};n.prototype.K8a=function(d){this.u6.unshift(d);};return n;})();b.a3a=r;},36472:function(r,b,a){var c,n,d,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.G3a=void 0;c=a(5163);n=a(91176);d=a(99548);g=a(52571);e=a(8149);b.G3a=(function(){function f(){}f.K8b=function(l,h,k){var m,p;if(l.fg){m=c.__read(l.ca,1)[0];if(l.ca.some(function(v){return (0,e.$m)(v);})){(0,g.assert)((0,e.$m)(m),"expected live primary track");p=(0,d.Z4)(h,k,m.z2(),l.R,n.K.Qj) || n.K.Qj;m=Math.min.apply(Math,c.__spreadArray([],c.__read(l.ca.map(function(v){return v.z2();})),!1));l=(0,d.Z4)(h,k,m,l.R,n.K.Qj) || n.K.Qj;return {Jzb:p,Kzb:l};}h=null === (p=m.Ri) || void 0 === p?void 0:p.kc;(0,g.assert)(h);l=l.ca.reduce(function(v,q){var u;return (null === (u=q.Ri) || void 0 === u?0:u.kc)?n.K.min(v,q.Ri.kc):v;},h);return {Jzb:h,Kzb:l};}};return f;})();},35879:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Phb=void 0;b.Phb=function(a,c){return a.reduce(function(n,d){return n + d.vfa(c).H;},0);};},4489:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Sfb=void 0;c=a(59839);b.Sfb=function(n,d){return n.reduce(function(g,e){var f;f=d(e);e.Bx().forEach(function(l){return g.Yya(l.mediaType,l.HF,!f);});return g;},new c.i2a());};},23895:function(r,b,a){var n,d;function c(g,e){return e === n.u.Kn?0:Object.keys(g.IN).map(function(f){return g.IN[f];}).filter(function(f){return void 0 === f.Fx || 1 === f.Fx;}).reduce(function(f,l){return f + l.ft[e];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.j4a=void 0;n=a(65161);d=a(48170);r=(function(){function g(e,f,l){this.Z=e;this.console=f;this.EFa=l;}g.prototype.LSb=function(e,f,l){var h,k,m,p;h=l && this.Z.config.Nxc;k=this.Z.config.i8 || h;m=this.EFa();if(h){h=e.global;h=(p={},p[n.u.X]=h[n.u.X] - c(e,n.u.X),p[n.u.V]=h[n.u.V] - c(e,n.u.V),p[n.u.Ia]=h[n.u.Ia] - c(e,n.u.Ia),p);}p=h;m=this.ZAa(f) || this.tTb(e) || this.rTb(e,m,p) || this.sTb(e,m,p,f);p=(0,n.qsb)(m);if(m && (!p || k))return (d.G && this.console.log(("canIssueRequest ").concat(this.Z.id," [").concat(f,"] static limit: ") + ("").concat(l,", usage: ").concat(JSON.stringify(e),", failed ").concat(m)),{result:!1,reason:m});d.G && this.console.log(("canIssueRequest ").concat(this.Z.id," [").concat(f,"] static limit: ") + ("").concat(l,", usage: ").concat(JSON.stringify(e),", success ").concat(m));return {result:!0,reason:m};};g.prototype.ZAa=function(e){var f;f=this.Z.config.eN;if(this.Z.k5b(e) >= (f || Infinity))return "mediaDurationLimit";};g.prototype.tTb=function(e){return e.IN[this.Z.id].total.total > (this.Z.Lfa() || Infinity)?"playgraphMemoryLimit":void 0;};g.prototype.rTb=function(e,f,l){e=e.global;return l?l[n.u.X] + l[n.u.V] > (f.rQa.total || Infinity)?"staticMemoryLimit":void 0:e.total > (f.total.total || Infinity)?"globalMemoryLimit":void 0;};g.prototype.sTb=function(e,f,l,h){var k;k=e.global;if(h !== n.u.Kn)return l?(d.G && this.console.log(("checkRequestByMediaTypeMemory [").concat(h,"]:") + (" using static limit ").concat(f.rQa[h],", usage: ").concat(l) + (" (global: ").concat(k[h]," ") + (" - certain contiguous: ").concat(c(e,h),")")),l[h] > (f.rQa[h] || Infinity)?h === n.u.V?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):k[h] > (f.total[h] || Infinity)?h === n.u.V?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return g;})();b.j4a=r;},50612:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.HE=void 0;c=a(65161);n=a(65167);d=a(28847);r=(function(){var N6E;N6E=2;for(;N6E !== 6;){switch(N6E){case 7:return g;break;case 4:g.prototype.Gla=function(e){var L53;L53=2;for(;L53 !== 1;){switch(L53){case 2:this.xca=e;L53=1;break;case 4:this.xca=e;L53=2;break;}}};g.prototype.iFa=function(){var E6A;E6A=2;for(;E6A !== 1;){switch(E6A){case 4:return this.xca;break;case 2:return this.xca;break;}}};g.prototype.MPa=function(e){var H6$;H6$=2;for(;H6$ !== 1;){switch(H6$){case 2:this.Gzb=e;H6$=1;break;}}};g.prototype.KGa=function(){var g$H;g$H=2;for(;g$H !== 1;){switch(g$H){case 2:return this.Gzb;break;}}};N6E=7;break;case 2:g.prototype.bdb=function(e,f){var d3c,l;d3c=2;for(;d3c !== 4;){switch(d3c){case 2:l=null === this.xca?e * (100 - this.config.I7) / 100:(0,d.B9a)(e,this.xca);this.config.ZIa && f?(e=(0,d.B9a)(e,f),e=Math.max(e,l)):e=l;return e;break;}}};g.prototype.TPa=function(e){var B1s;B1s=2;for(;B1s !== 1;){switch(B1s){case 2:return this.config.Kdb && (e === c.Sb.Pn || e === c.Sb.lf);break;}}};g.prototype.Np=function(e,f){var U0R,l,h,k;U0R=2;for(;U0R !== 5;){switch(U0R){case 2:return this.TPa(f)?(null === (l=e.Lx) || void 0 === l?void 0:l.xa) || (null === (h=e.gb) || void 0 === h?void 0:h.xa) || 0:(null === (k=e.gb) || void 0 === k?void 0:k.xa) || 0;break;}}};N6E=4;break;}}function g(e){var s$0,f;s$0=2;for(;s$0 !== 9;){switch(s$0){case 3:var v90="1SI";v90+="Y";v90+="b";v90+="Z";v90+="rNJCp9";v90;s$0=9;break;case 12:"";s$0=6;break;case 2:f=this;this.config=e;this.Gzb=this.xca=null;this.nrb=function(l,h,k){var q11;q11=2;for(;q11 !== 5;){switch(q11){case 2:l=f.Np(l,k);return f.config.m$a?(h=(0,n.UDa)(f.config.l$a,h.Mj - h.sd,1),{lower:l * (1 - h),upper:void 0}):{lower:l * f.config.I7 / 100,upper:void 0};break;}}};s$0=3;break;}}}})();b.HE=r;},53809:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.gVa=void 0;c=a(5163);n=a(65161);r=a(50612);d=a(93731);a=(function(g){var P15;function e(f){var M7S,l;M7S=2;for(;M7S !== 9;){switch(M7S){case 1:var S_H="1SIYb";S_H+="Z";S_H+="rN";S_H+="JC";S_H+="p9";l.TU=function(h,k,m,p,v){var t_o,Z4y;t_o=2;for(;t_o !== 10;){switch(t_o){case 14:t_o=m === n.Sb.lf?7:13;break;case 9:p=l.config.fSa * h.gb.xa;t_o=8;break;case 1:t_o=l.TPa(m)?5:4;break;case 4:var c3W="d";c3W+="eliverytime-c";c3W+="i";Z4y=l.config.gBa;t_o=Z4y === c3W?3:12;break;case 6:return {lower:(null === k || void 0 === k?void 0:k.low) || h.gb.xa,upper:(null === k || void 0 === k?void 0:k.high) || p};break;case 7:return {lower:(null === k || void 0 === k?void 0:k.initial) || h.gb.xa,upper:(null === k || void 0 === k?void 0:k.high) || p};break;case 3:var R9R="de";R9R+="liverytim";R9R+="e-ci";k=h[R9R];t_o=9;break;case 8:t_o=m === n.Sb.Pn?7:14;break;case 11:var v9C="t";v9C+="hr";v9C+="oughput-ci";k=h[v9C];t_o=9;break;case 2:void 0 === v && (v=!0);t_o=1;break;case 12:t_o=11;break;case 5:return l.lec.TU(h,k,m,p,v);break;case 13:t_o=6;break;}}};l.lec=new d.lsa(f);S_H;return l;break;case 2:l=g.call(this,f) || this;M7S=1;break;}}}P15=2;for(;P15 !== 5;){switch(P15){case 2:c.__extends(e,g);return e;break;}}})(r.HE);b.gVa=a;},14246:function(r,b,a){var c,n,d,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.kGa=b.HE=void 0;c=a(93731);n=a(8367);d=a(93928);g=a(53809);e=a(50612);Object.defineProperties(b,{HE:{enumerable:!0,get:function(){return e.HE;}}});b.kGa=function(f){switch(f.PJa){case "manifold":return new c.lsa(f);case "stddev":return new d.f4a(f);case "ci":return new g.gVa(f);default:return new n.R3a(f);}};},93731:function(r,b,a){var c,n,d,g,e,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.lsa=void 0;c=a(5163);r=a(66164);n=c.__importStar(a(65167));a=a(50612);d=n.dda;g=n.KTb;e=n.UDa;f=n.w1b;l=n.bqc;new r.platform.Console("ASEJS_PREDICTOR","media|asejs");a=(function(h){function k(m){var Y58,p;Y58=2;for(;Y58 !== 13;){switch(Y58){case 2:p=h.call(this,m) || this;p.TU=function(v,q,u,t,w){var Z9K,x,z,y;Z9K=2;for(;Z9K !== 11;){switch(Z9K){case 2:void 0 === w && (w=!0);y=p.Np(v,u);u=p.TPa(u)?y:(null === (x=v[p.filter]) || void 0 === x?void 0:x.xa) || y;x=Math.pow(Math.max(1 - u / p.TQb,0),p.QQb);u=q.Mj - q.sd;Z9K=8;break;case 6:void 0 !== v && (z=f(p.Qgc,v),q=Math.min(q * z,1));p$i87.U73(4);y*=p$i87.g7m(q,1);t=w?p.bdb(y,t):y;Z9K=12;break;case 8:p.$sc?(q=e(p.ocb,u,1),u=e(p.ncb,u,1),q=q * x + u * (1 - x)):q=e(l(p.ocb,p.ncb,x),u,1);v=p.wob && (null === (z=v[p.wob]) || void 0 === z?void 0:z.TKa);Z9K=6;break;case 12:return {lower:t,upper:t * p.config.fSa};break;}}};Array.isArray(m.dx.curves) && (p.ocb=g(m.dx.curves[0],0,0,1),p.ncb=g(m.dx.curves[1],0,0,1));p.TQb=d(m.dx.threshold || 6E3,1,1E5);p.QQb=d(m.dx.gamma || 1,.1,10);Y58=9;break;case 14:return p;break;case 9:p.filter=m.dx.filter;p.$sc=!!m.dx.simpleScaling;Y58=7;break;case 7:var x7Z="1S";x7Z+="IYbZ";x7Z+="rNJ";x7Z+="Cp9";m.dx.niqrfilter && m.dx.niqrcurve && (p.wob=m.dx.niqrfilter,p.Qgc=g(m.dx.niqrcurve,1,0,4));x7Z;Y58=14;break;}}}var F4_;F4_=2;for(;F4_ !== 5;){switch(F4_){case 2:c.__extends(k,h);return k;break;case 3:c.__extends(k,h);return k;break;}}})(a.HE);b.lsa=a;},8367:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.R3a=void 0;c=a(5163);r=a(66164);n=a(50612);d=a(28847);new r.platform.Console("ASEJS_PREDICTOR","media|asejs");a=(function(g){var b68;function e(f){var H72,l;H72=2;for(;H72 !== 3;){switch(H72){case 2:var m5x="1SI";m5x+="YbZrNJ";m5x+="C";m5x+="p9";l=g.call(this,f) || this;l.TU=function(h,k,m,p,v){var F3g,q;F3g=2;for(;F3g !== 8;){switch(F3g){case 2:void 0 === v && (v=!0);q=l.Np(h,m);h=l.Qsc(h,m);k=q?q * (100 - l.u4b(k,h)) / 100 | 0:0;p=v?l.bdb(k,p):k;return {lower:p,upper:p * l.config.fSa};break;}}};m5x;return l;break;}}}b68=2;for(;b68 !== 3;){switch(b68){case 5:e.prototype.Qsc=function(f,l){var v38;v38=2;for(;v38 !== 5;){switch(v38){case 2:f=this.Np(f,l);return this.config.SQa && f < this.config.KBa;break;}}};return e;break;case 2:c.__extends(e,g);e.prototype.u4b=function(f,l){var M8m,h,k;M8m=2;for(;M8m !== 3;){switch(M8m){case 2:(h=this.config,k=l?h.IBa:h.Zza);l=l?h.JBa:h.aAa;Array.isArray(l) && (k=(0,d.v1b)(l,f.Mj - f.sd,h.$za));return k;break;}}};b68=5;break;}}})(n.HE);b.R3a=a;},93928:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.f4a=void 0;c=a(5163);r=a(50612);r=(function(n){var O8s;O8s=2;for(;O8s !== 5;){switch(O8s){case 2:c.__extends(d,n);return d;break;}}function d(g){var E5N,e;E5N=2;for(;E5N !== 3;){switch(E5N){case 6:"";return e;break;case 2:e=n.call(this,g) || this;e.TU=function(f){var Z03,l,F0J;Z03=2;for(;Z03 !== 10;){switch(Z03){case 2:l={lower:f.gb.xa,upper:void 0};Z03=1;break;case 7:l=Math.sqrt(f.Dp.EW || 0);Z03=6;break;case 6:return {lower:f.Dp.jR + e.config.sQa * l,upper:f.Dp.jR + e.config.tQa * l};break;case 4:return l;break;case 1:var m35="deliv";m35+="ery";m35+="time";F0J=e.config.Stc;Z03=F0J === m35?5:12;break;case 5:Z03=!f.Dp || !f.Dp.xa?4:3;break;case 3:l=Math.sqrt(f.Dp.af || 0);Z03=9;break;case 8:Z03=!f.Dp || !f.Dp.jR?4:7;break;case 14:Z03=f.Dp && f.Dp.EW?13:4;break;case 11:var M3F="e";M3F+="w";M3F+="m";M3F+="a";Z03=F0J === M3F?14:4;break;case 12:var V_s="a";V_s+="ve";V_s+="r";V_s+="a";V_s+="getp";Z03=F0J === V_s?8:11;break;case 9:return {lower:8 / (f.Dp.xa + e.config.sQa * l),upper:8 / (f.Dp.xa - e.config.tQa * l)};break;case 13:return (l=Math.sqrt(f.Dp.EW || 0),{lower:f.gb.xa + e.config.sQa * l,upper:f.gb.xa + e.config.tQa * l});break;}}};E5N=5;break;case 5:var c9d="1SIY";c9d+="bZrNJC";c9d+="p9";c9d;return e;break;}}}})(r.HE);b.f4a=r;},28847:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.v1b=function(n,d,g){var e,f,l;e=0;if(g){n.some(function(h){var k;k=h.b;h=h.m;if(d <= k)return (e=l && k !== f?l + (h - l) / (k - f) * (d - f):h,!0);f=k;e=l=h;return !1;});}else n.some(function(h){e=h.m;return d <= h.b;});return e;};b.nrb=function(n,d,g){var e;d=(null === (e=d.gb) || void 0 === e?void 0:e.xa) || 0;return n.m$a?(n=(0,c.UDa)(n.l$a,g.Mj - g.sd,1),d * (1 - n)):d * n.I7 / 100;};b.B9a=function(n,d){return n < 2 * d?n / 2:n - d;};c=a(65167);},43071:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.qVa=b.tVa=void 0;c=a(63576);n=a(47233);d=a(76753);b.tVa=625E3;r=(function(){function g(e,f){this.console=e;this.config=f;}g.prototype.FAa=function(e){var f,l,h,k,m,p;f=this;l=this.config.PCa;h=this.config.oLc || this.config.OCa;k=0 < e.NGa.pD && Infinity !== e.NGa.pD;m=k?h * b.tVa / 1E3:this.config.A4 || Infinity;p=k?Math.floor(e.NGa.pD / m):l;return {tn:e.Uyc.sort(function(v,q){return v.priority - q.priority;}).slice(0,l).map(function(v,q){var u;u=v.key.config;return {Okb:{pD:q > p - 1?0:m},Dd:v,nka:1,Xj:u,Bwb:{audio:[(0,c.P0)(u),new n.Rva(),new d.Nqa()],video:[(0,c.Q0)(f.console,u),new n.Rva(),new d.Nqa()]}};})};};return g;})();b.qVa=r;},76753:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Nqa=void 0;r=(function(){function a(){}a.prototype.Ug=function(c){return c.filter(function(n){return !n.fa;});};return a;})();b.Nqa=r;},68766:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.IVa=void 0;c=a(5163);n=a(79048);d=a(28871);r=(function(){function g(){}g.prototype.Nmb=function(e){return c.__awaiter(this,void 0,void 0,function(){var f,l,h,k,m;return c.__generator(this,function(p){switch(p.label){case 0:f=e.Dd.key;if(!(0,d.P3)(f))return [3,2];l=f.N;h=e.Dd.Le.Jp(l);return [4,Promise.resolve(h.lu)];case 1:return (k=p.va(),m=k.U,m.Zs?[2,(0,n.dBa)(m.Zs,{config:k.config})]:[2,(0,n.bQa)(l,"ps0")]);case 2:return [2,f.Z];}});});};return g;})();b.IVa=r;},34297:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.r2a=void 0;c=a(48170);n=a(82475);b.r2a=(function(){function d(){}d.Aoc=function(g,e,f,l){g.events.once("seeking",function(h){var k,m;k=h.position;m=f.length;h.duplicate || (f.i6(function(p){return "segmentNormalized" !== p.gr;}),c.G && l.log(("Discarding ").concat(m - f.length," events from prefetched playgraph") + (" for original seek postition ").concat((0,n.QGa)(e)) + (" due to seek to ").concat((0,n.QGa)(k))));c.G && l.log(("Replaying ").concat(f.length," events from prefetched playgraph") + ("for seek postition ").concat((0,n.QGa)(k)));f.XNa();f.Ma();});};return d;})();},91961:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A;Object.defineProperties(b,{__esModule:{value:!0}});b.t2a=void 0;c=a(5163);n=a(90745);d=a(91176);g=a(91176);e=a(66164);f=a(91176);l=a(65161);h=a(69575);k=a(52571);m=a(70764);p=a(48170);v=a(63576);q=a(30285);u=a(7520);t=a(68766);w=a(81307);x=a(43071);z=a(28871);y=a(34297);A=a(2948);r=(function(){function B(C,D,E,F,G){void 0 === F && (F=new w.JVa());void 0 === G && (G=new t.IVa());this.$db=C;this.config=D;this.Asb=F;this.tn=[];this.trb=[];this.Xw=[];this.Mrb=new d.oZ();this.ng={Skb:0,Tkb:0,Pkb:0,wAa:0,Qkb:0,Rkb:0,xAa:0};this.events=new n.EventEmitter();this.console=(0,h.xg)(e.platform,E,"PREFETCH");this.eza(new x.qVa(E,D));this.eza(new A.M3a(D));this.Rub({pD:D.plc});this.wPa(G);this.M$b();}Object.defineProperties(B.prototype,{qlc:{get:function(){return this.tn.map(function(C){return C.context;});},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Tyc:{get:function(){return this.Xw;},enumerable:!1,configurable:!0}});B.prototype.lvb=function(C){p.G && (0,k.assert)(C,"Reconciliation strategy is undefined");this.Asb=C;return this;};B.prototype.eza=function(C){this.trb.unshift(C);return this;};B.prototype.vvb=function(C){p.G && this.console.debug("Wish list changed",{QLc:C.length});(0,g.wp)(this.Tyc,C).forEach(function(D){var E;return null === (E=D.Ma) || void 0 === E?void 0:E.call(D);});this.Xw=C;this.gNa();};B.prototype.reset=function(C){var D;D=this;void 0 === C && (C=this.config);C.ylc?this.tn.forEach(function(E){return D.K7a(E);}):this.vvb([]);};B.prototype.K7a=function(C,D){var E,F,G;E=C.Z;F=C.R3;G=C.context;void 0 === D && (D=!1);E && (C=void 0,D && (C=E.QFa()),E.Eg(D),F.i6(function(J){return "segmentNormalized" !== J.gr;}),D=(0,z.Vfa)(G.Dd,E.Z),E.jI(D),null === C || void 0 === C?void 0:C.release());};B.prototype.Rub=function(C){p.G && this.console.debug("Budget changed",{Lhc:this.q0,Bgc:C});this.q0=C;this.gNa();};B.prototype.ITb=function(C,D){var E,F,G,J;p.G && this.console.debug("Looking for playgraph to claim");if(C=this.Asb.Xeb(this.tn,{Z:C,Xj:D})){F=this.Xw.indexOf(C.context.Dd);p.G && this.console.debug(("Claiming item: ").concat((0,z.Vm)(C.context.Dd.key)),{U_:e.platform.time.ya() - C.eRa,buffer:null === (E=C.Z) || void 0 === E?void 0:E.nr(d.K.wa)});this.yL(C.context,{sha:!!C.Z,xab:!!C.Z});C.fa && this.K7a(C,!0);if(C.Z){E=C.Z;G=C.mV;J=E.Oi;y.r2a.Aoc(E,J,C.R3,this.console);G.$pc(E.KG(J) || d.K.wa,F);E.yyb({pD:this.config.A4 || Infinity});this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:C.context.Dd,videoBytesBuffered:C.Z.YL().o8,audioBytesBuffered:C.Z.YL().D_});}}D.bPb || this.reset(D);return null === C || void 0 === C?void 0:C.Z;};B.prototype.GTb=function(){};B.prototype.getStats=function(){var C;C=e.platform.time.ya();return {wishListLength:this.Xw.length,prefetchList:this.qlc.length,contents:this.tn.map(function(D){var E,F,G,J,N;if(D.Z){N=(0,z.Vfa)(D.context.Dd,D.Z.Z);N=D.Z.KG(N);N=D.Z.nr(N || d.K.wa);}return {id:(0,z.Vm)(D.context.Dd.key),buffer:N,pId:null === (E=D.Z) || void 0 === E?void 0:E.id,budget:{inMemoryBytes:D.context.Okb.pD},weight:D.context.nka,age:C - D.eRa,timeOpened:C - (null !== (F=D.Cvc) && void 0 !== F?F:0),state:l.wd[null !== (J=null === (G=D.Z) || void 0 === G?void 0:G.Fd.value) && void 0 !== J?J:l.wd.Bw]};}),aggregated:{itemsRequested:this.ng.Skb,itemsStarted:this.ng.Tkb,itemsClaimed:this.ng.Pkb,bytesClaimed:this.ng.wAa,itemsCompleted:this.ng.Qkb,itemsDiscarded:this.ng.Rkb,bytesDiscarded:this.ng.xAa}};};B.prototype.yL=function(C){c.__awaiter(this,arguments,void 0,function(D,E){var F,G,J,N,I,M,K,L,H,O;void 0 === E && (E={});return c.__generator(this,function(P){switch(P.label){case 0:F=c.__assign({sha:!1,clb:!1,xab:!1},E);G=F.sha;J=F.clb;N=F.xab;I=(0,g.oc)(this.tn,function(Q){return Q.context === D;});J || N || (null === (H=(L=D.Dd).Ma) || void 0 === H?void 0:H.call(L));if(!I)return [3,3];this.tn.splice(this.tn.indexOf(I),1);J || (M=this.Xw.length,this.Xw=this.Xw.filter(function(Q){return Q !== D.Dd;}),p.G && this.console.info("Dropping items from wishlist",M - this.Xw.length),this.Xw.length >= M && p.G && this.console.warn("Unable to filter out wishlist item",this.Xw.map(function(Q){return Q.key;}),D.Dd.key));p.G && this.console.debug("Dropping playgraph",{U_:e.platform.time.ya() - I.eRa,buffer:null === (O=I.Z) || void 0 === O?void 0:O.nr(d.K.wa),N:(0,z.Vm)(D.Dd.key),DMc:!G,uIc:!J});I.Bi.clear();if(G)return [3,2];K=this.SA(I);return I.Z?[4,K]:[3,2];case 1:(P.va(),P.label=2);case 2:(this.gNa(),P.label=3);case 3:return [2];}});});};B.prototype.wPa=function(C){(0,k.assert)(C,"Playgraph resolver is undefined");this.MMa=C;return this;};B.prototype.M$b=function(){var C;C=this;this.events.on("prefetchComplete",function(){return C.ng.Qkb++;});this.events.on("prefetchStarted",function(){return C.ng.Tkb++;});this.events.on("itemQueued",function(){return C.ng.Skb++;});this.events.on("itemClaimed",function(D){var E,F;C.ng.Pkb++;C.ng.wAa+=(null !== (E=D.lyc) && void 0 !== E?E:0) + (null !== (F=D.kQb) && void 0 !== F?F:0);});this.events.on("itemDropped",function(D){var E,F;C.ng.Rkb++;C.ng.xAa+=(null !== (E=D.lyc) && void 0 !== E?E:0) + (null !== (F=D.kQb) && void 0 !== F?F:0);});};B.prototype.gNa=function(){var C;C=this;this.Mrb.gca?Promise.resolve():this.Mrb.Zyc(function(){var D,E,F,G,J;D=f.IE.BM({Uyc:C.Xw,NGa:C.q0},C.trb.map(function(N){return N.FAa.bind(N);})).tn;E=(0,g.wp)(D,C.tn,function(N,I){return (0,z.isEqual)(N.Dd.key,I.context.Dd.key);});F=(0,g.wp)(C.tn,D,function(N,I){return (0,z.isEqual)(N.context.Dd.key,I.Dd.key);});G=(0,g.wp)(C.tn,F);p.G && C.console.debug(("Re-evaluated prefetch items. new:").concat(E.length,", evict: ").concat(F.length,", update: ").concat(E.length));F=F.map(function(N){return c.__awaiter(C,void 0,void 0,function(){var I,M,K;return c.__generator(this,function(L){switch(L.label){case 0:(I=N.context.Dd.key,p.G && this.console.debug("Releasing playgraph",(0,z.Vm)(I)),L.label=1);case 1:return (L.Ke.push([1,,3,4]),[4,this.SA(N)]);case 2:return (L.va(),[3,4]);case 3:return (this.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:N.context.Dd}),null === (K=(M=N.context.Dd.Le).Ma) || void 0 === K?void 0:K.call(M),[7]);case 4:return [2];}});});});J=G.map(function(N){return c.__awaiter(C,void 0,void 0,function(){var I,M;return c.__generator(this,function(K){switch(K.label){case 0:(I=(0,g.oc)(D,function(L){return (0,z.isEqual)(L.Dd.key,N.context.Dd.key);}),(0,k.assert)(I,"Couldn't find the requested item context"),N.context=I,K.label=1);case 1:return (K.Ke.push([1,3,,4]),[4,N.mka]);case 2:return (M=K.va(),[3,4]);case 3:return (K.va(),[2]);case 4:return ((0,g.oc)(this.tn,function(L){return L === N;}) && (this.F9a(N.context,M),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:N.context.Dd})),[2]);}});});});E=E.map(function(N){var I;I=C.PXb(N);C.events.emit("itemQueued",{type:"itemQueued",wishListItem:N.Dd});return I;});C.tn=c.__spreadArray(c.__spreadArray([],c.__read(G),!1),c.__read(E),!1);G=E.map(function(N){return N.mka.catch(function(){});});G=F.concat(J).concat(G);return Promise.all(G);});};B.prototype.SA=function(C){return c.__awaiter(this,void 0,void 0,function(){var D,E,F;return c.__generator(this,function(G){switch(G.label){case 0:return (G.Ke.push([0,3,,4]),[4,C.mka]);case 1:return (D=G.va(),p.G && this.console.debug("Removing prefetch playgraph",{size:D.nr(d.K.wa)}),C.Bi.clear(),[4,this.$db()]);case 2:return (E=G.va(),E.SA(D),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:C.context.Dd,videoBytesBuffered:D.YL().o8,audioBytesBuffered:D.YL().D_}),[3,4]);case 3:return (F=G.va(),p.G && this.console.trace("Non fatal error in removing playgraph",F),[3,4]);case 4:return [2];}});});};B.prototype.jCa=function(C){return c.__awaiter(this,void 0,void 0,function(){var D,E,F,G,J,N,I;I=this;return c.__generator(this,function(M){switch(M.label){case 0:return (D=C.context,E=(0,z.Vm)(D.Dd.key),p.G && this.console.debug("Creating playgraph",E),[4,this.MMa.Nmb(D)]);case 1:return (F=M.va(),[4,D.Dd.Le.Jp(E).lu]);case 2:G=M.va();if(G.U.Cp)return (this.yL(D,{sha:!0}),[2,Promise.reject(("contentPlaygraph viewable:").concat(E) + " is not supported with prefetching")]);if("LIVE" === G.U.Je)if(this.config.dJa)C.fa=!0;else return (this.yL(D,{sha:!0}),[2,Promise.reject(("live title encountered viewable:").concat(E) + " disabling header fetch / normalization")]);return [4,this.$db()];case 3:return (J=M.va(),N=J.N_(F,D.nka,D.Xj,D.Dd.Le,!1),C.Bi.addListener(N.events,"error",function(K){p.G && I.console.debug("Prefetch playgraph resulted in error",K.rIc);I.yL(D);}),[2,N]);}});});};B.prototype.Tic=function(C,D){return c.__awaiter(this,void 0,void 0,function(){var E,F,G,J;return c.__generator(this,function(N){switch(N.label){case 0:return (E=C.context,F=(0,z.Vm)(E.Dd.key),G=E.Dd.Le.Jp(F),[4,G.lu]);case 1:return (J=N.va(),this.F9a(E,D),this.EPb(E,D,!!J.qt),D.open(),D.eE({oO:function(I,M){var K,L;K=I.recommendedMedia;L=K?(0,g.nk)(M,function(H){return H.new_track_id === K.Qs;}):(0,g.nk)(M,function(H){return H.track_id === I.defaultTrackOrderList[0].audioTrackId;});return 0 <= L && L < M.length?L:void 0;}},{oO:function(I,M){var K,L;K=I.recommendedMedia;L=K?(0,g.nk)(M,function(H){return H.new_track_id === K.FW;}):(0,g.nk)(M,function(H){return H.track_id === I.defaultTrackOrderList[0].videoTrackId;});return 0 <= L && L < M.length?L:void 0;}}),p.G && this.console.trace("Open Playgraph/seekstreaming",{N:(0,z.Vm)(C.context.Dd.key)}),D.jI((0,z.Vfa)(E.Dd,D.Z)),this.boc(C,G),G.hr && (p.G && this.console.warn("Viewable churn encountered during prefetcher (expired on initialization)",F),this.yL(C.context)),[2]);}});});};B.prototype.boc=function(C,D){var F;function E(G){p.G && F.console.debug(("Viewable ").concat(G?"superseded":"expired"),(0,z.Vm)(C.context.Dd.key));C.$Kc=!0;F.yL(C.context,{clb:!G && F.config.Wbc});}F=this;D.events && (C.Bi.addListener(D.events,"viewableEvicted",function(){E(!0);}),C.Bi.addListener(D.events,"viewableExpired",function(){E(!1);}));this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:C.context.Dd});};B.prototype.F9a=function(C,D){D.aSa(C.nka);D.yyb(C.Okb);};B.prototype.EPb=function(C,D,E){var F;F=C.Bwb;C=F.audio;F=F.video;E && F.push(new u.SY(this.console,D.config));D.DPa(new v.Vy(C,!0),new v.Vy(F,!0));};B.prototype.PXb=function(C){var D,E,F;D=this;E=new m.s2a();F={context:C,eRa:e.platform.time.ya(),Bi:new n.mf(),mV:E};F.mka=this.jCa(F).then(function(G){return c.__awaiter(D,void 0,void 0,function(){var J,N;N=this;return c.__generator(this,function(I){switch(I.label){case 0:for(J=G;J.Sa;)J=J.Sa;G.rd(E);E.fQb(G);F.R3=new q.JWa(J.events,{Ksc:function(M){var K,L;K=M.gr;switch(K){case "buffering":return !1;case "segmentStarting":L=M.Km[0];F.R3.i6(function(H){if("segmentStarting" === H.gr)return H.Km[0].L === L.L;if(L.initial && "initialAudioTrack" === H.gr)return !0;});return !0;case "bufferingStarted":F.R3.i6(function(H){return "bufferingComplete" === H.gr || "updateStreamingPts" === H.gr;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":F.R3.i6(function(H){return H.gr === K;});default:return !0;}}});J.events.on("bufferingComplete",function(){N.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:C.Dd});});return [4,this.Tic(F,G)];case 1:return (I.va(),F.Cvc=e.platform.time.ya(),F.Z=G,[2,G]);}});});});F.mka.catch(function(G){var J;J=(0,z.Vm)(F.context.Dd.key);p.G && D.console.error(("Exception occurred creating playgraph ").concat(J),G);D.yL(F.context);});return F;};return B;})();b.t2a=r;},81307:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.JVa=void 0;c=a(5163);n=a(52571);d=a(28871);r=(function(){function g(){}g.Vm=function(e){var f,l;f=e.ba;e=e.Cf;l=f[e].N;Object.keys(f).forEach(function(h){return (0,n.assert)(f[h].N === l);});return f[e].N;};g.prototype.Xeb=function(e,f){var l;l=Object.keys(f.Z.ba).length;return c.__read(e.filter(function(h){var k;return g.Vm(f.Z) === (0,d.Vm)(h.context.Dd.key) && (1 === l || l === Object.keys((null === (k=h.Z) || void 0 === k?void 0:k.Z.ba) || ({})).length);}),1)[0];};return g;})();b.JVa=r;},2948:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.M3a=void 0;r=(function(){function a(c){this.config=c;}a.prototype.FAa=function(c,n){var d,g;d=this;c=n(c);g=c.tn.map(function(e){return e.Dd.priority;}).sort();c.tn.forEach(function(e){e.nka=d.config.slc / (2 << g.lastIndexOf(e.Dd.priority));});return c;};return a;})();b.M3a=r;},47233:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Rva=void 0;c=a(65161);r=(function(){function n(){}n.prototype.Ug=function(d,g){return g === c.wd.Qn?[]:d;};return n;})();b.Rva=r;},28871:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Vfa=b.Vm=b.isEqual=b.P3=void 0;c=a(91176);n=a(6783);b.P3=function(d){return !!d.N;};b.isEqual=function(d,g){var e,f;e=(0,b.P3)(d);f=(0,b.P3)(g);return e === f?e?d.N === g.N:d.Z === g.Z:!1;};b.Vm=function(d){if((0,b.P3)(d))return d.N;d=d.Z;return d.ba[d.Cf].N;};b.Vfa=function(d,g){var e;return d.Gca?d.Gca instanceof c.K?(d=(0,n.$u)(g,(0,b.Vm)(d.key),d.Gca),(null === d || void 0 === d?0:d.offset.greaterThan(c.K.wa))?d:{offset:c.K.wa,L:null !== (e=null === d || void 0 === d?void 0:d.L) && void 0 !== e?e:g.Cf}):d.Gca:{offset:c.K.wa,L:g.Cf};};},53800:function(r){function b(c,n){this.qMb=c.MU && c.MU.enabled;this.Dba=void 0;this.JLb=n;this.sya=[];this.Eya=[];this.Zxa=[];c=c.kya || [];n=c.map(function(d){return d.RHc;});n.unshift(0);this.wMb=c;this.xMb=n;this.dya=[];this.pd=[];}function a(c,n){var k,m,p,v;for(var d=[],g=[],e=0;e < c.length;e++){for(var f=c[e],l=[],h=0;h < f.length;h++){k=f[h] - (g[h] || 0);m=n && n[h];p=l;v=p.push;1 <= m && (m=Math.pow(10,m || 0),k=Math.round(k * m) / m);v.call(p,k);}d.push(l);g=f;}return d;}b.prototype.reset=function(c){this.Dba=void 0;this.sya=[];this.Eya=[];this.Zxa=[];this.dya=[];c && (this.pd=[]);};b.prototype.add=function(c,n){var d,g,e,f;d=n.filter(function(l){return l.yD || l === c.dd;});g=d.map(function(l){return l.bitrate;});n=c.dd;d=d.indexOf(n);e=this.Dba;if(e && (e.length !== g.length || e.some(function(l,h){return l !== g[h];}))){f=this.igb();f && (this.pd.push(f),this.reset(!1));}void 0 === e && (this.Dba=g);this.sya.push([d,c.ku,c.Kk,c.sAa,c.J$a,c.SH,c.bpb,c.Uf,c.Fj,c.et,c.lE - c.ku,c.arb]);void 0 !== c.fm && this.Zxa.push([c.ku,c.fm.iE,c.fm.OC,c.fm.XD]);d=n && n.Ha;this.qMb && void 0 !== d && (e=d.fD(c.et),-1 != e && (d=d.get(e),e=d.duration,n=d.Gb || n.Gb,void 0 !== n && this.Eya.push({ub:d.ub,duration:e,Gb:n})));(n=c.prb) && n.length && (n=n.slice(0),n.unshift(c.ku),this.dya.push(n));};b.prototype.igb=function(){var c,n;c=a(this.sya);if(0 !== c.length){c={dltype:this.JLb,bitrates:this.Dba,seltrace:c,vmaftrace:this.Eya,paceratetrace:a(this.Zxa)};n=a(this.dya,this.xMb);n && n.length && (c.predtrace={config:this.wMb,data:n});return c;}};b.prototype.get=function(){var c,n;c=this.igb();n=this.pd;c && n.push(c);if(0 !== n.length)return n;};r.exports=b;},35331:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.iTa=void 0;c=a(79048);n=a(14103);d=a(91967);r=(function(){function g(e){this.context=e;this.wc="ad-playgraph";this.enabled=!0;}g.prototype.Hh=function(e){var f,l,h,k,m,p,v;f=e.ei;e=e.mA;if(f === d.Cc.Ik || f === d.Cc.Po || f === d.Cc.Oj || e === d.Th.ny || void 0 === f && void 0 === e){l=this.context;f=l.Sa;e=f.$;e=e.se?e.th:f.yt?f.Oi:void 0;h=l.ud.Zw;k=void 0;m=c.gd.content;l=void 0;if(e){p=f.Z.ba[e.L];v=f.cc.v4(e.L);v && (f=f.cc.q5.Z.ba[v],f.N != p.N && (k=p.N,m=p.type,l=this.f4b(e.L,f.N)));}f={adPlaygraph:h?c.Hua.decode(h):void 0,adMid:k,auxMid:k,auxMidType:m,manifestHasAds:!!h};void 0 !== l && (f.adBreakLocationMs=l);return f;}};g.prototype.f4b=function(e,f){var l,h,k,m;if(e=(0,n.vG)(e))m=null === (k=null === (h=null === (l=this.context.ud.Lc) || void 0 === l?void 0:l.qf.Sc[f]) || void 0 === h?void 0:h[e.$f]) || void 0 === k?void 0:k.cs;return m;};return g;})();b.iTa=r;},75402:function(r,b,a){var c,n,d,g,e,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.ETa=void 0;r=a(5163);c=a(90745);n=a(91176);d=a(91176);g=r.__importDefault(a(14282));e=r.__importDefault(a(53800));f=a(91967);l=a(60028);a=(function(){function h(k){var m,p;m=this;this.Z=k;this.gr="aseReport";this.v0=n.K.Qj;this.events=new c.EventEmitter();this.uBa=l.gva.pVa;this.Wxa=!1;this.Dwb=0;if(0 === Math.floor(1E6 * Math.random()) % k.config.b0 || k.config.MIc){this.v0=n.K.Pa(k.config.Gza);this.Tec=k.config.OPb;this.Z.mca=!0;p=[];p[g.default.Ln.V]=new e.default(k.config,g.default.Ln.V);p[g.default.Ln.X]=new e.default(k.config,g.default.Ln.X);p[g.default.Ln.Ia]=new e.default(k.config,g.default.Ln.Ia);this.xQa=p;this.Z.events.on("openComplete",function(){return m.open();});}}h.prototype.open=function(){this.Z.mca && !this.Wxa && (this.Wxa=!0,this.Z.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.Z.events.on("requestIssued",this.CLa.bind(this)));};h.prototype.CLa=function(k){k.result && k.streamList && (this.xQa[k.mediaType].add(k.result,k.streamList),++this.Dwb >= this.Tec && this.events.emit("collectionRequested"));};h.prototype.g8b=function(){var k;k=(0,d.flatten)(this.xQa.map(function(m){return m.get();}).filter(function(m){return void 0 !== m;}));this.xQa.forEach(function(m){return m.reset(!0);});this.Dwb=0;return k;};h.prototype.ef=function(k){var m,p;m=k.ei;p=k.nUb;k=k.gkb || p || m === f.Cc.Oj;return this.Z.mca && this.Wxa && k && (k=this.g8b()) && k.length?{Ola:!0,event:{type:"asereport",strmsel:k}}:{Ola:!1};};return h;})();b.ETa=a;},36414:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.QUa=void 0;c=a(35779);n=a(48170);d=a(91967);r=(function(){function g(e,f){this.utc=e;this.Vj=f;}Object.defineProperties(g.prototype,{jn:{get:function(){return ("cache-").concat(this.utc);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{wc:{get:function(){return this.jn;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return n.G;},enumerable:!1,configurable:!0}});g.prototype.Hh=function(e){var f,l,h;f=e.ei;e=e.mA;if(f === d.Cc.Ik || f === d.Cc.Po || f === d.Cc.Oj || void 0 === f && void 0 === e){l=(0,c.Xfb)(this.Vj);f=Object.keys(l).filter(function(k){return l[k].isEnabled;});if(f.length){h={};f.forEach(function(k){h[k]={hit:l[k].rR,idx:l[k].Tca};});return {FGc:h};}}};return g;})();b.QUa=r;},67181:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.TUa=void 0;c=a(91176);n=a(65161);d=a(91967);r=(function(){function g(e,f){this.rh=e;this.config=f;this.wc="CdnListTracker";}Object.defineProperties(g.prototype,{enabled:{get:function(){return this.config.$Sb;},enumerable:!1,configurable:!0}});g.prototype.Hh=function(e){var f;f=this;if(e.ei === d.Cc.Oj)return {cdndldist:JSON.stringify((0,c.GPb)(Object.keys(this.rh).map(function(l){var h;h=f.rh[l];return Object.keys(h).map(function(k){var m;m=h[k];return {cdnid:m.Ap,pbcid:m.Nh,dls:Object.keys(m.wL).map(function(p){var v,q;p=m.wL[p];q=p.mediaType === n.u.X?"adlid":"dlid";return (v={tm:p.totalTime,bitrate:p.bitrate},v[q]=p.Nb,v.vf=p.Gb,v);})};});})))};};return g;})();b.TUa=r;},5479:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.mVa=void 0;c=a(91967);r=(function(){function n(d){this.Cp=d;this.wc="content-playgraph";this.enabled=!0;}n.prototype.Hh=function(d){var g,e;g=d.ei;d=d.mA;if(g === c.Cc.Ik || g === c.Cc.Po || g === c.Cc.Oj || void 0 === g && void 0 === d){d=this.Cp.Sa;e=d.$;g=void 0;(e.se?e.th:d.yt && d.Oi) && this.Cp.Cp && (e=e.th,d=this.Cp.di.Ay(e),e=this.Cp.Sa.Z.ba[e.L].N,this.Cp.Z.ba[d.L].N != e && (g=e));return {contentPlaygraph:this.Cp.Cp,auxMid:g};}};return n;})();b.mVa=r;},61996:function(r,b,a){var n,d,g,e;function c(f,l,h){var k,m,q;l=n.__assign({},null === (m=null === f || void 0 === f?void 0:f.context) || void 0 === m?void 0:m.call(f,{$ob:l,Km:h}));if((null === f || void 0 === f?0:f.Km) && h)if(!0 === f.Km)l.args=h;else {m={};l.args=m;try{for(var p=n.__values(f.Km),v=p.next();!v.done;v=p.next()){q=v.value;m[q]=h[q];}}catch(t){var u;u={error:t};}finally{try{v && !v.done && (k=p.return) && k.call(p);}finally{if(u)throw u.error;}}}return l;}Object.defineProperties(b,{__esModule:{value:!0}});b.Sn=b.HGa=b.ob=void 0;n=a(5163);d=a(66164);g=a(91176);e=a(48170);b.ob=function(f){return function(l,h,k){var m;m=k.value;k.value=function(){var p,v,q,u,t,w;v=(0,b.HGa)(this);if(v)(q=c(f,this,arguments),u=null !== (p=null === f || void 0 === f?void 0:f.methodName) && void 0 !== p?p:String(h),t=v.Q_(u,q,null === f || void 0 === f?void 0:f.Sf,null === f || void 0 === f?void 0:f.QJc));p=null === v || void 0 === v?void 0:v.tCa;v && (v.tCa=t);try{w=null === m || void 0 === m?void 0:m.apply(this,arguments);(0,g.uIa)(w) && (w=w.then(function(z){t && (null === f || void 0 === f?0:f.return) && (t.data.resolve=z);return z;},function(z){t && (t.data.reject=("").concat(z));return Promise.reject(z);}));return w;}catch(z){var x;x=z;throw z;}finally{v && (v.tCa=p);t && (t.data || (t.data={}),x?(t.data.error=("").concat(x),null === v || void 0 === v?void 0:v.IUb(t)):(null === f || void 0 === f?0:f.return) && !(0,g.uIa)(w) && (t.data.lRet=w));}};};};b.HGa=function(f){if(null === f || void 0 === f?0:f.Owa)return f.Owa;};r=(function(){function f(l){this.Et=[];this.hba=!1;this.yxa={};this.bb=n.__assign({hg:10},l);Object.defineProperties(l.Vj,{Owa:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(f.prototype,{source:{get:function(){return this.bb.source;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !this.hba;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Tbc:{get:function(){return n.__spreadArray([],n.__read(this.Et),!1);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{P9b:{get:function(){return this.yxa;},enumerable:!1,configurable:!0}});f.prototype.Ij=function(l){var h,k;if(!this.hba){k=null === (h=(0,b.HGa)(this.bb.Vj)) || void 0 === h?void 0:h.tCa;k && (k.data=n.__assign(n.__assign({},k.data),l));}};f.prototype.Q_=function(l,h,k,m){var p,v,q,u;if(!this.hba){q=!1;u=null === (v=(p=this.bb).b9a) || void 0 === v?void 0:v.call(p,this.bb.Vj);p=c({},this.bb.Vj);h=n.__assign(n.__assign(n.__assign({},u),p),h);u=0 < Object.keys(h).length;h={methodName:l,data:u?h:void 0,time:d.platform.time.ya()};m && this.yxa[l]++;k && this.Et.length && (k=this.Et[this.Et.length - 1],k.methodName === l && (k.data=k.data || ({}),k.data.dedup=k.data.dedup || ({hitCount:1}),k.data.dedup.hitCount++,k.data.dedup.lJournal=h,q=!0));this.JUb(h);q || this.Et.push(h);this.Et.length > this.bb.hg && this.Et.shift();return h;}};f.prototype.JUb=function(l){var h;e.G && (null === (h=this.bb.console) || void 0 === h?void 0:h.trace(("").concat(this.bb.source,"::").concat(l.methodName),l.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.bb,l);};f.prototype.IUb=function(l){var h;e.G && (null === (h=this.bb.console) || void 0 === h?void 0:h.error(("").concat(this.bb.source,"::").concat(l.methodName),l.data));};f.prototype.Ma=function(){Object.defineProperties(this.bb.Vj,{Owa:{enumerable:!1,value:null,configurable:!0}});this.hba=!0;this.clear();};f.prototype.clear=function(){this.Et=[];this.yxa={};};return f;})();b.Sn=r;},7470:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.BWa=void 0;c=a(91967);r=(function(){function n(d){this.Wc=d;}Object.defineProperties(n.prototype,{wc:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});n.prototype.Hh=function(d){var g;if(d.ei === c.Cc.Oj && this.Wc){d={};g=this.Wc.get();g && g.avtp && g.avtp.xa && (d.avtp=g.avtp.xa,d.dltm=g.avtp.hDa);g && g.initialThroughput && g.initialThroughput.xa && (d.initial_avtp=g.initialThroughput.xa);g && g.cdnavtp && (d.cdnavtp=g.cdnavtp,d.activecdnavtp=g.activecdnavtp);if(g=this.Wc.eGa())(g.bytesRequestedPacingVideo && (d.bytesRequestedPacingVideo=g.bytesRequestedPacingVideo,d.estimatedBytesPacedVideo=g.estimatedBytesPacedVideo,d.bytestotalVideo=g.bytestotalVideo,d.pacedAvtpVideo=g.pacedAvtpVideo),g.bytesRequestedPacingAudio && (d.bytesRequestedPacingAudio=g.bytesRequestedPacingAudio,d.estimatedBytesPacedAudio=g.estimatedBytesPacedAudio,d.bytestotalAudio=g.bytestotalAudio,d.pacedAvtpAudio=g.pacedAvtpAudio),g.pacedAvtp && (d.pacedAvtp=g.pacedAvtp));this.Wc.flush();if(g=this.Wc.lob)for(var e in g)g.hasOwnProperty(e) && (d["ne" + e]=Number(g[e]).toFixed(6));return d;}};return n;})();b.BWa=r;},8478:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.DWa=void 0;c=a(97967);n=a(91967);r=(function(){function d(g){this.Fea=g;this.jn="engine";this.enabled=!0;}Object.defineProperties(d.prototype,{wc:{get:function(){return this.jn;},enumerable:!1,configurable:!0}});d.prototype.Hh=function(g){var e;e=g.ei;g=g.mA;if(e === n.Cc.Ik || e === n.Cc.Po || e === n.Cc.Oj || void 0 === e && void 0 === g)return (e=this.Fea.Wkc.map(function(f){var l;l=f.Z;return {id:l.id,weight:l.weight,relativeWeight:f.f6};}),e={prefetcher:this.Fea.FA.getStats(),playgraphs:e,viewables:this.Fea.xyc,players:this.Fea.Ukc.length},c.csa.instance && (e.mfCache=c.csa.instance.JJa.getStats()),e);};return d;})();b.DWa=r;},29688:function(r,b,a){var c,n,d,g,e,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.wZa=void 0;c=a(5163);n=a(90745);d=a(91176);g=a(65161);e=a(8149);f=a(60028);l=a(91967);r=(function(){function h(k){this.Z=k;this.gr="liveReport";this.v0=d.K.Qj;this.events=new n.EventEmitter();this.uBa=f.gva.b4a;this.TZ=!1;this.trace=[];this.Jxb=1;0 < k.config.bmb && 0 < k.config.eJa && (this.v0=d.K.Pa(k.config.eJa),this.Jxb=Math.max(Math.floor(k.config.bmb / k.config.eJa),1),this.TZ=!0);}h.prototype.kUb=function(){var k,m,p,v;m=this.Z.$;if(m.se){p=m.HA;v=p.R;v.fa?(p=null === (k=p.Pe(g.u.V)) || void 0 === k?void 0:k.kl) && (0,e.bm)(p) && (k=v.du,m=p.track.vz + m.Hd.H,v=this.Z.YL(),this.trace.push([k,m,v.totalabuflmsecs,v.totalvbuflmsecs])):this.TZ=!1;}};h.prototype.ef=function(k){var m,p;m=k.gkb;k=k.ei;this.TZ && (m || k === l.Cc.Ik) && this.kUb();if(this.trace.length === this.Jxb || 0 < this.trace.length && k === l.Cc.Oj){m=this.trace;p=c.__read(m[m.length - 1],2);k=p[0];p=p[1];this.trace=[];return {Ola:!0,event:{type:"livereport",samplinginterval:this.v0.H,trace:m,encodingpipelinetime:k,devicepts:p}};}return {Ola:!1};};return h;})();b.wZa=r;},27288:function(r,b,a){var c,n,d,g,e,f,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.xZa=void 0;r=a(5163);c=a(26388);n=a(6832);d=a(37191);g=a(71460);e=r.__importDefault(a(40497));f=a(8149);l=a(13550);h=a(91967);a=(function(){function k(m){this.Da=m;this.enabled=!0;}Object.defineProperties(k.prototype,{wc:{get:function(){return "live-reporter";},enumerable:!1,configurable:!0}});k.prototype.Hh=function(m){var p,v,q,u,t,w,x,z,y;m=m.mA;if(m === h.Th.aw || m === h.Th.w3 || m === h.Th.Nz || m === h.Th.ny || m === h.Th.r7 || m === h.Th.JC || m === h.Th.l6 || m === h.Th.Sha){w=this.Da.$;if(w.se){x=w.HA;z=x.R;x=null === (p=x.Pe(c.u.V)) || void 0 === p?void 0:p.kl;if(z.fa && (0,f.bm)(x)){p={encodingpipelinetime:z.du,devicepts:x.track.vz + w.Hd.H};if(m === h.Th.Sha){y=null === (v=w.GA.get(c.u.V)) || void 0 === v?void 0:v.BEa(n.oaa);y && (p.vbitrate=null === (q=y.uhb()) || void 0 === q?void 0:q.stream.bitrate);(v=null === (u=w.GA.get(c.u.X)) || void 0 === u?void 0:u.BEa(n.oaa)) && (p.abitrate=null === (t=v.uhb()) || void 0 === t?void 0:t.stream.bitrate);}m === h.Th.aw && (p.presentationtimeoffset=x.un.H);if(m === h.Th.aw || m === h.Th.ny)(u=e.default.instance().Q2(),t=d.e$.SFa(u,this.Da.config,this.Da.console),v=new g.Cqa(u,this.Da.config,this.Da.console),x=(0,l.Nla)(x.R,this.Da.config.ZM),p.targetbufferduration=t,p.sessionStats=u,p.ishighandstable=v.nkb(),p.isSlowBufferFilling=x);m === h.Th.Nz && (p.livePostplayEvents=z.ndc);return p;}}}};return k;})();b.xZa=a;},60028:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.MZa=b.gva=void 0;c=a(90745);n=a(91967);(function(g){g[g.pVa=1]="Creation";g[g.b4a=2]="StartPlayback";})(d || (b.gva=d={}));r=(function(){function g(e,f,l){this.ec=e;this.console=f;this.events=l;this.aO=[];this.mj=new c.mf();}g.prototype.rd=function(e){var f;f={mV:e,BAa:void 0};this.aO.push(f);e.uBa === d.pVa && this.bub(f);this.mj.on(e.events,"collectionRequested",this.cic.bind(this,f));};g.prototype.Ma=function(){this.mj.clear();};g.prototype.Icc=function(e){var f,l;f=this;l={ei:e};this.aO.forEach(function(h){f.DRa(h.mV,l);e === n.Cc.Ik && h.mV.uBa === d.b4a && f.bub(h);});};g.prototype.cic=function(e){var f;this.DRa(e.mV,{nUb:!0});null === (f=e.BAa) || void 0 === f?void 0:f.Md();};g.prototype.bub=function(e){var f,l,h,k;f=this;h=e.mV;k=this.ec.dCa(function(){f.DRa(h,{gkb:!0});},h.v0,h.gr);null === (l=e.BAa) || void 0 === l?void 0:l.Ma();e.BAa=k;};g.prototype.DRa=function(e,f){var l;try{l=e.ef(f);l.Ola && this.events.emit(e.gr,l.event);}catch(h){this.console.error(("Error generating event for ").concat(e.gr),h);}};return g;})();b.MZa=r;},63172:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.z1a=void 0;c=a(65161);n=a(95324);d=a(91967);r=(function(){function g(e){this.Pe=e;}Object.defineProperties(g.prototype,{wc:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.Hh=function(e){var f,l,h;e=e.ei;if(e === d.Cc.Po || e === d.Cc.Oj){e={};f=this.Pe(c.u.V);l=this.Pe(c.u.X);h=this.Pe(c.u.Ia);f && (e.videoPipelineSummary=this.NQa(f));l && (e.audioPipelineSummary=this.NQa(l));h && (e.textPipelineSummary=this.NQa(h));return e;}};g.prototype.NQa=function(e){var f,l,h,k,m;m=e.jf.Ha;m={actualStartPlayerTimestamp:null === (f=m.Hb) || void 0 === f?void 0:f.H,actualPartialPlayerTimestamp:m.qqb,completePlayerTimestamp:null === (l=e.hj) || void 0 === l?void 0:l.H,segmentId:e.L,contentStartMs:null === (h=e.Ba) || void 0 === h?void 0:h.H,contentEndMs:null === (k=e.Ga) || void 0 === k?void 0:k.H,streamingPlayerMs:e.jE.H,isStreamable:e.xv(),isNormalized:e.fg(),isDoneStreaming:e.qo(),trackNeedsHeaderRequest:e.track.S4,completedRequests:m.ebb,activeRequests:e.jf.Fj,unsentRequests:e.jf.II,bytes:{current:m.la,received:m.qnc,partial:m.Kv,completed:m.kda,unsent:m.Iwc}};e instanceof n.f$ && (e.$lb && (m.liveMissingFragments=e.$lb),e=e.kPa,m.serverTimeDeltaUpdateStat={max:e.max,min:e.min,trace:e.trace,serverTime:e.jPa,count:e.count});return m;};return g;})();b.z1a=r;},46759:function(r,b,a){var c,n,d,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.c2a=void 0;c=a(5163);n=a(48170);d=a(69575);g=a(91967);e=a(5653);r=(function(){function f(l,h){var k;k=this;this.LMa=l;this.Da=h;this.drb=new d.Xf();h.events.on("branchesReevaluated",function(){k.drb.push(l.size);});}Object.defineProperties(f.prototype,{wc:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{jn:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return n.G;},enumerable:!1,configurable:!0}});f.prototype.Hh=function(l){var h;l=l.ei;if(l === g.Cc.Po || l === g.Cc.Oj){h={branchCountStats:this.drb.toJSON(),decisions:this.Da.uh.toJSON(),player:this.Da.$.vt?this.Da.$.Ua.map(function(k){return k.M.id;}):[]};this.LMa.forEach(function(k,m){var p,v;v=(0,e.oFa)(k);h[m]=c.__assign({probabilities:k.jg.map(function(q){return {duration:q.duration,immediate:q.OG,seamless:q.mg};}),parent:null === (p=k.parent) || void 0 === p?void 0:p.M.id,normalized:k.fg,hasViewable:k.no,headerRequested:k.no && k.R.Qib},v);});return h;}};return f;})();b.c2a=r;},14609:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.q2a=void 0;c=a(5163);n=a(91967);r=(function(){function d(g){this.Hc=g;c.__assign(c.__assign({},g),{failed:!0});}Object.defineProperties(d.prototype,{wc:{get:function(){return "PrefetchFailureReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{jn:{get:function(){return "prefetch";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});d.prototype.Hh=function(g){if(g.ei === n.Cc.Ik)return this.Hc;};return d;})();b.q2a=r;},70764:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.s2a=void 0;c=a(66164);n=a(91967);r=(function(){function d(){this.creationTime=c.platform.time.ya();this.Hc={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}d.prototype.fQb=function(g){this.Z=g;};d.prototype.$pc=function(g,e){var f;g=null === (f=this.Z) || void 0 === f?void 0:f.nr(g);this.Hc={isPrefetchItem:!0,prefetchedVideoMs:g.oW,prefetchedAudioMs:g.nW,prefetchClaimDurationMs:c.platform.time.ya() - this.creationTime,prefetchRank:e};};Object.defineProperties(d,{wc:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{wc:{get:function(){return d.wc;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});d.prototype.Hh=function(g){if(g.ei === n.Cc.Ik)return this.Hc;};return d;})();b.s2a=r;},29739:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.iva=void 0;c=a(5163);r=(function(){function n(d){this.jn=d;this.wc=n.wc;this.enabled=!0;this.bBa=new Map();}n.prototype.w$b=function(d,g){this.bBa.set(d,{id:g || "",brc:d});};n.prototype.Hh=function(d){var g;g=Array.from(this.bBa.values()).map(function(e){var f;f=e.id;e=e.brc.Hh(d.ei,d.mA);return [f,e];}).filter(function(e){return (e=c.__read(e,2)[1]) && Object.keys(e).length;});if(g.length)return {Ioc:g.map(function(e){return {id:e[0],report:e[1]};})};};n.prototype.Usb=function(d){this.bBa.delete(d);};n.wc="wrapped-reporter";return n;})();b.iva=r;},91967:function(r,b,a){var c,n,d,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.caa=b.Th=b.Cc=b.G=void 0;c=a(5163);n=a(91176);d=a(67164);g=a(29739);b.G=!1;(function(f){f[f.Ik=0]="startPlayback";f[f.Oj=1]="endPlayback";f[f.Po=2]="underflow";})(e || (b.Cc=e={}));b.Th={aw:"startplay",MD:"midplay",Nz:"endplay",w3:"intrplay",JC:"chgstrm",PU:"playbackaborted",l6:"renderstrmswitch",Sha:"livereport",eI:"repos",ny:"resumeplay",r7:"statechanged",RK:"aseReport"};r=(function(){function f(l,h){this.config=l;this.console=h;this.aO=[new g.iva("child")];}f.prototype.rd=function(l){var h,k;k=c.__read(this.config.MPb.filter(function(m){return m.wc === l.wc;}),1)[0];this.config.a0b && (null !== (h=null === k || void 0 === k?void 0:k.enabled) && void 0 !== h?h:l.enabled)?this.aO.push(l):l.Ma && l.Ma();};f.prototype.D7b=function(l){return (0,n.oc)(this.aO,function(h){return h.wc === l.wc;});};f.prototype.Hh=function(l,h){var k,m,p,u,t;m={};p=[];try{for(var v=c.__values(this.aO),q=v.next();!q.done;q=v.next()){u=q.value;try{t=u.Hh({ei:l,mA:h});t && (u.jn?m[u.jn]=t:m=c.__assign(c.__assign({},m),t));}catch(x){p.push(Error(("").concat(u.wc,"::").concat(x)));}}}catch(x){var w;w={error:x};}finally{try{q && !q.done && (k=v.return) && k.call(v);}finally{if(w)throw w.error;}}p.length && (m["rpt-error"]=d.Vna.stringify(new d.Vna("Reporting error",p)));b.G && (w=c.__read(n.XUa.stringify(m),2),k=w[0],w[1].rcb && this.console.error("Cycles found in report generation",{Uja:k,ei:l,mA:h}));return m;};return f;})();b.caa=r;},5653:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Ufb=b.ghb=b.oFa=b.Y2a=void 0;c=a(5163);n=a(48170);d=a(91967);r=(function(){function g(e){this.sb=e;}Object.defineProperties(g.prototype,{wc:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{jn:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return n.G;},enumerable:!1,configurable:!0}});g.prototype.Hh=function(e){var f,l,m;e=e.ei;if(e === d.Cc.Oj || e === d.Cc.Po)if(e=this.sb.jFa()){l={};try{for(var h=c.__values(e.Kkc),k=h.next();!k.done;k=h.next()){m=k.value;l[m.mediaType]=this.pec(m);}}catch(v){var p;p={error:v};}finally{try{k && !k.done && (f=h.return) && f.call(h);}finally{if(p)throw p.error;}}return {branchQueue:(0,b.Ufb)(e.Vmc),playerIterator:l,driftStats:this.sb.ASa};}};g.prototype.pec=function(e){return null === e || void 0 === e?void 0:e.Dgb();};return g;})();b.Y2a=r;b.oFa=function(g){var e,f;if(g){e=g.M;f={};g.Bx().forEach(function(l){f[l.mediaType]=(0,b.ghb)(l);});return {sId:null === e || void 0 === e?void 0:e.id,cancelled:g.Qf,RM:f};}return g;};b.ghb=function(g){var e,f,l;if(g && g.jf)return c.__assign(c.__assign({},g.jf.xhb()),{unsentRequests:g.jf.II,lastFragmentContentEndPts:null === (e=g.Qd) || void 0 === e?void 0:e.Ga.H,trackAttributes:null === (f=g.track) || void 0 === f?void 0:f.Mp(),bitrate:null === (l=g.Qd) || void 0 === l?void 0:l.bitrate});};b.Ufb=function(g){return g.map(function(e){return (0,b.oFa)(e);});};},650:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.b3a=void 0;c=a(91967);r=(function(){function n(d,g){this.Wc=d;this.Yj=g;}Object.defineProperties(n.prototype,{wc:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});n.prototype.Hh=function(d){var g,e;g=d.ei;d=d.mA;e={};if(g === c.Cc.Oj || g === c.Cc.Po || void 0 === g && void 0 === d)(e.numOutstandingRequests=this.Yj.Rob,e.requestOpportunityDelayStats=this.Yj.ntb,(g=this.Wc.KNb) && g.length && (e.activeRequests=JSON.stringify(g)));"startplay" === d && (e.requestOffsetMs=this.Yj.s6);return e;};return n;})();b.b3a=r;},26012:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Cva=void 0;c=a(91967);r=(function(){function n(){this.jn=this.wc=n.wc;this.enabled=!0;this.D6=[];this.Gtb=0;}n.prototype.zOb=function(d){this.D6.push(d);5 < this.D6.length && this.D6.shift();};n.prototype.AOb=function(){this.Gtb++;};n.prototype.Hh=function(d){var g;g=d.ei;d=d.mA;if((g === c.Cc.Ik || g === c.Cc.Po || g === c.Cc.Oj || void 0 === g && void 0 === d) && this.D6.length)return {restarts:this.D6.map(function(e){return {s:e.vtc,d:e.LZb,r:e.rsb,atMs:e.Tkc.H};}),restartsCompleted:this.Gtb};};n.wc="seamlessManager";return n;})();b.Cva=r;},35438:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.c4a=void 0;c=a(90745);n=a(65161);d=a(91967);r=(function(){function g(e){this.q6a=!1;this.Bi=new c.mf();this.Bi.addListener(e.events,"streamSelection",this.CLa.bind(this));}g.prototype.CLa=function(e){this.q6a || (e.mediaType === n.u.X && void 0 === this.OHa?this.OHa=e:e.mediaType === n.u.V && void 0 === this.QHa && (this.QHa=e));};g.prototype.Ma=function(){this.QHa=this.OHa=void 0;this.Bi.clear();this.q6a=!0;};Object.defineProperties(g.prototype,{wc:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.Hh=function(e){var f,l,h,k,m,p;if(e.ei === d.Cc.Ik){e=this.QHa || this.OHa;p=null === e || void 0 === e?void 0:e.result;p={histbw:null === (l=null === (f=null === p || void 0 === p?void 0:p.jb) || void 0 === f?void 0:f.gb) || void 0 === l?void 0:l.xa,histinitbw:null === (k=null === (h=null === p || void 0 === p?void 0:p.jb) || void 0 === h?void 0:h.Lx) || void 0 === k?void 0:k.xa,histdiscbw:null === p || void 0 === p?void 0:p.wr,histage:null === (m=null === p || void 0 === p?void 0:p.jb) || void 0 === m?void 0:m.U_};f=null === e || void 0 === e?void 0:e.streamList.map(function(v){return void 0 !== v.Iea?{vmaf:v.Iea,streamIndex:v.gu,streamId:v.Jb}:void 0;}).filter(function(v){return void 0 !== v;});0 < (null === f || void 0 === f?void 0:f.length) && (p.vmafEstimates=f);this.Ma();return p;}this.Ma();};return g;})();b.c4a=r;},37058:function(r,b,a){var c,n,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.A4a=void 0;c=a(66164);n=a(90745);d=a(48170);g=a(91967);r=(function(){function e(f){this.ec=f;this.NF=[];this.reset();}Object.defineProperties(e.prototype,{wc:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{jn:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{enabled:{get:function(){return d.G;},enumerable:!1,configurable:!0}});e.prototype.reset=function(){var f,l;f=this;null === (l=this.Gp) || void 0 === l?void 0:l.clear();this.Gp=new n.mf();this.Gp.on(this.ec,"clockChanged",function(){f.reset();f.f2("initial");});this.Gp.on(this.ec,"stopping",function(){f.f2("stopping");});this.Gp.on(this.ec.Aa,"clockAdjusted",function(){f.f2("clockAdjusted");});this.Gp.on(this.ec.Aa,"stopStart",function(){f.f2("stopStart");});this.Gp.on(this.ec.Aa,"speedChanged",function(){f.f2("speedChanged");});};e.prototype.f2=function(f){this.NF.push({reason:f,audit:this.ec.jo(),time:c.platform.time.ya()});5 < this.NF.length && this.NF.shift();};e.prototype.Hh=function(f){var l;l=f.ei;f=f.mA;if(l === g.Cc.Ik || l === g.Cc.Po || l === g.Cc.Oj || void 0 === l && void 0 === f)return this.NF;};return e;})();b.A4a=r;},73036:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.B4a=void 0;c=a(48170);n=a(81651);d=a(91967);r=(function(){function g(e){var l;function f(){var h;if(e.vV){h=e.vV.k0b();l.NF.add(h.jo());}}l=this;this.ec=e;this.NF=new Set();e.on("clockChanged",f);e.on("rootSchedulerReleasing",function(h){h.vV.ana && l.NF.add(h.vV.ana.jo());});f();}Object.defineProperties(g.prototype,{wc:{get:function(){return "task-verbose-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{jn:{get:function(){return "tsch-verbose";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return c.G;},enumerable:!1,configurable:!0}});g.prototype.Hh=function(e){var f,l,h;if(e.ei === d.Cc.Oj){null === (l=null === (f=this.ec) || void 0 === f?void 0:f.vV.ana) || void 0 === l?void 0:l.jo();this.NF.forEach(function(k){h=h?n.Cwa.reduce(h,k):k;});return h;}};return g;})();b.B4a=r;},54366:function(r,b,a){var c,n,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.ep=void 0;c=a(5163);n=a(48170);d=a(69575);g=a(91967);r=(function(){function e(f,l){this.tf=f;this.options=c.__assign({TTb:!0},l);}Object.defineProperties(e.prototype,{jn:{get:function(){return ("trace-").concat(this.tf.source);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{wc:{get:function(){return this.jn;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{enabled:{get:function(){return n.G;},enumerable:!1,configurable:!0}});e.prototype.Hh=function(f){var l,h;l=f.ei;if(l === g.Cc.Oj || l === g.Cc.Po){f=(0,d.XYb)(this.tf.Tbc);h=this.tf.P9b;l === g.Cc.Oj && this.options.TTb && this.tf.clear();l=f;Object.keys(h).length && (l=c.__spreadArray(c.__spreadArray([],c.__read(f),!1),[h],!1));if(l.length)return l;}};e.prototype.Ma=function(){var f;null === (f=this.tf) || void 0 === f?void 0:f.Ma();};return e;})();b.ep=r;},19089:function(r,b,a){var c,n,d,g,e,f,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Z2a=void 0;c=a(5163);n=a(66164);d=a(91176);g=a(52571);e=a(61996);f=a(69575);l=a(40666);h=a(59458);r=(function(){function k(m,p,v){var u3J,q;u3J=2;for(;u3J !== 11;){switch(u3J){case 13:this.ntb=new f.Xf();this.s6=(0,h.esb)(0,1) < this.config.bJa?this.config.aJa:(0,h.esb)(0,this.config.Pha,{eac:!0,A$b:!0});u3J=11;break;case 9:var o0z="Reque";o0z+="stPac";o0z+="e";o0z+="r";var n9G="1";n9G+="S";n9G+="IYb";n9G+="ZrNJC";n9G+="p9";var p2k="m";p2k+="edia";p2k+="|a";p2k+="s";p2k+="ejs";var o08="AS";o08+="EJS_";o08+="RE";o08+="QUEST_PA";o08+="CER";this.console=new n.platform.Console(o08,p2k);this.IOa=!1;this.fja=0;n9G;this.Et=new e.Sn({Vj:this,source:o0z,b9a:function(){var c1d;c1d=2;for(;c1d !== 1;){switch(c1d){case 2:return {numOutstanding:q.qK};break;}}},hg:10});u3J=13;break;case 4:this.config=v;this.qK=0;u3J=9;break;case 2:q=this;this.lha=m;this.Hn=p;u3J=4;break;}}}var E95;E95=2;for(;E95 !== 10;){switch(E95){case 11:return k;break;case 2:Object.defineProperties(k.prototype,{Rob:{get:function(){var Y64;Y64=2;for(;Y64 !== 1;){switch(Y64){case 2:return this.qK;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ylb:{get:function(){var N1v;N1v=2;for(;N1v !== 1;){switch(N1v){case 2:return this.config.adc || this.config.zL?this.s6:0 > this.s6?this.s6:0;break;}}},enumerable:!1,configurable:!0}});k.prototype.gj=function(){var G2s,m,p;G2s=2;for(;G2s !== 9;){switch(G2s){case 2:m=this;G2s=1;break;case 5:this.IOa=!0;p=n.platform.time.ya();return Promise.resolve().then(function(){var G_Z;G_Z=2;for(;G_Z !== 5;){switch(G_Z){case 2:m.IOa=!1;m.pab(p);G_Z=5;break;}}});break;case 1:G2s=!this.IOa?5:9;break;}}};k.prototype.$w=function(m){var p_q,p,v;p_q=2;for(;p_q !== 3;){switch(p_q){case 2:var s69="More than maxAllowed";s69+="OutstandingRequests are ou";s69+="tstanding";this.Et.Ij({mediaType:m.mediaType,contentStartPts:null === (p=m.Ba) || void 0 === p?void 0:p.H,contentEndPts:null === (v=m.Ga) || void 0 === v?void 0:v.H});this.qK++;(0,g.assert)(this.qK <= this.config.Zha,s69);p_q=3;break;}}};E95=3;break;case 3:k.prototype.Sv=function(m){var a5y,p,v;a5y=2;for(;a5y !== 9;){switch(a5y){case 2:var l8N="remo";l8N+="veRe";l8N+="quest";var d1h="Received r";d1h+="emove request when there are";d1h+=" no requests outstanding";this.Et.Ij({mediaType:m.mediaType,contentStartPts:null === (p=m.Ba) || void 0 === p?void 0:p.H,contentEndPts:null === (v=m.Ga) || void 0 === v?void 0:v.H});this.qK--;(0,g.assert)(0 <= this.qK,d1h);this.gj(l8N);a5y=9;break;}}};k.prototype.qla=function(m,p,v){var V1H,q,u,t;V1H=2;for(;V1H !== 7;){switch(V1H){case 2:q=this;V1H=1;break;case 3:this.KAa=function(){var o42;o42=2;for(;o42 !== 1;){switch(o42){case 2:u.Ma();o42=1;break;}}};V1H=9;break;case 1:V1H=0 === this.fja?5:9;break;case 9:this.fja++;return {Ma:function(){var v9t,w;v9t=2;for(;v9t !== 4;){switch(v9t){case 2:q.fja--;0 === q.fja && (null === (w=q.KAa) || void 0 === w?void 0:w.call(q));v9t=4;break;}}}};break;case 5:t=function(){var E5c,w;E5c=2;for(;E5c !== 5;){switch(E5c){case 2:w=v.du;u=q.Hn.TC(l.Og.tB(d.K.Pa(Math.max(0,p + (Math.floor((w - p) / m) + 1) * m + q.config.KT + q.s6 - w))),function(){var N6o;N6o=2;for(;N6o !== 5;){switch(N6o){case 2:var U6e="liveEdg";U6e+="e";U6e+="U";U6e+="pda";U6e+="te";q.gj(U6e);t();N6o=5;break;case 3:q.gj("");t();N6o=8;break;}}});E5c=5;break;}}};t(!0);V1H=3;break;}}};k.prototype.pab=function(m){var V15,p,v,q;V15=2;for(;V15 !== 9;){switch(V15){case 3:var A4I="r";A4I+="equestOpportunityRunnerComplet";A4I+="e";this.Et.Q_(A4I,{requestsIssued:q,scheduledMs:m,timeSinceScheduled:v},!0);V15=9;break;case 4:q++;V15=5;break;case 5:V15=this.qK < p && this.lha()?4:3;break;case 13:q--;V15=3;break;case 6:this.ntb.push(v);V15=6;break;case 1:this.ntb.push(v);V15=5;break;case 2:(p=this.config.Zha,v=n.platform.time.ya() - m,q=0);V15=1;break;}}};E95=7;break;case 7:var k$J="p";k$J+="a";k$J+="b";var D9K="chec";D9K+="kRequestOppor";D9K+="tuni";D9K+="tyRu";D9K+="nner";var z8o="q";z8o+="l";z8o+="a";var T3j="sch";T3j+="eduleLiveEdgeUpdateTas";T3j+="k";var N5l="S";N5l+="v";var R$4="removeR";R$4+="equ";R$4+="est";var t_p="$";t_p+="w";var d5U="ad";d5U+="dRequ";d5U+="est";var c3v="g";c3v+="j";var Q8j="ch";Q8j+="eckReque";Q8j+="stOpportunity";c.__decorate([(0,e.ob)({methodName:Q8j,Sf:!0,Km:!0})],k.prototype,c3v,null);c.__decorate([(0,e.ob)({methodName:d5U,Sf:!0})],k.prototype,t_p,null);c.__decorate([(0,e.ob)({methodName:R$4,Sf:!0})],k.prototype,N5l,null);c.__decorate([(0,e.ob)({methodName:T3j,Sf:!0})],k.prototype,z8o,null);c.__decorate([(0,e.ob)({methodName:D9K,Sf:!0})],k.prototype,k$J,null);E95=11;break;}}})();b.Z2a=r;},14242:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.$3a=void 0;c=a(91176);n=a(7559);d=a(65161);r=(function(){function g(e,f){this.yl=e;this.console=f;this.Fia=Infinity;this.dbb=this.iOa=0;this.Bwc=!1;}g.prototype.A2b=function(e,f,l,h,k){var m;if(this.yl){m=e.Ha;if(m){if(l === d.u.V)(l=m.fD(Math.ceil(this.yl * e.za.hy),void 0,!0),m=e.pr(l),e=m.Ob.Oe(e.za),m.ji({start:0,end:this.yl - l * e}),this.Fia=this.yl);else {void 0 !== h.cwb?(f=h.cwb,l=f * e.za.H):(l=(0,n.Zgb)(h,k) + Math.ceil(h.uQb * e.za.hy),c.K.Pa(l).Oe(e.za),l=f + l,f=Math.ceil(l / e.za.hy));l=m.fD(l,void 0,!0);for(k=h=0;k < l;++k)(m=e.pr(k),h+=m.Ob.Oe(e.za));h=f - h;m=e.pr(l);m.ji({end:h});this.Fia=f;}m.Qmb();return m;}}};g.prototype.n9b=function(){return this.dbb >= this.Fia;};g.prototype.C$b=function(e,f){this.iOa+=this.yx(e,f);};g.prototype.f1b=function(e,f,l){e.iOa=this.yx(f,l);};g.prototype.yx=function(e,f){return e.Ob.Oe(f.za);};g.prototype.Az=function(){if(!this.n9b())return !1;if(this.Bwc)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",("").concat(this.dbb," >= ").concat(this.Fia));return !0;};return g;})();b.$3a=r;},2983:function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.zPb=function(c,n,d,g){var e,f;e=!0;d.forEach(function(l){var h;if(e && c === l.profile){h=l.ranges;e=void 0 === h?n >= l.min && n <= l.max:h.some(function(k){return n >= k.min && n <= k.max;});!e && l.disallowed && l.disallowed.some(function(k){if(k.stream.bitrate === n)return (f=k.disallowedBy,!0);});}});a && g.trace("applyFilters: profile:" + c + ", bitrate:" + n + ", inRange:" + e + ", disallowed by:" + f);return {inRange:e,gea:f};};a=!1;},72793:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.tTa=void 0;c=a(66164);n=a(65161);d=a(7559);r=(function(){function g(e){this.config=e;}g.prototype.Ug=function(e,f,l,h,k){var m,p;m=this.config;p=c.platform.ZS()[n.u.X];return e.filter(function(v){var q,u;q=(0,d.n4b)(v,m);u=v.bitrate * q.dU / 8 > p;return (k === n.Sb.Pn?v.bitrate >= q.ND && v.bitrate <= q.Gv:v.bitrate >= q.Lfc && v.bitrate <= q.Dec) && !u;});};return g;})();b.tTa=r;},86450:function(r,b,a){var n;function c(d,g){g=Math.max(d,g);return isNaN(g)?d || -Infinity:g;}Object.defineProperties(b,{__esModule:{value:!0}});b.uTa=void 0;n=a(65161);r=(function(){function d(g){this.config=g;this.GNa=0;this.state=n.wd.Bw;this.Rnb=c(g.uKa,g.L4);this.CKa=c(g.jN,g.K4);}d.prototype.Ug=function(g,e){var f;f=this;if(e !== this.state){this.state=e;if(e === n.wd.lf || e === n.wd.qaa)return g;e === n.wd.El && this.mnc();}return g.filter(function(l){return !(void 0 !== l.Gb && l.Gb < f.CKa || (void 0 === l.Gb || 0 > f.CKa) && l.bitrate < f.Rnb);});};d.prototype.mnc=function(){++this.GNa;this.CKa=c(this.config.jN,this.config.K4 - this.config.Jfc * this.GNa);this.Rnb=this.config.uKa || -Infinity;};return d;})();b.uTa=r;},84909:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.GTa=void 0;c=a(91176);r=(function(){function n(d){this.config=d;}n.prototype.Asc=function(d){return d % 100 + 1 <= this.config.tMa;};n.prototype.Ug=function(d){var g,e,f,l,h,k,m,p,v,q,u;m=Number(null === (g=d[0]) || void 0 === g?void 0:g.P);if(!(this.config.Bea && this.Asc(m) && 0 < this.config.ala.length))return d;g=d.length;p=null !== (e=d[g - 1].y6) && void 0 !== e?e:0;if(e=(0,c.oc)(this.config.ala,function(t){return t.JMc >= p && t.Atb <= p;})){for(m=0;m < g;m++){v=d[Math.max(m - 1,0)];q=d[m];if(!((null !== (f=q.y6) && void 0 !== f?f:0) < e.Atb || (null !== (l=v.y6) && void 0 !== l?l:0) < e.Atb)){u=null !== (h=q.Gb) && void 0 !== h?h:Infinity;v=null !== (k=v.Gb) && void 0 !== k?k:Infinity;if(!(v < e.FLc || v < e.ELc && q.bitrate < e.maxBitrate || !u && q.bitrate < e.dLc))break;}}return d.slice(0,m);}return d;};return n;})();b.GTa=r;},58844:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.HTa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.Ug=function(c){var n;n=this.config;return c.filter(function(d){return !(void 0 !== d.Gb && (d.Gb < n.jN || d.Gb > n.Umb) || (void 0 === d.Gb || 0 >= n.jN) && d.bitrate < n.uKa || (void 0 === d.Gb || Infinity === n.Umb) && d.bitrate > n.Cec);});};return a;})();b.HTa=r;},72351:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.P0=function(d,g){g && (null === d || void 0 === d?0:d.ijb) && (g=new n.Vy(g).or(n.LJ));return new n.Vy(n.ooa).and(g || n.LJ).or(n.Rra,c.vZ.LL).or(n.Sra,c.vZ.LL);};b.Q0=function(d,g,e){e && g.ijb && (e=new n.Vy(e).or(n.LJ));return new n.Vy(n.ooa).and(new n.ITa()).and(new n.HTa(g)).and(new n.uTa(g)).and(new n.MTa(g)).and(new n.lZa(d,g)).and(g.Bea?new n.GTa(g):n.LJ).and(e || n.LJ).or(n.Rra,c.vZ.LL).or(n.Sra,c.vZ.LL);};c=a(12986);n=a(63576);},96077:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ITa=void 0;c=a(65161);r=(function(){function n(){}n.prototype.Ug=function(d,g){return g !== c.wd.Qn?d.filter(function(e){return e.kv;}):d;};return n;})();b.ITa=r;},48867:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.IZ=void 0;c=a(66164);n=a(48170);d=a(2983);r=(function(){function g(e){this.console=e;this.Bcb=[];this.u$a={};this.Ycb=!1;}g.prototype.Lla=function(e,f){this.Bcb=e;void 0 !== f?this.u$a[f]=e:this.Ycb || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.Ycb=!0);};g.prototype.Ug=function(e){var f,l,h,k;f=this;if(0 === e.length)return e;h=e[0].N;if(void 0 === h)return (this.console.error("StreamFilters: Stream has undefined viewable id"),e);try{null === (l=c.platform.Fz) || void 0 === l?void 0:l.call(c.platform,h);}catch(m){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + m),e);}k=this.u$a[h] || this.Bcb;n.G && this.console.trace(("VideoBitrateRangesFilter: filtering ").concat(e.length," streams with ").concat(JSON.stringify(k)));e=e.filter(function(m){return (0,d.zPb)(m.profile,m.bitrate,k,f.console).inRange;});n.G && this.console.trace(("VideoBitrateRangesFilter: ... ").concat(e.length," streams in range"));return e;};return g;})();b.IZ=r;},19092:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.MTa=void 0;r=(function(){function a(c){var n;n=this;c.ZV && c.ZV.enabled && c.ZV.profiles && c.ZV.profiles.length && "keepLowest" === c.ZV.action && (this.dlb={},c.ZV.profiles.forEach(function(d){return n.dlb[d]=!0;}));}a.prototype.Ug=function(c){var n,d;n={};d=this.dlb;return void 0 === d?c:c.filter(function(g){return !d[g.profile] || (n[g.profile]?!1:n[g.profile]=!0);});};return a;})();b.MTa=r;},13904:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Rra=b.ooa=void 0;c=a(91176);b.ooa={Ug:function(n){return n.filter(function(d){return d.Rp && !d.aA;});}};b.Rra={Ug:function(n){return (n=(0,c.oc)(n,function(d){return !!d.Rp && !d.aA;}))?[n]:[];}};},63576:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(62964),b);r.__exportStar(a(96077),b);r.__exportStar(a(48867),b);r.__exportStar(a(19092),b);r.__exportStar(a(58844),b);r.__exportStar(a(86450),b);r.__exportStar(a(84909),b);r.__exportStar(a(13904),b);r.__exportStar(a(25320),b);r.__exportStar(a(12986),b);r.__exportStar(a(86543),b);r.__exportStar(a(72351),b);r.__exportStar(a(7520),b);r.__exportStar(a(77154),b);r.__exportStar(a(72793),b);},77154:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.lZa=void 0;c=a(8149);r=(function(){function n(d,g){this.console=d;this.config=g;}n.prototype.Ug=function(d){var g,e;if(!this.config.Hxc || 0 === d.length)return d;if((0,c.$m)(d[0].track))g=d[0].track.JT;if(void 0 === g || 0 === g)return d;e=d.filter(function(f){return f.bitrate > g?!1:!0;});return 0 < e.length?e:[d[0]];};return n;})();b.lZa=r;},86543:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Sra=void 0;b.Sra={Ug:function(a){return a.length?[a[0]]:[];}};},7520:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.SY=void 0;c=a(91176);n=a(48170);r=(function(){function d(g,e){this.console=g;this.config=e;this.gSa=!1;}d.prototype.Ug=function(g,e,f,l){void 0 === f && (f=c.K.wa);void 0 === l && (l=!1);n.G && this.console.trace("Filtering streams for fastplay",{gSa:this.gSa,fl:f.H,uKc:l});if(this.gSa || f.H >= this.config.Hec || !1 === l){e=g.filter(this.z_b);if(e.length)return e;n.G && this.console.trace("No drm streams to return");}e=g.filter(this.WTb);if(e.length)return e;n.G && this.console.trace("No clear streams to return");return g;};d.prototype.z_b=function(g){return g.Hi;};d.prototype.WTb=function(g){return !g.Hi;};return d;})();b.SY=r;},25320:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.LJ=void 0;b.LJ={Ug:function(a){return a;}};},12986:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Vy=b.vZ=void 0;c=a(25320);(function(d){d[d.JA=0]="primary";d[d.LL=1]="fallback";})(n || (b.vZ=n={}));r=(function(){function d(g,e){var f,l;void 0 === e && (e=!1);l=this;this.Zca=e;this.filters=(f={},f[n.JA]=[],f[n.LL]=[],f);Array.isArray(g)?g.forEach(function(h){return l.and(h,n.JA);}):this.and(g);}d.prototype.and=function(g,e){void 0 === e && (e=n.JA);g !== c.LJ && this.filters[e].push({filter:g,mbb:!0});return this;};d.prototype.or=function(g,e){void 0 === e && (e=n.JA);this.filters[e].push({filter:g,mbb:!1});return this;};d.prototype.filter=function(g){var e;e=this;[n.JA,n.LL].forEach(function(f){e.filters[f]=e.filters[f].filter(function(l){return g(f,l.filter);});});};d.prototype.Ug=function(g,e,f,l){var h;h=this;return [n.JA,n.LL].reduce(function(k,m){return h.filters[m].reduce(function(p,v){v.mbb?p=v.filter.Ug(p,e,f,l):0 === p.length && (p=v.filter.Ug(g,e,f,l));return p;},k);},g);};return d;})();b.Vy=r;},62964:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},89613:function(r,b,a){var c,n,d,g,e,f;Object.defineProperties(b,{__esModule:{value:!0}});b.i4a=b.oJb=void 0;c=a(5163);r=a(66164);n=a(52571);d=a(95591);a=a(82149);g=new r.platform.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);e=!0;}catch(l){e=!1;}f=(function(l){function h(k,m){m=l.call(this,k.Ri,m) || this;m.HO=k;return m;}c.__extends(h,l);Object.defineProperties(h.prototype,{la:{get:function(){return this.HO.Qvb(this.mh);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{offset:{get:function(){return this.HO.Te(this.mh);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Bia:{get:function(){return this.HO.jU && this.HO.jU[this.mh];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Zk:{get:function(){return this.HO.i4b(this.mh);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Gb:{get:function(){return this.HO.sB && this.HO.sB[this.mh];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{gAa:{get:function(){return 8 * this.la / (1E3 * this.jG / this.O);},enumerable:!1,configurable:!0}});h.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.nb,contentEndTicks:this.xb,durationTicks:this.jG,timescale:this.O,startPts:this.Ba.H,endPts:this.Ga.H,duration:this.Ob.H,additionalSAPs:this.Zk};};return h;})(a.Q4a);b.oJb=f;r=(function(){function l(h,k,m,p,v,q,u){this.sU=128;this.Wd=k;this.offset=m.offset;this.sizes=m.sizes;this.gu=h;this.tR=this.u0=this.uba=this.rp=this.vya=void 0;this.PLb=p;this.Rwa=v && v.Te;this.Dya=q;this.lF=Math.min(this.Wd.length,this.sizes.length);h=this.lSb();this.GLb=h.maxBitrate;this.HLb=h.hg;this.Ri.Iw.length !== this.sizes.length && g.trace("Mis-matched stream duration (" + this.Ri.Iw.length + "," + this.sizes.length + ") for movie id " + u);this.Ri.Zba && !this.Rwa && g.error("Mis-matched additional SAPs information for movie id " + u);}Object.defineProperties(l.prototype,{mediaType:{get:function(){return this.Wd.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{length:{get:function(){return this.lF;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Wr:{get:function(){return this.Wd.Wr;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{NDa:{get:function(){return this.Wd.NDa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ub:{get:function(){return this.Wd.ub;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{cg:{get:function(){return this.Wd.cg;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Db:{get:function(){return this.Wd.Db;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{kc:{get:function(){return this.Wd.kc;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Hv:{get:function(){return this.GLb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{hg:{get:function(){return this.HLb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{za:{get:function(){return this.Wd.za;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{O:{get:function(){return this.Wd.O;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Mo:{get:function(){return this.rp || this.ESb();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{jU:{get:function(){return this.PLb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{jza:{get:function(){return this.Rwa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{sB:{get:function(){return this.Dya;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ri:{get:function(){return this.Wd;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ry:{get:function(){return this.vya || this.Eda();},enumerable:!1,configurable:!0}});l.prototype.Qvb=function(h){if(this.sizes)return this.sizes[h];g.error("sizesByIndex _sizes is undefined");return -1;};l.prototype.tq=function(h){return this.Wd.tq(h);};l.prototype.Dea=function(h){return this.Wd.tq(h) + this.Wd.Tf(h);};l.prototype.Te=function(h){var k,m,p;if(this.u0 !== h || void 0 === this.tR){if(0 === h)return this.offset;if(this.u0 === h - 1 && void 0 !== this.tR)(this.tR+=this.sizes[this.u0],++this.u0);else {k=this.uba || this.tSb();m=Math.floor(h / this.sU);p=m * this.sU;for(k=k[m];p < h;++p)k+=this.sizes[p];this.u0=h;this.tR=k;}}return this.tR;};l.prototype.Tf=function(h){return this.Wd.Tf(h);};l.prototype.get=function(h){return new f(this,h);};l.prototype.i4b=function(h){var k,m,p,v,q;(0,n.assert)(0 <= h);k=this.Ri.Zba;m=this.Ri.c9a;p=this.Rwa;if(!p || !k || !m || h >= k.length)return [];v=[];q=h === k.length - 1?m.length:k[h + 1];for(k=k[h];k < q;++k)v.push({Zj:m[k],He:this.tq(h) + this.za.yg(m[k]).H,offset:p[k]});return v;};l.prototype.fD=function(h,k,m){return this.Wd.fD(h,k,m);};l.prototype.wEa=function(h,k,m){return this.Wd.wEa(h,k,m);};l.prototype.vda=function(h,k){return this.Wd.vda(h,k);};l.prototype.Uca=function(h,k,m,p,v){var q,u,t,w,x,z,y,A,B;q=!0;u=0;t=this.Wd.Iw;w=this.sizes;h=Math.floor(h * this.O / 1E3);x=Math.floor(m * this.O / 1E3);z=0;y=0;A=0;if(this.Wd.KRa && this.Wd.JRa)for(u=this.Wd.KRa;u <= this.Wd.JRa;++u)(z+=t[u],y+=w[u]);if(y > k)q=!1;else for(;u < this.length && (!v || u < v);){B=w[u];m=t[u];if(y + B > k){for(;1 < u - A && y + B > k && (z - t[A] >= x || y - w[A] > p);)(z-=t[A],y-=w[A],++A);if(z < h || y + B > k){q=!1;this.Wd.KRa=A;this.Wd.JRa=u;break;}}z+=m;y+=B;++u;}return q;};l.prototype.subarray=function(h,k){(0,n.assert)(void 0 === h || 0 <= h && h < this.length);(0,n.assert)(void 0 === k || k > h && k <= this.length);return new l(this.gu,this.Wd.subarray(h,k),{offset:this.Te(h),sizes:this.sizes.subarray(h,k)},this.jU && this.jU.subarray(h,k),this.jza && ({Te:this.jza}),this.Dya && this.Dya.subarray(h,k));};l.prototype.forEach=function(h){for(var k=0;k < this.length;++k)h(this.get(k),k,this);};l.prototype.map=function(h){for(var k=[],m=0;m < this.length;++m)k.push(h(this.get(m),m,this));return k;};l.prototype.reduce=function(h,k){for(var m=0;m < this.length;++m)k=h(k,this.get(m),m,this);return k;};l.prototype.toJSON=function(){return {length:this.length};};l.prototype.dump=function(){var k;g.trace("StreamFragments: " + this.length);for(var h=0;h < this.length;++h){k=this.get(h);g.trace(("StreamFragments: ").concat(h,": [").concat(k.Ba.H,"-").concat(k.Ga.H,"]") + (" @ ").concat(k.offset,", ").concat(k.la," bytes"));}};l.prototype.lSb=function(){var h,k,m,p,v,q,w;h=0;k=0;m=this.Wd.Zmb;p=this.Wd.$mb;v=this.Wd.Iw;q=this.sizes;if(void 0 === m || m >= this.length || void 0 === p || p >= this.length){for(var u=0,t=this.length;u < t;++u){w=q[u];w > k && (k=w,p=u);w/=v[u];w > h && (h=w,m=u);}void 0 === this.Wd.Zmb && (this.Wd.Zmb=m);void 0 === this.Wd.$mb && (this.Wd.$mb=p);}else (h=q[m] / v[m],k=q[p]);return {maxBitrate:Math.floor(h * this.O / 125),hg:k};};l.prototype.ESb=function(){for(var h=0,k=0;k < this.length;++k)h+=this.sizes[k];return this.rp=h;};l.prototype.Eda=function(){return this.vya=new d.Iva(this.Wd.Iw,this.sizes,this.Wd.O);};l.prototype.tSb=function(){if(!this.uba){for(var h=e?new Float64Array(Math.ceil(this.length / this.sU)):Array(Math.ceil(this.length / this.sU)),k=this.offset,m=0;m < h.length;++m){h[m]=k;for(var p=0;p < this.sU;++p)k+=this.sizes[m * this.sU + p];}this.uba=h;}return this.uba;};return l;})();b.i4a=r;(0,a.nH)(r.prototype.tq);(0,a.nH)(r.prototype.Dea);(0,a.nH)(r.prototype.Tf);(0,a.nH)(r.prototype.Te);(0,a.nH)(r.prototype.Qvb);(0,a.nH)(r.prototype.get);},19595:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.wZ=void 0;c=a(91176);r=(function(){function n(d){this.gz=d;this.jfb=new c.ns();}Object.defineProperties(n.prototype,{Bha:{get:function(){var d;return this.Xgc || (null === (d=this.parent) || void 0 === d?void 0:d.Bha);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{kl:{get:function(){var d;return this.dd || (null === (d=this.parent) || void 0 === d?void 0:d.kl);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Dlb:{get:function(){var d,g;return null !== (d=this.cuc) && void 0 !== d?d:null === (g=this.parent) || void 0 === g?void 0:g.Dlb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{RIa:{get:function(){var d,g;return null !== (d=this.duc) && void 0 !== d?d:null === (g=this.parent) || void 0 === g?void 0:g.RIa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{track:{get:function(){return this.Iqc;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Szb:{get:function(){return this.jfb.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{parent:{get:function(){var d;return null === (d=this.gz) || void 0 === d?void 0:d.call(this);},enumerable:!1,configurable:!0}});n.prototype.Ma=function(){this.gz=void 0;};n.prototype.Nrc=function(d){this.Xgc=d;};n.prototype.uO=function(d){this.dd=d;this.jfb.resolve();};n.prototype.ovb=function(d){this.cuc=d;};n.prototype.pvb=function(d){this.duc=d;};n.prototype.KPa=function(d){this.Iqc=d;};return n;})();b.wZ=r;},32966:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Az=void 0;c=a(65161);a(13550);b.Az=(function(){var n9F;n9F=2;for(;n9F !== 1;){switch(n9F){case 2:return {pKb:function(n,d,g,e,f,l){var f4H=p$i87;var U7u,u,k,m,p,v,t,q;function h(w){var K65;K65=2;for(;K65 !== 7;){switch(K65){case 2:K65=!e.Ha?1:5;break;case 1:return 0;break;case 5:w=e.Ha.wEa(n.sd + w,void 0,!0);K65=4;break;case 4:K65=void 0 === w?3:9;break;case 3:return 0;break;case 9:w=e.Ha.get(w.index);return (q - n.Kv) / (q + (w.offset + w.la) - u);break;}}}U7u=2;for(;U7u !== 54;){switch(U7u){case 43:U7u=0 < t?42:41;break;case 7:f4H.U73(9);var H8J=f4H.a0K(12,0,4,193,4);p=l.aq * (m?l.FNa:H8J);!e.fa && l.F0b && e.jb && e.jb.Kg && e.jb.Kg.xa > l.vJa && (p+=l.hza + e.jb.Kg.xa * l.pMa);f && !e.fa && (p+=f.ox * l.iza);p=v?Math.min(v,p):p;U7u=12;break;case 4:U7u=k >= v?3:9;break;case 27:f=e.Ha.fD(n.Kk);U7u=26;break;case 21:var D6w="h";D6w+="ig";D6w+="htp";return {complete:!0,reason:D6w};break;case 24:u=e.Ha.Te(f);U7u=23;break;case 23:U7u=k >= p?22:38;break;case 18:U7u=e.fa?17:16;break;case 28:m=e.Ha.get(l);f4H.U73(10);var B2E=f4H.g7m(296,19,16);t=B2E * t * g / d - m.Ba.H - p;U7u=43;break;case 16:U7u=!e.Ha || !e.Ha.length?15:27;break;case 2:(k=n.Mj - n.sd,m=d === c.wd.El);d=e.gb || 0;(p=0,v=Math.min(l.eN,l.iSa && !m?l.qH:l.$Ja));U7u=4;break;case 3:var H5f="m";H5f+="ax";H5f+="si";H5f+="z";H5f+="e";return {complete:!0,reason:H5f};break;case 35:p=e.Ha.Tf(f);l=Math.min(f + Math.floor(l.a6 / p),e.Ha.length - 1);t=e.Ha.Te(l);f4H.s$f(11);var G5c=f4H.a0K(19,11);p=G5c * u * g / d - n.sd;m=void 0;U7u=30;break;case 29:U7u=l > f?28:39;break;case 17:var o1i="low";o1i+="L";o1i+="iveBuf";o1i+="fer";var l_8="liv";l_8+="eBufferLeve";l_8+="l";return d > m && k > p?{complete:!0,reason:l_8}:{complete:!1,gI:p,gb:d,bitrate:m,reason:o1i};break;case 8:var i_l="low";i_l+="Throu";i_l+="g";i_l+="hput";return {complete:!1,n4:!0,reason:i_l};break;case 9:U7u=d <= l.BJa && (0 < d || !l.fEa)?8:7;break;case 12:U7u=!d?11:10;break;case 38:0 < d && d < m && (p=Math.min(v,Math.max(l.a6 * (m / d - 1),p)));U7u=37;break;case 10:q=n.Ha.reduce(function(w,x){var b9X;b9X=2;for(;b9X !== 1;){switch(b9X){case 2:return w + (x.Rb.H > n.sd?x.la:0);break;}}},0);g=Math.max(g,1);m=g * e.bitrate;U7u=18;break;case 26:U7u=-1 === f?25:24;break;case 30:--l;U7u=29;break;case 15:return (d < m && (p=Math.min(v,Math.max(l.a6 * (m / d - 1),p))),{complete:!1,gI:p,progress:0});break;case 40:--l;U7u=29;break;case 25:var p0j="ou";p0j+="tofrang";p0j+="e";return {complete:!0,reason:p0j};break;case 41:t=m.offset;U7u=40;break;case 22:U7u=d > m * l.Pea?21:35;break;case 39:var j79="norebu";j79+="f";j79+="f";return {complete:!0,reason:j79};break;case 42:return (p=Math.min(v,k + t),{complete:!1,gI:p,progress:h(p)});break;case 37:var a0C="1SIYbZr";a0C+="N";a0C+="JCp";a0C+="9";a0C;return {complete:!1,gI:p,progress:h(p)};break;case 11:var T1P="not";T1P+="h";T1P+="r";T1P+="oughp";T1P+="ut";return {complete:!1,gI:p,reason:T1P};break;}}}};break;}}})().pKb;},13550:function(r,b,a){var d,g;function c(e,f){return e && e.Er && (f || !1 !== e.kv);}function n(e,f,l){return "number" === typeof e?Math.min(Math.max(e,f),l):f;}Object.defineProperties(b,{__esModule:{value:!0}});b.Wf=b.console=void 0;b.tKc=c;b.kKc=function(e,f){return !e.slice(f + 1).some(function(l){return c(l);});};b.dda=n;b.CS=function(e,f,l){var k,m,p,v;function h(q){var u;u=e[q];if(!u.Er)return (g && !u.Rp && b.console.log("Stream [" + q + "] " + u.id + " (" + u.bitrate + " Kbps): Not available"),g && u.aA && b.console.log("Stream [" + q + "] " + u.id + " (" + u.bitrate + " Kbps): Failed"),!1);if(l && !l(u,q))return !1;g && b.console.log("Stream [" + q + "] " + u.id + " (" + u.bitrate + " Kbps): Available");return !0;}m=e.length;p=0;v=m;Array.isArray(f) && (p=n(f[0],0,m),v=n(f[1],0,m),f=null !== (k=f[2]) && void 0 !== k?k:p + 1);f=n(f || 0,p + 1,v);for(k=f - 1;k >= p;--k)if(h(k))return k;for(k=f + 1;k < v;++k)if(h(k))return k;g && b.console.log("Found no available streams");return -1;};b.aob=function(e,f){return Math.floor(e / (125 * f) * 1E3);};b.M$a=function(e,f){return Math.ceil(e / 1E3 * f * 125);};b.CM=function(e,f,l,h){var k,m;m=e.buffer.Mj - e.buffer.sd;l=null !== (k=e.Ak) && void 0 !== k?k:l.Ak;return e.state === d.Sb.Pn || e.state === d.Sb.El?!0:e.state === d.Sb.yf && m >= l - (null !== f && void 0 !== f?f:0)?!1:h;};b.Nla=function(e,f){e=e.rdc;return void 0 === e?f:e;};r=a(66164);d=a(65161);b.console=new r.platform.Console("ASEJS_STREAM_SELECTOR","media|asejs");g=!1;b.Wf=(function(){function e(f){if(!(this instanceof e))return new e(f);this.dd=f;}return e;})();},42556:function(r,b,a){var c,n,d,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.CY=b.DY=b.lQ=b.mQ=b.xZ=void 0;c=a(16096);Object.defineProperties(b,{xZ:{enumerable:!0,get:function(){return c.xZ;}}});n=a(35479);Object.defineProperties(b,{mQ:{enumerable:!0,get:function(){return n.mQ;}}});d=a(29217);Object.defineProperties(b,{lQ:{enumerable:!0,get:function(){return d.lQ;}}});g=a(56556);Object.defineProperties(b,{DY:{enumerable:!0,get:function(){return g.DY;}}});e=a(56841);Object.defineProperties(b,{CY:{enumerable:!0,get:function(){return e.CY;}}});},56841:function(r,b,a){var c,n,d,g,e,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.CY=void 0;c=a(5163);n=a(26388);d=a(33923);g=a(72793);e=a(52571);f=a(45247);l=a(7559);r=(function(){function h(){}h.prototype.Ebb=function(k,m,p,v,q,u,t,w){void 0 === t && (t=[]);m=this.z5b(k,m,p,q,u,v,w);switch(k.Rbc){case "videofirst":return this.rXb(m,u,t);default:return this.qXb(m,u,t);}};h.prototype.qXb=function(k,m,p){var u,t,w;function v(x,z){return Math.exp((z.Gb?Math.log(z.Gb):0) + (x.Ula?.13 * Math.log(25 * (x.Ula - 1)):0));}function q(x,z,y,A){var B,C;B=v(x,z);C=v(y,A);x=y.bitrate - x.bitrate + (A.bitrate - z.bitrate);return 0 !== x?(C - B) / x:0;}p=0 < p.length?p[0]:void 0;u=[];t=0;w=0;for(u.push(new d.EE({audio:k[t],video:m[w],text:p}));t + 1 < k.length && w + 1 < m.length;)(t=[{Tla:q(k[t],m[w],k[t],m[w + 1]),LHa:[t,w + 1]},{Tla:q(k[t],m[w],k[t + 1],m[w]),LHa:[t + 1,w]},{Tla:q(k[t],m[w],k[t + 1],m[w + 1]),LHa:[t + 1,w + 1]}],t.sort(function(x,z){return x.Tla - z.Tla;}),w=c.__read(t[t.length - 1].LHa,2),t=w[0],w=w[1],u.push(new d.EE({audio:k[t],video:m[w],text:p})));if(w + 1 < m.length)for(w++;w < m.length;w++)u.push(new d.EE({audio:k[t],video:m[w],text:p}));if(t + 1 < k.length)for(t++;t < k.length;t++)u.push(new d.EE({audio:k[t],video:m[w],text:p}));return u;};h.prototype.rXb=function(k,m,p){var v,q,u;q=[];p=0 < p.length?p[0]:void 0;(0,e.assert)(0 < k.length && 0 < m.length,"We should have at least one video stream and one audio stream");if(0 < k.length){u=k[0];try{for(var t=c.__values(m),w=t.next();!w.done;w=t.next())q.push(new d.EE({audio:u,video:w.value,text:p}));}catch(z){var x;x={error:z};}finally{try{w && !w.done && (v=t.return) && v.call(t);}finally{if(x)throw x.error;}}if(1 < k.length && 0 < m.length)for((m=m[m.length - 1],x=1);x < k.length;x++)q.push(new d.EE({audio:k[x],video:m,text:p}));}return q;};h.prototype.Nsc=function(k,m,p,v){var q,u;q=m && m.Ih(n.u.X);if(v === f.Sb.Pn || !q)return !1;u=m.Ih(n.u.X);if(!p.some(function(t){return t === u;}))return !1;m=u.profile;return k.yq && 0 <= k.yq.indexOf(m)?!1:!0;};h.prototype.z5b=function(k,m,p,v,q,u,t){if(this.Nsc(k,t,v,u))v=[t.Ih(n.u.X)];else if((v=new g.tTa(k).Ug(v,void 0,void 0,void 0,u),t=v[0],q=q[0],!(0,l.ckb)(t.profile,k))){k=0;t && t.Er && t.jb && t.jb.confidence?(m=m(t.jb,p,u,0,!1),k=Math.floor(m.lower) || 1):q && q.Er && q.jb && q.jb.confidence && (m=m(q.jb,p,u,0,!1),k=Math.floor(m.lower) || 1);m=v.length - 1;for(m;0 < m && !(k && v[m].bitrate < .15 * k);--m);v=[v[m]];}return v;};return h;})();b.CY=r;},56556:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q;function c(u){u.forEach(function(t){return t.xq=!1;});}Object.defineProperties(b,{__esModule:{value:!0}});b.DY=void 0;r=a(5163);n=r.__importStar(a(17267));d=a(66164);g=a(91176);e=a(65161);f=a(62156);l=r.__importDefault(a(29340));h=a(33923);a(52571);k=a(8149);m=a(3082);p=a(35479);v=a(44284);q=a(13550);new d.platform.Console("ASEJS_JOINT_STREAM_SELECTOR","media|asejs");a=(function(){function u(t,w,x,z,y){var t7C;t7C=2;for(;t7C !== 6;){switch(t7C){case 2:this.Aub=t;this.config=w;t7C=5;break;case 5:this.h0=x;this.kP=z;t7C=3;break;case 3:var C9j="de";C9j+="fau";C9j+="lt";var S4Q="1SIY";S4Q+="b";S4Q+="ZrN";S4Q+="JC";S4Q+="p9";S4Q;t || (t=w.ima);this.up=new ((m.T6[t] || m.T6[C9j])())(this);y && (this.vyc=new p.mQ(w,e.u.V));t7C=6;break;}}}var x2z;x2z=2;for(;x2z !== 17;){switch(x2z){case 2:Object.defineProperties(u.prototype,{BD:{get:function(){var P_j;P_j=2;for(;P_j !== 1;){switch(P_j){case 2:return this.jK;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{HT:{get:function(){var y$d;y$d=2;for(;y$d !== 1;){switch(y$d){case 2:return this.kK;break;case 4:return this.kK;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{SIa:{get:function(){var y7_,t,w;y7_=2;for(;y7_ !== 5;){switch(y7_){case 2:return Math.max(null !== (t=this.BD) && void 0 !== t?t:0,null !== (w=this.HT) && void 0 !== w?w:0);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{r5:{get:function(){var m6u;m6u=2;for(;m6u !== 1;){switch(m6u){case 2:return this.vyc;break;}}},enumerable:!1,configurable:!0}});x2z=3;break;case 18:return u;break;case 3:u.prototype.EV=function(t,w,x,z,y,A,B){var T$s,M,x4p,C,D,E,F,G,J,N,I;T$s=2;for(;T$s !== 23;){switch(T$s){case 17:z=this.up.Fo;T$s=6;break;case 11:T$s=(G=x.dd)?10:20;break;case 12:x.Uf=t.state;T$s=11;break;case 25:T$s=24;break;case 18:T$s=x4p === e.Sb.lf?17:16;break;case 16:T$s=x4p === e.Sb.El?15:27;break;case 6:M=J[0].Ih(e.u.V);(0,k.bm)(M) && (this.kP.CM=(0,q.CM)(t,M.track.Ll.H,G,this.kP.CM));x=z.call(this.up,G,t,w,I,!!y,N,x);T$s=12;break;case 10:var c9L="playi";c9L+="n";c9L+="g";var r7r="min_fr";r7r+="a";r7r+="gm";r7r+="ent_vmaf";(this.h0.uO(G.Ih(e.u.X)),this.kP.uO(G.Ih(e.u.V)),this.QJa(w.first,G,E.Mj - E.sd),x.SH=G.gb || 0,x.jb=G.jb,x.reason && (G.Vr=x.reason,r7r !== x.reason && (G.$Oa=x.wr,G.sT=x.sT,G.iHa=null === (C=x.jb) || void 0 === C?void 0:C.U_,G.jHa=null === (D=x.jb) || void 0 === D?void 0:D.ck)),w=this.eKa(J,G,E,t,B,y),x.fm=w || x.fm,I && !N && G.bitrate < I.bitrate && (this.jK=E.Kk),t.state !== e.Sb.yf && t.state !== e.Sb.vi?(I=(0,f.$qb)(t.state),A=this.Az(t.buffer,I,t.playbackRate,G,A),(x.al=A.complete)?x.mAa=A.reason:(x.al=!1,x.gI=A.gI,x.n4=A.n4,x.progress=A.progress)):(x.al=!0,x.mAa=c9L));T$s=20;break;case 7:z=this.up.bu;T$s=6;break;case 8:x4p=t.state;T$s=x4p === e.Sb.Pn?7:18;break;case 15:z=this.up.uub;T$s=6;break;case 3:t.state === e.Sb.Pn && (this.kK=this.jK=void 0);void 0 !== z && this.M5(w,t.state,t.buffer,z);T$s=8;break;case 2:(E=null === t || void 0 === t?void 0:t.buffer,F=d.platform.time.ya(),G=this.config,J=w.first);c(w.first);(N=this.dKa(G,t,w.first),I=N.wCa);N=N.LEa;T$s=3;break;case 27:T$s=x4p === e.Sb.vi?26:25;break;case 20:t.hS && G && (0,l.default)(this.PMa(G,E,t,F),x);return x;break;case 26:z=this.up.tub;T$s=6;break;case 24:z=this.up.Xe;T$s=6;break;}}};u.prototype.Az=function(t,w,x,z,y){var j8U;j8U=2;for(;j8U !== 1;){switch(j8U){case 2:return this.up.hab(t,w,x,z,y,this.config);break;}}};u.prototype.Cwb=function(t,w,x){var w9l;w9l=2;for(;w9l !== 1;){switch(w9l){case 2:n.Dr(w)?this.jK=this.kK=void 0:w.bitrate < x.bitrate && (this.kK=t);w9l=1;break;}}};u.prototype.M5=function(t,w,x,z){var k0B,y,A,B;k0B=2;for(;k0B !== 5;){switch(k0B){case 2:y=this;t.afa(function(C){var B9F;B9F=2;for(;B9F !== 1;){switch(B9F){case 2:y.FS(C,function(D){var U82;U82=2;for(;U82 !== 1;){switch(U82){case 2:D.Er && D.jb && D.jb.confidence?(A !== D.jb && (A=D.jb,B=z(D.jb,x,w,0,!1)),D.gb=Math.floor(B.lower) || 1,D.J7=void 0 !== B.upper?Math.floor(B.upper):1):D.gb=void 0;U82=1;break;}}});B9F=1;break;}}});k0B=5;break;}}};x2z=6;break;case 6:u.prototype.eKa=function(t,w,x,z,y,A){var x3P,B;x3P=2;for(;x3P !== 4;){switch(x3P){case 1:B=(0,g.oc)(t,function(C,D){var e2F;e2F=2;for(;e2F !== 1;){switch(e2F){case 2:p$i87.U73(0);var l5K=p$i87.g7m(0,1);return t[D - l5K] === w;break;}}}) || w;return this.r5.ehb({RF:x.Mj - x.sd,E$a:x.Mo || 0,C$a:x.Xu || 0,sd:x.sd,vmb:t[0].Ve,dd:w.Ve,azb:B.Ve,Exb:t[t.length - 1].Ve,Uf:z.state,playbackRate:z.playbackRate,Ce:z.Ce,QL:y,jq:A});break;case 9:x3P=this.r5?0:8;break;case 2:x3P=this.r5?1:4;break;}}};u.prototype.PMa=function(t,w,x,z){var g6n,y,A,B,C,D,E,F;g6n=2;for(;g6n !== 17;){switch(g6n){case 2:(C={},D=t.jb,E=this.config.kya);g6n=1;break;case 1:g6n=D && E && 0 < E.length?5:9;break;case 11:C.arb=null !== (B=null === (A=null === (y=d.platform.G6b) || void 0 === y?void 0:y.call(d.platform)) || void 0 === A?void 0:A[x.mediaType === e.u.V?1:0]) && void 0 !== B?B:-1;C.Fj=x && x.Fj;C.ku=z;C.lE=d.platform.time.ya();g6n=18;break;case 5:F=[];E.forEach(function(G){var K$U,J;K$U=2;for(;K$U !== 4;){switch(K$U){case 2:J=G.stat;J=(G=D[G.filter]) && G[J];F.push(isNaN(J)?-1:J);K$U=4;break;}}});g6n=3;break;case 9:C.Kk=w.Kk;E=x && x.Ce;t=t.Ha;C.et=t && void 0 !== E && !isNaN(E) && 0 <= E && E < t.length?t.tq(E):w.Kk;g6n=14;break;case 14:C.bpb=D && D.gb && D.gb.xa || 0;C.sAa=w.Mj - w.sd;C.J$a=w.Mo;g6n=11;break;case 18:return C;break;case 3:C.prb=F;g6n=9;break;}}};u.prototype.dKa=function(t,w,x){var K4E,A,B,z,y;K4E=2;for(;K4E !== 7;){switch(K4E){case 4:(A=(0,g.oc)(x,function(C){var A3T;A3T=2;for(;A3T !== 1;){switch(A3T){case 4:return C.isEqual(z);break;case 2:return C.isEqual(z);break;}}}),B=(0,g.oc)(x,function(C){var e7q;e7q=2;for(;e7q !== 1;){switch(e7q){case 2:return C.isEqual(y);break;}}}));K4E=3;break;case 3:A || (z=(0,v.Mhb)(x,z.bitrate,z.Gb),w=!0,t.Bob && y && B && (w=!1));K4E=9;break;case 8:w=!0;K4E=9;break;case 5:K4E=(z=this.Gfa())?4:8;break;case 2:y=this.Gfa();w=!1;K4E=5;break;case 9:return {wCa:z,LEa:w};break;}}};u.prototype.Gfa=function(){var g8P;g8P=2;for(;g8P !== 5;){switch(g8P){case 1:return new h.EE({audio:this.h0.kl,video:this.kP.kl});break;case 2:g8P=this.h0.kl || this.kP.kl?1:5;break;}}};x2z=11;break;case 11:u.prototype.xk=function(t){var d4f;d4f=2;for(;d4f !== 1;){switch(d4f){case 2:return t === e.u.X?this.h0:this.kP;break;}}};u.prototype.qvb=function(t){var d_T,w,x;d_T=2;for(;d_T !== 4;){switch(d_T){case 2:(null === (w=t.track) || void 0 === w?void 0:w.mediaType) === e.u.X && (this.h0=t);(null === (x=t.track) || void 0 === x?void 0:x.mediaType) === e.u.V && (this.kP=t);d_T=4;break;}}};u.prototype.QJa=function(t,w,x){var G4q;G4q=2;for(;G4q !== 7;){switch(G4q){case 2:G4q=this.config.Fdb?1:5;break;case 3:G4q=0 <= x?9:7;break;case 8:--x;G4q=3;break;case 9:(t[x - 1] && t[x - 1].isEqual(w) && t[x].X1(function(z){var s5G,y;s5G=2;for(;s5G !== 5;){switch(s5G){case 2:null !== (y=z.Ha) && void 0 !== y && y.length || (z.xq=!0);s5G=5;break;}}}),t[x + 1] && t[x + 1].isEqual(w) && t[x].X1(function(z){var Q9q,y;Q9q=2;for(;Q9q !== 5;){switch(Q9q){case 2:null !== (y=z.Ha) && void 0 !== y && y.length || (z.xq=!0);Q9q=5;break;}}}));G4q=8;break;case 1:t.forEach(function(z){var I7h;I7h=2;for(;I7h !== 1;){switch(I7h){case 2:return z.xq=!z.Ha || !z.Ha.length;break;}}});G4q=7;break;case 4:p$i87.s$f(12);var s4t=p$i87.a0K(9,16,15,7);x=t.length - s4t;G4q=3;break;case 5:G4q=this.config.Wvb && x > this.config.M4 && !w.fa && t.every(function(z){var h7l;h7l=2;for(;h7l !== 1;){switch(h7l){case 2:return !z.xq;break;}}})?4:7;break;}}};u.prototype.FS=function(t,w){var I90,x;I90=2;for(;I90 !== 3;){switch(I90){case 1:I90=0 <= x?5:3;break;case 2:p$i87.U73(11);var Q13=p$i87.g7m(15,14);x=t.length - Q13;I90=1;break;case 7:I90=2 > x?0:4;break;case 5:w(t[x],x,t);I90=4;break;case 4:--x;I90=1;break;}}};x2z=18;break;}}})();b.DY=a;},29217:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.lQ=void 0;c=a(5163);r=(function(){function n(d,g,e){var f,l,h;this.Lt=d;"HYBRID" === d?this.lT=e:"CCSP" === d && (this.iE=null !== (f=g.iE) && void 0 !== f?f:0,this.OC=null !== (l=g.OC) && void 0 !== l?l:0,this.XD=null !== (h=g.XD) && void 0 !== h?h:0);}Object.defineProperties(n.prototype,{gsb:{get:function(){var d;return "HYBRID" === this.Lt?[null !== (d=this.lT.fm) && void 0 !== d?d:0]:"CCSP" === this.Lt?[this.iE,this.OC,this.XD]:[];},enumerable:!1,configurable:!0}});n.prototype.Mnb=function(){return Math.min(this.iE,this.OC,this.XD);};n.prototype.eha=function(){return this.gsb.some(function(d){return 0 < d;});};n.prototype.FOa=function(d){return new n(this.Lt,{iE:d * this.iE,OC:d * this.OC,XD:d * this.XD});};n.prototype.TJa=function(d,g,e,f){var l;l=8 * d / Math.max(e - g,1);if(!this.eha())return !1;d=this.gsb.map(function(h){return Math.abs(l - h) / h;});return Math.min.apply(Math,c.__spreadArray([],c.__read(d),!1)) < f;};return n;})();b.lQ=r;},35479:function(r,b,a){var v,q,u;function c(t){return d(t.dd);}function n(t,w){var x,z,y,A,B;y=g(w.doc,t.Uf,null !== (z=null === (x=t.dd.jb) || void 0 === x?void 0:x.confidence) && void 0 !== z?z:v.KJ.HAVE_NOTHING);if(0 === y.length)return 0;a:switch(w.rjc){case "implicit":w=p(w,t.dd);w=t.RF / w;break a;case "capacityPercentage":w=Math.max(t.E$a / t.C$a || 0,t.RF / w.eN);break a;default:w=0;}z=-1;for(x=0;x < y.length;x++)if(y[x].Kca >= w){z=x;break;}if(-1 === z)return e(t,y[y.length - 1].tBa);if(0 === z)return e(t,y[0].tBa);A=y[z - 1].Kca;x=e(t,y[z - 1].tBa);B=y[z].Kca;t=e(t,y[z].tBa);y=Math.min((w - A) / (B - A),1);return (1 - y) * x + y * t;}function d(t){var w,x;x=null === (w=null === t || void 0 === t?void 0:t.R) || void 0 === w?void 0:w.TT;return x?x[t.mediaType] || 0:0;}function g(t,w,x){var y;function z(A,B){return void 0 !== A && 0 < A.filter(function(C){return C === B;}).length;}y=t.filter(function(A){return z(A.kka,w);});0 === y.length && (y=t.filter(function(A){return !A.kka || 0 === A.kka.length;}));t=y.filter(function(A){return z(A.kob,x);});0 === t.length && (t=y.filter(function(A){return !A.kob || 0 === A.kob.length;}));return t.sort(function(A,B){return A.Kca - B.Kca;});}function e(t,w){var x,z,y,A;if(!w || "object" !== typeof w)return 0;x=t.dd;z=t.azb;y=t.Exb;A={selectedFragmentBitrate:f(t.QL,x,t.Ce) * t.playbackRate,selectedPeakBitrate:(x.Hv || l(x) || 0) * t.playbackRate,upswitchPeakBitrate:(z.Hv || l(z) || 0) * t.playbackRate,maxPeakBitrate:(y.Hv || l(y) || 0) * t.playbackRate,selectedAverageBitrate:l(x) * t.playbackRate,upswitchAverageBitrate:l(z) * t.playbackRate,maxAverageBitrate:d(x) * t.playbackRate,bufferLevelMs:t.RF,observedThroughput:h(t.dd) || 0,averagetp:k(t.dd) || 0,stddevtp:m(t.dd) || 0};t=w.offset || 0;return Object.keys(A).reduce(function(B,C){return B + (w[C] || 0) * A[C];},t);}function f(t,w,x){var z;return w?void 0 !== x && w.Ha?(void 0 === t?null === (z=w.Ha) || void 0 === z?void 0:z.get(x).gAa:t.ugb(w,x).gAa) || w.Hv || 0:w.Hv || 0:0;}function l(t){return (null === t || void 0 === t?void 0:t.bitrate) || 0;}function h(t){var w;t=t.jb;return (null === (w=null === t || void 0 === t?void 0:t.gb) || void 0 === w?void 0:w.xa) || 0;}function k(t){var w;t=t.jb;return (null === (w=null === t || void 0 === t?void 0:t.Dp) || void 0 === w?void 0:w.jR) || 0;}function m(t){var w;t=t.jb;return Math.sqrt((null === (w=null === t || void 0 === t?void 0:t.Dp) || void 0 === w?void 0:w.EW) || 0);}function p(t,w){var x,z;x=t.fvc;x=k(w) + x * m(w);w=w.gb || 0;z=0;0 < w && (z=x / w - 1);return t.Tfc + t.evc * Math.max(0,z);}Object.defineProperties(b,{__esModule:{value:!0}});b.mQ=void 0;b.fJc=g;b.tJc=h;b.mJc=p;r=a(66164);v=a(65161);q=a(29217);new r.platform.Console("ASEJS_PACERATE_SELECTOR","media|asejs");u={maxStreamBitrate:c,"static":function(t,w){return w.rwb;},none:function(){return 0;},regression:n,epsGreedy:function(t,w){return Math.min(n(t,w) || 0,h(t.dd));},"default":c};a=(function(){var E$q;E$q=2;function t(w,x){var M$l;M$l=2;for(;M$l !== 7;){switch(M$l){case 2:var C9l="d";C9l+="ef";C9l+="au";C9l+="l";C9l+="t";var X8y="1SIYb";X8y+="ZrN";X8y+="JC";X8y+="p9";this.bb=w;X8y;this.algorithm=(u[x === v.u.X?this.bb.ojc:this.bb.njc] || u[C9l]).bind(this);M$l=4;break;case 4:M$l=w.yea?3:9;break;case 8:var g3h="C";g3h+="CS";g3h+="P";this.Lt=g3h;M$l=7;break;case 3:var t_M="H";t_M+="YB";t_M+="RI";t_M+="D";this.Lt=t_M;M$l=7;break;case 9:M$l=w.wea || w.vea || w.ADa?8:7;break;}}}for(;E$q !== 9;){switch(E$q){case 2:t.prototype.Efb=function(w,x){var d_6,z,y,A,B;d_6=2;for(;d_6 !== 14;){switch(d_6){case 2:(y=this.bb.gda,A=null === (z=x.vmb) || void 0 === z?void 0:z.Hv);x=f(x.QL,x.dd,x.Ce) * x.playbackRate;z=(null === y || void 0 === y?void 0:y.PKc) || [0,0,0];d_6=4;break;case 6:var Z7d="C";Z7d+="C";Z7d+="S";Z7d+="P";Z7d === this.Lt && (B=new q.lQ(this.Lt,y?{iE:this.zfa(w,y.yNa[0],A,x,z[0]),OC:this.zfa(w,y.yNa[1],A,x,z[1]),XD:this.zfa(w,y.yNa[2],A,x,z[2])}:{iE:0,OC:0,XD:0},void 0));d_6=7;break;case 4:var x7g="HYB";x7g+="R";x7g+="I";x7g+="D";d_6=x7g === this.Lt?3:6;break;case 7:return B;break;case 3:B=w;this.bb.gda && (B=this.zfa(w,y.yNa[0],A,x,z[0]));d_6=8;break;case 8:B=new q.lQ(this.Lt,void 0,{Y9b:1,fm:B,NAa:Number(this.bb.NAa),cfc:this.bb.Sec,dOa:Number(this.bb.dOa)});d_6=7;break;}}};t.prototype.a7b=function(w){var x6E,x,z;x6E=2;for(;x6E !== 5;){switch(x6E){case 2:var A$K="s";A$K+="ta";A$K+="ti";A$K+="c";var D9U="C";D9U+="C";D9U+="SP";var Q9I="H";Q9I+="Y";Q9I+="B";Q9I+="R";Q9I+="ID";z=null === (x=w.dd) || void 0 === x?void 0:x.mediaType;return Q9I !== this.Lt || this.bb.g0b?D9U === this.Lt && (z === v.u.X && !this.bb.e0b || z === v.u.V && !this.bb.f0b)?0:A$K === this.bb.pjc?this.bb.rwb:d(w.dd):0;break;}}};t.prototype.zfa=function(w,x,z,y,A){var j$U;j$U=2;for(;j$U !== 9;){switch(j$U){case 5:p$i87.s$f(13);w=Math.ceil(p$i87.g7m(w,x));w=Math.max(w,Math.ceil(y * A));return w < (this.bb.gda.QKc || 0) * (z || 0)?0:w;break;case 1:return 0;break;case 6:return 2;break;case 2:j$U=!x || 0 === w?1:5;break;case 7:j$U=+x && 7 != w?4:3;break;}}};t.prototype.ehb=function(w){var f8i,x,z,y;f8i=2;for(;f8i !== 7;){switch(f8i){case 9:x=w.jq?this.algorithm(w,this.bb):this.a7b(w);return this.Efb(x,w);break;case 2:(z=null === (x=w.dd) || void 0 === x?void 0:x.mediaType,y=this.bb.yea || z === v.u.X && this.bb.vea || z === v.u.V && this.bb.wea);x=this.Efb(0,w);z=this.bb.gda;f8i=4;break;case 4:f8i=!this.Lt || !y || !z || (y=this.bb.Ewc) && w.Ce && 0 === w.Ce % y || w.RF < z.sA?3:9;break;case 3:return x;break;}}};return t;break;}}})();b.mQ=a;},70753:function(r,b,a){var d,g,e;function c(f,l){var h;l.some(function(k){var m;m=k.profiles;(m=m && 0 <= m.indexOf(f)) && (h=k.override);return m;});return h;}function n(f,l,h,k,m,p){return p && f > m.ED && (void 0 === h || Number(l) > h || k - h > m.j4);}Object.defineProperties(b,{__esModule:{value:!0}});d=a(5163);g=a(91176);e=a(13550);r=d.__importDefault(a(46263));r=(function(f){var t2h;t2h=2;for(;t2h !== 3;){switch(t2h){case 4:return l;break;case 2:d.__extends(l,f);l.prototype.bu=function(h,k,m,p){var x_1,v,q,u,t,w,x;x_1=2;for(;x_1 !== 3;){switch(x_1){case 4:return f.prototype.bu.call(this,w,k,m,p);break;case 2:(w=h,x=m.first);x=(p || x[0]).$d;(x=h && h.yq && 0 <= h.yq.indexOf(x)?c(x,h.LO):c(x,h.wca)) && (w={Nza:null !== (v=x.audioBwFactor) && void 0 !== v?v:h.Nza,ND:null !== (q=x.minInitAudioBitrate) && void 0 !== q?q:h.ND,Gv:null !== (u=x.maxInitAudioBitrate) && void 0 !== u?u:h.Gv,dU:null !== (t=x.minRequiredAudioBuffer) && void 0 !== t?t:h.dU});x_1=4;break;}}};l.prototype.Xe=function(h,k,m,p){var U_R=p$i87;var F4d,v,q,y,u,t,w,x,z,A;F4d=2;for(;F4d !== 44;){switch(F4d){case 15:m=w[v];F4d=28;break;case 21:F4d=y < w.length - 1 && z > m.Mwc * x * k.playbackRate?35:15;break;case 33:F4d=(p.Ha && p.Ha.length || t) && n(A,this.py.HT,this.py.BD,x.Kk,m,!!k.bH)?32:15;break;case 19:z=p.jb?p.jb.gb.xa * z:0;F4d=18;break;case 3:return new e.Wf(p);break;case 25:F4d=0 <= t?24:15;break;case 16:v=0;F4d=15;break;case 18:v=y=(0,g.nk)(w,function(B){var U_j;U_j=2;for(;U_j !== 1;){switch(U_j){case 2:return B.isEqual(p);break;}}});F4d=17;break;case 26:U_R.U73(4);t=U_R.g7m(1,y);F4d=25;break;case 22:t--;F4d=25;break;case 32:F4d=++y < w.length?31:15;break;case 2:var h2o="Must have at";h2o+=" least ";h2o+="one";h2o+=" selected strea";h2o+="m";q=m.first;(0,g.assert)(p,h2o);F4d=5;break;case 12:m=h.AQb;z=k.buffer.Mj - k.buffer.sd;y=null !== (v=k.Ak) && void 0 !== v?v:h.Ak;U_R.U73(14);var R0W=U_R.g7m(14,19,4);U_R.s$f(15);var H09=U_R.a0K(3,0,2);z=Math.max(.1,R0W - h.lxb) * Math.pow(Math.min(H09,z / y),h.kxb);F4d=19;break;case 29:(m=h.zQb,z=p.gb || 0);F4d=18;break;case 6:F4d=w && 1 < w.length?14:28;break;case 24:F4d=(x=w[t],x.yD && (0 === t || x.bitrate * k.playbackRate * m.l_b < z))?23:22;break;case 5:(u=p.$d,t=p.fa);F4d=4;break;case 31:F4d=(t=w[y],t.yD && z > m.Mwc * t.bitrate * k.playbackRate)?30:32;break;case 9:h.LO.some(function(B){var m_x,C,D,E,F,G,J;m_x=2;for(;m_x !== 9;){switch(m_x){case 6:m_x=D?7:5;break;case 12:return D;break;case 2:(C=B.profiles,D=C && 0 <= C.indexOf(u));m_x=1;break;case 3:return D;break;case 5:(E=(B=B.override) && B.minRequiredAudioBuffer || h.dU,F=B && B.minAudioBitrate || -Infinity,G=B && B.maxAudioBitrate || Infinity,J=k.buffer.Xu || Infinity);m_x=4;break;case 4:w=q.filter(function(N){var O0g,I;O0g=2;for(;O0g !== 5;){switch(O0g){case 2:I=N.bitrate;return I >= F && I <= G && 0 <= C.indexOf(N.$d) && I * E / 8 < J;break;}}});m_x=3;break;case 1:m_x=D?5:3;break;}}});m=p;F4d=6;break;case 4:F4d=!(h && h.yq && 0 <= h.yq.indexOf(u))?3:9;break;case 14:(x=p.bitrate,z=m=void 0);F4d=13;break;case 13:F4d=t?12:29;break;case 30:v=y;F4d=15;break;case 28:return new e.Wf(m);break;case 35:x=k.buffer;A=x.Mj - x.sd;F4d=33;break;case 17:F4d=0 > y?16:27;break;case 27:F4d=y && z < m.l_b * x * k.playbackRate?26:21;break;case 23:v=t;F4d=15;break;}}};t2h=4;break;case 14:return l;break;}}function l(h){var X0y;X0y=2;for(;X0y !== 4;){switch(X0y){case 2:h=f.call(this,h) || this;X0y=1;break;case 1:var y7r="1SIY";y7r+="bZ";y7r+="r";y7r+="NJ";y7r+="Cp9";y7r;return h;break;}}}})(r.default);b["default"]=r;},46263:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);n=a(91176);d=a(13550);r=(function(g){function e(f){return g.call(this,f) || this;}c.__extends(e,g);e.prototype.bu=function(f,l,h){var k,m,v,q,u,t,w;k=new d.Wf();m=f.Nza || 1;h=h.first;for(var p=h.length - 1;0 <= p;--p){v=void 0;q=h[p];u=q.bitrate;t=q.gb || 0;w=!!t;q.Er?(q=null !== (v=f.Gv) && void 0 !== v?v:Infinity,v=u > q || !(u * f.dU / 8 < (l.buffer.Xu || Infinity))?!1:w?u * l.playbackRate < t / m?!0:!1:u <= f.ND?!0:!1):v=!1;if(v){k.dd=h[p];break;}h[p].yD && (k.dd=h[p]);}return k;};e.prototype.Fo=function(f,l,h,k){(0,n.assert)(k,"Must have at least one selected stream");return new d.Wf(k);};e.prototype.Xe=function(f,l,h,k){(0,n.assert)(k,"Must have at least one selected stream");return new d.Wf(k);};return e;})(a(75498).Dw);b["default"]=r;},58223:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);n=a(91176);d=a(13550);r=(function(g){function e(f){return g.call(this,f) || this;}c.__extends(e,g);e.prototype.Xe=function(f,l,h,k){f=h.first;if(void 0 === k)k=f[(0,d.CS)(f)];else if(!k.yD && (l=(0,n.nk)(f,function(m){return m.isEqual(k);}),k=f[(0,d.CS)(f,l)],void 0 === k))return new d.Wf();return new d.Wf(k);};return e;})(a(75498).Dw);b["default"]=r;},52255:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=c.__importDefault(a(80588));n=a(4620);a=(function(d){function g(e){e=d.call(this,e) || this;e.Xe=n.Xe;return e;}c.__extends(g,d);return g;})(r.default);b["default"]=a;},4620:function(r,b,a){var c,n,d,g,e,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Xe=void 0;r=a(5163);c=r.__importStar(a(17267));n=a(66164);d=a(91176);g=a(13550);e=a(50468);f=r.__importDefault(a(80588));b.Xe=(function(){var K2R;K2R=2;for(;K2R !== 5;){switch(K2R){case 2:var B8j="1";B8j+="SIY";B8j+="bZrNJCp";B8j+="9";B8j;return {Xe:function(l,h,k,m,p,v){var b4P,q,u,t,w,x,z,N,A,B,C,F,G,J,y,E,I,D;b4P=2;for(;b4P !== 66;){switch(b4P){case 2:var O9_="p";O9_+="layer";O9_+=" missing";O9_+=" fragmentI";O9_+="ndex";var Y8g="Must h";Y8g+="av";Y8g+="e a selected stream for selectPlaying";(0,d.assert)(m,Y8g);(0,d.assert)(c.dc(h.Ce),O9_);b4P=4;break;case 4:(u=l.juc,t=k.first,w=new g.Wf(m),x=null !== (q=h.Ce) && void 0 !== q?q:-1);q=u[0].f;z=u[u.length - 1].f;b4P=8;break;case 36:b4P=void 0 !== G?54:45;break;case 46:N++;b4P=48;break;case 24:u=h.buffer.Xu - u.la;x=!0;b4P=22;break;case 77:b4P=u[z].f === x?76:75;break;case 60:return w;break;case 54:N=h.Ce;b4P=53;break;case 17:k=w.dd;p=[];b4P=27;break;case 72:--z;b4P=71;break;case 21:b4P=q < t.length?35:61;break;case 58:q=void 0;b4P=57;break;case 10:x=z;b4P=20;break;case 39:E=void 0;z.jb && z.jb.tputTrace && (E=z.jb.tputTrace);(F=[],G=z.Ha,J=0);b4P=36;break;case 18:b4P=l.K0b?17:60;break;case 43:D.push(E.gq);D.push(E.Kt);D.push(E.TLa);b4P=40;break;case 40:D.push(E.max);b4P=39;break;case 12:y=u[z].f;b4P=11;break;case 31:b4P=z.jb && z.jb.tdigest?30:39;break;case 22:q=0;b4P=21;break;case 55:b4P=z < u.length?77:73;break;case 6:p$i87.s$f(4);z=p$i87.g7m(q,x);0 > z && (z=0);z >= u.length && (z=u.length - 1);b4P=12;break;case 8:b4P=x < q || x > z?7:6;break;case 30:E=z.jb.tdigest;D.push(E.min);D.push(E.SLa);D.push(E.Jt);b4P=43;break;case 73:x=q;b4P=20;break;case 11:b4P=y === x?10:58;break;case 68:b4P=u[z].f < x?73:67;break;case 47:J+=G.get(N).Ob.H;b4P=46;break;case 48:b4P=N < G.length?47:45;break;case 67:z--;b4P=71;break;case 63:z === k && (x=!1);b4P=62;break;case 62:q++;b4P=21;break;case 45:G=void 0;h.zRb && (G=n.platform.time.ya() - h.zRb);p.push({Ce:h.Ce,QNc:G,jLc:J,rGc:y,MNc:D,ONc:E,sAa:v,Afb:u,VGc:F,HKc:m.bitrate,IKc:null !== (A=m.Gb) && void 0 !== A?A:0,tHc:z.bitrate,uHc:null !== (B=z.Gb) && void 0 !== B?B:0,dNc:k.bitrate,eNc:null !== (C=k.Gb) && void 0 !== C?C:0,Xga:x});b4P=63;break;case 59:return f.default.prototype.Xe.call(this,l,h,k,m,p,v);break;case 27:v=h.buffer;v=v.Mj - v.sd;u=e.Ro.Eda(h.buffer.Ha);b4P=24;break;case 74:z++;b4P=55;break;case 76:q=z;b4P=73;break;case 71:b4P=0 <= z?70:73;break;case 69:q=z;b4P=73;break;case 61:w.oGc=p;b4P=60;break;case 7:return f.default.prototype.Xe.call(this,l,h,k,m,p,v);break;case 53:b4P=N < Math.min(N + l.CQb,G.length)?52:49;break;case 75:b4P=u[z].f > x?73:74;break;case 52:I=G.get(N);F.push({d:I.Ob.H,b:I.la});b4P=50;break;case 50:N++;b4P=53;break;case 70:b4P=u[z].f === x?69:68;break;case 19:w.dd=t[u[x].QMc];b4P=18;break;case 49:N=h.Ce;b4P=48;break;case 35:z=t[q];y=void 0;D=[];z.jb && z.jb.throughput && (y=z.jb.throughput.xa);b4P=31;break;case 56:z+=1;b4P=55;break;case 57:b4P=y < x?56:72;break;case 20:b4P=void 0 !== x?19:59;break;}}}};break;}}})().Xe;},63499:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);n=a(13550);r=(function(d){function g(e){return d.call(this,e) || this;}c.__extends(g,d);g.prototype.Xe=function(e,f,l){e=l.first;return new n.Wf(e[e.length - 1]);};return g;})(a(75498).Dw);b["default"]=r;},65114:function(r,b,a){var c,n,d,g,e,f,l,h,k;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);n=a(91176);d=a(65161);g=a(13550);e=a(48170);f=a(8149);r=a(75498);l=a(57862);h=a(26502);k=a(41379);a=(function(m){function p(v){v=m.call(this,v) || this;v.Xe=l.Xe;v.bu=h.bu;v.Fo=k.Fo;v.UJa=0;return v;}c.__extends(p,m);p.prototype.t6b=function(v,q,u,t){var w;w=u.gb.xa;u=u.Pp;q=q.Ih(d.u.V);if((0,f.bm)(q) && (q=q.track.Ll.H,void 0 !== q))return (t=Math.min(t,q) - v.Hlb * u.xa,void 0 !== u.af && (t-=v.Fha * Math.sqrt(u.af)),t=Math.max(0,t),w * t / q);};p.prototype.EV=function(v,q,u,t,w,x){var z,A,B,C,D,E;z=new g.Wf();q=t.lxb * Math.pow(q,t.kxb);z.dd=v[0];for(var y=v.length - 1;-1 < y;--y){A=v[y];if(A.jb && A.jb.gb){B=A.jb.gb.xa;C=A.bitrate;D=t.f4?this.t6b(t,A,A.jb,u):void 0;E=C * w < (t.f4?D || B:B) * q;e.G && g.console.log("Stream " + y + ": throughput=" + B + ", throughput discount=" + q + ", maxAchievableBitrateWithLatency=" + D + ", bitrate=" + C + ", playbackRate=" + w + ", feasible=" + E + ", live segment ID=" + x);if(E){e.G && g.console.log("Threshold policy selected stream " + y);z.dd=A;break;}}else g.console.warn("Stream has no throughput statistics");}return z;};p.prototype.gxc=function(v,q){this.UJa=Math.max(this.UJa,v,q);};p.prototype.C4b=function(v,q,u,t){var w;w=1;u=u.Ih(d.u.V);(0,f.bm)(u) && (w=t?Math.min(1,v / q):Math.min(1,v / (this.UJa - u.track.Ll.H)));return w;};p.prototype.Jhb=function(v,q){var u,t;v=null === (u=v[v.length - 1]) || void 0 === u?void 0:u.Ih(d.u.V);if(!v)return Infinity;(0,n.assert)(q.Ak,"Player must have a live target buffer duration");(0,n.assert)((0,f.bm)(v),"Max rate stream must be a live stream");return (null !== (t=v.bitrate) && void 0 !== t?t:Infinity) / (q.Ak / v.track.Ll.H);};return p;})(r.Dw);b["default"]=a;},41379:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Fo=void 0;c=a(91176);n=a(13550);d=a(57862);b.Fo=(function(){var e3G;e3G=2;function g(e,f,l,h,k,m,p,v){function q(z){var P6j,y;P6j=2;for(;P6j !== 8;){switch(P6j){case 4:var N$k="bu";N$k+="ff_l";N$k+="t_";N$k+="hist";w=N$k;x=y;return !0;break;case 5:return !1;break;case 1:P6j=!y || (z.bitrate > u?e.$yb:1) * z.bitrate * f.playbackRate > y?5:4;break;case 2:y=z.gb;P6j=1;break;}}}var S36,t,u,x,w;S36=2;for(;S36 !== 27;){switch(S36){case 9:m=void 0;m=(0,c.nk)(k,function(z){var W6X;W6X=2;for(;W6X !== 1;){switch(W6X){case 4:return z.isEqual(h);break;case 2:return z.isEqual(h);break;}}});m=Math.max(m,0);m=Math.min(m + (e.n9a?2:1),k.length);t=(0,n.Nla)(k[0].R,e.ZM) && v?this.Jhb(k,f):Infinity;S36=13;break;case 3:S36=h.gb?9:18;break;case 13:h=(0,c.oc)(k.slice(0,m).filter(function(z){var A65;A65=2;for(;A65 !== 1;){switch(A65){case 4:return z.ds || z.ds < t;break;case 2:return z.ds && z.ds <= t;break;}}}).reverse(),q);S36=12;break;case 5:u=h.bitrate;l=h;S36=3;break;case 20:x=null === h || void 0 === h?void 0:h.gb;S36=18;break;case 11:h=k[0];S36=10;break;case 12:S36=void 0 === h?11:19;break;case 10:var C1v="fallback_";C1v+="low";C1v+="est_accept";C1v+="a";C1v+="ble_stream";w=C1v;S36=20;break;case 18:v=new n.Wf();v.dd=h;l.Jb !== h.Jb && (v.reason=w,v.wr=x);return v;break;case 19:var x2L="selec";x2L+="t_fea";x2L+="sib";x2L+="le_bufferi";x2L+="ng";w=x2L;S36=20;break;case 2:var c1h="Must h";c1h+="ave at least one selected str";c1h+="eam";(0,c.assert)(h,c1h);k=l.first;S36=5;break;}}}for(;e3G !== 5;){switch(e3G){case 2:var l_p="1S";l_p+="I";l_p+="YbZrN";l_p+="JC";l_p+="p9";l_p;return {Fo:function(e,f,l,h,k,m){var y7p;y7p=2;for(;y7p !== 1;){switch(y7p){case 2:var J2R="pla";J2R+="yi";J2R+="ng";return J2R === e.Oca?d.Xe.call(this,e,f,l,h,k,m):g.call(this,e,f,l,h);break;}}}};break;}}})().Fo;},57862:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Xe=void 0;c=a(91176);a(13550);n=a(13550);b.Xe=(function(){var Y$A;Y$A=2;for(;Y$A !== 5;){switch(Y$A){case 2:var W7I="1SIYb";W7I+="Z";W7I+="r";W7I+="NJCp9";W7I;Y$A=1;break;case 3:var Z00="1SIYbZ";Z00+="rNJC";Z00+="p9";Z00;Y$A=0;break;case 1:return {Xe:function(d,g,e,f,l,h,k,m){var g$o,p,v;g$o=2;for(;g$o !== 11;){switch(g$o){case 2:var W84="Must h";W84+="ave at";W84+=" least one s";W84+="ele";W84+="cted stream";(0,c.assert)(f,W84);h=g.buffer.Kk;g$o=4;break;case 4:l=g.buffer.Mj - g.buffer.sd;k=null !== (p=g.Ak) && void 0 !== p?p:d.Ak;this.gxc(l,k);p=this.C4b(l,k,f,d.fJa);g$o=7;break;case 7:e=e.first;k=(0,c.nk)(e,function(q){var v_y;v_y=2;for(;v_y !== 1;){switch(v_y){case 2:return q.isEqual(f);break;}}});v=(0,n.Nla)(e[0].R,d.ZM);g$o=13;break;case 13:m=e.slice(0,(!(void 0 === this.py.BD || h - this.py.BD > d.j4) || v && m?(e.length + k) % e.length:Math.min(e.length - 1,k + d.Lha)) + 1);return this.EV(m,p,l,d,g.playbackRate,g.Ce);break;}}}};break;}}})().Xe;},26502:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.bu=void 0;c=a(91176);n=a(65161);d=a(13550);r=(function(){function g(f,l){var D6c,h,k;D6c=2;for(;D6c !== 13;){switch(D6c){case 2:D6c=f.tT?1:14;break;case 14:return f.Ht;break;case 1:(h=f.tT,k=(0,c.nk)(h,function(m){var t6R;t6R=2;for(;t6R !== 1;){switch(t6R){case 2:return l <= m.r;break;}}}));D6c=5;break;case 3:D6c=-1 === k?9:8;break;case 4:return h[0].d;break;case 9:return h[h.length - 1].d;break;case 8:p$i87.U73(4);f=h[p$i87.a0K(1,k)];h=h[k];D6c=6;break;case 5:D6c=0 === k?4:3;break;case 6:return Math.floor(f.d + (h.d - f.d) * (l - f.r) / (h.r - f.r));break;}}}function e(f,l){var l9o,h;l9o=2;for(;l9o !== 4;){switch(l9o){case 2:l.some(function(k){var X8J,m;X8J=2;for(;X8J !== 4;){switch(X8J){case 2:m=k.profiles;(m=m && 0 <= m.indexOf(f)) && (h=k.override);return m;break;}}});return h;break;}}}var O3c;O3c=2;for(;O3c !== 5;){switch(O3c){case 2:var I5J="1SI";I5J+="YbZ";I5J+="r";I5J+="NJCp9";I5J;return {rya:function(f,l,h,k,m,p,v,q){var I$M,u,t,w;I$M=2;for(;I$M !== 3;){switch(I$M){case 2:h=h.first;(u=new d.Wf(),t=Math.max(f.rA,f.L4),w=(0,d.Nla)(h[0].R,f.ZM) && q?this.Jhb(h,l):Infinity);u.dd=(0,c.oc)(h.filter(function(x){var X4v,z,y;X4v=2;for(;X4v !== 9;){switch(X4v){case 2:(z=x.Ih(n.u.X))?(z=z.$d,z=f && f.yq && 0 <= f.yq.indexOf(z)?e(z,f.LO):e(z,f.wca)):z=void 0;z=z?null !== (y=z.maxInitAudioBitrate) && void 0 !== y?y:f.Gv:f.Gv;y=x.ds?x.ds <= f.KD:!0;return (x.Uu?x.Uu <= z:!0) && y;break;}}}).filter(function(x){var r7Y;r7Y=2;for(;r7Y !== 1;){switch(r7Y){case 2:return x.ds && x.ds <= w;break;}}}).reverse(),function(x){var X9A,y,z;X9A=2;for(;X9A !== 8;){switch(X9A){case 9:var a56="no_hi";a56+="s";a56+="torical_lte_minbit";a56+="rate";var b1J="hist_tput_lt";b1J+="_minb";b1J+="it";b1J+="ra";b1J+="te";var U4T="lt";U4T+="_hist_lte_minb";U4T+="itr";U4T+="a";U4T+="te";z && x.bitrate * l.playbackRate <= z?(u.wr=z,u.reason=U4T,z=!0):z?(u.wr=z,u.reason=b1J,z=!1):(u.reason=a56,z=!0);X9A=3;break;case 3:return z;break;case 4:var g5M="hist_";g5M+="bu";g5M+="ff";g5M+="t";g5M+="ime";z?(x=g(f,y),y=(0,d.M$a)(f.aq,y * f.G4),(0,d.aob)(y,z) <= x?(u.wr=z,u.reason=g5M,z=!0):z=!1):z=!1;X9A=3;break;case 5:y=x.bitrate * l.playbackRate;X9A=4;break;case 1:X9A=x.bitrate > t?5:9;break;case 2:z=x.gb;X9A=1;break;}}}) || h[0];return u;break;}}}};break;}}})().rya;b.bu=r;},4272:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);n=a(13550);r=(function(d){function g(e){return d.call(this,e) || this;}c.__extends(g,d);g.prototype.Xe=function(e,f,l){return new n.Wf(l.first[0]);};return g;})(a(75498).Dw);b["default"]=r;},80588:function(r,b,a){var c,n,d,g;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=a(75498);n=a(4969);d=a(98301);g=a(71406);a=(function(e){function f(l){l=e.call(this,l) || this;l.bu=g.bu;l.Fo=n.Fo;l.Xe=d.Xe;return l;}c.__extends(f,e);return f;})(r.Dw);b["default"]=a;},4969:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Fo=void 0;c=a(91176);n=a(13550);d=a(98301);b.Fo=(function(){var T5C;T5C=2;for(;T5C !== 5;){switch(T5C){case 2:var w4z="1";w4z+="SIYbZrN";w4z+="J";w4z+="Cp";w4z+="9";w4z;return {Fo:function(e,f,l,h,k,m){var m6X;m6X=2;for(;m6X !== 1;){switch(m6X){case 2:var c25="pl";c25+="ay";c25+="in";c25+="g";return c25 === e.Oca?d.Xe.call(this,e,f,l,h,k,m):g.call(this,e,f,l,h);break;}}}};break;}}function g(e,f,l,h){var A5S,q,v,m,p,u;A5S=2;for(;A5S !== 16;){switch(A5S){case 12:var w6z="fa";w6z+="llback_lowes";w6z+="t_a";w6z+="cceptable_stream";q=w6z;A5S=11;break;case 10:var t$s="s";t$s+="elect";t$s+="_feasi";t$s+="ble_buffering";q=t$s;A5S=11;break;case 7:v=Math.min(v + (e.n9a?2:1),m.length);h=(0,c.oc)(m.slice(0,v).reverse(),k);A5S=14;break;case 14:A5S=void 0 === h?13:10;break;case 20:m=new n.Wf();m.dd=h;l.Jb !== h.Jb && (m.reason=q,m.wr=u);return m;break;case 3:v=void 0;v=(0,c.nk)(m,function(t){var o2q;o2q=2;for(;o2q !== 1;){switch(o2q){case 2:return t.isEqual(h);break;case 4:return t.isEqual(h);break;}}});v=Math.max(v,0);A5S=7;break;case 4:A5S=h.gb?3:20;break;case 5:l=h;A5S=4;break;case 2:var R$Q="Must have";R$Q+=" ";R$Q+="at least on";R$Q+="e selected stream";(0,c.assert)(h,R$Q);(m=l.first,p=h.bitrate);A5S=5;break;case 13:h=m[0];A5S=12;break;case 11:u=null === h || void 0 === h?void 0:h.gb;A5S=20;break;}}function k(t){var m$i,w;m$i=2;for(;m$i !== 8;){switch(m$i){case 2:w=t.gb;m$i=1;break;case 1:m$i=!w || (t.bitrate > p?e.$yb:1) * t.bitrate * f.playbackRate > w?5:4;break;case 5:return !1;break;case 4:var f42="b";f42+="u";f42+="ff_lt";f42+="_hist";q=f42;u=w;return !0;break;}}}}})().Fo;},98301:function(r,b,a){var c,n,d,g,e,f,l,h;Object.defineProperties(b,{__esModule:{value:!0}});b.sDa=b.Xga=b.Xe=void 0;r=a(5163);n=r.__importStar(a(17267));d=a(91176);g=a(50468);e=a(13550);f=r.__importDefault(a(62737));l=a(65161);h=a(20880);b.Xe=(c=(function(){function m(p,v,q){var c_0,u;c_0=2;for(;c_0 !== 3;){switch(c_0){case 1:return p.Nnb;break;case 7:return p.Nnb;break;case 8:c_0=-q.gb?0:0;break;case 4:return 1 >= u?p.fia:Math.min(Math.max((p.atc * Math.min(8 * v / q.bitrate,p.eN) - p.FD) / (u - 1),p.Nnb),p.fia);break;case 5:u=(q.J7 || q.gb) / q.gb;c_0=4;break;case 2:c_0=!q.gb?1:5;break;}}}function k(p,v,q,u,t,w,x,z,y,A,B,C,D,E,F,G,J,N,I){var D4F,Q,M,K,L,H,O,P;D4F=2;for(;D4F !== 16;){switch(D4F){case 17:return 0 < E || 0 < F?(0,f.default)({x3b:Q,blocks:B + E + F,sd:w,Mj:z,etc:x,Kv:C,Kk:y,Ce:B,U2b:B + E,mea:J,Afb:D,gb:(M - I) / N,Nfc:G,sA:p.sA,c0b:!1}):M > v.Hv?{result:!0,o4:0,kv:!0}:{result:!1,o4:0,kv:!0};break;case 12:P || (K=v);Q=new h.T3a(t);E=Math.max(0,Math.min(E,v.Ha.length - A));F=Math.max(0,Math.min(F,K.Ha.length - A - E));q.forEach(function(S){var n6P,X,W;n6P=2;for(;n6P !== 4;){switch(n6P){case 2:(X=S.stream,W=S.blocks);S=S.Ce;n.dc(S) && X.Ha && Q.add(X.Ha.ry.subarray(S,S + W));n6P=4;break;}}});u.forEach(function(S){var q$_,X,W;q$_=2;for(;q$_ !== 4;){switch(q$_){case 2:(X=S.stream,W=S.blocks);S=S.Ce;0 < F && n.dc(S) && X.Ha && Q.add(X.Ha.ry.subarray(S,S + W));q$_=4;break;}}});D4F=17;break;case 2:void 0 === I && (I=0);v=q[0].stream;D4F=4;break;case 4:var J1z="First ";J1z+="stream undefine";J1z+="d";K=null === (M=u[0]) || void 0 === M?void 0:M.stream;(0,d.assert)(v,J1z);M=v.gb;(L=z - w,H=t.length,O=v.Ha && v.Ha.length,P=(null === K || void 0 === K?void 0:K.Ha) && (null === K || void 0 === K?void 0:K.Ha.length));D4F=7;break;case 14:D4F=!M || M < v.bitrate * N * p.dHa || !O?13:12;break;case 7:p$i87.U73(7);(0,d.assert)(p$i87.g7m(B,H));p.DJa && (G=Math.min(G,L));D4F=14;break;case 13:return !1;break;}}}var K0F;K0F=2;for(;K0F !== 5;){switch(K0F){case 2:var F_8="1S";F_8+="IYbZrNJC";F_8+="p";F_8+="9";F_8;return {Xga:k,Xe:function(p,v,q,u,t,w){var X3R,C,D,E,F,G,J,N,I,M,K,L,H,O,P,z,y,A,B,x;X3R=2;for(;X3R !== 17;){switch(X3R){case 6:(C=v.buffer.ub,D=v.buffer.sd,E=v.buffer.Kk,F=v.buffer.Mj,G=v.Ce,J=F - D,N=v.state === l.Sb.yf || v.state === l.Sb.vi?v.buffer.Kv:0,I=p.fN,M=null !== (x=p.FD) && void 0 !== x?x:1E3);q.afa(function(Q,S,X){var n2I,W;n2I=2;for(;n2I !== 5;){switch(n2I){case 2:void 0 !== X && (Q=Q[X],null !== (W=Q.Ha) && void 0 !== W && W.length || (Q.xq=!0));n2I=5;break;}}});(L=g.Ro.Eda(v.buffer.Ha),H=v.buffer.Xu - L.la);x=(p.dQa || w) && J >= p.BSa?z.length:B + 2;(O=(function(Q){var m_h,s0U;m_h=2;for(;m_h !== 4;){switch(m_h){case 2:var O1f="va";O1f+="r";O1f+="iab";O1f+="l";O1f+="e";s0U=p.aQa;m_h=s0U === O1f?1:3;break;case 1:return z.slice(0,Q).map(function(S){var b6F;b6F=2;for(;b6F !== 1;){switch(b6F){case 4:return [m(p,v.buffer.Xu,S),7];break;case 2:return [m(p,v.buffer.Xu,S),0];break;}}});break;case 5:return z.slice(0,Q).map(function(S,X){var D_X;D_X=2;for(;D_X !== 1;){switch(D_X){case 2:return X < B?[p.fHa,p.zJa]:X === B?[p.eHa,p.yJa]:[p.gHa,p.AJa];break;}}});break;case 3:m_h=5;break;case 13:m_h=6;break;}}})(x),P=z.slice(0,x).map(function(Q,S){var W6V=p$i87;var W1T,X;W1T=2;for(;W1T !== 5;){switch(W1T){case 2:W6V.U73(16);X=W6V.g7m(S,B);return function(){var k9d,W,V,fa,ba,ca,ia,na,oa,T,Z,aa,R,Y,ea;k9d=2;for(;k9d !== 5;){switch(k9d){case 2:a:{W6V.U73(4);W=Math.max(W6V.g7m(1,S),0);V=O[S][0];fa=O[S][1];ba=v.playbackRate;na=q.wGa(S,G,V);oa=na.qRa;na=na.vQa;W6V.s$f(0);T=q.wGa(W,W6V.a0K(G,oa),fa);W=T.qRa;Z=T.vQa;T=na[0].stream;aa=null === (ca=Z[0]) || void 0 === ca?void 0:ca.stream;ca=T.gb || 0;R=T.Ha && T.Ha.length;Y=w?p.Z1b:R?p.Pea:p.$1b;Y=X?p.sEa:Y;if(K && !K.Qea && K.gb >= ca && K.bitrate <= T.bitrate){ea=!1;}else {X || R || (T.xq=!0);if(!X || !R)if(R){if(ca >= Math.max(T.Hv * ba,T.bitrate * ba * Y) && T.kv){ea=!0;break a;}}else if(ca >= T.bitrate * ba * Y){ea=!0;break a;}ba=!p.LBa || T === A || T.pc === A.pc && t?0:(ba=T.jb) && ba.Kg && ba.Kg.xa?ba.Kg.xa + p.HBa * (ba.Kg.af?Math.sqrt(ba.Kg.af):0):0;W6V.s$f(0);R=W6V.g7m(V,fa);V=(null !== (ea=T.Uu) && void 0 !== ea?ea:0) * V / R + (null !== (ia=null === aa || void 0 === aa?void 0:aa.Uu) && void 0 !== ia?ia:0) * fa / R;(ea=k(p,z,na,Z,L,D + ba - C,I,F - C,E - C,G,L.length,N,H,oa,W,M,v.mea,v.playbackRate,V)) && ea.result && (y.RKc=ea.o4);K={Qea:ea && ea.result,gb:ca,bitrate:T.bitrate};ea=ea && ea.result;}}return ea;break;}}};break;}}}));X3R=10;break;case 1:var h0y="Must have a selected st";h0y+="re";h0y+="a";h0y+="m";(0,d.assert)(u,h0y);X3R=5;break;case 5:var u4N="Selected stream not found in ";u4N+="s";u4N+="tream list";var n_m="numb";n_m+="e";n_m+="r";var A$g="nu";A$g+="m";A$g+="b";A$g+="er";var a2U="inval";a2U+="id ";a2U+="player fragme";a2U+="ntIndex";void 0 === v.Ce && (v.Ce=0);(0,d.assert)(n.dc(v.Ce),a2U);(0,d.assert)(A$g === typeof v.buffer.Xu);(0,d.assert)(n_m === typeof v.mea);(z=q.first,y=new e.Wf(),A=u,B=(0,d.nk)(z,function(Q){var Y5t;Y5t=2;for(;Y5t !== 1;){switch(Y5t){case 4:return Q.isEqual(u);break;case 2:return Q.isEqual(u);break;}}}));p$i87.s$f(17);(0,d.assert)(p$i87.g7m(0,B),u4N);X3R=6;break;case 10:(0,d.assert)(P.length === O.length);P[B]()?B + 1 < z.length && J > p.ED && (void 0 === this.py.BD || this.py.HT && this.py.HT > this.py.BD || E - this.py.BD > p.j4 && J > p.CJa) && (u=(0,d.Cza)(z.slice(B + 1,x),function(Q,S){var M$Q;M$Q=2;for(;M$Q !== 1;){switch(M$Q){case 4:return P[B * 2 / S]();break;case 2:return P[B + 1 + S]();break;}}})):u.Ha && u.Ha.length && ((u=(0,d.Cza)(z.slice(0,B),function(Q,S){var X5B;X5B=2;for(;X5B !== 1;){switch(X5B){case 2:return P[S]();break;}}})) || (u=z[0]));y.dd=u || A;return y;break;case 2:X3R=1;break;}}},sDa:m};break;}}})(),c.Xe);b.Xga=c.Xga;b.sDa=c.sDa;},71406:function(r,b,a){var c,n,d,g,e,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Kac=b.bu=void 0;r=a(5163);c=r.__importStar(a(17267));n=a(91176);d=a(65161);g=a(88318);r=r.__importStar(a(65167));e=a(13550);f=r.Xsc;a=(function(){function w(x,z){var H3P,y;H3P=2;for(;H3P !== 4;){switch(H3P){case 2:z.some(function(A){var v$O,B;v$O=2;for(;v$O !== 4;){switch(v$O){case 2:B=A.profiles;(B=B && 0 <= B.indexOf(x)) && (y=A.override);v$O=5;break;case 5:return B;break;case 7:return B;break;}}});return y;break;}}}function t(x,z,y){var l2D,A,B;l2D=2;for(;l2D !== 4;){switch(l2D){case 2:(A=new e.Wf(),B=Math.max(x.rA,x.L4));A.dd=(0,n.oc)(y.filter(function(C){var x2g;x2g=2;for(;x2g !== 1;){switch(x2g){case 2:return q(C,x);break;}}}).reverse(),function(C){var F4l,D,E;F4l=2;for(;F4l !== 6;){switch(F4l){case 2:D=C.gb;F4l=1;break;case 1:F4l=C.bitrate > B?5:7;break;case 5:F4l=(C=C.bitrate * z.playbackRate,D)?4:8;break;case 7:var T87="no_histor";T87+="ic";T87+="al_lte_minb";T87+="itrate";var i$L="hist_tput";i$L+="_";i$L+="lt";i$L+="_minb";i$L+="itrate";var J1P="lt_hist_";J1P+="lte_";J1P+="minb";J1P+="itra";J1P+="te";D && C.bitrate * z.playbackRate <= D?(A.wr=D,A.reason=J1P,D=!0):D?(A.wr=D,A.reason=i$L,D=!1):(A.reason=T87,D=!0);F4l=9;break;case 4:E=k(x,C);F4l=3;break;case 3:var L6f="h";L6f+="ist_bufftim";L6f+="e";h(C,D,x) <= E?(A.wr=D,A.reason=L6f,D=!0):D=!1;F4l=9;break;case 8:D=!1;F4l=9;break;case 9:return D;break;}}}) || y[0];return A;break;}}}function q(x,z){var B4c,y,A;B4c=2;for(;B4c !== 9;){switch(B4c){case 2:(y=x.Ih(d.u.X))?(y=y.$d,y=z && z.yq && 0 <= z.yq.indexOf(y)?w(y,z.LO):w(y,z.wca)):y=void 0;y=y?null !== (A=y.maxInitAudioBitrate) && void 0 !== A?A:z.Gv:z.Gv;z=x.ds?x.ds <= z.KD:!0;B4c=3;break;case 3:return (x.Uu?x.Uu <= y:!0) && z;break;case 12:return (x.Uu?x.Uu >= y:+7) || z;break;}}}var s7G;function h(x,z,y){var K1k;K1k=2;for(;K1k !== 5;){switch(K1k){case 2:x=(0,e.M$a)(y.aq,x * y.G4);return (0,e.aob)(x,z);break;}}}s7G=2;function l(x,z){var z75,B,y,A;z75=2;for(;z75 !== 11;){switch(z75){case 6:(B=g.C4a.d7b(A),c.Bt(B)?(A.Wj=B,B=!0):B=!1);z75=14;break;case 7:z75=(B=c.dc(z.Bla) && 0 <= z.Bla && 100 >= z.Bla && A)?6:14;break;case 14:var W8G="h";W8G+="ist_thr";W8G+="ou";W8G+="ghp";W8G+="ut";var m5X="hist_tdig";m5X+="e";m5X+="s";m5X+="t";B?(x=A.Wj(z.Bla / 100) || y.dd.gb,y.reason=m5X):y.dd.gb && (x=y.dd.gb,y.reason=W8G);y.wr=x;return y;break;case 3:x=0;A=null === A || void 0 === A?void 0:A.ck;z75=7;break;case 2:y=new e.Wf();y.dd=x;A=y.dd.jb;y.jb=A;z75=3;break;}}}function u(x,z,y,A,B,C){var A4L;A4L=2;for(;A4L !== 4;){switch(A4L){case 2:var A$Y="no_va";A$Y+="li";A$Y+="d_Bitr";A$Y+="ate";var Z4H="no_val";Z4H+="i";Z4H+="d";Z4H+="_VMAF";var T0S="n";T0S+="o_";T0S+="valid_DelayTarget";p$i87.s$f(16);z=p$i87.a0K(A,B);x=y?x.Gb >= C.Yx && x.Gb <= C.lnb:v(x,C) && q(x,C);return (C=z && x)?{Qea:C}:{Qea:C,reason:x?T0S:y?Z4H:A$Y};break;}}}for(;s7G !== 5;){switch(s7G){case 2:var L9W="1SIYbZr";L9W+="N";L9W+="JCp9";L9W;return {rya:function(x,z,y,A){var F9H;F9H=2;for(;F9H !== 5;){switch(F9H){case 2:y=y.first;return x.Mba?p(x,z,y,A):t(x,z,y,A);break;}}},rLb:u};break;}}function p(x,z,y){var u8N,D,E,F,A,B,C;u8N=2;for(;u8N !== 19;){switch(u8N){case 1:u8N=0 <= C && (A?y[C].Gb >= x.Yx:v(y[C],x))?5:11;break;case 12:C--;u8N=1;break;case 5:D=y[C];B=l(D,x);(E=h(D.bitrate * z.playbackRate,B.wr,x),F=m(B.wr,x));F=u(D,B.wr,A,E,F,x);D=F.Qea;F=F.reason;B.sT=E;u8N=14;break;case 13:B.reason=F;u8N=12;break;case 2:(A=!!x.Yx && !!x.lnb && y.every(function(G){var U2P;U2P=2;for(;U2P !== 1;){switch(U2P){case 2:return G.Gb && 110 >= G.Gb;break;}}}),B=null,C=y.length - 1);u8N=1;break;case 14:u8N=D?11:13;break;case 11:var w$o="fallback";w$o+="_no_acceptab";w$o+="le_stream";var L60="be";L60+="l";L60+="ow_";L60+="minInitVideoB";L60+="itrate";c.Dc(B) && !v(y[C],x) && (B=l(y[C],x),B.reason=L60);c.Dc(B) && (B=l(y[0],x),B.reason=w$o);return B;break;}}}function k(x,z){var p3o,y,A;p3o=2;for(;p3o !== 13;){switch(p3o){case 9:return y[y.length - 1].d;break;case 4:return y[0].d;break;case 2:p3o=x.tT?1:14;break;case 1:(y=x.tT,A=(0,n.nk)(y,function(B){var f9j;f9j=2;for(;f9j !== 1;){switch(f9j){case 2:return z <= B.r;break;case 4:return z < B.r;break;}}}));p3o=5;break;case 8:p$i87.U73(4);x=y[p$i87.a0K(1,A)];y=y[A];p3o=6;break;case 5:p3o=0 === A?4:3;break;case 14:return x.Ht;break;case 3:p3o=-1 === A?9:8;break;case 6:return Math.floor(x.d + (y.d - x.d) * (z - x.r) / (y.r - x.r));break;}}}function v(x,z){var q7w,y;q7w=2;for(;q7w !== 5;){switch(q7w){case 2:y=x.ds?x.ds >= z.rA:!0;return (x.Uu?x.Uu >= z.ND:!0) && y;break;}}}function m(x,z){var V41=p$i87;var C$V,y;C$V=2;for(;C$V !== 9;){switch(C$V){case 4:return (y=z.wub[y]) && 2 === y.length?1E3 * (y[0] + y[1] * Math.log(1 + x)):z.Ht;break;case 3:var C41="s";C41+="i";C41+="g";C41+="mo";C41+="id";return 0 === z.DV.lastIndexOf(C41,0)?(y=z.DV,(y=z.wub[y]) && 2 === y.length?1E3 * (y[0] + y[1] * f(x)):z.Ht):z.Ht;break;case 2:V41.s$f(18);var m62=V41.g7m(99981,83336,6,3);V41.U73(10);var P3s=V41.a0K(10220,11,1020);x=(0,e.dda)(x,0,m62) / P3s;C$V=1;break;case 5:y=z.DV;C$V=4;break;case 1:var Y06="l";Y06+="o";Y06+="g";C$V=0 === z.DV.lastIndexOf(Y06,0)?5:3;break;}}}})();r=a.rLb;b.bu=a.rya;b.Kac=r;},62737:function(r,b,a){var B3S="def";B3S+="aul";B3S+="t";var c,n;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);a(91176);n=a(13550);b[B3S]=(function(){var j8B;j8B=2;for(;j8B !== 1;){switch(j8B){case 2:return {VMb:function(d){var C3$=p$i87;var N8D,E,D,C,g,e,f,l,h,k,m,p,v,q,u,t,w,x,z,y,A,B,F,G,J,N,I,M,K;N8D=2;for(;N8D !== 50;){switch(N8D){case 24:N8D=K?23:51;break;case 38:F >= G.length && ++B < g.length && (v-=G.length,G=g.R2(B),J=g.VS(B),F=0);d && k.push(D / (z / 1E3));C=D;N8D=54;break;case 33:N8D=u < C?32:31;break;case 40:++F;N8D=39;break;case 12:var v9g=" >= fr";v9g+="agmentsLe";v9g+="ngth: ";var h$P="StreamingI";h$P+="nde";h$P+="x: ";C3$.U73(5);E=C3$.g7m(1E3,z);p >= y && n.console.error(h$P + p + v9g + y);N8D=10;break;case 31:C3$.s$f(4);D=C3$.g7m(f,m);N8D=30;break;case 42:N8D=h < f && e < F?41:40;break;case 35:N8D=u < p?34:53;break;case 52:return (d && k.push(D / (z / 1E3)),c.__assign({result:!1,o4:Math.min(D,l) / (z / 1E3),kv:!0},d && ({Lca:k})));break;case 10:f+=B;0 === m && (f=0);C3$.U73(5);f*=C3$.g7m(1E3,z);N8D=18;break;case 29:return (d && k.push(D / (z / 1E3)),c.__assign({result:!1,o4:D / (z / 1E3),kv:!1},d && ({Lca:k})));break;case 6:D=g.VS(0)[0];C3$.U73(19);h=C3$.a0K(1E3,h,D,z);C3$.U73(20);t=C3$.a0K(t,0,8);N8D=12;break;case 34:C=Math.max(p,q);N8D=33;break;case 30:N8D=D < x?29:28;break;case 3:k=[];l=Infinity;C=0;e=0;N8D=6;break;case 51:return c.__assign({result:!0,o4:l / (z / 1E3),kv:!0},d && ({Lca:k}));break;case 28:C3$.U73(21);f+=C3$.a0K(E,0,p,t);m+=y;N8D=43;break;case 39:N8D=F >= v && D > A?51:38;break;case 18:C3$.U73(5);m*=C3$.a0K(1E3,z);C3$.U73(5);x*=C3$.a0K(1E3,z);C3$.U73(5);w*=C3$.g7m(1E3,z);C3$.s$f(5);A*=C3$.a0K(1E3,z);D=c.__read(g.S6b(p),2);B=D[0];N8D=25;break;case 2:var E_B="1";E_B+="SIYb";E_B+="ZrNJ";E_B+="Cp9";(g=d.x3b,e=d.blocks,f=d.sd,l=d.Mj,h=d.etc,k=d.Kv,m=d.Kk,p=d.Ce,v=d.U2b,q=d.mea,u=d.Afb,t=d.gb,w=d.Nfc,x=d.sA);d=d.c0b;E_B;(z=g.O,y=Math.min(g.y3b,e),A=l - f,B=8 * k / t | 0);N8D=3;break;case 54:l=Math.min(D,l);N8D=24;break;case 53:N8D=(D=Math.max(m - f,0),D < w && D < C)?52:28;break;case 25:(F=D[1],G=g.R2(B),J=g.VS(B),N=0,I=g.R2(N),M=g.VS(N),K=y - p);N8D=24;break;case 43:u-=p;N8D=42;break;case 41:(u+=I[e],++e,e >= I.length && ++N < g.length && (I=g.R2(N),M=g.VS(N),e=0));N8D=42;break;case 23:K--;p=G[F];y=J[F];N8D=35;break;case 32:(f=h,u+=I[e],++e,e >= I.length && ++N < g.length && (I=g.R2(N),M=g.VS(N),e=0),D=M[e],h+=D);N8D=33;break;}}}};break;}}})().VMb;},14087:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);n=a(13550);r=(function(d){function g(e){return d.call(this,e) || this;}c.__extends(g,d);g.prototype.Xe=function(e,f,l){e=l.first.filter(function(h){return h.Er;});return e.length?new n.Wf(e[Math.floor(Math.random() * e.length)]):new n.Wf();};return g;})(a(75498).Dw);b["default"]=r;},3447:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);n=a(91176);d=a(13550);r=(function(g){function e(f){return g.call(this,f) || this;}c.__extends(e,g);e.prototype.Xe=function(f,l,h,k){var m,p;h=h.first;m=l.buffer.Kk;l="forward" === f.Kpc;if(void 0 === k)return (k=l?h[(0,d.CS)(h)]:h[(0,d.CS)(h,h.length)],new d.Wf(k));if(!k.yD){p=(0,n.nk)(h,function(v){return v.isEqual(k);});p=(0,d.CS)(h,p);k=h[p];}if(!k)return new d.Wf();if(void 0 === this.py.SIa || m > this.py.SIa + f.Avc){h=h.filter(function(v){return v.Er;});if(!h.length)return new d.Wf();f=(0,n.nk)(h,function(v){return v.isEqual(k);});f=(h.length + f + (l?1:-1)) % h.length;return new d.Wf(h[f]);}return new d.Wf(k);};return e;})(a(75498).Dw);b["default"]=r;},21875:function(r,b,a){var c,n,d,g,e,f;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=a(66164);n=a(91176);d=a(13550);a=a(75498);e=[];f=[];r.platform.bTb && (r.platform.bTb.wq={Pb:function(){g=void 0;e=[];f=[];},EV:function(l){g=l;},zJc:function(){return {all:e,bzb:f};}});a=(function(l){function h(k){return l.call(this,k) || this;}c.__extends(h,l);h.prototype.Xe=function(k,m,p,v){e=k=p.first;if(void 0 === g)return (v=(0,d.CS)(k),g=k[v].bitrate,new d.Wf(k[v]));if(!k.length)return new d.Wf();v=(0,n.oc)(k,function(q){return q.bitrate === g;});return void 0 === v?(d.console.log("Defaulting to first stream due to unvalid bitrate requested: " + g),new d.Wf(k[0])):new d.Wf(v);};return h;})(a.Dw);b["default"]=a;},56186:function(r,b,a){var c,n,d,g;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);n=a(91176);d=a(48170);g=a(13550);r=a(75498);r=(function(e){var y5w;function f(l){var S47;S47=2;for(;S47 !== 4;){switch(S47){case 2:var p8W="1SI";p8W+="Y";p8W+="b";p8W+="ZrNJCp9";l=e.call(this,l) || this;p8W;return l;break;}}}y5w=2;for(;y5w !== 4;){switch(y5w){case 2:c.__extends(f,e);f.prototype.Xe=function(l,h,k,m){var A9d,p,v,q,u,t;A9d=2;for(;A9d !== 16;){switch(A9d){case 8:A9d=-1 < m?7:19;break;case 10:--m;A9d=8;break;case 9:p$i87.s$f(22);var a5G=p$i87.a0K(11,9,18,1);m=k.length - a5G;A9d=8;break;case 7:p=k[m];A9d=6;break;case 19:var P54="Threshold ";P54+="policy selected stream 0 (no feasible";P54+=" streams).";h.dd=k[0];d.G && g.console.log(P54);return h;break;case 20:var M0z=". ";M0z+="Skipp";M0z+="i";M0z+="n";M0z+="g.";var f80="Cannot obtain";f80+=" tput stats f";f80+="o";f80+="r stream ";d.G && g.console.log(f80 + m + M0z);A9d=10;break;case 12:A9d=t?11:10;break;case 6:A9d=p.jb && p.jb.gb?14:20;break;case 3:k=k.first;A9d=9;break;case 14:var t1c=", ";t1c+="feas";t1c+="ible=";var y8S=", ";y8S+="thr";y8S+="esho";y8S+="ld=";var K4n=", b";K4n+="i";K4n+="trate";K4n+="=";var P1l=":";P1l+=" thr";P1l+="oughpu";P1l+="t=";var O0r="St";O0r+="r";O0r+="e";O0r+="am ";(v=p.jb.gb.xa,q=l.wvc,u=p.bitrate,t=u < v - q);d.G && g.console.log(O0r + m + P1l + v + K4n + u + y8S + q + t1c + t);A9d=12;break;case 2:var E1O="Playback str";E1O+="eam ";E1O+="selection";var A2U="player ";A2U+="missing fra";A2U+="gmentIndex";var R7O="num";R7O+="b";R7O+="e";R7O+="r";var K_L="Must have a";K_L+="t l";K_L+="east one s";K_L+="el";K_L+="ected stream";(0,n.assert)(m,K_L);(0,n.assert)(R7O === typeof h.Ce,A2U);d.G && g.console.log(E1O);h=new g.Wf(m);A9d=3;break;case 11:var T_h="Thr";T_h+="esh";T_h+="ol";T_h+="d policy selecte";T_h+="d stream ";return (d.G && g.console.log(T_h + m),h.dd=p,h);break;}}};return f;break;}}})(r.Dw);b["default"]=r;},3082:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.yQb=b.T6=void 0;c=a(21875)["default"];b.T6={first:function(){return a(58223)["default"];},random:function(){return a(14087)["default"];},optimized:function(){return a(80588)["default"];},roundrobin:function(){return a(3447)["default"];},selectaudio:function(){return a(46263)["default"];},selectaudioadaptive:function(){return a(70753)["default"];},"default":function(){return a(80588)["default"];},lowest:function(){return a(4272)["default"];},highest:function(){return a(63499)["default"];},throughputthreshold:function(){return a(56186)["default"];},replay:function(){return a(52255)["default"];},checkdefault:function(){return a(32966)["default"];},livesimple:function(){return a(65114)["default"];},testscript:function(){return c;}};b.yQb=["selectaudio","selectaudioadaptive"];},20880:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.T3a=void 0;r=(function(){function a(c){this.ry=[];this.ry.push(c);}Object.defineProperties(a.prototype,{O:{get:function(){return this.ry[0].O;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.ry.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{y3b:{get:function(){var c;return null !== (c=this.bLb) && void 0 !== c?c:this.bLb=this.ry.reduce(function(n,d){return n + d.length;},0);},enumerable:!1,configurable:!0}});a.prototype.VS=function(c){return this.ry[c].Tf;};a.prototype.R2=function(c){return this.ry[c].sizes;};a.prototype.add=function(c){this.ry.push(c);};a.prototype.S6b=function(c){var d;for(var n=0;0 <= c;){d=this.ry[n];if(c < d.length)break;n++;c-=d.length;}return [n,c];};return a;})();b.T3a=r;},95591:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Iva=void 0;c=a(5163);n=a(91562);a(52571);a(13550);r=(function(){function d(g,e,f,l){this.Tf=g;this.sizes=e;this.O=f;this.length=Math.min(g.length,e.length);this.pe=l;}Object.defineProperties(d.prototype,{la:{get:function(){return void 0 !== this.pe?this.pe:this.pe=this.mKb();},enumerable:!1,configurable:!0}});d.prototype.subarray=function(g,e){return new d(this.Tf.subarray(g,e),this.sizes.subarray(g,e),this.O);};d.prototype.concat=function(){var f,l;for(var g=[],e=0;e < arguments.length;e++)g[e]=arguments[e];e=[this];g=e.concat.apply(e,c.__spreadArray([],c.__read(g),!1));e=g.reduce(function(h,k){return h + k.length;},0);f=new Uint32Array(e);l=new Uint32Array(e);e=g[0].O;g.reduce(function(h,k){n.mwa.set(f,k.Tf,h);n.mwa.set(l,k.sizes,h);return h + k.length;},0);return new d(f,l,e);};d.prototype.mKb=function(){for(var g=this.sizes,e=this.length,f=0,l=0;l < e;++l)f+=g[l];return f;};return d;})();b.Iva=r;},75498:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Dw=void 0;c=a(32966);r=(function(){function n(d){this.py=d;}n.prototype.bu=function(d,g,e,f,l,h,k,m){return this.Xe(d,g,e,f,!!l,!!h,k,m);};n.prototype.Fo=function(d,g,e,f,l,h,k,m){return this.Xe(d,g,e,f,l,h,k,m);};n.prototype.uub=function(d,g,e,f,l,h,k,m){return this.Fo(d,g,e,f,l,h,k,m);};n.prototype.tub=function(d,g,e,f,l,h,k,m){return this.Xe(d,g,e,f,l,h,k,m);};n.prototype.hab=function(d,g,e,f,l,h){return (0,c.Az)(d,g,e,f,l,h);};return n;})();b.Dw=r;},16096:function(r,b,a){var n,d,g,e,f,l,h,k,m,p,v,q,u;function c(t){t.forEach(function(w){return w.xq=!1;});}Object.defineProperties(b,{__esModule:{value:!0}});b.xZ=void 0;n=a(5163);d=n.__importStar(a(17267));g=a(66164);e=a(91176);f=a(65161);l=a(62156);h=n.__importDefault(a(29340));k=a(33923);a(52571);m=a(8149);p=a(3082);v=a(35479);q=a(44284);u=a(13550);new g.platform.Console("ASEJS_STREAM_SELECTOR","media|asejs");r=(function(){var v4s;v4s=2;for(;v4s !== 19;){switch(v4s){case 12:t.prototype.dKa=function(w,x,z){var J3P,y,A,B;J3P=2;for(;J3P !== 4;){switch(J3P){case 2:(y=!1,A=(null === x || void 0 === x?void 0:x.buffer).Ha,B=A.length);(x=0 < B && x.state !== f.Sb.Pn?A[B - 1].stream:this.Jk.kl)?-1 === z.indexOf(x) && (x=(0,q.Mhb)(z,x.bitrate,x.Gb),y=!0,w.Bob && this.Jk.kl && -1 !== z.indexOf(this.Jk.kl) && (y=!1)):y=!0;return {wCa:x,LEa:y};break;}}};t.prototype.QJa=function(w,x,z){var L99,y,A;L99=2;for(;L99 !== 12;){switch(L99){case 2:L99=1;break;case 1:L99=this.bb.Fdb?5:4;break;case 5:w.forEach(function(B){var o4Y;o4Y=2;for(;o4Y !== 1;){switch(o4Y){case 2:return B.xq=!B.Ha || !B.Ha.length;break;}}});L99=12;break;case 14:w[z].xq=!0;L99=12;break;case 4:L99=this.bb.Wvb && z > this.bb.M4 && !x.fa && w.every(function(B){var y9x;y9x=2;for(;y9x !== 1;){switch(y9x){case 2:return !B.xq;break;}}})?3:12;break;case 3:p$i87.s$f(23);var Z8u=p$i87.a0K(91,18,5);z=w.length - Z8u;L99=9;break;case 9:L99=0 <= z?8:12;break;case 8:L99=w[z - 1] === x && (null === (y=w[z].Ha) || void 0 === y || !y.length)?7:6;break;case 7:w[z].xq=!0;L99=12;break;case 13:--z;L99=9;break;case 6:L99=w[z + 1] === x && (null === (A=w[z].Ha) || void 0 === A || !A.length)?14:13;break;}}};t.prototype.FS=function(w,x){var E8w,z;E8w=2;for(;E8w !== 3;){switch(E8w){case 2:p$i87.s$f(24);var B9o=p$i87.a0K(8,3,12,0);z=w.length - B9o;E8w=1;break;case 1:E8w=0 <= z?5:3;break;case 6:x(w[z],z,w);E8w=5;break;case 4:--z;E8w=1;break;case 5:x(w[z],z,w);E8w=4;break;case 14:++z;E8w=3;break;}}};return t;break;case 7:t.prototype.Cwb=function(w,x,z){var g7g;g7g=2;for(;g7g !== 1;){switch(g7g){case 2:d.Dr(x)?this.jK=this.kK=void 0:x.bitrate < z.bitrate && (this.kK=w);g7g=1;break;}}};t.prototype.M5=function(w,x,z,y){var X0A,A,B,C;X0A=2;for(;X0A !== 5;){switch(X0A){case 2:A=this;w.afa(function(D){var T1E;T1E=2;for(;T1E !== 1;){switch(T1E){case 2:A.FS(D,function(E){var r2L;r2L=2;for(;r2L !== 1;){switch(r2L){case 2:E.Er && E.jb && E.jb.confidence?(B !== E.jb && (B=E.jb,C=y(E.jb,z,x,E.track.R.TT[f.u.X])),E.gb=Math.floor(C.lower) || 1,E.J7=Math.floor(C.upper || 1) || 1):E.gb=A.bb.cZb;r2L=1;break;}}});T1E=1;break;}}});X0A=5;break;}}};t.prototype.eKa=function(w,x,z,y,A,B){var H_T,C;H_T=2;for(;H_T !== 4;){switch(H_T){case 2:H_T=this.r5?1:4;break;case 9:H_T=this.r5?2:0;break;case 1:C=(0,e.oc)(w,function(D,E){var a1M=p$i87;var K6y;K6y=2;for(;K6y !== 1;){switch(K6y){case 2:a1M.U73(6);var H4Y=a1M.a0K(12,6,1);return w[E - H4Y] === x;break;case 4:a1M.U73(25);var q49=a1M.g7m(3,1,1,1);return w[E * q49] == x;break;}}}) || x;return this.r5.ehb({RF:z.Mj - z.sd,E$a:z.Mo || 0,C$a:z.Xu || 0,sd:z.sd,vmb:w[0],dd:x,azb:C,Exb:w[w.length - 1],Uf:y.state,playbackRate:y.playbackRate,Ce:y.Ce,QL:A,jq:B});break;}}};t.prototype.PMa=function(w,x,z,y){var I2s,A,B,C,D,E,F,G;I2s=2;for(;I2s !== 17;){switch(I2s){case 12:D.J$a=x.Mo;D.arb=null !== (C=null === (B=null === (A=g.platform.G6b) || void 0 === A?void 0:A.call(g.platform)) || void 0 === B?void 0:B[z.mediaType === f.u.V?1:0]) && void 0 !== C?C:-1;D.Fj=z && z.Fj;D.ku=y;I2s=19;break;case 2:(D={},E=w.jb,F=this.bb.kya);I2s=1;break;case 1:I2s=E && F && 0 < F.length?5:9;break;case 19:D.lE=g.platform.time.ya();return D;break;case 5:G=[];F.forEach(function(J){var L85,N;L85=2;for(;L85 !== 4;){switch(L85){case 2:N=J.stat;N=(J=E[J.filter]) && J[N];G.push(isNaN(N)?-1:N);L85=4;break;}}});I2s=3;break;case 7:w=w.Ha;D.et=w && void 0 !== F && !isNaN(F) && 0 <= F && F < w.length?w.tq(F):x.Kk;D.bpb=E && E.gb && E.gb.xa || 0;D.sAa=x.Mj - x.sd;I2s=12;break;case 3:D.prb=G;I2s=9;break;case 9:D.Kk=x.Kk;F=z && z.Ce;I2s=7;break;}}};v4s=12;break;case 2:Object.defineProperties(t.prototype,{BD:{get:function(){var K_1;K_1=2;for(;K_1 !== 1;){switch(K_1){case 4:return this.jK;break;case 2:return this.jK;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{HT:{get:function(){var f0o;f0o=2;for(;f0o !== 1;){switch(f0o){case 2:return this.kK;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{SIa:{get:function(){var h8i,w,x;h8i=2;for(;h8i !== 5;){switch(h8i){case 2:return Math.max(null !== (w=this.BD) && void 0 !== w?w:0,null !== (x=this.HT) && void 0 !== x?x:0);break;}}},enumerable:!1,configurable:!0}});t.prototype.xk=function(){var t6J;t6J=2;for(;t6J !== 1;){switch(t6J){case 2:return this.Jk;break;case 4:return this.Jk;break;}}};t.prototype.qvb=function(w){var q6y;q6y=2;for(;q6y !== 1;){switch(q6y){case 2:this.Jk=w;q6y=1;break;case 4:this.Jk=w;q6y=2;break;}}};t.prototype.EV=function(w,x,z,y,A,B,C){var t50,D,E,F,G,J,N,I,M,R_q,K,L,H;t50=2;for(;t50 !== 21;){switch(t50){case 24:y=this.up.tub;t50=6;break;case 20:t50=(H=z.dd)?19:18;break;case 2:(F=null === w || void 0 === w?void 0:w.buffer,G=g.platform.time.ya(),J=this.bb,N=x.first);c(x.first);(I=this.dKa(J,w,x.first),M=I.wCa);I=I.LEa;t50=3;break;case 8:R_q=w.state;t50=R_q === f.Sb.Pn?7:16;break;case 16:t50=R_q === f.Sb.lf?15:27;break;case 23:t50=22;break;case 6:(0,m.bm)(N[0]) && (this.Jk.CM=(0,u.CM)(w,N[0].track.Ll.H,J,this.Jk.CM));(K=x.Pvc(),L=M?(0,k.zQa)(M):void 0);z=y.call(this.up,J,w,K,L,!!A,I,z,this.Jk.CM);t50=11;break;case 3:w.state === f.Sb.Pn && (this.kK=this.jK=void 0);void 0 !== y && this.M5(x,w.state,w.buffer,y);t50=8;break;case 25:t50=R_q === f.Sb.vi?24:23;break;case 27:t50=R_q === f.Sb.El?26:25;break;case 18:w.hS && H && (0,h.default)(this.PMa(H,F,w,G),z);return z;break;case 11:z=n.__assign(n.__assign({},z),{dd:null === (H=z.dd) || void 0 === H?void 0:H.Ve});z.Uf=w.state;t50=20;break;case 15:y=this.up.Fo;t50=6;break;case 22:y=this.up.Xe;t50=6;break;case 19:var a0p="p";a0p+="la";a0p+="y";a0p+="in";a0p+="g";var S58="min_fra";S58+="gmen";S58+="t_vmaf";(this.Jk.uO(H),this.QJa(x.first,H,F.Mj - F.sd),z.SH=H.gb || 0,z.jb=H.jb,z.reason && (H.Vr=z.reason,S58 !== z.reason && (H.$Oa=z.wr,H.sT=z.sT,H.iHa=null === (D=z.jb) || void 0 === D?void 0:D.U_,H.jHa=null === (E=z.jb) || void 0 === E?void 0:E.ck)),x=this.eKa(N,H,F,w,C,A),z.fm=x || z.fm,M && !I && H.bitrate < M.bitrate && (this.jK=F.Kk),w.state !== f.Sb.yf && w.state !== f.Sb.vi?(M=(0,l.$qb)(w.state),B=this.Az(w.buffer,M,w.playbackRate,H,B),(z.al=B.complete)?z.mAa=B.reason:(z.al=!1,z.gI=B.gI,z.n4=B.n4,z.progress=B.progress)):(z.al=!0,z.mAa=a0p));t50=18;break;case 7:y=this.up.bu;t50=6;break;case 26:y=this.up.uub;t50=6;break;}}};t.prototype.Az=function(w,x,z,y,A){var D_D;D_D=2;for(;D_D !== 1;){switch(D_D){case 2:return this.up.hab(w,x,z,(0,k.zQa)(y),A,this.bb);break;}}};v4s=7;break;}}function t(w,x,z,y){var R0P,A;R0P=2;for(;R0P !== 6;){switch(R0P){case 9:var E5H="d";E5H+="e";E5H+="faul";E5H+="t";w || (w=x.ima);this.up=new ((p.T6[w] || p.T6[E5H])())(this);y && (this.r5=new v.mQ(x,null === (A=z.track) || void 0 === A?void 0:A.mediaType));R0P=6;break;case 2:var M2y="1SI";M2y+="YbZrN";M2y+="J";M2y+="Cp9";this.Aub=w;this.bb=x;this.Jk=z;M2y;R0P=9;break;}}}})();b.xZ=r;},44284:function(r,b,a){var n,d,g,e;function c(f,l,h){var k;k=(0,d.nk)(f,function(m){return h && m.Gb?m.Gb > h:m.bitrate > l;});k=0 < k?k - 1:0 === k?0:f.length - 1;return f[k];}Object.defineProperties(b,{__esModule:{value:!0}});b.Zqa=b.gwa=void 0;b.Mhb=c;n=a(5163);d=a(91176);g=a(33923);r=(function(){function f(){this.ty=[];}Object.defineProperties(f.prototype,{first:{get:function(){var l;return null === (l=this.ty[0]) || void 0 === l?void 0:l.Td;},enumerable:!1,configurable:!0}});f.prototype.NK=function(l){this.ty.push({Td:l});};f.prototype.afa=function(l){this.ty.forEach(function(h,k){return l(h.Td,k);});};f.prototype.wGa=function(l,h,k){var m,p,v,q,u,t,w;m=k;p=h;v=0;q=[];u=this.first[l];t=u.Gb;w=u.bitrate;this.ty.forEach(function(x,z){var y,A;x=x.Td;0 >= m || (z=0 === z?u:c(x,w,t),x=null === (y=z.Ha) || void 0 === y?void 0:y.vda(p,m),y=null !== (A=null === x || void 0 === x?void 0:x.blocks) && void 0 !== A?A:0,v+=y,q.push({stream:z,blocks:y,Ce:p}),null === x || void 0 === x?!0:!x.g6) || (p=0,m-=x.g6);});return {vQa:q,qRa:v};};f.prototype.Pvc=function(){var l,h;l=new e();h=this.ty.map(function(k){var m;m=k.Td.map(function(p){return (0,g.zQa)(p);});return n.__assign(n.__assign({},k),{Td:m});});l.dsc(h);return l;};return f;})();b.gwa=r;e=(function(){function f(){this.ty=[];}Object.defineProperties(f.prototype,{first:{get:function(){var l;return null === (l=this.ty[0]) || void 0 === l?void 0:l.Td;},enumerable:!1,configurable:!0}});f.prototype.NK=function(l){this.ty.push({Td:l});};f.prototype.afa=function(l){this.ty.forEach(function(h,k){return l(h.Td,k);});};f.prototype.dsc=function(l){this.ty=n.__spreadArray([],n.__read(l),!1);};f.prototype.wGa=function(l,h,k){var m,p,v,q,u,t,w;m=k;p=h;v=0;q=[];u=this.first[l];t=u.Gb;w=u.bitrate;this.ty.forEach(function(x,z){var y,A;x=x.Td;0 >= m || (z=0 === z?u:c(x,w,t),x=null === (y=z.Ha) || void 0 === y?void 0:y.vda(p,m),y=null !== (A=null === x || void 0 === x?void 0:x.blocks) && void 0 !== A?A:0,v+=y,q.push({stream:z,blocks:y,Ce:p}),null === x || void 0 === x?!0:!x.g6) || (p=0,m-=x.g6);});return {vQa:q,qRa:v};};f.prototype.toJSON=function(){return {};};return f;})();b.Zqa=e;},31485:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.k4a=void 0;c=a(5163);r=(function(){function n(d,g){this.console=d;this.events=g;this.DQa=!1;}n.prototype.Goc=function(d){this.We(d.message,void 0,c.__assign(c.__assign({},d.SDa),{err:d.toString()}));};n.prototype.We=function(d,g,e){void 0 === g && (g=void 0);void 0 === e && (e={});this.DQa || (e.temporaryFailure || (this.DQa=!0),d=c.__assign({type:"error",error:null !== g && void 0 !== g?g:"NFErr_MC_StreamingFailure",errormsg:d,temporaryFailure:!1},e),this.console.error("notifyStreamingError:",d),this.events.emit("error",d));};n.prototype.yv=function(){return this.DQa;};return n;})();b.k4a=r;},82149:function(r,b,a){var n,d,g,e;function c(f){return function(){for(var l=Array(this.length),h=0;h < this.length;++h)l[h]=f.call(this,h);return l;};}Object.defineProperties(b,{__esModule:{value:!0}});b.fwa=b.Q4a=void 0;b.nH=c;b.hGc=function(f){return ("[").concat(Array(f.length).map(function(l,h){return f[h].toString();}).join(","),"]");};n=a(91176);r=a(66164);d=a(52571);g=new r.platform.Console("FRAGMENTS","media|asejs");e=(function(){function f(l,h){this.Ri=l;this.mh=h;}Object.defineProperties(f.prototype,{index:{get:function(){return this.mh;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ba:{get:function(){return new n.K(this.nb,this.O);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ga:{get:function(){return new n.K(this.xb,this.O);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ob:{get:function(){return new n.K(this.jG,this.O);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{nb:{get:function(){return this.Ri.Bba + this.Ri.vF[this.mh];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{xb:{get:function(){return this.nb + this.Ri.Iw[this.mh];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{jG:{get:function(){return this.Ri.Iw[this.mh];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{za:{get:function(){return this.Ri.za;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{O:{get:function(){return this.Ri.O;},enumerable:!1,configurable:!0}});f.prototype.toJSON=function(){return {startPts:1E3 * this.nb / this.za.O,endPts:1E3 * this.xb / this.za.O,duration:1E3 * this.jG / this.za.O,index:this.index};};return f;})();b.Q4a=e;a=(function(){function f(l,h,k,m){this.mediaType=l;this.length=k.Tf.length;this.qb=k.O;this.Iw=k.Tf;this.Zba=m && m.SU;this.c9a=m && m.zV;this.Mq=h;this.JRa=this.KRa=void 0;this.Bba=k.Wr;this.vF=new Uint32Array(this.length + 1);if(this.length){for(h=l=0;h < this.length;++h)(this.vF[h]=l,l+=this.Iw[h]);this.vF[h]=l;this.Twa=Math.floor((this.cg - this.ub) / this.length);}}Object.defineProperties(f.prototype,{Wr:{get:function(){return this.owb(0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{NDa:{get:function(){return this.owb(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ub:{get:function(){return this.tq(0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{cg:{get:function(){return this.tq(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Db:{get:function(){return new n.K(this.Wr,this.O);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{kc:{get:function(){return new n.K(this.NDa,this.O);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{za:{get:function(){return this.Mq;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{O:{get:function(){return this.qb;},enumerable:!1,configurable:!0}});f.prototype.owb=function(l){return this.Bba + this.vF[l];};f.prototype.tq=function(l){return Math.floor(1E3 * (this.Bba + this.vF[l]) / this.O);};f.prototype.Dea=function(l){return this.tq(l + 1);};f.prototype.Tf=function(l){return this.Dea(l) - this.tq(l);};f.prototype.get=function(l){return new e(this,l);};f.prototype.fD=function(l,h,k){if(0 === this.length || l < this.tq(0))return -1;l=Math.max(l,h || 0);for(var m=0,p=this.length - 1,v,q;p >= m;)if((v=m + (p - m >> 1),q=this.tq(v),l < q))p=v - 1;else if(l >= q + this.Tf(v))m=v + 1;else {for(;h && v < this.length && this.tq(v) < h;)++v;return v < this.length?v:k?this.length - 1:-1;}return k?this.length - 1:-1;};f.prototype.wEa=function(l,h,k){l=this.fD(l,h,k);return 0 <= l?this.get(l):void 0;};f.prototype.vda=function(l,h){var k,m,p;k=Math.floor(h * this.O / 1E3);m=Math.min(l + Math.ceil(h / this.Twa),this.length);p=this.vF[m] - this.vF[l];if(p >= k){for(;p >= k;)(--m,p-=this.Iw[m]);return {blocks:Math.max(m - l + 1,0),g6:0};}for(;p < k && m <= this.length;)(h-=p || 0,p+=this.Iw[m],++m);return {blocks:Math.max(m - l - 1,0),g6:h};};f.prototype.subarray=function(l,h){(0,d.assert)(void 0 === l || 0 <= l && l < this.length);(0,d.assert)(void 0 === h || h > l && h <= this.length);return new f(this.mediaType,this.za,{O:this.O,Wr:this.Bba + this.vF[l],Tf:this.Iw.subarray(l,h)},this.Zba && ({SU:this.Zba.subarray(l,h + 1),zV:this.c9a}));};f.prototype.forEach=function(l){for(var h=0;h < this.length;++h)l(this.get(h),h,this);};f.prototype.map=function(l){for(var h=[],k=0;k < this.length;++k)h.push(l(this.get(k),k,this));return h;};f.prototype.reduce=function(l,h){for(var k=0;k < this.length;++k)h=l(h,this.get(k),k,this);return h;};f.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.Twa};};f.prototype.dump=function(){var h;g.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.Twa + "ms");for(var l=0;l < this.length;++l){h=this.get(l);g.trace(("TrackFragments: ").concat(l,": [").concat(h.Ba.H,"-").concat(h.Ga.H,"]"));}};return f;})();b.fwa=a;c(a.prototype.tq);c(a.prototype.Dea);c(a.prototype.Tf);},11862:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.CZ=void 0;r=(function(){function a(c){this.Uw=c;}Object.defineProperties(a.prototype,{wD:{get:function(){return this.pLb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.Uw;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{upc:{get:function(){var c;c=this;return this.Uw.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.pLb=!0;};a.prototype.Iv=function(c,n){var d;d=this;this.result.then(function(g){d.wD?n && n(g):c(g);});return this;};return a;})();b.CZ=r;},85858:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},25218:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},52571:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=function(d,g){var e;if(!d){e=new n(g || "Assertion failed");a(8171).hs.console.error("Assertion failed",{value:d,message:g,stack:e.stack});throw e;}};c=a(5163);n=(function(d){function g(){return null !== d && d.apply(this,arguments) || this;}c.__extends(g,d);return g;})(Error);},62156:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.$qb=function(n){switch(n){case c.Sb.lf:n=c.wd.lf;break;case c.Sb.El:n=c.wd.El;break;case c.Sb.Pn:case c.Sb.Bw:case c.Sb.haa:n=c.wd.Bw;break;default:n=c.wd.Qn;}return n;};c=a(65161);},17122:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.naa=void 0;r=a(90745);c=a(91176);a=a(85254);n=(function(){function d(g){void 0 === g && (g={Kh:!1,currentTime:c.K.wa,speed:1});this.state={Kh:function(){return "function" === typeof g.Kh?g.Kh():g.Kh;},currentTime:function(){return "function" === typeof g.currentTime?g.currentTime():g.currentTime;},speed:function(){return "function" === typeof g.speed?g.speed():g.speed;}};}Object.defineProperties(d.prototype,{Kh:{get:function(){return this.state.Kh();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{currentTime:{get:function(){return this.state.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{speed:{get:function(){return this.state.speed();},enumerable:!1,configurable:!0}});return d;})();b.naa=n;(0,a.Mk)(r.EventEmitter,n);},79994:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.XYb=function(a){return JSON.parse(JSON.stringify(a));};},99735:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.eVa=void 0;c=a(5163);a(52571);r=(function(){function n(d,g){this.Cd=d;this.BR=g;this.lC();}Object.defineProperties(n.prototype,{length:{get:function(){return this.lF;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{empty:{get:function(){return 0 === this.lF;},enumerable:!1,configurable:!0}});n.prototype.I3b=function(){return this.KS && this.KS.get(0);};n.prototype.NQb=function(){return this.back && this.back.get(this.back.length - 1);};n.prototype.get=function(d){0 > d && (d+=this.length);for(var g=0;g < this.Cd.length;++g)if(this.Te[g + 1] > d)return this.Cd[g].get(d - this.Te[g]);};n.prototype.push=function(d){this.Cd[this.BR(d)].push(d);this.lC();return this.lF;};n.prototype.shift=function(){var d;if(this.KS){d=this.KS.shift();this.lC();return d;}};n.prototype.pop=function(){var d;if(this.back){d=this.back.pop();this.lC();return d;}};n.prototype.unshift=function(d){this.Cd[this.BR(d)].unshift(d);this.lC();return this.lF;};n.prototype.yr=function(d){var g;g=this.BR(d);this.Cd[g].yr(d);this.lC();};n.prototype.remove=function(d){var g;g=this.Cd.some(function(e){return e.remove(d);});g && this.lC();return g;};n.prototype.splice=function(d,g){var p,v,q,u;for(var e,f=[],l=2;l < arguments.length;l++)f[l - 2]=arguments[l];l=[];for(var h,k=d + Math.max(0,g),m=0;m < this.Cd.length;++m){p=this.Cd[m];v=this.Te[m];q=this.Te[m + 1];if(d < q){u=d - v;v=Math.min(k - v,p.length);void 0 === h && 0 < u && v < p.length?Array.prototype.push.apply(l,p.splice.apply(p,c.__spreadArray([u,v - u],c.__read(f),!1))):(Array.prototype.push.apply(l,p.splice(u,v - u)),void 0 === h && (h=0 < m && 0 === u?m - 1:m));d=q;if(d >= k)break;}}if(f.length && void 0 !== h){for(k=this.BR(f[0]);0 < h && k < h && this.Cd[h].empty;)--h;for(;f.length && k === h;){this.Cd[h].push(f.shift());if(!f.length)break;k=this.BR(f[0]);}for(;f.length && ++h < this.Cd.length && this.Cd[h].empty;)for(;f.length && k === h;){this.Cd[h].push(f.shift());if(!f.length)break;k=this.BR(f[0]);}f.length && (e=this.Cd[h]).splice.apply(e,c.__spreadArray([0,0],c.__read(f),!1));}this.lC();return l;};n.prototype.find=function(d){var g,e;g=this;return this.Cd.some(function(f,l){e=f.find(g.yF(d,l));return void 0 !== e;})?e:void 0;};n.prototype.findIndex=function(d){var e;for(var g=0;g < this.Cd.length;++g){e=this.Cd[g].findIndex(this.yF(d,g));if(-1 !== e)return e + this.Te[g];}return -1;};n.prototype.indexOf=function(d){var e;for(var g=0;g < this.Cd.length;++g){e=this.Cd[g].indexOf(d);if(-1 !== e)return e + this.Te[g];}return -1;};n.prototype.map=function(d){var g,e;g=this;e=this.Cd.map(function(f,l){return f.map(g.yF(d,l));});return Array.prototype.concat.apply([],e);};n.prototype.reduce=function(d,g){var e;e=this;return this.Cd.reduce(function(f,l,h){return l.reduce(e.tNb(d,h),f);},g);};n.prototype.forEach=function(d){var g;g=this;this.Cd.forEach(function(e,f){e.forEach(g.yF(d,f));});};n.prototype.FS=function(d){for(var g=this.Cd.length - 1;0 <= g;--g)this.Cd[g].FS(this.yF(d,g));};n.prototype.some=function(d){var g;g=this;return this.Cd.some(function(e,f){return e.some(g.yF(d,f));});};n.prototype.gQa=function(d){for(var g=this.Cd.length - 1;0 <= g;--g)if(this.Cd[g].gQa(this.yF(d,g)))return !0;return !1;};n.prototype.every=function(d){var g;g=this;return this.Cd.every(function(e,f){return e.every(g.yF(d,f));});};n.prototype.d3b=function(d,g){var k,m;function e(p){return p.reduce(function(v,q,u,t){return void 0 === q?v:void 0 === v?u:0 > d(q,t[v])?u:v;},void 0);}for(var f=this,l=this.Cd.map(function(){return 0;}),h=this.Cd.filter(function(p){return p.empty;}).length;h < this.Cd.length;){k=l.map(function(p,v){return p < f.Cd[v].length?f.Cd[v].get(p):void 0;});m=e(k);g(k[m],this.Te[m] + l[m],this);++l[m];l[m] === this.Cd[m].length && ++h;}};n.prototype.move=function(d){return this.remove(d)?(this.yr(d),!0):!1;};n.prototype.wsc=function(){var d;if(this.Cd[1].length){d=this.Cd[1].shift();this.Cd[0].push(d);this.lC();}};n.prototype.Teb=function(d){for(var g=-1,e=0;e < this.Cd.length;++e)if((g=d(this.Cd[e]),-1 !== g)){g+=this.Te[e];break;}return g;};n.prototype.toJSON=function(){return this.map(function(d){return d.toJSON();});};n.prototype.lC=function(){var g;this.lF=0;this.Te=[0];this.back=this.KS=void 0;for(var d=0;d < this.Cd.length;++d){g=this.Cd[d];this.lF+=g.length;this.Te.push(this.Te[this.Te.length - 1] + g.length);!this.KS && g.length && (this.KS=g);g.length && (this.back=g);}};n.prototype.yF=function(d,g){var e,f;e=this;f=this.Te[g];return function(l,h){return d(l,f + h,e);};};n.prototype.tNb=function(d,g){var e,f;e=this;f=this.Te[g];return function(l,h,k){return d(l,h,f + k,e);};};return n;})();b.eVa=r;},47415:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.gbb=void 0;c=a(5163);n=a(48170);d=a(52571);b.gbb=function(){for(var g=[],e=0;e < arguments.length;e++)g[e]=arguments[e];n.G && (0,d.assert)(g.length);return function(f,l){var h,p,v;try{for(var k=c.__values(g),m=k.next();!m.done;m=k.next()){p=m.value;v=p(f,l);if(0 !== v)return v;}}catch(u){var q;q={error:u};}finally{try{m && !m.done && (h=k.return) && h.call(k);}finally{if(q)throw q.error;}}return 0;};};},72697:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.DX=void 0;c=a(48170);n=a(52571);r=(function(){function d(g,e){this.Cy=g;this.$h=e;this.window=Math.floor((g + e - 1) / e);this.reset();}d.prototype.shift=function(){this.ag.shift();this.times.shift();};d.prototype.iq=function(g){return this.Q$a(this.ag[g],g);};d.prototype.update=function(g,e){this.ag[g]=(this.ag[g] || 0) + e;};d.prototype.push=function(){this.ag.push(0);this.times.push(0);this.time+=this.$h;};d.prototype.add=function(g,e,f){var l,h,k;if(null === this.time){l=Math.max(Math.floor((f - e + this.$h - 1) / this.$h),1);for(this.time=e;this.ag.length < l;)this.push();}for(;this.time <= f;)(this.push(),this.ag.length > this.window && this.shift());if(null === this.Yq || e < this.Yq)this.Yq=e;if(e > this.time - this.$h)this.update(this.ag.length - 1,g);else if(e === f)(l=this.ag.length - Math.max(Math.ceil((this.time - f) / this.$h),1),0 <= l && this.update(l,g));else for(l=1;l <= this.ag.length;++l){h=this.time - l * this.$h;k=h + this.$h;if(!(h > f)){if(k < e)break;this.update(this.ag.length - l,Math.round(g * (Math.min(k,f) - Math.max(h,e)) / (f - e)));}}for(;this.ag.length > this.window;)this.shift();};d.prototype.start=function(g){null === this.Yq && (this.Yq=g);null === this.time && (this.time=g);};d.prototype.stop=function(g){var e,f;if(null !== this.time)if(g - this.time > 10 * this.Cy)this.reset();else {for(;this.time <= g;)(this.push(),this.ag.length > this.window && this.shift());e=this.ag.length - Math.ceil((this.time - g) / this.$h);f=this.ag.length - Math.ceil((this.time - this.Yq) / this.$h);c.G && (0,n.assert)(e >= f,"end index must be after start index");if(0 <= e)if((0 > f && (this.Yq=this.time - this.$h * this.ag.length,f=0),f === e))this.times[f]+=g - this.Yq;else if(e > f)for((this.times[f]+=(this.time - this.Yq) % this.$h,this.times[e]+=this.$h - (this.time - g) % this.$h,g=f + 1);g < e;++g)this.times[g]=this.$h;this.Yq=null;}};d.prototype.Q$a=function(g,e){e=this.eFa(e);return 0 === e?null:8 * g / e;};d.prototype.eFa=function(g){var e;e=this.times[g];null !== this.Yq && (g=this.time - (this.ag.length - g - 1) * this.$h,g > this.Yq && (e=g - this.Yq <= this.$h?e + (g - this.Yq):this.$h));return e;};d.prototype.get=function(g,e){var f,l;f=this.ag.map(this.Q$a,this);if("last" === g)for(g=0;g < f.length;++g)null === f[g] && (f[g]=0 < g?f[g - 1]:0);else if("average" === g){e=1 - Math.pow(.5,1 / ((e || 2E3) / this.$h));l=void 0;for(g=0;g < f.length;++g)null === f[g]?f[g]=Math.floor(l || 0):l=void 0 !== l?e * f[g] + (1 - e) * l:f[g];}return f;};d.prototype.reset=function(){this.ag=[];this.times=[];this.Yq=this.time=null;};d.prototype.setInterval=function(g){this.window=Math.floor((g + this.$h - 1) / this.$h);};return d;})();b.DX=r;},93559:function(r,b,a){var n;function c(d,g,e){var f,h,k;if(d === g || !e.Jo && d == g)return !0;if(typeof d !== typeof g)return !1;if(d && "object" === typeof d){for(var l in d)if(!c(d[l],g[l],e))return !1;if(!e.oTb){h=Object.keys(d);k=Object.keys(g).filter(function(q){return 0 > h.indexOf(q);});try{for(var m=n.__values(k),p=m.next();!p.done;p=m.next())if((l=p.value,!c(d[l],g[l],e)))return !1;}catch(q){var v;v={error:q};}finally{try{p && !p.done && (f=m.return) && f.call(m);}finally{if(v)throw v.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.NCa=function(d,g){var e;void 0 === e && (e={});e=n.__assign({Jo:!1,oTb:!1},e);return c(d,g,e);};n=a(5163);},68157:function(r,b){function a(c){var n,d;n=Math.abs(c);d=1 / (1 + n / 2);n=d * Math.exp(-n * n - 1.26551223 + d * (1.00002368 + d * (.37409196 + d * (.09678418 + d * (-.18628806 + d * (.27886807 + d * (-1.13520398 + d * (1.48851587 + d * (-.82215223 + .17087277 * d)))))))));return 0 <= c?n:2 - n;}Object.defineProperties(b,{__esModule:{value:!0}});b.B1=a;b.f$b=function(c){var n,d,e;if(2 <= c)return -100;if(0 >= c)return 100;n=1 > c?c:2 - c;d=Math.sqrt(-2 * Math.log(n / 2));d=-.70711 * ((2.30753 + .27061 * d) / (1 + d * (.99229 + .04481 * d)) - d);for(var g=0;2 > g;g++){e=a(d) - n;d+=e / (1.1283791670955126 * Math.exp(-(d * d)) - d * e);}return 1 > c?d:-d;};b.pIc=function(c){return 1 - a(c);};},30285:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.JWa=void 0;c=a(5163);r=(function(){function d(g,e){void 0 === e && (e={});this.fr=g;this.options=e;this.GL=[];this.zM=new n(g,this.jOb.bind(this));}d.prototype.jOb=function(g){for(var e,f,l,h,k,m,p=[],v=1;v < arguments.length;v++)p[v - 1]=arguments[v];p={gr:g,Km:p};(null !== (l=null === (f=(e=this.options).Ksc) || void 0 === f?void 0:f.call(e,p,this.GL)) && void 0 !== l?l:1) && this.GL.push(p);return null !== (m=null === (k=(h=this.options).kNc) || void 0 === k?void 0:k.call(h,p)) && void 0 !== m?m:!0;};d.prototype.i6=function(g){this.GL=this.GL.filter(function(e,f){return !g(e,f);});};d.prototype.XNa=function(){var g;g=this;this.zM.LRa();this.GL.forEach(function(e){var f;(f=g.fr).emit.apply(f,c.__spreadArray([e.gr],c.__read(e.Km),!1));});this.zM.Sjb();};Object.defineProperties(d.prototype,{length:{get:function(){return this.GL.length;},enumerable:!1,configurable:!0}});d.prototype.clear=function(){this.GL=[];};d.prototype.Ma=function(){this.clear();this.zM.LRa();this.options=void 0;};return d;})();b.JWa=r;n=(function(){function d(g,e){this.fr=g;this.kx=e;this.Cpb=this.fr.emit;this.oXb();this.Sjb();}d.prototype.oXb=function(){var g;g=this;this.zM=function(e){for(var f,l,h=[],k=1;k < arguments.length;k++)h[k - 1]=arguments[k];return (null === (l=g.kx) || void 0 === l?0:l.call.apply(l,c.__spreadArray([g,e],c.__read(h),!1)))?(f=g.Cpb).call.apply(f,c.__spreadArray([g.fr,e],c.__read(h),!1)):!1;};};d.prototype.Sjb=function(){this.zM && (this.fr.emit=this.zM);};d.prototype.LRa=function(){this.fr.emit=this.Cpb;};d.prototype.Ma=function(){this.LRa();this.kx=this.zM=void 0;};return d;})();},32201:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(68157);r=(function(){function n(d,g){this.xa=d;this.af=g;}n.prototype.X$a=function(d){return .5 * (0,c.B1)(-(d - this.xa) / Math.sqrt(2 * this.af));};n.prototype.EA=function(d){return this.xa - Math.sqrt(2 * this.af) * (0,c.f$b)(2 * d);};return n;})();b["default"]=r;},82475:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.QGa=function(a){return ("( ").concat(a.L,", ").concat(a.offset.Ka()," )");};},6783:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.$u=function(d,g,e,f){var l,h,k,v,q,u;void 0 === f && (f={});k=n.K.max(e,n.K.wa);try{for(var m=c.__values(Object.keys(d.ba)),p=m.next();!p.done;p=m.next()){v=p.value;q=d.ba[v];if(q.N === g){u=n.K.Pa(q.rb);if(k.eg(u) && (!isFinite(null !== (h=q.yb) && void 0 !== h?h:NaN) || k.lessThan(n.K.Pa(q.yb))))return {L:v,offset:e.ka(u)};}}}catch(w){var t;t={error:w};}finally{try{p && !p.done && (l=m.return) && l.call(m);}finally{if(t)throw t.error;}}if(f.gub && (q=Object.keys(d.ba).map(function(w){return {key:w,M:d.ba[w]};}).filter(function(w){return w.M.N === g;}).map(function(w){var x,z;x=n.K.abs(e.ka(n.K.Pa(w.M.rb)));if(w.M.yb && isFinite(w.M.yb)){z=n.K.abs(e.ka(n.K.Pa(w.M.yb)));x=n.K.min(x,z);}return c.__assign(c.__assign({},w),{cv:x});}),q.sort(function(w,x){return w.cv.H - x.cv.H;}),u=c.__read(q,1)[0]))return (q=u.M,f=u.key,u=n.K.Pa(q.rb),{L:f,offset:e.ka(u)});};c=a(5163);n=a(91176);},71460:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Cqa=void 0;r=(function(){function a(c,n,d){var g,e,f;this.bb=n;this.Wb=d;this.S7a=c;g=this.R7a=this.Z5a=this.Y5a=0;e=0;f=0;this.S7a.length >= this.bb.Lnb && (this.S7a.forEach(function(l){g+=l.avtp;e+=1 * l.neuhd;f++;}),this.R7a=f,this.Y5a=g / f,this.Z5a=e / f);}a.prototype.nkb=function(){return this.R7a >= this.bb.Lnb && this.Y5a >= this.bb.p$a.bwThreshold && this.Z5a < this.bb.p$a.nethreshold;};return a;})();b.Cqa=r;},69575:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.aIb=b.bXa=void 0;r=a(5163);r.__exportStar(a(65167),b);r.__exportStar(a(55971),b);r.__exportStar(a(1727),b);r.__exportStar(a(61113),b);r.__exportStar(a(79994),b);r.__exportStar(a(93559),b);r.__exportStar(a(24635),b);r.__exportStar(a(48912),b);r.__exportStar(a(62291),b);c=r.__importDefault(a(32201));b.bXa=c.default;a=r.__importDefault(a(16514));b.aIb=a.default;},51117:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.X9=void 0;c=a(68157);r=(function(){function n(d,g){this.HKa=d;this.af=g;0 < g?(this.llb=g=Math.pow(d,3) / g,d=2 * g / d,500 >= d && (this.kEa=Math.exp(d))):this.kEa=0;}n.prototype.X$a=function(d){var g,e,f;g=this.HKa;e=this.kEa;if(e && 0 < d){f=Math.sqrt(this.llb / (2 * d));g=d / g;d=(0,c.B1)(f * (g - 1));f=(0,c.B1)(f * (g + 1));return Math.max((2 - d + e * f) / 2,0);}return d < g?0:d > g?1:.5;};n.prototype.EA=function(d,g,e){for(var f=0,l=this.HKa + 5 * Math.sqrt(this.af),h=1,k=0;Math.abs(h) > g && e--;)(k=(f + l) / 2,h=this.X$a(k),h=d - h,0 > h?l=k:f=k);return k;};n.prototype.USb=function(d){var g,e,f,l;g=this.HKa;e=this.kEa;if(e && 0 < d){f=Math.sqrt(this.llb / (2 * d));l=d / g;d=2 - (0,c.B1)(f * (l - 1));e*=(0,c.B1)(f * (l + 1));return [Math.max((d + e) / 2,0),Math.max(g * (d - e) / 2,0)];}return d < g?[0,0]:d > g?[1,g]:[.5,g / 2];};return n;})();b.X9=r;},65892:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.GKc=function(a){var c,n;c=a.next();do {if(!c.done)n=c.value;c=a.next();}while(!c.done);return n;};b.uj=function(a){if(Array.isArray(a))return a;for(var c=[],n=a.next();!n.done;)(c.push(n.value),n=a.next());return c;};},37191:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.e$=void 0;c=a(71460);b.e$=(function(){function n(){}n.SFa=function(d,g,e){var f;f=g.Ak;g.Aea && new c.Cqa(d,g,e).nkb() && (f=g.Rha);return f;};return n;})();},62291:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.HJa=function(a){var c,n,d,g,e,f;f=null === (c=a.M) || void 0 === c?void 0:c.id;return {ub:null === (n=a.Hb) || void 0 === n?void 0:n.H,duration:(null === (d=a.Rb) || void 0 === d?NaN:d.H) - (null === (g=a.Hb) || void 0 === g?NaN:g.H),offset:a.offset,la:a.la,bitrate:a.bitrate,profile:a.profile,De:!!a.De,L:f,Jb:a.Jb,vd:a.vd,location:a.location,Fi:a.Fi,et:null === (e=a.Ba) || void 0 === e?void 0:e.H,Mt:{Qa:{M:{id:f || "unknown"}}}};};},42194:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.L$a=void 0;c=a(50599);n=a(65044);b.L$a=function(){return function(d){var f,l,h,k;function g(m){k[m]=function(p){return l({rules:[{Gk:m,config:p}]},!0);};}function e(m){f[m]=function(p){return l({rules:[{Gk:m,config:p}]});};}f={};l=(0,c.map)(d.Pmb);for(h in d.wV)e(h);f.gLa=l({rules:[],oza:!0});f.Jo=l({rules:[],Jo:!0});k={};for(h in d.wV)g(h);k.gLa=l({rules:[],oza:!0},!0);k.Jo=l({rules:[],Jo:!0},!0);f.return=k;return {KCa:f,wOa:d,kNa:function(m,p,v,q){return (0,n.Xbb)(m,p,v,d.wV,d.Pmb,q);}};};};},50599:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Rtb=b.Rgb=b.map=void 0;c=a(5163);a(1738);b.map=function(n){return function(d,g){void 0 === g && (g=!1);return function(e,f,l){var h,k,m,p,v,q,u,t;v=Reflect.dhb(n,e,f) || ({});u="number" === typeof l;t=g;(q=u?null !== (k=(null !== (h=v.Bb) && void 0 !== h?h:{})[l]) && void 0 !== k?k:{}:t?v.return:v.qKa) || (q={rules:[]});h=c.__assign(c.__assign(c.__assign({},q),d),{rules:c.__spreadArray(c.__spreadArray([],c.__read(null !== (m=q.rules) && void 0 !== m?m:[]),!1),c.__read(null !== (p=d.rules) && void 0 !== p?p:[]),!1)});u?(v.Bb || (v.Bb={}),v.Bb[l]=h):t?v.return=h:v.qKa=h;Reflect.Uda(n,v,e,f);};};};b.Rgb=function(n){return function(d,g){var e,f,l,h;d=null !== (h=null !== (f=null === (e=d.__proxyCtor) || void 0 === e?void 0:e.prototype) && void 0 !== f?f:null === (l=null === d || void 0 === d?void 0:d.constructor) || void 0 === l?void 0:l.prototype) && void 0 !== h?h:d;for(var k;d && void 0 === k;)(k=Reflect.dhb(n,d,g),d=d.__proto__);return k;};};b.Rtb=function(){return function(){return function(n){return n;};};};},65044:function(r,b,a){var e,f,l,h,k;function c(m,p){if(m)return Object.getOwnPropertyDescriptor(m,p)?m:c(m.prototype,p) || c(m.__proto__,p);}function n(m,p){if(m=c(m,p))return Object.getOwnPropertyDescriptor(m,p);}function d(m,p){var u;for(var v=Object.getPrototypeOf(m),q=[];v !== Object.prototype;)(q=q.concat(Object.getOwnPropertyNames(v)),v=Object.getPrototypeOf(v));m=Object.keys(m).concat(q);p.__proxyCtor || (p.__proxyCtor=void 0);u=Object.getPrototypeOf(p);m.forEach(function(t){Object.getOwnPropertyDescriptor(p,t) || Object.getOwnPropertyDescriptor(u,t) || p[t] || Object.defineProperty(p,t,{get:function(){},configurable:!0,enumerable:!0});});}function g(m,p,v,q){var w;for(var u=[],t=4;t < arguments.length;t++)u[t - 4]=arguments[t];w=q();if((null === w || void 0 === w?0:w.qKa) || (null === w || void 0 === w?0:w.Bb))u=u.map(function(x,z){var y;z=(0,k.xnb)(w.qKa,null === (y=w.Bb) || void 0 === y?void 0:y[z]);return (0,h.jla)(p,x,v,z);});u=m.call.apply(m,e.__spreadArray([void 0],e.__read(u),!1));return (null === w || void 0 === w?0:w.return)?(0,h.jla)(p,u,v,w.return,l.SE.KI):u;}Object.defineProperties(b,{__esModule:{value:!0}});b.Xbb=void 0;b.MHc=d;b.XIc=g;e=a(5163);f=a(50599);l=a(49165);h=a(87561);k=a(28867);b.Xbb=function(m,p,v,q,u,t){var w,x;void 0 === t && (t=[]);w={};x=(0,f.Rgb)(u);d(p,m);t.forEach(function(z){return d(z,m);});return new Proxy(m,{get:function(z,y){var A,B,C,D;if("__proxyCtor" === y)return null !== (A=m[y]) && void 0 !== A?A:m.constructor;if((y in p)){D=p[y];return "function" === typeof D?D.bind(p):D;}A=w[y];if(!A && !n(w,y)){A=null !== (C=null === (B=null === z || void 0 === z?void 0:z.constructor) || void 0 === B?void 0:B.prototype) && void 0 !== C?C:z;B=null !== (D=c(A,y)) && void 0 !== D?D:c(A.__proxyCtor,y);D=n(A,y);if(null === D || void 0 === D?0:D.get)return (D=D.get,B=x.bind(null,B,y),z=g.bind(z,D.bind(z),v,q,B),Object.defineProperty(w,y,{get:z,enumerable:!0,configurable:!0}),z());D=z[y];return "function" === typeof D?(B=x.bind(null,z,y),z=g.bind(z,D.bind(z),v,q,B),w[y]=z):D;}return A;},set:function(z,y,A){if((y in p))return (p[y]=A,!0);z[y]=A;delete w[y];return !0;}});};},49165:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});r=b.SE={};r[r.KI=0]="up";r[r.tL=1]="down";},87561:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.jla=void 0;c=a(5163);n=a(52571);d=a(49165);b.jla=function(g,e,f,l,h,k){var m,p;void 0 === h && (h=d.SE.tL);m=g();if(l && m){p=l.oza;g=l.Jo;l=l.rules.map(function(v){return ["function" === typeof v.Gk?v.Gk(f):f[v.Gk],v.config];});p || (0,n.assert)(e,"Param is null");k && l.push([{map:k,GC:function(){return !0;}},void 0]);k=l.filter(function(v){v=c.__read(v,2);return v[0].GC(e,m,v[1]);});g && (0,n.assert)(k.length,("No rules matched for ").concat(e));if(k.length)return k.reduce(function(v,q){q=c.__read(q,2);return q[0].map(v,h,m,q[1]);},e);}return e;};},28867:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.xnb=void 0;c=a(5163);n=a(91176);b.xnb=function(d,g){var e;if(d || g){e=(null === d || void 0 === d?0:d.rules) && (null === g || void 0 === g?0:g.rules)?(0,n.a0)(d.rules,g.rules):(null === d || void 0 === d?void 0:d.rules) || (null === g || void 0 === g?void 0:g.rules);return c.__assign(c.__assign(c.__assign({},d),g),{rules:e});}};},55971:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.V_a=void 0;c=a(91176);n=a(52571);r=(function(){function d(){this.data={};}Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{size:{get:function(){var g;g=this;return Object.keys(this.data).reduce(function(e,f){return e + g.data[f].length;},0);},enumerable:!1,configurable:!0}});d.prototype.get=function(g){var e;return null !== (e=this.data[g]) && void 0 !== e?e:[];};d.prototype.has=function(g,e){return (g=this.data[g])?void 0 === e?!0:-1 !== g.indexOf(e):!1;};d.prototype.count=function(g){return (g=this.data[g])?g.length:0;};d.prototype.keys=function(){return Object.keys(this.data);};d.prototype.values=function(){var g;g=this;return (0,c.flatten)(this.keys().map(function(e){return g.data[e];}));};d.prototype.set=function(g,e){(this.data[g] || (this.data[g]=[])).push(e);return this;};d.prototype.clear=function(){this.data={};};d.prototype.delete=function(g,e){var f,l;f=this.data[g];if(void 0 === f)return !1;if(void 0 === e)return ((0,n.assert)(1 === arguments.length),delete this.data[g],!0);l=f.indexOf(e);if(-1 === l)return !1;1 === f.length?delete this.data[g]:f.splice(l,1);return !0;};d.prototype.forEach=function(g,e){var f;f=this;g=void 0 !== e?g.bind(e):g;this.keys().forEach(function(l){return f.data[l].forEach(function(h){return g(h,l,f);});});};d.prototype.reduce=function(g,e,f){var l,h;l=this;g=void 0 !== f?g.bind(f):g;h=e;this.forEach(function(k,m){h=g(h,k,m,l);});return h;};d.prototype.map=function(g,e){var f;f=this;g=void 0 !== e?g.bind(e):g;return (0,c.flatten)(this.keys().map(function(l){return f.data[l].map(function(h){return g(h,l,f);});}));};d.prototype.filter=function(g,e){var f;f=this;g=void 0 !== e?g.bind(e):g;return (0,c.flatten)(this.keys().map(function(l){return f.data[l].filter(function(h){return g(h,l,f);});}));};return d;})();b.V_a=r;},54520:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.iLa=void 0;c=a(5163);n=a(5163);b.iLa=function(d){for(var g=[],e=1;e < arguments.length;e++)g[e - 1]=arguments[e];return n.__assign.apply(void 0,c.__spreadArray([d],c.__read(g),!1));};},7675:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.thc=function(a){var c,n;c={};for(n in a)c[a[n]]=n;return c;};},77399:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Y$b=function(n,d){var l,h,k,m,p,v,q,w,x,z,y,A,B,C;for(var g,e,f=0;f < n.length;f++){l=c.__read(d,3);h=l[0];k=l[1];m=l[2];p=c.__read(n[f],3);v=p[0];l=p[1];q=p[2];if(!(h >= l)){h=[h,Math.min(l,k),v,l].filter(function(D,E,F){return F.indexOf(D) === E;}).sort(function(D,E){return D - E;});v=h.length - 1;p=Array(v);m+=q;try{for(var u=(g=void 0,c.__values([d,n[f]])),t=u.next();!t.done;t=u.next()){w=c.__read(t.value,3);x=w[0];z=w[1];y=w[2];q=z - x;for(d=0;d < v;d++){A=h[d + 1];B=Math.min(A,z) - Math.max(h[d],x);if(0 < B){C=B * y / q;m-=C;p[d]=p[d]?p[d] + C:C;}if(z <= A)break;}}}catch(D){g={error:D};}finally{try{t && !t.done && (e=u.return) && e.call(u);}finally{if(g)throw g.error;}}q=[];for(d=0;d < v;d++)(y=p[d],0 < y && q.push([h[d],h[d + 1],y]));n.splice.apply(n,c.__spreadArray([f,1],c.__read(q),!1));if(l < k)d=[l,k,m];else return;}}d && 0 < d[2] && n.splice(n.length,0,d);};c=a(5163);},16514:function(r){function b(a){this.FLb=a;this.BK=[];this.xF=!1;this.wya=void 0;this.kp={};}b.prototype.Vba=function(a){this.BK.length === this.FLb && this.BK.shift();Array.isArray(a)?this.BK=this.BK.concat(a):this.BK.push(a);this.xF=!0;};b.prototype.O2=function(){return this.BK.length;};b.prototype.w0=function(a){var c,n,d;if(this.xF || void 0 === this.wya)(this.wya=this.BK.slice(0).sort(function(g,e){return g - e;}),this.kp={},this.xF=!1);if(void 0 === this.kp[a]){c=this.wya;n=Math.floor(a / 100 * (c.length - 1) + 1) - 1;d=(a / 100 * (c.length - 1) + 1) % 1;this.kp[a]=n === c.length - 1?c[n]:c[n] + d * (c[n + 1] - c[n]);}return this.kp[a];};r.exports=b;},29254:function(r,b){var n,d,g;function a(e){return void 0 !== (null === e || void 0 === e?void 0:e.T5a);}function c(e){return (a(e)?e:Object.defineProperties(e,{T5a:{value:{},configurable:!1,enumerable:!1}})).T5a;}Object.defineProperties(b,{__esModule:{value:!0}});b.Zua=void 0;d=null !== (n=Number.MAX_SAFE_INTEGER) && void 0 !== n?n:1E9;g=Date.now() % d;r=(function(){function e(){this.id=g=(g + 1) % d;}e.prototype.get=function(f){return a(f)?c(f)[this.id]:void 0;};e.prototype.set=function(f,l){c(f)[this.id]=l;return this;};e.prototype.has=function(f){return a(f) && void 0 !== c(f)[this.id];};e.prototype.delete=function(f){if(!this.has(f))return !1;c(f)[this.id]=void 0;return !0;};return e;})();b.Zua=r;},59458:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.esb=function(a,c,n){void 0 === n && (n={});a=Math.random() * (c - a) + a;return n.eac?n.A$b?Math.round(a):Math.floor(a):a;};},1936:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.EIb=void 0;c=a(66164);n=a(8171);d=["","",""];r=(function(){function g(e){this.request=e;this.complete=this.append=this.Yea=this.iJa=this.open=0;}Object.defineProperties(g.prototype,{console:{get:function(){return n.hs.Ax(this.request.mediaType);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{oV:{get:function(){var e;return null === (e=this.request.Ob) || void 0 === e?void 0:e.H;},enumerable:!1,configurable:!0}});g.prototype.vic=function(){this.open=c.platform.time.ya();};g.prototype.kic=function(){this.iJa=c.platform.time.ya();this.trace();};g.prototype.fic=function(){this.Yea=c.platform.time.ya();this.trace();};g.prototype.Iv=function(){this.complete=c.platform.time.ya();this.trace();};g.prototype.trace=function(){var e;e=("RequestLedger ID: ").concat(this.request.Fi());e+=(" load-open: ").concat(this.iJa - this.open);0 < this.Yea && (" firstbyte-load: ").concat(this.Yea - this.iJa);0 < this.append && (" append-firstbyte: ").concat(this.append - this.Yea);0 < this.complete && ((" complete-open: ").concat(this.complete - this.open),e=this.request.mediaType,this.oV && this.complete - this.open > this.oV?((" duration: ").concat(this.oV),d[e]+="X"):d[e]+=".",10 < d[e].length && (d[e]=d[e].slice(1)));};return g;})();b.EIb=r;},66055:function(r,b,a){var n,d,g,e,f;function c(l,h){return l.time - h.time || l.priority - h.priority || l.id - h.id;}Object.defineProperties(b,{__esModule:{value:!0}});b.IPa=function(l,h,k){return f.instance.IPa(l,h,k);};b.oBa=function(l){f.instance.oBa(l);};b.IMc=function(){f.reset();};n=a(66164);d=a(91176);g=a(48170);e=a(52571);f=(function(){function l(){var h;h=this;this.zl=new d.HJ([],c);this.lRa=0;this.console=new n.platform.Console("SETTIMEOUT");this.D1b=function(){var k,m;k=n.platform.time.ya();h.D7=void 0;g.G && h.console.trace(("[").concat(k,"] Wake"));try{for(;!h.zl.empty && h.zl.iq().time <= k;){m=h.zl.pop();g.G && h.console.trace(("[").concat(n.platform.time.ya(),"] Executing p").concat(m.priority," timer ").concat(m.id," scheduled for ").concat(m.time));m.kx();}}finally{h.HOa();}};}Object.defineProperties(l,{instance:{get:function(){return l.Mw || (l.Mw=new l());},enumerable:!1,configurable:!0}});l.reset=function(){(0,e.assert)(void 0 === l.Mw || l.Mw.zl.empty,"Singleton SetTimeoutWithPriority reset with pending timers");l.Mw=void 0;};l.prototype.IPa=function(h,k,m){var p,v,q;(0,e.assert)(isFinite(k) && 0 <= k);p=this.zl;v=n.platform.time.ya();q=v + k;p.push({id:++this.lRa,time:q,priority:m,kx:h});g.G && this.console.trace(("[").concat(v,"] New p").concat(m," timer ").concat(this.lRa," scheduled for ").concat(q," in ").concat(k,"ms"));this.HOa();return this.lRa;};l.prototype.oBa=function(h){var k,m,p;k=this.zl;m=k.find(function(v){return v.id === h;});if(m){p=k.iq().time;k.remove(m);g.G && this.console.trace(("[").concat(n.platform.time.ya(),"] Removing timer ").concat(m.id," scheduled for ").concat(m.time));(k.empty || k.iq().time > p) && this.HOa();}};l.prototype.Iab=function(){this.D7 && (clearTimeout(this.D7.id),g.G && this.console.trace(("[").concat(n.platform.time.ya(),"] Clearing wake timer")),this.D7=void 0);};l.prototype.HOa=function(){var h,k;k=this.zl;k.empty?this.Iab():(k=k.iq().time,k !== (null === (h=this.D7) || void 0 === h?void 0:h.time) && (this.Iab(),h=Math.max(0,k - n.platform.time.ya()),g.G && this.console.trace(("[").concat(n.platform.time.ya(),"] Setting wake timer for ").concat(k," in ").concat(h,"ms")),this.D7={id:setTimeout(this.D1b,h),time:k}));};return l;})();},61113:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Q3a=b.P3a=void 0;c=a(91176);r=(function(){function n(d){this.Wa=d;this.listeners=[];this.m5=[];}Object.defineProperties(n.prototype,{value:{get:function(){return this.Wa;},enumerable:!1,configurable:!0}});n.prototype.set=function(d){var g;this.Wa=d;g=this.m5;this.m5=[];this.listeners.forEach(function(e){return e(d);});g.forEach(function(e){return e(d);});};n.prototype.ytb=function(){this.Wa=void 0;};n.prototype.on=function(d){this.listeners=this.listeners.concat([d]);void 0 !== this.Wa && d(this.Wa);};n.prototype.once=function(d){void 0 !== this.Wa?d(this.Wa):this.m5.push(d);};n.prototype.yo=function(d){this.listeners=this.listeners.filter(function(g){return g !== d;});this.m5=this.m5.filter(function(g){return g !== d;});};return n;})();b.P3a=r;r=(function(){function n(){this.listeners=[];}n.prototype.on=function(d,g){this.listeners.push({signal:d,listener:g});d.on(g);};n.prototype.once=function(d,g){var e,f;e=this;if(void 0 === d.value){f=function(l){e.remove(d,g);g(l);};this.listeners.push({signal:d,listener:g,jAb:f});d.once(f);}else d.once(g);};n.prototype.yo=function(d,g){var e;e=(0,c.oc)(this.listeners,function(f){return f.signal === d && f.listener === g;});void 0 !== e && d.yo(e.jAb || e.listener);this.remove(d,g);};n.prototype.removeAllListeners=function(){this.listeners.forEach(function(d){var g;g=d.listener;return d.signal.yo(d.jAb || g);});this.listeners=[];};n.prototype.remove=function(d,g){this.listeners=this.listeners.filter(function(e){return e.signal !== d || e.listener !== g;});};return n;})();b.Q3a=r;},94258:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.uQ=void 0;c=a(5163);n=a(24635);r=(function(){function d(g,e){var f;this.a6a=g;this.Uxb=e;this.ag={other:new n.Xf(),all:new n.Xf()};try{for(var l=c.__values(g),h=l.next();!h.done;h=l.next())this.ag[h.value]=new n.Xf();}catch(m){var k;k={error:m};}finally{try{h && !h.done && (f=l.return) && f.call(l);}finally{if(k)throw k.error;}}}d.em=function(g,e){var f,l,m;if(g === e)return g;l=new d(g.a6a,g.Uxb);try{for(var h=c.__values(Object.keys(g.ag)),k=h.next();!k.done;k=h.next()){m=k.value;l.ag[m]=g.ag[m].em(e.ag[m]);}}catch(v){var p;p={error:v};}finally{try{k && !k.done && (f=h.return) && f.call(h);}finally{if(p)throw p.error;}}return l;};d.prototype.vRb=function(g){var e,f,k;g=(null === (f=this.Uxb) || void 0 === f?void 0:f.call(this,g)) || g;try{for(var l=c.__values(this.a6a),h=l.next();!h.done;h=l.next()){k=h.value;if(g < k)return k;}}catch(p){var m;m={error:p};}finally{try{h && !h.done && (e=l.return) && e.call(l);}finally{if(m)throw m.error;}}return "other";};d.prototype.push=function(g){var e,f;f=null !== (e=this.vRb(g)) && void 0 !== e?e:"other";this.ag[f].push(g);this.ag.all.push(g);};d.prototype.toJSON=function(){var g,e;g=this;e={};Object.keys(this.ag).forEach(function(f){var l;l=g.ag[f];l.count && (e[f]=l);});return e;};return d;})();b.uQ=r;},24635:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Xf=void 0;c=a(91176);Object.defineProperties(b,{Xf:{enumerable:!0,get:function(){return c.Xf;}}});},35536:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.uZ=void 0;c=a(66164);r=(function(){function n(){}Object.defineProperties(n.prototype,{duration:{get:function(){return void 0 !== this.endTime?this.endTime - this.startTime:0;},enumerable:!1,configurable:!0}});n.prototype.start=function(){this.reset();};n.prototype.reset=function(){this.startTime=c.platform.time.ya();this.endTime=void 0;};n.prototype.stop=function(){this.endTime=c.platform.time.ya();};return n;})();b.uZ=r;},94451:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.MQa=void 0;b.MQa=function(a){return a.reduce(function(c,n){return c + n;},0);};},40666:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(88220),b);r.__exportStar(a(28422),b);r.__exportStar(a(14772),b);r.__exportStar(a(85339),b);r.__exportStar(a(4234),b);},88220:function(r,b,a){var c,n,d,g,e,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Wqa=void 0;c=a(5163);n=a(91176);d=a(66164);g=a(52571);a(29092);e=a(14772);f=a(4234);r=(function(l){function h(k,m,p){m=l.call(this,m,p) || this;m.dqc=k;m.eIa=!1;m.Vja=!1;m.reset();return m;}c.__extends(h,l);h.prototype.reset=function(){var k,m;if(this.hb === e.Rn.kla || this.hb === e.Rn.pending)null === (m=null === (k=this.TR) || void 0 === k?void 0:k.return) || void 0 === m?void 0:m.call(k);l.prototype.reset.call(this);this.TR=this.dqc();this.Vja=!1;this.V4=f.Og.tB(n.K.wa);};h.prototype.Md=function(){this.reset();(0,g.assert)(this.uC);this.uC.B6(this);};h.prototype.Oia=function(){return this.V4;};h.prototype.ef=function(){var k,m,p,v;try{this.eIa=!0;v=(null === (k=this.TR) || void 0 === k?void 0:k.next()) || ({done:!0});}finally{this.eIa=!1;this.rcc=d.platform.time.ya();this.pTb();}v.done?(this.V4=f.Og.ySa,null === (p=null === (m=this.TR) || void 0 === m?void 0:m.return) || void 0 === p?void 0:p.call(m),this.TR=void 0):this.V4=v.value;};h.prototype.pTb=function(){this.Vja && this.Tcb();};h.prototype.Tcb=function(){var k,m;this.eIa?this.Vja=!0:(this.Vja=!1,null === (m=null === (k=this.TR) || void 0 === k?void 0:k.return) || void 0 === m?void 0:m.call(k),this.TR=void 0);};h.prototype.Ma=function(){this.Tcb();l.prototype.Ma.call(this);};h.prototype.jo=function(){return {state:e.Rn[this.state],nextWakeup:{ms:this.V4.timestamp.H,type:f.Ava[this.V4.type]},lastRunMono:this.rcc};};return h;})(e.$va);b.Wqa=r;},51371:function(r,b,a){var d,g,e,f,l,h,k,m,p,v,q,u,t;function c(w){var x,z,y,A,B,C,D,E,F,G,J,N;z=w.Aa;y=w.kx;A=w.Vzb;B=w.Ko;C=w.priority;D=void 0 === C?0:C;C=w.MI;E=void 0 === C?!0:C;w=w.k$a;F=void 0 === w?!0:w;(0,l.assert)(z.Kh,("Current time: ").concat(f.platform.time.ya()," cr: ").concat(z.currentTime));(0,l.assert)(z.currentTime.isFinite());w=A.ka(z.currentTime);F && (w=n(w,null !== (x=null === B || void 0 === B?void 0:B.eja) && void 0 !== x?x:0));G=Math.max(Math.ceil(w.hy / z.speed),0);J=B || ({id:void 0,Mcb:G,eja:0,Yic:G,MI:E,Yca:[]});N=f.platform.time.ya();J.id=(J.MI?m.IPa:setTimeout)(function(){var I,M;I=A.ka(z.currentTime);M=f.platform.time.ya() - N - G;J.Yca.push({delay:M,itc:G});I.dn(e.K.wa)?y():(J.eja++,c({Aa:z,kx:y,Vzb:A,Ko:J,priority:D,MI:E,k$a:F}));},G,D);J.Mcb=G;return J;}function n(w,x){return 0 < x?e.K.max(w,e.K.Pa(10 * (1 << Math.min(x,6) - 1))):w;}Object.defineProperties(b,{__esModule:{value:!0}});b.mva=b.y3a=void 0;d=a(5163);g=a(90745);e=a(91176);f=a(66164);l=a(52571);h=a(48170);k=a(47415);m=a(66055);p=a(14772);v=a(4234);q=a(81651);u=(function(){function w(){this.complete();}Object.defineProperties(w.prototype,{UO:{get:function(){return this.xya;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Pia:{get:function(){return this.TLb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{nYb:{get:function(){return this.DKb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{rla:{get:function(){return this.QMb;},enumerable:!1,configurable:!0}});w.prototype.set=function(x,z,y){this.DKb=z === t.Sia?0:f.platform.time.ya();this.TLb=x;this.QMb=z;h.G && (0,l.assert)(!this.xya,"Invalid replacement of timeout value");this.xya=y;};w.prototype.complete=function(){this.xya=void 0;this.set(e.K.Qj,t.Sia);};return w;})();(function(w){w[w.Sia=0]="none";w[w.I4=1]="microTask";w[w.setTimeout=2]="setTimeout";})(t || (b.y3a=t={}));r=(function(w){function x(z,y){var A;A=w.call(this) || this;A.Aa=z;A.console=y;A.A3=!1;A.aea=!1;A.ul=new u();A.Gp=new g.mf();A.pj=new e.HJ([],(0,k.gbb)(function(B,C){return B.fO.el(C.fO);},function(B,C){return B.Ag.ec.priority - C.Ag.ec.priority;},function(B,C){return C.Ag.priority - B.Ag.priority;},function(B,C){return B.Ag.id > C.Ag.id?1:B.Ag.id < C.Ag.id?-1:0;}));A.sca(z);return A;}d.__extends(x,w);x.mrc=function(z){this.config=z;};x.F5b=function(z,y){var B,C;function A(){var D,E;D=new x(z,y);E=new e.XP({name:"rootTaskScheduler",i5:function(F){F() && (D.Ma(),B.sla.delete(z));},console:y});return {ec:D,Cv:E};}B=this;(0,l.assert)(this.config,"Config has not been intiialized");this.config.bab && (this.sla.has(z) || this.sla.set(z,A()));C=this.sla.get(z) || A();return {ec:C.ec,Up:C.Cv.Ls()};};Object.defineProperties(x.prototype,{ana:{get:function(){return this.GK;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Dsc:{get:function(){return this.Aa.Kh;},enumerable:!1,configurable:!0}});x.prototype.k0b=function(){this.GK || (this.GK=new q.Cwa());return this.GK;};x.prototype.jo=function(){var z;z={hasSchedule:!!this.ul.UO,schedule:this.ul.UO && ({sleepTime:this.ul.UO.Mcb,originalSleepTime:this.ul.UO.Yic,clockSkewAdjustments:this.ul.UO.eja}),nextWakeup:this.ul.Pia.H,timeScheduled:this.ul.nYb,scheduleType:t[this.ul.rla],numTasks:this.pj.length,clock:{ir:this.Aa.Kh,ct:this.Aa.currentTime.H,sp:this.Aa.speed}};h.G && this.trace("audit",z);return z;};x.prototype.sca=function(z){var y;y=this;this.Zu();this.Gp.clear();this.Aa=z;this.Gp.on(z,"stopStart",function(){return y.VN();});this.Gp.on(z,"clockAdjusted",function(){return y.h5();});this.Gp.on(z,"speedChanged",function(){return y.Kic();});this.h5();this.emit("clockChanged");};x.prototype.Kic=function(){this.Zu();this.VN();};x.prototype.Ma=function(){this.reset();this.A3 && (this.aea=!0);this.Gp.clear();this.Ar=!0;};x.prototype.reset=function(){var z;this.Zu();z=this.pj.uj();this.pj.clear();z.forEach(function(y){return y.Ag.Ma();});};x.prototype.Md=function(){var z;this.Zu();z=this.pj.uj();this.pj.clear();z.forEach(function(y){return y.Ag.Md();});};x.prototype.h5=function(){var z,y;z=this;y=this.pj.map(function(A){return A.Ag;});this.Zu();this.pj.clear();y.forEach(function(A){return z.bR(A,!1);});this.VN();};x.prototype.bR=function(z,y){var A,B;void 0 === y && (y=!0);A=z.Oia();B=this.zxb(A);A={Ag:z,fO:B,Yka:A};h.G && this.trace(("Adding task ").concat(z.name," for ").concat(B.H," from ").concat(z.ec.name) + ("/").concat(z.ec.priority));(0,l.assert)(!this.pj.contains(A));this.pj.push(A);y && this.VN();};x.prototype.Sma=function(z){var y,A;y=this;this.Zu();z.ly && this.pj.map(function(B){return B;}).filter(function(B){return -1 !== z.ly.indexOf(B.Ag);}).forEach(function(B){return y.pj.remove(B);});null === (A=z.R_) || void 0 === A?void 0:A.forEach(function(B){return y.bR(B,!1);});this.VN();};x.prototype.VN=function(){var z,y,A,B,C,D;z=this;h.G && this.trace("recheck schedule task count:" + this.pj.length);if(this.Dsc){if(this.A3)h.G && this.trace("already executing, bailing");else if(this.ul.rla === t.I4)h.G && this.trace("Already scheduled on microtask, bailing");else {A=this.ul.Pia;B=this.pj.iq();C=(null === B || void 0 === B?void 0:B.fO) || e.K.Qj;if(C.isFinite() && C.b5(A)){if((this.Zu(!1),this.Aa.currentTime.eg(C)))(this.ul.set(C,t.I4),Promise.resolve().then(function(){z.ul.rla === t.I4 && (z.ul.complete(),z.Ttb({type:t.I4}));}));else {h.G && this.trace("scheduling next wake up for",{tOc:C.H,Ag:null === B || void 0 === B?void 0:B.Ag.name,jqc:null === B || void 0 === B?void 0:B.Ag.ec.name});D=c({Aa:this.Aa,kx:function(){z.ul.complete();z.Ttb({type:t.setTimeout,Pia:C,delay:z.Aa.currentTime.ka(C),aL:D.eja,Yca:D.Yca});},Vzb:C,priority:null !== (y=null === B || void 0 === B?void 0:B.Ag.ec.priority) && void 0 !== y?y:0,MI:!!x.config.MI,k$a:!!x.config.j$a});this.ul.set(C,t.setTimeout,D);}}else C.isFinite() || this.ul.rla !== t.setTimeout || this.Zu(!1);}}else (h.G && this.trace("should check schedule is false, stopping"),this.Zu());};x.prototype.Ttb=function(z){var A,B,C,D,E,F;function y(){return F=!0;}D=0;E=null === (A=this.pj.iq()) || void 0 === A?void 0:A.Yka;F=!1;this.Aa.on("stopStart",y);try{for((this.A3=!0,null === (B=this.GK) || void 0 === B?void 0:B.Otc(z));1E4 > D++ && this.owc() && !F;);}finally{this.Aa.yo("stopStart",y);this.A3=!1;null === (C=this.GK) || void 0 === C?void 0:C.b1b(D);this.Zu();1E4 < D && !this.x9b(E)?this.error(("Task scheduler executed more than ").concat(1E4) + " iterations in same tick"):(h.G && this.trace("Next tasks",this.pj.map(function(G){return {name:G.Ag.name,jqc:G.Ag.ec.name,uOc:G.fO.H};})),this.VN());}};x.prototype.x9b=function(z){var y,A;A=null === (y=this.pj.iq()) || void 0 === y?void 0:y.Yka;return z && A && z.timestamp.equal(A.timestamp) && z.type === A.type?!1:!0;};x.prototype.yec=function(){this.A3 && (this.aea=!0);};x.prototype.owc=function(){var z,y,A,B,C,D;B=(null === (z=this.pj.iq()) || void 0 === z?void 0:z.fO) || e.K.Qj;h.G && this.trace(("tryExecuteNextTask @").concat(this.Aa.currentTime.H,", next wakeup at ").concat(B));z=this.Aa.currentTime;if(z.eg(B)){C=this.pj.pop();if(C){D=C.Ag;null === (y=this.GK) || void 0 === y?void 0:y.Ntc({Ag:D,currentTime:z,Pia:B});this.yCa=D;y=!1;h.G && this.trace("Running a task @" + z.H + ", scheduled for time:" + B.H + ("Name:").concat(D.name));try{D.xV();y=!0;C.Yka=D.Oia();C.fO=this.zxb(C.Yka);}catch(E){throw (this.error(("Unhandled error from a task ").concat(D.name," occurred.") + " Removing the task from future executions:" + E,{stack:E.stack}),D.Ma(),E);}finally{null === (A=this.GK) || void 0 === A?void 0:A.a1b({Ag:D,GNc:y});this.yCa=void 0;this.aea?(D.Ma(),this.aea=!1):C.fO !== e.K.Qj && D.state === p.Rn.kla && ((0,l.assert)(!this.pj.contains(C)),this.pj.push(C));}return !0;}}};x.prototype.B6=function(z){this.XN(z,!1);this.bR(z);};x.prototype.XN=function(z,y){var A;void 0 === y && (y=!0);A=this.pj.find(function(B){return B.Ag === z;});A && this.uoc(A,y);};x.prototype.uoc=function(z,y){this.pj.remove(z);y && this.VN();};x.prototype.Zu=function(z){var y;void 0 === z && (z=!0);this.ul.UO && (z && this.emit("stopping"),z=this.ul.UO,(z.MI?m.oBa:clearTimeout)(z.id),this.ul.complete(),null === (y=this.ana) || void 0 === y?void 0:y.Zu());};x.prototype.zxb=function(z){return z.type === v.Ava.absolute?z.timestamp:z.timestamp.add(this.Aa.currentTime);};x.prototype.trace=function(){for(var z,y=[],A=0;A < arguments.length;A++)y[A]=arguments[A];null === (z=this.console) || void 0 === z?void 0:z.trace.apply(z,d.__spreadArray(["RootTaskScheduler:"],d.__read(y),!1));};x.prototype.error=function(){for(var z,y=[],A=0;A < arguments.length;A++)y[A]=arguments[A];null === (z=this.console) || void 0 === z?void 0:z.error.apply(z,d.__spreadArray(["RootTaskScheduler:"],d.__read(y),!1));};x.config={MI:!0,bab:!0,j$a:!0};x.sla=new WeakMap();return x;})(g.EventEmitter);b.mva=r;},28422:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.S3a=void 0;c=a(5163);n=a(14772);d=a(4234);r=(function(g){function e(f,l,h,k){void 0 === k && (k={});h=g.call(this,h) || this;h.KOa=f;h.kx=l;h.options=k;return h;}c.__extends(e,g);e.prototype.Oia=function(){return this.hb === n.Rn.pending?this.KOa:d.Og.ySa;};e.prototype.ef=function(){this.kx();};e.prototype.Md=function(){this.options.lNc?(g.prototype.reset.call(this),this.uC.B6(this)):this.Ma();};return e;})(n.$va);b.S3a=r;},14772:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.$va=b.Rn=void 0;c=a(4234);(function(d){d[d.pending=0]="pending";d[d.kla=1]="running";d[d.complete=2]="complete";d[d.pL=3]="destroyed";})(n || (b.Rn=n={}));r=(function(){function d(g,e){void 0 === e && (e=0);this.name=g;this.priority=e;this.hb=n.pending;}Object.defineProperties(d.prototype,{state:{get:function(){return this.hb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{eA:{get:function(){return this.hb === n.pending || this.hb === n.kla;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ec:{get:function(){return this.uC;},enumerable:!1,configurable:!0}});d.prototype.bQb=function(g){var e;null === (e=this.uC) || void 0 === e?void 0:e.XN(this);this.uC=g;};d.prototype.xV=function(){this.hb=n.kla;this.ef();this.Oia() === c.Og.ySa && (this.hb=n.complete,this.ec.XN(this));};d.prototype.Ma=function(){var g;this.hb=n.pL;null === (g=this.uC) || void 0 === g?void 0:g.XN(this);};d.prototype.eab=function(g){this.uC.XN(this);this.uC=g;this.uC.B6(this);};d.prototype.jo=function(){};d.prototype.reset=function(){this.hb=n.pending;};return d;})();b.$va=r;},85339:function(r,b,a){var c,n,d,g,e,f,l,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.zZ=void 0;b.nna=function(m,p,v){var q;q=void 0;return (v || m.Aa.Kh) && m.Aa.currentTime.eg(p)?{promise:Promise.resolve()}:{promise:new Promise(function(u){q=m.TC(h.Og.iw(p),u);}),Ag:q};};c=a(5163);n=a(90745);d=a(52571);g=a(48170);e=a(65892);f=a(88220);l=a(28422);h=a(4234);k=a(51371);r=(function(m){function p(v,q,u,t){var w;void 0 === u && (u="unknown");void 0 === t && (t=0);w=m.call(this) || this;w.Aa=v;w.console=q;w.name=u;w.priority=t;w.Igc=0;w.Gp=new n.mf();w.uy=new Set();w.sca(v);return w;}c.__extends(p,m);Object.defineProperties(p.prototype,{Ar:{get:function(){return void 0 === this.Hm;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{vV:{get:function(){return this.Hm;},enumerable:!1,configurable:!0}});p.prototype.ccb=function(v,q){v=new (v.bind.apply(v,c.__spreadArray([void 0],c.__read(q),!1)))();v.id=this.Igc++;v.bQb(this);this.bR(v);return v;};p.prototype.nx=function(){for(var v=[],q=0;q < arguments.length;q++)v[q]=arguments[q];return this.ccb(f.Wqa,v);};p.prototype.jo=function(){var v,q;q=c.__assign(c.__assign({},null === (v=this.Hm) || void 0 === v?void 0:v.jo()),{privateNumTasks:this.uy.size});g.G && this.trace("audit",q);return q;};p.prototype.TC=function(){for(var v=[],q=0;q < arguments.length;q++)v[q]=arguments[q];return this.ccb(l.S3a,v);};p.prototype.dCa=function(v,q,u){return this.nx(function(){return c.__generator(this,function(t){switch(t.label){case 0:return [4,h.Og.tB(q)];case 1:return (t.va(),v(),[3,0]);case 2:return [2];}});},u);};p.prototype.sca=function(v){var q,u,t;q=this;this.Hm && this.Hm.Sma({ly:(0,e.uj)(this.uy.values())});this.Isb();u=k.mva.F5b(v,this.console);t=u.ec;u=u.Up;this.Hm=t;this.Gp.clear();this.Aa=v;this.Gp.on(t,"stopping",function(){return q.emit("stopping");});this.Jpc=u;this.Hm.Sma({R_:(0,e.uj)(this.uy.values())});this.emit("clockChanged");};p.prototype.Ma=function(){var v;if(!this.Ar){v=this.Hm.yCa && this.uy.has(this.Hm.yCa);this.reset();v && this.Hm.yec();this.Isb();}};p.prototype.Isb=function(){var v;this.Hm && this.emit("rootSchedulerReleasing",{vV:this.Hm});null === (v=this.Jpc) || void 0 === v?void 0:v.release();this.Hm=void 0;};p.prototype.reset=function(){var v;if(!this.Ar){v=(0,e.uj)(this.uy.values());this.Hm.Sma({ly:v});this.uy.clear();v.forEach(function(q){return q.Ma();});}};p.prototype.Md=function(){var v;if(!this.Ar){v=(0,e.uj)(this.uy.values());this.Hm.Sma({ly:v});v.forEach(function(q){return q.Md();});}};p.prototype.bR=function(v,q){void 0 === q && (q=!0);this.uy.add(v);this.Hm.bR(v,q);};p.prototype.B6=function(v){(0,d.assert)(v.ec === this);this.Ar?g.G && this.console.warn(("Task restarted after destruction ").concat(v.name," on ").concat(this.name)):(this.uy.add(v),this.Hm.B6(v));};p.prototype.XN=function(v,q){void 0 === q && (q=!0);!this.Ar && this.uy.has(v) && (this.uy.delete(v),this.Hm.XN(v,q));};p.prototype.trace=function(){for(var v,q=[],u=0;u < arguments.length;u++)q[u]=arguments[u];null === (v=this.console) || void 0 === v?void 0:v.trace.apply(v,c.__spreadArray([("TaskScheduler(").concat(this.name,"):")],c.__read(q),!1));};return p;})(n.EventEmitter);b.zZ=r;},4234:function(r,b,a){var c,n,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Og=b.Ava=void 0;c=a(91176);(function(e){e[e.absolute=0]="absolute";e[e.Gsb=1]="relative";})(n || (b.Ava=n={}));g=(function(){function e(f,l){this.type=f;this.timestamp=l;}e.prototype.toString=function(){return ("timeStamp: ").concat(this.timestamp,", type: ").concat(n[this.type]);};Object.defineProperties(e,{wa:{get:function(){d || (d=new e(n.Gsb,c.K.wa));return d;},enumerable:!1,configurable:!0}});return e;})();r=(function(){function e(){}e.iw=function(f){return new g(n.absolute,f);};Object.defineProperties(e,{Kyc:{get:function(){return g.wa;},enumerable:!1,configurable:!0}});e.tB=function(f){return new g(n.Gsb,f);};e.ySa=new g(n.absolute,c.K.Qj);return e;})();b.Og=r;},81651:function(r,b,a){var c,n,d,g,e,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Cwa=void 0;c=a(66164);n=a(24635);d=a(94258);g=a(35536);e=a(88220);f=a(51371);l=[100,200,400,800,1600,3200];r=(function(){function h(){this.UQa=new WeakMap();this.VQa=new g.uZ();this.wJa=new g.uZ();this.Fca=new g.uZ();this.state={hW:c.platform.time.ya(),RO:0,tla:1,Ci:{aN:new n.Xf(!0),l4:new n.Xf(),k4:new n.Xf(),n3:new n.Xf(!0),N7:new n.Xf(),aL:new n.Xf(),L6:new n.Xf(!0),y0:new d.uQ(l),z0:new d.uQ(l)},OO:{}};}h.prototype.Vhb=function(k){var m;if(k.name)return ("").concat(k.ec.name,"::").concat(k.name);if(!this.UQa.get(k)){m=("").concat(k.ec.name,"::'unk'::").concat(k.id,"::iterable?").concat(k instanceof e.Wqa);this.UQa.set(k,m);}return this.UQa.get(k);};h.prototype.Ntc=function(k){var m;k=this.Vhb(k.Ag);(m=this.state.OO)[k] || (m[k]={Lea:new n.Xf(),rEa:0});this.VQa.start();};h.prototype.Zu=function(){this.state.Ci.L6.push(1);};h.prototype.Otc=function(k){var m;m=this;k.type === f.y3a.I4?this.state.Ci.n3.push(1):(this.state.Ci.N7.push(k.delay.H),k.Yca.forEach(function(p){m.state.Ci.y0.push(p.delay);m.state.Ci.z0.push(p.itc);}),this.state.Ci.aL.push(k.aL));this.wJa.start();this.Fca.stop();this.Fca.duration && this.state.Ci.k4.push(this.Fca.duration);};h.prototype.b1b=function(k){this.wJa.stop();this.Fca.start();this.state.Ci.l4.push(this.wJa.duration);this.state.Ci.aN.push(k);};h.prototype.a1b=function(k){k=this.Vhb(k.Ag);this.VQa.stop();this.state.OO[k].Lea.push(this.VQa.duration);};h.prototype.jo=function(){this.state.RO=c.platform.time.ya() - this.state.hW;return this.state;};h.reduce=function(k,m){var p,v,q,u,t;if(0 === k.RO && 0 === k.Ci.aN.count)return m;if(0 === m.RO && 0 === m.Ci.aN.count || k === m)return k;p=k.hW < m.hW?k:m;v=p === k?m:k;q=p.Ci;u=v.Ci;t={};Object.keys(k.OO).concat(Object.keys(m.OO)).forEach(function(w){var x,z;if(!t[w]){x=k.OO[w];z=m.OO[w];t[w]=x && z?{Lea:x.Lea.em(z.Lea),rEa:x.rEa + z.rEa}:x || z;}});return {hW:p.hW,RO:p.RO + v.RO,tla:p.tla + v.tla,Ci:{n3:q.n3.em(u.n3),aN:q.aN.em(u.aN),l4:q.l4.em(u.l4),k4:q.k4.em(u.k4),L6:q.L6.em(u.L6),N7:q.N7.em(u.N7),aL:q.aL.em(u.aL),y0:d.uQ.em(q.y0,u.y0),z0:d.uQ.em(q.z0,u.z0)},OO:t,toJSON:function(){return {timeConstructed:this.hW,timeRunning:this.RO,schedulers:this.tla,executionStats:{immediateRuns:this.Ci.n3,loopRuns:this.Ci.aN,loopTime:this.Ci.l4,loopBetweenTime:this.Ci.k4,scheduleClears:this.Ci.L6,timerRuns:this.Ci.N7,callBackDelayBuckets:this.Ci.y0,callBackSleepBuckets:this.Ci.z0,clockSkewAdjustments:this.Ci.aL},taskStats:t};}};};return h;})();b.Cwa=r;},1727:function(r,b,a){var n,d;function c(g,e,f){var l;void 0 === f && (f={});l=n.__assign(n.__assign({},d),f);return g.filter(function(h){var k;k=h.Rb;h=h.Hb;return !!h && h.dn(e) && (!l.$ab || k.eg(e));});}Object.defineProperties(b,{__esModule:{value:!0}});b.afb=function(g,e,f){void 0 === f && (f={});return c(g,e,f).pop();};b.DIc=c;b.Peb=function(g,e,f){return g.filter(function(l){var h;h=l.Rb;l=l.Hb;return !!l && !!h && (l.eg(e) && l.dn(f) || h.eg(e) && h.dn(f) || l.dn(e) && h.eg(f));});};n=a(5163);d={$ab:!1};},61520:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.xaa=void 0;b.Wlc=function(g,e){var f;f="";g.NL(function(l,h,k,m){f+=("").concat(Array(m + 1).join("-")).concat(e(l),"\n");return !0;});return f;};a(5163);a(91176);c=a(48170);n=a(29254);d=a(52571);r=(function(){function g(){this.S=new n.Zua();}Object.defineProperties(g.prototype,{empty:{get:function(){return !this.XA;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{root:{get:function(){var e;return null === (e=this.XA) || void 0 === e?void 0:e.value;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{values:{get:function(){var e;e=[];this.NL(function(f){return !!e.push(f);});return e;},enumerable:!1,configurable:!0}});g.prototype.has=function(e){return !!this.S.get(e);};g.prototype.parent=function(e){var f;e=this.S.get(e);c.G && (0,d.assert)(e,"Attempted to find the parent of a node not in the tree");return null === (f=null === e || void 0 === e?void 0:e.parent) || void 0 === f?void 0:f.value;};g.prototype.children=function(e){e=this.S.get(e);c.G && (0,d.assert)(e,"Attempted to find the children of a node not in the tree");return (null === e || void 0 === e?0:e.children)?e.children.map(function(f){return f.value;}):[];};g.prototype.VGa=function(e){e=this.S.get(e);c.G && (0,d.assert)(e,"Attempted to find the children of a node not in the tree");return void 0 !== (null === e || void 0 === e?void 0:e.children) && 0 < e.children.length;};g.prototype.add=function(e,f){var l;c.G && (0,d.assert)(!this.S.get(e),"Attempted to add a value to tree that is already present");l={value:e};void 0 === this.XA?(c.G && (0,d.assert)(void 0 === f,"a parent cannot be specified when the tree is empty"),this.XA=l):(c.G && (0,d.assert)(void 0 !== f,"a parent must be specified when the tree is non-empty"),f=this.S.get(f),c.G && (0,d.assert)(f,"Parent value does not exist in tree"),this.S9a(l,f));this.S.set(e,l);return this;};g.prototype.remove=function(e){e=this.S.get(e);c.G && (0,d.assert)(e,"Attempted to remove a node not in the tree");this.removeNode(e);return this;};g.prototype.removeNode=function(e){var f;f=this;this.NEa(function(l){return f.S.delete(l);},e.value);void 0 === e.parent?this.XA=void 0:this.detach(e);};g.prototype.move=function(e,f){e=this.S.get(e);f=this.S.get(f);c.G && (0,d.assert)(e,"cannot move a value that is not in the tree");c.G && (0,d.assert)(f,"cannot move a value to a parent value not in the tree");c.G && (0,d.assert)(null === e || void 0 === e?void 0:e.parent,"cannot move the root node");c.G && (0,d.assert)(!this.oac(e,f),"cannot move a node below itself or one of its decendants");e.parent !== f && (this.detach(e),this.S9a(e,f));return this;};g.prototype.zoc=function(e){var f,l;f=this;e=this.S.get(e);c.G && (0,d.assert)(e,"cannot replant at a value that is not in the tree");l=[];this.detach(e);this.NEa(function(h){f.S.delete(h);l.unshift(h);return !0;});this.XA=e;};g.prototype.clear=function(){this.XA && this.remove(this.XA.value);return this;};g.prototype.pfb=function(e,f){var l,h;l=this;e=this.S.get(e);c.G && (0,d.assert)(e,"cannot iterate children of a value not in the tree");null === (h=e.children) || void 0 === h?void 0:h.forEach(function(k){return f(k.value,l);});};g.prototype.qtc=function(e,f){var l,h;l=this;e=this.S.get(e);c.G && (0,d.assert)(e,"cannot iterate children of a value not in the tree");return !(null === (h=e.children) || void 0 === h || !h.some(function(k){return f(k.value,l);}));};g.prototype.NL=function(e){this.qfb(e,void 0);};g.prototype.qfb=function(e,f,l,h){var k;k=this;void 0 === h && (h=0);c.G && (0,d.assert)(!this.empty || void 0 === f,"cannot iterate from a value on an empty tree");this.empty || (f=null !== f && void 0 !== f?f:this.XA.value,e(f,l,this,h) && this.pfb(f,function(m){return k.qfb(e,m,f,h + 1);}));};g.prototype.NEa=function(e,f){var l;l=this;c.G && (0,d.assert)(!this.empty || void 0 === f,"cannot iterate from a value on an empty tree");this.empty || (null !== f && void 0 !== f?f:f=this.XA.value,this.pfb(f,function(h){return l.NEa(e,h);}),e(f,this));};g.prototype.Yeb=function(e,f){var l,h;l=this;c.G && (0,d.assert)(!this.empty || void 0 === f,"cannot iterate from a value on an empty tree");if(!this.empty){null !== f && void 0 !== f?f:f=this.XA.value;return this.qtc(f,function(k){return !!(h=l.Yeb(e,k));})?h:e(f,this)?f:void 0;}};g.prototype.TZb=function(e){var f,l,h,k;f=this;l=this.values;h=l.filter(function(m){return !e.has(m);});k=e.values.filter(function(m){return !f.has(m);});l=l.filter(function(m){return e.has(m) && f.parent(m) !== e.parent(m);});return {R_:h,ly:k,ctb:l};};g.prototype.S9a=function(e,f){e.parent=f;(f.children || (f.children=[])).push(e);};g.prototype.detach=function(e){var f;c.G && (0,d.assert)(e.parent,"cannot detach the root");c.G && (0,d.assert)(void 0 !== e.parent.children,"logic error: parent node does not have children");f=e.parent.children.indexOf(e);(0,d.assert)(0 <= f,"logic error: node does not appear in the children of its parent");e.parent.children.splice(f,1);e.parent=void 0;};g.prototype.oac=function(e,f){for(;void 0 !== f;){if(f === e)return !0;f=f.parent;}return !1;};return g;})();b.xaa=r;},85254:function(r,b,a){var g,e,f;function c(l){var h,k,m,q;m=Object.getOwnPropertyNames(l);for(l=Object.getPrototypeOf(l);l !== Object.prototype;){try{for(var p=(h=void 0,g.__values(Object.getOwnPropertyNames(l))),v=p.next();!v.done;v=p.next()){q=v.value;-1 === m.indexOf(q) && m.push(q);}}catch(u){h={error:u};}finally{try{v && !v.done && (k=p.return) && k.call(p);}finally{if(h)throw h.error;}}l=Object.getPrototypeOf(l);}return m;}function n(l,h,k,m,p){var v;Object.getOwnPropertyNames(l).filter(function(q){return p(q) && (k || !Object.prototype.hasOwnProperty.call(h,q)) && (m || !((q in h)));}).forEach(function(q){v=Object.getOwnPropertyDescriptor(l,q);void 0 !== v && Object.defineProperty(h,q,v);});}function d(l,h,k,m){var p,v;p=[];k || (p=Object.getOwnPropertyNames(h));m || (p=c(h));v=Object.getPrototypeOf(l);null !== v && v !== Object.prototype && d(v,h,k,m);n(l,h,!0,!0,function(q){return "constructor" !== q && -1 === p.indexOf(q);});}Object.defineProperties(b,{__esModule:{value:!0}});b.mHc=d;b.Mk=function(l,h,k,m){void 0 === k && (k=!0);void 0 === m && (m=!0);m || (0,e.assert)(!k);l.prototype?(d(l.prototype,h.prototype,k,m),n(l,h,k,m,function(p){return -1 === f.indexOf(p);})):n(l,h.prototype,k,m,function(p){return -1 === f.indexOf(p);});return h;};g=a(5163);e=a(52571);f=Object.getOwnPropertyNames(Function);},8149:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.bm=function(a){return !(null === a || void 0 === a || !a.fa);};b.$m=function(a){return !(null === a || void 0 === a || !a.fa);};},65167:function(r,b,a){var m,p,v;function c(q){return Array.isArray(q)?q.reduce(function(u,t){return u + t;},0):!1;}function n(q){return Array.isArray(q) && q.length?c(q) / q.length:!1;}function d(q){var u;if(!Array.isArray(q) || 2 > q.length)return !1;u=n(q);return c(q.map(function(t){return (t - u) * (t - u);})) / (q.length - 1);}function g(q){if(!Array.isArray(q) || 2 > q.length)return !1;q=d(q);return Math.sqrt(q);}function e(q,u){if(q.length == u.length && 1 < q.length){for(var t=q.length,w=0,x=c(q),z=c(u),y=0;y < t;y++)w+=q[y] * u[y];return (w - x * z / t) / t;}return !1;}function f(q,u,t){return Math.max(Math.min(q,t),u);}function l(q,u){return "number" === typeof q?q:u;}function h(q){return 1 / (1 + Math.exp(-q));}function k(q,u,t){return q * t + (1 - t) * u;}Object.defineProperties(b,{__esModule:{value:!0}});b.tanh=b.xg=void 0;b.jx=function(q,u,t){var w;if(v){"managerdebugevent" === u && (null === (w=q.trace) || void 0 === w?void 0:w.call(q,"managerdebugevent:",t.message));}if(v)q.emit(u,t);else try{q.emit(u,t);}catch(x){if(q.error)q.error("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",x,"Event:",t);else throw x;}};b.wh=function(q,u){void 0 !== q && m.wjc(q).forEach(function(t){u(t[0],t[1]);});};b.XF=function(){var t;for(var q=[],u=0;u < arguments.length;u++)q[u]=arguments[u];q=Array.prototype.concat.apply([],q);u=q.reduce(function(w,x){return w + x.byteLength;},0);t=new Uint8Array(u);q.reduce(function(w,x){t.set(new Uint8Array(x),w);return w + x.byteLength;},0);return t.buffer;};b.AJc=c;b.eJc=n;b.DJc=d;b.yJc=g;b.hJc=e;b.gJc=function(q,u){var t;if(q.length == u.length){t=e(q,u);q=g(q);u=g(u);if(0 < q && 0 < u)return t / (q * u);}return !1;};b.bNc=function(q){return q.length?"{" + q + "} ":"";};b.dda=f;b.KTb=function(q,u,t,w){return {min:f(l(q.min,u),t,w),max:f(l(q.max,u),t,w),IC:f(q.IC || 6E4,0,6E5),aab:f(q.aab || 0,-3E5,3E5),scale:f(q.scale || 6E4,0,3E5),$tb:f(q.$tb || 0,-3E5,3E5),gamma:f(q.gamma || 1,.1,10)};};b.Xsc=h;b.UDa=function(q,u,t){return q.min + (q.max - q.min) * (1 - Math.pow(h(6 * (u - (q.IC + (q.aab || 0) * (1 - t))) / (q.scale + (q.$tb || 0) * (1 - t))),q.gamma));};b.w1b=function(q,u){return q.min + (q.max - q.min) * Math.pow(h(6 * (u - q.IC) / q.scale),q.gamma);};b.scale=k;b.bqc=function(q,u,t){return {min:k(q.min,u.min,t),max:k(q.max,u.max,t),IC:k(q.IC,u.IC,t),scale:k(q.scale,u.scale,t),gamma:k(q.gamma,u.gamma,t)};};m=a(5163).__importStar(a(17267));p=a(91176);Object.defineProperties(b,{xg:{enumerable:!0,get:function(){return p.xg;}}});v=!1;b.tanh=Math.tanh || (function(q){var u;u=Math.exp(+q);q=Math.exp(-q);return Infinity == u?1:Infinity == q?-1:(u - q) / (u + q);});},444:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.bC=void 0;c=a(91176);r=(function(){function n(d,g){this.rK=d;this.fK=g;this.Wpc();}n.from=function(d){return "number" === typeof d?new n(d,1):new n(d.Zx,d.dv);};n.cFa=function(d){return new n(d.O,d.ga);};Object.defineProperties(n.prototype,{Zx:{get:function(){return this.rK;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{dv:{get:function(){return this.fK;},enumerable:!1,configurable:!0}});n.prototype.za=function(){return new c.K(this.fK,this.rK);};n.prototype.equal=function(d){return this.rK === d.rK && this.fK === d.fK;};n.prototype.normalize=function(d){return new c.K(Math.floor((Math.floor(d + 1) * this.Zx - 1) / (1E3 * this.dv)) * this.dv,this.Zx);};n.prototype.Wpc=function(){var d,g,e;d=Math.floor(1E3 * this.rK / this.fK);g=Math.floor(1001 * this.rK / this.fK);e=1E3 * Math.round(d / 1E3);this.rK=e;this.fK=Math.abs(g - e) > Math.abs(d - e)?1E3:1001;};return n;})();b.bC=r;},52629:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.yQ=void 0;c=a(91176);b.yQ=(function(){return function(n,d){var g;void 0 === d && (d={w:1,sv:1});this.jm=n;this.Upb=d;g=n.w * d.w;n=n.sv * d.sv;d=(0,c.UL)(g,n);this.rz={w:g / d,sv:n / d};};})();},51044:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.writable=void 0;b.writable=function(a){return a;};},48912:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Lwa=void 0;c=a(66164);r=(function(){function n(d){this.CV=new Uint16Array(d.length);for(var g=0;g < d.length;++g)this.CV[g]=d.charCodeAt(g);}n.prototype.encrypt=function(d){for(var g=this.CV.length,e="",f=0;f < d.length;++f)e+=String.fromCharCode(this.CV[f % g] ^ d.charCodeAt(f));return encodeURIComponent(e);};n.prototype.decrypt=function(d,g){var e,f;void 0 === g && (g=!1);e=this.CV.length;f="";if(g)for((d=c.platform.Mda(d),g=new Uint8Array(d),d=0);d < g.length;d++)f+=String.fromCharCode(this.CV[d % e] ^ g[d]);else for((g=decodeURIComponent(d),d=0);d < g.length;d++)f+=String.fromCharCode(this.CV[d % e] ^ g.charCodeAt(d));return f;};return n;})();b.Lwa=r;},83195:function(r,b,a){var e;function c(){return Object.create(null);}function n(f){this.log=f.log;this.Aa=f.Aa;this.PD=c();this.Promise=f.Promise;this.Lm=f.Lm;this.sE=f.sE;this.yk=f.yk || !1;this.$0=c();this.SF=c();this.WK=c();this.TMb(f);f.fr && (this.fr=f.fr);}function d(f){return "undefined" !== typeof f;}function g(f){var k;for(var l=0,h=arguments.length;l < h;){k=arguments[l++];if(d(k))return k;}}a(85852);e=a(46601);n.prototype.TMb=function(f){this.$0.manifest=g(f.J1b,e.KL.U);this.$0.ldl=g(f.I1b,e.KL.Y3);this.$0.metadata=g(f.wIc,e.KL.Qe);this.SF.manifest=g(f.XRb,e.SF.U);this.SF.ldl=g(f.WRb,e.SF.Y3);this.SF.metadata=g(f.JGc,e.SF.Qe);this.WK.manifest=g(f.HGc,e.WK.U);this.WK.ldl=g(f.GGc,e.WK.Y3);this.WK.metadata=g(f.IGc,e.WK.Qe);};n.prototype.b3=function(f,l){this.jt("undefined" !== typeof f);this.jt("undefined" !== typeof l);return !!this.w6a(f,l,void 0).value;};n.prototype.w6a=function(f,l,h){var k,m;k={value:null,reason:"",log:""};m=this.PD[l];h=h?h:"DEFAULTCAPS";if("undefined" === typeof m)return (k.log="cache miss: no data exists for field:" + l,k.reason="unavailable",k);"undefined" === typeof m[f]?(k.log="cache miss: no data exists for movieId:" + f,k.reason="unavailable"):(m=m[f][h]) && m.value?this.iba(m)?(k.log="cache miss: " + l + " data expired for movieId:" + f,k.reason="expired",this.clearData(f,l,h,!1,"expired")):(k.log=this.Promise && m.value instanceof this.Promise?"cache hit: " + l + " request in flight for movieId:" + f:"cache hit: " + l + " available for movieId:" + f,k.value=m.value):(k.log="cache miss: " + l + " data not available for movieId:" + f,k.reason="unavailable");return k;};n.prototype.getData=function(f,l,h){this.jt("undefined" !== typeof f);this.jt("undefined" !== typeof l);f=this.w6a(f,l,h);this.log.trace(f.log);return f.value?this.Promise?f.value instanceof this.Promise?f.value:Promise.resolve(f.value):this.sE?JSON.parse(this.sE(f.value,"gzip",!1)):f.value:this.Promise?Promise.reject(f.reason):f.reason;};n.prototype.setData=function(f,l,h,k,m,p){var v,q,u;this.jt("undefined" !== typeof f);this.jt("undefined" !== typeof l);v=this.PD;q=m?m:"DEFAULTCAPS";v[l] || (v[l]=c(),Object.defineProperty(v[l],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(v[l],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));h=this.Lm?this.Lm(JSON.stringify(h),"gzip",!0):h;v=v[l];this.CLb(f,l,q,v);u=this;p=p || this.$0[l] + 1;k={creationTime:this.Aa.getTime(),value:h,size:0,type:l,XCa:k,KL:p,iEa:setTimeout(function(){u.clearData(f,l,q,!1,"expired");},p)};v[f]=v[f] || c();v[f][q]=v[f][q] || c();v[f][q]=k;v.size+=0;v.numEntries++;this.fr && this.fr.emit("addedCacheItem",k);return k;};n.prototype.CLb=function(f,l,h,k){var m,p,v,q,u,t,w,x,z;m=this;p=k.numEntries;v=this.SF[l];q=k[f] && k[f][h];if(q && q.value)(u=f,t="promise_or_expired");else if(p >= v){x=Number.POSITIVE_INFINITY;Object.keys(k).every(function(y){var A;A=k[y] && k[y][h];A && A.value && m.iba(A) && (z=y);A && A.value && A.creationTime < x && (x=A.creationTime,w=y);return !0;});u=z || w;t="cache_full";}this.yk && this.log.debug("makespace ",{maxCount:v,currentCount:k.numEntries,field:l,movieId:f,movieToBeRemoved:u});u && (m.clearData(u,l,h,void 0,t),this.log.debug("removed from cache: ",u,l));};n.prototype.jBa=function(f,l){var h,k;h=this;h.jt("undefined" !== typeof f);k=f + "";l.forEach(function(m){var p;p=h.PD[m];p && Object.keys(p).forEach(function(v){v != k && h.clearData(v,m,void 0,void 0,"clear_all");});});};n.prototype.clearData=function(f,l,h,k,m){var p;this.jt("undefined" !== typeof f);this.jt("undefined" !== typeof l);p=this.PD[l];l=p?p[f]:void 0;h=h?h:"DEFAULTCAPS";if(l && l[h]){p.size-=l[h].size;p.numEntries--;if(p=l && l[h])(clearTimeout(p.iEa),l[h]=void 0,!k && p.XCa && p.XCa());this.fr && (f={creationTime:p.creationTime,destroyFn:p.XCa,size:p.size,type:p.type,value:p.value,reason:m,movieId:f},this.fr.emit("deletedCacheItem",f));}};n.prototype.Byb=function(f,l,h,k){var m,p,v;this.jt("undefined" !== typeof f);this.jt("undefined" !== typeof l);m=this;p=this.PD[l];p=p?p[f]:void 0;v=h?h:"DEFAULTCAPS";h=p && p[v];k=k || this.$0[l] + 1;h && (clearTimeout(h.iEa),h.creationTime=this.Aa.getTime(),h.KL=k,h.iEa=setTimeout(function(){m.clearData(f,l,v,!1,"expired");},k));};n.prototype.flush=function(f){var l;this.jt("undefined" !== typeof f);l=this.PD;l[f]=c();l[f].numEntries=0;l[f].size=0;};n.prototype.Cab=function(){var f,l;this.jt(!1);f=this;l=this.PD;l[void 0] instanceof Object && Object.keys(l[void 0]).forEach(function(h){var k;k=l[void 0][h].DEFAULTCAPS;f.Aa.getTime() - k.creationTime > k.KL && f.clearData(h,void 0,"DEFAULTCAPS",void 0,"clean_up");});};n.prototype.iba=function(f){return this.Aa.getTime() - f.creationTime > f.KL;};n.prototype.getStats=function(f,l,h){var k,m,p,v,q;k={};m=this;p=m.PD;v=d(f) && d(l);q=h || "DEFAULTCAPS";Object.keys(p).forEach(function(u){var t,w;t=Object.keys(p[u]);w=p[u];t.forEach(function(x){!(x=w && w[x] && w[x][q]) || !d(x.value) || x.value instanceof m.Promise || (k[u]=(k[u] | 0) + 1,m.iba(x) && (k[u + "_expired"]=(k[u + "_expired"] | 0) + 1),v && x.creationTime >= f && x.creationTime < l && (k[u + "_delta"]=(k[u + "_delta"] | 0) + 1));});});return k;};n.prototype.getState=function(f){var l,h,k,m;l=[];h=this;k=h.PD;m=f || "DEFAULTCAPS";Object.keys(k).forEach(function(p){var v,q;v=Object.keys(k[p]);q=k[p];v.forEach(function(u){var t,w;t=q && q[u] && q[u][m];if(t && d(t.value)){w=h.iba(t)?"expired":t.value instanceof h.Promise?"loading":"cached";l.push({movieId:u,state:w,type:p,size:t.size});}});});return l;};n.prototype.jt=function(f){if(!f && (this.log.error("Debug Assert Failed",void 0),this.yk))throw Error("Debug Assert Failed ");};r.exports=n;},46601:function(r){r.exports={KL:{U:12E5,Y3:9E5,Qe:12E5},SF:{U:10,Y3:10,Qe:10},WK:{U:10240,Y3:10240,Qe:10240}};},85852:function(r){function b(a){var c;c=[];return (function g(d){if(d && "object" === typeof d){if(-1 !== c.indexOf(d))return !0;c.push(d);for(var e in d)if(d.hasOwnProperty(e) && g(d[e]))return !0;}return !1;})(a);}r.exports=function(a,c){var d;if(c && b(a))return -1;c=[];a=[a];for(var n=0;a.length;){d=a.pop();if("boolean" === typeof d)n+=4;else if("string" === typeof d)n+=2 * d.length;else if("number" === typeof d)n+=8;else if("object" === typeof d && -1 === c.indexOf(d)){c.push(d);for(var g in d)a.push(d[g]);}}return n;};},43155:function(r,b,a){var n;function c(d){if(d.aborted)throw d.reason;}Object.defineProperties(b,{__esModule:{value:!0}});b.UAb=void 0;b.Rga=function(d){return "AbortError" === (null === d || void 0 === d?void 0:d.name);};b.oxb=c;b.kca=function(d,g){function e(){}void 0 === g && (g=!0);g || (e=function(){c(d);});return new Promise(function(f){var h;function l(){return f();}d.aborted && f();d.addListener?d.addListener("abort",l):null === (h=d.addEventListener) || void 0 === h?void 0:h.call(d,"abort",l);}).then(e);};n=a(5163);r=(function(d){function g(e){e=d.call(this,e) || this;e.name="AbortError";return e;}n.__extends(g,d);return g;})(Error);b.UAb=r;},27192:function(r,b,a){var d;function c(g){return g.filter(function(e,f){return g.indexOf(e) === f;});}function n(g,e,f){return f?g.filter(function(l){return !e.some(function(h){return f(l,h);});}):g.filter(function(l){return -1 === e.indexOf(l);});}Object.defineProperties(b,{__esModule:{value:!0}});b.oc=function(g,e){for(var f=0;f < g.length;f++)if(e(g[f],f,g))return g[f];};b.Cza=function(g,e){for(var f=g.length - 1;0 <= f;--f)if(e(g[f],f,g))return g[f];};b.nk=function(g,e){var f;f=-1;return g.some(function(l,h,k){f=h;return e(l,h,k);})?f:-1;};b.I9a=function(g,e){for(var f=g.length - 1;0 <= f;f--)if(e(g[f],f,g))return f;return -1;};b.H9a=c;b.IPb=function(g,e){return g.filter(function(f,l){return g.indexOf(f) === l && -1 !== e.indexOf(f);});};b.Dza=function(g,e){e=g.indexOf(e);if(-1 === e)return !1;g.splice(e,1);return !0;};b.wp=n;b.a0=function(g,e){return c(g.concat(e));};b.bHc=function(g){return function(e,f){return g(e) - g(f);};};b.Pfc=function(g){return function(e,f){return g(e) < g(f)?e:f;};};b.flatten=function(g){var e;return (e=[]).concat.apply(e,d.__spreadArray([],d.__read(g),!1));};b.nHc=function(g,e){void 0 === e && (e=function(f){return f;});return g.reduce(function(f,l){l=e(l);return (void 0 === f[l]?f[l]=1:++f[l],f);},{});};b.EJc=function(g,e){return g.reduce(function(f,l){var h;h=e(l);return (void 0 === f[h]?f[h]=[l]:f[h].push(l),f);},{});};b.Hob=function(g){return null !== g && void 0 !== g;};b.GPb=function(g){var e,l;e=[];if(Array.isArray(g))for(var f=0;f < g.length;f++){l=g[f];Array.isArray(l)?e=e.concat(l.filter(function(h){return void 0 !== h;})):void 0 !== l && e.push(l);}return e;};b.mUb=function(g,e,f){var l;l=n(g,e,f);e=n(e,g,f);g=n(g,l);return {PNa:l,QOb:e,zrb:g,result:g.concat(e)};};d=a(5163);},43529:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.AssertionError=void 0;b.assert=function(d,g){if(!d)throw new n(g || "Assertion failed");};c=a(5163);n=(function(d){function g(){return null !== d && d.apply(this,arguments) || this;}c.__extends(g,d);return g;})(Error);b.AssertionError=n;},13489:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.qCb=void 0;c=a(73550);n=(function(){function d(g,e,f){this.uKb=g;this.HKb=e;this.$i=f;this.gba=!1;}d.prototype.Lm=function(){this.gba || (this.axa=this.uKb(this.$i),this.uF=this.axa.length,this.$i=void 0,this.gba=!0);};d.prototype.Y0=function(){this.gba && (this.$i=this.HKb(this.axa),this.axa=void 0,this.gba=!1);};Object.defineProperties(d.prototype,{data:{get:function(){this.Y0();return this.$i;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{size:{get:function(){return this.uF;},enumerable:!1,configurable:!0}});return d;})();r=(function(){function d(){this.flush();}d.prototype.set=function(g,e,f){void 0 === f && (f=!0);g=this.tya(g,e).N$a;f && g.Lm();};d.prototype.tya=function(g,e){var f,l;f=this;l=new n(void 0,void 0,e);e=new c.XP({name:"compression",i5:function(h){var k;h() && (null === (k=f.lda.get(g)) || void 0 === k?void 0:k.data) === l && l.Lm();}});this.lda.set(g,{data:l,Cv:e});return {N$a:l,Cv:e};};d.prototype.get=function(g){if(g=this.lda.get(g))return {value:g.data,Up:g.Cv.Ls()};};d.prototype.delete=function(g){this.lda.delete(g);};d.prototype.flush=function(){this.lda=new Map();};return d;})();b.qCb=r;},91631:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.LWa=b.vv=b.Xl=b.VSa=b.W3a=void 0;c=a(5163);n=a(66164);d=a(50214);b.W3a=function(g){return void 0 !== g.Pz.jtc?g.nlb + g.Pz.jtc:Infinity;};b.VSa=function(g){return void 0 !== g.Pz.absolute?g.Pz.absolute:Infinity;};b.Xl=function(g){if(!g)return Infinity;g=Math.min((0,b.W3a)(g),(0,b.VSa)(g));return isNaN(g)?Infinity:g;};b.vv=function(g,e){null !== e && void 0 !== e?e:e=n.platform.time.now();return (0,b.Xl)(g) <= e;};r=(function(){function g(e){this.Eic=e;this.iB=new d.HJ([],function(f,l){f=(0,b.Xl)(f);l=(0,b.Xl)(l);return f - l;});}Object.defineProperties(g.prototype,{size:{get:function(){return this.iB.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{values:{get:function(){return this.iB.uj();},enumerable:!1,configurable:!0}});g.prototype.has=function(e){return this.iB.contains(e);};g.prototype.track=function(e){this.has(e)?this.d6(e):(this.iB.push(e),this.ah());};g.prototype.delete=function(e){var f;f=this.has(e);f && this.iB.remove(e);return f;};g.prototype.clear=function(){this.iB.clear();};g.prototype.d6=function(e){e.nlb=n.platform.time.now();this.iB.d6(e);this.ah();};g.prototype.ah=function(){var f,l,h,k;function e(q){var u;u=(0,b.Xl)(q);if(isFinite(u))return (k.hB=setTimeout(function(){l.hB=void 0;l.reb(u);},u - h),"break");k.delete(q);}l=this;this.hB && clearTimeout(this.hB);h=n.platform.time.now();this.reb(h,!1);k=this;try{for(var m=c.__values(this.iB.uj()),p=m.next();!p.done && "break" !== e(p.value);p=m.next());}catch(q){var v;v={error:q};}finally{try{p && !p.done && (f=m.return) && f.call(m);}finally{if(v)throw v.error;}}};g.prototype.reb=function(e,f){var l;for(void 0 === f && (f=!0);(0,b.vv)(this.iB.iq(),e);){l=this.iB.pop();this.Eic(l);}f && this.ah();};return g;})();b.LWa=r;},67442:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.eqa=void 0;c=a(50214);n=a(85068);r=(function(){function d(g,e){var f;this.console=g;this.hg=e.hg;this.Sza=null !== (f=e.Sza) && void 0 !== f?f:!1;this.clear();}Object.defineProperties(d.prototype,{MA:{get:function(){return this.Bh.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{XQ:{get:function(){return this.Oba.size;},enumerable:!1,configurable:!0}});d.prototype.nab=function(){var g;for(;this.Oba.size < this.hg && this.Bh.length;){g=this.Bh.pop();this.oeb(g);}};d.prototype.oeb=function(g){var e;e=this;this.console.debug("Execute throttler item",{xka:g.item.priority,MA:this.MA,r8a:this.XQ,xIa:g.Ql.sV});g.Ql.sV || (g.Ql.resolve(g.item.Zjb()),this.Oba.add(g.item),g.Ql.promise.catch(function(){return e.remove(g.item);}),this.Sza && g.Ql.promise.then(function(){return e.remove(g.item);},function(){return e.remove(g.item);}));};d.prototype.add=function(g){var e,f;e=this;this.console.debug("item added",{xka:g.priority,MA:this.MA,r8a:this.XQ});f={item:g,Ql:new n.ns()};this.Bh.push(f);this.nab();return {bN:function(){e.Bh.remove(f);e.oeb(f);},item:f.Ql.promise};};d.prototype.remove=function(g){var e;this.console.debug("item removed",{xka:g.priority,MA:this.MA,r8a:this.XQ});e=this.Bh.find(function(f){return f.item === g;});e && this.Bh.remove(e);this.Oba.delete(g);this.nab();};d.prototype.clear=function(){this.Bh=new c.HJ([],function(g,e){return g.item.priority - e.item.priority;});this.Oba=new Set();};return d;})();b.eqa=r;},34268:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(57086),b);r.__exportStar(a(6077),b);r.__exportStar(a(13489),b);r.__exportStar(a(67442),b);r.__exportStar(a(49690),b);r.__exportStar(a(13816),b);r.__exportStar(a(91631),b);},57086:function(r,b,a){var c,n,d,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.eZa=b.b$=void 0;c=a(5163);n=a(66164);d=a(73550);g=a(43529);e=a(4742);r=(function(){function f(l,h){this.name=h;this.Il=new Map();this.console=(0,e.xg)(n.platform,l,"LeaseCache");}f.prototype.get=function(l){if(this.Il.has(l))return (l=this.Il.get(l),{value:l.value,Up:l.Cv.Ls()});};f.prototype.keys=function(){return this.Il.keys();};Object.defineProperties(f.prototype,{size:{get:function(){return this.Il.size;},enumerable:!1,configurable:!0}});f.prototype.Qxb=function(l,h,k){var m,p;if(this.Il.has(h)){m=this.Il.get(h);p=c.__assign(c.__assign({},m),{key:k,value:m.value});m.Cv.events.removeAllListeners("leaseReleased");l.Vxa(h,k,p);this.Il.delete(h);return m.value;}};f.prototype.Vxa=function(l,h,k){var m;m=this;this.Il.set(h,k);k.Cv.events.on("leaseReleased",function(p){return p.Wga && m.delete(h);});k.Cv.name=this.name;};f.prototype.update=function(l,h){var k;this.Il.has(l) && (l=this.Il.get(l),l.value=null !== (k=h(l.value)) && void 0 !== k?k:l.value);};f.prototype.dGa=function(l,h){this.has(l) || (h=h(l),this.tya(l,h.value,h.HH));return this.get(l);};f.prototype.has=function(l){return this.Il.has(l);};f.prototype.tya=function(l,h,k){var m,p;m=this;(0,g.assert)(!this.Il.has(l),("key ").concat(l," already found"));p={eA:!0,key:l,value:h,HH:k,Cv:new d.XP({name:this.name,i5:function(){},console:this.console})};p.Cv.events.on("leaseReleased",function(v){v.Wga && m.has(l) && m.Il.get(l) === p && m.delete(p.key);});this.Il.set(l,p);};f.prototype.Saa=function(l){var h,k;k=this.Il.get(l);k && (null === (h=k.HH) || void 0 === h?void 0:h.call(k),k.eA=!1,this.Il.delete(l));};f.prototype.delete=function(l){this.Saa(l);};f.prototype.values=function(){return this.Il.values();};f.prototype.Ep=function(){this.clear();};f.prototype.clear=function(){var l;try{for(var h=c.__values(this.Il.keys()),k=h.next();!k.done;k=h.next())this.Saa(k.value);}catch(p){var m;m={error:p};}finally{try{k && !k.done && (l=h.return) && l.call(h);}finally{if(m)throw m.error;}}};return f;})();b.b$=r;r=(function(f){function l(h,k){h=f.call(this,h,k) || this;h.zQ=new Map();return h;}c.__extends(l,f);l.prototype.frc=function(h,k){this.has(k) && (this.zQ.has(h) || this.zQ.set(h,new Set()),this.zQ.get(h).add(k));};l.prototype.j4b=function(h){if(h=this.zQ.get(h))return h.values();};l.prototype.sZb=function(h,k){var m;this.delete(k);null === (m=this.zQ.get(h)) || void 0 === m?void 0:m.delete(k);};l.prototype.Saa=function(h){f.prototype.Saa.call(this,h);this.zQ.delete(h);};l.prototype.Vxa=function(h,k,m){f.prototype.Vxa.call(this,h,k,m);this.frc(h,k);};return l;})(r);b.eZa=r;},6077:function(r,b,a){var c,n,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.aQ=void 0;c=a(5163);n=a(66164);d=a(4069);g=a(43529);r=(function(){function e(f,l,h){void 0 === l && (l=function(k,m){return k === m;});void 0 === h && (h={});this.config=f;this.RDa=l;this.pd=[];this.rR=new d.Xf();this.Tca=new d.Xf();this.options=c.__assign({hg:10},h);}Object.defineProperties(e.prototype,{isEnabled:{get:function(){return this.config.enabled;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{size:{get:function(){return this.pd.length;},enumerable:!1,configurable:!0}});e.prototype.get=function(f){if(f=this.jfa(f))return f.value;};e.prototype.delete=function(f){f=this.findIndex(f);-1 !== f && this.pd.splice(f,1);};e.prototype.Ofa=function(f,l){var h;if(!this.isEnabled)return l();h=this.jfa(f);if(h)return h.value;l=l();this.yr(f,l);return l;};e.prototype.findIndex=function(f){var l,h,k,m;l=Infinity;h=Infinity;if(this.options.Ru || this.options.Yt){k=n.platform.time.ya();this.options.Yt && (l=k - this.options.Yt);this.options.Ru && (h=k - this.options.Ru);}for(k=0;k < this.pd.length;k++){m=this.pd[k];if(this.options.Yt && m.X3 < l){this.pd.splice(k,this.pd.length - k);break;}if(this.options.Ru && m.fo < h)(this.pd.splice(k,1),k--);else if(this.RDa(m.key,f))return k;}return -1;};e.prototype.jfa=function(f){var l;f=this.findIndex(f);if(-1 !== f){l=this.pd[f];this.pd.splice(f,1);this.pd.unshift(l);this.options.Yt && (l.X3=n.platform.time.ya());this.Tca.push(f);this.rR.push(1);return l;}this.rR.push(0);};e.prototype.has=function(f,l){f=this.findIndex(f);return -1 !== f?l?this.pd[f].value === l:!0:!1;};e.prototype.Njb=function(f,l,h){if(this.isEnabled){(0,g.assert)(!this.has(f),"key already found");this.pd.unshift({key:f,value:l});f=c.__assign(c.__assign({},this.options),h);if(f.Yt || f.Ru)(l=n.platform.time.ya(),f.Yt && (this.pd[0].X3=l),f.Ru && (this.pd[0].fo=l));this.VAa();}};e.prototype.yr=function(f,l){this.Njb(f,l,this.options);};e.prototype.VAa=function(){var f;if(this.pd.length > this.options.hg){f=this.pd.pop();f && this.options.nha && this.options.nha(f.key,f.value);}};e.prototype.clear=function(){for(var f=this.pd.pop();f;)(this.options.nha && this.options.nha(f.key,f.value),f=this.pd.pop());this.pd=[];};return e;})();b.aQ=r;},49690:function(r,b,a){var c,n,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.D2a=void 0;c=a(5163);n=a(41674);d=a(57086);g=a(67442);r=(function(){function e(f,l,h){this.console=f;this.Kbc=l;this.hg=h;this.vy=new g.eqa(f,{hg:h});this.Hha=new d.b$(f,"pri-cache");}e.prototype.getStats=function(){return {maxSize:this.hg,activeItemsLength:this.vy.XQ,queueSize:this.vy.MA};};Object.defineProperties(e.prototype,{XQ:{get:function(){return this.vy.XQ;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{MA:{get:function(){return this.vy.MA;},enumerable:!1,configurable:!0}});e.prototype.remove=function(f){this.Hha.has(f) && this.Hha.delete(f);};e.prototype.get=function(f){var l,h,k;l=this;h=c.__assign({},f);k=this.Hha.dGa(h.key,function(){var p,v,q;function m(){h.required=!0;q.bN();}p=new n.AbortController();v={Iya:p.signal,Zjb:function(){var u;l.console.trace("Invoking pri-cache",{key:h.key,xka:h.priority,EMc:h.required});u=l.Kbc.jac(h,p.signal);h.required && u.bN();m=function(){return u.bN();};return u.item;},priority:h.priority};q=l.vy.add(v);return {value:c.__assign(c.__assign({},q),{bN:function(){null === m || void 0 === m?void 0:m();}}),HH:function(){l.console.trace("pri-cache item removal",{key:h.key});p.abort();l.vy.remove(v);}};});f.required && k.value.bN();return k;};e.prototype.clear=function(){this.Hha.clear();this.vy.clear();};return e;})();b.D2a=r;},13816:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Zlc=b.aNa=void 0;b.aNa=function(a,c){var n,d;return (null !== (n=a.priority) && void 0 !== n?n:0) - (null !== (d=c.priority) && void 0 !== d?d:0);};b.Zlc=function(a,c){var n,d;return (null !== (n=c.priority) && void 0 !== n?n:0) - (null !== (d=a.priority) && void 0 !== d?d:0);};},62613:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.IE=void 0;b.IE=(function(){function a(){}a.BM=function(c,n){var e;function d(f){return g(e++)(f,d);}function g(f){return f >= n.length?function(){throw Error(("The last delegate in the chain should not invoke next() nextDelegateIndex ").concat(f));}:n[f];}e=0;return d(c);};return a;})();},42022:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},23512:function(r,b,a){var n;function c(){var g;function d(e,f){var l,h;l=this;h=typeof f;if("object" === h || "function" === h)if(((h=(0,n.oc)(g,function(k){return k.object === l;}))?(g.splice(h.index + 1),h.key=e):g.push({index:g.length,key:e,object:this}),e=(0,n.oc)(g,function(k){return k.object === f;})))(e=g.slice(0,e.index).map(function(k){return k.key;}).join("."),f=("[Cycle Detected: ").concat(e.length?" " + e:e,"]"),d.state.rcb=!0);return f;}g=[];d.state={rcb:!1};return d;}Object.defineProperties(b,{__esModule:{value:!0}});b.XUa=void 0;n=a(27192);b.XUa=(function(){function d(){}d.stringify=function(g){var e;e=c();return [JSON.stringify(g,e),e.state];};return d;})();},44201:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.RVa=void 0;c=a(43529);n=a(50214);d=a(58191);r=(function(){function g(e){this.K_b=e;this.wSa=!1;this.lna=new d.I2a();}g.prototype.Mzb=function(e,f,l){var k,m;function h(){var q,u,t,w,x,z;q=p.pop();u=q.node;t=q.fca;q=t.nlc;w=t.sL;t=t.state;if(!v.lna.has(u)){q=f(u,w,q,t);x=q.lP;z=q.state;q.bca || v.lna.add(u);m(u).forEach(function(y){var A;A=y.gyc;k.lna.has(A) || (y=w + y.weight,x && p.push({node:A,fca:{sL:y,nlc:u,state:z}}));});}}k=this;m=this.K_b;(0,c.assert)(!this.wSa);this.wSa=!0;this.lna.clear();for(var p=new n.HJ([{node:e,fca:{sL:0,state:l}}],function(q,u){return q.fca.sL - u.fca.sL;}),v=this;!p.empty;)h();this.wSa=!1;};return g;})();b.RVa=r;},19705:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.UL=function(a,c){var n;a=Math.abs(a);for(c=Math.abs(c);c;){n=c;c=a % c;a=n;}return a;};},91176:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(41674),b);r.__exportStar(a(43529),b);r.__exportStar(a(44201),b);r.__exportStar(a(19705),b);r.__exportStar(a(50214),b);r.__exportStar(a(94500),b);r.__exportStar(a(48571),b);r.__exportStar(a(85068),b);r.__exportStar(a(58191),b);r.__exportStar(a(44847),b);r.__exportStar(a(27192),b);r.__exportStar(a(42022),b);r.__exportStar(a(73550),b);r.__exportStar(a(26540),b);r.__exportStar(a(61022),b);r.__exportStar(a(94893),b);r.__exportStar(a(62613),b);r.__exportStar(a(34268),b);r.__exportStar(a(34228),b);r.__exportStar(a(42306),b);r.__exportStar(a(4069),b);r.__exportStar(a(22633),b);r.__exportStar(a(34166),b);r.__exportStar(a(43155),b);r.__exportStar(a(23512),b);},26540:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.IT=void 0;b.IT=function(a){var n;function c(){n || (n=a());return n;}n=void 0;c.clear=function(){n=void 0;};c.Hib=function(){return void 0 !== n;};return c;};},73550:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.XP=void 0;c=a(90745);n=a(94893);r=(function(){function d(g){var e,f;this.counter=new n.oZ();this.events=new c.EventEmitter();e=g.i5;f=g.console;this.name=g.name || "unnamed";this.events.on("leaseReleased",function(l){return e(function(){return l.Wga;});});this.console=f;}d.prototype.Ls=function(){var g,e,f,l;g=this;null === (e=this.console) || void 0 === e?void 0:e.trace(("Acquiring lease ").concat(this.name,", total count"),this.counter.Xob + 1);f=this.counter.add();l=this.counter;return {release:function(){var h;f.release();null === (h=g.console) || void 0 === h?void 0:h.trace(("Releasing lease from ").concat(g.name,", total count"),g.counter.Xob);g.events.emit("leaseReleased",{get Wga() {return !l.gca;}});}};};return d;})();b.XP=r;},50214:function(r,b,a){var n;function c(d,g){return d < g?-1:d > g?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.HJ=void 0;n=a(5163);r=(function(){function d(g,e){this.data=g || [];this.compare=e || c;if(!this.empty)for(g=(this.length >> 1) - 1;0 <= g;g--)this.kxa(g);}Object.defineProperties(d.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});d.prototype.push=function(g){this.data.push(g);this.h8a(this.length - 1);};d.prototype.pop=function(){var g,e;if(!this.empty){g=this.data[0];e=this.data.pop();this.empty || (this.data[0]=e,this.kxa(0));return g;}};d.prototype.iq=function(){return this.data[0];};d.prototype.d6=function(g){this.remove(g);this.push(g);};d.prototype.map=function(g){return this.data.map(g);};d.prototype.find=function(g){return n.__read(this.data.filter(g),1)[0];};d.prototype.clear=function(){this.data=[];};d.prototype.remove=function(g){var e,f,l;e=this.data;g=e.indexOf(g);if(-1 !== g){f=e.pop();if(g < e.length){e[g]=f;l=g - 1 >> 1;e=e[l];0 <= l && 0 > this.compare(f,e)?this.h8a(g):this.kxa(g);}}};d.prototype.Bca=function(){for(var g=this.data,e=1;e < g.length;e++)if(0 > this.compare(g[e],g[e - 1 >> 1]))throw Error(("Audit failed at position ").concat(e," of ").concat(g));};d.prototype.contains=function(g){return 0 <= this.data.indexOf(g);};d.prototype.uj=function(){return this.data.concat([]);};d.prototype.h8a=function(g){for(var e=this.data,f=this.compare,l=e[g],h,k;0 < g;){h=g - 1 >> 1;k=e[h];if(0 <= f(l,k))break;e[g]=k;g=h;}e[g]=l;};d.prototype.kxa=function(g){for(var e=this.data,f=this.compare,l=this.length >> 1,h=e[g],k,m,p;g < l;){k=(g << 1) + 1;p=e[k];m=k + 1;m < this.length && 0 > f(e[m],p) && (k=m,p=e[m]);if(0 <= f(p,h))break;e[g]=p;g=k;}e[g]=h;};return d;})();b.HJ=r;},48571:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.jta=void 0;r=(function(){function a(c,n,d,g){var e;e=this;this.properties=c;this.transform=n;this.kx=d;this.state=g;this.Pb();c.forEach(function(f){return f.addListener(e.xLa);});this.xLa();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(n){return n.removeListener(c.xLa);});};a.prototype.lkb=function(c){return void 0 !== c.equal;};a.prototype.Pb=function(){var c;c=this;this.xLa=function(){var n,d;n=c.state;d=c.properties.map(function(g){return g.value;});c.state=c.transform(d);(c.lkb(c.state) && c.lkb(n)?c.state.equal(n):n === c.state) || c.kx(c.state);};};return a;})();b.jta=r;},94500:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.us=b.BIb=void 0;c=a(5163);n=a(48571);d=a(85068);r=(function(){function g(e,f){this.Wa=e;this.mD=f?[f]:[];}Object.defineProperties(g.prototype,{value:{get:function(){return this.Wa;},enumerable:!1,configurable:!0}});g.prototype.addListener=function(e){-1 === this.mD.indexOf(e) && (this.mD=this.mD.slice(),this.mD.push(e));};g.prototype.removeListener=function(e){e=this.mD.indexOf(e);-1 !== e && (this.mD=this.mD.slice(),this.mD.splice(e,1));};return g;})();b.BIb=r;r=(function(g){function e(f,l){return g.call(this,f,l) || this;}c.__extends(e,g);e.Xzb=function(f,l,h){return new n.jta(f,l,h,!1);};e.Nyc=function(f,l,h){return c.__awaiter(this,void 0,void 0,function(){var k,m,p;p=this;return c.__generator(this,function(v){switch(v.label){case 0:(k=void 0,m=new Promise(function(q){k=p.Xzb(f,l,q);}),v.label=1);case 1:return (v.Ke.push([1,,6,7]),h?[4,(0,d.dsb)(h,m)]:[3,3]);case 2:return [2,v.va()];case 3:return [4,m];case 4:return [2,v.va()];case 5:return [3,7];case 6:return (k.clear(),[7]);case 7:return [2];}});});};Object.defineProperties(e.prototype,{value:{get:function(){return this.Wa;},set:function(f){this.set(f);},enumerable:!1,configurable:!0}});e.prototype.set=function(f){var l;l=this.Wa;l !== f && (this.Wa=f,this.mD.forEach(function(h){return h({oldValue:l,newValue:f});}));};return e;})(r);b.us=r;},28999:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ns=void 0;r=(function(){function a(){var c;c=this;this.oya=!1;this.promise=new Promise(function(n,d){c.nya=n;c.iya=d;});}Object.defineProperties(a.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sV:{get:function(){return this.oya;},enumerable:!1,configurable:!0}});a.prototype.resolve=function(c){var n;this.oya=!0;null === (n=this.nya) || void 0 === n?void 0:n.call(this,c);this.iya=this.nya=void 0;};a.prototype.reject=function(c){var n;this.oya=!0;null === (n=this.iya) || void 0 === n?void 0:n.call(this,c);this.iya=this.nya=void 0;};return a;})();b.ns=r;},85068:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(28999),b);r.__exportStar(a(86823),b);r.__exportStar(a(29727),b);},86823:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.r4a=void 0;c=a(43529);n=a(28999);r=(function(){function d(g){void 0 === g && (g={cPb:!0});this.options=g;this.sf=0;this.Ql=new n.ns();}Object.defineProperties(d.prototype,{xIa:{get:function(){return this.Ql.sV;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{promise:{get:function(){return this.Ql.promise;},enumerable:!1,configurable:!0}});d.prototype.Jla=function(g){var e,f;e=this;(0,c.assert)(!this.xIa);f=++this.sf;g.then(function(l){return e.DMb(f,l);},function(l){return e.AMb(f,l);});};d.prototype.DMb=function(g,e){(g === this.sf || this.options.cPb) && this.Ql.resolve(e);};d.prototype.AMb=function(g,e){g === this.sf && this.Ql.reject(e);};return d;})();b.r4a=r;},29727:function(r,b,a){var n,d,g;function c(e){return !(null === e || void 0 === e || !e.signal);}Object.defineProperties(b,{__esModule:{value:!0}});b.iDb=b.uIa=void 0;b.fKc=c;b.dsb=function(e,f){return n.__awaiter(this,arguments,void 0,function(l,h,k){var m,p;void 0 === k && (k=!1);return n.__generator(this,function(v){switch(v.label){case 0:return (m=c(l)?l.signal:l,p=(0,d.kca)(m,!k),[4,Promise.race([p,Promise.resolve(h)])]);case 1:return [2,v.va()];}});});};n=a(5163);d=a(43155);g=a(43529);a(86823);b.uIa=function(e){return "function" === typeof (null === e || void 0 === e?void 0:e.then);};r=(function(){function e(){}e.prototype.Jla=function(f){(0,g.assert)(this.oLb);this.oLb.Jla(f);};return e;})();b.iDb=r;},58191:function(r,b){var n,d,g;function a(e){return void 0 !== (null === e || void 0 === e?void 0:e.U5a);}function c(e){return (a(e)?e:Object.defineProperties(e,{U5a:{value:{},configurable:!1,enumerable:!1}})).U5a;}Object.defineProperties(b,{__esModule:{value:!0}});b.I2a=void 0;d=null !== (n=Number.MAX_SAFE_INTEGER) && void 0 !== n?n:1E9;g=Date.now() % d;r=(function(){function e(){this.Dla=0;this.id=g=(g + 1) % d;}e.prototype.add=function(f){c(f)[this.id]=this.Dla;return this;};e.prototype.has=function(f){return a(f) && c(f)[this.id] === this.Dla;};e.prototype.delete=function(f){if(!this.has(f))return !1;c(f)[this.id]=void 0;return !0;};e.prototype.clear=function(){this.Dla=(this.Dla + 1) % d;return this;};return e;})();b.I2a=r;},94893:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.oZ=void 0;c=a(5163);r=(function(){function d(){var g;g=this;this.n_=[];this.soc=function(e){e=g.n_.indexOf(e);0 <= e && g.n_.splice(e,1);};}Object.defineProperties(d.prototype,{gca:{get:function(){return 0 !== this.n_.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Xob:{get:function(){return this.n_.length;},enumerable:!1,configurable:!0}});d.prototype.add=function(){var g;g=new n(this.soc);this.n_.push(g);return g;};d.prototype.hAb=function(g){c.__awaiter(this,void 0,void 0,function(){var e,f;return c.__generator(this,function(l){switch(l.label){case 0:(e=this.add(),l.label=1);case 1:return (l.Ke.push([1,,3,4]),[4,g()]);case 2:return (f=l.va(),[2,f]);case 3:return (e.release(),[7]);case 4:return [2];}});});};d.prototype.Zyc=function(g){var e;e=this.add();try{g();}finally{e.release();}};return d;})();b.oZ=r;n=(function(){function d(g){this.IMb=g;}d.prototype.release=function(){this.IMb(this);};return d;})();},89376:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.enumerable=void 0;b.enumerable=function(a){return function(c,n){var d;d=Object.getOwnPropertyDescriptor(c,n) || ({});d.enumerable !== a && (d.enumerable=a,d.writable=!0,Object.defineProperty(c,n,d));};};},34228:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(5163).__exportStar(a(89376),b);},4069:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Xf=void 0;r=(function(){function a(c){void 0 === c && (c=!1);this.xbb=c;this.count=0;this.xa=NaN;this.eB=0;this.max=this.min=NaN;}Object.defineProperties(a.prototype,{NA:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;this.eB+=c;1 === this.count?this.xa=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.xa+=(c - this.xa) / this.count);};a.prototype.toJSON=function(){return this.xbb || 0 === this.count?{count:this.count}:{min:this.min,max:this.max,average:this.xa,count:this.count,sum:this.eB};};a.prototype.em=function(c){var n;if(0 === this.count)return c;if(0 === c.count)return this;n=new a(this.xbb);n.count=this.count;n.xa=this.xa;n.eB=this.eB;n.min=Math.min(this.min,c.min);n.max=Math.max(this.max,c.max);for(var d=0;d < c.count;d++)n.push(c.xa);return n;};return a;})();b.Xf=r;},42306:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.P4a=void 0;c=a(44847);r=(function(){function n(d,g){this.Db=d;this.kc=g;}n.prototype.yg=function(d){return new n(this.Db.yg(d),this.kc.yg(d));};n.prototype.Oe=function(d){return new n(this.Db.Oe(d),this.kc.Oe(d));};Object.defineProperties(n.prototype,{length:{get:function(){return this.kc.ka(this.Db);},enumerable:!1,configurable:!0}});n.prototype.add=function(d){return new n(this.Db.add(d),this.kc.add(d));};n.prototype.ka=function(d){return new n(this.Db.ka(d),this.kc.ka(d));};Object.defineProperties(n.prototype,{duration:{get:function(){return this.length;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Wga:{get:function(){return this.Db.equal(this.kc);},enumerable:!1,configurable:!0}});n.prototype.pda=function(d){return d.eg(this.Db) && d.dn(this.kc);};n.prototype.toString=function(d){return d === c.vQ.H?("").concat(this.Db.toString(c.vQ.H)) + (" - ").concat(this.kc.toString(c.vQ.H)):("").concat(this.Db.Ka()," - ").concat(this.kc.Ka());};n.prototype.equals=function(d){return this.Db.equal(d.Db) && this.kc.equal(d.kc);};return n;})();b.P4a=r;},44847:function(r,b,a){var n;function c(d,g){return d && g?Math.abs(d * g / (0,n.UL)(d,g)):0;}Object.defineProperties(b,{__esModule:{value:!0}});b.vQ=b.K=void 0;n=a(19705);r=(function(){function d(g,e){"object" === typeof g?(this.Ac=g.ga,this.qb=g.O):(this.Ac=g,this.qb=e);isFinite(this.Ac) || (this.qb=1);}d.compare=function(g,e){return g.el(e);};d.abs=function(g){return new d(Math.abs(g.Ac),g.qb);};d.Pa=function(g){return 0 === g?d.wa:new d(g,1E3);};d.oRa=function(g,e){return Math.floor(1E3 * g / e);};d.bob=function(g,e){return Math.floor(g * e / 1E3);};d.max=function(){for(var g=[],e=0;e < arguments.length;e++)g[e]=arguments[e];return g.reduce(function(f,l){return f.greaterThan(l)?f:l;});};d.min=function(){for(var g=[],e=0;e < arguments.length;e++)g[e]=arguments[e];return g.reduce(function(f,l){return f.lessThan(l)?f:l;});};d.UL=function(g,e){var f;if(g.qb === e.qb)return new d((0,n.UL)(g.Ac,e.Ac),g.qb);f=c(g.qb,e.qb);return new d((0,n.UL)(g.Ac * f / g.qb,e.Ac * f / e.qb),f);};Object.defineProperties(d.prototype,{ga:{get:function(){return this.Ac;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{O:{get:function(){return this.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{H:{get:function(){return d.oRa(this.Ac,this.qb);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{hy:{get:function(){return 1E3 * this.Ac / this.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{hO:{get:function(){var g;g=this.hy;return 0 > g?Math.ceil(g):Math.floor(g);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ch:{get:function(){return this.Ac / this.qb;},enumerable:!1,configurable:!0}});d.prototype.Yc=function(g){g/=this.qb;return new d(Math.floor(this.Ac * g),Math.floor(this.qb * g));};d.prototype.add=function(g){var e;if(!this.isFinite() || !g.isFinite() || this.qb === g.qb)return new d(this.Ac + g.Ac,this.qb);e=c(this.qb,g.qb);return new d(this.Ac * e / this.qb + g.Ac * e / g.qb,e);};d.prototype.ka=function(g){var e;if(this.qb === g.qb)return new d(this.Ac - g.Ac,this.qb);e=c(this.qb,g.qb);return new d(this.Ac * e / this.qb - g.Ac * e / g.qb,e);};d.prototype.yg=function(g){return 1 === g?this:new d(this.Ac * g,this.qb);};d.prototype.Oe=function(g){var e;if("number" === typeof g){if(Math.floor(g) === g){e=c(this.Ac,g);if(e !== this.Ac)return this.Yc(e / this.Ac * this.qb).Oe(g);}return new d(Math.floor(this.Ac / g),this.qb);}if(this.qb === g.qb)return this.Ac / g.Ac;e=c(this.qb,g.qb);return this.Ac * e / this.qb / (g.Ac * e / g.qb);};d.prototype.ZR=function(g){var e;if(this.qb === g.qb)return new d(Math.abs(this.Ac - g.Ac),this.qb);e=c(this.qb,g.qb);return new d(Math.abs(this.Ac * e / this.qb - g.Ac * e / g.qb),e);};d.prototype.INa=function(){return new d(this.qb,this.Ac);};d.prototype.cgc=function(){return new d(this.Ac - 1,this.qb);};d.prototype.compare=function(g,e){var f;if(this.qb === e.qb)return g(this.Ac,e.Ac);f=c(this.qb,e.qb);return g(this.Ac * f / this.qb,e.Ac * f / e.qb);};d.prototype.el=function(g){var e;if(this.qb === g.qb)return this.ga === g.Ac?0:this.Ac - g.Ac;e=c(this.qb,g.qb);return this.Ac * e / this.qb - g.Ac * e / g.qb;};d.prototype.equal=function(g){return this.compare(function(e,f){return e === f;},g);};d.prototype.b5=function(g){return this.compare(function(e,f){return e !== f;},g);};d.prototype.lessThan=function(g){return this.compare(function(e,f){return e < f;},g);};d.prototype.greaterThan=function(g){return this.compare(function(e,f){return e > f;},g);};d.prototype.dn=function(g){return this.compare(function(e,f){return e <= f;},g);};d.prototype.eg=function(g){return this.compare(function(e,f){return e >= f;},g);};d.prototype.isFinite=function(){return !!this.qb && isFinite(this.Ac);};d.prototype.Zhb=function(g){return c(this.O,g);};d.prototype.toJSON=function(){return {ticks:this.Ac,timescale:this.qb};};d.prototype.toString=function(g){return g === b.vQ.H?("").concat(this.hy,"ms"):("").concat(this.Ac,"/").concat(this.qb);};d.prototype.Ka=function(){return ("").concat(this.Ac,"/").concat(this.qb," (").concat(this.hy,"ms)");};d.wa=new d(0,1E3);d.zA=new d(1,1E3);d.Qj=new d(Infinity,1);d.Snb=new d(-Infinity,1);return d;})();b.K=r;b.vQ={H:"ms"};},22633:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Zc=function(a){return void 0 !== a;};},4742:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.xg=function(a,c,n){if(c.acb)return c.acb(n);c=c.prefix?("").concat(c.prefix," ").concat(n):n;return new a.Console("ASEJS","media|asejs",c);};},55960:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},61022:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(4742),b);r.__exportStar(a(55960),b);},34166:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Faa=void 0;c=a(41674);r=(function(){function n(){var d;d=this;this.bj=new c.AbortController();this.xpb=function(){d.bj.abort();};}Object.defineProperties(n.prototype,{signal:{get:function(){return this.bj.signal;},enumerable:!1,configurable:!0}});n.prototype.abort=function(){this.bj.abort();};n.prototype.JQa=function(d){var g;g=this;d.aborted?this.bj.abort(d.reason):(d.addEventListener("abort",this.xpb),this.signal.addEventListener("abort",function(){d.removeEventListener("abort",g.xpb);}));};return n;})();b.Faa=r;},46882:function(r){function b(c,n,d,g){c.trace(":",d,":",g);n(g);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,n,d,g){d=g?d.bind(g):d;if(c){this.console && (d=b.bind(null,this.console,d,n));if("function" === typeof c.addListener)c.addListener(n,d);else if("function" === typeof c.addEventListener)c.addEventListener(n,d);else throw Error("Emitter does not have a function to add listeners for '" + n + "'");this.listeners.push([c,n,d]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(n){var d,g;d=n[0];g=n[1];n=n[2];"function" === typeof d.removeEventListener?d.removeEventListener(g,n):"function" === typeof d.removeListener && d.removeListener(g,n);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},90745:function(r,b,a){b=a(22699);b.QCa=0;r.exports={EventEmitter:b,mf:a(46882)};},84726:function(r,b,a){var c,n,d,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.UVa=void 0;c=a(5163);n=a(91176);d=a(91176);g=a(90745);e=a(52885);r=(function(){function f(l,h,k,m,p){this.cn=l;this.bb=h;this.ZKb=k;this.Wb=m;this.lKb=p;this.yK=new Map();this.sC=new Map();this.events=new g.EventEmitter();this.nK=new Map();}Object.defineProperties(f.prototype,{size:{get:function(){return this.sC.size;},enumerable:!1,configurable:!0}});f.prototype.Ekb=function(l){var h;void 0 === h && (h=!0);if(h)return this.yK.has(l);l=this.cn(l);return this.sC.has(l);};f.prototype.ah=function(l){var h,k,m,p;h=this;k=Array.from(this.sC.keys());m=new Map(l.map(function(v){return [h.cn(v),v];}));p=Array.from(m.keys());l=(0,n.wp)(k,p,function(v,q){return v === q;});k=(0,n.wp)(p,k).map(function(v){return m.get(v);});l.forEach(function(v){return h.Vn(h.sC.get(v),!0,"evicted");});this.PMb(k);};f.prototype.PMb=function(l){var h;h=this;l=l.map(function(k){var m,p;m=h.cn(k);p=new n.AbortController();h.yK.set(k,p);h.sC.set(m,k);return {Bb:k,Iya:p.signal};});this.ZKb.j2b({Va:l,ZQb:{Ct:!0}}).entries.forEach(function(k,m){return c.__awaiter(h,void 0,void 0,function(){var p,v;return c.__generator(this,function(q){switch(q.label){case 0:return (q.Ke.push([0,2,,3]),[4,k]);case 1:return (p=q.va().U,v=this.yK.get(m),this.Ekb(m) && !v.signal.aborted && (this.aR(m,p),this.yK.delete(m)),[3,3]);case 2:return (q.va(),v=this.yK.get(m),this.Ekb(m) && !v.signal.aborted?this.Vn(m,!0,"evicted"):this.Vn(m,!1,"evicted"),0,[3,3]);case 3:return [2];}});});});};f.prototype.Dpc=function(l){this.sC.set(this.cn(l.Sr),l.Sr);this.Mjb(l,!1);};f.prototype.Mjb=function(l,h){var k;void 0 === h && (h=!1);k=this.cn(l.Sr);this.nK.set(k,l);this.events.emit("itemAdded",{item:l,Fgc:h});};f.prototype.aR=function(l,h,k){var m,p;k=null !== (m=null === k || void 0 === k?void 0:k.Ru) && void 0 !== m?m:this.lKb(h);p=(0,n.IT)(function(){return JSON.stringify(h).length;});l=new e.dsa({U:Promise.resolve(h),Sr:l,yz:!0,Pz:{absolute:k},T5:function(){},get t0() {return p();}});this.Mjb(l,!0);};f.prototype.bA=function(l){l="string" === typeof l?l:this.cn(l);return this.nK.has(l);};f.prototype.g9a=function(l){var h,k,v;l=Math.max(0,this.size - l);if(0 < l){k=Array.from(this.sC.values()).sort(d.aNa);try{for(var m=c.__values(k),p=m.next();!p.done;p=m.next()){v=p.value;if(0 >= l)break;l--;this.Vn(v,!0,"evicted");}}catch(u){var q;q={error:u};}finally{try{p && !p.done && (h=m.return) && h.call(m);}finally{if(q)throw q.error;}}}};f.prototype.claim=function(l){var h;h=this.sr(l);this.Vn(l,!1,"claimed");return h;};f.prototype.remove=function(l){this.Vn(l,!0,"deleted");};f.prototype.Vn=function(l,h,k){var m,p;l=this.cn(l);m=this.sC.get(l);if(m){p=this.yK.get(m);h && p && p.abort();this.yK.delete(m);this.sC.delete(l);h=this.nK.get(l);this.nK.delete(l);h && this.events.emit("itemRemoved",{item:h,reason:k});}};f.prototype.sr=function(l){l=this.cn(l);if(this.nK.has(l))return this.nK.get(l);};f.prototype.clear=function(){this.g9a(0);};f.prototype.values=function(){return this.nK.values();};return f;})();b.UVa=r;},97967:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(53300),b);r.__exportStar(a(16659),b);r.__exportStar(a(2300),b);r.__exportStar(a(52885),b);r.__exportStar(a(5300),b);r.__exportStar(a(37349),b);},5300:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.csa=void 0;c=a(53300);a(2300);b.csa=(function(){function n(d){this.JJa=new c.a_a(d);n.instance=this;}return n;})();},52885:function(r,b,a){var c,n,d,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.dsa=b.aGb=void 0;c=a(66164);n=a(91176);d=a(90745);(function(f){f[f.XHc=0]="dormant";f[f.active=1]="active";f[f.hr=2]="expired";f[f.OHc=3]="deleted";})(g || (b.aGb=g={}));e=0;r=(function(){function f(l){var h;this.Lu=l;this.events=new d.EventEmitter();this.gPa=e++;this.yib=this.Wzb=!1;this.ORb();this.P6a=null !== (h=l.Sr.Ct) && void 0 !== h?h:!1;this.pba=new n.r4a();l.U && this.pba.Jla(l.U);}Object.defineProperties(f.prototype,{state:{get:function(){return this.hb;},set:function(l){this.hb=l;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{U:{get:function(){return this.pba.promise;},set:function(l){(0,n.assert)(!this.pba.xIa,"Manifest promise is already resolved");this.pba.Jla(l);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{yz:{get:function(){return this.Lu.yz;},set:function(l){this.Lu.yz=l;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{bA:{get:function(){this.uxa || (this.uxa=this.yz);return this.uxa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ng:{get:function(){return this.Lu.ng;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Pz:{get:function(){return this.Lu.Pz;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{gD:{get:function(){return !!this.Lu.gD;},set:function(l){this.Lu.gD=l;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{t0:{get:function(){return this.Lu.t0;},set:function(l){this.Lu.t0=l;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Sr:{get:function(){return this.Lu.Sr;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{nlb:{get:function(){return this.X6a;},set:function(l){this.X6a=l;},enumerable:!1,configurable:!0}});f.prototype.Aec=function(){var l;l=this;this.yz || (this.uxa=!0,setTimeout(function(){return l.Lu.yz=!0;},1));};f.prototype.T5=function(){this.P6a=!1;this.Lu.T5();this.events.emit("promoted",{type:"promoted"});};Object.defineProperties(f.prototype,{Ct:{get:function(){return this.P6a;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{vv:{get:function(){return (0,n.vv)(this);},enumerable:!1,configurable:!0}});f.prototype.ORb=function(){this.X6a=c.platform.time.now();};f.prototype.kpb=function(){this.events.emit("removed",{type:"removed"});};f.prototype.kza=function(l){this.Lu.Pz.absolute=l;};f.prototype.toJSON=function(){return {state:this.state,hasManifest:this.bA,cacheHit:this.yz,wasFallbackItem:this.Wzb,hasFallbackItem:this.yib,viewableId:this.Sr.N,isPrefetch:this.Ct,expired:this.vv,flushed:this.gD,seqId:this.gPa};};return f;})();b.dsa=r;},53300:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v;Object.defineProperties(b,{__esModule:{value:!0}});b.a_a=void 0;c=a(5163);n=a(91176);d=a(66164);g=a(90745);e=a(91176);f=a(91176);l=a(91176);h=a(2300);k=a(84726);m=a(37349);p=a(52885);(function(q){q[q.hr=0]="expired";q[q.ycc=1]="lazyExpired";q[q.gD=2]="flushed";q[q.voc=3]="removedByViewableId";})(v || (v={}));r=(function(){function q(u){var t;t=this;this.H1b=0;this.console=(0,n.xg)(d.platform,u.console,"MANIFESTCACHE2");this.tEa=u.tEa;this.cn=u.cn;this.iy=new e.b$(this.console,"manifest-primary");this.q8a=new f.D2a(this.console,{jac:function(w,x){var z,y;z=w.item;t.console.trace("Fetching manifest",{w8:z.N});y=t.tEa.j2b({Va:[{Bb:z,Iya:x,tv:w.tv()}],ZQb:{Ct:z.Ct}});return {item:y,key:w,bN:function(){return y.T5(z);}};}},u.config.Jmb);this.config=u.config;this.events=new g.EventEmitter();this.config.Imb && (this.ho=new k.UVa(this.cn,u.config,u.tEa,u.console,function(w){return t.CAa(w);}),this.ho.events.addListener("itemAdded",function(w){t.cD.track(w.item);w.Fgc && (t.events.emit("manifestScheduled",{type:"manifestScheduled",oH:w.item}),w.item.U.then(function(x){t.events.emit("manifestReceived",{type:"manifestReceived",oH:w.item,U:x});},function(){}));}),this.ho.events.addListener("itemRemoved",function(w){"claimed" !== w.reason && (t.cD.delete(w.item),w.item.kpb(),"expired" === w.reason && t.events.emit("expired",{type:"expired",oH:w.item}),t.events.emit("deleted",{type:"deleted",oH:w.item}));}));this.JL=new n.eZa(this.console,"manifest-expired");this.hI=new n.aQ({enabled:this.config.fec},void 0,{hg:1,nha:function(w,x){t.cD.delete(x);}});this.cD=new n.LWa(function(w){var x,z;if(null === (x=t.ho) || void 0 === x?0:x.bA(w.Sr))null === (z=t.ho) || void 0 === z?void 0:z.remove(w.Sr);w=t.cn(w.Sr);t.iy.has(w) && t.jEa(w,v.hr);t.hI.has(w) && t.hI.delete(w);});this.oib=new n.us(!1);this.oib.addListener(function(w){w.newValue || t.onc();});}Object.defineProperties(q.prototype,{size:{get:function(){var u;return {Nba:this.Nba,G_:this.G_,fOc:this.vzb,sMc:null === (u=this.ho) || void 0 === u?void 0:u.size,Gxb:this.Gxb};},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Gxb:{get:function(){var u,t;return this.G_ + (null !== (t=null === (u=this.ho) || void 0 === u?void 0:u.size) && void 0 !== t?t:0);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{G_:{get:function(){return this.vzb + this.Nba;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{vzb:{get:function(){return this.iy.size;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Nba:{get:function(){return this.JL.size;},enumerable:!1,configurable:!0}});q.prototype.ah=function(u){var t,w,x,z;t=this;x=Math.max(0,this.config.Jmb - this.G_);if(!(0 >= x))if((u=u.map(function(y){return [t.cn(y),y];}),u=(0,n.wp)(u,Array.from(this.iy.keys()),function(y,A){return c.__read(y,1)[0] === A;}),u.length > x)){z=u.map(function(y){return c.__read(y,2)[1];}).sort(l.aNa).slice(0,x);null === (w=this.ho) || void 0 === w?void 0:w.ah(z);}else null === (z=this.ho) || void 0 === z?void 0:z.ah(u.map(function(y){return c.__read(y,2)[1];}));};q.prototype.sr=function(u){return this.D6a(u);};q.prototype.HTb=function(u){var t;if(null === (t=this.ho) || void 0 === t?0:t.bA(u))return (this.console.trace("Prefetch manifest found",{w8:u.N}),this.ho.claim(u));};q.prototype.zKb=function(u,t,w,x){return c.__awaiter(this,void 0,void 0,function(){var z,y,A,B,C;return c.__generator(this,function(D){switch(D.label){case 0:return (D.Ke.push([0,3,7,8]),[4,t]);case 1:return (y=D.va(),[4,y.entries.get(w.Sr)]);case 2:return (A=D.va(),w.yz=A.yz,w.t0=A.la,w.yib=!!x(),z=A.U,[3,8]);case 3:B=D.va();if((0,n.Rga)(B))throw (!1,B);this.console.error("Error fetching manifest",{elb:u,error:B});C=x();if(!C)return [3,5];this.console.trace("Reusing manifest from error cache",{elb:u});return [4,C.U];case 4:return (z=D.va(),w.Wzb=!0,[3,6]);case 5:throw B;case 6:return [3,8];case 7:return (d.platform.time && (w.Pz.absolute=z?this.CAa(z):0),this.cD.d6(w),[7]);case 8:return (w.Aec(),[2,z]);}});});};q.prototype.e1b=function(u,t){var x,z,y,A,B;function w(){!y && x.hI.has(u) && (y || (y=x.hI.get(u)));return y;}x=this;A=this.q8a.get({key:u,priority:null !== (z=t.priority) && void 0 !== z?z:0,required:!t.Ct,item:t,tv:function(){return !!w();}});B=new p.dsa({yz:!1,t0:0,Pz:{absolute:Infinity},Sr:t,T5:function(){x.console.trace("Promote to required",{key:u});A.value.bN();x.f9a(0);}});t=this.zKb(u,A.value.item,B,w);B.U=t;t.then(function(C){x.events.emit("manifestReceived",{type:"manifestReceived",oH:B,U:C});y=void 0;},function(){x.ooc(u,B);});this.cD.track(B);B.events.on("removed",function(){A.Up.release();});this.console.log("Created manifest Item",B);return B;};q.prototype.ooc=function(u,t){var x,z,y,C;function w(E,F){var G;G=E.get(F);if(G)return (G.value === t && (z.console.log("Deleting manifest item due failure",t),E.delete(F)),G.Up.release(),!0);}z=this;w(this.iy,u);w(this.JL,u);y=this.JL.j4b(u);if(y)try{for(var A=c.__values(y),B=A.next();!B.done;B=A.next()){C=B.value;w(this.JL,C) && this.JL.sZb(u,C);}}catch(E){var D;D={error:E};}finally{try{B && !B.done && (x=A.return) && x.call(A);}finally{if(D)throw D.error;}}this.hI.has(u,t) && (this.console.log("Deleting manifest from reuseOnErrorCache due to failure",t),this.hI.delete(u));};q.prototype.ZOb=function(u){var w,x,z,y;function t(){u.kpb();w.events.emit("deleted",{type:"deleted",oH:u});}w=this;y="none";u.gD || (!u.vv && u.Ct?!this.config.Imb || (null === (x=this.ho) || void 0 === x?0:x.bA(u.Sr)) || (y="addToDormant"):!u.Ct && u.bA && (y="reuseOnErrorCache"));this.console.log("allLeasesReturned to cache",{action:y,N$a:u});switch(y){case "addToDormant":this.ho?null === (z=this.ho) || void 0 === z?void 0:z.Dpc(u):this.cD.delete(u);break;case "reuseOnErrorCache":x=d.platform.time.now() + this.config.MMc;u.kza(x);this.cD.track(u);x=this.cn(u.Sr);this.hI.delete(x);this.hI.Njb(x,u);t();break;default:(this.cD.delete(u),t());}};q.prototype.D6a=function(u,t){var w,x,z;w=this;void 0 === t && (t=!1);x=this.cn(u);this.console.trace("Acquiring lease for manifest",{w8:u.N,DL:this.iy.size,qrb:!!u.Ct,xka:u.priority});z=this.iy.dGa(x,function(){var y;y=w.HTb(u);y || (y=w.e1b(x,u),w.f9a());if(y.Ct)y.events.on("promoted",function(){w.events.emit("activated",{type:"activated",oH:y});});else w.events.emit("activated",{type:"activated",oH:y});return {value:y,HH:function(){w.console.trace("Leases removed",{w8:u.N});w.ZOb(y);}};});if(z.value.vv)if(t)this.console.error("Skipping Retry on an already expired manifest",{w8:u.N});else return (this.jEa(x,v.ycc),this.console.trace("Manifest Expired, releasing",{w8:u.N}),z.Up.release(),this.D6a(u,!0));u.Ct || z.value.T5();return z;};q.prototype.f9a=function(u){var t;void 0 === u && (u=1);u=Math.max(0,this.config.Jmb - this.G_ - u - this.Nba);null === (t=this.ho) || void 0 === t?void 0:t.g9a(u);};q.prototype.jEa=function(u,t){var w,x;w=t === v.gD || t === v.voc;x=this.iy.Qxb(this.JL,u,("").concat(u,":").concat(this.H1b++));x && (this.console.debug("Expiring active manifest",{elb:u,gD:w,reason:v[t]}),x.kza(0),w && (x.gD=!0),this.events.emit("expired",{type:"expired",oH:x}));};q.prototype.flush=function(){var u,t;this.console.trace("Flush Called");null === (t=this.ho) || void 0 === t?void 0:t.clear();try{for(var w=c.__values(this.iy.keys()),x=w.next();!x.done;x=w.next())this.jEa(x.value,v.gD);}catch(y){var z;z={error:y};}finally{try{x && !x.done && (u=w.return) && u.call(w);}finally{if(z)throw z.error;}}};q.prototype.getStats=function(){return {manifestCount:this.iy.size,totalManifestCount:this.size,playbackLeases:h.vua.PLa,playbackCaches:h.vua.OLa,activePending:Array.from(this.iy.values()).filter(function(u){return !u.value.bA;}).length,expiredPending:Array.from(this.JL.values()).filter(function(u){return !u.value.bA;}).length,throttler:this.q8a.getStats()};};q.prototype.CAa=function(u){return (0,m.Pgb)(u,this.config,this.oib.value) + d.platform.time.now();};q.prototype.onc=function(){c.__awaiter(this,void 0,void 0,function(){var u,t,w,x,z,y,A,B,C,D,E;return c.__generator(this,function(F){switch(F.label){case 0:(u=(null === (E=this.ho) || void 0 === E?void 0:E.values()) || [],t=Array.from(this.iy.values()).map(function(G){return G.value;}),w=c.__spreadArray(c.__spreadArray([],c.__read(t),!1),c.__read(u),!1),F.label=1);case 1:(F.Ke.push([1,6,7,8]),x=c.__values(w),z=x.next(),F.label=2);case 2:if(z.done)return [3,5];y=z.value;return !y.bA || isFinite(y.Pz.absolute)?[3,4]:[4,y.U];case 3:(A=F.va(),y.kza(this.CAa(A)),this.cD.d6(y),F.label=4);case 4:return (z=x.next(),[3,2]);case 5:return [3,8];case 6:return (B=F.va(),C={error:B},[3,8]);case 7:try{z && !z.done && (D=x.return) && D.call(x);}finally{if(C)throw C.error;}return [7];case 8:return [2];}});});};return q;})();b.a_a=r;},37349:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Pgb=void 0;b.Pgb=function(a,c,n){var d,g,e;e=c.ZKc;if(n && (null === (g=null === (d=a.tI) || void 0 === d?void 0:d.WV) || void 0 === g?0:g.N3))return Infinity;if(e)a=e;else {if(c.gOc && void 0 !== a.urb)return a.urb;a=a.wib?900:7200;}return 1E3 * a;};},16659:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},2300:function(r,b,a){var c,n,d,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.vua=void 0;a(5163);c=a(66164);n=a(91176);d=a(91176);g=a(90745);e=0;r=(function(){function f(l,h,k){this.JJa=l;this.cn=h;this.id=e++;this.Nga=this.FMb=!1;this.events=new g.EventEmitter();this.console=(0,n.xg)(c.platform,k,("PLAYBACKMANIFESTCACHE [").concat(this.id,"]"));this.console.trace("Creating this instance");this.A5=new d.b$(this.console,"playback-manifest-cache");}f.prototype.Znc=function(){this.Nga || (this.Nga=!0,f.OLa++);};f.prototype.jyb=function(){this.Nga && (this.Nga=!1,f.OLa--);};Object.defineProperties(f.prototype,{size:{get:function(){return this.A5.size;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{kkc:{get:function(){return Array.from(this.A5.values()).filter(function(l){return !l.value.U.bA;}).length;},enumerable:!1,configurable:!0}});f.prototype.sr=function(l){var h,k,m;h=this;k=l.N;m=this.cn(l);return this.A5.dGa(m,function(){var p;h.console.trace("Getting manifest",{N:k,Anb:m});h.FMb && l.Ct && (l.Ct=!1);p=h.JJa.sr(l);p.value.U.then(function(){h.console.trace("Manifest received",{N:k,Anb:m});},function(v){h.console.trace("Manifest error received",{error:v});});f.PLa++;h.Znc();return {value:{U:p.value},HH:function(){p.Up.release();h.events.emit("itemRemoved",{type:"itemRemoved",item:p.value});h.console.trace("Releasing manifest",{N:k,Anb:m,aLc:h.A5.size,DGc:p});f.PLa--;0 === h.size && h.jyb();}};});};f.prototype.Ep=function(){var l;this.console.trace("Destroying");null === (l=this.A5) || void 0 === l?void 0:l.clear();this.jyb();};f.PLa=0;f.OLa=0;return f;})();b.vua=r;},57042:function(r,b){var a,c,n,d;Object.defineProperty(b,"__esModule",{value:!0});b.zjc=function(g){var e,f,l,h;e=g.read(5);f=g.read(4);if(15 === f){l=g.read(24);f=a.indexOf(l);}else l=a[f];h=g.read(4);switch(e){case c:case n:case d:if(g.read(1))throw Error("frameLengthFlag not supported");break;default:throw Error("AAC profile " + e + " not supported.");}return {Ps:e,sampleRate:l,ola:f,RGc:h,z3b:1024};};a=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350];c=1;n=2;d=4;},79602:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.hmc=function(n,d,g){var e,f;e=n.read(1);if(e){f=new c.zYa(n,e,d);1 === n.read(2) && n.advance(f.rU * f.B4);}(0,c.Grb)(n,d,f,g);(0,c.Grb)(n,d,f,g);};c=a(50539);},48387:function(r,b,a){var c,n;b.w=function(d,g,e,f){var l;l=new c.W8(d);f=f && f.ola;g=(0,n.jmc)(l,{BC:g,gO:e},f);l=l.offset;return {frame:d.subarray(0,l),MLa:l,jOc:g};};c=a(5641);n=a(67038);},30109:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.imc=function(a,c,n){15 === c && (c+=a.read(8) - 1);0 < c && 1 !== n.BC && !n.gO?(a.write(4,0),a.advance(8 * c - 4)):a.advance(8 * c);};},67038:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.jmc=function(d,g,e){var f,l,h;if(4095 === d.read(12)){d.advance(3);f=!!d.read(1);l=d.read(2) + 1;e=d.read(4);d.advance(8);h=d.read(13);d.advance(13 + (f?0:16));f={Ps:l,ola:e,z3b:h};}else d.reverse(12);(0,c.assert)(void 0 !== e);(0,n.smc)(d,e,g);return f;};c=a(87606);n=a(970);},27912:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uXa=b.lXa=b.kXa=b.tXa=b.sXa=b.rXa=b.qXa=b.pXa=b.oXa=b.nXa=b.mXa=b.jXa=void 0;b.jXa={width:2,table:new Uint16Array([1,0,5,16,5,17,5,18,5,19,5,20,5,21,5,22,5,23,7,96,7,97,7,98,7,99,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,7,117,7,118,7,119,9,480,9,481,9,482,9,483,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,10,1008,10,1009,10,1010,10,1011,10,1012,10,1013,10,1014,10,1015,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,11,2042,11,2043,11,2044,11,2045,11,2046,11,2047])};b.mXa={width:2,table:new Uint16Array([3,0,4,2,5,6,5,7,5,8,5,9,5,10,5,11,5,12,6,26,6,27,6,28,6,29,6,30,6,31,6,32,6,33,6,34,6,35,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,8,230,8,231,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,8,244,8,245,8,246,8,247,8,248,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,9,507,9,508,9,509,9,510,9,511])};b.nXa={width:3,table:new Uint16Array([1,0,0,4,8,1,4,9,1,4,10,1,4,11,1,5,24,2,5,25,2,6,52,2,6,53,2,6,54,2,6,55,3,6,56,2,6,57,3,7,116,4,7,117,3,7,118,3,8,238,1,8,239,1,8,240,2,8,241,2,8,242,3,9,486,2,9,487,3,9,488,2,9,489,3,9,490,3,9,491,1,9,492,2,9,493,2,9,494,1,9,495,2,9,496,2,9,497,4,9,498,3,9,499,3,9,500,4,10,1002,3,10,1003,2,10,1004,3,10,1005,2,10,1006,4,10,1007,4,10,1008,3,10,1009,3,10,1010,2,10,1011,3,10,1012,3,10,1013,3,10,1014,2,10,1015,2,10,1016,3,11,2034,2,11,2035,4,11,2036,3,11,2037,3,11,2038,4,11,2039,4,11,2040,2,11,2041,3,12,4084,3,12,4085,3,12,4086,3,12,4087,3,12,4088,3,12,4089,4,12,4090,4,12,4091,4,12,4092,4,13,8186,2,13,8187,2,13,8188,3,14,16378,3,14,16379,4,14,16380,3,15,32762,4,15,32763,4,15,32764,4,15,32765,3,15,32766,2,16,65534,3,16,65535,3])};b.oXa={width:3,table:new Uint16Array([4,0,4,4,1,3,4,2,3,4,3,3,4,4,3,4,5,1,4,6,2,4,7,0,4,8,2,4,9,2,5,20,2,5,21,2,5,22,1,5,23,2,5,24,1,5,25,1,7,104,4,7,105,4,7,106,4,7,107,4,7,108,3,7,109,3,7,110,3,7,111,3,7,112,3,8,226,3,8,227,3,8,228,3,8,229,3,8,230,3,8,231,3,8,232,3,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,2,8,243,2,8,244,2,8,245,1,8,246,1,9,494,1,9,495,1,9,496,4,9,497,4,9,498,4,9,499,4,9,500,4,9,501,4,10,1004,3,10,1005,3,10,1006,3,10,1007,3,10,1008,3,10,1009,3,10,1010,3,10,1011,3,10,1012,3,10,1013,4,10,1014,3,10,1015,3,10,1016,3,10,1017,4,11,2036,4,11,2037,4,11,2038,2,11,2039,2,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,4,11,2045,3,11,2046,3,12,4094,3,12,4095,3])};b.pXa={width:2,table:new Uint16Array([1,0,4,8,4,9,4,10,4,11,5,24,5,25,5,26,5,27,7,112,7,113,7,114,7,115,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,10,1E3,10,1001,10,1002,10,1003,10,1004,10,1005,10,1006,10,1007,10,1008,10,1009,10,1010,10,1011,11,2024,11,2025,11,2026,11,2027,11,2028,11,2029,11,2030,11,2031,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,12,4090,12,4091,12,4092,12,4093,13,8188,13,8189,13,8190,13,8191])};b.qXa={width:2,table:new Uint16Array([4,0,4,1,4,2,4,3,4,4,4,5,4,6,4,7,4,8,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,6,50,6,51,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,10,1014,10,1015,10,1016,10,1017,10,1018,10,1019,10,1020,10,1021,11,2044,11,2045,11,2046,11,2047])};b.rXa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,7,115,1,7,116,1,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,1,8,243,1,9,488,2,9,489,2,9,490,2,9,491,1,9,492,2,9,493,1,9,494,2,9,495,2,9,496,2,9,497,2,9,498,2,9,499,2,9,500,2,9,501,2,10,1004,2,10,1005,1,10,1006,1,10,1007,2,10,1008,2,10,1009,2,10,1010,2,10,1011,2,10,1012,2,10,1013,2,10,1014,2,10,1015,2,10,1016,2,10,1017,2,10,1018,2,11,2038,1,11,2039,1,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,2,11,2045,2,12,4092,2,12,4093,2,12,4094,2,12,4095,2])};b.sXa={width:3,table:new Uint16Array([3,0,2,4,2,2,4,3,1,4,4,2,4,5,1,4,6,2,5,14,0,5,15,1,5,16,1,5,17,2,5,18,2,5,19,2,5,20,2,6,42,2,6,43,2,6,44,2,6,45,2,6,46,2,6,47,1,6,48,1,6,49,2,6,50,2,6,51,2,7,104,2,7,105,2,7,106,2,7,107,2,7,108,2,7,109,2,7,110,2,7,111,1,7,112,2,7,113,1,7,114,2,7,115,2,7,116,2,7,117,2,8,236,2,8,237,2,8,238,2,8,239,1,8,240,2,8,241,1,8,242,2,8,243,2,8,244,2,8,245,2,8,246,2,8,247,2,8,248,2,8,249,2,8,250,2,9,502,2,9,503,2,9,504,1,9,505,2,9,506,1,9,507,2,9,508,2,9,509,2,10,1020,2,10,1021,1,10,1022,1,10,1023,2])};b.tXa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,8,230,1,8,231,1,8,232,2,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,9,476,2,9,477,2,9,478,1,9,479,1,9,480,2,9,481,2,9,482,2,9,483,2,9,484,2,9,485,2,9,486,2,10,974,1,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,2,10,984,2,10,985,1,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,11,1988,1,11,1989,2,11,1990,2,11,1991,2,11,1992,1,11,1993,2,11,1994,2,11,1995,2,11,1996,2,11,1997,1,11,1998,2,11,1999,2,11,2E3,2,11,2001,2,11,2002,1,11,2003,1,11,2004,2,11,2005,2,11,2006,2,11,2007,2,11,2008,2,11,2009,2,11,2010,2,11,2011,2,11,2012,2,11,2013,2,11,2014,2,11,2015,2,11,2016,2,11,2017,1,11,2018,2,12,4038,2,12,4039,2,12,4040,1,12,4041,2,12,4042,2,12,4043,2,12,4044,2,12,4045,2,12,4046,2,12,4047,2,12,4048,2,12,4049,2,12,4050,2,12,4051,2,12,4052,2,12,4053,2,12,4054,2,12,4055,2,12,4056,2,12,4057,2,12,4058,2,12,4059,2,12,4060,2,12,4061,1,12,4062,2,12,4063,2,12,4064,1,12,4065,2,12,4066,2,12,4067,2,12,4068,2,12,4069,2,12,4070,2,12,4071,2,12,4072,1,12,4073,2,12,4074,2,12,4075,2,13,8152,2,13,8153,2,13,8154,2,13,8155,2,13,8156,2,13,8157,2,13,8158,2,13,8159,2,13,8160,2,13,8161,2,13,8162,2,13,8163,2,13,8164,1,13,8165,2,13,8166,2,13,8167,1,13,8168,2,13,8169,2,13,8170,2,13,8171,2,13,8172,1,13,8173,2,13,8174,2,13,8175,2,13,8176,2,13,8177,2,13,8178,2,13,8179,2,13,8180,2,13,8181,2,13,8182,2,13,8183,2,14,16368,2,14,16369,2,14,16370,2,14,16371,2,14,16372,2,14,16373,2,14,16374,2,14,16375,2,14,16376,2,14,16377,2,14,16378,2,14,16379,2,14,16380,2,14,16381,2,15,32764,2,15,32765,2,15,32766,2,15,32767,2])};b.kXa={width:3,table:new Uint16Array([4,0,2,4,1,2,4,2,2,5,6,2,5,7,1,5,8,1,5,9,2,5,10,2,5,11,2,5,12,2,5,13,2,6,28,1,6,29,1,6,30,2,6,31,2,6,32,2,6,33,2,6,34,0,6,35,2,6,36,2,6,37,1,6,38,1,6,39,2,6,40,2,6,41,2,7,84,2,7,85,2,7,86,2,7,87,2,7,88,2,7,89,2,7,90,2,7,91,2,7,92,2,7,93,1,7,94,2,7,95,1,7,96,2,7,97,2,7,98,2,7,99,2,7,100,2,8,202,2,8,203,2,8,204,2,8,205,2,8,206,2,8,207,2,8,208,2,8,209,1,8,210,2,8,211,1,8,212,2,8,213,2,8,214,2,8,215,2,8,216,2,8,217,2,8,218,2,8,219,2,8,220,2,8,221,2,8,222,2,8,223,2,8,224,2,8,225,2,8,226,2,9,454,2,9,455,2,9,456,2,9,457,1,9,458,2,9,459,2,9,460,2,9,461,2,9,462,2,9,463,1,9,464,2,9,465,2,9,466,2,9,467,2,9,468,2,9,469,2,9,470,2,9,471,2,9,472,2,9,473,2,9,474,2,9,475,2,9,476,2,9,477,2,9,478,2,9,479,2,9,480,2,9,481,1,9,482,2,9,483,1,9,484,2,10,970,2,10,971,2,10,972,2,10,973,2,10,974,2,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,1,10,984,2,10,985,2,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,10,994,2,10,995,2,10,996,2,10,997,2,10,998,2,10,999,2,10,1E3,2,10,1001,1,10,1002,2,10,1003,1,10,1004,2,10,1005,1,10,1006,2,10,1007,2,10,1008,2,10,1009,2,10,1010,2,11,2022,2,11,2023,2,11,2024,2,11,2025,2,11,2026,2,11,2027,2,11,2028,2,11,2029,2,11,2030,2,11,2031,2,11,2032,1,11,2033,2,11,2034,1,11,2035,2,11,2036,2,11,2037,2,11,2038,1,11,2039,2,11,2040,2,11,2041,2,11,2042,1,11,2043,2,12,4088,2,12,4089,2,12,4090,2,12,4091,2,12,4092,2,12,4093,1,12,4094,2,12,4095,2])};b.lXa={width:4,table:new Uint16Array([4,0,0,0,4,1,2,0,5,4,2,2,5,5,1,0,5,6,1,0,5,7,2,0,5,8,2,0,5,9,2,0,6,20,2,0,6,21,2,0,6,22,2,0,6,23,1,0,6,24,2,0,6,25,1,0,6,26,2,0,7,54,2,0,7,55,2,0,7,56,2,0,7,57,2,0,7,58,2,0,7,59,2,0,7,60,1,0,7,61,1,0,7,62,2,0,7,63,2,0,7,64,2,0,7,65,2,0,7,66,2,0,7,67,2,0,7,68,2,0,7,69,2,0,8,140,2,0,8,141,2,0,8,142,2,0,8,143,2,0,8,144,2,0,8,145,2,0,8,146,2,0,8,147,2,1,8,148,2,1,8,149,2,1,8,150,2,1,8,151,2,1,8,152,2,0,8,153,2,1,8,154,1,0,8,155,2,0,8,156,1,0,8,157,2,1,8,158,2,0,8,159,2,1,8,160,2,1,8,161,2,1,8,162,2,1,8,163,2,0,8,164,2,0,8,165,2,0,8,166,2,0,8,167,2,0,8,168,2,1,8,169,2,1,8,170,2,0,8,171,2,0,8,172,2,1,8,173,2,1,8,174,2,1,8,175,2,0,8,176,2,0,8,177,2,1,8,178,2,0,8,179,2,1,8,180,2,1,8,181,2,1,8,182,2,0,8,183,2,1,8,184,2,0,8,185,2,0,8,186,2,1,8,187,2,1,8,188,2,0,8,189,2,0,8,190,2,0,8,191,1,0,8,192,2,1,8,193,2,1,8,194,2,0,8,195,2,0,8,196,2,0,8,197,2,0,8,198,1,0,9,398,2,0,9,399,2,1,9,400,2,1,9,401,2,0,9,402,2,0,9,403,2,1,9,404,2,0,9,405,2,1,9,406,2,0,9,407,2,0,9,408,2,0,9,409,2,0,9,410,2,0,9,411,2,0,9,412,2,0,9,413,2,1,9,414,2,0,9,415,2,0,9,416,1,0,9,417,2,0,9,418,2,0,9,419,2,0,9,420,2,0,9,421,2,0,9,422,2,0,9,423,1,0,9,424,2,0,9,425,2,0,9,426,2,0,9,427,2,0,9,428,2,0,9,429,2,0,9,430,2,0,9,431,2,0,9,432,2,0,9,433,2,0,9,434,2,0,9,435,2,0,9,436,2,0,9,437,2,0,9,438,1,0,9,439,2,0,9,440,2,0,9,441,2,0,9,442,2,0,9,443,2,0,9,444,2,0,9,445,2,0,9,446,2,0,9,447,2,0,9,448,2,0,9,449,2,0,9,450,1,1,9,451,2,0,9,452,2,0,10,906,2,0,10,907,2,0,10,908,2,0,10,909,2,0,10,910,1,1,10,911,2,0,10,912,1,0,10,913,2,0,10,914,2,0,10,915,2,0,10,916,2,0,10,917,2,0,10,918,2,0,10,919,2,0,10,920,2,0,10,921,2,0,10,922,2,0,10,923,2,0,10,924,2,0,10,925,2,0,10,926,2,0,10,927,2,0,10,928,2,0,10,929,2,0,10,930,2,0,10,931,2,0,10,932,2,0,10,933,2,0,10,934,2,0,10,935,2,0,10,936,2,0,10,937,2,0,10,938,2,0,10,939,2,0,10,940,2,0,10,941,2,0,10,942,2,0,10,943,1,0,10,944,2,0,10,945,2,0,10,946,2,0,10,947,2,0,10,948,2,0,10,949,2,0,10,950,2,0,10,951,2,0,10,952,2,0,10,953,2,0,10,954,2,0,10,955,2,0,10,956,2,0,10,957,2,0,10,958,2,0,10,959,2,0,10,960,2,0,10,961,2,0,10,962,1,0,10,963,2,0,10,964,2,0,10,965,2,0,10,966,2,0,10,967,2,0,10,968,2,0,10,969,2,0,10,970,2,0,10,971,2,0,10,972,2,0,10,973,2,0,10,974,2,0,10,975,2,0,10,976,2,0,10,977,2,0,10,978,2,0,10,979,2,0,10,980,2,0,10,981,2,0,10,982,2,0,10,983,2,0,10,984,2,0,10,985,2,0,10,986,2,0,10,987,2,0,10,988,2,0,10,989,2,0,10,990,1,0,10,991,1,0,10,992,2,0,10,993,2,0,10,994,2,0,10,995,2,0,10,996,2,0,10,997,2,0,10,998,2,0,10,999,2,0,10,1E3,2,0,11,2002,2,0,11,2003,2,0,11,2004,2,0,11,2005,2,0,11,2006,2,0,11,2007,2,0,11,2008,2,0,11,2009,2,0,11,2010,2,0,11,2011,2,0,11,2012,2,0,11,2013,2,0,11,2014,2,0,11,2015,2,0,11,2016,2,0,11,2017,2,0,11,2018,2,0,11,2019,1,0,11,2020,2,0,11,2021,2,0,11,2022,1,0,11,2023,2,0,11,2024,1,0,11,2025,2,0,11,2026,2,0,11,2027,2,0,11,2028,1,0,11,2029,2,0,11,2030,2,0,11,2031,2,0,11,2032,2,0,11,2033,2,0,11,2034,1,0,11,2035,1,0,11,2036,2,0,11,2037,2,0,11,2038,2,0,11,2039,2,0,11,2040,1,0,11,2041,2,0,11,2042,2,0,11,2043,1,0,11,2044,2,0,12,4090,1,0,12,4091,1,0,12,4092,2,0,12,4093,1,0,12,4094,1,0,12,4095,2,0])};b.uXa={width:2,table:new Uint32Array([1,0,3,4,4,10,4,11,4,12,5,26,5,27,6,56,6,57,6,58,6,59,7,120,7,121,7,122,8,246,8,247,8,248,8,249,8,250,9,502,9,503,9,504,9,505,10,1012,10,1013,10,1014,10,1015,10,1016,10,1017,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,13,8180,13,8181,13,8182,13,8183,13,8184,14,16370,14,16371,14,16372,14,16373,14,16374,14,16375,14,16376,14,16377,15,32756,15,32757,15,32758,15,32759,16,65520,16,65521,16,65522,16,65523,16,65524,16,65525,16,65526,17,131054,17,131055,17,131056,18,262114,18,262115,18,262116,18,262117,18,262118,18,262119,18,262120,19,524242,19,524243,19,524244,19,524245,19,524246,19,524247,19,524248,19,524249,19,524250,19,524251,19,524252,19,524253,19,524254,19,524255,19,524256,19,524257,19,524258,19,524259,19,524260,19,524261,19,524262,19,524263,19,524264,19,524265,19,524266,19,524267,19,524268,19,524269,19,524270,19,524271,19,524272,19,524273,19,524274,19,524275,19,524276,19,524277,19,524278,19,524279,19,524280,19,524281,19,524282,19,524283,19,524284,19,524285,19,524286,19,524287])};},77737:function(r,b,a){var c,n,d;Object.defineProperty(b,"__esModule",{value:!0});b.Q9=void 0;c=a(27912);n=[c.jXa,c.mXa,c.nXa,c.oXa,c.pXa,c.qXa,c.rXa,c.sXa,c.tXa,c.kXa,c.lXa];d=[!1,!1,!0,!0,!1,!1,!0,!0,!0,!0,!0];b.Q9=(function(){function g(){}g.Veb=function(e,f){var l,p,v;l=f.table;f=f.width;for(var h=0,k=l[0],m=e.read(k);m !== l[h + 1];){h+=f;p=l[h];v=p - k;k=p;m<<=v;m|=e.read(v);}return h;};g.Rvb=function(e){for(var f=4;e.read(1);)++f;e.advance(f);};g.Svb=function(e,f){for(;f--;)g.Veb(e,c.uXa);};g.htc=function(e,f){var l,h;l=n[f - 1];h=l.table;l=this.Veb(e,l);if(11 > f)d[f - 1] && (f=h[l + 2]) && e.advance(f);else if(11 === f || 15 < f)(l+=2,(f=h[l]) && e.advance(f),(h=h[l + 1]) && this.Rvb(e),1 < h && this.Rvb(e));else throw Error("Huffman: unknown spectral codebook: " + f);};return g;})();},50539:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v;Object.defineProperty(b,"__esModule",{value:!0});b.zYa=void 0;b.Grb=function(q,u,t,w){var x,z,y;x=q.read(8);w=Math.max(0,Math.ceil(x + 4 * Math.log(Math.pow(10,w.BC / 20)) / Math.log(2)));q.reverse(8);q.write(8,w);t || (t=new v(q,0,u));x=t;z=x.CSa === g?3:5;y=(1 << z) - 1;u=[];w=[];for(var A=[],B=0;B < x.rU;++B){for(var C=0,D=0;C < x.B4;){for(var E=q.read(4),F=0,G;(G=q.read(z)) === y;)F+=G;F+=G;C+=F;u.push(E);w.push(F);++D;}A.push(D);}x=!0;for(z=0;z < u.length;++z)u[z] !== e && (u[z] === l && x?(q.advance(9),x=!1,n.Q9.Svb(q,w[z] - 1)):n.Q9.Svb(q,w[z]));q.read(1) && q.advance(6 + 9 * (q.read(2) + 1));if(q.read(1))for((x=t,z=2 === x.CSa?m:p,y=0);y < x.Uob;++y)if(A=q.read(z[0]))for((B=q.read(1),C=0);C < A;++C)if((q.advance(z[1]),D=q.read(z[2])))(q.advance(1),E=q.read(1),q.advance(D * (B + 3 - E)));(0,c.assert)(!q.read(1));x=t.rU;z=t.B4;y=t.Ywb;t=t.ona;for(B=A=0;B < x;++B)for((C=t[B],D=0);D < z;++A)if((E=u[A],F=w[A],E === e || E === l || E === k || E === h))D+=F;else {G=E >= f?2:4;for(var J=0;J < F;(++J,++D))for(var N=C * (y[D + 1] - y[D]) / G,I=0;I < N;++I)n.Q9.htc(q,E);}};c=a(87606);n=a(77737);d=a(96103);g=2;e=0;f=5;l=13;h=14;k=15;m=[1,4,3];p=[2,6,5];v=(function(){return function(q,u,t){var w;this.ona=[];this.rU=1;this.ona[0]=1;q.advance(1);this.CSa=q.read(2);q.read(1);if(this.CSa === g){this.Uob=8;this.B4=q.read(4);for(u=0;7 > u;++u)q.read(1)?this.ona[this.rU - 1]++:(this.rU++,this.ona[this.rU - 1]=1);this.Ywb=d.w3a[t];}else {this.Uob=1;this.B4=q.read(6);if(q.read(1)){w=14 + Math.min(this.B4,40);q.read(1) && q.advance(w);u && q.read(1) && q.advance(w);}this.Ywb=d.v3a[t];}};})();b.zYa=v;},970:function(r,b,a){var c,n,d,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.smc=function(f,l,h){var m;for(var k;(k=f.read(3)) !== e;){m=f.read(4);switch(k){case d:(0,c.hmc)(f,l,h);break;case g:(0,n.imc)(f,m,h);break;default:throw Error(("Unsupported AAC element ").concat(k));}}f.QRb();};c=a(79602);n=a(30109);d=1;g=6;e=7;},96103:function(r,b){var a,c,n,d,g,e,f,l,h,k,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.JIb=b.XEb=b.KIb=b.iJb=b.jJb=b.w3a=b.v3a=void 0;r=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,96,108,120,132,144,156,172,188,212,240,276,320,384,448,512,576,640,704,768,832,896,960,1024]);a=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);c=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,100,112,124,140,156,172,192,216,240,268,304,344,384,424,464,504,544,584,624,664,704,744,784,824,864,904,944,984,1024]);n=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);d=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,1024]);g=new Uint16Array([0,4,8,12,16,20,28,36,44,56,68,80,96,112,128]);e=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,960,992,1024]);f=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,52,60,68,76,84,92,100,108,116,124,136,148,160,172,188,204,220,240,260,284,308,336,364,396,432,468,508,552,600,652,704,768,832,896,960,1024]);l=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,64,76,92,108,128]);h=new Uint16Array([0,8,16,24,32,40,48,56,64,72,80,88,100,112,124,136,148,160,172,184,196,212,228,244,260,280,300,320,344,368,396,424,456,492,532,572,616,664,716,772,832,896,960,1024]);k=new Uint16Array([0,4,8,12,16,20,24,28,32,40,48,60,72,88,108,128]);m=new Uint16Array([0,12,24,36,48,60,72,84,96,108,120,132,144,156,172,188,204,220,236,252,268,288,308,328,348,372,396,420,448,476,508,544,580,620,664,712,764,820,880,944,1024]);p=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,60,72,88,108,128]);b.v3a=[r,r,c,d,d,e,f,f,h,h,h,m];b.w3a=[a,a,n,g,g,g,l,l,k,k,k,p];b.jJb=new Uint8Array([12,12,12,14,14,14,15,15,15,15,15,15]);b.iJb=new Uint8Array([41,41,47,49,49,51,47,47,43,43,43,40]);b.KIb=(function(){for(var v=new Float32Array(428),q=0;428 > q;q++)v[q]=Math.pow(2,(q - 200) / 4);return v;})();b.XEb=(function(){for(var v=new Float32Array(8191),q=4 / 3,u=0;8191 > u;u++)v[u]=Math.pow(u,q);return v;})();b.JIb=new Int32Array([96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350]);},87606:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.assert=function(d,g){if(!d)throw new n(g || "Assertion failed");};c=a(5163);n=(function(d){function g(){return null !== d && d.apply(this,arguments) || this;}c.__extends(g,d);return g;})(Error);},5641:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.W8=void 0;r=(function(){function a(c){this.data=c;this.hx=this.Ne=this.Kd=0;this.view=new DataView(c.buffer,c.byteOffset,c.byteLength);}Object.defineProperty(a.prototype,"offset",{get:function(){return this.Ne;},enumerable:!1,configurable:!0});a.prototype.read=function(c){if(0 === this.Kd){if(8 === c)return this.data[this.Ne++];if(16 === c)return (c=this.view.getUint16(this.Ne),this.Ne+=2,c);if(32 === c)return (c=this.view.getUint32(this.Ne),this.Ne+=4,c);}for(;this.Kd < c;)(this.hx=(this.hx << 8) + this.data[this.Ne++],this.Kd+=8);this.Kd-=c;return this.hx >>> this.Kd & (1 << c) - 1;};a.prototype.advance=function(c){var n;if(c <= this.Kd)this.Kd-=c;else {c-=this.Kd;n=Math.floor(c / 8);this.Ne+=n;this.hx=this.data[this.Ne++];this.Kd=8 - (c - 8 * n);}};a.prototype.write=function(c,n){var d,g;n&=(1 << c) - 1;if(0 === this.Kd){if(8 === c){this.data[this.Ne++]=n;return;}if(16 === c){this.view.setUint16(this.Ne,n);this.Ne+=2;return;}if(32 === c){this.view.setUint32(this.Ne,n);this.Ne+=4;return;}}if(0 < this.Kd){d=Math.min(c,this.Kd);g=this.data[this.Ne - 1] & (~((1 << this.Kd) - 1) ^ (1 << this.Kd - d) - 1);this.data[this.Ne - 1]=g ^ (c >= d?n >>> c - d:n << this.Kd - d);this.Kd-=d;c-=d;}for(;8 <= c;)(c-=8,this.data[this.Ne++]=n >>> c & 255);0 < c && (this.Kd=8 - c,g=this.data[this.Ne] & (1 << this.Kd) - 1,this.hx=this.data[this.Ne++]=g ^ (n & (1 << c) - 1) << 8 - c);};a.prototype.reverse=function(c){0 !== this.Kd && c <= 8 - this.Kd?this.Kd+=c:(0 !== this.Kd && (c-=8 - this.Kd,--this.Ne),this.Ne-=Math.floor(c / 8),this.hx=this.data[this.Ne - 1],this.Kd=c % 8);};a.prototype.QRb=function(){0 !== this.Kd && (this.Kd=0);};return a;})();b.W8=r;},25154:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.GWb=function(c,n){void 0 === n && (n=0);n=~~n;for(var d=0;d < c.length;d++)n=(a[(n >> 8 ^ c[d]) & 255] ^ n << 8) & 65535;return n;};a=new Uint16Array([0,32773,32783,10,32795,30,20,32785,32819,54,60,32825,40,32813,32807,34,32867,102,108,32873,120,32893,32887,114,80,32853,32863,90,32843,78,68,32833,32963,198,204,32969,216,32989,32983,210,240,33013,33023,250,33003,238,228,32993,160,32933,32943,170,32955,190,180,32945,32915,150,156,32921,136,32909,32903,130,33155,390,396,33161,408,33181,33175,402,432,33205,33215,442,33195,430,420,33185,480,33253,33263,490,33275,510,500,33265,33235,470,476,33241,456,33229,33223,450,320,33093,33103,330,33115,350,340,33105,33139,374,380,33145,360,33133,33127,354,33059,294,300,33065,312,33085,33079,306,272,33045,33055,282,33035,270,260,33025,33539,774,780,33545,792,33565,33559,786,816,33589,33599,826,33579,814,804,33569,864,33637,33647,874,33659,894,884,33649,33619,854,860,33625,840,33613,33607,834,960,33733,33743,970,33755,990,980,33745,33779,1014,1020,33785,1E3,33773,33767,994,33699,934,940,33705,952,33725,33719,946,912,33685,33695,922,33675,910,900,33665,640,33413,33423,650,33435,670,660,33425,33459,694,700,33465,680,33453,33447,674,33507,742,748,33513,760,33533,33527,754,720,33493,33503,730,33483,718,708,33473,33347,582,588,33353,600,33373,33367,594,624,33397,33407,634,33387,622,612,33377,544,33317,33327,554,33339,574,564,33329,33299,534,540,33305,520,33293,33287,514]);},10543:function(r,b,a){var c,n;b.w=function(d,g,e){var f;f=new c.W8(d);g=(0,n.CPb)(f,g,null === e || void 0 === e?void 0:e.cN).B3b;d=d.subarray(0,g);(0,n.fsc)(d);return {frame:d,MLa:g};};c=a(5641);n=a(75719);},75719:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.CPb=function(d,g,e){var f,l;f=d.read(16);(0,c.assert)(2935 === f);f=2 * ((d.read(16) & 2047) + 1);d.advance(13);l=d.read(5);d.reverse(5);e && (g*=-l / e);d.write(5,Math.min(31,Math.max(1,Math.floor(l + g))));return {B3b:f};};b.fsc=function(d){var g;g=(0,n.GWb)(d.subarray(2,d.length - 2));d[d.length - 2]=g >> 8;d[d.length - 1]=g & 255;};c=a(87606);n=a(25154);},71210:function(r,b,a){var c,n,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.V1b=function(){var l,h,k,m;for(var e=[],f=0;f < arguments.length;f++)e[f]=arguments[f];l="string" === typeof e[0]?{yd:e[0],frame:e[1],BC:e[2],iUb:e[3],cN:e[4]}:e[0];h=l.yd;e=l.frame;f=l.BC;k=l.iUb;m=l.cN;l=l.gO;l=void 0 === l?!1:l;switch(h){case "aac":void 0 === d && (d=a(48387).w);h=6;k && (k=new c.W8(k),h=(0,n.zjc)(k).ola);e=d(e,f,l,{ola:h}).MLa;break;case "ddp":void 0 === g && (g=a(10543).w);e=g(e,f,{cN:m}).MLa;break;default:throw Error("Unrecognized codec in fadeFrame: " + h);}return {A3b:e};};c=a(5641);n=a(57042);},81969:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(5163).__exportStar(a(71210),b);},66988:function(r,b){var a,c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.SK=void 0;r={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Rla:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dash standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Rla:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,Rla:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};n={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,Rla:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};b.SK={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":n},reset:{"heaac-2-dash":r,"heaac-2hq-dash":r},"heaac-2-dash":r,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":n};},40755:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.gWa=b.HSa=void 0;c=a(5163);r=(function(n){function d(){var g;g=null !== n && n.apply(this,arguments) || this;g.SL=1536;return g;}c.__extends(d,n);d.Vc=!0;return d;})(a(70428).default);b["default"]=r;a=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.Xd="ac-3";return d;})(r);b.HSa=a;r=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.Xd="ec-3";return d;})(r);b.gWa=r;},26856:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.prototype.parse=function(){this.J3b=this.I.Ta(2);this.tRb=this.I.Ta(5);this.uRb=this.I.Ta(3);this.DNb=this.I.Ta(3);this.I.Ta(1);this.I.Ta(5);this.I.Ta(5);return !0;};d.Xd="dac3";return d;})(a(72905).bf);b["default"]=r;},56226:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.prototype.parse=function(g){this.I.Ta(1);this.I.Ta(7);this.Gub=this.I.Ta(3);this.Fub=this.I.Ta(5);this.Hub=this.I.Ta(1);this.Sib=this.I.Ta(1);this.gyb=this.I.Ta(1);this.Xnb=this.I.Ta(1);this.uab=this.I.Ta(1);this.vab=this.I.Ta(1);this.tab=this.I.Ta(2);this.I.Ta(3);(this.RHa=this.I.Ta(1))?this.Ejb=this.I.Ta(4):this.I.Ta(4);g && g.IQb && (g.IQb={Gub:this.Gub,Fub:this.Fub,Hub:this.Hub,Sib:this.Sib,gyb:this.gyb,Xnb:this.Xnb,uab:this.uab,vab:this.vab,tab:this.tab,RHa:this.RHa,Ejb:this.Ejb});return !0;};d.Xd="av1C";return d;})(a(72905).bf);b["default"]=r;},18319:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.prototype.parse=function(g){var e;this.FUb=this.I.Xc();this.SAb=this.I.Xc();this.I.Xc();this.I.Xc();this.Bcc=this.I.Xc() & 3;this.Wla=this.fya(this.I.Xc() & 31);this.mrb=this.fya(this.I.Xc());this.$U=this.Wla.length?this.Wla[0][1]:this.SAb;this.z7a=this.I.offset;this.startOffset + this.length < this.I.offset && (100 === this.$U || 110 === this.$U || 122 === this.$U || 144 === this.$U) && (this.I.Xc(),this.I.Xc(),this.fya(this.I.Xc()));e=this.startOffset + this.length - this.z7a;0 < e && this.Eo(e,this.z7a);g && g.Wza && (g.Wza.Wla=this.Wla,g.Wza.mrb=this.mrb,g.Wza.$U=this.$U);return !0;};d.prototype.fya=function(g){var l;for(var e=[],f=0;f < g;++f){l=this.I.zg();e.push(this.I.X5(l));}return e;};d.Xd="avcC";d.Vc=!1;return d;})(a(72905).bf);b["default"]=r;},70428:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);n=a(72905);r=(function(d){function g(){return null !== d && d.apply(this,arguments) || this;}c.__extends(g,d);g.prototype.parse=function(e){var f;f=d.prototype.parse.call(this,e);this.I.offset+=8;this.TAa=this.I.zg();this.COa=this.I.zg();this.I.offset+=4;this.samplerate=this.I.zg();this.I.offset+=2;n.G && this.I.console.trace("MP4AudioSampleEntry: channelcount: " + this.TAa + ", samplesize: " + this.COa + ", samplerate: " + this.samplerate);if(null === e || void 0 === e?0:e.Se)(e.Se.TAa=this.TAa,e.Se.COa=this.COa,e.Se.samplerate=this.samplerate);return f;};g.Vc=!1;return g;})(a(71724).default);b["default"]=r;},29973:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.prototype.parse=function(){this.Hc=this.RA([{BGc:"int32"},{maxBitrate:"int32"},{Eca:"int32"}]);return !0;};d.Xd="btrt";d.Vc=!1;return d;})(a(72905).bf);b["default"]=r;},72905:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.bf=b.G=void 0;c=a(93334);b.G=!1;r=(function(){function n(d,g,e,f,l){this.jc=d;this.type=g;this.byteOffset=e;this.byteLength=f;this.parent=l;this.Yd={};this.wN=f;}n.eD=function(d,g){var f,h;function e(k){k && k.eD && (k=k.eD(g),k.length && (f=f.concat(k)));}f=[];d.type === g && f.push(d);if(d.Yd)for(var l in d.Yd){h=d.Yd[l];Array.isArray(h) && h.forEach(e);}return f;};n.L_=function(d,g){void 0 === d.Yd[g.type] && (d.Yd[g.type]=[]);d.Yd[g.type].push(g);};n.Hp=function(d,g){return n.eD(d,g)[0];};Object.defineProperties(n.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{length:{get:function(){return this.byteLength;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{I:{get:function(){return this.jc;},enumerable:!1,configurable:!0}});n.prototype.$g=function(){var d;d=this.jc.Lb();this.version=d >> 24;this.flags=d & 16777215;};n.prototype.L_=function(d){n.L_(this,d);};n.prototype.eD=function(d){return n.eD(this,d);};n.prototype.Hp=function(d){return n.Hp(this,d);};n.prototype.parse=function(){return !0;};n.prototype.O1=function(){return !0;};n.prototype.Cq=function(d){if((d=this.Yd[d]) && Array.isArray(d) && 1 === d.length)return d[0];};n.prototype.Eo=function(d,g){g=void 0 === g?this.jc.offset:g;(0,c.assert)(g >= this.startOffset + 8 && g + d <= this.startOffset + this.wN,"Removal range [0x" + g.toString(16) + "-0x" + (g + d).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.wN).toString(16) + ")");this.jc.Eo(d,g,this);};n.prototype.Uka=function(d,g,e){e=void 0 === e?this.jc.offset:e;(0,c.assert)(e >= this.startOffset + 8 && e + d <= this.startOffset + this.wN,"Removal range [0x" + e.toString(16) + "-0x" + (e + d).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.wN).toString(16) + ")");this.jc.Uka(d,g,e,this);};n.prototype.nsb=function(d,g,e){if(1 < e){for(var f=[];0 < e--;)f.push(this.E7a(d,g));return f;}return this.E7a(d,g);};n.prototype.RA=function(d){var g,e;e=this;void 0 === g && (g={});d.forEach(function(f){var l,h;if("offset" === f.type){l=f.offset;if(0 < l % 8)throw Error("Requested offset " + f.offset + "is not an even byte multiple");e.jc.offset+=l / 8;}else for(l in f){h=f[l];g[l]="string" === typeof h?e.nsb(h):e.nsb(h.type,h.length,h.JPb);}});return g;};n.prototype.E7a=function(d,g){var e;e=this.byteLength - this.jc.offset + this.startOffset;"undefined" === typeof g && (g=e);switch(d){case "int8":d=this.jc.Xc();break;case "int64":d=this.jc.Ek();break;case "int32":d=this.jc.Lb();break;case "int16":d=this.jc.zg();break;case "string":d=this.jc.BNa(Math.min(g,e));break;default:throw Error("Invalid type: " + d);}return d;};n.Vc=!1;return n;})();b.bf=r;},29043:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.prototype.parse=function(g){var e,f,l;e=this.I.offset;f=this.I.zg();this.ucb=f >> 3;this.qhc=f & 7;this.Cuc=[];for(f=0;f <= this.qhc;f++){l={J3b:this.I.Ta(2),tRb:this.I.Ta(5),uRb:this.I.Ta(5),DNb:this.I.Ta(3),MKc:this.I.Ta(1),stb:this.I.Ta(3),phc:this.I.Ta(4)};0 < l.phc?l.QGc=this.I.Ta(9):this.I.Ta(1);this.Cuc.push(l);}g && g.vdb && (g.vdb.ucb=this.ucb,2 <= this.byteLength - (this.I.offset - e) && (this.I.Ta(7),e=this.I.Ta(1),g.vdb.jGc=1 === e));return !0;};d.Xd="dec3";return d;})(a(72905).bf);b["default"]=r;},96345:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);n=a(47887);r=(function(d){function g(){return null !== d && d.apply(this,arguments) || this;}c.__extends(g,d);g.prototype.parse=function(e){this.$g();this.LDb=n.Kpa.isb(this.I,e);return !0;};g.Xd="esds";g.Vc=!1;return g;})(a(72905).bf);b["default"]=r;},96989:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.prototype.parse=function(g){var e,f,l,h,k,m,p;k=null === (h=null === (l=null === (f=null === (e=this.parent) || void 0 === e?void 0:e.parent) || void 0 === f?void 0:f.Hp("tkhd")) || void 0 === l?void 0:l.Hc) || void 0 === h?void 0:h.trackId;if("undefined" === typeof k)return !0;this.$g();e=this.I.Lb();this.n1=[];for(f=0;f < e;f++){l=1 === this.version?this.I.Ek():this.I.Lb();h=1 === this.version?this.I.Ek():this.I.Lb();m=this.I.zg();p=this.I.zg();this.n1.push({cNc:l,nfc:h,sLc:m,rLc:p});}if(null === g || void 0 === g || !g.vj || !g.vj[k])return !0;g.vj[k].n1=this.n1;return !0;};d.Xd="elst";d.Vc=!1;return d;})(a(72905).bf);b["default"]=r;},98776:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.prototype.parse=function(){return !0;};d.Xd="emeb";d.Vc=!1;return d;})(a(72905).bf);b["default"]=r;},29770:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);n=a(42328);r=(function(d){function g(e,f,l,h,k){return d.call(this,e,f,l,h,k) || this;}c.__extends(g,d);g.prototype.parse=function(){var e;this.$g();this.I.Lb();this.Mlc=this.I.msb();this.vS=this.I.Lb();4294967295 === this.vS && (this.vS=Infinity);this.id=this.I.Lb();this.MOa=this.I.BNa();if(this.MOa !== g.nqc)return !1;this.value=this.I.BNa();e=this.I.Y5(this.length - (this.I.offset - this.startOffset));e=new n.z3a(new DataView(e),this.I.console).parse();if(void 0 === e)return !1;this.message=e;return !0;};g.nqc="urn:scte:scte35:2013:bin";g.Xd="emib";g.Vc=!1;return g;})(a(72905).bf);b["default"]=r;},23471:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.prototype.parse=function(g){n.prototype.parse.call(this,g);return !0;};d.Xd="evte";d.Vc=!0;return d;})(a(99520).default);b["default"]=r;},19234:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.prototype.parse=function(){this.I.PA();this.I.PA();for(this.xBa=[];this.I.offset <= this.byteOffset + this.byteLength - 4;)this.xBa.push(this.I.PA());return !0;};d.Xd="ftyp";d.Vc=!1;return d;})(a(72905).bf);b["default"]=r;},89362:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.prototype.parse=function(g){this.AYb=this.I.PA();g && g.Se && (g.Se.Qpc=this.AYb);return !0;};d.Xd="frma";return d;})(a(72905).bf);b["default"]=r;},28721:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);n=a(32296);r=(function(d){function g(){return null !== d && d.apply(this,arguments) || this;}c.__extends(g,d);g.prototype.parse=function(e){var f,l,h,k,m;this.$g();this.Hc=this.RA([{qMc:"int32"},{UGa:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Hc.UGa=(0,n.hF)(this.Hc.UGa);if(e && e.vj){m=null === (k=null === (h=null === (l=null === (f=this.parent) || void 0 === f?void 0:f.parent) || void 0 === l?void 0:l.Hp("tkhd")) || void 0 === h?void 0:h.Hc) || void 0 === k?void 0:k.trackId;"number" === typeof m && e.vj[m] && (e.vj[m].$z=this.Hc.UGa);}return !0;};g.Xd="hdlr";g.Vc=!1;return g;})(a(72905).bf);b["default"]=r;},87206:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.prototype.parse=function(g){var m;this.GUb=this.I.Ta(8);this.Q3b=this.I.Ta(2);this.R3b=this.I.Ta(1);this.P3b=this.I.Ta(5);this.O3b=this.I.Ta(32);this.M3b=this.I.Ta(48);this.N3b=this.I.Ta(8);this.I.Ta(4);this.Xfc=this.I.Ta(12);this.I.Ta(6);this.xjc=this.I.Ta(2);this.I.Ta(6);this.BTb=this.I.Ta(2);this.I.Ta(5);this.fRb=this.I.Ta(3);this.I.Ta(5);this.eRb=this.I.Ta(3);this.KQb=this.I.Ta(16);this.MUb=this.I.Ta(2);this.ohc=this.I.Ta(3);this.lvc=this.I.Ta(1);this.Ccc=this.I.Ta(2);if(g && g.vg){g.vg.FUb=this.GUb;g.vg.cJc=this.Q3b;g.vg.dJc=this.R3b;g.vg.bJc=this.P3b;g.vg.aJc=this.O3b;g.vg.ZIc=this.M3b;g.vg.$Ic=this.N3b;g.vg.HLc=this.Xfc;g.vg.eMc=this.xjc;g.vg.TGc=this.BTb;g.vg.xGc=this.fRb;g.vg.wGc=this.eRb;g.vg.tGc=this.KQb;g.vg.gHc=this.MUb;g.vg.ULc=this.ohc;g.vg.HNc=this.lvc;g.vg.Bcc=this.Ccc;for(var e=this.I.Ta(8),f=0;f < e;f++){this.I.Ta(1);this.I.Ta(1);for(var l=this.I.Ta(6),h=this.I.Ta(16),k=0;k < h;k++){m=this.I.Ta(16);m=this.I.X5(m);switch(l){case 32:g.vg.Ezb || (g.vg.Ezb=[]);g.vg.Ezb.push(m);break;case 33:g.vg.Iub || (g.vg.Iub=[]);g.vg.Iub.push(m);break;case 34:g.vg.Fqb || (g.vg.Fqb=[]);g.vg.Fqb.push(m);break;case 39:case 40:(g.vg.Rwb || (g.vg.Rwb=[]),g.vg.Rwb.push(m));}}}}return !0;};d.Xd="hvcC";return d;})(a(72905).bf);b["default"]=r;},97066:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);n=a(93334);r=(function(d){function g(){return null !== d && d.apply(this,arguments) || this;}c.__extends(g,d);g.prototype.O1=function(){var e;e=this.Hp("esds");if(e=e && e.LDb.Hp(5))((0,n.assert)(this.samplerate),this.SL=e.SL * this.samplerate / e.nla);return !0;};g.Xd="mp4a";g.Vc=!0;return g;})(a(70428).default);b["default"]=r;},99520:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.prototype.parse=function(g){n.prototype.parse.call(this,g);return !0;};return d;})(a(71724).default);b["default"]=r;},56122:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},71368:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.prototype.parse=function(){this.$g();this.Hc=1 === this.version?this.RA([{creationTime:"int64"},{modificationTime:"int64"},{O:"int32"},{duration:"int64"}]):this.RA([{creationTime:"int32"},{modificationTime:"int32"},{O:"int32"},{duration:"int32"}]);return !0;};d.Xd="mvhd";d.Vc=!1;return d;})(a(72905).bf);b["default"]=r;},16530:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.Vc=!1;return d;})(a(72905).bf);b["default"]=r;},45645:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.prototype.parse=function(){this.$g();this.Hc=this.RA(1 === this.version?[{RL:"int64"}]:[{RL:"int32"}]);return !0;};d.Xd="mehd";d.Vc=!1;return d;})(a(72905).bf);b["default"]=r;},31025:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=a(75589);a=a(72905);n=r.Rsa;a=(function(d){function g(){return null !== d && d.apply(this,arguments) || this;}c.__extends(g,d);g.prototype.parse=function(){this.$g();this.Hc=this.RA([{Zx:"int32"},{dv:"int16"}]);return !0;};g.Xd=n;g.Vc=!1;return g;})(a.bf);b["default"]=a;},91056:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);n=a(75589);r=a(72905);d=n.Ssa;r=(function(g){function e(){return null !== g && g.apply(this,arguments) || this;}c.__extends(e,g);e.prototype.parse=function(){this.$g();this.fileSize=this.I.Ek();this.O=this.I.Ek();this.duration=this.I.Ek(!1,!0);this.Ghc=this.I.Ek();this.I.Ek();this.Khc=this.I.Ek();this.Pgc=this.I.Lb();this.Hhc=this.I.Ek();this.$2b=this.I.Lb();this.I.Lka();this.sn={moof:{offset:this.Ghc},sidx:{offset:this.Hhc,size:this.$2b}};this.sn[n.W_a]={offset:this.Khc,size:this.Pgc};this.I.offset - this.startOffset <= this.length - 24 && (this.Jhc=this.I.Ek(),this.ygc=this.I.Lb(),this.Ihc=this.I.Ek(),this.xgc=this.I.Lb(),this.sn[n.r$]={offset:this.Jhc,size:this.ygc},this.sn[n.q$]={offset:this.Ihc,size:this.xgc});return !0;};e.Xd=d;e.Vc=!1;return e;})(r.bf);b["default"]=r;},64280:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=a(75589);a=a(72905);n=r.Tsa;a=(function(d){function g(){return null !== d && d.apply(this,arguments) || this;}c.__extends(g,d);g.prototype.parse=function(){var e,h,k;this.$g();1 <= this.version && this.I.Lka();e=this.I.Lb();this.sn={};for(var f=this.startOffset + this.length,l=0;l < e;++l){h=this.I.PA();"uuid" === h && (h=this.I.Lka());k=this.I.Ek();this.sn[h]={offset:f,size:k};f+=k;}return !0;};g.Xd=n;g.Vc=!1;return g;})(a.bf);b["default"]=a;},35503:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.prototype.parse=function(g){this.Hc=this.RA([{R9b:"int32"},{hyc:"int32"}]);if(null === g || void 0 === g?0:g.Se)(g.Se.FJc=this.Hc.R9b,g.Se.mOc=this.Hc.hyc);return !0;};d.Xd="pasp";d.Vc=!1;return d;})(a(72905).bf);b["default"]=r;},84379:function(r,b,a){var c,n,d,g,e;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);n=a(75589);d=a(49420);g=a(70428);r=a(72905);e=a(41192);a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.$g();this.DL=this.I.Lb();return !0;};l.prototype.O1=function(h){var k;k=Object.keys(this.Yd);k.length && (k=k[0],this.Yd[k].length && (k=this.Yd[k][0],k instanceof g.default?this.za=new d.K(k.SL,k.samplerate):k instanceof e.default && (k=k.Yd[n.Rsa]) && k.length && (k=k[0].Hc,1E3 !== k.dv && 1001 !== k.dv || 0 !== k.Zx % 1E3?this.I.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + k.Zx + "/" + k.dv):this.za=new d.K(k.dv,k.Zx)),h && this.za && (h.za=this.za)));return !0;};l.prototype.Vsb=function(h){void 0 !== this.Yd[h] && 0 !== this.Yd[h].length && (this.jc.Dy(this.DL - 1,this.byteOffset + 12),h=this.Yd[h][0],this.Eo(h.byteLength,h.byteOffset));};l.Xd="stsd";l.Vc=!0;return l;})(r.bf);b["default"]=a;},71724:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=a(72905);n=a(72905);a=(function(d){function g(){return null !== d && d.apply(this,arguments) || this;}c.__extends(g,d);g.prototype.parse=function(e){this.I.offset+=6;this.I.zg();n.G && this.I.console.trace("VideoSampleEntry sampleEntryType: " + this.type);if(null === e || void 0 === e?0:e.Se)e.Se.Qpc=this.type;return !0;};return g;})(r.bf);b["default"]=a;},41116:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);n=a(72905);r=(function(d){function g(){return null !== d && d.apply(this,arguments) || this;}c.__extends(g,d);g.prototype.parse=function(e){this.$g();this.NOa=this.I.PA();n.G && this.I.console.trace("SchemeTypeBoxTranslator: " + this.NOa);if("cenc" === this.NOa){if((this.I.offset-=4,n.G && this.I.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.I.offset),this.jc.kAb("piff"),null === e || void 0 === e?0:e.Se))e.Se.Y0b="piff";}else if(null === e || void 0 === e?0:e.Se)e.Se.Y0b=this.NOa;this.I.Lb();return !0;};g.Xd="schm";g.Vc=!1;return g;})(n.bf);b["default"]=r;},95797:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);n=a(26388);d=a(49420);r=(function(g){function e(){return null !== g && g.apply(this,arguments) || this;}c.__extends(e,g);e.prototype.O1=function(f){var l;if(f && f.za && !f.$ic && f.mediaType === n.u.X){l=this.Cq("mdia");l && (l=l.Cq("mdhd")) && l.O !== f.za.O && (f.za=new d.K(f.za).Yc(l.O));}return !0;};e.Xd="trak";e.Vc=!0;return e;})(a(72905).bf);b["default"]=r;},30717:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.prototype.parse=function(g){var e,f,l,h,k;this.$g();e=this.RA([{rW:"int32"},{SCa:"int32"},{Kz:"int32"},{Lz:"int32"},{VC:"int32"}]);f=e.rW;l=e.SCa;h=e.Kz;k=e.VC;e=e.Lz;this.Hc={trackId:f,FHc:l,Rda:h,GHc:k,HHc:e};(null === g || void 0 === g?0:g.vj) && g.vj[f] && (g.vj[f].SCa=l,g.vj[f].Kz=h,g.vj[f].VC=k,g.vj[f].Lz=e);this.rW=f;this.SCa=l;this.Kz=h;this.Lz=e;this.VC=k;return !0;};d.Xd="trex";d.Vc=!1;return d;})(a(72905).bf);b["default"]=r;},85571:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.prototype.parse=function(g){var e;this.$g();e=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];e=e.concat({offset:64,type:"offset"},{KKc:"int16"},{eGc:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Hc=this.RA(e);this.Hc.VNc=!!(this.flags & 1);this.Hc.WNc=!!(this.flags & 2);this.Hc.XNc=!!(this.flags & 4);this.Hc.YNc=!!(this.flags & 8);if(null === g || void 0 === g?0:g.Se)(g.Se.width=this.Hc.width / 65536,g.Se.height=this.Hc.height / 65536);g && g.vj && (g.vj[this.Hc.trackId]={});return !0;};d.Xd="tkhd";d.Vc=!1;return d;})(a(72905).bf);b["default"]=r;},70179:function(r,b,a){var c,n,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.BZ=void 0;c=a(5163);n=a(81969);d=a(93334);g=a(66988);r=(function(e){function f(l,h,k,m,p){l=e.call(this,l,h,k,m,p) || this;l.tea=!1;return l;}c.__extends(f,e);Object.defineProperties(f.prototype,{tcb:{get:function(){return !!(this.flags & 1);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Xea:{get:function(){return !!(this.flags & 4);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{I6:{get:function(){return !!(this.flags & 256);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{K6:{get:function(){return !!(this.flags & 512);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{BOa:{get:function(){return !!(this.flags & 1024);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{lla:{get:function(){return !!(this.flags & 2048);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{V2b:{get:function(){return this.lla?(this.I.offset=this.Tz + this.yV - 4,0 === this.version?this.I.Lb():this.I.Z5()):0;},enumerable:!1,configurable:!0}});f.prototype.parse=function(l){var h,k,m;this.$g();this.hAa=this.I.offset;this.Bd=this.I.Lb();this.tk=this.tcb?this.I.Z5():0;this.a3b=this.Xea?this.I.Lb():void 0;this.yV=(this.I6?4:0) + (this.K6?4:0) + (this.BOa?4:0) + (this.lla?4:0);this.Tz=this.I.offset;(0,d.assert)(this.tcb,"Expected data offset to be present in Track Run");(0,d.assert)(this.length - (this.I.offset - this.startOffset) === this.Bd * this.yV,"Expected remaining data in box to be sample information");if(l && l.Na){l.Na.tk=this.tk;l.Na.Bd=this.Bd;this.$j=[];m=null === (k=null === (h=this.parent) || void 0 === h?void 0:h.Hp("tfhd")) || void 0 === k?void 0:k.rW;for(h=0;h < this.Bd;h++)(k={},this.I6?k.AV=this.I.Lb():l.Na.Kz?k.AV=l.Na.Kz:m && l.vj && l.vj[m] && (k.AV=l.vj[m].Kz),this.K6?k.aE=this.I.Lb():l.Na?k.aE=l.Na.Lz:m && l.vj && l.vj[m] && (k.aE=l.vj[m].Lz),this.BOa?k.mla=this.I.Lb():l.Na?k.mla=l.Na.VC:m && l.vj && l.vj[m] && (k.mla=l.vj[m].VC),this.lla && (k.Tpc=0 === this.version?this.I.Lb():this.I.Z5()),0 === h && this.Xea && (k.mla=this.a3b),this.$j.push(k));l.Na.$j=this.$j;if(l.Na.iO)for(((0,d.assert)(l.Na.iO.length === l.Na.$j.length,("num fragment samples: ").concat(l.Na.$j.length,", ") + ("num samples in auxiliary info: ").concat(l.Na.iO.length)),m=0);m < l.Na.$j.length;m++)(l.Na.$j[m].Lqa=l.Na.iO[m].Lqa,l.Na.$j[m].IQa=l.Na.iO[m].IQa);}return !0;};f.prototype.wba=function(l,h,k){var m,p,v;m=this.I6?this.I.Lb():l.Kz;p=this.K6?this.I.Lb():l.Lz;l=this.BOa?this.I.Lb():l.VC;v=this.lla?0 === this.version?this.I.Lb():this.I.Z5():0;return {Spc:v,mla:l,aE:p,AV:m,uMc:(k || 0) + v - (void 0 !== h?h:v)};};f.prototype.fnc=function(l){(0,d.assert)(void 0 !== this.tk);(0,d.assert)(void 0 !== this.Tz);(0,d.assert)(void 0 !== this.Bd);(0,d.assert)(void 0 !== this.yV);if(!this.K6)return Array.from({length:this.Bd},function(){return l.Lz;});this.I.offset=this.Tz;for(var h=[],k=this.Tz + (this.I6?4:0),m=0;m < this.Bd;(++m,k+=this.yV))h.push(this.I.view.getUint32(k,!1));return h;};f.prototype.sa=function(l,h,k,m,p,v,q){var u,t,w,x;(0,d.assert)(void 0 !== this.tk);(0,d.assert)(void 0 !== this.Tz);(0,d.assert)(void 0 !== this.hAa);(0,d.assert)(void 0 !== this.Bd);(0,d.assert)(void 0 !== l.fx);u=0;t=0;this.jc.offset=this.Tz;for(m=0;m < p;++m){w=this.wba(h,x,t);if(0 === m)x=w.Spc;u+=w.aE;t+=w.AV;}m=p;p=this.I.offset;w=this.wba(h,x,t);this.SNa=q;this.PV=m;this.Vvb=t;if(q){if((this.Zsb=this.tk + u,this.jV=0,m === this.Bd))return !0;}else if((this.Zsb=this.tk,this.jV=u,0 === m))return !0;if(0 === m || m === this.Bd)return !1;this.tea=!0;if(q){this.jV+=w.aE;for(q=m + 1;q < this.Bd;++q)(w=this.wba(h,x,t),this.jV+=w.aE);this.jc.offset=this.hAa;this.Bd=m;this.jc.Dy(this.Bd);this.jc.ESa(v);this.Xea && (this.I.offset+=4);this.Eo(this.length - (p - this.startOffset),p);}else (h=p - this.Tz,this.Tz=p,this.jc.offset=this.hAa,this.Bd-=m,this.jc.Dy(this.Bd),this.tk+=u,this.jc.ESa(v,this.tk),this.Xea && (this.I.offset+=4),this.Eo(h,this.jc.offset));null === k || void 0 === k?void 0:k.Eo(this.jV,l.fx + this.Zsb);return !0;};f.prototype.ggc=function(l,h,k,m,p,v,q,u){var t,x,z,y,A;void 0 === q && (q=!1);(0,d.assert)(void 0 !== this.tk);(0,d.assert)(void 0 !== this.Tz);(0,d.assert)(void 0 !== this.Bd);(0,d.assert)(void 0 !== this.yV);(0,d.assert)(void 0 !== l.fx);for(var w=m.length;w < this.Bd;++w)m[w]=m[w - 1];m.some(function(B){return 0 >= B;}) && (x=null === (t=this.gLb(p,v)) || void 0 === t?void 0:t.Rla);this.I.offset=this.Tz;l=l.fx + this.tk;p=-1 !== p.indexOf("heaac")?"aac":"ddp";v=new Uint8Array(this.I.view.buffer,this.I.view.byteOffset,this.I.view.byteLength);for(w=0;w < this.Bd;++w){t=this.wba(h).aE;if(-Infinity === m[w]){if(x && this.K6){k.Uka(t,x,l);z=this.yV - (this.I6?4:0);this.jc.offset-=z;this.jc.Dy(x.byteLength);this.jc.offset+=z - 4;}}else if(0 > m[w])try{y=v.subarray(l,l + t);A=(0,n.V1b)({yd:p,frame:y,BC:m[w],gO:q,cN:u}).A3b;A !== t && this.I.console.error(("TrackRunBoxEditor: parse frame size error ").concat(A," should be ").concat(t));}catch(B){this.I.console.error(("TrackRunBoxEditor: fadeFrame error: ").concat(B.message," ").concat(B.stack));}l+=t;}};f.prototype.gLb=function(l,h){if("string" === typeof h)return ((0,d.assert)("reset" !== h && "standard" !== h),g.SK[h]);if(void 0 !== l)return h?g.SK.reset[l] || g.SK.standard[l]:g.SK.standard[l];};f.Xd="trun";f.Vc=!1;return f;})(a(72905).bf);b.BZ=r;},41192:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.OSa=b.yXa=b.MXa=b.SSa=b.RSa=b.QSa=b.PSa=void 0;c=a(5163);r=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.prototype.parse=function(g){n.prototype.parse.call(this,g);this.Hc=this.RA([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{RJc:"int32"},{nOc:"int32"},{offset:32,type:"offset"},{PIc:"int16"},{cHc:{type:"int8",JPb:32}},{depth:"int16"},{offset:16,type:"offset"}]);if(null === g || void 0 === g?0:g.Se)(g.Se.width=this.Hc.width,g.Se.height=this.Hc.height);return !0;};d.Vc=!0;return d;})(a(71724).default);b["default"]=r;a=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.Xd="avc1";return d;})(r);b.PSa=a;a=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.Xd="avc2";return d;})(r);b.QSa=a;a=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.Xd="avc3";return d;})(r);b.RSa=a;a=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.Xd="avc4";return d;})(r);b.SSa=a;a=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.Xd="hvc1";return d;})(r);b.MXa=a;a=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.Xd="hev1";return d;})(r);b.yXa=a;r=(function(n){function d(){return null !== n && n.apply(this,arguments) || this;}c.__extends(d,n);d.Xd="av01";return d;})(r);b.OSa=r;},25564:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.gX=void 0;c=a(5163);n=a(72905);d=a(32296);r=(function(g){function e(f,l,h,k,m){h=g.call(this,h,k,m) || this;h.nRb=f;h.XV=l;h.Yd={};return h;}c.__extends(e,g);e.prototype.parse=function(f){var l,h,k,m,p,v;this.offset=0;l=[];for(f=f || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){h=this.offset;k=this.Lb();if(0 === k)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};m=(0,d.hF)(this.Lb());if(null === m)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === m){if(16 > this.view.byteLength - this.offset)break;m=this.Lka();}if(0 === l.length && this.XV.wfb(m,h,k)){this.offset=h;break;}if(h + k > this.view.byteLength){this.offset=h;break;}p=this.nRb[m];v=void 0;if(p){if((v=new p(this,m,h,k,l[0]),(l[0] || this).L_(v),v.parse(f)))this.config.Oja && p.Vc?l.unshift(v):this.offset=h + k;else return {done:!1,offset:this.offset,error:"parse error in " + m + " box"};}else this.offset=h + k;for(;l.length && this.offset > l[0].byteOffset + l[0].wN - 8;){v=l.shift();if(!v.O1(f))return {done:!1,offset:this.offset,error:"finalize error in " + v.type + " box"};this.offset=v.byteOffset + v.wN;}if(0 === l.length && this.XV.gdb(m,h,k,v))break;}return !this.XV.done && (f=this.XV.endOffset?this.XV.endOffset - this.view.byteLength:4096,0 < f)?{done:!1,offset:this.offset,job:f}:{done:!0,offset:Math.min(this.XV.endOffset || Infinity,this.offset)};};e.prototype.L_=function(f){n.bf.L_(this,f);};return e;})(a(56445).C5a);b.gX=r;},2050:function(r){var c,n;function b(){var d,g;if(DataView.prototype && DataView.prototype.W2 && !n){try{d=new ArrayBuffer(4);g=new DataView(d);g.gT(0,4,1);}catch(e){return;}try{d=new ArrayBuffer(4);g=new DataView(d);g.gT(1,2,2);}catch(e){DataView.prototype.gT=a(DataView.prototype.gT,DataView.prototype.getUint8,Uint8Array);DataView.prototype.cga=a(DataView.prototype.cga,DataView.prototype.getUint16,Uint16Array);DataView.prototype.W2=a(DataView.prototype.W2,DataView.prototype.getUint32,Uint32Array);DataView.prototype.MFa=a(DataView.prototype.MFa,DataView.prototype.getInt8,Int8Array);DataView.prototype.KFa=a(DataView.prototype.KFa,DataView.prototype.getInt16,Int16Array);DataView.prototype.LFa=a(DataView.prototype.LFa,DataView.prototype.getInt32,Int32Array);}c.y8b=function(e,f,l,h,k){return l?e.gT(f,l,h || 1,k):new Uint8Array(0);};c.w8b=function(e,f,l,h,k){return l?e.cga(f,l,h || 2,k):new Uint16Array(0);};c.x8b=function(e,f,l,h,k){return l?e.W2(f,l,h || 4,k):new Uint32Array(0);};c.qJc=function(e,f,l,h,k){return l?e.MFa(f,l,h || 1,k):new Int8Array(0);};c.oJc=function(e,f,l,h,k){return l?e.KFa(f,l,h || 2,k):new Int16Array(0);};c.pJc=function(e,f,l,h,k){return l?e.LFa(f,l,h || 4,k):new Int32Array(0);};n=!0;}}function a(d,g,e){return function(f,l,h,k){var m;h=h || e.BYTES_PER_ELEMENT;if(f + l * h > this.byteLength){m=new e(l);m.set(d.call(this,f,l - 1,h,k));m[l - 1]=g.call(this,f + (l - 1 * h),k);return m;}return d.call(this,f,l,h,k);};}c={gT:function(d,g,e,f,l){var h;h=new Uint8Array(e);f=f || 1;for(var k=0;k < e;(++k,g+=f))h[k]=d.getUint8(g,l);return h;},cga:function(d,g,e,f,l){var h;h=new Uint16Array(e);f=f || 2;for(var k=0;k < e;(++k,g+=f))h[k]=d.getUint16(g,l);return h;},W2:function(d,g,e,f,l){var h;h=new Uint32Array(e);f=f || 4;for(var k=0;k < e;(++k,g+=f))h[k]=d.getUint32(g,l);return h;},MFa:function(d,g,e,f,l){var h;h=new Int8Array(e);f=f || 1;for(var k=0;k < e;(++k,g+=f))h[k]=d.getInt8(g,l);return h;},KFa:function(d,g,e,f,l){var h;h=new Int16Array(e);f=f || 2;for(var k=0;k < e;(++k,g+=f))h[k]=d.getInt16(g,l);return h;},LFa:function(d,g,e,f,l){var h;h=new Int32Array(e);f=f || 4;for(var k=0;k < e;(++k,g+=f))h[k]=d.getInt32(g,l);return h;},xIc:b};n=!1;c.d5b=function(){return n;};b();r.exports=c;},59909:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.lpa=void 0;c=a(5163);n=a(72905);r=(function(d){function g(){return null !== d && d.apply(this,arguments) || this;}c.__extends(g,d);g.prototype.parse=function(e){var f;this.gja=this.I.Xc();f=this.I.Xc();this.AQa=f >>> 2;this.MRa=f >>> 1 & 1;this.pAa=256 * this.I.zg() + this.I.Xc();this.maxBitrate=this.I.Lb();this.Eca=this.I.Lb();n.G && this.I.console.trace("DecoderConfigDescriptor: objectTypeIndication= 0x" + this.gja.toString(16) + ", streamType=" + this.AQa + ", upStream=" + this.MRa + ", bufferSizeDB=" + this.pAa + ", maxBitrate=" + this.maxBitrate + ", avgBitrate=" + this.Eca);if(null === e || void 0 === e?0:e.uk)(e.uk.gja=this.gja,e.uk.AQa=this.AQa,e.uk.MRa=this.MRa,e.uk.pAa=this.pAa,e.uk.maxBitrate=this.maxBitrate,e.uk.Eca=this.Eca);this.D7a(e);return !0;};g.tag=4;return g;})(a(91578).s9);b.lpa=r;},27364:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.GVa=void 0;c=a(5163);n=a(72905);r=a(91578);d=a(47887);a=(function(g){function e(){return null !== g && g.apply(this,arguments) || this;}c.__extends(e,g);e.prototype.Kka=function(){var f;f=this.I.Ta(4);return 15 !== f?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][f]:this.I.Ta(24);};e.prototype.parse=function(f,l){if(this.Aac(l) && 64 === l.gja){if(null === f || void 0 === f?0:f.uk){l=this.I.kgb(this.length);for(var h=new ArrayBuffer(this.length),k=new Uint8Array(h),m=0;m < this.length;m++)k[m]=l.getUint8(m);f.uk.EHc=h;}l=this.I.offset;this.Ps=this.zNa();this.nla=this.Kka();this.SAa=this.I.Ta(4);this.EOa=this.xS=5 === this.Ps || 29 === this.Ps?5:-1;this.Dka=29 === this.Ps?1:-1;0 < this.xS && (this.K1=this.Kka(),this.Ps=this.zNa(),22 === this.Ps && (this.Oea=this.I.Ta(4)));switch(this.Ps){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.b2=this.I.Ta(1),this.YBa=(this.yZb=this.I.Ta(1))?this.I.Ta(14):void 0,this.I.Ta(1),this.SL=3 === this.Ps?256:23 === this.Ps?this.b2?480:512:this.b2?960:1024);}k=8 * (this.length - (this.I.offset - l)) + this.I.Kd;5 !== this.xS && 16 <= k && (k=this.I.Ta(11),695 === k && (h=this.zNa(),5 === h && (k=this.I.Ta(1),1 === k && (this.K1=this.Kka(),k=8 * (this.length - (this.I.offset - l)) + this.I.Kd,12 <= k && (k=this.I.Ta(11),1352 === k && (this.Dka=this.I.Ta(1))))),22 === h && (k=this.I.Ta(1),1 === k && (this.K1=this.Kka()),this.Oea=this.I.Ta(4))));n.G && this.I.console.trace("AudioSpecificConfig: audioObjectType=" + this.Ps + ", samplingFrequency=" + this.nla + ", channelConfiguration=" + this.SAa + ", extensionAudioObjectType=" + this.xS + ", sbrPresentFlag=" + this.EOa + ", psPresentFlag=" + this.Dka + ", extensionSamplingFrequency=" + this.K1 + ", extensionChannelConfiguration=" + this.Oea + ", frameLengthFlag=" + this.b2 + ", coreCoderDelay=" + this.YBa + ", frameLength=" + this.SL);if(null === f || void 0 === f?0:f.uk)(f.uk.Ps=this.Ps,f.uk.nla=this.nla,f.uk.SAa=this.SAa,f.uk.xS=this.xS,f.uk.EOa=this.EOa,f.uk.Dka=this.Dka,f.uk.K1=this.K1,f.uk.Oea=this.Oea,f.uk.b2=this.b2,f.uk.YBa=this.YBa,f.uk.SL=this.SL);}this.skip();return !0;};e.prototype.zNa=function(){var f;f=this.I.Ta(5);31 === f && (f=32 + this.I.Ta(6));return f;};e.prototype.Aac=function(f){return f.tag === d.lpa.tag;};e.tag=5;return e;})(r.s9);b.GVa=a;},91578:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.s9=void 0;c=a(5163);n=a(47887);r=(function(){function d(g,e,f){this.tag=g;this.view=e;this.I=f;this.startOffset=f.offset;}d.isb=function(g,e,f){var l,h;l=g.Xc();h=g.bnc();g=new (n.oL[l] || d)(l,g.kgb(h),g);g.parse(e,f);return g;};Object.defineProperties(d.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!1,configurable:!0}});d.prototype.parse=function(){this.I.offset=this.startOffset + this.length;this.I.Kd=0;return !0;};d.prototype.Reb=function(g){var e,l;e=[];this.tag === g && e.push(this);if(this.oL)for(var f=0;f < this.oL.length;f++){l=this.oL[f];e=c.__spreadArray(c.__spreadArray([],e,!0),l.Reb(g),!0);}return e;};d.prototype.Hp=function(g){for(g=this.Reb(g);0 < g.length;)return g[0];};d.prototype.D7a=function(g){for(this.oL=[];this.I.offset < this.startOffset + this.length;)this.oL.push(d.isb(this.I,g,this));};return d;})();b.s9=r;r.prototype.skip=r.prototype.parse;},47887:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.oL=void 0;r=a(5163);r.__exportStar(a(91578),b);r.__exportStar(a(48823),b);r.__exportStar(a(59909),b);r.__exportStar(a(27364),b);r=a(59909);c=a(27364);a=a(48823);b.oL={3:a.Kpa,4:r.lpa,5:c.GVa};},48823:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Kpa=void 0;c=a(5163);n=a(72905);r=(function(d){function g(){return null !== d && d.apply(this,arguments) || this;}c.__extends(g,d);g.prototype.parse=function(e){var f;this.MDb=this.I.zg();f=this.I.Xc();this.Awb=!!(f & 128);this.k5a=!!(f & 64);this.t0a=!!(f & 32);this.iuc=f & 31;this.zZb=this.Awb?this.I.zg():void 0;this.k5a && this.I.X5(this.I.Xc());this.LGb=this.t0a?this.I.zg():void 0;n.G && this.I.console.trace("ESDescriptor: ES_ID=" + this.MDb + ", streamDependenceFlag=" + this.Awb + ", URL_Flag=" + this.k5a + ", OCRstreamFlag=" + this.t0a + ", streamPriority=" + this.iuc + ", dependsOn_ES_ID=" + this.zZb + ", OCR_ES_Id=" + this.LGb);this.D7a(e);return !0;};g.tag=3;return g;})(a(91578).s9);b.Kpa=r;},91562:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.u=b.SK=b.maa=b.mwa=b.hDb=b.BZ=b.R4a=b.S4a=b.x_a=b.hF=b.UE=b.FY=b.YY=b.QT=b.xw=b.ww=b.Sk=void 0;r=a(98516);c=a(2050);b.hDb=c;c=a(24500);b.mwa=c;c=a(66988);b.SK=c;b.maa=r.kU.Yd.sidx;n=a(43607);Object.defineProperties(b,{Sk:{enumerable:!0,get:function(){return n.Sk;}}});d=a(87349);Object.defineProperties(b,{ww:{enumerable:!0,get:function(){return d.ww;}}});g=a(66789);Object.defineProperties(b,{xw:{enumerable:!0,get:function(){return g.xw;}}});Object.defineProperties(b,{QT:{enumerable:!0,get:function(){return g.QT;}}});e=a(72978);Object.defineProperties(b,{YY:{enumerable:!0,get:function(){return e.YY;}}});f=a(47407);Object.defineProperties(b,{FY:{enumerable:!0,get:function(){return f.FY;}}});l=a(35982);Object.defineProperties(b,{UE:{enumerable:!0,get:function(){return l.UE;}}});h=a(32296);Object.defineProperties(b,{hF:{enumerable:!0,get:function(){return h.hF;}}});k=a(98516);Object.defineProperties(b,{x_a:{enumerable:!0,get:function(){return k.x_a;}}});Object.defineProperties(b,{S4a:{enumerable:!0,get:function(){return k.S4a;}}});Object.defineProperties(b,{R4a:{enumerable:!0,get:function(){return k.R4a;}}});m=a(70179);Object.defineProperties(b,{BZ:{enumerable:!0,get:function(){return m.BZ;}}});p=a(61049);Object.defineProperties(b,{u:{enumerable:!0,get:function(){return p.u;}}});},47407:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.FY=void 0;c=a(5163);r=a(87349);n=a(89931);a=(function(d){function g(){return null !== d && d.apply(this,arguments) || this;}c.__extends(g,d);g.prototype.sa=function(e){var f,l,h,k;f=this;if(!this.parse().done)return !1;l=this.Yd.moov;if(!l || 0 === l.length)return !1;h=l[0].Hp("tenc");if(!h)return !1;k=new Uint8Array(h.so);e.forEach(function(m){for(var p=m.from,v=!0,q=0;q < p.length;q++)if(k[q] !== p[q]){v=!1;break;}v && f.te.Uka(m.from.length,m.to,h.IIa);});return (0,n.concat)(this.te.sa().Na);};return g;})(r.ww);b.FY=a;},61049:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.u=void 0;c=a(26388);Object.defineProperties(b,{u:{enumerable:!0,get:function(){return c.u;}}});},98516:function(r,b,a){var D,E,F,G,J,N,I,M,K,L,H,O,P,Q,S,X,W,V,fa,ba,ca,ia,na,oa,T,Z,aa,R,Y,ea,ka,ha,U,da,la,pa,va,sa,ua;function c(ma,ra,wa,ya,za){G.call(this,ma,ra,wa,ya,za);}function n(ma,ra,wa,ya,za){G.call(this,ma,ra,wa,ya,za);}function d(ma,ra,wa,ya,za){G.call(this,ma,ra,wa,ya,za);}function g(ma,ra,wa,ya,za){G.call(this,ma,ra,wa,ya,za);this.XPa=ma.config.XPa;this.Tf=this.sizes=void 0;}function e(ma,ra,wa,ya,za){G.call(this,ma,ra,wa,ya,za);}function f(){for(var ma=new DataView(this),ra="",wa,ya=0;ya < this.byteLength;ya++)(wa=ma.getUint8(ya),ra+=("00" + wa.toString(16)).slice(-2));return ra;}function l(ma,ra,wa,ya,za){G.call(this,ma,ra,wa,ya,za);}function h(ma,ra,wa,ya,za){G.call(this,ma,ra,wa,ya,za);}function k(ma,ra,wa,ya,za){G.call(this,ma,ra,wa,ya,za);}function m(ma,ra,wa,ya,za){G.call(this,ma,ra,wa,ya,za);}function p(ma,ra,wa,ya,za){G.call(this,ma,ra,wa,ya,za);}function v(ma){function ra(wa,ya,za,Aa,Ia){G.call(this,wa,ya,za,Aa,Ia);this.Egc=ma;}ra.Vc=!1;ra.prototype=new G();ra.prototype.constructor=ra;Object.defineProperties(ra.prototype,{BVa:{get:function(){return this.Egc;}}});ra.prototype.parse=function(){this.I.offset=this.startOffset + 4;this.jc.kAb(this.BVa);this.type=this.BVa;return !0;};return ra;}function q(ma,ra,wa,ya,za){G.call(this,ma,ra,wa,ya,za);}function u(ma,ra,wa,ya,za){G.call(this,ma,ra,wa,ya,za);}function t(ma,ra,wa,ya,za){G.call(this,ma,ra,wa,ya,za);}function w(ma,ra,wa,ya,za){G.call(this,ma,ra,wa,ya,za);}function x(ma,ra,wa,ya,za){G.call(this,ma,ra,wa,ya,za);}function z(ma,ra,wa,ya,za){G.call(this,ma,ra,wa,ya,za);}function y(ma,ra,wa,ya,za){G.call(this,ma,ra,wa,ya,za);}function A(ma,ra,wa,ya,za){G.call(this,ma,ra,wa,ya,za);}function B(ma,ra,wa,ya,za){G.call(this,ma,ra,wa,ya,za);}function C(ma,ra){ma.forEach(function(wa){ra[wa.Xd]=wa;});}D=a(93334).assert;b=a(75589);E=a(49420).K;F=a(24500);a(2050);a(32296);a(32296);a(32296);G=a(72905).bf;J=a(71368)["default"];N=a(95797)["default"];I=a(85571)["default"];M=a(45645)["default"];K=a(35503)["default"];L=a(29973)["default"];H=a(19234)["default"];O=a(28721)["default"];P=a(84379)["default"];a(71724);a(70428);Q=a(40755).HSa;S=a(40755).gWa;X=a(26856)["default"];W=a(29043)["default"];V=a(41192)["default"];fa=a(41192).PSa;ba=a(41192).QSa;ca=a(41192).RSa;ia=a(41192).SSa;na=a(41116)["default"];oa=a(18319)["default"];T=a(56226)["default"];Z=a(87206)["default"];aa=a(41192).MXa;R=a(41192).yXa;Y=a(41192).OSa;ea=a(97066)["default"];ka=a(96345)["default"];ha=a(31025)["default"];U=a(91056)["default"];da=a(64280)["default"];a(91578);a(59909);a(27364);a(48823);la=a(30717)["default"];pa=a(70179).BZ;va=a(89362)["default"];sa=a(96989)["default"];ua=a(23471)["default"];a=a(16530)["default"];c.Vc=!0;c.prototype=new G();c.prototype.constructor=c;n.Vc=!0;n.prototype=new G();n.prototype.constructor=n;d.Vc=!1;d.prototype=new G();d.prototype.constructor=d;d.prototype.parse=function(ma){var ra;this.$g();1 === this.version?(this.I.Ek(),this.I.Ek(),this.O=this.I.Lb(),this.duration=this.I.Ek()):(this.I.Lb(),this.I.Lb(),this.O=this.I.Lb(),this.duration=this.I.Lb());ra=this.I.zg() & 32767;this.language=String.fromCharCode(96 + (ra >>> 10),96 + (ra >>> 5 & 31),96 + (ra & 31));ma && ma.Se && (ma.Se.O=this.O,ma.Se.duration=this.duration);return !0;};g.Vc=!1;g.prototype=new G();g.prototype.constructor=g;g.prototype.lMb=function(){this.$g();this.I.Lb();this.O=this.I.Lb();0 === this.version?(this.udb=this.I.Lb(),this.ifb=this.I.Lb()):(this.udb=this.I.Ek(),this.ifb=this.I.Ek());this.stb=this.I.zg();this.Dsb=this.I.zg();};g.prototype.xKb=function(ma,ra){var wa,ya,za;wa=this.O;ma=ma && ma.O || wa;ya=ma / wa;wa=this.I.Jka(ra,12,!1);za=1 === ya?this.I.Jka(ra,12,!1):F.from(Uint32Array,{length:ra},function(){var Aa;Aa=Math.round(this.I.Lb() * ya);this.I.offset+=8;return Aa;},this);this.hNb(ra,za,wa,ma);};g.prototype.hNb=function(ma,ra,wa,ya){if(this.XPa){ya=this.XPa * ya / 1E3;for(var za=0,Aa=1;Aa < ma;Aa++)Math.abs(ra[za] - ya) > Math.abs(ra[za] + ra[Aa] - ya)?(ra[za]+=ra[Aa],wa[za]+=wa[Aa]):(++za,za !== Aa && (ra[za]=ra[Aa],wa[za]=wa[Aa]));++za;ra=new Uint32Array(ra.buffer.slice(0,4 * za));wa=new Uint32Array(wa.buffer.slice(0,4 * za));}this.sizes=wa;this.Tf=ra;};g.prototype.parse=function(ma){var ra,wa,ya,za;this.lMb();this.za=ma.za;ra=this.O;wa=this.za && this.za.O || ra;ya=this.Dsb;za=this.startOffset + this.length + this.ifb;ra=new E(this.udb,ra).Yc(wa).ga;this.Ha={O:wa,Wr:ra,offset:za};this.xKb(this.za,ya);this.Ha.Tf=this.Tf;this.Ha.sizes=this.sizes;ma.xl=this;return !0;};e.Vc=!1;e.prototype=new G();e.prototype.constructor=e;e.prototype.parse=function(){var ma;this.sB=[];this.skc=[];ma=(this.length - 11) / 2;this.I.Xc();this.I.Xc();this.I.Xc();for(var ra=0;ra < ma;ra++)(this.sB.push(this.I.Xc()),this.skc.push(this.I.Xc()));return !0;};l.Vc=!1;l.prototype=new G();l.prototype.constructor=l;l.prototype.parse=function(ma){var ra;this.$g();this.I.offset+=1;if(0 == this.version)this.I.offset+=1;else {ra=this.I.Xc();this.iZb=ra >> 4;this.oZb=ra & 15;ma && ma.Se && (ma.Se.IHc=this.iZb,ma.Se.LHc=this.oZb);}this.Hcb=this.I.Xc();this.Gcb=this.I.Xc();this.IIa=this.I.offset;this.so=this.I.Y5(16);this.so.toString=f;ma && ma.Se && (ma.Se.JHc=this.Hcb,ma.Se.kZb=this.Gcb,ma.Se.KHc=this.so);1 == this.Hcb && 0 == this.Gcb && (this.hZb=this.I.Xc(),this.gZb=this.I.Y5(this.hZb),ma && ma.Se && (ma.Se.jZb=this.gZb));return !0;};h.Vc=!1;h.prototype=new G();h.prototype.constructor=h;h.prototype.parse=function(){this.$g();this.ot=this.I.zg();this.ffc=this.I.Jka(this.ot,void 0,!0);return !0;};k.Vc=!1;k.prototype=new G();k.prototype.constructor=k;k.prototype.parse=function(ma){var ra,wa,ya,za,Aa,Ia;ra=ma.xl;D(ra);ma=ma.za;wa=ra.O;ra=ra.Dsb;D(ma);D(wa);D(ra);this.$g();D(2 > this.version);this.ot=this.I.zg();this.SU=new Uint16Array(ra + 1);ya=ma.Zhb(wa);za=ya / wa;Aa=ma.Yc(ya).ga;if(0 === this.version)for((this.zV=new Uint16Array(),this.Te=new Uint32Array(),ma=wa=0);ma <= ra;++ma){if((this.SU[ma]=wa,ma < this.ot)){Ia=this.I.Xc();if(0 !== Ia)for(ya=0;ya < Ia;(++ya,++wa))(this.zV[wa]=Math.floor((this.I.Lb() + 1) * za) / Aa,this.Te[wa]=this.I.Lb());}}else if(1 === this.version)for((ya=this.I.Zmc(this.ot),this.I.offset+=4,this.Te=this.I.Jka(this.ot,10,!1),this.I.offset-=8,this.zV=F.from(Uint16Array,{length:this.ot},function(){var Da;Da=Math.floor((this.I.Lb() + 1) * za) / Aa;this.I.offset+=6;return Da;},this),wa=ma=0);ma <= ra;++ma){for(;wa < ya.length && ya[wa] < ma;)++wa;this.SU[ma]=wa;}this.Zk={SU:this.SU,zV:this.zV,Te:this.Te};return !0;};m.Vc=!0;m.prototype=Object.create(c.prototype);m.prototype.constructor=m;p.Vc=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;p.prototype.O1=function(){var ma;ma=this.Cq("tfhd");ma && (this.fx=ma.o$a?ma.fx:this.parent.startOffset);return !0;};q.Vc=!1;q.prototype=new G();q.prototype.constructor=q;q.prototype.parse=function(){var ma,Ka;ma=this.I.offset;this.$g();if(1 === this.version){this.I.offset+=2;for(var ra=this.I.offset,wa=this.I.Xc(),ya=this.I.Xc(),za=this.I.Xc(),Aa=this.I.Xc(),Ia=this.I.zg(),Da=[],Ja=0;Ja < Ia;++Ja)Da=this.I.Xc();Ja=(wa & 240) >>> 4;Ka=(wa & 14) >>> 1;wa&=1;za=16 === za?1:0;ya != Aa && this.I.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + ya + " and matrixCoefficients " + Aa + " should be the same value!");Aa=2;switch(ya){case 1:Aa=2;break;case 6:Aa=1;break;case 9:Aa=5;break;default:this.I.console.warn("VP9: Unknown colourPrimaries " + ya + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.jc.rna(this.version,ma);this.jc.rna(Ja << 4 | Aa,ra++);this.jc.rna(Ka << 4 | za << 1 | wa,ra++);Ia+=2;Da.push(0,0);this.jc.dzc(Ia);ra+=2;Da.forEach(function(La){this.jc.rna(La,ra++);});}return !0;};u.Vc=!1;u.prototype=new G();u.prototype.constructor=u;u.Xd="tfhd";Object.defineProperties(u.prototype,{o$a:{get:function(){return this.flags & 1;}},Upc:{get:function(){return this.flags & 2;}},lZb:{get:function(){return this.flags & 8;}},nZb:{get:function(){return this.flags & 16;}},Icb:{get:function(){return this.flags & 32;}}});u.prototype.parse=function(ma){this.$g();this.rW=this.I.Lb();this.fx=this.o$a?this.I.Ek():void 0;this.Wtb=this.Upc?this.I.Lb():void 0;this.Kz=this.lZb?this.I.Lb():void 0;this.Lz=this.nZb?this.I.Lb():void 0;this.VC=this.Icb?this.I.Lb():void 0;ma && ma.Na && (ma.Na.rW=this.rW,ma.Na.fx=this.fx,ma.Na.Wtb=this.Wtb,ma.Na.Kz=this.Kz,ma.Na.Lz=this.Lz,ma.Na.VC=this.Icb?this.VC:void 0);return !0;};t.Vc=!1;t.prototype=new G();t.prototype.constructor=t;t.prototype.parse=function(ma){this.$g();this.CC=1 === this.version?this.I.Ek():this.I.Lb();ma && ma.Na && (ma.Na.CC=this.CC);return !0;};t.prototype.sa=function(ma){var ra;ra=this.startOffset + 12;this.CC+=ma;1 === this.version?this.jc.ezc(this.CC,ra):this.jc.Dy(this.CC,ra);};w.Vc=!1;w.prototype=Object.create(G.prototype);w.prototype.constructor=w;Object.defineProperties(w.prototype,{TK:{get:function(){return this.flags & 1;}}});w.prototype.parse=function(ma){this.$g();this.TK && this.I.PA();this.TK && this.I.Lb();this.mZb=this.I.Xc();this.Bd=this.I.Lb();this.F$b=this.I.X5(this.Bd);ma && ma.Na && (ma.Na.Vpc=this.F$b);return !0;};w.prototype.sa=function(ma,ra){if(ma && 0 === this.mZb){ma=ra?this.Bd - ma:ma;this.jc.offset=this.startOffset + 13 + (this.TK?8:0);this.Bd-=ma;this.jc.Dy(this.Bd);this.zOa=0;if(ra)this.jc.offset+=this.Bd;else {for(ra=0;ra < ma;++ra)this.zOa+=this.jc.Xc();this.jc.offset-=ma;}this.Eo(ma,this.I.offset);}return !0;};x.Vc=!1;x.prototype=Object.create(G.prototype);x.prototype.constructor=x;Object.defineProperties(x.prototype,{TK:{get:function(){return this.flags & 1;}}});x.prototype.parse=function(ma){var ra,wa,Ja,Ka;this.$g();this.TK && this.I.PA();this.TK && this.I.Lb();this.ot=this.I.Lb();D(1 === this.ot,"Expected a single entry in Sample Auxiliary Information Offsets box");this.tk=0 === this.version?this.I.Z5():this.I.msb();this.I.offset=this.tk;if(ma && ma.Na && ma.Se){ra=ma.Se.kZb;wa=ma.Na.Vpc;D(0 < ra || void 0 !== ma.Se.jZb,"Expected per sample or constant IV");D(0 < (wa || []).length,"Expected saix box parsing to find sample info sizes");ma.Na.iO=[];for(var ya=0;ya < wa.length;ya++){for(var za=ra?this.I.Y5(ra):void 0,Aa=[],Ia=this.I.zg(),Da=0;Da < Ia;Da++){Ja=this.I.zg();Ka=this.I.Lb();Aa.push({SRb:Ja,TRb:Ka});}ma.Na.iO.push({IQa:Aa,Lqa:za});}}return !0;};x.prototype.sa=function(ma,ra){this.tk+=ma;this.jc.offset=this.startOffset + 16 + (this.TK?8:0) + (0 === this.version?0:4);this.jc.ESa(ra,this.tk);return !0;};z.Vc=!1;z.prototype=Object.create(G.prototype);z.prototype.constructor=z;y.Vc=!1;y.prototype=Object.create(z.prototype);y.prototype.constructor=y;Object.defineProperties(z.prototype,{RLa:{get:function(){return !1;}},ozb:{get:function(){return this.flags & 2;}}});Object.defineProperties(y.prototype,{RLa:{get:function(){return this.flags & 1;}}});z.prototype.parse=function(ma){var ra,Ia,Da;this.$g();ra=0;this.RLa && (ra=this.Pbc=this.I.Lb() & 255,this.I.X5(16));if(ma && ma.Na){if(ma.Na.iO)return !0;ma.Na.$j || (ma.Na.$j=[]);}if(0 !== ra && 8 !== ra && 16 !== ra)return !0;this.Bd=this.I.Lb();if(ma && ma.Na)for(var wa=0;wa < this.Bd;wa++)if((ma.Na.$j[wa].Lqa=0 < ra?this.I.Y5(ra):void 0,this.ozb)){for(var ya=[],za=this.I.zg(),Aa=0;Aa < za;Aa++){Ia=this.I.zg();Da=this.I.Lb();ya.push({SRb:Ia,TRb:Da});}ma.Na.$j[wa].IQa=ya;}return !0;};y.prototype.sa=function(ma,ra){return z.prototype.sa.call(this,ma,ra,28 + (this.RLa?20:0));};z.prototype.sa=function(ma,ra,wa){var ya;ma=ra?this.Bd - ma:ma;this.jc.offset=this.startOffset + (wa || 12);this.Bd-=ma;this.jc.Dy(this.Bd);wa=this.jc.offset;if(this.ozb)for(ma=ra?this.Bd:ma;0 < ma;--ma){this.jc.offset+=8;ya=this.jc.zg();this.jc.offset+=6 * ya;}else this.jc.offset+=8 * (ra?this.Bd:ma);ra?this.Eo(this.length - (this.I.offset - this.startOffset),this.I.offset):this.Eo(this.I.offset - wa,wa);};A.Vc=!1;A.prototype=Object.create(G.prototype);A.prototype.constructor=A;A.prototype.parse=function(ma){this.$g();if(ma && ma.Na){void 0 === ma.Na.$j && (ma.Na.$j=[]);for(var ra=0;ra < this.length - 12;ra++)ma.Na.$j[ra].TMc=this.I.Xc();}return !0;};A.prototype.sa=function(ma,ra,wa){wa?this.Eo(ra - ma,this.startOffset + 12 + ma):this.Eo(ma,this.startOffset + 12);return !0;};B.Vc=!1;B.prototype=Object.create(G.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.$g();this.I.PA();1 === this.version && this.I.Lb();this.ot=this.I.Lb();this.J6=[];for(var ma=0;ma < this.ot;++ma)for(var ra=this.I.Lb(),wa=this.I.Lb(),ya=0;ya < ra;++ya)this.J6.push(wa);return !0;};B.prototype.sa=function(ma,ra){this.J6=ra?this.J6.slice(0,ma):this.J6.slice(ma);ma=this.J6.reduce(function(wa,ya){0 !== wa.length && wa[wa.length - 1].group === ya || wa.push({group:ya,count:0});++wa[wa.length - 1].count;return wa;},[]);this.jc.offset=this.startOffset + 16 + (1 === this.version?4:0);this.jc.Dy(ma.length);ma.forEach((function(wa){this.jc.Dy(wa.count);this.jc.Dy(wa.group);}).bind(this));this.ot > ma.length && this.Eo(8 * (this.ot - ma.length));this.ot=ma.length;return !0;};a={Yd:{moov:n,trak:c,mdia:c,mdhd:d,minf:c,encv:V,schi:c,sidx:g,sinf:c,senc:z,stbl:c,tenc:l,mvex:c,moof:m,traf:p,tfhd:u,trun:pa,sbgp:B,sdtp:A,saiz:w,saio:x,tfdt:t,mdat:a,vmaf:e,edts:c},$vc:{vpcC:q,SmDm:v("smdm"),CoLL:v("coll")},$xb:{schm:na},AOa:{}};C([oa,T,L,sa,H,va,O,aa,R,Z,Y,J,M,U,da,K,P,N,I,la,pa],a.Yd);C([Q,X,fa,ba,ca,ia,S,W,ka,ea,ua],a.AOa);C([oa,na],a.$xb);a.Yd[b.Q0a]=l;a.Yd[b.r$]=h;a.Yd[b.q$]=k;a.Yd[b.P0a]=y;a.AOa[b.Rsa]=ha;a.bf=G;r.exports={kU:a};},66789:function(r,b,a){var n,d,g,e,f,l;function c(h){return "number" === typeof h[0] || void 0 === h[0]?{Zj:h[0],O:h[1],BC:h[2],pOa:h[3],gO:h[4]}:h[0];}Object.defineProperties(b,{__esModule:{value:!0}});b.xw=void 0;b.QT=function(h){var k,m;k=new ArrayBuffer(8);m=new DataView(k);m.setUint32(0,h + 8);m.setUint32(4,(0,g.j6a)("mdat"));return k;};n=a(5163);d=a(75589);r=a(87349);g=a(32296);e=a(93334);f=a(72905);l=a(16530);a=(function(h){function k(m,p,v){return h.call(this,m,p,v) || this;}n.__extends(k,h);k.prototype.Qsb=function(){for(var m=[],p=0;p < arguments.length;p++)m[p]=arguments[p];return this.sa(n.__assign(n.__assign({},c(m)),{SNa:!1}));};k.prototype.Xsb=function(){for(var m=[],p=0;p < arguments.length;p++)m[p]=arguments[p];return this.sa(n.__assign(n.__assign({},c(m)),{SNa:!0}));};k.prototype.sa=function(m){var v,q,u,t,w,x,z,y,A,B,C,D,E,F,G,J,N,I,M,K,L,H,O;function p(Q){A=y[Q];B=A.Cq("traf");if(void 0 === B || void 0 === B.fx)return !1;F=B.Cq("tfdt");if(void 0 === F)return !1;C=B.Cq("trun");return void 0 === C?!1:!0;}v=m.Zj;q=m.O;u=m.SNa;t=m.BC;w=m.pOa;w=void 0 === w?!1:w;x=m.gO;x=void 0 === x?!1:x;z=m.cN;m=m.fea;m=void 0 === m?!1:m;if(!this.parse().done)return !1;y=this.Yd.moof;if(!y || 0 === y.length)return !1;if(void 0 !== v){D=v;for(v=0;v < y.length;++v){if(!p(v,this.te.console.trace))return !1;(0,e.assert)(A && B && F && C && void 0 !== C.Bd);if(C.Bd > D || u && C.Bd === D)break;D-=C.Bd;}(0,e.assert)(A && B && F && C);}else if((v=u?y.length - 1:0,!p(v,this.te.console.trace)))return !1;(0,e.assert)(A && B && F && C);if(u && v < y.length - 1){E=y[v + 1];this.te.Eo(this.view.byteOffset - E.startOffset,E.startOffset);}else !u && 0 < v && this.te.Eo(A.startOffset,0);E=B.Cq("tfhd");if(void 0 === E)return !1;F=B.Cq("tfdt");G=C.Bd;J=B.Cq("saiz");N=B.Cq("saio");I=B.Cq(d.P0a) || B.Cq("senc");M=B.Cq("sbgp");if(!(!J && !N || J && N))return !1;K=B.Cq("sdtp");L=f.bf.eD(this,"mdat");if(L && v < L.length)H=L[v];else {if(v !== y.length - 1)return !1;if(this.te.offset <= this.view.byteLength - 8){L=this.te.offset;O=this.te.Lb();"mdat" === this.te.PA() && (H=new l.default(this.te,"mdat",L,O));}}void 0 === D && (D=u?C.Bd:0);if("number" === typeof t && 0 < t){L=u?D:C.Bd - D;O=Array(L);for(var P=0;P < L;++P)O[P]=u?P >= L - t?-Infinity:0:P < t?-Infinity:0;t=O;}if(C.sa(B,E,m?void 0:H || this.te,q,D,B.fx,u))C.tea && ((0,e.assert)(void 0 !== C.Vvb),(0,e.assert)(void 0 !== C.PV),!u && F && F.sa(C.Vvb),J && N && (J.sa(C.PV,u),N.sa(I?0:J.zOa,B.fx)),I && I.sa(C.PV,u),K && K.sa(C.PV,G,u),M && M.sa(C.PV,u));else if(!u){if(v === y.length - 1)return !1;this.te.Eo(y[v + 1].startOffset - A.startOffset,A.startOffset);}else if(0 === C.PV)return !1;Array.isArray(t) && H && this.stream.profile && void 0 !== w && !m && C.ggc(B,E,H,t,this.stream.profile,w,x,z);u=this.te.sa();q=u.Na;u=u.sG;t=q.reduce(function(Q,S){return Q + S.byteLength;},0);return {Na:q,length:t,wN:this.te.view.byteLength,sG:u};};return k;})((function(h){function k(m,p,v){return h.call(this,m,p,v) || this;}n.__extends(k,h);return k;})(r.ww));b.xw=a;},72978:function(r,b,a){var n,d,g,e,f,l,h;function c(k){var v;for(var m={},p=k.length - 1;0 <= p;p--){v=k[p];v=("").concat(v.VU,"-").concat(v.id);m[v]?k.splice(p,1):m[v]=!0;}}Object.defineProperties(b,{__esModule:{value:!0}});b.YY=void 0;d=a(5163);g=a(98776);e=a(29770);f=a(25564);r=a(87349);l=a(43607);h=a(48014);a=(function(k){function m(p,v,q){q=k.call(this,p,v,q) || this;q.console=p;q.stream=v;return q;}d.__extends(m,k);m.prototype.parse=function(p){var v,q,u,t,w,x,z,y,A;v=this;q=(null === p || void 0 === p?void 0:p.Na) || ({});u=k.prototype.parse.call(this,p?d.__assign(d.__assign({},p),{Na:q}):{Na:q});if(!u.done || !q.$j || void 0 === q.tk)return u;t=l.Sk.path(this,["moof"]);if(!t)return d.__assign(d.__assign({},u),{done:!1});w=(null === p || void 0 === p?void 0:p.events) || [];x=t.byteOffset + q.tk;z=q.CC || 0;q.$j.forEach(function(B){var C,D;C=new DataView(v.view.buffer,v.view.byteOffset + x,B.aE);C=v.Cjc(C);D=z + (B.Tpc || 0);null !== y && void 0 !== y?y:y=D;A=D + B.AV;C && C.emib && C.emib.forEach(function(E){w.push({VU:D + E.Mlc,vS:E.vS,id:E.id,MOa:E.MOa,value:E.value,POa:E.message});});x+=B.aE;z+=B.AV;});p && p.wxb && (p.wxb.dIc=y,p.wxb.JKc=A);c(w);return u;};m.prototype.Cjc=function(p){var v;v=new h.q9(p.byteLength);p=new f.gX(m.Yd,v,p,this.console,{Oja:!0});return p.parse().done?p.Yd:void 0;};m.Yd=(n={},n[g.default.Xd]=g.default,n[e.default.Xd]=e.default,n);return m;})(r.ww);b.YY=a;},35982:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.UE=void 0;c=a(32296);n={stsd:16};b.UE=(function(){function d(){}d.path=function(g,e){var m,p;for(var f=0,l=g.byteLength,h,k=0;k < e.length;k++){m=e[k];for(h && (f+=n[h] || 8);f < l;){p=g.getUint32(f);h=(0,c.hF)(g.getUint32(f + 4));if(h === m){l=f + p;break;}if(0 === p)return {};f+=p;}}return f < l?{offset:f,end:l}:{};};d.web=function(g){var e,f,l,h,k;e=this.path(g,["moof","traf"]).offset;if(void 0 !== e){g=new DataView(g.buffer,g.byteOffset + e + 8);f=this.path(g,["tfdt"]).offset;if(void 0 !== f){1 === g.getUint8(f + 8)?(e=g.getUint32(f + 12),f=g.getUint32(f + 16),e=4294967296 * e + f):e=g.getUint32(f + 12);l=this.path(g,["trun"]).offset;if(void 0 === l)return {pW:e};h=g.getUint8(l + 8);k=g.getUint32(l + 8) & 16777215;f=g.getUint32(l + 12);k & 2048?(l=l + 16 + ((k & 1) << 2) + (k & 4) + (((k & 256) >> 6) + ((k & 512) >> 7) + ((k & 1024) >> 8)),g=1 === h?g.getInt32(l):g.getUint32(l)):g=0;return {pW:e,jv:g,$D:f};}}};return d;})();},87349:function(r,b,a){var c,n,d;Object.defineProperties(b,{__esModule:{value:!0}});b.ww=void 0;c=a(25564);n=a(98516);d=a(48014);r=(function(){function g(e,f,l){this.console=e;this.stream=f;this.view=l instanceof ArrayBuffer?new DataView(l):new DataView(l.data,l.offset,l.length);}g.prototype.parse=function(e){var f;f=new d.q9(this.view.byteLength);this.te=new c.gX(n.kU.Yd,f,this.view,this.console,{Oja:!0});e=this.te.parse(e);this.Yd=this.te.Yd;return e;};return g;})();b.ww=r;},43607:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Sk=void 0;c=a(5163);n=a(3265);d=a(89931);g=a(93334);e=a(49420);f=a(72905);r=a(91056);l=a(64280);h=a(25564);k=a(2050);m=a(98516);p=a(75589);v=a(48014);q=a(35202);c.__exportStar(a(56122),b);a=(function(){function u(t,w,x,z,y,A){this.console=t;this.stream=w;this.my=z;this.MOb=y;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=A || ({});this.r9b=(0,k.d5b)();}u.path=function(t,w){return w.reduce(function(x,z){return x && x.Yd[z] && x.Yd[z][0];},t);};u.y6b=function(t){return t && t.xBa && -1 !== t.xBa.indexOf("mcl0")?"mcl0":void 0;};u.G2b=function(t,w){var x,z;(0,g.assert)("mcl0" === t,"Unsupported McClearen brand");x=w.Ha;t=x.Tf;w=new e.K(120,1).Yc(x.O).ga;z=0;for(x=x.Wr;z < t.length && x < w;)x+=t[z++];return z;};u.prototype.parse=function(t){var w;w=this.cqc();if(!w.done){if(w.job)return {by:!1,Yba:w.job};this.console.error("Scan error: " + w.error);return {by:!1,parseError:w.error || "unknown mp4 scan error"};}t && (t.mediaType=this.stream.mediaType,t.$ic=t.za);this.view=new DataView(this.view.buffer,this.view.byteOffset,w.offset);t=this.Ajc(t);return t.done?this.QUb():(this.console.error("Parse error: " + t.error),{by:!1,parseError:t.error || "unknown mp4 parse error"});};u.prototype.eD=function(t){return f.bf.eD(this,t);};u.prototype.Hp=function(t){return f.bf.Hp(this,t);};u.prototype.cqc=function(){var t,w;t=new v.UXa(this.my,this.MOb?[p.r$,p.q$]:[],this.config && this.config.INc || ["moof",p.W_a],this.config && this.config.fMa);w=c.__assign(c.__assign({},this.config),{Oja:!1});return new h.gX(u.GOa,t,this.view,this.console,w).parse();};u.prototype.Ajc=function(t){var w,x,z;w=new v.q9(this.view.byteLength);x=Object.create(m.kU.Yd);this.config && ((this.config.lqb || this.config.Zxb || this.config.Vla) && n(m.kU.AOa,x),this.config.yRa && n(m.kU.$vc,x),this.config.Zxb && n(m.kU.$xb,x));z=c.__assign(c.__assign({},this.config),{Oja:!0});this.te=new h.gX(x,w,this.view,this.console,z);t=this.te.parse(t);t.done && (this.Yd=this.te.Yd);return t;};u.prototype.QUb=function(){var t,w,x,z,y,A,B,C;w={by:!0};x=u.path(this,["moov"]);z=null === x || void 0 === x?void 0:x.eD("trak");if(1 === (null === z || void 0 === z?void 0:z.length)){y=z[0].Cq("tkhd");y && (w.trackId=y.Hc.trackId);}y=u.path(x,["trak","mdia","minf","stbl","stsd"]);if(this.config.lqb)if(y)(w.za=y.za,w.SMc=y.Yd);else return {by:!1,parseError:"Missing sample descriptions"};A=u.path(y,["encv","sinf","schi"]);A && (A=u.path(A,["tenc"]) || u.path(A,[p.Q0a])) && (w.X0b={hHc:A.so,IIa:A.IIa,DKc:!1});if(A=u.path(x,["trak","mdia","mdhd"]))w.O=A.O;if(A=u.path(x,["mvex","trex"]))w.Rda=A && A.Hc.Rda;w.Rda && w.O && (w.za=new e.K(w.Rda,w.O));(A=u.path(x,["trak","edts","elst"])) && (null === (t=A.n1) || void 0 === t?0:t.length) && w.O && (w.eS=new e.K(A.n1[0].nfc,w.O));if(t=u.path(this,["sidx"])){A=(A=u.path(this,[p.r$])) && A.ffc;B=u.path(this,[p.q$]);B=B && B.Zk;w.Ha=t.Ha;w.jU=A;w.Zk=B;}if(A=this.Yd.vmaf && this.Yd.vmaf[0])w.sB=A.sB;if(this.config.WNa && (A=u.path(x,["mvex"])) && z && z.length){C=z.reduce(function(D,E){return E.byteOffset > D.byteOffset?E:D;});C.byteOffset > A.byteOffset && (z=new Uint8Array(this.view.buffer,this.view.byteOffset,this.view.byteLength),B=(0,q.iyb)(z,Uint8Array,A.byteOffset,A.byteOffset + A.byteLength),C=(0,q.iyb)(z,Uint8Array,A.byteOffset + A.byteLength,C.byteOffset + C.byteLength),z.set(C,A.byteOffset),z.set(B,A.byteOffset + C.byteLength));}if(this.config.Cpc)if(x)(this.trim(x.byteOffset + x.byteLength),this.config.Vla && y && 1 < y.DL && t && (w.Gi=this.Vla(y,t)),void 0 === w.Gi && (x=this.te.tea?(0,d.concat)(this.te.sa().Na):this.view.buffer,w.Gi=[{Ce:0,data:x}]));else return {by:!1,parseError:"Missing movie box"};w.by=!0;w.Pja=this.te.offset;return w;};u.prototype.trim=function(t){var w;w=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(t,this.view.byteLength));this.te.trim(t);this.view=new DataView(w);};u.prototype.Vla=function(t,w){var x,z,y;x=Object.keys(t.Yd);z=x.filter(function(A){return "encv" !== A;});if(!(2 > x.length || z.length === x.length || 0 === z.length)){x=u.path(this,["ftyp"]);y=u.y6b(x);if(y)return (x=[],this.te.Omc(),t.Vsb("encv"),x.push({Ce:0,sx:!1,data:(0,d.concat)(this.te.sa().Na)}),this.te.clc(),t.Vsb(z[0]),t=u.G2b(y,w),x.push({Ce:t,sx:!0,data:(0,d.concat)(this.te.sa().Na)}),x);}};u.GOa={};return u;})();b.Sk=a;a.GOa[p.Ssa]=r.default;a.GOa[p.Tsa]=l.default;},32296:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hF=function(n){(0,c.assert)("number" === typeof n);return String.fromCharCode(n >>> 24 & 255) + String.fromCharCode(n >>> 16 & 255) + String.fromCharCode(n >>> 8 & 255) + String.fromCharCode(n & 255);};b.j6a=function(n){return n.charCodeAt(3) + (n.charCodeAt(2) << 8) + (n.charCodeAt(1) << 16) + (n.charCodeAt(0) << 24);};b.QFc=function(n,d){return Math.floor(1E3 * n / d);};c=a(93334);},75589:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ssa="6674654e-696c-5078-6966-665374726d21";b.Tsa="6674654e-696c-4878-6165-6465722e7632";b.W_a="6674654e-696c-5078-6966-66496e646578";b.r$="6674654e-696c-4d78-6f6f-6653697a6573";b.q$="6674654e-696c-5378-6565-6b506f696e74";b.Q0a="cedb7489-e77b-514c-84f9-7148f9882554";b.P0a="524f39a2-9b5a-144f-a244-6c427c648df4";b.Rsa="6674654e-696c-4678-7261-6d6552617465";},42328:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.z3a=void 0;c=a(25337);n={16:"programstart",17:"programend",19:"programbreakaway",34:"breakstart",35:"breakend",50:"breakstart",51:"breakend",52:"breakstart",53:"breakend",54:"breakstart",55:"breakend",60:"breakstart",61:"breakend",62:"breakstart",63:"breakend",66:"breakstart",67:"breakend",68:"breakstart",69:"breakend",70:"breakstart",71:"breakend"};r=(function(){function d(g,e){this.view=g;this.console=e;this.I=new c.Fwa(g,e);}d.prototype.parse=function(){var g,e,f,l,h,k;this.I.offset+=13;g=this.I.Xc();switch(g){case 0:break;case 5:(e=this.Wjc(),f=e.gjc);g=e.wtc;e=e.sRb;return void 0 === f || void 0 === g?void 0:f?{event:"breakstart",VU:g,duration:e}:{event:"breakend",VU:g};case 6:f=this.mqb();break;case 4:case 7:case 255:return;default:throw Error(("Unknown splice_command_type: ").concat(g));}if(void 0 !== f)for((g=this.I.zg(),g=this.I.offset + g);this.I.offset < g;){e=this.I.Xc();l=this.I.Xc();if(2 === e){e=this.Vjc(l);l=e.Ala;h=e.pub;k=e.Cqc;if(void 0 !== l)return {event:d.Dqc[l],Ala:l,VU:f,id:h,duration:k};if(e.oub)return {event:"cancel",VU:f,id:h};}else this.I.offset+=l;}};d.prototype.Wjc=function(){var g,e,f,l,h,k;this.I.offset+=4;if(!(this.I.Xc() >> 7)){g=void 0;e=void 0;f=this.I.Ta(1);l=this.I.Ta(1);if(!l)throw Error("Component splice mode is deprecated");h=this.I.Ta(1);k=this.I.Ta(1);this.I.Ta(4);l && !k && (g=this.mqb());h && (e=this.Bjc());return {gjc:f,wtc:g,sRb:e};}return {};};d.prototype.mqb=function(){var g;if(this.I.Ta(1)){this.I.Ta(6);g=this.I.Ta(33);}else this.I.Ta(7);return g;};d.prototype.Bjc=function(){this.I.Ta(1);this.I.Ta(6);return this.I.Ta(33);};d.prototype.Vjc=function(g){var e,f,l,h,k,m;f=this.I.offset;this.I.Lb();l=this.I.Lb();h=this.I.Ta(1);this.I.Ta(7);if(0 === h){k=this.I.Ta(1);m=this.I.Ta(1);this.I.Ta(1);this.I.Ta(5);if(!k)throw Error("Component splice mode is deprecated");m && (e=this.I.Ta(40));this.I.Xc();k=this.I.Xc();this.I.offset+=k;k=this.I.Xc();this.I.offset=f + g;return {Ala:k,pub:l,oub:h,Cqc:e};}this.I.offset=f + g;return {pub:l,oub:h};};d.Dqc=n;return d;})();b.z3a=r;},48014:function(r,b,a){var n;function c(d,g){d=g.indexOf(d);-1 !== d && g.splice(d,1);}Object.defineProperties(b,{__esModule:{value:!0}});b.UXa=b.q9=void 0;n=a(75589);r=(function(){function d(g){this.endOffset=g;this.done=!1;}d.prototype.wfb=function(){return this.done;};d.prototype.gdb=function(g,e,f){return this.done=e + f >= this.endOffset;};return d;})();b.q9=r;r=(function(){function d(g,e,f,l){void 0 === e && (e=[]);void 0 === f && (f=[]);void 0 === l && (l=!1);this.my=g;this.$da=e;this.exb=f;this.fMa=l;this.done=!1;this.sn={};}d.prototype.wfb=function(g,e,f){-1 !== d.F9b.indexOf(g) && (this.sn[g]={offset:e,size:f});if(-1 !== this.exb.indexOf(g)){if((this.sn[g]={offset:e,size:f},this.fMa))this.endOffset=e + f;else return (this.endOffset=e,this.done=!0);}else this.my && -1 !== this.my.indexOf(g)?(g=1 < this.my.length?4096:0,this.endOffset=Math.max(e + f + g,this.endOffset || 0)):-1 !== this.$da.indexOf(g) && (g=this.my?4096:0,this.endOffset=Math.max(e + f + g,this.endOffset || 0));return this.done;};d.prototype.gdb=function(g,e,f,l){var h;h=this;if(-1 !== this.exb.indexOf(g))return this.done=!0;g === n.Ssa && this.kvb(l.sn);g === n.Tsa && this.kvb(l.sn);this.my && c(g,this.my);c(g,this.$da);return this.my && 0 === this.my.length && !this.$da.some(function(k){return h.sn[k];})?this.done=!0:this.done;};d.prototype.kvb=function(g){var e;e=this;this.sn=g;this.endOffset=(this.my || []).concat(this.$da).reduce(function(f,l){return e.sn[l]?(l=e.sn[l],Math.max(l.offset + (l.size || 4096),f)):f;},this.endOffset || 0);};d.F9b=["moov","sidx"];return d;})();b.UXa=r;},24500:function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,n){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),n * a.byteLength / a.length);}:function(a,c,n){a.set(c,n);};r.exports={from:function(a,c,n,d){a=new a(c.length);for(var g="function" === typeof n,e=0;e < c.length;++e)a[e]=g?n.call(d,c[e],e,c):c[e];return a;},set:b};},35202:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.iyb=function(a,c,n,d){var g,e;if(null !== a && void 0 !== a && a.slice)return a.slice(n,d);g=Math.min(a.length,d);e=Math.min(a.length,n);for(c=new c(Math.max(d - n,0));e < g;e++)c[e - n]=a[e];return c;};},93334:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=function(d,g){if(!d)throw new n(g || "Assertion failed");};c=a(5163);n=(function(d){function g(){return null !== d && d.apply(this,arguments) || this;}c.__extends(g,d);return g;})(Error);},89931:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.concat=function(){var n;for(var a=[],c=0;c < arguments.length;c++)a[c]=arguments[c];a=Array.prototype.concat.apply([],a);c=a.reduce(function(d,g){return d + g.byteLength;},0);n=new Uint8Array(c);a.reduce(function(d,g){n.set(new Uint8Array(g),d);return d + g.byteLength;},0);return n.buffer;};},3265:function(r){r.exports=function n(a,c){var d;a.__proto__ && a.__proto__ !== Object.prototype && n(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(g){d=Object.getOwnPropertyDescriptor(a,g);void 0 !== d && Object.defineProperty(c,g,d);});};},49420:function(r,b){function a(n,d){return "number" !== typeof n || "number" !== typeof d?!1:n && d?Math.abs(n * d / c(n,d)):0;}function c(n,d){var g;n=Math.abs(n);for(d=Math.abs(d);d;){g=d;d=n % d;n=g;}return n;}Object.defineProperties(b,{__esModule:{value:!0}});b.K=void 0;r=(function(){function n(d,g){"object" === typeof d?(this.Ac=d.ga,this.qb=d.O):(this.Ac=d,this.qb=g);}n.Pa=function(d){return new n(d,1E3);};n.oRa=function(d,g){return Math.floor(1E3 * d / g);};n.bob=function(d,g){return Math.floor(d * g / 1E3);};n.max=function(){for(var d=[],g=0;g < arguments.length;g++)d[g]=arguments[g];return d.reduce(function(e,f){return e.greaterThan(f)?e:f;});};n.min=function(){for(var d=[],g=0;g < arguments.length;g++)d[g]=arguments[g];return d.reduce(function(e,f){return e.lessThan(f)?e:f;});};n.UL=function(d,g){var e;if(d.O === g.O)return new n(c(d.ga,g.ga),d.O);e=a(d.O,g.O);return n.UL(d.Yc(e),g.Yc(e));};Object.defineProperties(n.prototype,{ga:{get:function(){return this.Ac;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{O:{get:function(){return this.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{H:{get:function(){return 1E3 * this.Ac / this.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ch:{get:function(){return this.Ac / this.qb;},enumerable:!1,configurable:!0}});n.prototype.Yc=function(d){d/=this.O;return new n(Math.floor(this.ga * d),Math.floor(this.O * d));};n.prototype.add=function(d){var g;if(this.O === d.O)return new n(this.ga + d.ga,this.O);g=a(this.O,d.O);return this.Yc(g).add(d.Yc(g));};n.prototype.ka=function(d){return this.add(new n(-d.ga,d.O));};n.prototype.yg=function(d){return new n(this.ga * d,this.O);};n.prototype.Oe=function(d){var g;if(this.O === d.O)return this.ga / d.ga;g=a(this.O,d.O);return this.Yc(g).Oe(d.Yc(g));};n.prototype.Zhb=function(d){return a(this.O,d);};n.prototype.INa=function(){return new n(this.O,this.ga);};n.prototype.compare=function(d,g){var e;if(this.O === g.O)return d(this.ga,g.ga);e=a(this.O,g.O);return d(this.Yc(e).ga,g.Yc(e).ga);};n.prototype.equal=function(d){return this.compare(function(g,e){return g === e;},d);};n.prototype.b5=function(d){return this.compare(function(g,e){return g !== e;},d);};n.prototype.lessThan=function(d){return this.compare(function(g,e){return g < e;},d);};n.prototype.greaterThan=function(d){return this.compare(function(g,e){return g > e;},d);};n.prototype.dn=function(d){return this.compare(function(g,e){return g <= e;},d);};n.prototype.eg=function(d){return this.compare(function(g,e){return g >= e;},d);};n.prototype.toJSON=function(){return {ticks:this.ga,timescale:this.O};};n.prototype.toString=function(){return ("").concat(this.ga,"/").concat(this.O);};n.wa=new n(0,1);n.zA=new n(1,1E3);return n;})();b.K=r;},56445:function(r,b,a){var c,n,d,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.C5a=void 0;c=a(5163);n=a(93334);d=a(89931);g=a(32296);r=a(25337);e=(function(){function f(l){l?(this.rq=l.rq.slice(),this.kw=l.kw.slice(),this.Te=l.Te.slice(),this.trim=l.trim):(this.rq=[],this.kw=[],this.Te=[]);}Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.rq.length && 0 === this.kw.length && 0 === this.Te.length;},enumerable:!1,configurable:!0}});return f;})();r=(function(f){function l(h,k,m){h=f.call(this,h,k,m) || this;h.xdb=[];h.Be=new e();return h;}c.__extends(l,f);l.FPb=function(h,k){if(k.offset + k.size <= h.byteLength)switch(k.size){case 1:h.setUint8(k.offset,k.value);break;case 2:k.j7?h.setInt16(k.offset,k.value):h.setUint16(k.offset,k.value);break;case 4:k.j7?h.setInt32(k.offset,k.value):h.setUint32(k.offset,k.value);break;case 8:(0,n.assert)(!k.j7);h.setUint32(k.offset,Math.floor(k.value / 4294967296));h.setUint32(k.offset + 4,k.value & 4294967295);break;default:(0,n.assert)(!1);}};Object.defineProperties(l.prototype,{tea:{get:function(){return !this.Be.empty;},enumerable:!1,configurable:!0}});l.prototype.rna=function(h,k){this.Be.kw.push({offset:void 0 !== k?k:this.offset,value:h,size:1});void 0 === k && (this.offset+=1);};l.prototype.dzc=function(h){this.Be.kw.push({offset:!1,value:h,size:2,j7:!1});};l.prototype.Dy=function(h,k){this.Be.kw.push({offset:void 0 !== k?k:this.offset,value:h,size:4,j7:!1});void 0 === k && (this.offset+=4);};l.prototype.ezc=function(h,k){this.Be.kw.push({offset:void 0 !== k?k:this.offset,value:h,size:8,j7:!1});void 0 === k && (this.offset+=8);};l.prototype.kAb=function(h){this.Dy((0,g.j6a)(h));};l.prototype.ESa=function(h,k){this.Be.Te.push({offset:this.offset,xp:h,value:k});this.offset+=4;};l.prototype.Eo=function(h,k,m){this.Be.rq.push({offset:k,remove:h,tb:m});};l.prototype.Uka=function(h,k,m,p){this.Be.rq.push({offset:m,remove:h,replace:k,tb:p});};l.prototype.trim=function(h){this.Be.trim=h;};l.prototype.Omc=function(){this.xdb.push(new e(this.Be));};l.prototype.clc=function(){this.Be=this.xdb.pop() || new e();};l.prototype.sa=function(){var h,k,m,p,v,q,u;h=this;if(0 === this.Be.rq.length && 0 === this.Be.kw.length && 0 === this.Be.Te.length)return {Na:[void 0 === this.Be.trim?this.view.buffer:this.view.buffer.slice(0,this.Be.trim)]};this.Be.rq.sort(function(t,w){return t.offset - w.offset;});this.Be.kw.sort(function(t,w){return t.offset - w.offset;});this.mpc();k=this.x2b();m=this.view.buffer.slice(0,k);p=k?new DataView(m):this.view;this.Be.kw.forEach(l.FPb.bind(void 0,p));this.Xwc(p);this.Wwc(p);v=[];q=void 0 !== this.Be.trim?Math.min(this.Be.trim,this.view.byteLength):this.view.byteLength;u=0;this.Be.rq.filter(function(t){return t.offset <= q;}).forEach(function(t){t.offset > u && (v.push(p.buffer.slice(u,t.offset)),t.offset > p.byteLength && p !== h.view && (p=h.view,v.push(p.buffer.slice(k,t.offset))));t.replace && v.push(t.replace);u=t.offset + t.remove;});u < k && v.push(m.slice(u));u < q && (m=Math.max(m.byteLength,u),m < q && v.push(this.view.buffer.slice(m,q)));m=this.Be.rq.filter(function(t){return t.offset + t.remove > q;}).map(function(t){var w;w=t.offset;t=t.remove;return w < q?{offset:q,remove:t - (q - w)}:{offset:w,remove:t};});return {Na:v,sG:m};};l.prototype.x2b=function(){var h,k,m;h=[];k=this.Be.kw[this.Be.kw.length - 1];m=this.Be.Te[this.Be.Te.length - 1];k && h.push(k.offset + k.size);m && h.push(m.offset + 4);this.Be.rq.filter(function(p){return p.tb;}).forEach(function(p){return h.push(p.tb.byteOffset + 4);});if(0 === h.length)return 0;k=Math.max.apply(void 0,h);return void 0 !== this.Be.trim?Math.min(k,this.Be.trim):k;};l.prototype.mpc=function(){this.Be.rq=this.Be.rq.reduce(function(h,k){var m,p;if(0 === h.length)return (h.push(k),h);m=h[h.length - 1];p=m.offset + m.remove;k.offset >= p?h.push(k):k.offset + k.remove > p && ((0,n.assert)(m.tb === k.tb),m.remove+=k.offset + k.remove - p,k.replace && (m.replace=m.replace?(0,d.concat)(m.replace,k.replace):k.replace));return h;},[]);};l.prototype.Xwc=function(h){var k;k=this;this.Be.Te.forEach(function(m){var p,v,q,u;p=h;v=m.offset;k.Be.rq.some(function(t){return t.offset <= m.offset && t.replace && t.offset + t.replace.byteLength >= m.offset + 4?(p=new DataView(t.replace),v=m.offset - t.offset,!0):!1;});q=m.xp + (void 0 !== m.value?m.value:p.getInt32(v));u=k.Be.rq.reduce(function(t,w){return w.offset > m.xp && w.offset < q?t + (w.remove - (w.replace?w.replace.byteLength:0)):t;},0);p.setInt32(v,q - m.xp - u);});};l.prototype.Wwc=function(h){this.Be.rq.forEach(function(k){var m;m=(k.remove || 0) - (k.replace?k.replace.byteLength:0);if(0 !== m)for(k=k.tb;k;)(h.setUint32(k.byteOffset,h.getUint32(k.byteOffset) - m),k=k.parent);});};return l;})(r.Fwa);b.C5a=r;},25337:function(r,b,a){var c,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Fwa=void 0;c=a(2050);a(2050);n=a(32296);r=(function(){function d(g,e,f){void 0 === f && (f={});this.view=g;this.console=e;this.config=f;this.view=g;this.console=e;this.Kd=this.hx=this.offset=0;}d.prototype.kgb=function(g){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,g);};d.prototype.Ta=function(g){if(24 < g)return 16777216 * this.Ta(g - 24) + this.Ta(24);for(;this.Kd < g;)(this.hx=(this.hx << 8) + this.Xc(),this.Kd+=8);this.Kd-=g;return this.hx >>> this.Kd & (1 << g) - 1;};d.prototype.Xc=function(){var g;g=this.view.getUint8(this.offset);this.offset+=1;return g;};d.prototype.zg=function(g){g=this.view.getUint16(this.offset,g);this.offset+=2;return g;};d.prototype.Lb=function(g){g=this.view.getUint32(this.offset,g);this.offset+=4;return g;};d.prototype.Z5=function(){var g;g=this.view.getInt32(this.offset,void 0);this.offset+=4;return g;};d.prototype.ikc=function(g,e){var f;f=this.view.getUint32(this.offset + (g?4:0),g);g=this.view.getUint32(this.offset + (g?0:4),g);e || 0 === (f & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * f + g;};d.prototype.Ek=function(g,e){g=this.ikc(g,e);this.offset+=8;return g;};d.prototype.jkc=function(){var g,e;g=this.view.getInt32(this.offset + 0,void 0);e=this.view.getUint32(this.offset + 4,void 0);0 === ((0 < g?g:-g) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * g + e;};d.prototype.msb=function(){var g;g=this.jkc();this.offset+=8;return g;};d.prototype.PA=function(){return (0,n.hF)(this.Lb());};d.prototype.Lka=function(){var e,f,l,h,k,m;function g(p,v){return ("000000" + p.toString(16)).slice(2 * -v);}e=this.Lb(!0);f=this.zg(!0);l=this.zg(!0);h=this.zg();k=this.zg();m=this.Lb();return [g(e,4),g(f,2),g(l,2),g(h,2),g(k,2) + g(m,4)].join("-");};d.prototype.Y5=function(g){var e;e=this.view.byteOffset + this.offset;e=this.view.buffer.slice(e,e + g);this.offset+=g;return e;};d.prototype.BNa=function(g){var e;e=[];if(0 === g)return "";g=g || Number.MAX_SAFE_INTEGER;for(var f=this.Xc();0 !== f && 0 <= --g;)(e.push(f),f=this.Xc());return String.fromCharCode.apply(null,e);};d.prototype.X5=function(g){var e,f;void 0 === e && (e=1);void 0 === f && (f=!0);return this.rl(this.config.zW && c.y8b || c.gT,1,g,e,f);};d.prototype.Zmc=function(g){var e,f,l;e=10;f=!1;void 0 === e && (e=2);void 0 === f && (f=!0);void 0 === l && (l=!1);return this.rl(this.config.zW && c.w8b || c.cga,2,g,e,f,l);};d.prototype.Jka=function(g,e,f){var l;void 0 === e && (e=4);void 0 === f && (f=!0);void 0 === l && (l=!1);return this.rl(this.config.zW && c.x8b || c.W2,4,g,e,f,l);};d.prototype.bnc=function(){for(var g=this.Xc(),e=g & 127;g & 128;)(g=this.Xc(),e=e << 7 | g & 127);return e;};d.prototype.rl=function(g,e,f,l,h,k){void 0 === h && (h=!0);void 0 === k && (k=!1);g=g(this.view,this.offset,f,l,k);this.offset=h || !l || l === e?this.offset + f * (l || e):this.offset + e;return g;};return d;})();b.Fwa=r;},17972:function(r,b,a){var n,d,g,e,f;function c(l,h,k){void 0 === k && (k=0);return l.displayTime - k <= h && h < l.displayTime + l.duration;}Object.defineProperty(b,"__esModule",{value:!0});b.PBb=b.JTa=void 0;n=a(5163);d=a(91176);g=a(45247);e=a(90745);r=(function(l){function h(k,m,p,v,q,u,t,w){var x,z,y;y=l.call(this) || this;y.dLb=k;y.VZ=m;y.hLb=p;y.qa=v;y.Rx=q;y.gGa=u;y.cka=t;y.options=w;y.Wk=[];y.jk=[];y.Gm=[];y.AMa=new e.mf();y.LOa=new e.mf();y.hda=new e.mf();y.fF=new f(function(){return m(k());},y.qa,(null === (x=y.options) || void 0 === x?void 0:x.fa) || !1);y.fF.events.on("bufferingcomplete",function(){var A;y.qa.trace("AseTimer:Received buffering complete from watcher");null === (A=y.pp) || void 0 === A?void 0:A.Md();y.mLa();});y.fF.OMa();y.Avb();y.AMa.on(y.cka,"segmentPresenting",function(){y.tpb();});y.AMa.on(y.cka,"taskSchedulerChanged",function(){y.Avb();});null === (z=y.pp) || void 0 === z?void 0:z.Ma();return y;}n.__extends(h,l);Object.defineProperty(h.prototype,"_buffering",{get:function(){return this.fF.r0;},enumerable:!1,configurable:!0});h.prototype.Duc=function(){var k,m,p,v,q,u,t,w,x,z,y,A,B,C;C=this;return n.__generator(this,function(D){switch(D.label){case 0:this.qa.trace("AseTimer:Starting subtitle worker");if(this.Rx())return (this.qa.trace("Paused: exiting"),[2]);k=function(){return C.bd.Aa.currentTime.H;};m=this.dLb;this.Gm=this.jk.concat(this.Wk);this.Krb(m(),!0);D.label=1;case 1:if(!this.Gm.length)return [3,3];v=p=m();this.oab(p);try{for((q=(A=void 0,n.__values(this.Gm)),u=q.next());!u.done;u=q.next())(t=u.value,this.qa.trace(("AseTimer:Checking subtitle ").concat(t.id)),p >= t.displayTime + t.duration || (c(t,p,this.options.Ltc)?(this.qa.trace(("AseTimer:Showing subtitle ").concat(t.id)),this.Hlc(t),v=Math.max(p,t.displayTime)):(this.qa.trace(("AseTimer:Staging subtitle ").concat(t.id)),this.iQa(t))));}catch(E){A={error:E};}finally{try{u && !u.done && (B=q.return) && B.call(q);}finally{if(A)throw A.error;}}w=this.cSb(v);if(!isFinite(w))return (this.fF.OMa(),[3,3]);x=k();z=this.hLb(w,p);if(void 0 === z)return [3,3];y=Math.max(z,10) + x;this.qa.trace(("AseTimer:Sleeping till PlayerTime ").concat(y));return [4,g.Og.iw(d.K.Pa(y))];case 2:return (D.va(),this.Krb(m()),[3,1]);case 3:return (this.qa.trace(("AseTimer:Checking removed subtitles one more time ").concat(m())),this.oab(m()),this.qa.trace("AseTimer:Ending subtitle worker"),[2]);}});};h.prototype.Krb=function(k,m){var p,v,q,u,t;v=this;void 0 === m && (m=!1);q=m || !this.Wk.length;q || (q=this.Gm[this.Gm.length - 1].displayTime > k);if(q){this.qa.trace(("AseTimer:Getting subtitles for ").concat(k),{sHc:this.bd.Aa.currentTime});u=this.VZ(k);if(u){this.qa.trace(("AseTimer:Received ").concat(u.length," subtitles"));q=function(y){(0,d.oc)(t.Gm,function(A){return A.id === y.id;}) || k >= y.displayTime + y.duration || (t.qa.trace(("AseTimer:adding ").concat(y.id),{start:y.startTime,THc:y.displayTime,end:y.endTime,bIc:y.duration}),t.Gm.push(y));};t=this;try{for(var w=n.__values(u),x=w.next();!x.done;x=w.next())q(x.value);}catch(y){var z;z={error:y};}finally{try{x && !x.done && (p=w.return) && p.call(w);}finally{if(z)throw z.error;}}m && this.Gm.filter(function(y){return !(0,d.oc)(u,function(A){return A.id === y.id;});}).forEach(function(y){return v.j5(y);});this.Gm.length || this.fF.OMa();}else this.Li();}};h.prototype.stop=function(){var k;this.qa.trace("AseTimer:Stop");null === (k=this.pp) || void 0 === k?void 0:k.Ma();this.fF.reset();this.Qka();this.AMa.clear();this.LOa.clear();this.hda.clear();};h.prototype.Qka=function(){var k,m,p,v;this.qa.trace("AseTimer:Removing all",this.jk.length);v=this.jk;try{for(var q=n.__values(v),u=q.next();!u.done;u=q.next())this.j5(u.value);}catch(w){var t;t={error:w};}finally{try{u && !u.done && (k=q.return) && k.call(q);}finally{if(t)throw t.error;}}this.jk=[];if(null === (m=this.pp) || void 0 === m?0:m.eA)null === (p=this.pp) || void 0 === p?void 0:p.Ma();};h.prototype.pause=function(){var k;null === (k=this.pp) || void 0 === k?void 0:k.Ma();};h.prototype.xE=function(){var k,m,p,v;(null === (k=this.pp) || void 0 === k?void 0:k.state) !== g.Rn.complete && (null === (m=this.pp) || void 0 === m?void 0:m.state) !== g.Rn.pL || this.Rx() || (null === (p=this.pp) || void 0 === p?void 0:p.Md());this.Uk && this.fF.check();this.Rx() && (null === (v=this.pp) || void 0 === v?void 0:v.Ma());};h.prototype.Avb=function(){var k;k=this;this.qa.trace("Setting up new task scheduler");(this.bd=this.gGa())?(this.LOa.clear(),this.LOa.on(this.bd,"clockChanged",function(){return k.fpb();}),this.pp=this.bd.nx(function(){return k.Duc();},"subtitleWorker"),this.fpb()):this.qa.warn("AseTimer: no player task scheduler");};h.prototype.cSb=function(k){var m;return null !== (m=this.Gm.map(function(p){return [p.displayTime,p.displayTime + p.duration + 1];}).reduce(function(p,v){return p.concat(v);},[]).filter(function(p){return p > k;}).sort(function(p,v){return p - v;})[0]) && void 0 !== m?m:Infinity;};h.prototype.fpb=function(){var k,m,p;k=this;this.hda.clear();(null === (m=this.bd) || void 0 === m?0:m.Aa)?(this.qa.trace("onClockChanged: clock listeners registered"),this.hda.on(this.bd.Aa,"clockAdjusted",function(v){v.reason === g.hJ.BO && k.tpb();}),this.hda.on(this.bd.Aa,"stopStart",function(){var v;k.bd.Ar || (null === (v=k.pp) || void 0 === v?void 0:v.Md());})):this.qa.trace("onClockChanged: playerTaskScheduler has not been set or clock is undefined");null === (p=this.pp) || void 0 === p?void 0:p.Md();};h.prototype.tpb=function(){var k,m;this.qa.trace("Timeline changed");this.Qka();this.Rx()?null === (m=this.pp) || void 0 === m?void 0:m.Ma():null === (k=this.pp) || void 0 === k?void 0:k.Md();};h.prototype.iQa=function(k){-1 === this.Wk.indexOf(k) && this.Lic(k);};h.prototype.oab=function(k){var m,p,u;p=this.jk.concat(this.Wk);try{for(var v=n.__values(p),q=v.next();!q.done;q=v.next()){u=q.value;k >= u.displayTime + u.duration && this.j5(u);}}catch(w){var t;t={error:w};}finally{try{q && !q.done && (m=v.return) && m.call(v);}finally{if(t)throw t.error;}}};h.prototype.Hlc=function(k){-1 === this.jk.indexOf(k) && (this.jk.push(k),-1 !== this.Wk.indexOf(k) && (this.Wk=this.Wk.filter(function(m){return m !== k;})),this.zLa(k));};h.prototype.zLa=function(k){this.qa.trace("AseTimer:Showing",k.id);this.emit("showsubtitle",k);};h.prototype.Lic=function(k){this.qa.trace("AseTimer:Staging",k.id);this.Wk.push(k);this.emit("stagesubtitle",k);};h.prototype.Li=function(){this.qa.trace("AseTimer:onUnderflow",this.Uk);this.Uk || (this.emit("underflow"),this.fF.Li());};h.prototype.j5=function(k){this.qa.trace("AseTimer:Removing",k.id);-1 !== this.Wk.indexOf(k) && (this.Wk=this.Wk.filter(function(m){return m !== k;}));-1 !== this.jk.indexOf(k) && (this.emit("removesubtitle",k),this.jk=this.jk.filter(function(m){return m !== k;}));this.Gm=this.Gm.filter(function(m){return m !== k;});};h.prototype.mLa=function(){var k;this.Gm.length && (this.emit("bufferingComplete"),this.Rx() || (null === (k=this.pp) || void 0 === k?void 0:k.Md()));};return h;})(e.EventEmitter);b.JTa=r;f=(function(){function l(h,k,m){void 0 === m && (m=!1);this.VZ=h;this.qa=k;this.Dxa=m;this.events=new e.EventEmitter();this.Uk=!1;}Object.defineProperty(l.prototype,"buffering",{get:function(){return this.Uk;},enumerable:!1,configurable:!0});l.prototype.OMa=function(){var h;h=this;this.qa.trace("AseTimer:Buffering watcher restart");this.Uk=!0;this.cya && clearInterval(this.cya);this.cya=this.Dxa?setInterval(function(){return h.check();},500):setInterval(function(){return h.check();},2E4);};l.prototype.Li=function(){this.qa.trace("AseTimer:Buffering watcher underflow");this.Uk=!0;this.rab(1);};l.prototype.reset=function(){this.qa.trace("AseTimer:Buffering watcher reset");clearInterval(this.cya);clearTimeout(this.dNb);this.Uk=!1;};l.prototype.rab=function(h){var k;k=250 * (1 << h);2E3 < k && (k=2E3);this.check();this.Uk && (this.dNb=setTimeout(this.rab.bind(this,h + 1),k));};l.prototype.check=function(){var h;h=this.VZ();this.qa.trace("AseTimer:Buffering complete check",null === h || void 0 === h?void 0:h.length);null !== h && (this.reset(),this.events.emit("bufferingcomplete",{type:"bufferingcomplete",wI:h}));};return l;})();b.PBb=f;},18797:function(r,b,a){var q,u,t,w,x,z,y,A,B;function c(C,D){var E,F;E=this;F=C.styles || ({});return {startTime:D.startTime,id:D.id,endTime:D.endTime,displayTime:D.displayTime,duration:D.duration,blocks:D.blocks.map(function(G){var J;J=x.RXb(C,G);return {textNodes:G.textNodes.map(v.bind(E,F)),region:J,id:G.id};})};}function n(C){if(!Array.isArray(C))throw Error("last called on non-array: " + C);return C[C.length - 1];}function d(C,D){var E,F,G,J,N,I;E=t.te(!0);F={};G=[];J=null;N=[];I={};E.onerror=function(M){D(M,null);};E.onend=function(){D(null,F);};E.onclosetag=function(){G.pop();};E.onopentag=function(M){var K,L,H,O;K=M.attributes;L=M.name;H=F.regions;O=F.styles;G.push(M);if("tt" === L)F=k(K);else if("body" === L)"undefined" !== typeof K.style && (F.defaultStyle=K.style,N.push(K.style));else if("initial" === L && p(G,"styling"))(I=m(K,z),F.initialStyle=I);else if("style" === L && p(G,"styling")){H=K["xml:id"];M=I;K=m(K,z);if(Object.keys(M).length)for(var P in M)"undefined" === typeof K[P] && (K[P]=M[P]);O[H]=K;}else "style" === L && p(G,"region")?(O=Object.keys(K)[0],"string" === typeof O && (H[J][O.slice(4)]=K[O])):"region" === L && p(G,"layout") && (J=K["xml:id"],H[J]=m(K,A));};setTimeout(function(){var M;for(E.write(C);0 < G.length && !E.error;){M=n(G).name;E.write("</" + M + ">");}E.close();},10);}function g(C,D){var E;E=C.filter(function(F){return F.startTime <= D && D <= F.endTime;});C=C.filter(function(F){return F.startTime > D;});return 0 < C.length?E.concat([C[0]]):E;}function e(){}function f(C){var D,E;D=C.He;E=C.qa;if(!C.xml && !C.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");u.call(this);this.mh=this.bba=null;this.lk="number" === typeof D?C.He:0;this.EK=C.xml || "";this.na="object" === typeof E?C.qa:B;this.xK=C.request;this.Zf=C.url;this.Vb=[];this.Jl=this.lk;this.xe=null;this.jp=this.Dj=!1;this.ZJ=C.V5 || 0;this.DK=C.GQa;}function l(){var C,D,E;C=this;D=C.EK.indexOf("<p");if(-1 < D){E=C.EK.slice(0,D);d(E,function(F,G){null !== F?(F.Pib=E,C.emit("error",F)):(C.bba=G,C.mh=new w(C.EK,G.tickRate),h.call(C,C.lk));});}else C.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function h(C){var D,E,F,G,J,N,I,M,K;D=this;E=D.bba;F=0;G=[];J=E.defaultStyle?[E.defaultStyle]:[];N=E.lang?[E.lang]:[];I=D.mh.Fxa;D.na.info("parsing the next 5 entries...");M=D.mh.M6b(C);D.na.debug(M);K=t.te(!0);K.onerror=function(L){L.xml=M;D.emit("error",L);};K.onend=function(){var L;L=D.Vb.reduce(function(H,O){O=O.blocks.reduce(function(P,Q){return P.concat([Q.id]);},[]);return H.concat(O);},[]);G.forEach(function(H){var O;if(-1 === L.indexOf(H.id)){O=H && H.blocks && H.blocks.filter(function(P){return 0 < P.textNodes.length;});O && 0 < O.length && (H.blocks=O,D.Vb.push(H));}});D.jp=!1;D.Dj || (D.Dj=!0,D.emit("ready"));};K.ontext=function(L){var H,O,P,Q;if("" !== L.trim() || L.match(/ +/)){H=n(n(G).blocks).textNodes;O=H.push;L=L.match(/ +/) || n(N) && "ja" === n(N).slice(0,2)?L:L.trim();P=n(J);Q=n(N);O.call(H,{text:L,style:P,lang:Q && 0 === Q.indexOf("ja")?"ja":Q,lineBreaks:F});}F=0;};K.onclosetag=function(){var L;L=K.tag;"undefined" !== typeof L.attributes.style && J.pop();"undefined" !== typeof L.attributes["xml:lang"] && N.pop();};K.onopentag=function(L){var H,O,P,Q,S;H=L.attributes;O=L.name;L=E.tickRate;if("p" === O){F=0;O=H["xml:id"];H.style && J.push(H.style);H["xml:lang"] && N.push(H["xml:lang"]);P=I?Math.floor(parseInt(H.begin) / L * 1E3):Math.floor(q(H.begin));if(0 === G.length || n(G).displayTime !== P){P=G.push;Q={};if(I){S=parseInt(H.begin) / L * 1E3;L=parseInt(H.end) / L * 1E3;}else (S=q(H.begin),L=q(H.end));Q.id=O;Q.startTime=Math.floor(S);Q.endTime=Math.floor(L);Q.style=H.style;Q.region=H.region;Q.displayTime=Q.startTime;Q.duration=Q.endTime - Q.startTime;Q.extent=H["tts:extent"] || null;Q.origin=H["tts:origin"] || null;Q.latestEndSoFar=0 > Q.endTime?0:Q.endTime;Q.blocks=[{textNodes:[],region:Q.region,id:O,extent:Q.extent,origin:Q.origin}];P.call(G,Q);}else n(G).blocks.push({textNodes:[],region:H.region,id:O,extent:H["tts:extent"] || null,origin:H["tts:origin"] || null});}else "span" === O?(J.push(H.style),H["xml:lang"] && N.push(H["xml:lang"]),L=E.styles[H.style],H.style && L && L.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(L.ruby) && n(n(G).blocks).textNodes.push({text:"",style:n(J),lang:n(N),lineBreaks:0})):"br" === O && F++;};K.write("<entries>").write(M).write("</entries>").close();}function k(C){var D;C=m(C,y);if("string" === typeof C.extent){D=C.extent.split(" ").map(function(E){return parseInt(E,10);});C.width=D[0];C.height=D[1];}else (C.width=1280,C.height=720);C.aspectRatio=C.width / C.height;"string" === typeof C.cellResolution?(D=C.cellResolution.split(" ").map(function(E){return parseInt(E,10);}),C.cellResolution={},C.cellResolution.x=D[0],C.cellResolution.y=D[1]):C.cellResolution={x:52,y:19};return C;}function m(C,D){var E;E={};D.forEach(function(F){"undefined" !== typeof C["tts:" + F]?E[F]=C["tts:" + F]:"undefined" !== typeof C["ttp:" + F]?E[F]=C["ttp:" + F]:"undefined" !== typeof C["ebutts:" + F]?E[F]=C["ebutts:" + F]:"undefined" !== typeof C["xml:" + F] && (E[F]=C["xml:" + F]);});E.styles={};E.regions={};return E;}function p(C,D){var E;for(E=C.length - 1;0 <= E;E--)if(C[E].name === D)return !0;return !1;}function v(C,D){return {lineBreaks:D.lineBreaks,text:D.text,lang:D.lang,style:this.DK.YXb(C[D.style] || ({}),this.bba),id:D.id};}q=a(4574).YF;u=a(22699).EventEmitter;t=a(60514);w=a(96379);x=a(81668);a(81824);a(81824);z=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline textCombine multiRowAlign direction ruby rubyAlign rubyPosition rubyReserve textEmphasis shear lineHeight").split(" ");y=("cellResolution pixelAspectRatio tickRate timeBase extent lang").split(" ");A=("backgroundColor displayAlign extent origin position writingMode multiRowAlign textAlign direction").split(" ");B={info:e,debug:e};b=Object.create(u.prototype);f.prototype=b;b.start=function(){var C;C=this;C.na.info("incremental text stream created, starting at pts " + C.lk);C.EK?l.call(C):C.xK({url:C.Zf},function(D,E){C.EK=E;l.call(C);});};b.wG=function(C){var D,E,F;D=this;C < D.Jl - D.ZJ && (D.Vb=[]);E=D.Vb;F=E.length?Math.max(E[E.length - 1].startTime,C):C;D.Jl=C;for(!D.xe && 5 > D.Vb.length && !D.jp && (D.na.info("buffer size: " + D.Vb.length + "; minimum: 5"),D.jp=!0,D.xe=setTimeout(function(){D.xe=null;h.call(D,F + 1);},10));0 < E.length && E[0].endTime < C;)E.shift();E=g(E,C).map(c.bind(D,D.bba));C < D.mh.Neb() && 0 === E.length && (E=null);return E;};b.mo=function(C,D){return this.mh?this.mh.mo(C,D):0;};b.close=function(){};r.exports={Oqa:f,cqb:d,cd:n,Dfa:g,Zda:c};},60514:function(r){var u,t,w,x,z,y,A,B,C,D,E,F,G,J,N,I,M;function b(){}function a(K,L){if(!(this instanceof a))return new a(K,L);for(var H=0,O=t.length;H < O;H++)this[t[H]]="";this.q=this.c=this.Fp=this.textNode="";this.mR=u.DJ;this.Fe=L || ({});this.Fe.umb=this.Fe.umb || this.Fe.OKc;this.xJa=this.Fe.umb?"toLowerCase":"toUpperCase";this.tj=[];this.closed=this.ER=this.jO=!1;this.tag=this.error=null;this.Jo=!!K;this.Gob=!(!K && !this.Fe.Gob);this.state=M.sP;this.EB=(this.Hwb=this.Fe.Hwb)?Object.create(u.YJb):Object.create(u.EB);this.KF=[];this.Fe.E8 && (this.pl=Object.create(J));if(this.Fma=!1 !== this.Fe.position)this.position=this.line=this.MC=0;this.onready && this.onready(void 0);}function c(K,L){var H;if(!(this instanceof c))return new c(K,L);b.apply(this);this.Vd=new a(K,L);this.readable=this.writable=!0;H=this;this.Vd.onend=function(){H.emit("end");};this.Vd.onerror=function(O){H.emit("error",O);H.Vd.error=null;};w.forEach(function(O){Object.defineProperty(H,"on" + O,{get:function(){return H.Vd["on" + O];},set:function(P){if(!P)return (H.removeAllListeners(O),H.Vd["on" + O]=P);H.on(O,P);},enumerable:!0,configurable:!1});});}function n(K){return K.split("").reduce(function(L,H){L[H]=!0;return L;},{});}function d(K,L){return "[object RegExp]" === Object.prototype.toString.call(K)?!!L.match(K):K[L];}function g(K,L,H){K.textNode && e(K);K[L] && K[L](H);}function e(K){K.textNode=f(K.Fe,K.textNode);K.textNode && K.ontext && K.ontext(K.textNode);K.textNode="";}function f(K,L){K.trim && (L=L.trim());K.normalize && (L=L.replace(/\s+/g," "));return L;}function l(K,L){e(K);K.Fma && (L+="\nLine: " + K.line + "\nColumn: " + K.MC + "\nChar: " + K.c);L=Error(L);K.error=L;K.onerror && K.onerror(L);return K;}function h(K){K.jO && !K.ER && k(K,"Unclosed root tag");K.state !== M.sP && K.state !== M.poa && K.state !== M.Ia && l(K,"Unexpected end");e(K);K.c="";K.closed=!0;K.onend && K.onend(void 0);a.call(K,K.Jo,K.Fe);return K;}function k(K,L){if("object" !== typeof K || !(K instanceof a))throw Error("bad call to strictFail");K.Jo && l(K,L);}function m(K,L){var H,O;H=0 > K.indexOf(":")?["",K]:K.split(":");O=H[0];H=H[1];L && "xmlns" === K && (O="xmlns",H="");return {prefix:O,local:H};}function p(K){var L,H,O;K.Jo || (K.pk=K.pk[K.xJa]());if(-1 !== K.KF.indexOf(K.pk) || K.tag.attributes.hasOwnProperty(K.pk))return K.pk=K.qk="";if(K.Fe.E8){L=m(K.pk,!0);H=L.local;if("xmlns" === L.prefix)if("xml" === H && K.qk !== F)k(K,"xml: prefix must be bound to " + F + "\nActual: " + K.qk);else if("xmlns" === H && K.qk !== G)k(K,"xmlns: prefix must be bound to " + G + "\nActual: " + K.qk);else {L=K.tag;O=K.tj[K.tj.length - 1] || K;L.pl === O.pl && (L.pl=Object.create(O.pl));L.pl[H]=K.qk;}K.KF.push([K.pk,K.qk]);}else (K.tag.attributes[K.pk]=K.qk,g(K,"onattribute",{name:K.pk,value:K.qk}));K.pk=K.qk="";}function v(K,L){var H,O,Q,S,X,W,V;if(K.Fe.E8){H=K.tag;O=m(K.tagName);H.prefix=O.prefix;H.local=O.local;H.uri=H.pl[O.prefix] || "";H.prefix && !H.uri && (k(K,"Unbound namespace prefix: " + JSON.stringify(K.tagName)),H.uri=O.prefix);O=K.tj[K.tj.length - 1] || K;H.pl && O.pl !== H.pl && Object.keys(H.pl).forEach(function(fa){g(K,"onopennamespace",{prefix:fa,uri:H.pl[fa]});});O=0;for(var P=K.KF.length;O < P;O++){Q=K.KF[O];S=Q[0];X=Q[1];W=m(S,!0);Q=W.prefix;V="" == Q?"":H.pl[Q] || "";X={name:S,value:X,prefix:Q,local:W.local,uri:V};Q && "xmlns" != Q && !V && (k(K,"Unbound namespace prefix: " + JSON.stringify(Q)),X.uri=Q);K.tag.attributes[S]=X;g(K,"onattribute",X);}K.KF.length=0;}K.tag.sKc=!!L;K.jO=!0;K.tj.push(K.tag);g(K,"onopentag",K.tag);L || (K.state=K.Gob || "script" !== K.tagName.toLowerCase()?M.Ia:M.rQ,K.tag=null,K.tagName="");K.pk=K.qk="";K.KF.length=0;}function q(K){var L,H,P;if(K.tagName){if(K.vl){if("script" !== K.tagName){K.vl+="</" + K.tagName + ">";K.tagName="";K.state=M.rQ;return;}g(K,"onscript",K.vl);K.vl="";}L=K.tj.length;H=K.tagName;K.Jo || (H=H[K.xJa]());for(var O=H;L--;)if(K.tj[L].name !== O)k(K,"Unexpected close tag");else break;if(0 > L)(k(K,"Unmatched closing tag: " + K.tagName),K.textNode+="</" + K.tagName + ">");else {K.tagName=H;for(H=K.tj.length;H-- > L;){P=K.tag=K.tj.pop();K.tagName=K.tag.name;g(K,"onclosetag",K.tagName);for(var Q in P.pl);O=K.tj[K.tj.length - 1] || K;K.Fe.E8 && P.pl !== O.pl && Object.keys(P.pl).forEach(function(S){g(K,"onclosenamespace",{prefix:S,uri:P.pl[S]});});}0 === L && (K.ER=!0);K.tagName=K.qk=K.pk="";K.KF.length=0;}}else (k(K,"Weird empty close tag."),K.textNode+="</>");K.state=M.Ia;}u={te:function(K,L){return new a(K,L);}};u.oEc=a;u.pEc=c;u.mCa=function(K){return new c(K,void 0);};u.DJ=65536;t=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");u.Pk=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(K){function L(){this.__proto__=K;}L.prototype=K;return new L();});Object.getPrototypeOf || (Object.getPrototypeOf=function(K){return K.__proto__;});Object.keys || (Object.keys=function(K){var L,H;L=[];for(H in K)K.hasOwnProperty(H) && L.push(H);return L;});a.prototype={end:function(){h(this);},write:function(K){var P,Q,S,X,W,V;if(this.closed)return l(this,"Cannot write after close. Assign an onready handler.");if(null === K)return h(this);if(this.error)throw this.error;for(var L=0,H;this.c=H=K.charAt(L++);)switch((this.Fma && (this.position++,"\n" === H?(this.line++,this.MC=0):this.MC++),this.state)){case M.sP:if((this.state=M.poa,"\ufeff" === H))continue;case M.poa:"<" === H?(this.state=M.gta,this.pQa=this.position):d(x,H) || (k(this,"Non-whitespace before first tag."),this.textNode=H,this.state=M.Ia);continue;case M.Ia:if(this.jO && !this.ER){for(var O=L - 1;H && "<" !== H && "&" !== H;)(H=K.charAt(L++)) && this.Fma && (this.position++,"\n" === H?(this.line++,this.MC=0):this.MC++);this.textNode+=K.substring(O,L - 1);}"<" !== H || this.jO && this.ER && !this.Jo?(d(x,H) || this.jO && !this.ER || k(this,"Text data outside of root node."),"&" === H?this.state=M.Yva:this.textNode+=H):(this.state=M.gta,this.pQa=this.position);continue;case M.rQ:"<" === H?this.state=M.i3a:this.vl+=H;continue;case M.i3a:"/" === H?this.state=M.Hoa:(this.vl+="<" + H,this.state=M.rQ);continue;case M.gta:"!" === H?(this.state=M.rva,this.$v=""):d(x,H) || (d(N,H)?(this.state=M.x0a,this.tagName=H):"/" === H?(this.state=M.Hoa,this.tagName=""):"?" === H?(this.state=M.Z0a,this.zka=this.SN=""):(k(this,"Unencoded <"),this.pQa + 1 < this.position && (H=Array(this.position - this.pQa).join(" ") + H),this.textNode+="<" + H,this.state=M.Ia));continue;case M.rva:(this.$v + H).toUpperCase() === D?(g(this,"onopencdata"),this.state=M.Z8,this.bo=this.$v=""):"--" === this.$v + H?(this.state=M.e9,this.$v=this.eo=""):(this.$v + H).toUpperCase() === E?(this.state=M.i9,(this.doctype || this.jO) && k(this,"Inappropriately located doctype declaration"),this.$v=this.doctype=""):">" === H?(g(this,"onsgmldeclaration",this.$v),this.$v="",this.state=M.Ia):(d(A,H) && (this.state=M.m3a),this.$v+=H);continue;case M.m3a:H === this.q && (this.state=M.rva,this.q="");this.$v+=H;continue;case M.i9:">" === H?(this.state=M.Ia,g(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=H,"[" === H?this.state=M.cpa:d(A,H) && (this.state=M.AVa,this.q=H));continue;case M.AVa:this.doctype+=H;H === this.q && (this.q="",this.state=M.i9);continue;case M.cpa:this.doctype+=H;"]" === H?this.state=M.i9:d(A,H) && (this.state=M.zVa,this.q=H);continue;case M.zVa:this.doctype+=H;H === this.q && (this.state=M.cpa,this.q="");continue;case M.e9:"-" === H?this.state=M.JUa:this.eo+=H;continue;case M.JUa:"-" === H?(this.state=M.IUa,(this.eo=f(this.Fe,this.eo)) && g(this,"oncomment",this.eo),this.eo=""):(this.eo+="-" + H,this.state=M.e9);continue;case M.IUa:">" !== H?(k(this,"Malformed comment"),this.eo+="--" + H,this.state=M.e9):this.state=M.Ia;continue;case M.Z8:"]" === H?this.state=M.yUa:this.bo+=H;continue;case M.yUa:"]" === H?this.state=M.zUa:(this.bo+="]" + H,this.state=M.Z8);continue;case M.zUa:">" === H?(this.bo && g(this,"oncdata",this.bo),g(this,"onclosecdata"),this.bo="",this.state=M.Ia):"]" === H?this.bo+="]":(this.bo+="]]" + H,this.state=M.Z8);continue;case M.Z0a:"?" === H?this.state=M.yta:d(x,H)?this.state=M.xta:this.zka+=H;continue;case M.xta:if(!this.SN && d(x,H))continue;else "?" === H?this.state=M.yta:this.SN+=H;continue;case M.yta:">" === H?(g(this,"onprocessinginstruction",{name:this.zka,body:this.SN}),this.zka=this.SN="",this.state=M.Ia):(this.SN+="?" + H,this.state=M.xta);continue;case M.x0a:if(d(I,H))this.tagName+=H;else {this.Jo || (this.tagName=this.tagName[this.xJa]());O=this.tj[this.tj.length - 1] || this;P=this.tag={name:this.tagName,attributes:{}};this.Fe.E8 && (P.pl=O.pl);this.KF.length=0;">" === H?v(this):"/" === H?this.state=M.A$:(!d(x,H) && k(this,"Invalid character in tag name"),this.state=M.qP);}continue;case M.A$:">" === H?(v(this,!0),q(this)):(k(this,"Forward-slash in opening tag not followed by >"),this.state=M.qP);continue;case M.qP:if(d(x,H))continue;else ">" === H?v(this):"/" === H?this.state=M.A$:d(N,H)?(this.pk=H,this.qk="",this.state=M.J8):k(this,"Invalid attribute name");continue;case M.J8:"=" === H?this.state=M.Ana:">" === H?(k(this,"Attribute without value"),this.qk=this.pk,p(this),v(this)):d(x,H)?this.state=M.MSa:d(I,H)?this.pk+=H:k(this,"Invalid attribute name");continue;case M.MSa:if("=" === H)this.state=M.Ana;else if(d(x,H))continue;else (k(this,"Attribute without value"),this.qk=this.tag.attributes[this.pk]="",g(this,"onattribute",{name:this.pk,value:""}),this.pk="",">" === H?v(this):d(N,H)?(this.pk=H,this.state=M.J8):(k(this,"Invalid attribute name"),this.state=M.qP));continue;case M.Ana:if(d(x,H))continue;else d(A,H)?(this.q=H,this.state=M.Dna):(k(this,"Unquoted attribute value"),this.state=M.Ena,this.qk=H);continue;case M.Dna:if(H !== this.q){"&" === H?this.state=M.Bna:this.qk+=H;continue;}p(this);this.q="";this.state=M.NSa;continue;case M.NSa:d(x,H)?this.state=M.qP:">" === H?v(this):"/" === H?this.state=M.A$:d(N,H)?(k(this,"No whitespace between attributes"),this.pk=H,this.qk="",this.state=M.J8):k(this,"Invalid attribute name");continue;case M.Ena:if(!d(C,H)){"&" === H?this.state=M.Cna:this.qk+=H;continue;}p(this);">" === H?v(this):this.state=M.qP;continue;case M.Hoa:if(this.tagName)">" === H?q(this):d(I,H)?this.tagName+=H:this.vl?(this.vl+="</" + this.tagName,this.tagName="",this.state=M.rQ):(!d(x,H) && k(this,"Invalid tagname in closing tag"),this.state=M.GUa);else if(d(x,H))continue;else d(N,H)?this.tagName=H:this.vl?(this.vl+="</" + H,this.state=M.rQ):k(this,"Invalid tagname in closing tag.");continue;case M.GUa:if(d(x,H))continue;">" === H?q(this):k(this,"Invalid characters in closing tag");continue;case M.Yva:case M.Bna:case M.Cna:switch(this.state){case M.Yva:(Q=M.Ia,S="textNode");break;case M.Bna:Q=M.Dna;S="attribValue";break;case M.Cna:(Q=M.Ena,S="attribValue");}if(";" === H){H=S;O=this[H];P=this.Fp;X=P.toLowerCase();W="";if(this.EB[P])P=this.EB[P];else if(this.EB[X])P=this.EB[X];else {P=X;if("#" === P.charAt(0))if("x" === P.charAt(1)){P=P.slice(2);V=parseInt(P,16);W=V.toString(16);}else (P=P.slice(1),V=parseInt(P,10),W=V.toString(10));P=P.replace(/^0+/,"");P=W.toLowerCase() !== P?(k(this,"Invalid character entity"),"&" + this.Fp + ";"):String.fromCodePoint(V);}this[H]=O + P;this.Fp="";this.state=Q;}else d(B,H)?this.Fp+=H:(k(this,"Invalid character entity"),this[S]+="&" + this.Fp + H,this.Fp="",this.state=Q);continue;default:throw Error(this,"Unknown state: " + this.state);}if(this.position >= this.mR){K=Math.max(u.DJ,10);H=L=0;for(Q=t.length;H < Q;H++){S=this[t[H]].length;if(S > K)switch(t[H]){case "textNode":e(this);break;case "cdata":g(this,"oncdata",this.bo);this.bo="";break;case "script":g(this,"onscript",this.vl);this.vl="";break;default:l(this,"Max buffer length exceeded: " + t[H]);}L=Math.max(L,S);}this.mR=u.DJ - L + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){e(this);"" !== this.bo && (g(this,"oncdata",this.bo),this.bo="");"" !== this.vl && (g(this,"onscript",this.vl),this.vl="");}};w=u.Pk.filter(function(K){return "error" !== K && "end" !== K;});c.prototype=Object.create(b.prototype,{constructor:{value:c}});c.prototype.write=function(K){this.Vd.write(K.toString());this.emit("data",K);return !0;};c.prototype.end=function(K){K && K.length && this.write(K);this.Vd.end();return !0;};c.prototype.on=function(K,L){var H;H=this;H.Vd["on" + K] || -1 === w.indexOf(K) || (H.Vd["on" + K]=function(){var O;O=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);O.splice(0,0,K);H.emit.apply(H,O);});return b.prototype.on.call(H,K,L);};x="\r\n\t ";z="0124356789";y="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";A="'\"";B=z + y + "#";C=x + ">";D="[CDATA[";E="DOCTYPE";F="http://www.w3.org/XML/1998/namespace";G="http://www.w3.org/2000/xmlns/";J={xml:F,E8:G};x=n(x);z=n(z);y=n(y);N=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;I=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;A=n(A);B=n(B);C=n(C);M=0;u.$o={sP:M++,poa:M++,Ia:M++,Yva:M++,gta:M++,rva:M++,m3a:M++,i9:M++,AVa:M++,cpa:M++,zVa:M++,FAc:M++,e9:M++,JUa:M++,IUa:M++,Z8:M++,yUa:M++,zUa:M++,Z0a:M++,xta:M++,yta:M++,x0a:M++,A$:M++,qP:M++,J8:M++,MSa:M++,Ana:M++,Dna:M++,NSa:M++,Ena:M++,Bna:M++,Cna:M++,Hoa:M++,GUa:M++,rQ:M++,i3a:M++};u.YJb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};u.EB={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(u.EB).forEach(function(K){var L;L=u.EB[K];L="number" === typeof L?String.fromCharCode(L):L;u.EB[K]=L;});for(M in u.$o)u.$o[u.$o[M]]=M;M=u.$o;String.fromCodePoint || (function(){var L,H;function K(){var O,P,Q,X,W;O=[];P=-1;Q=arguments.length;if(!Q)return "";for(var S="";++P < Q;){X=Number(arguments[P]);if(!isFinite(X) || 0 > X || 1114111 < X || H(X) != X)throw RangeError("Invalid code point: " + X);if(65535 >= X)O.push(X);else {X-=65536;W=(X >> 10) + 55296;X=X % 1024 + 56320;O.push(W,X);}if(P + 1 == Q || 16384 < O.length)(S+=L.apply(null,O),O.length=0);}return S;}L=String.fromCharCode;H=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:K,configurable:!0,writable:!0}):String.fromCodePoint=K;})();r.exports=u;},11946:function(r){r.exports=function(){var b;for(b=0;b < arguments.length;b++)if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];return null;};},81668:function(r,b,a){var g,e,f,l,h,k,m,p;function c(v){return "string" !== typeof v?null:e[v];}function n(v){return "string" !== typeof v?null:h[v];}function d(v,q){var u;u=v.split(" ");v=u[0];u=u[1];-1 < v.indexOf("px")?(v=parseFloat(v) / q.width,u=parseFloat(u) / q.height):(v=.01 * parseFloat(v),u=.01 * parseFloat(u));return [v,u];}g=a(11946);r.exports={RXb:function(v,q){var u,t,w,x,z,y,F;u=q.textNodes[0] || ({});t=v.regions;w=v.styles;x=v.aspectRatio;z=v.initialStyle || ({});t=t && t[q.region]?t[q.region]:{};w=w && w[u.style]?w[u.style]:{};u=u.lang;y=d(g(q.extent,t.extent,"80% 80%"),v);if(t.position){for(var A=t.position.split(" "),B=[.5,.5],C=["left","top"],D=0,E=0;E < A.length;E++){F=A[E];(F in m)?(C[D]=F,E + 1 >= A.length && (B[D++]=0)):"center" === F?B[D++]=.5:B[D++]=.01 * parseFloat(F);}-1 < ["top","bottom"].indexOf(C[0]) || -1 < ["left","right"].indexOf(C[1])?(D="bottom" === C[0]?1 - B[0]:B[0],A="right" === C[1]?1 - B[1]:B[1]):(A="right" === C[0]?1 - B[0]:B[0],D="bottom" === C[1]?1 - B[1]:B[1]);B=[(1 - y[0]) * A,(1 - y[1]) * D];}else B=null;q=B?B:d(g(B,q.origin,t.origin,"10% 10%"),v);v=Object;x/=1280 / 720;B=(1 - x) / 2;C=q[0];q=q[1];y=v.create.call(v,{marginLeft:C * x + B,marginTop:q,marginRight:(1 - (C + y[0])) * x + B,marginBottom:1 - (q + y[1])});x=t.writingMode?t.writingMode:"lrtb";y.writingMode="string" !== typeof x?null:k[x];1 < Object.keys(t).length?(x=g(w.displayAlign,t.displayAlign,"before"),"tblr" === t.writingMode || "tbrl" === t.writingMode?(y.horizontalAlignment="string" !== typeof x?null:"tblr" === t.writingMode?f[x]:l[x],y.verticalAlignment=c(g(w.textAlign,t.textAlign,"start"))):y.verticalAlignment=c(x)):y.verticalAlignment=c(g(w.displayAlign,"after"));"horizontal-tb" === y.writingMode && (y.horizontalAlignment=n(g(w.textAlign,t.textAlign,z.textAlign,"center")));y.multiRowAlignment=n(g(w.multiRowAlign,t.multiRowAlign,w.textAlign,t.textAlign,z.textAlign,u && "ja" === u.slice(0,2)?"start":"center"));z=g(t.direction,t.writingMode);y.direction="string" !== typeof z?null:p[z];return y;}};e={before:"top",start:"top",center:"center",after:"bottom",end:"bottom"};f={before:"left",center:"center",after:"right"};l={before:"right",center:"center",after:"left"};h={left:"left",start:"start",center:"center",right:"right",end:"end"};k={lrtb:"horizontal-tb",rltb:"horizontal-tb",tblr:"vertical-lr",tbrl:"vertical-rl"};m={top:"top",bottom:"bottom",left:"left",right:"right"};p={ltr:"ltr",rtl:"rtl",lrtb:"ltr",rltb:"rtl"};},81824:function(r,b){var a,c,n,d;Object.defineProperty(b,"__esModule",{value:!0});r={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};a={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};c={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};n={SMALL:.5,"SMALL-MEDIUM":.8,MEDIUM:1,"MEDIUM-LARGE":1.3,LARGE:2};d={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};b.uuc={gab:n,Wab:a,nfb:c,ypb:r,sizeScaleMap:{MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}},vRa:d};b.sdc={gab:n,Wab:a,nfb:c,ypb:r,sizeScaleMap:{},vRa:d};},7376:function(r,b,a){var c,n,d,g,e,f,l,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.o4a=void 0;c=a(5163).__importDefault(a(11946));n=("start center end spaceAround spaceBetween withBase").split(" ");d=["before","after","both","outside"];g=["before","after","outside"];e=["filled","open"];f=["circle","dot","sesame"];l=["none","auto"];h=["before","after","outside"];k=("container base baseContainer text textContainer delimiter").split(" ");r=(function(){function m(p,v,q){this.bb=p;this.Ds=v;this.Hs=q;}m.prototype.YXb=function(p,v){var q,u,t;q=(0,c.default)(this.Hs.characterSize,this.Ds.characterSize,"MEDIUM");u=(0,c.default)(this.Hs.characterStyle,this.c3b(p.fontFamily),this.Ds.characterStyle,"PROPORTIONAL_SANS_SERIF");t=this.Djc(p.fontSize);return {characterUnderline:"underline" === p.textDecoration,characterItalic:"italic" === p.fontStyle,characterStyle:u,windowOpacity:this.JLa((0,c.default)(this.Hs.windowOpacity,this.Ds.windowOpacity,"OPAQUE")),characterOpacity:this.JLa((0,c.default)(this.Hs.characterOpacity,this.Ds.characterOpacity,"OPAQUE")),backgroundOpacity:this.JLa((0,c.default)(this.Hs.backgroundOpacity,p.opacity,this.Ds.backgroundOpacity,"OPAQUE")),characterColor:this.E0((0,c.default)(this.Hs.characterColor,p.color,this.Ds.characterColor,"#ffffff")),backgroundColor:this.E0((0,c.default)(this.Hs.backgroundColor,p.backgroundColor,this.Ds.backgroundColor,null)),windowColor:this.E0((0,c.default)(this.Hs.windowColor,p.windowColor,this.Ds.windowColor,null)),characterEdgeAttributes:(0,c.default)(this.Hs.characterEdgeAttributes,this.Ds.characterEdgeAttributes,null),characterSize:this.hTb(q,u,t),characterTracking:this.iTb(q,u),characterEdgeWidth:(0,c.default)(this.iSb(p.textOutline),0),characterEdgeBlur:(0,c.default)(this.gSb(p.textOutline),0),characterEdgeColor:this.E0((0,c.default)(this.Hs.characterEdgeColor,this.hSb(p.textOutline),this.Ds.characterEdgeColor,"#000000")),direction:(0,c.default)(this.Hs.direction,p.direction,this.Ds.direction,"ltr"),ruby:(0,c.default)(this.Mja(p.ruby,k),null),rubyAlign:(0,c.default)(this.Mja(p.rubyAlign,n),null),rubyPosition:(0,c.default)(this.Mja(p.rubyPosition,g),null),rubyReserve:(0,c.default)(this.Mja(p.rubyReserve,d),null),textEmphasis:this.Yjc(p.textEmphasis),shear:p.shear?.01 * parseFloat(p.shear):null,textCombine:p.textCombine?p.textCombine:null,lineHeight:p.lineHeight?this.Ijc(p.lineHeight,v):null};};m.prototype.Ijc=function(p,v){var q;q=p.match(/^([\d\.]+)([a-z%]*)$/i);if(!q)return null;p=parseFloat(q[1]);switch(q[2]){case "rh":(null === v || void 0 === v?0:v.height)?(p*=v.height,v="px"):v=q[2];break;case "rw":(null === v || void 0 === v?0:v.width)?(p*=v.width,v="px"):v=q[2];break;default:v=q[2];}return {value:p,Ng:v};};m.prototype.JLa=function(p){return this.bb.ypb[p];};m.prototype.E0=function(p){return "string" !== typeof p || "#" === p[0] && 7 === p.length?p:"#" === p[0] && 4 === p.length?"#" + p[1] + p[1] + p[2] + p[2] + p[3] + p[3]:this.bb.Wab[p.toLowerCase()];};m.prototype.c3b=function(p){return "string" !== typeof p?null:this.bb.nfb[p];};m.prototype.hTb=function(p,v,q){var u;q*=this.bb.gab[p] || 1;u=1;this.bb.sizeScaleMap[p] && (u=this.bb.sizeScaleMap[p][v] || 1);return 1 / 19 * q * u;};m.prototype.iTb=function(p,v){var q;q=0;this.bb.vRa[p] && (q=this.bb.vRa[p][v] || 0);return q;};m.prototype.iSb=function(p){return "string" !== typeof p?null:this.gMa(p).width;};m.prototype.gSb=function(p){return "string" !== typeof p?null:this.gMa(p).blur;};m.prototype.hSb=function(p){return "string" !== typeof p?null:this.gMa(p).color;};m.prototype.gMa=function(p){var v,q,u;p=(p || "").split(" ");v=(/^[0-9]/).test(p[0]);q=v?0:1;u=parseInt(p[q]);q=parseInt(p[q + 1]);return {color:v?"#000000":this.E0(p[0]),width:0 < u?u:0,blur:0 < q?q:0};};m.prototype.Djc=function(p){p=(p || "").split(" ")[0] || "";return -1 < p.indexOf("%")?parseInt(p,10) / 100:-1 < p.indexOf("em")?parseFloat(p):1;};m.prototype.Mja=function(p,v){if(-1 < v.indexOf(p))return p;};m.prototype.Yjc=function(p){var v,q;if(!p)return null;p=p.split(" ");if(0 === p.length)return null;v=this.rfa(p,h);v=v.length?v[0]:"outside";q=this.rfa(p,l);if(q.length)return this.EPa(q[0],"",v);q=this.rfa(p,e);p=this.rfa(p,f);return p.length || q.length?this.EPa(p.length?p[0]:"circle",q.length?q[0]:"filled",v):this.EPa("auto","",v);};m.prototype.rfa=function(p,v){return p.filter(function(q){return -1 !== v.indexOf(q);});};m.prototype.EPa=function(p,v,q){return {textEmphasisShape:p,textEmphasisFill:v,textEmphasisPosition:q};};return m;})();b.o4a=r;},96379:function(r,b,a){var n;function c(d,g){var e,f,l,h,k,m,p,v;this.Fxa=!0;e=d.indexOf("<p");f=[];l=e;h=-1;do {k={};k.ptc=l;m=d.indexOf("begin=",l) + 7;p=d.indexOf("end=",l) + 5;v=d.substr(m,12);l === e && -1 !== v.indexOf(":") && (this.Fxa=!1);this.Fxa?(m=Math.floor(parseInt(d.substr(m,25),10) / g * 1E3),p=Math.floor(parseInt(d.substr(p,25),10) / g * 1E3)):(m=n(d.substr(m,12)),p=n(d.substr(p,12)));h=p > h?p:h;k.startTime=m;k.endTime=p;k.latestEndSoFar=h;k.deb=d.indexOf("/p>",l) + 3;l=k.deb;f.push(k);l=d.indexOf("<p",l);}while(-1 !== l);this.Es=f;this.EK=d;}n=a(4574).YF;c.prototype.Neb=function(){return this.Es[this.Es.length - 1].endTime;};c.prototype.mo=function(d,g){return this.Es.filter(function(e){return e.startTime <= g && e.endTime >= d;}).length;};c.prototype.M6b=function(d){for(var g="",e=this.Es.filter(function(l){return l.startTime <= d && d < l.endTime || l.startTime >= d;}),f=4;f + 1 < e.length && e[f + 1].startTime === e[4].startTime;)f++;e=e.slice(0,f + 1);0 < e.length && (g=this.EK.slice(e[0].ptc,e[e.length - 1].deb));return g;};r.exports=c;},23309:function(r,b,a){var c,n;Object.defineProperty(b,"__esModule",{value:!0});b.g$=b.AZa=b.QY=void 0;c=a(91176);b.QY=1E4;r=(function(){function d(g){this.pg=[];this.c_=0;this.na=g;}Object.defineProperty(d.prototype,"endOfStreamSegment",{get:function(){return this.PKb;},enumerable:!1,configurable:!0});d.prototype.mM=function(g){var e;e=(0,c.oc)(this.pg,function(f){return g >= f.ub && g < f.cg;});"undefined" === typeof e && this.na.warn("Get Segment at pts " + g + " is undefined");return e;};d.prototype.Xya=function(g,e){var l;for(var f=this.pg;0 < f.length && 300 <= g.L - f[0].L;)this.P6();for(;0 < f.length && 300 <= f[f.length - 1].L - g.L;)this.TOa();l=new n(g,e);g=f.length;if(0 === g || f[g - 1].L < l.L)this.UOa(l);else {g=(0,c.oc)(f,function(h){return h.L >= l.L;});if((null === g || void 0 === g?void 0:g.L) === l.L)return;this.VOa(f.indexOf(g),l);}l.endOfStream && (this.na.trace("EOS segment added to segment manager"),this.PKb=l);this.c_=f[f.length - 1].L;};d.prototype.d8=function(g){var e;if("undefined" === typeof g)this.na.warn("Current segment is undefined.");else for((this.Un=g,this.na.trace(("Current segment id is ").concat(g.L)));(null === (e=this.pg[0]) || void 0 === e?void 0:e.cg) < g.cg - b.QY;)this.P6();};d.prototype.bGa=function(){if(this.Fs){if(this.c_ !== this.Fs.L)return this.pg[this.pg.indexOf(this.Fs) + 1];}else return this.pg[0];};d.prototype.By=function(g){this.Fs=this.Rz(g);};d.prototype.Rz=function(g){var e;e=(0,c.oc)(this.pg,function(f){return f.L === g;});"undefined" === typeof e && this.na.error("Segment with segmentId " + g + " is not in segmentArray");return e;};d.prototype.A2=function(){var g;return (null === (g=this.Fs) || void 0 === g?void 0:g.L) || -1;};d.prototype.VRa=function(g,e){g=this.Rz(g);"undefined" !== typeof g && (this.pg[this.pg.indexOf(g)].header=e);};d.prototype.Hhb=function(g){return this.Rz(g);};d.prototype.FFa=function(g){g=this.Rz(g);return (null === g || void 0 === g?void 0:g.header) || ({});};d.prototype.P6=function(){this.pg.shift();};d.prototype.UOa=function(g){this.pg.push(g);};d.prototype.VOa=function(g,e){this.pg.splice(g,0,e);};d.prototype.TOa=function(){this.pg.pop();};return d;})();b.AZa=r;n=(function(){return function(d,g){this.L=d.L;this.xml=d.xml;this.ub=d.ub;this.cg=d.cg;this.tM=g;this.size=d.size;this.Ov=d.Ov;this.endOfStream=d.endOfStream;};})();b.g$=n;},51665:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.CZa=void 0;c=a(5163);r=(function(n){function d(g,e){e=n.call(this,g,e) || this;e.xml=g.xml;e.size=g.size;return e;}c.__extends(d,n);return d;})(a(23309).g$);b.CZa=r;},37494:function(r,b,a){var c,n,d,g,e,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.DZa=void 0;c=a(5163);r=a(22699);n=a(18797);d=a(60514);g=a(23309);e=a(4574);f=a(4574);l=r.EventEmitter;a=(function(h){function k(m){var p,v,q;p=h.call(this) || this;v=m.He;q=m.qa;l.call(p);p.vC=new e.xra(q);p.lk="number" === typeof v?m.He:0;p.na="object" === typeof q?m.qa:console;p.Vb=[];p.Bj=0;p.Jl=p.lk;p.xe=null;p.Dj=!1;p.jp=!1;p.ZJ=m.V5 || 0;p.Ud=new g.AZa(p.na);p.DK=m.GQa;p.na.trace("LiveTextStream created with options",m);return p;}c.__extends(k,h);k.prototype.start=function(){this.na.info(("Incremental live text stream created, starting at pts ").concat(this.lk));"undefined" !== typeof this.Ud.mM(this.lk) && this.yN.call(this,this.lk);};k.prototype.tNa=function(m){var p,v,q,u;p=this;v=m.xml;q=v.indexOf("<p");this.na.trace("pushNextSegment",m);this.Ud.Xya(m,-1 !== q?q:0);if(!this.Dj){u=this.Ud.pg[0];this.Ud.d8(u);this.lk=u.ub;}-1 < q?(this.vC.R8a(v,m.L,m.Ov),this.na.trace(("Live segment ").concat(m.L," is pushed to segment manager"),{ub:m.ub,cg:m.cg,c_b:m.Ov}),!this.Dj && 3 > this.Bj && (v=0 < this.Vb.length?this.Vb[this.Vb.length - 1].startTime + 1:this.lk,this.na.trace("parseNextSegment is called from push new live Segment at " + v),this.yN.call(this,v))):(this.na.trace(("Live segment ").concat(m.L," is pushed to segment manager, it is an empty segment")),this.Dj || setTimeout(function(){p.By(m.L);},10));};k.prototype.wG=function(m){var p,v,q,u,t,w;p=this;u=this;u.na.trace(("LiveTextStream:get subtitles at pts ").concat(m));t=u.Ud.mM(m);if("undefined" === typeof t)return (u.na.debug(("LiveTextStream: get subtitle at pts ").concat(m," returns empty result with segment not available at this pts")),[]);u.Ud.d8(t);m < u.Jl - u.ZJ?(u.na.trace(("Pts is less than backup tolerance, resetting buffer. pts: ").concat(m),(", _lastPts: ").concat(u.Jl,", _backupTolerance: ").concat(u.ZJ)),u.Vb=[],u.Bj=0):(u.Bj=0 < u.Vb.length?Math.max(u.Ud.A2() - t.L + 1,0):0,0 === u.Bj && (u.Vb=[]));t=u.Vb;u.na.trace(("LiveTextStream: lastBufferedPts calculation ").concat(m),(", buffer.length: ").concat(t.length,", result: ").concat(0 < t.length?null === (v=t[t.length - 1]) || void 0 === v?void 0:v.startTime:m));v=this.Ud.Fs;w=0 < t.length && void 0 !== v?v.ub:m;u.Jl=m;u.na.info("LiveTextStream: timer is " + u.xe + " bufffered segment number is " + u.Bj + " is parsing entry : " + this.jp + " maxBufferedStartPts " + (null === (q=this.Ud.Fs) || void 0 === q?void 0:q.ub));for(!u.xe && 3 > u.Bj && !u.jp && (u.na.info("LiveTextStream: buffer size: " + u.Bj + "; minimum: 3"),u.jp=!0,u.xe=setTimeout(function(){u.xe=null;p.na.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (w + 1));p.yN.call(u,w + 1);},10));0 < t.length && t[0].endTime < m;)t.shift();return (0,n.Dfa)(t,m).map(function(x){var z;z=u.Ud.FFa(x.segId);return n.Zda.call(u,z,x);});};k.prototype.mo=function(m,p){return this.vC?this.vC.mo(m,p):0;};k.prototype.close=function(){};k.prototype.yN=function(m){var p;p=this.$Fa.call(this,m);"undefined" !== typeof p?(this.na.trace("Next segment to parse at pts " + m + " is segment " + p.L),0 === p.tM?(this.na.trace("This is an empty segment"),this.By(p.L)):(this.eMa.call(this,p),this.na.trace("parseNextSegEntries buffer length: " + this.Vb.length))):(this.na.debug("Next segment is undefined at pts " + m),this.jp=!1);};k.prototype.$Fa=function(m){var p,v;v=this.vC.$gb(m);this.na.trace(("Most recent entry at current pts ").concat(m," is segment id  ").concat(v));-1 === v && (v=(null === (p=this.Ud.mM(m)) || void 0 === p?void 0:p.L) || -1);return v === this.Ud.A2()?this.Ud.bGa():this.Ud.Rz(v);};k.prototype.eMa=function(m){var p,v,q,u,t;p=this;v=this;q=m.xml.slice(0,m.tM);u=m.xml.slice(m.tM,m.xml.lastIndexOf("/p>") + 3);(0,n.cqb)(q,function(w,x){null !== w?(w.Pib=q,w.L=m.L,v.emit("error",w)):(t=x,v.Ud.VRa(m.L,t),p.aMa.call(v,u,t,m));});};k.prototype.aMa=function(m,p,v){var q,u,t,w,x,z,y;q=this;u=this;t=0;w=[];x=p.defaultStyle?[p.defaultStyle]:[];z=p.lang?[p.lang]:[];u.na.debug(m);y=d.te(!0);y.onerror=function(A){A.xml=m;u.emit("error",A);};y.onend=function(){var A;A=u.Vb.reduce(function(B,C){C=C.blocks.reduce(function(D,E){return D.concat([E.id]);},[]);return B.concat(C);},[]);w.forEach(function(B){var C;if(-1 === A.indexOf(B.id)){C=B && B.blocks && B.blocks.filter(function(D){return 0 < D.textNodes.length;});C && 0 < C.length && (B.blocks=C,u.Vb.push(B));}});q.By(v.L);};y.ontext=function(A){("" !== A.trim() || A.match(/ +/)) && (0,n.cd)((0,n.cd)(w).blocks).textNodes.push({text:A.match(/ +/)?A:A.trim(),style:(0,n.cd)(x),lang:(0,n.cd)(z),lineBreaks:t});t=0;};y.onclosetag=function(){var A;A=y.tag;"undefined" !== typeof A.attributes.style && x.pop();"undefined" !== typeof A.attributes["xml:lang"] && z.pop();};y.onopentag=function(A){var B,C;B=A.attributes;A=A.name;if("p" === A){t=0;A=v.L.toString() + "_" + B["xml:id"];B.style && x.push(B.style);B["xml:lang"] && z.push(B["xml:lang"]);C=(0,f.YF)(B.begin);0 === w.length || (0,n.cd)(w).displayTime !== C?(B=q.$Ba(A,0,B,v.Ov),B.segId=v.L,w.push(B)):(0,n.cd)(w).blocks.push({textNodes:[],region:B.region,id:A,extent:B["tts:extent"] || null,origin:B["tts:origin"] || null});}else "span" === A?(x.push(B.style),B["xml:lang"] && z.push(B["xml:lang"]),A=p.styles[B.style],B.style && A && A.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(A.ruby) && (0,n.cd)((0,n.cd)(w).blocks).textNodes.push({text:"",style:(0,n.cd)(x),lang:(0,n.cd)(z),lineBreaks:0})):"br" === A && t++;};y.write("<entries>").write(m).write("</entries>").close();};k.prototype.$Ba=function(m,p,v,q){var u;u={};u.id=m;u.startTime=(0,f.YF)(v.begin || "") - q;u.endTime=(0,f.YF)(v.end || "") - q;u.style=v.style;u.region=v.region;u.displayTime=u.startTime;u.duration=u.endTime - u.startTime;u.extent=v["tts:extent"] || null;u.origin=v["tts:origin"] || null;u.latestEndSoFar=p > u.endTime?p:u.endTime;u.blocks=[{textNodes:[],region:u.region,id:m,extent:u.extent || null,origin:u.origin || null}];return u;};k.prototype.By=function(m){this.Ud.By(m);this.Bj+=1;this.jp=!1;this.na.trace("updateMaxParsedSegment " + m);if(!this.Dj && 3 <= this.Bj || this.Ud.LDa && this.Ud.Hhb(m) === this.Ud.LDa)(this.Ud.LDa && this.Ud.Hhb(m) === this.Ud.LDa && this.na.trace("Marking stream ready due to EOS"),this.Dj=!0,this.emit("ready"));};return k;})(l);b.DZa=a;},4574:function(r,b,a){var n,d;function c(g){var e;g=g.split(".");e=g[0].split(":").map(function(f){return parseInt(f,0);});return (3600 * e[0] + 60 * e[1] + e[2]) * d + parseInt(g[1]);}Object.defineProperty(b,"__esModule",{value:!0});b.xra=void 0;b.YF=c;n=a(91176);d=1E3;r=(function(){function g(e){this.Es=[];this.na=e;}g.prototype.R8a=function(e,f,l){var h,k,m,p,v,q;void 0 === l && (l=0);h=this.Es;k=e.indexOf("<p");m=-1;do {p={};p.L=f;p.Yvb=k;v=e.indexOf("begin=",k) + 7;q=e.indexOf("end=",k) + 5;v=c(e.substring(v,v + 12)) - l;q=c(e.substring(q,q + 12)) - l;m=q > m?q:m;p.startTime=v;p.endTime=q;p.latestEndSoFar=m;p.n1b=e.indexOf("/p>",k) + 3;k=p.n1b;if(0 === h.length || p.startTime > h[h.length - 1].startTime)(h.push(p),this.na.trace("LiveTtmlIndex:  entry is pushed to the end",{startTime:p.startTime,c1b:p.endTime}));else if((q=(0,n.oc)(h,function(u){return u.startTime >= p.startTime;}),q.startTime !== p.startTime || q.Yvb !== p.Yvb))(q=h.indexOf(q),h.splice(q,0,p),this.na.trace(("LiveTtmlIndex:  entry is pushed at index number ").concat(q),{startTime:p.startTime,c1b:p.endTime}));k=e.indexOf("<p",k);}while(-1 !== k);};g.prototype.mo=function(e,f){return this.Es.filter(function(l){return l.startTime <= f && l.endTime >= e;}).length;};g.prototype.lNa=function(e){this.Es=this.Es.filter(function(f){return f.startTime >= e;});};g.prototype.$gb=function(e){var f;f=(0,n.oc)(this.Es,function(l){return l.startTime <= e && e < l.endTime || l.startTime >= e;});return (null === f || void 0 === f?void 0:f.L) || -1;};g.prototype.Neb=function(){return 0 < this.Es.length?this.Es[this.Es.length - 1].endTime:0;};return g;})();b.xra=r;},97115:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.g$=b.k0a=b.QY=void 0;c=a(91176);b.QY=1E4;r=(function(){function n(d){this.pg=[];this.c_=0;this.na=d;}n.prototype.mM=function(d){var g;g=(0,c.oc)(this.pg,function(e){return d >= e.ub && d < e.cg;});"undefined" === typeof g && this.na.warn("Get Segment at pts " + d + " is undefined");return g;};n.prototype.Xya=function(d){var e;for(var g=this.pg;0 < g.length && 300 <= d.L - g[0].L;)this.P6();for(;0 < g.length && 300 <= g[g.length - 1].L - d.L;)this.TOa();e=g.length;if(0 === e || g[e - 1].L < d.L)this.UOa(d);else {e=(0,c.oc)(g,function(f){return f.L >= d.L;});if((null === e || void 0 === e?void 0:e.L) === d.L)return;this.VOa(g.indexOf(e),d);}this.c_=g[g.length - 1].L;};n.prototype.d8=function(d){var g;if("undefined" === typeof d)this.na.warn("Current segment is undefined.");else for((this.Un=d,this.na.trace(("Current segment id is ").concat(d.L)));(null === (g=this.pg[0]) || void 0 === g?void 0:g.cg) < d.cg - b.QY;)this.P6();};n.prototype.bGa=function(){if(this.Fs){if(this.c_ !== this.Fs.L)return this.pg[this.pg.indexOf(this.Fs) + 1];}else return this.pg[0];};n.prototype.By=function(d){this.Fs=this.Rz(d);};n.prototype.Rz=function(d){var g;g=(0,c.oc)(this.pg,function(e){return e.L === d;});"undefined" === typeof g && this.na.error("Segment with segmentId " + d + " is not in segmentArray");return g;};n.prototype.A2=function(){var d;return (null === (d=this.Fs) || void 0 === d?void 0:d.L) || -1;};n.prototype.VRa=function(d,g){d=this.Rz(d);"undefined" !== typeof d && (this.pg[this.pg.indexOf(d)].header=g);};n.prototype.FFa=function(d){d=this.Rz(d);return (null === d || void 0 === d?void 0:d.header) || ({});};n.prototype.P6=function(){this.pg.shift();};n.prototype.UOa=function(d){this.pg.push(d);};n.prototype.VOa=function(d,g){this.pg.splice(d,0,g);};n.prototype.TOa=function(){this.pg.pop();};return n;})();b.k0a=r;b.g$=(function(){return function(n,d){this.L=n.L;this.xml=n.xml;this.ub=n.ub;this.cg=n.cg;this.tM=d;this.Ov=n.Ov;};})();},76851:function(r,b,a){var c,n,d,g,e,f,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.l0a=void 0;c=a(5163);r=a(22699);n=a(18797);d=a(76495);g=a(51665);e=a(4574);f=a(97115);l=a(74528);h=r.EventEmitter;a=(function(k){function m(p,v){var q,u,t;void 0 === v && (v=d.LY.Ia);q=k.call(this) || this;u=p.He;t=p.qa;h.call(q);q.vC=new e.xra(t);q.lk="number" === typeof u?p.He:0;q.na="object" === typeof t?p.qa:console;q.Vb=[];q.Bj=0;q.Jl=q.lk;q.xe=null;q.Dj=!1;q.jp=!1;q.ZJ=p.V5 || 0;q.Ud=new f.k0a(q.na);q.DK=p.GQa;q.O7a=v;if(v === d.LY.Ia)q.qya=new l.K3a(q.na,q.DK);else throw Error("Not implemented yet");q.na.trace("LiveTextStream created with options",p);return q;}c.__extends(m,k);m.prototype.start=function(){this.na.info(("Incremental live text stream created, starting at pts ").concat(this.lk));"undefined" !== typeof this.Ud.mM(this.lk) && this.yN.call(this,this.lk);};m.prototype.tNa=function(p){var v,q,u,t;v=this;q=p.xml;u=q.indexOf("<p");if(this.O7a === d.LY.Ia)t=new g.CZa(p,-1 !== u?u:0);else throw Error("Not yet implemented");this.Ud.Xya(t);this.Dj || (p=this.Ud.pg[0],this.Ud.d8(p),this.lk=p.ub);-1 < u?(this.vC.R8a(q,t.L,t.Ov),this.na.trace(("Live segment ").concat(t.L," is pushed to segment manager"),{ub:t.ub,cg:t.cg,c_b:t.Ov}),!this.Dj && 4 > this.Bj && (q=0 < this.Vb.length?this.Vb[this.Vb.length - 1].startTime + 1:this.lk,this.na.trace("parseNextSegment is called from push new live Segment at " + q),this.yN.call(this,q))):(this.na.trace(("Live segment ").concat(t.L," is pushed to segment manager, it is an empty segment")),this.Dj || setTimeout(function(){v.By(t.L);},10));};m.prototype.wG=function(p){var v,q,u,t,w,x;v=this;t=this;t.na.trace(("LiveTextStream:get subtitles at pts ").concat(p));w=t.Ud.mM(p);if("undefined" === typeof w)return (t.na.debug(("LiveTextStream: get subtitle at pts ").concat(p," returns empty result with segment not available at this pts")),[]);t.Ud.d8(w);p < t.Jl - t.ZJ?(t.na.trace(("Pts is less than backup tolerance, resetting buffer. pts: ").concat(p),(", _lastPts: ").concat(t.Jl,", _backupTolerance: ").concat(t.ZJ)),t.Vb=[],t.Bj=0):(t.Bj=0 < t.Vb.length?Math.max(t.Ud.A2() - w.L + 1,0):0,0 === t.Bj && (t.Vb=[]));w=t.Vb;t.na.trace(("LiveTextStream: lastBufferedPts calculation ").concat(p),(", buffer.length: ").concat(w.length,", result: ").concat(0 < w.length?null === (q=w[w.length - 1]) || void 0 === q?void 0:q.startTime:p));q=this.Ud.Fs;x=0 < w.length && void 0 !== q?q.ub:p;t.Jl=p;t.na.info("LiveTextStream: timer is " + t.xe + " bufffered segment number is " + t.Bj + " is parsing entry : " + this.jp + " maxBufferedStartPts " + (null === (u=this.Ud.Fs) || void 0 === u?void 0:u.ub));for(!t.xe && 4 > t.Bj && !t.jp && (t.na.info("LiveTextStream: buffer size: " + t.Bj + "; minimum: 4"),t.jp=!0,t.xe=setTimeout(function(){t.xe=null;v.na.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (x + 1));v.yN.call(t,x + 1);},10));0 < w.length && w[0].endTime < p;)w.shift();return this.qya.Dfa(w,p).map(function(z){var y;y=t.Ud.FFa(z.segId);return v.qya.Zda(y,z);});};m.prototype.mo=function(p,v){return this.vC?this.vC.mo(p,v):0;};m.prototype.close=function(){};m.prototype.yN=function(p){c.__awaiter(this,void 0,void 0,function(){var v,q;return c.__generator(this,function(u){switch(u.label){case 0:v=this;q=this.$Fa.call(v,p);if("undefined" === typeof q)return [3,4];v.na.trace("Next segment to parse at pts " + p + " is segment " + q.L);if(0 !== q.tM)return [3,1];v.na.trace("This is an empty segment");this.By(q.L);return [3,3];case 1:return [4,this.eMa.call(v,q)];case 2:(u.va(),v.na.trace("parseNextSegEntries buffer length: " + v.Vb.length),u.label=3);case 3:return [3,5];case 4:return (v.na.debug("Next segment is undefined at pts " + p),this.jp=!1,[2]);case 5:return [2];}});});};m.prototype.$Fa=function(p){var v,q;q=this.vC.$gb(p);this.na.trace(("Most recent entry at current pts ").concat(p," is segment id  ").concat(q));-1 === q && (q=(null === (v=this.Ud.mM(p)) || void 0 === v?void 0:v.L) || -1);return q === this.Ud.A2()?this.Ud.bGa():this.Ud.Rz(q);};m.prototype.eMa=function(p){return c.__awaiter(this,void 0,void 0,function(){var v,q,u,t,w,x,z,y,A;return c.__generator(this,function(B){switch(B.label){case 0:(v=this,q=p.xml.slice(0,p.tM),B.label=1);case 1:return (B.Ke.push([1,3,,4]),[4,this.Fjc(q)]);case 2:return (u=B.va(),[3,4]);case 3:return (t=B.va(),this.wDa(t),[3,4]);case 4:if(!u)return (w=Error("Parsing header text returned undefined"),this.wDa(w),[2]);if(u.error)return (x=u.error,x.Pib=q,x.L=p.L,this.wDa(x),[2]);y=u.head;this.Ud.VRa(p.L,y);return this.O7a !== d.LY.Ia?[3,6]:[4,this.qya.aMa(p,y)];case 5:return (z=B.va(),[3,7]);case 6:throw Error("Not yet implemented");case 7:return (A=v.Vb.reduce(function(C,D){D=D.blocks.reduce(function(E,F){return E.concat([F.id]);},[]);return C.concat(D);},[]),z && (z.forEach(function(C){var D;if(-1 === A.indexOf(C.id)){D=C && C.blocks && C.blocks.filter(function(E){return 0 < E.textNodes.length;});D && 0 < D.length && (C.blocks=D,v.Vb.push(C));}}),this.By(p.L)),[2]);}});});};m.prototype.wDa=function(p){this.na.error(p);this.emit("error",p);};m.prototype.By=function(p){this.Ud.By(p);this.Bj+=1;this.jp=!1;!this.Dj && 4 <= this.Bj && (this.Dj=!0,this.emit("ready"));};m.prototype.Fjc=function(p){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){return [2,new Promise(function(v){(0,n.cqb)(p,function(q,u){q?v({error:q}):v({head:u});});})];});});};return m;})(h);b.l0a=a;},74528:function(r,b,a){var c,n,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.K3a=void 0;c=a(5163);n=a(18797);d=a(60514);g=a(4574);r=(function(){function e(f,l){this.na=f;this.DK=l;}e.prototype.aMa=function(f,l){return c.__awaiter(this,void 0,void 0,function(){var h,k,m,p,v,q,u,t,w;w=this;return c.__generator(this,function(){h=this;k=0;m=[];p=l.defaultStyle?[l.defaultStyle]:[];v=l.lang?[l.lang]:[];q=f.xml.lastIndexOf("/p>") + 3;u=f.xml.slice(f.tM,q);h.na.debug(u);t=d.te(!0);return [2,new Promise(function(x,z){t.onerror=function(y){y.xml=u;z(y);};t.onend=function(){x(m);};t.ontext=function(y){("" !== y.trim() || y.match(/ +/)) && (0,n.cd)((0,n.cd)(m).blocks).textNodes.push({text:y.match(/ +/)?y:y.trim(),style:(0,n.cd)(p),lang:(0,n.cd)(v),lineBreaks:k});k=0;};t.onclosetag=function(){var y;y=t.tag;"undefined" !== typeof y.attributes.style && p.pop();"undefined" !== typeof y.attributes["xml:lang"] && v.pop();};t.onopentag=function(y){var A,B;A=y.attributes;y=y.name;if("p" === y){k=0;y=f.L.toString() + "_" + A["xml:id"];A.style && p.push(A.style);A["xml:lang"] && v.push(A["xml:lang"]);B=(0,g.YF)(A.begin);0 === m.length || (0,n.cd)(m).displayTime !== B?(A=w.$Ba(y,0,A,f.Ov),A.segId=f.L,m.push(A)):(0,n.cd)(m).blocks.push({textNodes:[],region:A.region,id:y,extent:A["tts:extent"] || null,origin:A["tts:origin"] || null});}else "span" === y?(p.push(A.style),A["xml:lang"] && v.push(A["xml:lang"]),y=l.styles[A.style],A.style && y && y.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(y.ruby) && (0,n.cd)((0,n.cd)(m).blocks).textNodes.push({text:"",style:(0,n.cd)(p),lang:(0,n.cd)(v),lineBreaks:0})):"br" === y && k++;};t.write("<entries>").write(u).write("</entries>").close();})];});});};e.prototype.Dfa=function(f,l){return n.Dfa.call(this,f,l);};e.prototype.Zda=function(f,l){return n.Zda.call(this,f,l);};e.prototype.$Ba=function(f,l,h,k){var m;m={};m.id=f;m.startTime=(0,g.YF)(h.begin || "") - k;m.endTime=(0,g.YF)(h.end || "") - k;m.style=h.style;m.region=h.region;m.displayTime=m.startTime;m.duration=m.endTime - m.startTime;m.extent=h["tts:extent"] || null;m.origin=h["tts:origin"] || null;m.latestEndSoFar=l > m.endTime?l:m.endTime;m.blocks=[{textNodes:[],region:m.region,id:f,extent:m.extent || null,origin:m.origin || null}];return m;};return e;})();b.K3a=r;},92020:function(r,b,a){var n,d,g,e,f,l,h,k,m,p;function c(v){return -1 < ["simplesdh","dfxp-ls-sdh","imsc1.1"].indexOf(v);}Object.defineProperty(b,"__esModule",{value:!0});b.pJb=void 0;n=a(5163);r=a(22699);d=a(18797);g=a(81824);e=a(7376);f=a(37494);l=a(76851);h=a(76495);k=a(66827);m=a(3992);p=a(31496);r=(function(v){function q(u,t){var w,x,z,y,A,B,C,D;B=v.call(this) || this;B.hz=!0;B.XZ=[];B.Jl=0;B.C7a=!0;C=u.yk || !1;B.na=u.qa || console;B.xK=u.request;B.cz=u.t7b;B.$aa=u.BJc || (function(E,F){return E - (null !== F && void 0 !== F?F:B.cz());});B.hz=!0;B.XZ=[];B.j_=t.profile;B.Zf=t.url;B.vK=t.He;B.Jl=B.vK || 0;B.C7a=null !== (w=t.BMc) && void 0 !== w?w:!0;B.EQ=null !== (x=t.gIc) && void 0 !== x?x:!1;w={url:B.Zf,request:B.xK,He:null !== (z=B.vK) && void 0 !== z?z:0,qa:B.na,yk:C,bufferSize:t.bufferSize,V5:t.V5 || 0,F$a:t.F$a,fa:null !== (y=t.fa) && void 0 !== y?y:!1};B.EQ && (B.Aba=new k.ppa(),B.cba=new k.ppa());if("nflx-cmisc" === t.profile){D=n.__assign(n.__assign({},w),{offset:t.sKa,size:t.Fnb,Xx:t.Xx,zla:t.zla,Gdb:t.Gdb});B.we=new m(D);}else if((B.Hs=t.preferences,B.Ds=t.kj,z=null !== (A=null !== (D=t.gGc) && void 0 !== D?D:t.fa) && void 0 !== A && A?g.sdc:g.uuc,B.DK=new e.o4a(z,B.Ds || ({}),B.Hs || ({})),D=n.__assign(n.__assign({},w),{profile:t.profile,xml:t.xml,GQa:B.DK}),t.fa && c(B.j_) && void 0 === D.xml))B.we=t.iOc?new l.l0a(D,h.LY.Ia):new f.DZa(D);else if(c(B.j_) && "function" === typeof d.Oqa)B.we=new d.Oqa(D);else throw Error("SubtitleManager: " + B.j_ + " is an unsupported profile");B.we.on("ready",function(){var F,G,J;function E(){return B.hz;}F=!!t.e$a;B.na.info("ready event fired by subtitle stream");B.emit("ready");G=B.we.wG.bind(B.we);if(u.gGa && u.cka){J=a(17972).JTa;B.xe=new J(B.cz,G,B.$aa,B.na,E,u.gGa,u.cka,t);}else B.xe=new p(B.cz,G,B.$aa,E,B.na,t);if("dfxp-ls-sdh" === B.j_ && "function" === typeof d.Oqa)B.xe.on("stagesubtitle",B.iQa.bind(B));B.xe.on("showsubtitle",B.VPa.bind(B));B.xe.on("removesubtitle",B.RNa.bind(B));B.xe.on("underflow",B.Po.bind(B));B.xe.on("bufferingComplete",B.al.bind(B));F && (B.na.info("autostarting subtitles"),setTimeout(function(){B.xE(B.cz());},10));});B.we.on("error",B.emit.bind(B,"error"));return B;}n.__extends(q,v);q.prototype.start=function(){this.we.start();};q.prototype.Wrb=function(){this.hz || (this.hz=!0,this.Vdb(this.Jl));};q.prototype.xE=function(u){this.C7a && !this.hz && 1E4 < Math.abs(u - this.Jl) && (this.na.warn("Detected an unexpected pts jump larger than",1E4,"at",u,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.Wrb());this.Jl=u;this.hz && (this.hz=!1,this.Ctc(u));this.xe && (this.cxc(u),this.xe.xE(0));};q.prototype.stop=function(){var u,t,w;this.na.info("stop called");this.hz || this.pause();this.we.removeAllListeners(["ready"]);null === (u=this.xe) || void 0 === u?void 0:u.stop();u=this.p2();this.EQ && u && (u.Tsc=null === (t=this.Aba) || void 0 === t?void 0:t.Nfa(),u.K9b=null === (w=this.cba) || void 0 === w?void 0:w.Nfa());t=this.XZ.reduce(function(x,z){x.Lvb+=z.f7;x.Mea+=z.Nea || 0;x.gac.push(z);return x;},{Lvb:0,Mea:0,gac:[]});"object" === typeof this.we && this.we.close();this.na.debug("metrics: " + JSON.stringify(t));return t;};q.prototype.pause=function(){var u,t;t=this.cz();this.hz?this.na.warn("pause called on subtitle manager, but it was already paused!"):(this.na.info("pause called at " + t),this.hz=!0,this.Vdb(t));null === (u=this.xe) || void 0 === u?void 0:u.pause();};q.prototype.Xfa=function(u,t){return "function" === typeof this.we.Xfa?this.we.Xfa(u,t):[];};q.prototype.mo=function(u,t){return this.we.mo(u,t);};q.prototype.wG=function(u){return this.we.wG(u);};q.prototype.oI=function(u){var w;function t(){w.na.info("bufferingComplete from setStreamStartPosition");w.emit("bufferingComplete");}w=this;"function" === typeof this.we.oI?this.we.oI(u,t):t();};q.prototype.wl=function(u,t){"function" === typeof this.we.wl && this.we.wl(u,t);};q.prototype.dk=function(u,t){"function" === typeof this.we.dk && this.we.dk(u,t);};q.prototype.sNa=function(u){"function" === typeof this.we.tNa && this.we.tNa(u);};q.prototype.p2=function(){return this.XZ[this.XZ.length - 1];};q.prototype.VPa=function(u){var t,w,x,z,B;x=0;this.na.info("show subtitle called at undefined for displayTime " + u.displayTime);this.emit("showsubtitle",u);z=this.p2();z.qy || (z.qy={});if(c(this.j_))try{for(var y=n.__values(u.blocks),A=y.next();!A.done;A=y.next()){B=A.value;z.qy.hasOwnProperty(B.id) || x++;z.qy[B.id]=u.endTime;}}catch(D){var C;C={error:D};}finally{try{A && !A.done && (t=y.return) && t.call(y);}finally{if(C)throw C.error;}}else (z.qy.hasOwnProperty(u.id) || x++,z.qy[u.id]=u.endTime);this.rUb();z.f7+=x;this.EQ && (null === (w=this.Aba) || void 0 === w?void 0:w.H8a(u.startTime,this.cz()));};q.prototype.rUb=function(){var u,t,w;u=this.p2();if(null === u || void 0 === u?0:u.qy){t=u.qy;w=Object.keys(u.qy);30 < w.length && (w=w.sort(function(x,z){return t[z] - t[x];}),w.splice(19,Math.max(w.length - 20,0)),u.qy={},w.forEach(function(x){u.qy[x]=t[x];}));}};q.prototype.RNa=function(u){var t;this.na.info("remove subtitle called at undefined for remove time " + (u.displayTime + u.duration));this.emit("removesubtitle",u);this.EQ && (null === (t=this.cba) || void 0 === t?void 0:t.H8a(u.endTime,this.cz()));};q.prototype.iQa=function(u){this.na.info("stage subtitle called at " + this.cz() + " for displayTime " + u.displayTime);this.emit("stagesubtitle",u);};q.prototype.Po=function(){this.na.info("underflow fired by the subtitle timer");this.emit("underflow");};q.prototype.al=function(){this.na.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};q.prototype.Ctc=function(u){var t,w;this.na.debug("creating a new subtitle interval at " + u);this.EQ && (null === (t=this.Aba) || void 0 === t?void 0:t.reset(u),null === (w=this.cba) || void 0 === w?void 0:w.reset(u));this.XZ.push({ub:u,f7:0});};q.prototype.cxc=function(u){var t;t=this.p2();t && (t.QIa=u);};q.prototype.Vdb=function(u){var t,w,x;this.na.debug("ending subtitle interval at " + u);x=this.p2();x && (x.cg=u,this.EQ && (x.Tsc=null === (t=this.Aba) || void 0 === t?void 0:t.Nfa(),x.K9b=null === (w=this.cba) || void 0 === w?void 0:w.Nfa()),x.cg < x.ub && (this.na.warn("correcting for interval where endPts is smaller than startPts"),x.ub=0 < x.cg?x.cg - 1:0),x.Nea=this.we.mo(x.ub,x.cg),delete x.qy,x.Nea > x.f7 && x.QIa && 500 > x.cg - x.QIa && (x.Nea=this.we.mo(x.ub,x.QIa)),this.na.debug("showed " + x.f7 + " during this interval"),this.na.debug("expected " + x.Nea + " for this interval"));};return q;})(r.EventEmitter);b.pJb=r;b["default"]=r;},66827:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.ppa=void 0;a={0:"early",1:"late"};r=(function(){function c(n){void 0 === n && (n=4E3);this.yLb=n;this.reset(0);}c.prototype.H8a=function(n,d){var g;n=Math.max(n,this.lk);d-=n;if(!(0 > d)){g=this.Pxa[+(n - this.lk > this.yLb)];g.count++;g.eB+=d;d > g.max && (g.max=d,g.He=n);}};c.prototype.Nfa=function(){var g;for(var n={},d=0;d < this.Pxa.length;d++){g=this.Pxa[d];g.count && (n[a[d]]={zMc:g.He,iLc:g.max,sGc:Math.round(g.eB / g.count)});}return n;};c.prototype.reset=function(n){this.Pxa=[{eB:0,max:0,He:0,count:0},{eB:0,max:0,He:0,count:0}];this.lk=n;};return c;})();b.ppa=r;},76495:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.LY={};r[r.TEXT=0]="TEXT";r[r.IMAGE=1]="IMAGE";},76290:function(r,b,a){var l,h;function c(k,m,p){var v;v=p.displayTime <= k && k <= p.displayTime + p.duration;return k <= p.displayTime && p.displayTime <= m || v;}function n(k,m,p){return m && (!m.entries.length && k > m.OA || k > m.endTime) && p.entries.length && k < p.endTime;}function d(k,m,p){this.zK=this.bz=0;this.DLb=k.bufferSize || 4194304;this.Cs=new f();this.uK;this.iK=k.yk;this.na=k.qa;this.Ou=m;this.Ej=p;this.Pq=new l(k);this.HK=new e(this.Ej.length,k.Gdb);this.l_=new g(k.F$a);}function g(k){this.TZ=0 !== k;this.on=!1;this.SZ=k || 3E3;this.xe;}function e(k,m){if(this.enabled=m)this.pq=Array.apply(null,Array(k)).map(function(){return "-";});}function f(k,m){this.xl=k;this.index=m;}l=a(93778);h=a(32699);f.prototype.reset=function(){this.index=this.xl=void 0;};e.prototype.ia=function(k){this.enabled && k < this.pq.length && (this.pq[k]="x");};e.prototype.Epb=function(k){this.enabled && k < this.pq.length && (this.pq[k]="-");};e.prototype.toString=function(){return this.enabled && "|" + this.pq.join("") + "|";};g.prototype.start=function(){var k;if(this.TZ){k=this;this.on=!0;this.xe=setTimeout(function(){k.on=!1;k.xe=void 0;},this.SZ);}};g.prototype.stop=function(){this.on=!1;clearTimeout(this.xe);this.xe=void 0;};Object.defineProperties(d.prototype,{xCa:{get:function(){return this.Cs;}},JSb:{get:function(){return !this.l_.on;}}});d.prototype.b_=function(){this.HK.enabled && this.na.debug("Buffer: " + this.HK.toString());};d.prototype.LMb=function(k){this.zK+=k;this.na.debug("Reserved buffer size is",this.bz + this.zK,"after reserving",k);};d.prototype.fNb=function(k){this.zK-=k;this.na.debug("Reserved buffer size is",this.bz + this.zK,"after unreserving",k);};d.prototype.qKb=function(k){this.bz+=k;this.na.debug("Buffer size is",this.bz,"after claiming",k);};d.prototype.H7a=function(k){this.bz-=k;this.na.debug("Buffer size is",this.bz,"after clearing",k);};d.prototype.goc=function(k,m){var p;this.H7a(k);p=this;m && this.HK.enabled && (m.forEach(function(v){p.HK.Epb(v.index);}),this.b_());};d.prototype.QPa=function(k){var m;m=this.$Kb(k);return h.jjb(m) && h.Euc(k,m);};d.prototype.qrc=function(k){var m;m=this.F6a(k);(!m || m.index) !== (!this.Cs || this.Cs.index) && (this.uK=this.Cs.xl,m?(this.iK && this.na.debug("Current sidx is index",m.index),this.Cs=m):(this.iK && this.na.debug("Current sidx is out of range"),this.Cs.reset()));this.uK && "number" === typeof this.uK.index && (k < this.uK.OA - 35E3 || k > this.uK.Tt + 35E3) && (this.$wa(this.uK.index),this.uK=void 0,this.b_());};d.prototype.oI=function(k,m){var p,v;p=this.Ej && this.Ej.length;for(m;m < p;m++)(v=this.Ej[m]) && ((v.endTime || v.Tt) >= k - 1E4 && (v.endTime || v.Tt) < k + 3E5 || this.$wa(m));this.l_.stop();this.b_();};d.prototype.XOb=function(){var k,m;this.na.debug("executing aggressive cleanup");k=this.Ej && this.Ej.length;for(m=0;m < k;m++)(m === this.Cs.index && (m+=2),this.$wa(m));this.l_.stop();this.b_();};d.prototype.S7b=function(k){var m,p,v,q;m=[];p=this.F6a(k);if(!p)return (this.Cs.reset(),m);this.Cs=p;v=k + 1E4;p=p.index;q=this.Ej[p];p;for(q;p < this.Ej.length && v > q.OA;(p++,q=this.Ej[p]))h.jjb(q) && h.Fuc(k,v,q) && m.push(q);return m;};d.prototype.odb=function(k,m){var p,v,q,u,t,w;if(!k || !k.length)return (m && m(null),!0);this.Pq.g_ && 2 <= Object.keys(this.Pq.g_).length && !this.l_.on && (this.na.debug("Enabling buffering quiet period"),this.l_.start());p=this;v=k[0];q=k[k.length - 1];if(0 < v.entries.length)(u=v.entries[0].vM,t=v.entries[v.entries.length - 1]);0 < q.entries.length && (h.Zc(u) || (u=q.entries[0].vM),t=q.entries[q.entries.length - 1]);if(u)w=t.vM + t.sHa - u;else return (m && m(null),!0);v=h.vFa(u,w);if(this.Pq.g_[v])(this.na.debug("The request for",v,"is already pending. Not requesting again"),m && m());else if(this.jLb(h.tGa(k)))(this.na.debug("Reserving",w,"bytes for subtitle request",k[0].OA,k[k.length - 1].Tt),this.LMb(w),this.Pq.q_b(k,u,w,function(x,z){p.na.debug("Claiming reserved space.  Expected",w,"received",z);p.HK.enabled && (k.forEach(function(y){p.HK.ia(y.index);}),p.b_());p.fNb(w);p.qKb(z);m && m(x);}));else return (this.na.debug("Not enough space in buffer to download all of the imaages in the list"),m && m(),!1);return !0;};d.prototype.xGa=function(k,m){var p,v,q;p=this.Ou;v=this.E6a(k,m,this.Ej);if(!v || 0 === v.length)return [];q=[];m=c.bind(null,k,m);for(var u=0;u < v.length;u++)(k=v[u],q=q.concat(k.entries.filter(m)));q=q.map(function(t){return h.nCa(t,null,p);});return h.nbb(q);};d.prototype.T7b=function(k,m,p){return this.E6a(k,m.endTime,m.pq,p,!0);};d.prototype.E6a=function(k,m,p,v,q){var u,t,w,x;if(m && k > m || 0 > k)this.na.error("invalid range startPts: " + k + ", endPts: " + m);else {u=p && p.length || 0;t=[];if(p && 0 !== u){w=p[0].duration;x=p[0].OA;if(h.Zc(w) && 0 < w)w=Math.floor((k - x) / w);else for((this.iK && this.na.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),w=0);w < u && (x=p[w],!h.k_b(x,k));w++);for(;w < u && (!v || t.length < v);){x=p[w];if(!q || !x.images.length && x.endTime > k)t.push(x);else if(t.length)break;if(m && m <= x.Tt)break;w++;}return t;}}};d.prototype.$Kb=function(k){var m,p,q;m=this.Ej;if(m && 0 !== m.length){p=m[Math.floor(k / 6E4)];if(p && (p.OA > k || k > p.Tt))a:{this.SKb || (this.SKb=!0,p=h.d6b(this.Ou.language),this.na.error("bruteforce search for ",{movieId:this.Ou.P,packageId:this.Ou.hq,lang:p}));p=m.length;for(var v=0;v < p;v++){q=m[v];if(q.OA <= k && k <= q.Tt){p=q;break a;}}p=void 0;}return p;}};d.prototype.F6a=function(k){var m,p,v,q,u,t,w,x;m=this.Cs;p=m.xl;v=m.index;q=this.Ej;this.gxa(h.Zc(k));if(p)if(p.entries.length){if(0 === v && k <= p.startTime || k >= p.startTime && k <= p.endTime)(u=!0,t=m);else {if(0 < v){w=q[v - 1];n(k,w,p) && (u=!0,t=m);}}}else {w=q[v - 1];x=q[v + 1];n(k,w,p)?(u=!0,t=m):x && x.endTime && k <= x.endTime && (k >= p.endTime || k >= p.Tt) && (u=!0,t=new f(x,v + 1));}if(!u)for((m=q.length,p=0);p < m;p++)if((v=q[p],v.entries.length && k <= v.endTime)){t=new f(v,p);break;}return t;};d.prototype.jLb=function(k){return this.bz + this.zK + k <= this.DLb;};d.prototype.$wa=function(k){var m,p,v;m=this.Ej[k];p=m && m.images && m.images.length || 0;if(0 < p){v=h.tGa([m]);m.images=[];this.HK.Epb(k);this.H7a(v);this.iK && this.na.debug("cleaning up space from sidx",{index:k,start:m.startTime,size:v,images:p,RLc:this.bz});}};d.prototype.gxa=function(k){this.iK && h.assert(k,this.na);};r.exports=d;},3992:function(r,b,a){var n,d,g,e,f,l;function c(h){n.call(this);this.Zf=h.url;this.xK=h.request;this.vK=h.He || 0;this.na=h.qa;this.Ej=this.Ou=null;h.Xx?this.Ou=h.Xx:(this.Ne=h.offset,this.uF=h.size);this.Xn;this.Xxa=h;}n=a(22699).EventEmitter;d=a(72577);g=a(92435);e=a(78192);f=a(32699);l=c.events={NFb:"midxready",WIb:"sidxready",vIb:"ready",In:"error"};c.prototype=Object.create(n.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{Cs:{get:function(){return this.Xn && this.Xn.xCa;}}});c.prototype.start=function(){this.Ou?(this.na.warn("midx was prefectched and provided"),this.v6a(this.Ou)):this.KKb(this.Ne,this.uF,this.BMb.bind(this));};c.prototype.close=function(){};c.prototype.Xfa=function(h,k){return this.Xn && this.Xn.xGa(h,k);};c.prototype.mo=function(h,k){return (h=this.Xfa(h,k))?h.length:h;};c.prototype.oI=function(h,k){this.na.debug("setStreamStartPosition: buffering subtitles at pts " + h);this.vK=h;this.Xn?this.Xn.oI(h,k):k && k();};c.prototype.wG=function(h){var k,m,p;if(!this.Xn || h > f.B5b(this.Ou))return [];this.Xn && this.Xn.lDa(h);k=this.Cs.xl;m=this.Cs.index;p=[];m=f.Zc(m) && this.Ej[m + 1];if(!(m && m.entries.length || k && !(h > k.endTime)))return [];k && k.images.length && (p=this.C6a(k,h,[]));2 > p.length && m && m.images.length && (k=this.C6a(m,h,p),p.push.apply(p,k));return this.Xn.QPa(h)?null:f.nbb(p);};c.prototype.dk=function(h,k){this.Xn && this.Xn.dk(h,k);};c.prototype.wl=function(h,k){this.Xn && this.Xn.wl(h,k);};c.prototype.KKb=function(h,k,m){this.na.debug("downloading midx...");this.I6a(h,k,"binary",m);};c.prototype.LKb=function(h,k,m){this.na.debug("downloading sidx...");this.I6a(h,k,void 0,m);};c.prototype.I6a=function(h,k,m,p){this.xK({url:this.Zf,offset:h,size:k,responseType:m},p);};c.prototype.BMb=function(h,k){if(h)this.emit(l.In,f.s2(h,"midxdownloaderror"));else try{this.Ou=new d(k);this.v6a(this.Ou);}catch(m){this.emit(l.In,f.s2(m,"midxparseerror"));}};c.prototype.v6a=function(h){var k;k=h.entries.reduce(function(m,p){return m + p.size;},0);k?(this.emit(l.NFb,h),this.LKb(h.startOffset,k,this.EMb.bind(this,h))):this.emit(l.In,f.s2({},"nosidxfoundinmidx"));};c.prototype.EMb=function(h,k,m){var p,v,q,u;p=this;if(k)p.emit(l.In,f.s2(k,"sidxdownloaderror"));else {v=0;q=0;p.Ej=[];try{u=0;h.entries.forEach(function(t){var w;w=new g(m,v,h.KHa,p.na,q,q + t.duration,u);p.Ej.push(w);t.Wsc=w;q=w.Tt;v+=t.size;u++;});}catch(t){p.emit(l.In,f.s2(t,"sidxparseerror"));return;}p.emit(l.WIb,p.Ej);this.Xn=new e(p.Xxa,h,p.Ej);k=p.vK;p.Xxa && p.Xxa.zla || (k=Math.max(p.vK - 1E4,0));this.Xn.lDa(k,function(t){t && p.na.error("initial sidx download failed");p.emit(l.vIb);});}};c.prototype.C6a=function(h,k,m){var x;for(var p=h.entries,v=0,q=p.length,u=[],t,w=this.Ou;v < q;){t=p[v];if(t.displayTime <= k)t.displayTime + t.duration >= k && u.push(f.nCa(t,h.images[v].data,w));else {x=u.length && u[u.length - 1] || m.length && m[m.length - 1];if(x && x.displayTime > k && x.displayTime !== t.displayTime)break;x.vM !== t.vM && u.push(f.nCa(t,h.images[v].data,w));}v++;}return u;};r.exports=c;},72577:function(r,b,a){var n,d;function c(g,e){this.duration=g;this.size=e;this.Wsc=void 0;}n=a(62082);d=a(32699);r.exports=function(g){var h;g=new n(g);this.identifier=g.CNa(4);d.assert("midx" === this.identifier);this.version=g.Vt(4);d.assert(0 === this.version);this.KHa=g.rl(36);this.creationTime=g.dV();this.hq=g.dV();this.P=g.dV();this.Gpc=g.hi();this.Hpc=g.hi();this.language=g.rl(16);g.rl(16);this.startOffset=g.dV();this.DL=g.hi();for(var e=[],f=0,l=0;l < this.DL;l++){h=new c(g.Vt(4),g.hi());e.push(h);f+=h.duration;}this.entries=e;this.endTime=f;};},93778:function(r,b,a){var n,d;function c(g){this.Zf=g.url;this.xK=g.request;this.vK=g.He || 0;this.iK=g.yk;this.na=g.qa;this.g_={};}n=a(62082);d=a(32699);c.prototype.q_b=function(g,e,f,l){this.g_[d.vFa(e,f)]=!0;g && g.forEach(function(h){h.r6=!0;});this.xK({url:this.Zf,offset:e,size:f},this.bMb.bind(this,g,e,f,l));};c.prototype.bMb=function(g,e,f,l,h,k){var m,p,v,q;m=this;p=d.vFa(e,f);setTimeout(function(){delete m.g_[p];},1E3);if(h)(l && l(h,0),g && g.forEach(function(u){delete u.r6;}));else {v=new n(k);q=0;g && g.forEach(function(u){delete u.r6;u.entries.forEach(function(t,w){v.position=t.vM - e;t={data:v.rl(t.sHa)};u.images[w]=t;d.ayc(u.images[w].data,m.gxa.bind(m));q+=u.images[w].data.length;});});l && l(null,q);}};c.prototype.gxa=function(g){this.iK && d.assert(g,this.na);};r.exports=c;},67725:function(r){function b(a,c,n,d){this.na=d;this.id=a;this.startTime=c && c.rb || 0;this.endTime=c && c.yb;this.vob=c && c.next || [];this.yub;this.X4=[];this.xT=!1;a=this.startTime;c=this.endTime;for(var g=[],e=0;e < n.length;e++)(d=n[e]) && (!c || c > d.OA) && a < d.Tt && (d.B$b(),g.push(d));this.pq=g;}b.prototype.Cab=function(){this.na.debug("Cleaning up segment",this.id);for(var a,c=0,n,d=[],g=0;g < this.pq.length;g++)(a=this.pq[g],(n=a.WYb()) && d.push(a),a && (c+=n));this.pq=[];return {size:c,pq:d};};r.exports=b;},78192:function(r,b,a){var g,e;function c(f,l){var k;f=f || 0;if(l)for(var h in l.ba){k=l.ba[h];if(f >= (k.rb || 0) && (!k.yb || f < k.yb))return h;}}function n(f,l){return f && l && l.ba[f];}function d(f,l,h){var k;this.na=f.qa;this.Ej=h;this.tF=this.sKb(f.zla);this.jz=[];k=h && h[h.length - 1];this.Jl=k && (k.endTime || k.Tt);this.Bs=new g(f,l,h);f=c(f.He || 0,this.tF);this.Un=this.PZ(f);}g=a(76290);e=a(67725);Object.defineProperties(d.prototype,{xCa:{get:function(){return this.Bs.xCa;}}});d.prototype.xGa=function(f,l){return this.Bs && this.Bs.xGa(f,l);};d.prototype.lDa=function(f,l){this.Bs.qrc(f);this.i8a(f);if(!this.tF && this.Jl && f > this.Jl)l && l();else if((f=this.s6a(f,this.Un,2,l),this.tF && 0 < this.Un.vob.length))l && l();else if(this.tF && this.Un.xT && f){2 > this.jz.length && this.AKb(this.Un);l=Math.ceil(2 / (this.jz.length - 1));for(var h=0;h < this.jz.length && f && 3 > h;h++)(f=this.jz[h],f=this.s6a(f.startTime,f,l));}};d.prototype.QPa=function(f){return this.Bs.QPa(f)?(this.Bs.XOb(),this.lDa(f),this.Un.xT=!1,!0):!1;};d.prototype.oI=function(f,l){var h;this.i8a(f);this.jz.forEach(function(k){k.xT=!1;});h=this.Un.pq && this.Un.pq[0];this.Bs.oI(f,h && h.index);(f=this.Bs.S7b(f)) && f.length?this.Bs.odb(f,l):l && l();};d.prototype.wl=function(f,l){var h;this.na.debug("Set next segment to",l,"for segment",f);f=this.x6a(f) || this.PZ(f);f.yub=l;h=this;f.X4=f.X4.filter(function(k){if(k.id === l)return !0;h.ixa(k);return !1;});};d.prototype.dk=function(f,l){var h;h=n(f,this.tF);Object.keys(h.next).forEach(function(k){h.next[k].weight=l[k] || 0;});};d.prototype.sKb=function(f){var l,k;l={};if(f=(f || ({})).ba){l.ba={};for(var h in f){k=f[h] || ({});l.ba[h]={rb:k.rb,yb:k.yb,Gc:k.Gc,next:this.rKb(k.next)};}}return l;};d.prototype.rKb=function(f){var l,h;l={};for(h in f)l[h]={weight:(f[h] || ({})).weight};return l;};d.prototype.i8a=function(f){var l,h;if(this.tF && this.Un.startTime > f || this.Un.endTime && this.Un.endTime < f){l=this.Un;h=c(f,this.tF);h?(this.na.debug("Switching segments from",this.Un.id,"to",h,"at pts",f),this.Un=this.x6a(h) || this.PZ(h),this.ixa(l)):this.na.debug("The pts is outside of the current segment but not in a new one yet");}};d.prototype.PZ=function(f){this.na.debug("SegmentManager: creating segment",f);f=new e(f,n(f,this.tF),this.Ej,this.na);this.jz.push(f);this.na.debug("SegmentManager: segment contains",f.pq.length,"sidxes");return f;};d.prototype.ixa=function(f){var l;if(f && f !== this.Un){this.na.debug("SegmentManager: deleting segment",f.id);f.X4.forEach(this.ixa.bind(this));this.jz=this.jz.filter(function(h){return h !== f;});l=f.Cab();this.Bs.goc(l && l.size || 0,l && l.pq);}};d.prototype.x6a=function(f){var h;for(var l=0;f && l < this.jz.length;l++){h=this.jz[l];if(f === h.id)return h;}};d.prototype.AKb=function(f){var l,k;l=f.yub;if(l && "" !== l)f.X4.push(this.PZ(l));else {l=f.vob;for(var h in l){k=l[h];if(!k || !k.weight)break;f.X4.push(this.PZ(h));}}};d.prototype.s6a=function(f,l,h,k){if(!l || l.xT)return (this.na.debug("Done driving segment",l && l.id),!0);if(!this.Bs.JSb)return (this.na.debug("Throttling buffering in quiet period"),!1);this.na.debug("Drive streaming of segment",l.id,"from pts",f);h=(f=this.Bs.T7b(f,l,h)) && f.length || 0;if(0 === h)return (this.na.debug("Segment is fully downloaded",l && l.id),l.xT=!0,k && k(),!0);this.na.debug("Downloading",h,"sidxes in segment",l.id);return this.Bs.odb(f,function(m,p){m && (l.xT=!1);k && k(m,p);});};r.exports=d;},92435:function(r,b,a){var d,g;function c(e,f,l,h,k,m,p,v){this.displayTime=e;this.duration=f;this.Vic=l;this.Wic=h;this.btc=k;this.ctc=m;this.vM=p;this.sHa=v;}function n(e,f,l,h,k,m,p){var v;e=new d(e);v=0;e.position=f;this.na=h;this.identifier=e.CNa(4);g.assert("sidx" === this.identifier,h);this.KHa=e.rl(36);g.tUb(this.KHa,l,h);this.duration=e.Vt(4);this.DL=e.hi();this.OA=k;this.Tt=m;this.index=p || 0;this.entries=[];this.images=[];for(this.pya=0;v < this.DL;)(f=new c(e.Vt(4),e.Vt(4),e.hi(),e.hi(),e.hi(),e.hi(),e.dV(),e.Vt(4)),v++,this.entries.push(f));this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}d=a(62082);g=a(32699);n.prototype.B$b=function(){this.pya++;};n.prototype.WYb=function(){var e;e=0;this.pya--;1 > this.pya?this.images && 0 < this.images.length && (e+=g.tGa([this]),this.images=[]):this.na.debug("Not cleaning up shared sidx with range",this.OA,"-",this.Tt);return e;};r.exports=n;},32699:function(r){function b(g,e){return g.some(function(f){return f.id === e;});}function a(g,e){return g.filter(c.bind(null,e)).map(n).reduce(d,0);}function c(g,e){return g.id === e.id && g.displayTime + g.duration === e.displayTime;}function n(g){return g.duration;}function d(g,e){return g + e;}r.exports={tUb:function(g,e,f){for(var l=0;l < g.length;l++)if(g[l] !== e[l])return (f.error("indexId mismatch in sidx",{sIndexId:g,mIndexId:e}),!1);return !0;},nCa:function(g,e,f){var l;l={};l.displayTime=g.displayTime;l.duration=g.duration;l.originX=g.Vic;l.originY=g.Wic;l.sizeX=g.btc;l.sizeY=g.ctc;l.imageData=e;l.id=g.vM;l.rootContainerExtentX=f.Gpc;l.rootContainerExtentY=f.Hpc;return l;},vFa:function(g,e){return "o_" + g + "s_" + e;},ayc:function(g,e){e("P" === String.fromCharCode(g[1]));e("N" === String.fromCharCode(g[2]));e("G" === String.fromCharCode(g[3]));},Zc:function(g){return "undefined" !== typeof g;},$Mc:b,cIc:a,s2:function(g,e){var f,l;f=Object.create({});for(l in g)f[l]=g[l];g instanceof Error && (f.message=g.message,f.stack=g.stack);f.errorString=e;return f;},assert:function(g,e){if(!g)throw (e && e.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},jjb:function(g){return g && 0 < g.entries.length && 0 === g.images.length;},Euc:function(g,e){for(var f=e.entries.length,l,h=0;h < f;h++)if((l=e.entries[h],l.displayTime <= g && l.displayTime + l.duration >= g))return !0;return !1;},Fuc:function(g,e,f){for(var l=f.entries.length,h,k,m=0;m < l;m++){h=f.entries[m];k=h.displayTime;h=k + h.duration;if(e < k)break;if(k <= g && h >= g || k > g && k <= e)return !0;}return !1;},nbb:function(g){return g.map(function(e,f){e.duration+=a(g.slice(f + 1),e);return e;}).reduce(function(e,f){b(e,f.id) || e.push(f);return e;},[]);},tGa:function(g){return g.reduce(function(e,f){return e + f.entries.reduce(function(l,h){return h.sHa + l;},0);},0);},k_b:function(g,e){return g && g.OA <= e && g.Tt >= e;},B5b:function(g){if(g)return g.endTime;},d6b:function(g){try{return String.fromCharCode.apply(String,g);}catch(e){}return "";}};},31496:function(r,b,a){var c;c=a(22699).EventEmitter;b=function k(d,g,e,f,l,h){if(!(this instanceof k))return new k(d,g,e,f,l,h);c.call(this);this.cz=d;this.VZ=g;this.$aa=e;this.sLb=f;this.jk={};this.Wk={};this.na=l || console;this.Uk=!1;this.Dxa=h.fa;this.GMb=h && h.V5 || 0;this.ZMb=h && h.Ltc || 0;};b.prototype=Object.create(c.prototype);b.prototype.stop=function(){clearTimeout(this.xe);this.xe=void 0;this.Qka();};b.prototype.Qka=function(){var d;d=this;Object.keys(d.jk).forEach(function(g){d.emit("removesubtitle",d.jk[g]);});d.jk={};d.Wk={};};b.prototype.pause=function(){this.Uk || (clearTimeout(this.xe),this.xe=void 0);};b.prototype.xE=function(d){var g,e,f;g=this;e=g.cz();f=g.VZ(e);null !== f && g.Uk && (g.Uk=!1,this.na.debug("bufferingComplete"),g.emit("bufferingComplete"),this.sLb())?this.na.debug("bufferingComplete while paused, no longer scheduling internal pts events"):(d="number" === typeof d?d:0,Object.keys(g.jk).forEach(function(l){l=g.jk[l];l.displayTime - g.GMb <= e && e < l.displayTime + l.duration || (delete g.jk[l.id],g.emit("removesubtitle",l));}),Object.keys(g.Wk).forEach(function(l){l=g.Wk[l];e >= l.displayTime + l.duration && delete g.Wk[l.id];}),null !== f && 0 < f.length?(d=f.length,g.na.debug("found " + d + " entries for pts " + e),f.forEach(function(l){l.displayTime - g.ZMb <= e && e < l.displayTime + l.duration && !g.jk[l.id] && (g.emit("showsubtitle",l),g.jk[l.id]=l,delete g.Wk[l.id]);}),d=f[f.length - 1],g.jk[d.id] || g.Wk[d.id] || (g.emit("stagesubtitle",d),g.Wk[d.id]=d),f=g.bNb(e,f),"number" === typeof f && Infinity > f?g.s_(f):g.s_(2E4)):null === f?(f=250 * Math.pow(2,d),2E3 < f && (f=2E3),g.na.warn("checking buffer again in " + f + "ms"),g.Uk || (g.Uk=!0,g.emit("underflow")),g.s_(f,d + 1)):g.Dxa?(f=500,g.na.trace("Live : No entries for " + e + "checking buffer again in " + f + "ms"),g.s_(f)):g.s_(2E4));};b.prototype.s_=function(d,g){var e;e=this;e.na.debug("Scheduling pts check.",{timeout:d,hB:e.xe});clearTimeout(e.xe);e.xe=setTimeout(function(){e.xE(g);},d);};b.prototype.bNb=function(d,g){g=g.reduce(this.SLb.bind(this,d),Infinity);return Infinity > g?this.$aa(g,d):g;};b.prototype.SLb=function(d,g,e){var f;f=e.displayTime;e=e.displayTime + e.duration;this.na.debug("next events: start",f,"end",e,"now",d);return f < g && d < f?f:e < g && d < e?e:g;};r.exports=b;},4645:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},86398:function(r,b,a){var n,d,g,e,f;function c(l,h,k){var m;if(!k)return !1;k=k[h];l=l[h];h=!(null === (m=l.qg) || void 0 === m || !m.length);"embedded" === l.type && (h || (h=l.duration.greaterThan(d.K.wa)));return "boolean" === typeof k?!0 === k:!h;}Object.defineProperties(b,{__esModule:{value:!0}});b.yu=void 0;b.HWb=function(l,h,k,m,p){function v(w){var x,z,y,A,B,C;x=h[w];z=c(h,w,k);y=!!x.qg || "embedded" === x.type;A=!!m && !z && y && "embedded" !== x.type;B=0 === x.gn;x.gn > u && q.rf(("").concat(l,"-").concat(w),{N:l,rb:u,yb:x.gn,type:e.gd.content});y || q.IOb();!A || B && !p || q.rf(("padstart-").concat(w),{N:b.yu,rb:0,yb:m,type:e.gd.padding});u=x.gn;if(z)"embedded" === x.type && x.duration.greaterThan(d.K.wa) && (u=z=x.gn + x.duration.H);else if("embedded" === x.type && x.duration.greaterThan(d.K.wa))(z=x.location.add(x.duration).H,q.rf(("ad-").concat(w,"-").concat(0),{N:l,rb:x.gn,yb:z,type:e.gd.Kb}),u=z);else if(x.qg){C=null === k || void 0 === k?void 0:k[w];x.qg.forEach(function(D,E){var F;F=!1;Array.isArray(C) && (F=-1 < C.indexOf(E));F || q.rf(("ad-").concat(w,"-").concat(E),{N:D.id,rb:D.rb,yb:D.yb,type:e.gd.qd});});A && q.rf(("padend-").concat(w),{N:b.yu,rb:0,yb:m,type:e.gd.padding});}}void 0 === m && (m=0);void 0 === p && (p=!1);for(var q=new f(),u=0,t=0;t < h.length;++t)v(t);q.rf(("").concat(l,"-").concat(h.length),{N:l,rb:u,yb:null,type:e.gd.content});return q.ai();};n=a(5163);d=a(91176);g=a(48456);e=a(58304);b.yu=-1;f=(function(){function l(){this.Za=new g.Au();}l.prototype.rf=function(h,k){var m,p,v;this.ML || (this.ML=h);if(this.WH){p=n.__read(this.WH,2);v=p[0];p=p[1];p.Gc=h;p.next=(m={},m[h]={},m);p.type === e.gd.content && -1 < [e.gd.qd,e.gd.padding].indexOf(k.type) && (p.Tm=!0);k.type === e.gd.content && (-1 < [e.gd.qd,e.gd.padding].indexOf(p.type) || p.Tm) && (k.jr=!0);this.Za.rf(v,p);}this.WH=[h,k];};l.prototype.IOb=function(){var h,k;if(this.WH){h=n.__read(this.WH,2);k=h[0];h=h[1];h.type === e.gd.content && (h.Tm=!0);this.Za.rf(k,h);this.WH=[k,h];}};l.prototype.ai=function(){var h;if(this.WH){h=n.__read(this.WH,2);this.Za.rf(h[0],h[1]);}this.WH=void 0;this.ML && this.Za.dE(this.ML);return this.Za.ai();};return l;})();},40071:function(r,b,a){var f;function c(l){return Object.keys(l.segments).some(function(h){return void 0 !== e(l.segments[h]);});}function n(l){return "delayedSeamless" === l?"lazy":l;}function d(l){return Object.keys(l).reduce(function(h,k){var m,p;m=l[k];p=m.weight;m=m.transitionType || m.transitionHint;k=h[k]={};void 0 !== p && (k.weight=p);m && (k.jd=n(m));return h;},{});}function g(l){var h,k;h=Object.keys(l);k=h.length;return k?h.reduce(function(m,p){return m + (l[p].weight || 0);},0) / k:void 0;}function e(l){var h;if(l.ui){h=l.ui.interactionZones;if((null === h || void 0 === h?0:h.length) && h[0].length)return h[0][0] - l.startTimeMs;l=l.ui.interactionZonesV2;if((null === l || void 0 === l?0:l.length) && l[0].length)return l[0][0];}else if(void 0 !== l.earliestSkipRequestOffset)return l.earliestSkipRequestOffset;}Object.defineProperties(b,{__esModule:{value:!0}});b.dBa=function(l,h){var k,m,p,v,q,u;k=void 0 === h?{}:h;h=k.Zg;m=k.Cf;p=k.ba;k=k.config;v=!(!k || -1 === k.REa.indexOf(l.viewableId));q=c(l)?0:(null === k || void 0 === k?void 0:k.QEa) || 0;k=new f.Au();u=p || l.segments;k.dE(null !== m && void 0 !== m?m:l.initialSegment).uPa(h || l.mediaTypes).Kla(v?"immediate":n(l.transitionType)).BPa(Object.keys(u).reduce(function(t,w){var x,z,y,A,B,C;x=u[w];if(null === (z=x.weight) || void 0 === z){z=x.next && (v || (null === (A=x.exitZones) || void 0 === A?0:A.length))?g(x.next):void 0;}A=z;if(z=x.exitZones)B=void 0;else a:{if(v && x.endTimeMs){B=x.endTimeMs - x.startTimeMs;C=e(x);if(C && C < B){B=[[C,B]];break a;}if(q && B > q){B=[[B - q,B]];break a;}}B=void 0;}C=v?B?void 0:x.transitionHint || "lazy":x.transitionHint;A={N:l.viewableId,rb:x.startTimeMs,yb:null !== (y=x.endTimeMs) && void 0 !== y?y:Infinity,jd:n(C),Sm:z || B,weight:A};x.defaultNext && (A.Gc=x.defaultNext);x.next && (A.next=d(x.next));t[w]=A;return t;},{}));return k.ai();};f=a(48456);},31021:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.oHc=function(n){var d,g,e,f,l,h;d=n.oMc;g=n.sm;n=n.i7;e=new c.Au();f=n.split(" ");l=/\d+/;h=new Map();g.forEach(function(k){h.set(k,0);});f.forEach(function(k,m){var p,v,q,u,t,w,x,z;w=Number(k.split(".")[0].match(l)[0]);x=Number(k.split(".")[1].match(l)[0]);w=g[w];k=h.get(w);z=("").concat(w,"-").concat(k);h.set(w,k + 1);x={N:w,rb:null !== (q=null === (v=d.get(w)) || void 0 === v?void 0:v[x]) && void 0 !== q?q:0,yb:null !== (t=null === (u=d.get(w)) || void 0 === u?void 0:u[x + 1]) && void 0 !== t?t:void 0};f.length > m + 1 && (v=Number(f[m + 1].split(".")[0].match(l)[0]),v=g[v],q=h.get(v),v=("").concat(v,"-").concat(q),x.Gc=v,x.next=(p={},p[v]={},p),h.set(w,k + 1));0 === m && e.dE(z);e.rf(z,x);});return e.ai();};c=a(48456);},79048:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(58304),b);r.__exportStar(a(48456),b);r.__exportStar(a(42405),b);r.__exportStar(a(40071),b);r.__exportStar(a(14999),b);r.__exportStar(a(43813),b);r.__exportStar(a(5293),b);r.__exportStar(a(86398),b);r.__exportStar(a(31021),b);r.__exportStar(a(7314),b);r.__exportStar(a(4152),b);r.__exportStar(a(22332),b);},4152:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$Eb=b.baa=void 0;b.gIa=function(a){return "immediate" === a;};r=(function(){function a(c,n,d){this.region=c;this.Ba=n;this.Ga=d;}a.prototype.toJSON=function(){return {region:this.region,ub:this.Ba.hy,cg:this.Ga.hy};};return a;})();b.baa=r;b.$Eb={uG:"forwards",Yza:"backwards",xI:"successors",KN:"predecessors",sL:"distance"};},22332:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(5163).__exportStar(a(4645),b);},5293:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.EIc=function(n,d){var g;return Object.keys(n.ba).some(function(e){var f;return null === (f=(g=n.ba[e]).next) || void 0 === f?void 0:f[d];})?g:void 0;};b.FIc=function(n,d){return (0,c.oc)(Object.keys(n.ba),function(g){var e;return null === (e=n.ba[g].next) || void 0 === e?void 0:e[d];});};b.CIc=function(n,d){return Object.keys(n.ba).filter(function(g){var e;return null === (e=n.ba[g].next) || void 0 === e?void 0:e[d];});};c=a(91176);},58304:function(r,b,a){var n,d;function c(g){return g.map(function(e){return [e[0],e[1]];});}Object.defineProperties(b,{__esModule:{value:!0}});b.gd=b.L$=void 0;b.XBa=function(g){var e,f,l,h,k,m,p,u,t,w,x,B;f=g.N;l=g.rb;h=g.Gc;if(g.next){k=g.next;p={};try{for(var v=n.__values(Object.keys(k)),q=v.next();!q.done;q=v.next()){u=q.value;t=u;w=k[u];x={};void 0 !== w.weight && (x.weight=w.weight);void 0 !== w.jd && (x.jd=w.jd);p[t]=x;}}catch(D){var z;z={error:D};}finally{try{q && !q.done && (m=v.return) && m.call(v);}finally{if(z)throw z.error;}}k=p;}else k=g.next;f={N:f,rb:l,Gc:h,next:k};try{for(var y=n.__values(d),A=y.next();!A.done;A=y.next()){B=A.value;void 0 !== g[B] && (f[B]=g[B]);}}catch(D){var C;C={error:D};}finally{try{A && !A.done && (e=y.return) && e.call(y);}finally{if(C)throw C.error;}}g.Sm && (f.Sm=c(g.Sm));return f;};n=a(5163);b.L$={video:"video",audio:"audio",text:"text"};b.gd={qd:"ad",Kb:"adBreak",content:"content",padding:"padding"};d=Object.keys({yb:void 0,playbackRate:void 0,weight:void 0,jd:void 0,oSa:void 0,type:void 0,jr:void 0,Tm:void 0});},48456:function(r,b,a){var n;function c(d,g){return Object.keys(d).reduce(function(e,f){return (e[g[f] || f]=d[f],e);},{});}Object.defineProperties(b,{__esModule:{value:!0}});b.Au=void 0;n=a(58304);r=(function(){function d(g){g && (this.dE(g.Cf),this.Kla(g.jd),this.BPa(g.ba));}d.prototype.dE=function(g){this.Cf=g;return this;};d.prototype.Kla=function(g){this.jd=g;return this;};d.prototype.uPa=function(g){this.Zg=g;return this;};d.prototype.rf=function(g,e,f){this.ba || (this.ba={});this.ba[g]=(0,n.XBa)(e);if(f){g=this.ba[g];if(e=g.next)g.next=c(e,f);g.Gc && f[g.Gc] && (g.Gc=f[g.Gc]);}return this;};d.prototype.BPa=function(g,e,f){void 0 === e && (e=function(){return !0;});this.ba={};return this.BOb(g,e,f);};d.prototype.BOb=function(g,e,f){var l;l=this;void 0 === e && (e=function(){return !0;});Object.keys(g).filter(function(h){return e(g[h],h);}).forEach(function(h){l.rf(h,g[h],f);});return this;};d.prototype.ai=function(){var g;if(!this.ba)throw Error("Invalid playgraph - `segments` is not defined");if(!this.Cf)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.ba[this.Cf])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");g={Cf:this.Cf,ba:this.ba};this.jd && (g.jd=this.jd);this.Zg && (g.Zg=this.Zg);return g;};return d;})();b.Au=r;},42405:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Hua=void 0;b.Hua=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.Cf,segments:a.RYb(c.ba)},void 0 !== c.jd?{transitionType:c.jd}:{});};a.encode=function(c){return Object.assign({Cf:c.initialSegment,ba:a.V0b(c.segments)},void 0 !== c.transitionType?{jd:c.transitionType}:{});};a.V0b=function(c){return Object.keys(c).reduce(function(n,d){n[d]=a.U0b(c[d]);return n;},{});};a.U0b=function(c){return Object.assign({N:c.viewableId,rb:c.startTimeMs},c.endTimeMs?{yb:c.endTimeMs}:{},c.defaultNext?{Gc:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{jd:c.transitionType}:{},c.next?{next:a.S0b(c.next)}:{},c.exitZones?{Sm:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.uxSegment?{oSa:c.uxSegment}:{},c.type?{type:c.type}:{},void 0 !== c.fadeIn?{jr:c.fadeIn}:{},void 0 !== c.fadeOut?{Tm:c.fadeOut}:{});};a.S0b=function(c){return Object.keys(c).reduce(function(n,d){n[d]=a.T0b(c[d]);return n;},{});};a.T0b=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{jd:c.transitionType}:{});};a.RYb=function(c){return Object.keys(c).reduce(function(n,d){n[d]=a.QYb(c[d]);return n;},{});};a.QYb=function(c){return Object.assign({viewableId:c.N,startTimeMs:c.rb},c.yb?{endTimeMs:c.yb}:{},c.Gc?{defaultNext:c.Gc}:{},c.weight?{weight:c.weight}:{},c.jd?{transitionType:c.jd}:{},c.next?{next:a.OYb(c.next)}:{},c.Sm?{exitZones:c.Sm}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.oSa?{uxSegment:c.oSa}:{},c.type?{type:c.type}:{},void 0 !== c.jr?{fadeIn:c.jr}:{},void 0 !== c.Tm?{fadeOut:c.Tm}:{});};a.OYb=function(c){return Object.keys(c).reduce(function(n,d){n[d]=a.PYb(c[d]);return n;},{});};a.PYb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.jd?{transitionType:c.jd}:{});};return a;})();},14999:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.bQa=function(n,d,g){var e;e=new c.Au();e.dE(d).Kla("lazy").uPa(g).rf(d,{N:n,rb:0,yb:Infinity});return e.ai();};c=a(48456);},43813:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.nNc=function(n,d,g){var e;e=new c.Au();e.dE("s0").Kla("immediate").uPa(g).rf("s0",{N:n,rb:0,yb:1E3 * d,weight:.5,next:{s1:{weight:.5}}}).rf("s1",{N:n,rb:1E3 * d,yb:Infinity});return e.ai();};c=a(48456);},43341:function(r,b,a){var d,g;function c(e,f){var l,m;try{for(var h=d.__values(e),k=h.next();!k.done;k=h.next()){m=k.value;if(m.N === f)return m;}}catch(v){var p;p={error:v};}finally{try{k && !k.done && (l=h.return) && l.call(h);}finally{if(p)throw p.error;}}}function n(e,f){var l,h,k;return d.__generator(this,function(m){switch(m.label){case 0:(l=e,h=function(){var p;return d.__generator(this,function(v){switch(v.label){case 0:return [4,l];case 1:return (v.va(),l=(p=null !== (k=l.Gc) && void 0 !== k?k:void 0)?(0,g.oc)(f,function(q){return q.id === p;}):void 0,[2]);}});},m.label=1);case 1:return l?[5,h()]:[3,3];case 2:return (m.va(),[3,1]);case 3:return [2];}});}Object.defineProperties(b,{__esModule:{value:!0}});b.Mua=void 0;d=a(5163);g=a(91176);r=(function(){function e(f,l,h){void 0 === h && (h={});this.upper=f;this.lower=l;this.eSa=h;}e.prototype.KI=function(f){return this.eSa[f];};e.prototype.tL=function(f){var l;l=this;return Object.keys(this.eSa).filter(function(h){return l.eSa[h] === f;});};e.prototype.Bqc=function(f){return (f=this.KI(f.id))?this.upper.get(f):void 0;};e.prototype.uqc=function(f){var l;l=this;return this.tL(f.id).map(function(h){return l.lower.get(h);});};e.prototype.glc=function(f){var l,h,k,m,p;l=this;h=this.lower.get(f.L);(0,g.assert)(h && h.TUb(f.offset));k=this.Bqc(h);if(k){if(k.N === h.N)return (f=k.nNa(h.cpb(f.offset)),{L:k.id,offset:f});if(f.offset.equal(g.K.wa) && 0 === d.__spreadArray([],d.__read(this.lower.zD.KN(f.L)),!1).filter(function(v){return l.KI(v.id) === k.id;}).length)return {L:k.id,offset:g.K.wa};if(0 === d.__spreadArray([],d.__read(this.lower.zD.xI(f.L)),!1).filter(function(v){return l.KI(v.id) === k.id;}).length)return {L:k.id,offset:k.Ob};(0,g.assert)(h.kc.isFinite());m=c(this.lower.zD.uG(f.L),k.N);p=c(this.lower.zD.Yza(f.L),k.N);m=m?m.Db:k.kc;(0,g.assert)(m);p=p?p.kc:k.Db;(0,g.assert)(p);f=f.offset.Oe(h.Ob);f=p.add(m.ka(p).yg(f));f=k.nNa(f);return {L:k.id,offset:f};}};e.prototype.flc=function(f){var l,h,k,m,p,v,q,u,t,w,x,z,y,A,D,G,J,N,I,M;v=this.upper.get(f.L);(0,g.assert)(v);q=v.N;u=v.yab(f.offset);t=v.cpb(u);(0,g.assert)(t);w=this.uqc(v);x=w.filter(function(H){return H.N === q;}).filter(function(H){return H.luc(t);});if(x.length){z=x[0];return {L:z.id,offset:z.nNa(t)};}if(u.equal(g.K.wa) && !this.upper.w9b(f.L))return {L:w[0].id,offset:g.K.wa};if(u.equal(v.Ob) && !this.upper.A9b(f.L)){y=w[w.length - 1];return {L:y.id,offset:y.Ob};}A=new Set(w.map(function(H){return H.Gc;}).filter(function(H){return !!H;}));f=w.filter(function(H){return !A.has(H.id);});w=w.filter(function(H){return A.has(H.id);});try{for(var B=d.__values(f),C=B.next();!C.done;C=B.next()){D=d.__spreadArray([],d.__read(n(C.value,w)),!1);f=[];z=u=void 0;try{for(var E=(h=void 0,d.__values(D)),F=E.next();!F.done;F=E.next())(z=F.value,u && f.push({ju:u,M:z,F3:!1}),u=void 0,z.N === q?(f.push({ju:z.Db,M:z,F3:!1}),u=z.kc):0 === f.length && f.push({ju:v.Db,M:z,F3:!1}));}catch(H){h={error:H};}finally{try{F && !F.done && (k=E.return) && k.call(E);}finally{if(h)throw h.error;}}z && (u?f.push({ju:u,M:z,F3:!0}):f.push({ju:v.kc,M:z,F3:!0}));G=(0,g.Cza)(f,function(H){return H.ju.dn(t);});J=(0,g.oc)(f,function(H){return H.ju.eg(t);});if(G && J && G.ju.dn(t) && J.ju.eg(t)){if(G.M.id === J.M.id)return {L:G.M.id,offset:g.K.wa};if(G.ju.H === J.ju.H)return {L:J.M.id,offset:g.K.wa};N=t.ka(G.ju).Oe(J.ju.ka(G.ju));I=D.slice(D.indexOf(G.M),D.indexOf(J.M) + (J.F3?1:0));M=I.reduce(function(H,O){return H.add(O.Ob);},g.K.wa).yg(N);try{for(var K=(m=void 0,d.__values(I)),L=K.next();!L.done && (z=L.value,!M.lessThan(z.Ob));L=K.next())M=M.ka(z.Ob);}catch(H){m={error:H};}finally{try{L && !L.done && (p=K.return) && p.call(K);}finally{if(m)throw m.error;}}if(z && M.lessThan(null === z || void 0 === z?void 0:z.Ob))return {L:z.id,offset:M};}}}catch(H){y={error:H};}finally{try{C && !C.done && (l=B.return) && l.call(B);}finally{if(y)throw y.error;}}(0,g.assert)(!1,"Upper playgraph position should always map to something in lower playgraph");};return e;})();b.Mua=r;},26162:function(r,b,a){var n,d,g,e,f,l,h;function c(k){k=n.__spreadArray([],n.__read(k.zD.uG(k.initial.id)),!1);(0,d.assert)(k.every(function(m){return 1 >= m.xI;}),"Must be linear playgraph");return k;}Object.defineProperties(b,{__esModule:{value:!0}});b.tfc=function(k,m){var p,v,q,u,t,w,x,z,y,A,B,C,D,E,J,N,I,M,H,O,P,Q;w={};x={};z={};y=c(m);A=k.zE;B=m.zE;A=(0,d.IPb)(A,B);(0,d.assert)(1 === A.length,"Playgraphs to be merged should have exactly one shared viewable");C=A[0];if(y.length){D=y[y.length - 1];D.N === C && Infinity !== D.yb && (y[y.length - 1]=D.extend(d.K.Qj));}E={};try{for(var F=n.__values(k.filter(function(fa){return fa.N === C;})),G=F.next();!G.done;G=F.next()){J=G.value;N=J.Db;I=J.kc;M=N.equal(d.K.wa)?1:0;A=[];try{for(var K=(v=void 0,n.__values(y)),L=K.next();!L.done;L=K.next()){H=L.value;O=B=void 0;H.N === C?0 === M?H.pda(N) && (O=(0,h.Lwb)(H,N,I),H.pda(I)?(B=("").concat(J.id),M=2):(B=("").concat(J.id,":").concat(H.id),M=1)):(B=("").concat(J.id,":").concat(H.id),H.pda(I)?(H.Db.lessThan(I) && (O=(0,h.Lwb)(H,N,I)),M=2):O=H):1 === M && (B=("").concat(J.id,":").concat(H.id),O=H);if(B && O && (w[B]=J.id,x[B]=H.id,A.length || (z[J.id]=B),A.push({id:B,w7:O}),1 < A.length)){P=n.__read(A.slice(-2),2);Q=P[0];D=P[1];Q.w7=n.__assign(n.__assign({},(0,g.XBa)(Q.w7)),{Gc:D.id,next:(u={},u[D.id]={},u)});}if(2 === M){A.length && (D=A[A.length - 1],D.w7=n.__assign(n.__assign({},(0,g.XBa)(D.w7)),{Gc:J.Gc,next:J.next}));break;}}}catch(fa){v={error:fa};}finally{try{L && !L.done && (q=K.return) && q.call(K);}finally{if(v)throw v.error;}}A.forEach(function(fa){return E[fa.id]=fa.w7;});}}catch(fa){var S;S={error:fa};}finally{try{G && !G.done && (p=F.return) && p.call(F);}finally{if(S)throw S.error;}}try{for(var X=n.__values(k.filter(function(fa){return fa.N !== C;})),W=X.next();!W.done;W=X.next())(J=W.value,E[J.id]=J,w[J.id]=J.id);}catch(fa){var V;V={error:fa};}finally{try{W && !W.done && (t=X.return) && t.call(X);}finally{if(V)throw V.error;}}S=l.dC.create(new e.Au().BPa(E,function(){return !0;},z).dE(z[k.initial.id] || k.initial.id).ai());k=new f.Mua(k,S,w);m=new f.Mua(m,S,x);return {ria:S,Dcc:k,Fpc:m};};n=a(5163);d=a(91176);g=a(58304);e=a(48456);f=a(43341);l=a(7314);h=a(48781);},7314:function(r,b,a){var n,d,g,e,f;function c(l,h){var k,m,p;if(l=l.get(h)){if(l.Gc && 0 !== (null === (m=null === (k=l.next) || void 0 === k?void 0:k[l.Gc]) || void 0 === m?void 0:m.WD))return l.Gc;if(l.next){p=l.next;k=Object.keys(p);return (m=k.reduce(function(v,q){var u;u=n.__read(v,2);v=u[0];u=u[1];return p[q].WD > u?[q,p[q].WD]:[v,u];},[void 0,0])[0])?m:k[0];}}}Object.defineProperties(b,{__esModule:{value:!0}});b.dC=void 0;n=a(5163);d=a(91176);g=a(48781);e=a(26162);r=(function(){function l(h){this.Z=h;}l.create=function(h){return new f(h);};l.update=function(h,k){return new f(k).S_(h);};l.em=function(h,k){var m,p;m=(0,e.tfc)(h,k);k=m.ria;p=m.Dcc;m=m.Fpc;h.Frc(k,p);k.Orc(h,p);return {ria:k,mapping:m};};return l;})();b.dC=r;f=(function(l){function h(k){var m,p;m=l.call(this,k) || this;m.pna=new WeakMap();m.a5=new Map();(0,d.assert)(k.Cf,"Playgraph must have an initial segment");p=m.get(k.Cf);(0,d.assert)(p,("Could not find initial segment ").concat(k.Cf," in playgraph"));m.initial=p;m.zD={xI:m.Wkb.bind(m),KN:m.EIa.bind(m),uG:m.Vkb.bind(m),Yza:m.Ukb.bind(m),sL:m.Mbc.bind(m)};m.sOc={xI:m.lP.bind(m),KN:m.Dyc.bind(m),uG:m.Cyc.bind(m),Yza:m.Ayc.bind(m),sL:m.Byc.bind(m)};m.hib=new d.RVa(function(v){return Object.keys(v.next || ({})).map(function(q){return {gyc:m.get(q),weight:v.Ob.H};});});return m;}n.__extends(h,l);Object.defineProperties(h.prototype,{zE:{get:function(){return this.oNb || (this.oNb=this.J8b());},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Dib:{get:function(){return !!this.Eja;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ljb:{get:function(){var k;return null === (k=this.Mga) || void 0 === k?void 0:k.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{NLa:{get:function(){var k;return null === (k=this.Eja) || void 0 === k?void 0:k.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{q5:{get:function(){var k;return (null === (k=this.NLa) || void 0 === k?void 0:k.q5) || this;},enumerable:!1,configurable:!0}});h.prototype.S_=function(k){var m,p,u,t;p=this.Z.ba;try{for(var v=n.__values(Object.keys(p)),q=v.next();!q.done;q=v.next()){u=q.value;if(k.Jib(u)){t=p[u];this.Fmb(u,t,k.get(u));k.a5.has(t.N) && this.normalize(t.N,k.a5.get(t.N));}}}catch(x){var w;w={error:x};}finally{try{q && !q.done && (m=v.return) && m.call(v);}finally{if(w)throw w.error;}}return this;};h.prototype.has=function(k){return !!this.Z.ba[k];};h.prototype.get=function(k){var m;m=this.Z.ba[k];if(m)return this.pna.get(m) || this.Fmb(k,m);};h.prototype.entries=function(){var k,m,p,v,q,u;return n.__generator(this,function(t){switch(t.label){case 0:(t.Ke.push([0,5,6,7]),k=n.__values(Object.keys(this.Z.ba)),m=k.next(),t.label=1);case 1:if(m.done)return [3,4];p=m.value;return [4,[p,this.get(p)]];case 2:(t.va(),t.label=3);case 3:return (m=k.next(),[3,1]);case 4:return [3,7];case 5:return (v=t.va(),q={error:v},[3,7]);case 6:try{m && !m.done && (u=k.return) && u.call(k);}finally{if(q)throw q.error;}return [7];case 7:return [2];}});};h.prototype.forEach=function(k){var m;m=this;Object.keys(this.Z.ba).forEach(function(p){var v;v=m.get(p);k(v,p,m);});};h.prototype.keys=function(){return Object.keys(this.Z.ba).values();};h.prototype.values=function(){var k,m,p,v,q,u;return n.__generator(this,function(t){switch(t.label){case 0:(t.Ke.push([0,5,6,7]),k=n.__values(Object.keys(this.Z.ba)),m=k.next(),t.label=1);case 1:if(m.done)return [3,4];p=m.value;return [4,this.get(p)];case 2:(t.va(),t.label=3);case 3:return (m=k.next(),[3,1]);case 4:return [3,7];case 5:return (v=t.va(),q={error:v},[3,7]);case 6:try{m && !m.done && (u=k.return) && u.call(k);}finally{if(q)throw q.error;}return [7];case 7:return [2];}});};h.prototype.normalize=function(k,m){var p,v;p=this;this.a5.set(k,m);this.e3b(function(q){q.N === k && p.Fob(q);});this.Dib && (null === (v=this.NLa) || void 0 === v?void 0:v.normalize(k,m));};h.prototype.Tia=function(k,m,p){this.Jib(k) && this.get(k).normalize(m,p);};h.prototype.filter=function(k){var m,p,v,q,u,t;return n.__generator(this,function(w){switch(w.label){case 0:(w.Ke.push([0,5,6,7]),m=n.__values(Object.keys(this.Z.ba)),p=m.next(),w.label=1);case 1:if(p.done)return [3,4];v=p.value;return k(this.Z.ba[v])?[4,this.get(v)]:[3,3];case 2:(w.va(),w.label=3);case 3:return (p=m.next(),[3,1]);case 4:return [3,7];case 5:return (q=w.va(),u={error:q},[3,7]);case 6:try{p && !p.done && (t=m.return) && t.call(m);}finally{if(u)throw u.error;}return [7];case 7:return [2];}});};h.prototype.dk=function(k,m){var p,v,q,u;k=this.get(k);p=null === k || void 0 === k?void 0:k.next;if(p){Object.keys(m).forEach(function(t){var w;w=p[t];w && (w.weight=m[t]);});v=(0,g.qSb)(p);q=v.Wob;u=v.Qwb;Object.keys(p).forEach(function(t){if(t=p[t])t.WD=(0,g.pSb)(t.weight,q,u);});}null === k || void 0 === k?void 0:k.dk(m);};h.prototype.Xkb=function(k,m){var p,v;return n.__generator(this,function(q){switch(q.label){case 0:(p=m,q.label=1);case 1:return p?(v=this.get(p))?[4,v]:[3,3]:[3,3];case 2:return (q.va(),p=k(this,p),[3,1]);case 3:return [2];}});};h.prototype.A9b=function(k){k=this.Z.ba[k];return !!(k && k.next && Object.keys(k.next).length);};h.prototype.w9b=function(k){k=this.get(k);return !(!k || !this.qhb(k).length);};h.prototype.Frc=function(k,m){this.Mga={Z:k,mapping:m};};h.prototype.Orc=function(k,m){this.Eja={Z:k,mapping:m};};h.prototype.ST=function(k){var m;return null === (m=this.Eja) || void 0 === m?void 0:m.mapping.KI(k);};h.prototype.v4=function(k){return this.Dib?(k=this.ST(k)) && this.NLa.v4(k):k;};h.prototype.rec=function(k){var m;return null === (m=this.Eja) || void 0 === m?void 0:m.mapping.glc(k);};h.prototype.qec=function(k){var m;return null === (m=this.Mga) || void 0 === m?void 0:m.mapping.flc(k);};h.prototype.Jib=function(k){return (k=this.Z.ba[k]) && this.pna.has(k);};h.prototype.Wkb=function(k){var m,p,v,q,u,t,w;return n.__generator(this,function(x){switch(x.label){case 0:m=this.Z.ba[k];if(!m || !m.next)return [3,8];x.label=1;case 1:(x.Ke.push([1,6,7,8]),p=n.__values(Object.keys(m.next)),v=p.next(),x.label=2);case 2:if(v.done)return [3,5];q=v.value;return [4,this.get(q)];case 3:(x.va(),x.label=4);case 4:return (v=p.next(),[3,2]);case 5:return [3,8];case 6:return (u=x.va(),t={error:u},[3,8]);case 7:try{v && !v.done && (w=p.return) && w.call(p);}finally{if(t)throw t.error;}return [7];case 8:return [2];}});};h.prototype.lP=function(k,m,p){this.kna(this.Wkb(k),m,p);};h.prototype.EIa=function(k){var m,p,v,q,u,t,w;return n.__generator(this,function(x){switch(x.label){case 0:m=this.get(k);if(!m)return [3,8];x.label=1;case 1:(x.Ke.push([1,6,7,8]),p=n.__values(this.qhb(m)),v=p.next(),x.label=2);case 2:if(v.done)return [3,5];q=v.value;return [4,this.get(q)];case 3:(x.va(),x.label=4);case 4:return (v=p.next(),[3,2]);case 5:return [3,8];case 6:return (u=x.va(),t={error:u},[3,8]);case 7:try{v && !v.done && (w=p.return) && w.call(p);}finally{if(t)throw t.error;}return [7];case 8:return [2];}});};h.prototype.Dyc=function(k,m,p){this.kna(this.EIa(k),m,p);};h.prototype.kna=function(k,m,p){var v,q,w,x,z;q=!0;try{for(var u=n.__values(k),t=u.next();!t.done;t=u.next()){w=t.value;x=m(w,z,this,p);q=x.lP;p=x.state;if(!q)break;z=w;}}catch(A){var y;y={error:A};}finally{try{t && !t.done && (v=u.return) && v.call(u);}finally{if(y)throw y.error;}}};h.prototype.Vkb=function(k){return this.Xkb(c,k);};h.prototype.Cyc=function(k,m,p){this.kna(this.Vkb(k),m,p);};h.prototype.Ukb=function(k){var m,p;return n.__generator(this,function(v){switch(v.label){case 0:(m=this.get(k),v.label=1);case 1:if(!m)return [3,3];p=n.__spreadArray([],n.__read(this.EIa(m.id)),!1);if(0 === p.length)return [3,3];m=1 === p.length?p[0]:(0,d.oc)(p,function(q){return q.Gc === k;}) || p[0];return [4,m];case 2:return (v.va(),[3,1]);case 3:return [2];}});};h.prototype.Ayc=function(k,m,p){this.kna(this.Ukb(k),m,p);};h.prototype.Mbc=function(){(0,d.assert)(!1,"Not implemented");};h.prototype.Byc=function(k,m,p){var v;v=this;k=this.get(k);(0,d.assert)(k,"Segment not found in playgraph");this.hib.Mzb(k,function(q,u,t,w){return m(q,t,v,w);},p);};h.prototype.Fmb=function(k,m,p){k=new g.P5a(k,m,this.Z.jd || "lazy",p);!k.ln && this.a5.has(m.N) && this.Fob(k);this.pna.set(m,k);return k;};h.prototype.e3b=function(k){var m;m=this;Object.keys(this.Z.ba).forEach(function(p){var v;v=m.pna.get(m.Z.ba[p]);v && k(v,p);});};h.prototype.Fob=function(k){var m;m=this.a5.get(k.N);m && k.normalize(m(k.rb),m(k.yb));};h.prototype.J8b=function(){var k;k=this;return (0,d.H9a)(Object.keys(this.Z.ba).map(function(m){return k.Z.ba[m].N;}));};h.prototype.qhb=function(k){var p;if(!k.KN){k.KN=[];for(var m in this.Z.ba){p=this.Z.ba[m].next;p && (k.id in p) && k.KN.push(m);}}return k.KN;};return h;})(r);},48781:function(r,b,a){var f,l,h,k,m;function c(p,v,q){var u,t,w,x;if(p.next){u=(null === q || void 0 === q?0:q.next)?d(p.next,q.next):p.next;p=g(u);t=p.Qwb;w=p.Wob;x={};p.wA.forEach(function(z){x[z]=new m(u[z],w,t,v);});return x;}}function n(p,v){if("immediate" !== p)return 1;p=v.next?Object.keys(v.next):[];if(p.some(function(q){return void 0 !== v.next[q].weight;})){if(void 0 === v.weight)return 0;p=v.weight + p.reduce(function(q,u){return q + (v.next[u].weight || 0);},0);return v.weight / p;}return 1 / (p.length + 1);}function d(p,v){var q,u,x;u={};try{for(var t=f.__values(Object.keys(p)),w=t.next();!w.done;w=t.next()){x=w.value;u[x]=v[x] || p[x];}}catch(y){var z;z={error:y};}finally{try{w && !w.done && (q=t.return) && q.call(t);}finally{if(z)throw z.error;}}return u;}function g(p){var v,q,u;v=Object.keys(p);q=v.every(function(t){return void 0 === p[t].weight;})?void 0:v.reduce(function(t,w){return t + (p[w].weight || 0);},0);u=void 0 === q?v.length:v.reduce(function(t,w){return t + (p[w].weight?1:0);},0);return {wA:v,Wob:u,Qwb:q};}function e(p,v,q){return void 0 === q?1 / v:0 === q?void 0 === p?1 / v:0:void 0 === p?0:p / q;}Object.defineProperties(b,{__esModule:{value:!0}});b.WJb=b.P5a=void 0;b.Lwb=function(p,v,q){return f.__assign(f.__assign({},p.M),{rb:l.K.max(v,p.Db).H,yb:l.K.min(q,p.kc).H});};b.XKc=c;b.LGc=n;b.uLc=d;b.qSb=g;b.pSb=e;f=a(5163);l=a(91176);h=a(4152);k=a(58304);r=(function(){function p(v,q,u,t){var w,x;w=this;this.id=v;this.M=q;this.ln=!1;this.nC={};this.aga=function(z){var y,A,B,C;return (null === (y=w.Xt) || void 0 === y?0:y.length)?"immediate":null !== (C=null === (B=null === (A=w.next) || void 0 === A?void 0:A[z]) || void 0 === B?void 0:B.jd) && void 0 !== C?C:w.jd;};this.zya=null !== (x=q.jd) && void 0 !== x?x:u;this.weight=t?t.weight:q.weight;this.Gc=null !== q.Gc?q.Gc:void 0;this.next=q.next?c(q,this.zya,t):void 0;this.WD=n(this.zya,this);this.Db=(this.ln=v=t?t.ln && t.yb === q.yb:!1)?t.Db:l.K.Pa(q.rb);this.kc=v?t.kc:l.K.Pa(q.yb || Infinity);this.Xt=t && v?t.Xt:void 0;this.dk();}Object.defineProperties(p.prototype,{N:{get:function(){return this.M.N;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{type:{get:function(){return this.M.type || k.gd.content;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{rb:{get:function(){return this.M.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{yb:{get:function(){return this.M.yb || Infinity;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{jr:{get:function(){return this.M.jr;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Tm:{get:function(){return this.M.Tm;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Sm:{get:function(){return this.M.Sm;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ob:{get:function(){var v,q;return null !== (q=null === (v=this.kc) || void 0 === v?void 0:v.ka(this.Db)) && void 0 !== q?q:l.K.Qj;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{xI:{get:function(){return this.next?Object.keys(this.next).length:0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{G7:{get:function(){return this.wA.length?!this.Gc && 0 === this.pU.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Yac:{get:function(){return !this.type || this.type === k.gd.content;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{wA:{get:function(){return Object.keys(this.next || ({}));},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ogc:{get:function(){return this.nC;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{pU:{get:function(){var v;v=this;return this.wA.filter(function(q){return !!v.nC[q];});},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{KQa:{get:function(){var v;return null !== (v=this.X7a) && void 0 !== v?v:this.X7a=this.CSb();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{nma:{get:function(){var v;return null !== (v=this.Y7a) && void 0 !== v?v:this.Y7a=this.DSb();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{au:{get:function(){return this.weight?this.weight / (this.weight + this.nma):1;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{jd:{get:function(){var v;return (null === (v=this.Xt) || void 0 === v?0:v.length)?"immediate":this.zya;},enumerable:!1,configurable:!0}});p.prototype.yab=function(v){return l.K.min(l.K.max(l.K.wa,v),this.Ob);};p.prototype.cpb=function(v){return this.Db.add(v);};p.prototype.nNa=function(v){return v.ka(this.Db);};p.prototype.luc=function(v){return v.greaterThan(this.Db) && v.lessThan(this.kc);};p.prototype.pda=function(v){return v.eg(this.Db) && v.dn(this.kc);};p.prototype.TUb=function(v){return v.eg(l.K.wa) && v.dn(this.Ob);};p.prototype.normalize=function(v,q){v && q && (this.Db=v.Yc(q.O),this.kc=q,this.ln=!0);};p.prototype.aSa=function(v){this.weight=v;this.WD=n(this.jd,this);};p.prototype.extend=function(v){this.kc=v;return this;};p.prototype.s9b=function(v){return !!(this.next && -1 < Object.keys(this.next).indexOf(v));};p.prototype.lgb=function(){var v;return this.pU.length?null !== (v=this.pU.map(this.aga).reduce(function(q,u){return q === u?u:void 0;})) && void 0 !== v?v:this.jd:this.jd;};p.prototype.oSb=function(v){var q,u;if(this.KQa){q=(this.nC[v] || 0) / this.KQa;if(void 0 === this.weight || 0 === this.nma)return {mg:q};u=this.au;return 1 !== u && (0,h.gIa)(this.aga(v)) && this.nC[v]?{mg:u * q,OG:this.nC[v] / this.nma * (1 - u)}:{mg:u * q};}return {mg:(null === (q=this.next) || void 0 === q?0:q[v])?1 / this.xI:0};};p.prototype.mvb=function(v){this.Xt=v;this.aAb();};p.prototype.dk=function(v){var q;if(this.next){q=this.next;this.nC=Object.keys(this.next).reduce(function(u,t){var w;w=v?v[t] || 0:q[t].weight;void 0 !== w && null !== w && 0 <= w && (u[t]=w);return u;},{});}else this.nC={};this.aAb();};p.prototype.CSb=function(){var v;v=this;return this.pU.reduce(function(q,u){return q + v.nC[u];},0);};p.prototype.DSb=function(){var v;v=this;return this.pU.filter(function(q){return (0,h.gIa)(v.aga(q));}).reduce(function(q,u){return q + v.nC[u];},0);};p.prototype.aAb=function(){this.Y7a=this.X7a=void 0;};p.prototype.toString=function(){var v;v=new l.P4a(this.Db,this.kc);return ("WSeg(").concat(this.id,") ").concat(v.toString(l.vQ.H),"v:").concat(this.N);};return p;})();b.P5a=r;m=(function(){return function(p,v,q,u){this.WD=0;this.jd=p.jd || u;this.weight=p.weight;this.WD=e(p.weight,v,q);};})();b.WJb=m;},75177:function(){},794:function(r,b,a){var c,n,d,g,e,f,l,h,k,m;c=a(67286)("%TypeError%");n=a(57017);d=a(32249);g=a(70126);e=a(38476);f=a(38733);l=a(80907);h=a(4);k=a(83891);m=a(18132);r.exports=function(p,v,q){if("Object" !== m(p))throw new c("Assertion failed: Type(O) is not Object");if(!l(v))throw new c("Assertion failed: IsPropertyKey(P) is not true");q=n({a5a:m,KYa:f,JYa:e},q)?q:k(q);if(!n({a5a:m,KYa:f,JYa:e},q))throw new c("Assertion failed: Desc is not a valid Property Descriptor");return d(f,h,g,p,v,q);};},70126:function(r,b,a){var c,n,d;c=a(10487);n=a(84902);d=a(18132);r.exports=function(g){"undefined" !== typeof g && c(d,"Property Descriptor","Desc",g);return n(g);};},38476:function(r,b,a){var c,n,d;c=a(23198);n=a(18132);d=a(10487);r.exports=function(g){if("undefined" === typeof g)return !1;d(n,"Property Descriptor","Desc",g);return c(g,"[[Get]]") || c(g,"[[Set]]")?!0:!1;};},83317:function(r,b,a){r.exports=a(9680);},20451:function(r,b,a){var c,n,d;c=a(90982)("%Reflect.construct%",!0);b=a(794);try{b({},"",{"[[Get]]":function(){}});}catch(g){b=null;}if(b && c){n={};d={};b(d,"length",{"[[Get]]":function(){throw n;},"[[Enumerable]]":!0});r.exports=function(g){try{c(g,d);}catch(e){return e === n;}};}else r.exports=function(g){return "function" === typeof g && !!g.prototype;};},38733:function(r,b,a){var c,n,d;c=a(23198);n=a(18132);d=a(10487);r.exports=function(g){if("undefined" === typeof g)return !1;d(n,"Property Descriptor","Desc",g);return c(g,"[[Value]]") || c(g,"[[Writable]]")?!0:!1;};},80907:function(r){r.exports=function(b){return "string" === typeof b || "symbol" === typeof b;};},77850:function(r,b,a){r.exports=a(94566);},4:function(r,b,a){var c;c=a(97911);r.exports=function(n,d){return n === d?0 === n?1 / n === 1 / d:!0:c(n) && c(d);};},99939:function(r,b,a){var c;c=a(97911);r.exports=function(n,d){return n === d || c(n) && c(d);};},88251:function(r,b,a){var c,n,d,g;b=a(67286);c=b("%Symbol.species%",!0);n=b("%TypeError%");d=a(20451);g=a(18132);r.exports=function(e,f){if("Object" !== g(e))throw new n("Assertion failed: Type(O) is not Object");e=e.constructor;if("undefined" === typeof e)return f;if("Object" !== g(e))throw new n("O.constructor is not an Object");e=c?e[c]:void 0;if(null == e)return f;if(d(e))return e;throw new n("no constructor found");};},14463:function(r){r.exports=function(b){return !!b;};},76113:function(r,b,a){var c,n,d,g,e,f;c=a(46382);n=a(26827);d=a(84583);g=a(97911);e=a(51832);f=a(79747);r.exports=function(l){var h;l=d(l);if(g(l) || 0 === l)return 0;if(!e(l))return l;h=n(c(l));return 0 === h?0:f(l) * h;};},69808:function(r,b,a){var c,n;c=a(74339);n=a(76113);r.exports=function(d){d=n(d);return 0 >= d?0:d > c?c:d;};},84583:function(r,b,a){var c,n,d,g,e,f,l,h,k,m,p,v,q;c=a(67286);n=c("%TypeError%");d=c("%Number%");b=c("%RegExp%");g=c("%parseInt%");e=a(62680);c=a(63671);f=a(45819);l=e("String.prototype.slice");h=c(/^0b[01]+$/i);k=c(/^0o[0-7]+$/i);m=c(/^[-+]0x[0-9a-f]+$/i);b=new b("[\u0085\u200b\ufffe]","g");p=c(b);v=a(11341);q=a(99197);r.exports=function w(t){var x;t=f(t)?t:q(t,d);if("symbol" === typeof t)throw new n("Cannot convert a Symbol value to a number");if("bigint" === typeof t)throw new n("Conversion from 'BigInt' to 'number' is not allowed.");if("string" === typeof t){if(h(t))return w(g(l(t,2),2));if(k(t))return w(g(l(t,2),8));if(p(t) || m(t))return NaN;x=v(t);if(x !== t)return w(x);}return d(t);};},48668:function(r,b,a){var c,n;c=a(67286)("%Object%");n=a(77850);r.exports=function(d){n(d);return c(d);};},99197:function(r,b,a){var c;c=a(5885);r.exports=function(n){return 1 < arguments.length?c(n,arguments[1]):c(n);};},83891:function(r,b,a){var c,n,d,g,e;c=a(23198);n=a(67286)("%TypeError%");d=a(18132);g=a(14463);e=a(83317);r.exports=function(f){var l,h;if("Object" !== d(f))throw new n("ToPropertyDescriptor requires an object");l={};c(f,"enumerable") && (l["[[Enumerable]]"]=g(f.enumerable));c(f,"configurable") && (l["[[Configurable]]"]=g(f.configurable));c(f,"value") && (l["[[Value]]"]=f.value);c(f,"writable") && (l["[[Writable]]"]=g(f.writable));if(c(f,"get")){h=f.get;if("undefined" !== typeof h && !e(h))throw new n("getter must be a function");l["[[Get]]"]=h;}if(c(f,"set")){f=f.set;if("undefined" !== typeof f && !e(f))throw new n("setter must be a function");l["[[Set]]"]=f;}if((c(l,"[[Get]]") || c(l,"[[Set]]")) && (c(l,"[[Value]]") || c(l,"[[Writable]]")))throw new n("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return l;};},18132:function(r,b,a){var c;c=a(96222);r.exports=function(n){return "symbol" === typeof n?"Symbol":"bigint" === typeof n?"BigInt":c(n);};},46382:function(r,b,a){var c;c=a(67286)("%Math.abs%");r.exports=function(n){return c(n);};},26827:function(r,b,a){var c,n;c=a(18132);n=Math.floor;r.exports=function(d){return "BigInt" === c(d)?d:n(d);};},80633:function(r,b,a){r.exports=a(94566);},24158:function(r,b,a){var c,n;b=a(67286);c=b("%String%");n=b("%TypeError%");r.exports=function(d){if("symbol" === typeof d)throw new n("Cannot convert a Symbol value to a string");return c(d);};},94566:function(r,b,a){var c;c=a(67286)("%TypeError%");r.exports=function(n,d){if(null == n)throw new c(d || "Cannot call method on " + n);return n;};},96222:function(r){r.exports=function(b){if(null === b)return "Null";if("undefined" === typeof b)return "Undefined";if("function" === typeof b || "object" === typeof b)return "Object";if("number" === typeof b)return "Number";if("boolean" === typeof b)return "Boolean";if("string" === typeof b)return "String";};},90982:function(r,b,a){r.exports=a(67286);},32249:function(r,b,a){var c,n,d,g,e;b=a(81181);c=a(67286);n=b() && c("%Object.defineProperty%",!0);d=b.j9b();g=d && a(27595);e=a(62680)("Object.prototype.propertyIsEnumerable");r.exports=function(f,l,h,k,m,p){if(!n){if(!f(p) || !p["[[Configurable]]"] || !p["[[Writable]]"] || (m in k) && e(k,m) !== !!p["[[Enumerable]]"])return !1;f=p["[[Value]]"];k[m]=f;return l(k[m],f);}if(d && "length" === m && ("[[Value]]" in p) && g(k) && k.length !== p["[[Value]]"])return (k.length=p["[[Value]]"],k.length === p["[[Value]]"]);n(k,m,h(p));return !0;};},27595:function(r,b,a){var c;b=a(67286)("%Array%");c=!b.isArray && a(62680)("Object.prototype.toString");r.exports=b.isArray || (function(n){return "[object Array]" === c(n);});},10487:function(r,b,a){var c,n,d,g,e;b=a(67286);c=b("%TypeError%");n=b("%SyntaxError%");d=a(23198);g=a(90748);e={"Property Descriptor":function(f){var l;l={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};if(!f)return !1;for(var h in f)if(d(f,h) && !l[h])return !1;l=d(f,"[[Value]]");f=d(f,"[[Get]]") || d(f,"[[Set]]");if(l && f)throw new c("Property Descriptors may not be both accessor and data descriptors");return !0;},"Match Record":a(40508),"Iterator Record":function(f){return d(f,"[[Iterator]]") && d(f,"[[NextMethod]]") && d(f,"[[Done]]");},"PromiseCapability Record":function(f){return !!f && d(f,"[[Resolve]]") && "function" === typeof f["[[Resolve]]"] && d(f,"[[Reject]]") && "function" === typeof f["[[Reject]]"] && d(f,"[[Promise]]") && f["[[Promise]]"] && "function" === typeof f["[[Promise]]"].then;},"AsyncGeneratorRequest Record":function(f){return !!f && d(f,"[[Completion]]") && d(f,"[[Capability]]") && e["PromiseCapability Record"](f["[[Capability]]"]);},"RegExp Record":function(f){return f && d(f,"[[IgnoreCase]]") && "boolean" === typeof f["[[IgnoreCase]]"] && d(f,"[[Multiline]]") && "boolean" === typeof f["[[Multiline]]"] && d(f,"[[DotAll]]") && "boolean" === typeof f["[[DotAll]]"] && d(f,"[[Unicode]]") && "boolean" === typeof f["[[Unicode]]"] && d(f,"[[CapturingGroupsCount]]") && "number" === typeof f["[[CapturingGroupsCount]]"] && g(f["[[CapturingGroupsCount]]"]) && 0 <= f["[[CapturingGroupsCount]]"];}};r.exports=function(f,l,h,k){var m;m=e[l];if("function" !== typeof m)throw new n("unknown record type: " + l);if("Object" !== f(k) || !m(k))throw new c(h + " must be a " + l);};},84902:function(r){r.exports=function(b){var a;if("undefined" === typeof b)return b;a={};("[[Value]]" in b) && (a.value=b["[[Value]]"]);("[[Writable]]" in b) && (a.writable=!!b["[[Writable]]"]);("[[Get]]" in b) && (a.get=b["[[Get]]"]);("[[Set]]" in b) && (a.set=b["[[Set]]"]);("[[Enumerable]]" in b) && (a.enumerable=!!b["[[Enumerable]]"]);("[[Configurable]]" in b) && (a.configurable=!!b["[[Configurable]]"]);return a;};},51832:function(r,b,a){var c;c=a(97911);r.exports=function(n){return ("number" === typeof n || "bigint" === typeof n) && !c(n) && Infinity !== n && -Infinity !== n;};},90748:function(r,b,a){var c,n,d,g;b=a(67286);c=b("%Math.abs%");n=b("%Math.floor%");d=a(97911);g=a(51832);r.exports=function(e){if("number" !== typeof e || d(e) || !g(e))return !1;e=c(e);return n(e) === e;};},40508:function(r,b,a){var c;c=a(23198);r.exports=function(n){return c(n,"[[StartIndex]]") && c(n,"[[EndIndex]]") && 0 <= n["[[StartIndex]]"] && n["[[EndIndex]]"] >= n["[[StartIndex]]"] && String(parseInt(n["[[StartIndex]]"],10)) === String(n["[[StartIndex]]"]) && String(parseInt(n["[[EndIndex]]"],10)) === String(n["[[EndIndex]]"]);};},97911:function(r){r.exports=Number.isNaN || (function(b){return b !== b;});},45819:function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},57017:function(r,b,a){var c,n;b=a(67286);c=a(23198);n=b("%TypeError%");r.exports=function(d,g){var e,f;if("Object" !== d.a5a(g))return !1;e={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(f in g)if(c(g,f) && !e[f])return !1;if(d.KYa(g) && d.JYa(g))throw new n("Property Descriptors may not be both accessor and data descriptors");return !0;};},74339:function(r){r.exports=Number.MAX_SAFE_INTEGER || 9007199254740991;},79747:function(r){r.exports=function(b){return 0 <= b?1:-1;};}};ta={};(function(){ja.d=function(r,b){for(var a in b)ja.Yob(b,a) && !ja.Yob(r,a) && Object.defineProperty(r,a,{enumerable:!0,get:b[a]});};})();(function(){ja.LS=(function(){if("object" === typeof globalThis)return globalThis;try{return this || new Function("return this")();}catch(r){if("object" === typeof Ba)return Ba;}})();})();(function(){ja.Yob=function(r,b){return Object.prototype.hasOwnProperty.call(r,b);};})();(function(){ja.r=function(r){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});Object.defineProperty(r,"__esModule",{value:!0});};})();ja(28660);ja(26860)();ja(65574)();Ba._cad_global={};Ba.DEBUG=!1;ja(33096);ja(22365);ja(32687);ja(3887);ja(52569);ja(8825);ja(87051);ja(22894);ja(32219);ja(24066);ja(45146);ja(94886);ja(37509);ja(2734);ja(77705);ja(31298);ja(37353);ja(981);ja(73100);ja(7953);ja(15531);ja(97154);ja(33579);ja(50350);ja(75876);ja(19630);ja(59416);ja(50040);ja(70);ja(29204);ja(99732);ja(52828);ja(1481);ja(61726);ja(24427);ja(62604);ja(78857);ja(74413);ja(84281);ja(991);ja(46493);ja(24674);ja(93114);ja(36792);ja(43422);ja(74098);ja(86258);ja(18128);ja(45526);ja(90762);ja(73056);ja(67263);ja(53754);ja(20318);ja(70632);ja(59032);ja(45706);ja(3390);ja(2898);ja(76563);ja(39480);ja(13044);ja(62439);ja(6305);ja(42654);ja(78719);ja(59405);ja(58343);ja(59219);ja(61524);ja(13777);ja(41325);ja(42433);ja(30689);ja(66093);})();}).call(Ba);})(window);}).call(window);